{"version":3,"sources":["containers/Settings/Graph/styles.module.css","renderJson/renderTypes/styles.module.css","containers/AppLayout/styles.module.css","containers/Document/testing/scratch.module.css","containers/Settings/styles.module.css","containers/CustomQuestion/styles.module.css","containers/AppLayout/Preview.js","containers/AppLayout/SideBar.js","containers/AppLayout/StatusBar.js","containers/AppLayout/TopBar.js","containers/AppLayout/Wrapper.js","actions/document.js","renderJson/renderTypes/VectorGraphics/react-svgplot/Style.js","renderJson/renderTypes/VectorGraphics/react-svgplot/Overlay.js","renderJson/renderTypes/VectorGraphics/react-svgplot/Canvas.js","renderJson/renderTypes/VectorGraphics/react-svgplot/Grid.js","renderJson/renderTypes/VectorGraphics/react-svgplot/Label.js","renderJson/renderTypes/VectorGraphics/react-svgplot/Shapes.js","renderJson/renderTypes/VectorGraphics/react-svgplot/Transform.js","renderJson/renderTypes/VectorGraphics/funcs.js","renderJson/renderTypes/VectorGraphics/Path.js","renderJson/renderTypes/VectorGraphics/AngleMark.js","renderJson/renderTypes/VectorGraphics/Clip.js","renderJson/renderTypes/VectorGraphics/CoordinatePlane.js","renderJson/renderTypes/VectorGraphics/Grid.js","renderJson/renderTypes/VectorGraphics/Layer.js","renderJson/renderTypes/VectorGraphics/Functions.js","renderJson/renderTypes/VectorGraphics/Style.js","renderJson/renderTypes/VectorGraphics/index.js","renderJson/renderTypes/EmptySpace.js","renderJson/renderTypes/katexMath.js","renderJson/renderTypes/Markdown.js","renderJson/renderTypes/Math.js","renderJson/renderTypes/PageHeader.js","renderJson/renderTypes/Question.js","renderJson/renderTypes/Table.js","renderJson/renderTypes/Text.js","renderJson/renderTypes/index.js","renderJson/renderTypes/AnswerSpace.js","renderJson/renderTypes/Container.js","renderJson/renderTypes/List.js","renderJson/renderTypes/RenderError.js","renderJson/renderTypes/VegaLite.js","renderJson/renderJson.js","renderJson/editJson/DefaultEditor.js","renderJson/editJson/EditPageHeader.js","renderJson/editJson/EditQuestion.js","renderJson/editJson/index.js","renderJson/editJson/EditText.js","renderJson/index.js","containers/Document/TopLevelElement.js","containers/Document/pagesize.js","containers/Document/MeasuredPage.js","containers/Document/Page.js","containers/Document/AnswerKey.js","questions/tools/random_randomjs.js","questions/QGen.js","questions/tools/QuadTree.js","questions/generatortests.js","containers/Document/testing/FontTest.js","containers/Document/Document.js","containers/Document/testing/scratchpage.js","actions/config.js","containers/Settings/Font/AddLocalFont.js","containers/Settings/Font/FontFamilyUI.js","actions/style.js","containers/Settings/Font/FontFamilyInput.js","containers/Settings/Font/FontFamilySelect.js","containers/Settings/Font/FontFamily.js","containers/Settings/Font/FontSize.js","containers/Settings/Font/FontLoader.js","containers/Settings/Font/MathFontSettings.js","containers/Settings/Font/TextPreview.js","containers/Settings/Font/index.js","containers/Settings/Font/FontSettings.js","containers/CustomQuestion/LatexExamples.js","containers/CustomQuestion/GraphMaker.js","containers/CustomQuestion/CustomQuestion.js","containers/CustomQuestion/index.js","containers/Notes.js","containers/Debug/CheckState.js","containers/Settings/Graph/GraphStyle.js","containers/Settings/Graph/GraphPreview.js","containers/Settings/Graph/GraphSettings.js","containers/Settings/Graph/index.js","containers/Settings/Page/PageMargin.js","containers/Settings/Page/PageSize.js","containers/Settings/Page/PageMargins.js","containers/Settings/Page/index.js","containers/Settings/Page/PageSettings.js","containers/Settings/UI/GUImode.js","containers/Settings/UI/PreviewZoom.js","containers/Settings/UI/UITheme.js","containers/Settings/UI/index.js","containers/Settings/UI/UISettings.js","containers/Settings/SettingsPage.js","containers/Settings/AllowEditing.js","containers/Settings/AnswerKeyToggle.js","containers/Settings/FixPagination.js","containers/Settings/StartNumbering.js","containers/Settings/index.js","questions/tools/handystuff.js","questions/examplequestions.js","questions/geometry.js","questions/transformations.js","questions/trigonometry.js","questions/picofermi.js","containers/GeneratorMenu/questionbank.js","containers/GeneratorMenu/OldVersion.js","containers/GeneratorMenu/QuestionSearch.js","containers/App.js","containers/Root.js","reducers/document.js","reducers/config.js","reducers/style.js","reducers/index.js","App.js","initialize.js","serviceWorker.js","index.js","containers/GeneratorMenu/styles.module.css"],"names":["module","exports","Layout","SettingTable","StyleSetting","Preview","Markdown","Wrapper","Wrapper-TitleBar-StatusBar","Wrapper-TopBar","Wrapper-TopBar-StatusBar","SideBar","StatusBar","TitleBar","TopBar","PreviewOuter","PreviewInner","FO","Div1","Div2","SettingPage","Title","SettingSection","LeftBar","NavArea","NavButton","GraphMakerBody","GraphMakerInput","GraphMakerPreview","LatexExamples","Previewer","react_default","a","createElement","className","styles","this","props","children","React","Component","classNames","join","elemID","addToDocument","elem","type","payload","element","id","axisArrow","MarkerSymbols","viewBox","refX","refY","cx","cy","r","d","points","transform","MarkerDefs","_ref","stylename","markerW","markerH","Fragment","concat","markerWidth","markerHeight","markerUnits","orient","xlinkHref","x","y","height","width","FillPatternDefs","_ref2","patternUnits","patternTransform","StyleDefs","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","ref","createRef","CTM","current","getCTM","setState","checkSize","w","h","_this$state$CTM","b","c","s","Math","max","abs","Style_MarkerDefs","Style_FillPatternDefs","styleCount","Style","name","color","styleprops","objectWithoutProperties","uniquename","style","objectSpread","_arr","_i","length","shape","_arr2","_i2","pattern","stroke","vectorEffect","Style_StyleDefs","Overlay","x1","y1","x2","y2","rotate","anchor","displacement","_props$cartesian","cartesian","outerstyle","position","left","top","overflow","innerstyle","transformOrigin","_E$NE$N$NW$W$SW$S$SE$","slicedToArray","E","NE","N","NW","W","SW","S","SE","center","initialTransform","undefined","constructor","dx","parseFloat","dy","ux","replace","uy","angle","radius","u","round","cos","PI","sin","angles","rotateAngle","Canvas","wrapperprops","display","padding","svgprops","preserveAspectRatio","margin","gprops","Children","toArray","svgchildren","filter","overlays","assign","Style_MarkerSymbols","map","o","i","react_svgplot_Overlay","key","Grid","_props$xStep","xStep","_props$yStep","yStep","xvals","yvals","t","push","v","Label","ctm","_style","_this$props","_this$props$anchor","distance","anglemap","right","anchorAngle","tb","lr","div1","div2","defineProperty","units","padX","padY","marginTop","marginBottom","marginLeft","marginRight","useragent","navigator","userAgent","toLowerCase","test","_this$state$ctm$inver","inverse","inv","m1","multiply","e","f","m2","resultmatrix","console","log","xmlns","markerProps","positions","markers","updatePropsWithMarkers","Line","Polygon","Polyline","Path","Point","coords","_props$marker","marker","pathprops","Shapes_Path","matrix","params","Array","isArray","_params3","_params3$","_params3$2","_params3$3","_params3$4","_params3$5","_params3$6","_params$a","_params$b","_params$c","_params$d","_params$e","_params$f","makeTransform","_params4","_params2","_params2$","_params2$2","_params$x2","_params$y2","scale","_params","_params$","_params$2","_params$x","_params$y","translate","Transform","list","layerprops","transforms","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","value","ty","_ref2$","str","err","return","polylineFromPoints","p","renderPath","fill","_props$connect","connect","Shapes_Polygon","Shapes_Polyline","VectorGraphics_Style","AngleMark","start","end","otherprops","maxRadius","minRadius","angleSize","startAngle","endAngle","arcStart","arcEnd","VectorGraphics_Path","clipCount","Clip","Elem","_props$id","shapeprops","clipPath","toMM","convertToMM","val","unit","slice","Clipper","clip","VectorGraphics_Clip","Styler","CoordinatePlane","canvas","span","_span","s1","split","_s1$0$split","_s1$0$split2","_s1$0$split3","_s1$0$split4","_s1$1$split","_s1$1$split2","_s","parseSpan","_props$margin","_props$grid","grid","_props$axis","axis","_props$style","_props$clip","clipper","styler","marg","vbmarg","react_svgplot_Canvas","VectorGraphics_Grid","exactname","CoordinatePlane_Clipper","CoordinatePlane_Styler","_props$step","step","react_svgplot_Style","react_svgplot_Grid","Shapes_Line","Layer","calcPath","domain","arguments","path","stylenames","VectorGraphics","Asymptote","Path_Path","Circle","Ellipse","PolynomialFunction","coefficients","error","ans","deg","pow","RationalFunction","_domainPts","_props$roots","roots","_props$holes","holes","_props$asymptotes","asymptotes","_props$numerLC","numerLC","_props$denomLC","denomLC","_props$step2","_props$range","range","_props$renderAsymptot","renderAsymptotes","_props$renderRoots","renderRoots","_props$renderHoles","renderHoles","num","den","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","domainPts","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","domains","dp","keys","sort","v1","v2","def","paths","dom","toConsumableArray","ha","vas","Shapes_Point","Rect","ScatterPlot","parseBorder","border","formulaToKatex","formula","options","katex","renderToString","ParseError","defaultOptions","renderMath","mdSuperscript","mdSubscript","mdSmartarrows","mathDelimiters","inline","InlineMarkdown","data","opts","defaultsDeep","md","MarkdownIt","use","mdsub","mdsup","mdsmartarrows","mdmath","inlineRenderer","formulaToHtml","blockRenderer","displayMode","inlineOpen","inlineClose","blockOpen","blockClose","dangerouslySetInnerHTML","__html","renderInline","render","html","DisplayMath","renderHeaderElement","text","parts","result","isBlank","blankSize","nextChar","size","parseHeader","defaultLayout","layoutAnswerRight","QuestionLayout","content","layout","_ref$direction","direction","newDirection","row","column","useLayout","answer","area","renderJson","isMultipleChoice","choices","Question","_props$options","_props$content","instructions","question","diagram","multipleChoice","listDirection","freeResponse","prompt","Question_QuestionLayout","markdown","ParseMath","delimiters","delimiter","splitAtDelimiters","splitWithDelimiters","Markdown_InlineMarkdown","Text_Plain","Math_DisplayMath","Math_Math","Plain","Text","RenderMethod","fontFamily","fontSize","nonTerminal","AnswerBlanks","minWidth","minHeight","box","AnswerChoices","Container","_props$direction","_props$border","alignItems","divstyle","justifyItems","flexDirection","flexWrap","List","Table","headIndex","header","tableprops","borderCollapse","align","alignment","colStyles","blocks","block","j","char","colStyle","textAlign","borderLeft","borderRight","parseAlignment","k","cssvar","TRow","_props$header","rowprops","borderBottom","borderTop","elemstyle","terminal","childless","AnswerKey","correctIndex","correct","EmptySpace","_props$width","_props$height","PageHeader","rows","_row","NumberedQuestion","Question_Question","RenderError","JSON","stringify","VegaLite","react_vega_lite_min_default","spec","parseJson","json","_json","_parseJson","apply","Text_Text","toString","DefaultEditor","updateAndClose","onUpdateElement","stateToJson","onRequestClose","deleteAndClose","onDeleteElement","revertChanges","renderJson_RenderJson","gridTemplateColumns","onClick","justifySelf","renderEditor","renderPreview","EditPageHeader","headingAddRow","headingRemoveRow","newrow","_this2","inputStyle","onChange","evt","headingUpdate","target","checkMC","newState","toggleMC","checked","updateInstructions","updateVersionDefault","updateInstructionsMC","updateVersionMC","updateInstructionsFR","updateVersionFR","updateQuestion","updateQuestionMC","updateQuestionFR","parsed","fieldname","isMC","overrides","updaters","default","mc","fr","cols","renderMCToggle","renderInstructionsOrQuestionInputs","renderTypes","EditQuestion","updateChild","el","renderChildEditor","dispatch","idstr","_idstr$split","_idstr$split2","updateElement","_idstr$split3","_idstr$split4","deleteElement","RenderType","DefaultEditor_DefaultEditor","RenderJson","TopLevelElement","openEditor","modal","closeModal","divprops","canEdit","onDoubleClick","columns","elemprops","singleColumn","lib_default","isOpen","editJson","defaultProps","config","allowEditing","portrait","A3","A4","A5","letter","legal","landscape","MeasuredPage","innerH","inner","clientHeight","outerH","outer","overflows","oldstate","newstate","onOverflow","forceUpdate","addPageBreakBefore","contentIDs","pageOrientation","pageSize","_this$getPageSize","getPageSize","pageMargin","pageNumber","headers","outerclassname","getOuterStyle","getInnerStyle","headerID","getHeaderID","Document_TopLevelElement","contentID","document","footers","Page","orientation","order","Document_Page","Randomizer","seed","engine","Random","engines","mt19937","reset","createClass","autoSeed","min","integer","inclusive","real","array","first","shuffled","shuffle","pick","pop","sample","randint","splice","randomSeedGenerator","QGen","randomSeed","random","randomizer","defaults","defaultParams","out","generate","_getParams","_specialCaseKeys","_specialCaseValues","getOptions","info","subdivide","depth","searchDepth","hd","createTree","q","contourPresent","RationalPlot","_QGen","inherits","rd","choice","numRoots","numAsymptotes","total","values","sampleRange","graph","description","PolynomialPlot","_QGen2","coeffs","denom","_ref3","_ref4","tex","PlotStyling","_QGen3","path1","path2","path3","path4","FontTest","_QGen4","_rd$sampleRange","_rd$sampleRange2","Ix","Iy","Jx","Jy","diagram1","wrongs","_rd$sample","_rd$sample2","rise","run","inter","FontDisplay","_QGen5","lines","toUpperCase","chars","QuadTreePlotTest","_QGen6","pt","_ref5","f1","_ref6","f2","_QGen8","g","function","line","mark","interpolate","encoding","field","$schema","signals","bind","input","scales","nice","zero","axes","titleFont","marks","from","facet","groupby","encode","enter","strokeWidth","update","signal","fillOpacity","hover","pagebreaks","showAnswerKey","hidden","numberHidden","debugView","len","visibleIDs","prev","slices","pages","ids","Document_MeasuredPage","Document_AnswerKey","addFontFamily","font","setUITheme","theme","body","removeAttribute","setAttribute","AddLocalFont","addFont","spellCheck","buttonLabel","FontFamilyUI","setFontFamilyUI","fontFamilyUI","inputtype","setDocumentFontFamily","family","setPageMargin","margins","updateGraphStyle","FontFamilyInput","setFontFamily","DefaultFonts","BrowserFonts","fontLabels","__CUSTOM__","cmu_bright","cmu_concrete","cmu_sansserif","cmu_serif","katex_sansserif","katex_main","sans-serif","serif","fontSort","aName","bName","FontFamilySelect","fontList","localFonts","setFromPrompt","window","label","title","disabled","renderFontOption","Font_FontFamilyInput","Font_FontFamilySelect","FontSizeSelect","setDocFontSize","setDocumentFontSize","renderSizeOptions","googleFonts","fontStyles","BioRhyme","Merriweather","FontLoader","updateInput","updateSelection","selection","loadFont","request","WebFont","load","google","families","fontactive","fontinactive","loadAll","toAdd","loadInputFont","loadSelectedFont","includes","placeholder","renderButton","renderInput","renderSelect","MathFontSettings","onChangeSize","setSize","onChangeWeight","setWeight","onChangeFamily","setFamily","setMathFontSize","weight","setMathFontWeight","setMathFontFamily","currentFamily","currentSize","htmlFor","bold","currentWeight","mathFontSize","mathFontWeight","mathFontFamily","tabsize","onKeyDown","keyCode","selectionStart","selectionEnd","substring","preventDefault","TextPreview","updatePreview","outputStyle","output","defaultValue","renderType","parse","wrapperElement","FontSettings","Font_FontFamilyUI","Font_FontFamily","Font_FontLoader","Font_MathFontSettings","--doc-font-size","Font_TextPreview","latexfmt","String","raw","examples","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_templateObject10","_templateObject11","_templateObject12","_templateObject13","_templateObject14","_templateObject15","_templateObject16","RenderExample","LatexExamples_RenderExample","n","floor","calcParametric","parseFunction","func","math","compile","scope","eval","GraphMaker","updateMode","mode","updateStandard","standard","updateInverse","updateParametricX","parametricX","updateParametricY","parametricY","updateX0","x0","updateX1","updateY0","y0","updateY1","updateT0","t0","updateT1","t1","updateStep","updateHeight","updateAutoDomain","autoDomain","updateAutoSize","autoSize","onSubmit","getData","getDomain","ymap","xmap","xpmap","ypmap","graphSize","autogrid","getFunction","GraphMakerHeading","renderMode","renderInputs","renderDomainInput","renderGridInputs","renderHeightInput","jsonExample","CustomQuestion","openExamples","openGraphMaker","updateDiagram","updateAnswer","updateJSON","updateInputType","inputType","addQuestion","getDataFromState","setJsonExample","previewStyle","gridTemplateAreas","gridArea","backgroundColor","CustomQuestion_LatexExamples","CustomQuestion_GraphMaker","thing","Notes","fontWeight","CheckStateButton","logState","GraphStyle","setValue","propertyName","Color","Width","Opacity","mapDispatchToProps","createComponent","base","StyleSettingComponent","_base","Function1Color","Function2Color","FunctionWidth","GeomColor","GeomWidth","AsymptoteColor","AsymptoteWidth","AxisColor","AxisWidth","GridColor","GridWidth","FillOpacity","SwapButton","doSwap","_this3$props$updateGr","_this3","propertyName1","current2","propertyName2","current1","FunctionColorSwap","function1Color","function2Color","updates","RelativeFontSize","_this4","LabelFontSize","labelFontSize","PreviewXYPlot","vasymptotes","fpoints","gpoints","fpt","gpt","PreviewGeom","GraphSettings","changeStyle","resetToDefaults","resetGraphStyle","GraphPreview_PreviewGeom","GraphPreview_PreviewXYPlot","colSpan","Settings","renderStyleSettings","MarginOptions","SetPageMargin","updateFromSelection","m","PageSize","setPageSize","inputProps","unitProps","convert","to","fromMM","convertStr","PageMargins","setMargins","_this$state$m","bottom","setUnits","newValues","rounder","setTop","setRight","setBottom","setLeft","_margins","_margins2","PageSettings","Page_PageSize","Page_PageMargins","GUImode","setDebugView","PreviewZoom","updateState","zoom","zoomIn","zoomOut","setProperty","setZoom","z","renderButtons","UIThemeSetter","setTheme","uiTheme","UISettings","UITheme","SettingsPage","showFontSettings","showing","showGraphSettings","showPageSettings","showUISettings","Font","Graph","Settings_Page","UI","status","renderSettings","AllowEditing","toggle","setAllowEditing","AnswerKeyToggle","setShowAnswerKey","bool","FixPagination","clearPageBreaks","setHiddenCount","setTimeout","check","StartNumbering","setNumbering","startat","setCSSVariable","setDocumentStartNumbering","startNumbering","stop","_data","roundTo","gcd","listFactors","_ref$include","include1","_ref$includeN","includeN","randomPolynomialCoefficients","degree","_ref$maxCoefficient","maxCoefficient","_ref$terms","terms","whichterms","SolveQuadratic","r1","r2","poly","Polynomial","2","1","0","rand","add","toLatex","FactorQuadraticHard","a1","a2","b1","b2","p1","p2","RationalGraph","makeFunction","generateValues","vals","allHolesInRange","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","isGood","_generateValues","fmtAns","numer","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","simplify","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","IncreasingIntervals","pts","toFind","increasing","decreasing","either","xs","which","yRange","ys","maxConstantIntervals","possible","reverse","intervals","wrongAnswer1","wrongAnswer2","wrongAnswer3","wrongAnswer4","inc","dec","interpolatePath","fullName","int","answerIndex","RationalZeroTheorem","primes","leading_coeff","trailing_coeff","num_coeffs","correctNumerators","correctDenominators","allPossibleZeros","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","numCorrect","correctAnswers","_","wrongAnswers","allChoices","poprandom","fraction","GraphLinearInequalities","rotation","_ref7","_rd$shuffle","_rd$shuffle2","line1","ineq","xInt","yInt","line2","latexeqn","clips","_loop","_i4","eqns","pieces","domainIneqs","latex","difference","TransversalNames","possibleRelations","angle1","rotateBy","intersect1","pp","top1","bottom1","intersect2","top2","bottom2","angleMark","transversal","relations","alternate exterior","alternate interior","consecutive exterior","consecutive interior","corresponding","linear","vertical","_anglesToMark$split","_anglesToMark$split2","TransformTracker","parent","mul","translateX","translateY","scaleX","scaleY","cubic","exp2","log2","quad","sqrt","valueOf","setField","div","kStr","aStr","MatchTransformations","parents","shiftV","shiftH","stretchV","stretchH","compressH","eqn","eqnScramble","shuffleRange","graphScramble","makebox","indexOf","latexpifraction","ConvertAngle","conversion","degrees to radians","radians to degrees","neg","yes","no","negative","rotations","numers","radians","degrees","IdentifyQuadrant","_ineq","functions","tan","quadrant","3","4","funcChoices","funcKeys","funcs","clue","minSelections","maxSelections","csc","sec","cot","SolveRightTriangle","givens","given","A","B","ceil","atan","C","labels","giveninfo","answerblanks","HL","LL","HA","LA","scramble","digitmap","slotmap","PicoFermiInstructions","PicoFermi","template","Templates","clues","puzzle","blank","gap","PicoFermiSet","versions","answers","Easy01","2637","0018","0123","1034","3352","Easy02","5704","5607","5109","6972","Easy03","1670","4567","1245","1376","Easy04","4312","6543","4129","4230","Easy05","0660","0386","2030","Easy06","3773","2790","7243","8467","Easy07","5809","3899","5593","Hard01","9120","7573","2450","5320","8685","Hard02","3210","5409","4608","1064","Hard03","4989","2954","9724","6139","NoFour","4563","4615","4652","NoEight","4786","8547","0843","9289","8965","AllPicos","2486","7867","4573","5608","9310","VeryHard","9372","1047","0235","3627","4753","questionBank","questionbank_i","questionbank_arr","set","questiontypes","register","questionbank_i2","questionbank_arr2","sortfunc","QuestionTypeMenu","addToDoc","generateAndAdd","questionType","questionTypeSelect","qtype","questionTypes","renderQuestionList","hasKwd","item","kwd","tags","sortByID","QuestionSearch","updateSearch","kwds","results","checkForKwds","ResultContainer","SearchResult","Selected","setSelection","SearchResultNone","renderResults","questionbank","ReactModal","setAppElement","defaultStyles","borderRadius","borderColor","background","overlay","AppWrapper","openRpcTest","openCustomQuestion","openSettings","toplabel","AppLayout_Wrapper","AppLayout_TopBar","print","Settings_AnswerKeyToggle","Settings_StartNumbering","FontSize","UI_PreviewZoom","Settings_AllowEditing","Settings_FixPagination","containers_Document_Document","AppLayout_SideBar","GeneratorMenu_QuestionSearch","removeLast","clearAll","UI_GUImode","CheckState","statusBar","AppLayout_StatusBar","containers_CustomQuestion","containers_Notes","Root","store","es","containers_App","initialState","action","asymptoteColor","asymptoteWidth","axisColor","axisWidth","functionWidth","geomColor","geomWidth","gridColor","gridWidth","removeProperty","kebabCase","rootReducer","combineReducers","custom","urls","loadFonts","createStore","getState","setCss","App","Root_Root","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","serviceWorker","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","src_App","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","get","ready","unregister","reload","checkValidServiceWorker"],"mappings":"6EACAA,EAAAC,QAAA,CAAkBC,OAAA,uBAAAC,aAAA,6BAAAC,aAAA,6BAAAC,QAAA,8CCAlBL,EAAAC,QAAA,CAAkBK,SAAA,gICAlBN,EAAAC,QAAA,CAAkBM,QAAA,wBAAAC,6BAAA,2CAAAC,iBAAA,+BAAAC,2BAAA,yCAAAC,QAAA,wBAAAC,UAAA,0BAAAC,SAAA,yBAAAC,OAAA,uBAAAC,aAAA,6BAAAC,aAAA,0FCAlBhB,EAAAC,QAAA,CAAkBgB,GAAA,oBAAAC,KAAA,sBAAAC,KAAA,2CCAlBnB,EAAAC,QAAA,CAAkBmB,YAAA,4BAAAC,MAAA,sBAAAC,eAAA,+BAAAC,QAAA,wBAAAC,QAAA,wBAAAC,UAAA,+CCAlBzB,EAAAC,QAAA,CAAkByB,eAAA,+BAAAC,gBAAA,gCAAAC,kBAAA,kCAAAC,cAAA,kjDCiBHC,mLAXX,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOpB,cACrBgB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOnB,cACpBoB,KAAKC,MAAMC,kBAPEC,IAAMC,WCUf7B,mLARX,OACEoB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOxB,SACpByB,KAAKC,MAAMC,iBAJEC,IAAMC,WCQb5B,EARG,SAACyB,GACjB,OACEN,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOvB,WACpByB,EAAMC,WCKExB,EARA,SAACuB,GACd,OACEN,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOrB,QACpBuB,EAAMC,WCUE/B,mLAVX,IAAIkC,EAAa,CAACN,IAAO5B,QAAS4B,IAAO,mBAEzC,OACEJ,EAAAC,EAAAC,cAAA,OAAKC,UAAWO,EAAWC,KAAK,MAC7BN,KAAKC,MAAMC,iBAPEC,IAAMC,0BCQxBG,EAAS,EAIAC,EAAgB,SAACC,GAAD,MAAW,CACtCC,KAhB6B,kBAiB7BC,QAAS,CAACC,QAASH,EAAMI,KAAMN,sCCb3BO,EAAY,0CAELC,EAAgB,SAAAd,GAC3B,OACEN,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,UAAQgB,GAAG,uBAAuBG,QAAQ,gBAAgBC,KAAK,IAAIC,KAAK,KACtEvB,EAAAC,EAAAC,cAAA,UAAQsB,GAAG,IAAIC,GAAG,IAAIC,EAAE,OAE1B1B,EAAAC,EAAAC,cAAA,UAAQgB,GAAG,sBAAsBG,QAAQ,gBAAgBC,KAAK,IAAIC,KAAK,KACrEvB,EAAAC,EAAAC,cAAA,UAAQsB,GAAG,IAAIC,GAAG,IAAIC,EAAE,MACxB1B,EAAAC,EAAAC,cAAA,UAAQsB,GAAG,IAAIC,GAAG,IAAIC,EAAE,IAAGvB,UAAU,yBAEvCH,EAAAC,EAAAC,cAAA,UAAQgB,GAAG,uBAAuBG,QAAQ,gBAAgBC,KAAK,IAAIC,KAAK,KACtEvB,EAAAC,EAAAC,cAAA,QAAMyB,EAAE,mCAEV3B,EAAAC,EAAAC,cAAA,UAAQgB,GAAG,2BAA2BG,QAAQ,gBAAgBC,KAAK,IAAIC,KAAK,KAC1EvB,EAAAC,EAAAC,cAAA,WAAS0B,OAAO,wBAChB5B,EAAAC,EAAAC,cAAA,QAAMyB,EAAGR,EAAWU,UAAU,+BAC9B7B,EAAAC,EAAAC,cAAA,QAAMyB,EAAGR,EAAWU,UAAU,8CAOhCC,EAAa,SAAAC,GAAmC,IAAjCC,EAAiCD,EAAjCC,UAAWC,EAAsBF,EAAtBE,QAASC,EAAaH,EAAbG,QAEvC,OACElC,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACEnC,EAAAC,EAAAC,cAAA,UAAQgB,GAAE,GAAAkB,OAAKJ,EAAL,oBAAkCX,QAAQ,cAAcC,KAAK,IAAIC,KAAK,IAC9Ec,YAAaJ,EAASK,aAAcJ,EACpCK,YAAY,cACZC,OAAO,QACPxC,EAAAC,EAAAC,cAAA,OAAKuC,UAAU,wBACbC,EAAE,KAAKC,EAAE,KAAKC,OAAO,KAAKC,MAAM,KAChC1C,UAAU,oBAEdH,EAAAC,EAAAC,cAAA,UAAQgB,GAAE,GAAAkB,OAAKJ,EAAL,oBAAkCX,QAAQ,cAAcC,KAAK,IAAIC,KAAK,IAC9Ec,YAAaJ,EAASK,aAAcJ,EACpCK,YAAY,cACZC,OAAO,QACPxC,EAAAC,EAAAC,cAAA,OAAKuC,UAAU,wBACbC,EAAE,KAAKC,EAAE,KAAKC,OAAO,KAAKC,MAAM,KAChChB,UAAU,cACV1B,UAAU,oBAEdH,EAAAC,EAAAC,cAAA,UAAQgB,GAAE,GAAAkB,OAAKJ,EAAL,qBAAmCX,QAAQ,cAAcC,KAAK,IAAIC,KAAK,IAC/Ec,YAAaJ,EAASK,aAAcJ,EACpCK,YAAY,cACZC,OAAO,sBACPxC,EAAAC,EAAAC,cAAA,OAAKuC,UAAU,4BACbC,EAAE,KAAKC,EAAE,KAAKC,OAAO,KAAKC,MAAM,KAChC1C,UAAU,oBAEdH,EAAAC,EAAAC,cAAA,UAAQgB,GAAE,GAAAkB,OAAKJ,EAAL,iBAA+BX,QAAQ,cAAcC,KAAK,IAAIC,KAAK,IAC3Ec,YAAaJ,EAASK,aAAcJ,EACpCK,YAAY,cACZC,OAAO,QACPxC,EAAAC,EAAAC,cAAA,OAAKuC,UAAU,wBACbC,EAAE,KAAKC,EAAE,KAAKC,OAAO,KAAKC,MAAM,KAChC1C,UAAU,oBAEdH,EAAAC,EAAAC,cAAA,UAAQgB,GAAE,GAAAkB,OAAKJ,EAAL,gBAA8BX,QAAQ,cAAcC,KAAK,IAAIC,KAAK,IAC1Ec,YAAaJ,EAASK,aAAcJ,EACpCK,YAAY,cACZC,OAAO,QACPxC,EAAAC,EAAAC,cAAA,OAAKuC,UAAU,uBACbC,EAAE,KAAKC,EAAE,KAAKC,OAAO,KAAKC,MAAM,KAChC1C,UAAU,sBAQd2C,EAAkB,SAAAC,GAAgC,IAA9Bf,EAA8Be,EAA9Bf,UAAWa,EAAmBE,EAAnBF,MAAOD,EAAYG,EAAZH,OAC1C,OACE5C,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACEnC,EAAAC,EAAAC,cAAA,WAASgB,GAAE,GAAAkB,OAAKJ,EAAL,sBACTX,QAAQ,YACRwB,MAAOA,EAAOD,OAAQA,EACtBI,aAAa,kBACbhD,EAAAC,EAAAC,cAAA,UAAQsB,GAAG,IAAIC,GAAG,IAAIC,EAAE,IAAIvB,UAAU,wBACtCH,EAAAC,EAAAC,cAAA,UAAQsB,GAAG,IAAIC,GAAG,IAAIC,EAAE,IAAIvB,UAAU,yBAExCH,EAAAC,EAAAC,cAAA,WAASgB,GAAE,GAAAkB,OAAKJ,EAAL,sBACTX,QAAQ,YACRwB,MAAOA,EAAOD,OAAQA,EACtBI,aAAa,kBACbhD,EAAAC,EAAAC,cAAA,UAAQsB,GAAG,IAAIC,GAAG,IAAIC,EAAE,IAAIvB,UAAU,wBACtCH,EAAAC,EAAAC,cAAA,UAAQsB,GAAG,IAAIC,GAAG,IAAIC,EAAE,IAAIvB,UAAU,yBAExCH,EAAAC,EAAAC,cAAA,WAASgB,GAAE,GAAAkB,OAAKJ,EAAL,0BACTX,QAAQ,YACRwB,MAAOA,EAAOD,OAAQA,EACtBI,aAAa,kBACbhD,EAAAC,EAAAC,cAAA,WAAS0B,OAAO,qBAAqBzB,UAAU,wBAC/CH,EAAAC,EAAAC,cAAA,WAAS0B,OAAO,gBAAgBzB,UAAU,yBAE5CH,EAAAC,EAAAC,cAAA,WAASgB,GAAE,GAAAkB,OAAKJ,EAAL,0BACTX,QAAQ,YACRwB,MAAOA,EAAOD,OAAQA,EACtBK,iBAAiB,eACjBD,aAAa,kBACbhD,EAAAC,EAAAC,cAAA,WAAS0B,OAAO,qBAAqBzB,UAAU,wBAC/CH,EAAAC,EAAAC,cAAA,WAAS0B,OAAO,gBAAgBzB,UAAU,yBAE5CH,EAAAC,EAAAC,cAAA,WAASgB,GAAE,GAAAkB,OAAKJ,EAAL,wBACTX,QAAQ,YACRwB,MAAOA,EAAOD,OAAQA,EACtBK,iBAAiB,eACjBD,aAAa,kBACbhD,EAAAC,EAAAC,cAAA,WAAS0B,OAAO,oBAAoBzB,UAAU,wBAC9CH,EAAAC,EAAAC,cAAA,WAAS0B,OAAO,sBAAsBzB,UAAU,wBAChDH,EAAAC,EAAAC,cAAA,WAAS0B,OAAO,cAAczB,UAAU,yBAE1CH,EAAAC,EAAAC,cAAA,WAASgB,GAAE,GAAAkB,OAAKJ,EAAL,wBACTX,QAAQ,YACRwB,MAAOA,EAAOD,OAAQA,EACtBK,iBAAiB,eACjBD,aAAa,kBACbhD,EAAAC,EAAAC,cAAA,WAAS0B,OAAO,gBAAgBzB,UAAU,wBAC1CH,EAAAC,EAAAC,cAAA,WAAS0B,OAAO,kBAAkBzB,UAAU,wBAC5CH,EAAAC,EAAAC,cAAA,WAAS0B,OAAO,4BAA4BzB,UAAU,2BAMxD+C,cACJ,SAAAA,EAAY5C,GAAO,IAAA6C,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAA/C,KAAA6C,IACjBC,EAAAC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAAF,GAAAM,KAAAnD,KAAMC,KACDmD,MAAQ,GACbN,EAAKO,IAAMlD,IAAMmD,YAHAR,2EAOjB,IAAMS,EAAMvD,KAAKqD,IAAIG,QAAQC,SAC7BzD,KAAK0D,SAAS,CAACH,oDAIfvD,KAAK2D,6CAGE,IACChC,EAAc3B,KAAKC,MAAnB0B,UAEJiC,EAAI,GAAIC,EAAI,GAEhB,GAAI7D,KAAKoD,MAAMG,IAAK,KAAAO,EACG9D,KAAKoD,MAAMG,IAAzB3D,EADWkE,EACXlE,EAAGmE,EADQD,EACRC,EAAGC,EADKF,EACLE,EAAG1C,EADEwC,EACFxC,EACV2C,EAAIC,KAAKC,IAAID,KAAKE,IAAIxE,GAAGsE,KAAKE,IAAIJ,GAAGE,KAAKE,IAAIL,GAAGG,KAAKE,IAAI9C,IAChEsC,GAAKK,EACLJ,GAAKI,EAGP,OACEtE,EAAAC,EAAAC,cAAA,QAAMwD,IAAKrD,KAAKqD,KACd1D,EAAAC,EAAAC,cAACwE,EAAD,CAAY1C,UAAWA,EAAWC,QAASgC,EAAG/B,QAASgC,IACvDlE,EAAAC,EAAAC,cAACyE,EAAD,CAAiB3C,UAAWA,EAAWa,MAAOoB,EAAE,EAAGrB,OAAQsB,EAAE,YA/B7C1D,IAAMC,WAuC1BmE,EAAa,EA6BFC,EA3BD,SAAAvE,GAKZ,IALqB,IACbwE,EAA+BxE,EAA/BwE,KAAMC,EAAyBzE,EAAzByE,MAAUC,EADH5B,OAAA6B,EAAA,EAAA7B,CACkB9C,EADlB,kBAEf4E,EAAU,WAAA9C,SAAgBwC,GAE1BO,EAAK/B,OAAAgC,EAAA,EAAAhC,CAAA,GAAO4B,GAJGK,EAKD,CAAC,WAAY,WAAY,YAAa,QAAS,QAAnEC,EAAA,EAAAA,EAAAD,EAAAE,OAAAD,IAA4E,CAAvE,IAAME,EAAKH,EAAAC,GACdH,EAAK,oBAAA/C,OAAqBoD,IAA1B,QAAApD,OAA6C8C,EAA7C,YAAA9C,OAAkEoD,EAAlE,KAGF,IATqB,IAAAC,EASC,CAAC,QAAS,QAAS,YAAa,YAAa,UAAW,WAA9EC,EAAA,EAAAA,EAAAD,EAAAF,OAAAG,IAA0F,CAArF,IAAMC,EAAOF,EAAAC,GAChBP,EAAK,yBAAA/C,OAA0BuD,IAA/B,QAAAvD,OAAoD8C,EAApD,iBAAA9C,OAA8EuD,EAA9E,KASF,OANIZ,EACFI,EAAM,mBAAqBJ,EAClBI,EAAMS,SACfT,EAAM,mBAAqBA,EAAMS,QAIjC5F,EAAAC,EAAAC,cAAA,KAAGC,UAAW2E,EAAMK,MAAOA,EAAOU,aAAa,WAC7C7F,EAAAC,EAAAC,cAAC4F,EAAD,CAAW9D,UAAWkD,IACrB5E,EAAMC,WCxGEwF,EA3FC,SAAAzF,GAAS,IAErB0F,EAME1F,EANF0F,GAAIC,EAMF3F,EANE2F,GAAIC,EAMN5F,EANM4F,GAAIC,EAMV7F,EANU6F,GACZzD,EAKEpC,EALFoC,EAAGC,EAKDrC,EALCqC,EACHyD,EAIE9F,EAJF8F,OACAC,EAGE/F,EAHF+F,OACAC,EAEEhG,EAFFgG,aANqBC,EAQnBjG,EADFkG,UAMIC,EAAa,CACjBC,SAAU,WACVC,KALY,KAAOjE,EAAIsD,IAAOE,EAAKF,GAKrB,IACdY,UAhBqB,IAAAL,KAWG,KAAOJ,EAAKxD,IAAMwD,EAAKF,IAAOtD,EAAIsD,IAAOE,EAAKF,IAKzD,IACbrD,OAAQ,EACRC,MAAO,EACPgE,SAAU,WAGNC,EAAa,CACjBJ,SAAU,WACVK,gBAAiB,gBACjBlF,UAAW,wBAGb,GAAIwE,EAAQ,KAAAW,EAAA5D,OAAA6D,EAAA,EAAA7D,CACkC,CAC1C8D,EAAG,CAAC,eAAgB,yBACpBC,GAAI,CAAC,YAAa,sBAClBC,EAAG,CAAC,aAAc,qBAClBC,GAAI,CAAC,WAAY,kBACjBC,EAAG,CAAC,cAAe,qBACnBC,GAAI,CAAC,cAAe,sBACpBC,EAAG,CAAC,gBAAiB,yBACrBC,GAAI,CAAC,eAAgB,0BACrBC,OAAQ,CAAC,gBAAiB,yBAC1BrB,GAXQ,GACHU,EADGC,EAAA,GACcW,EADdX,EAAA,GAaVF,EAAWC,gBAAkBA,EAC7BD,EAAWjF,UAAY8F,EAGzB,QAAqBC,IAAjBtB,EACF,GAAsC,WAAlCA,EAAauB,YAAY/C,MAC3B,QAAuB8C,IAAnBtB,EAAa5D,QAAsCkF,IAAnBtB,EAAa3D,EAAiB,CAChE,IAAMmF,EAAKC,WAAWzB,EAAa5D,IAAM,EACnCsF,EAAKD,WAAWzB,EAAa3D,IAAM,EACnCsF,GAAM3B,EAAa5D,GAAK,IAAIwF,QAAQJ,EAAI,IACxCK,GAAM7B,EAAa3D,GAAK,IAAIuF,QAAQF,EAAI,IAC9ClB,EAAWjF,WAAX,cAAAO,OAAsC0F,GAAtC1F,OAA2C6F,EAA3C,KAAA7F,QAAkD4F,GAAlD5F,OAAuD+F,EAAvD,UACK,GAAI7B,EAAa8B,OAAS9B,EAAa+B,OAAQ,CACpD,IAAM3G,EAAIqG,WAAWzB,EAAa+B,QAC5BC,EAAIhC,EAAa+B,OAAOH,QAAQxG,EAAG,IACnCzB,EAAI8H,WAAWzB,EAAa8B,OAC5BN,EAAKvD,KAAKgE,MAAMhE,KAAKiE,IAAIvI,EAAIsE,KAAKkE,GAAK,KAAO/G,GAAK4G,EACnDN,EAAKzD,KAAKgE,OAAOhE,KAAKmE,IAAIzI,EAAIsE,KAAKkE,GAAK,KAAO/G,GAAK4G,EAC1DxB,EAAWjF,WAAX,cAAAO,OAAsC0F,EAAtC,KAAA1F,OAA4C4F,EAA5C,WAEG,GAAI3B,EAAQ,CACjB,IAAMsC,EAAS,CACbzB,EAAG,EAAGC,GAAI,GAAIC,EAAG,GAAIC,GAAI,IACzBC,EAAG,IAAKC,GAAI,IAAKC,EAAG,IAAKC,GAAI,KAE/B,QAAuBG,IAAnBe,EAAOtC,GAAuB,CAChC,IAAMpG,IAAgC0I,EAAOtC,GAAU,KAA3CD,GAAUA,EAAS,IAAgC,IACzD1E,EAAIqG,WAAWzB,GACfgC,EAAIhC,EAAa4B,QAAQxG,EAAG,IAC5BoG,EAAKvD,KAAKgE,MAAMhE,KAAKiE,IAAIvI,EAAIsE,KAAKkE,GAAK,KAAO/G,GAAK4G,EACnDN,EAAKzD,KAAKgE,OAAOhE,KAAKmE,IAAIzI,EAAIsE,KAAKkE,GAAK,KAAO/G,GAAK4G,EAC1DxB,EAAWjF,WAAX,cAAAO,OAAsC0F,EAAtC,KAAA1F,OAA4C4F,EAA5C,MAKN,GAAI5B,EAAQ,CACV,IAAMwC,EAAcb,WAAW3B,GAC/BU,EAAWjF,WAAX,WAAAO,QAAoCwG,EAApC,QAGF,OACE5I,EAAAC,EAAAC,cAAA,OAAKiF,MAAOsB,GACVzG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAgBgF,MAAO2B,GACnCxG,EAAMC,gBCjBAsI,mLArDX,IAAMvI,EAAQD,KAAKC,MADZiG,EAEsEjG,EAAtEkG,iBAFA,IAAAD,KAEgBP,EAAsD1F,EAAtD0F,GAAIE,EAAkD5F,EAAlD4F,GAAID,EAA8C3F,EAA9C2F,GAAIE,EAA0C7F,EAA1C6F,GAAItD,EAAsCvC,EAAtCuC,MAAOD,EAA+BtC,EAA/BsC,OAGxCkG,EAAe,CACnB3D,MAAO,CACL4D,QAAS,eACTrC,SAAU,WACVsC,QAAS,EACTnG,QAAOD,WAILqG,EAAW,CACfpG,QAAOD,SACPsG,oBAd2E5I,EAAvB4I,oBAepD/D,MAAO,CACLuB,SAAU,WACVyC,OAAQ,EACRvC,IAAK,EAAGD,KAAM,IAGZyC,EAAS,CAAC1F,IAAKrD,KAAKqD,IAAKmC,aAAc,sBAEzCW,GAA2B,UAAdA,GACf4C,EAAOvH,UAAY,cACnBoH,EAAS5H,QAAT,GAAAe,OAAsB4D,EAAtB,KAAA5D,QAA6B+D,EAA7B,KAAA/D,OAAmC8D,EAAGF,EAAtC,KAAA5D,OAA4C+D,EAAGF,IAE/CgD,EAAS5H,QAAT,GAAAe,OAAsB4D,EAAtB,KAAA5D,OAA4B6D,EAA5B,KAAA7D,OAAkC8D,EAAGF,EAArC,KAAA5D,OAA2C+D,EAAGF,GAGhD,IAAM1F,EAAWC,IAAM6I,SAASC,QAAQhJ,EAAMC,UACxCgJ,EAAchJ,EAASiJ,OAAO,SAAAnF,GAAC,OAAIA,EAAEtD,OAASgF,IAC9C0D,EAAWlJ,EAASiJ,OAAO,SAAAnF,GAAC,OAAIA,EAAEtD,OAASgF,IAEjD,OACE/F,EAAAC,EAAAC,cAAA,MAAAkD,OAAAsG,OAAA,CAAKvJ,UAAU,kBAAqB2I,GAClC9I,EAAAC,EAAAC,cAAA,MAAS+I,EACPjJ,EAAAC,EAAAC,cAACyJ,EAAD,MACA3J,EAAAC,EAAAC,cAAA,IAAOkJ,EACJG,IAGJE,EAASlE,OACRkE,EAASG,IAAI,SAACC,EAAGC,GAAJ,OACX9J,EAAAC,EAAAC,cAAC6J,EAAD3G,OAAAsG,OAAA,CAASM,IAAKF,EAAGtD,UAAWA,EAAWR,GAAIA,EAAIC,GAAIA,EAAIC,GAAIA,EAAIC,GAAIA,GAAQ0D,EAAEvJ,UAE7E,aAlDSE,IAAMC,WCuBZwJ,EAnCF,SAAC3J,GAAU,IACf0F,EAAoC1F,EAApC0F,GAAIC,EAAgC3F,EAAhC2F,GAAIC,EAA4B5F,EAA5B4F,GAAIC,EAAwB7F,EAAxB6F,GADG+D,EACqB5J,EAApB6J,aADD,IAAAD,EACO,EADPA,EAAAE,EACqB9J,EAAX+J,aADV,IAAAD,EACgB,EADhBA,EAGhBE,EAAQ,GAAIC,EAAQ,GAC1B,GAAIJ,EAEF,IADA,IAAIK,EAAIxE,EACDwE,GAAKtE,GACVoE,EAAMG,KAAKD,GACXA,GAAKL,EAGT,GAAIE,EAEF,IADA,IAAIG,EAAIvE,EACDuE,GAAKrE,GACVoE,EAAME,KAAKD,GACXA,GAAKH,EAIT,OACErK,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACGmI,EAAMV,IAAI,SAAAc,GAAC,OACV1K,EAAAC,EAAAC,cAAA,QAAM8J,IAAG,KAAA5H,OAAOsI,GACd1E,GAAI0E,EAAGxE,GAAIwE,EAAGzE,GAAIA,EAAIE,GAAIA,EAC1BN,aAAa,cAEhB0E,EAAMX,IAAI,SAAAc,GAAC,OACV1K,EAAAC,EAAAC,cAAA,QAAM8J,IAAG,KAAA5H,OAAOsI,GACdzE,GAAIyE,EAAGvE,GAAIuE,EAAG1E,GAAIA,EAAIE,GAAIA,EAC1BL,aAAa,wBC5BF8E,cACnB,SAAAA,EAAYrK,GAAO,IAAA6C,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAA/C,KAAAsK,IACjBxH,EAAAC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAAuH,GAAAnH,KAAAnD,KAAMC,KACDoD,IAAMlD,IAAMmD,YACjBR,EAAKM,MAAQ,GAHIN,mFAOjB,IAAMS,EAAMvD,KAAKqD,IAAIG,QAAQC,SAC7BzD,KAAK0D,SAAS,CAAC6G,IAAKhH,qCAGb,IAAAiH,EAAAC,EACoCzK,KAAKC,MAA3CoC,EADEoI,EACFpI,EAAGC,EADDmI,EACCnI,EADDoI,EAAAD,EACIzE,cADJ,IAAA0E,EACW,IADXA,EACgBC,EADhBF,EACgBE,SAAU5E,EAD1B0E,EAC0B1E,OAE3B6E,EAAW,CACf/D,EAAG,EACHC,GAAI,GACJC,EAAG,GACHC,GAAI,IACJC,EAAG,IACHC,GAAI,IACJC,EAAG,IACHC,GAAI,IACJd,KAAM,IACNuE,MAAO,GAGHC,EAAcF,EAAS5E,GAAU4E,EAAS5E,IAAWA,EAAS,IAE9D+E,EAAqB,IAAhBD,GAAqC,MAAhBA,EAAsB,SAAWA,EAAc,IAAM,MAAQ,SACvFE,EAAKF,EAAc,GAAK,QAAUA,GAAe,IAAM,OAAS,QAOhEG,EAAO,CACXnG,MAAO,CACLtC,MAAO,IAAKD,OAAQ,IACpBuG,OAAQ,IACRH,QAAS,IACTjC,gBAAiBsE,EAAK,UACtB3E,SAAU,aAGR6E,EAAO,CACXpG,OAAK0F,EAAA,CAEHnE,SAAU,YAFPtD,OAAAoI,EAAA,EAAApI,CAAAyH,EAGFQ,GAAM9G,KAAKE,IAA4C,GAAxCF,KAAKmE,IAAIyC,EAAc5G,KAAKkE,GAAK,MAAc,MAH5DrF,OAAAoI,EAAA,EAAApI,CAAAyH,EAIK,WAAPO,EAAkB,MAAQA,GAAM7G,KAAKE,IAA4C,GAAxCF,KAAKiE,IAAI2C,EAAc5G,KAAKkE,GAAK,MAAc,MAJtFrF,OAAAoI,EAAA,EAAApI,CAAAyH,EAAA,YAKQQ,GALRjI,OAAAoI,EAAA,EAAApI,CAAAyH,EAAA,UAMM,GANNzH,OAAAoI,EAAA,EAAApI,CAAAyH,EAAA,kBAOcQ,EAAK,WAPnBR,IAWP,GAAIG,EAAU,CACZ,IAAMrJ,EAAIoG,WAAWiD,GACfS,EAAQT,EAAS9C,QAAQvG,EAAG,IAC5B+J,EAAOnH,KAAKE,IAAIF,KAAKiE,IAAI2C,EAAc5G,KAAKkE,GAAK,KAAO9G,GAAK8J,EAC7DE,EAAOpH,KAAKE,IAAIF,KAAKmE,IAAIyC,EAAc5G,KAAKkE,GAAK,KAAO9G,GAAK8J,EAExD,QAAPL,EACFG,EAAKpG,MAAMyG,UAAYD,EACP,WAAPP,IACTG,EAAKpG,MAAM0G,aAAeF,GAEjB,SAAPN,EACFE,EAAKpG,MAAM2G,WAAaJ,EACR,UAAPL,IACTE,EAAKpG,MAAM4G,YAAcL,GAM7B,GAAIrL,KAAKoD,MAAMmH,IAAK,CAClB,IAAMoB,EAAYC,UAAUC,UAAUC,cACtC,IAAK,SAAUC,KAAKJ,IAAgB,UAAWI,KAAKJ,IAAgB,SAAUI,KAAKJ,GAe5E,KAAAK,EACgBhM,KAAKoD,MAAMmH,IAAI0B,UAA7BrM,EADFoM,EACEpM,EAAGmE,EADLiI,EACKjI,EAAGC,EADRgI,EACQhI,EAAG1C,EADX0K,EACW1K,EAChB2J,EAAKnG,MAAMtD,UAAX,UAAAO,OAAiC,CAACnC,EAAEmE,EAAEC,EAAE1C,EAAEe,EAAEC,GAAGhC,KAAK,KAApD,SAjB6F,CAG7F,IAAMiK,EAAMvK,KAAKoD,MAAMmH,IACjB2B,EAAMlM,KAAKoD,MAAMmH,IAAI0B,UACrBE,EAAK5B,EAAI6B,SAASF,GACxBC,EAAGE,GAAKhK,EACR8J,EAAGG,GAAKhK,EACR4J,EAAIG,EAAIhK,EACR6J,EAAII,EAAIhK,EACR,IAAMiK,EAAKJ,EAAGC,SAAS7B,GAAK6B,SAASF,GAE/BM,EAAe,CADMD,EAApB3M,EAAoB2M,EAAjBxI,EAAiBwI,EAAdvI,EAAcuI,EAAXjL,EAAWiL,EAARF,EAAQE,EAALD,GAEtBrB,EAAKnG,MAAMtD,UAAX,UAAAO,OAAiCyK,EAAalM,KAAK,KAAnD,KAOF,GAAIyF,EAAQ,CACV,IAAMwC,EAAyB,SAAXxC,EAA4B,UAAPiF,EAAiBF,GAAe,IAAMA,GAAe,IAAO/E,EACrGmF,EAAKpG,MAAMtD,UAAX,UAAAO,QAAkCwG,EAAlC,SAMJ,OAFAkE,QAAQC,IAAI,CAACzB,OAAMC,SAGjBvL,EAAAC,EAAAC,cAAA,gBAAAkD,OAAAsG,OAAA,GA7EW,CACXhH,EAAG,EAAGC,EAAG,EACTE,MAAO,OAAQD,OAAQ,OACvBuC,MAAO,CAAC0B,SAAU,YA0ElB,CAAyBnD,IAAKrD,KAAKqD,IAAKsJ,MAAM,iCAC5ChN,EAAAC,EAAAC,cAAA,MAASoL,EACPtL,EAAAC,EAAAC,cAAA,MAAAkD,OAAAsG,OAAA,CAAKvJ,UAAU,iBAAoBoL,EAAnC,CAAyClF,OAAQA,IAC9ChG,KAAKC,MAAMC,mBAjHWC,IAAMC,WCYnCwM,EAAc,SAAA3I,GAClB,IAAM4I,EAAY,CAAC,QAAS,MAAO,OAC7BC,EAAU,GAChB,GAAI7I,GAAkB,IAAbA,EAAEiB,OACT,IAAK,IAAIuE,EAAE,EAAGA,EAAE,EAAGA,IAAK,CACtB,IAAMzF,EAAIC,EAAEwF,GACF,MAANzF,EAAW8I,EAAO,SAAA/K,OAAU8K,EAAUpD,KAAQ,WACnC,MAANzF,EAAW8I,EAAO,SAAA/K,OAAU8K,EAAUpD,KAAS,WACzC,MAANzF,EAAW8I,EAAO,SAAA/K,OAAU8K,EAAUpD,KAAS,QACzC,MAANzF,IAAW8I,EAAO,SAAA/K,OAAU8K,EAAUpD,KAAS,QAG5D,OAAOqD,GAIT,SAASC,EAAuB9M,GAC9B,OAAIA,EAAM6M,QACD/J,OAAAgC,EAAA,EAAAhC,CAAA,GAAI9C,EAAU2M,EAAY3M,EAAM6M,UAElC7M,EAGF,IAAM+M,EAAO,SAAA/M,GAClB,OAAON,EAAAC,EAAAC,cAAA,OAAAkD,OAAAsG,OAAA,CAAM7D,aAAa,WAAcuH,EAAuB9M,MAGpDgN,EAAU,SAAAhN,GACrB,OAAON,EAAAC,EAAAC,cAAA,UAAAkD,OAAAsG,OAAA,CAAS7D,aAAa,WAAcuH,EAAuB9M,MAGvDiN,EAAW,SAAAjN,GACtB,OAAON,EAAAC,EAAAC,cAAA,WAAAkD,OAAAsG,OAAA,CAAU7D,aAAa,WAAcuH,EAAuB9M,MAGxDkN,EAAO,SAAAlN,GAClB,OACEN,EAAAC,EAAAC,cAAA,OAAAkD,OAAAsG,OAAA,CAAM7D,aAAa,WAAcuH,EAAuB9M,MAI/CmN,GAAQ,SAAAnN,GAAS,IACrBoC,EAA4BpC,EAA5BoC,EAAGC,EAAyBrC,EAAzBqC,EAAG+K,EAAsBpN,EAAtBoN,OADeC,EACOrN,EAAdsN,cADO,IAAAD,EACA,IADAA,EAEtBE,EAAY,GASlB,OAPEA,EAAUlM,EADR+L,EACF,IAAAtL,OAAkBsL,EAAO,GAAzB,KAAAtL,OAA+BsL,EAAO,GAAtC,KAEA,IAAAtL,OAAkBM,EAAlB,KAAAN,OAAuBO,EAAvB,KAEEiL,IACFC,EAAUV,QAAV,KAAA/K,OAAyBwL,IAEpB5N,EAAAC,EAAAC,cAAC4N,EAASD,IC7CbE,GAAS,SAAAC,GACb,IAAI/N,EAAGmE,EAAGC,EAAG1C,EAAG+K,EAAGC,EACnB,GAAIsB,MAAMC,QAAQF,GAAS,KAAAG,EAAA/K,OAAA6D,EAAA,EAAA7D,CACQ4K,EADR,GAAAI,EAAAD,EAAA,GACxBlO,OADwB,IAAAmO,EACtB,EADsBA,EAAA,IAAAC,EAAAF,EAAA,GACnB/J,OADmB,IAAAiK,EACjB,EADiBA,EAAA,IAAAC,EAAAH,EAAA,GACd9J,OADc,IAAAiK,EACZ,EADYA,EAAA,IAAAC,EAAAJ,EAAA,GACTxM,OADS,IAAA4M,EACP,EADOA,EAAA,IAAAC,EAAAL,EAAA,GACJzB,OADI,IAAA8B,EACF,EADEA,EAAA,IAAAC,EAAAN,EAAA,GACCxB,OADD,IAAA8B,EACG,EADHA,MAEpB,KAAAC,EAC6BV,EAAhC/N,SADG,IAAAyO,EACD,EADCA,EAAA,IAAAC,EAC6BX,EAA3B5J,SADF,IAAAuK,EACI,EADJA,EAAA,IAAAC,EAC6BZ,EAAtB3J,SADP,IAAAuK,EACS,EADTA,EAAA,IAAAC,EAC6Bb,EAAjBrM,SADZ,IAAAkN,EACc,EADdA,EAAA,IAAAC,EAC6Bd,EAAZtB,SADjB,IAAAoC,EACmB,EADnBA,EAAA,IAAAC,EAC6Bf,EAAPrB,SADtB,IAAAoC,EACwB,EADxBA,EAGP,gBAAA3M,OAAiBnC,EAAjB,KAAAmC,OAAsBgC,EAAtB,KAAAhC,OAA2BiC,EAA3B,KAAAjC,OAAgCT,EAAhC,KAAAS,OAAqCsK,EAArC,KAAAtK,OAA0CuK,EAA1C,MAgBIqC,GAAgB,SAAA1O,GAAS,IACtBS,EAAgBT,EAAhBS,KAAMiN,EAAU1N,EAAV0N,OACb,OAAOjN,GACL,IAAK,SAAU,OAAOgN,GAAOC,GAC7B,IAAK,SAAU,OAjBJ,SAAAA,GACb,IAAI/N,EAAGyC,EAAGC,EACV,GAAIsL,MAAMC,QAAQF,GAAS,KAAAiB,EAAA7L,OAAA6D,EAAA,EAAA7D,CACb4K,EADa,GACxB/N,EADwBgP,EAAA,GACrBvM,EADqBuM,EAAA,GAClBtM,EADkBsM,EAAA,QAGvBhP,EAAW+N,EAAX/N,EAAGyC,EAAQsL,EAARtL,EAAGC,EAAKqL,EAALrL,EAEV,YAAUiF,IAANlF,QAAyBkF,IAANjF,EACrB,UAAAP,OAAiBnC,EAAjB,KAAAmC,OAAsBM,EAAtB,MAAAN,OAA4BO,EAA5B,KAEF,UAAAP,OAAiBnC,EAAjB,KAOwBmG,CAAO4H,GAC7B,IAAK,QAAS,OAtCJ,SAAAA,GACZ,IAAItL,EAAGC,EACP,GAAIsL,MAAMC,QAAQF,GAAS,KAAAkB,EAAA9L,OAAA6D,EAAA,EAAA7D,CACZ4K,EADY,GAAAmB,EAAAD,EAAA,GACxBxM,OADwB,IAAAyM,EACtB,EADsBA,EAAA,IAAAC,EAAAF,EAAA,GACnBvM,OADmB,IAAAyM,EACjB,EADiBA,MAEpB,KAAAC,EACSrB,EAAZtL,SADG,IAAA2M,EACD,EADCA,EAAA,IAAAC,EACStB,EAAPrL,SADF,IAAA2M,EACI,EADJA,EAGP,eAAAlN,OAAgBM,EAAhB,KAAAN,OAAqBO,EAArB,KA+BuB4M,CAAMvB,GAC3B,IAAK,YAAa,OAjDJ,SAAAA,GAChB,IAAItL,EAAGC,EACP,GAAIsL,MAAMC,QAAQF,GAAS,KAAAwB,EAAApM,OAAA6D,EAAA,EAAA7D,CACZ4K,EADY,GAAAyB,EAAAD,EAAA,GACxB9M,OADwB,IAAA+M,EACtB,EADsBA,EAAA,IAAAC,EAAAF,EAAA,GACnB7M,OADmB,IAAA+M,EACjB,EADiBA,MAEpB,KAAAC,EACS3B,EAAZtL,SADG,IAAAiN,EACD,EADCA,EAAA,IAAAC,EACS5B,EAAPrL,SADF,IAAAiN,EACI,EADJA,EAGP,mBAAAxN,OAAoBM,EAApB,KAAAN,OAAyBO,EAAzB,KA0C2BkN,CAAU7B,GACnC,IAAK,WAAY,OAAOD,GAAO,CAAC,EAAE,EAAE,EAAE,IACtC,QAAS,MAAO,SAoCL+B,GA/BG,SAAAxP,GAAS,IACjBS,EAAoCT,EAApCS,KAAMgP,EAA8BzP,EAA9ByP,KAAmB/B,GAAW1N,EAAxBC,SADK6C,OAAA6B,EAAA,EAAA7B,CACmB9C,EADnB,6BAGnB0P,EAAa,CAAEnK,aAAc,WAEnC,GAAIkK,EAAM,CACR,IAAME,EAAa,GADXC,GAAA,EAAAC,GAAA,EAAAC,OAAAxI,EAAA,IAER,QAAAyI,EAAAC,EAAgBP,EAAhBQ,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAAsB,KAAX1F,EAAW6F,EAAAM,MAAA5O,EACa,kBAANyI,EAAiB,CAACA,GAAKA,EAD9BzH,EAAAK,OAAA6D,EAAA,EAAA7D,CAAArB,EAAA,GACb6O,EADa7N,EAAA,GAAA8N,EAAA9N,EAAA,GAEd+N,EAAM9B,GAAc,CAACjO,KAAM6P,EAAI5C,YAFjB,IAAA6C,EACN,GADMA,IAGR,SAARC,GACFb,EAAWxF,KAAKqG,IANZ,MAAAC,GAAAZ,GAAA,EAAAC,EAAAW,EAAA,YAAAb,GAAA,MAAAI,EAAAU,QAAAV,EAAAU,SAAA,WAAAb,EAAA,MAAAC,GASJH,EAAW1K,OAAS,IACtByK,EAAWnO,UAAYoO,EAAWtP,KAAK,UAEpC,CACL,IAAMmQ,EAAM9B,GAAc,CAACjO,OAAMiN,WAC7B8C,GAAe,SAARA,IACTd,EAAWnO,UAAYiP,GAI3B,OACE9Q,EAAAC,EAAAC,cAAA,IAAO8P,EACJ1P,EAAMC,WC9DN,SAAS0Q,GAAmBrP,GAClC,MAAsB,kBAAXA,EACHA,EAEJqM,MAAMC,QAAQtM,EAAO,IACfA,EAAOgI,IAAI,SAAAsH,GAAC,SAAA9O,OAAO8O,EAAE,GAAT,KAAA9O,OAAe8O,EAAE,MAAMvQ,KAAK,KAE1CiB,EAAOgI,IAAI,SAAAsH,GAAC,SAAA9O,OAAO8O,EAAExO,EAAT,KAAAN,OAAc8O,EAAEvO,KAAKhC,KAAK,KCvB/C,IAAMwQ,GAAa,SAAA7Q,GAAS,IACnBqB,EAA2CrB,EAA3CqB,EAAGC,EAAwCtB,EAAxCsB,OAAQuL,EAAgC7M,EAAhC6M,QAASiE,EAAuB9Q,EAAvB8Q,KADDC,EACwB/Q,EAAjBgR,eADP,IAAAD,KAE1B,OAAI1P,EACK3B,EAAAC,EAAAC,cAAC4N,EAAD,CAAQnM,EAAGA,EAAGwL,QAASA,EAASiE,KAAMA,IAEtCxP,EACH0P,EACKtR,EAAAC,EAAAC,cAACqR,EAAD,CAAW3P,OAAQqP,GAAmBrP,GAASuL,QAASA,EAASiE,KAAMA,IAEzEpR,EAAAC,EAAAC,cAACsR,EAAD,CAAU5P,OAAQqP,GAAmBrP,GAASuL,QAASA,EAASiE,KAAMA,IAExE,MAGI5D,GAAO,SAAAlN,GAAS,IACpB6E,EAAS7E,EAAT6E,MACP,OAAIA,EACKnF,EAAAC,EAAAC,cAACuR,GAAD,CAAO3M,KAAMK,GAAQgM,GAAW7Q,IAElC6Q,GAAW7Q,IAGLkN,MCqBAkE,GA9CG,SAAApR,GAAS,IAClBqR,EAA6BrR,EAA7BqR,MAAOC,EAAsBtR,EAAtBsR,IAAQC,EADGzO,OAAA6B,EAAA,EAAA7B,CACW9C,EADX,iBAGpBoC,EAAgBpC,EAAhBoC,EAAGC,EAAarC,EAAbqC,EAAG+K,EAAUpN,EAAVoN,OACPA,IACFhL,EAAIgL,EAAO,GACX/K,EAAI+K,EAAO,IANY,IASpBrF,EAAgC/H,EAAhC+H,OAAQyJ,EAAwBxR,EAAxBwR,UAAWC,EAAazR,EAAbyR,UAElBC,EAAYJ,EAAMD,GACpBG,GAAaC,UACGnK,IAAdmK,IACFA,EAAwB,GAAZD,QAEIlK,IAAdkK,IACFA,EAAwB,EAAZC,GAEVC,EAAY,KAEd3J,EAAS0J,GADID,EAAYC,IACE,GAAGC,GAAW,UAG9BpK,IAAXS,IACFA,EAAS0J,GAIX,IAAME,EAAalK,WAAW4J,GAASpN,KAAKkE,GAAK,IAC3CyJ,EAAWnK,WAAW6J,GAAOrN,KAAKkE,GAAK,IACvC0J,EAAW,CACfzP,EAAGA,EAAI6B,KAAKiE,IAAIyJ,GAAc5J,EAC9B1F,EAAGA,EAAI4B,KAAKmE,IAAIuJ,GAAc5J,GAE1B+J,EAAS,CACb1P,EAAGA,EAAI6B,KAAKiE,IAAI0J,GAAY7J,EAC5B1F,EAAGA,EAAI4B,KAAKmE,IAAIwJ,GAAY7J,GAE1B1G,EAAI+L,EAAM,IAAAtL,OAAOsL,EAAO,GAAd,KAAAtL,OAAoBsL,EAAO,IAA3B,IAAAtL,OAAsCM,EAAtC,KAAAN,OAA2CO,GAIzD,OAHAhB,GAAC,MAAAS,OAAU+P,EAASzP,EAAnB,KAAAN,OAAwB+P,EAASxP,GAClChB,GAAC,MAAAS,OAAUiG,EAAV,KAAAjG,OAAoBiG,EAApB,OAAAjG,OAAgCwP,EAAID,EAAQ,IAAM,EAAI,EAAtD,MACDhQ,GAAC,IAAAS,OAAQgQ,EAAO1P,EAAf,KAAAN,OAAoBgQ,EAAOzP,EAA3B,MACM3C,EAAAC,EAAAC,cAACmS,GAADjP,OAAAsG,OAAA,CAAMvE,MAAM,YAAYiM,KAAK,SAAYS,EAAzC,CAAqDlQ,EAAGA,MC1C7D2Q,GAAY,EA2BDC,GAzBF,SAAAjS,GAAS,IAEhBkS,EADGhN,EAAoElF,EAApEkF,MADaiN,EACuDnS,EAA7DY,UADM,IAAAuR,EAAA,gBAAArQ,SACekQ,IADfG,EACyCC,GAAcpS,EAA3BC,SAD5B6C,OAAA6B,EAAA,EAAA7B,CACuD9C,EADvD,4BAUpB,MAPc,SAAVkF,EACFgN,EAAOhF,GAEU,SAAVhI,IACPgN,EAAO,QAGLA,EAEAxS,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACEnC,EAAAC,EAAAC,cAAA,YAAUgB,GAAIA,GACXV,IAAMN,cAAcsS,EAAME,IAE7B1S,EAAAC,EAAAC,cAAA,KAAGyS,SAAQ,QAAAvQ,OAAUlB,EAAV,KAAiB2E,aAAa,WACtCvF,EAAMC,WAKRD,EAAMC,UCQf,SAASqS,GAAKtO,GAIZ,OAZF,SAASuO,EAAYC,EAAKC,GACxB,MAAa,OAATA,EAAsBD,EACb,OAATC,EAA0B,GAAJD,EACb,OAATC,EAA6B,KAAND,EACd,OAATC,EAAsBF,EAAYC,EAAI,GAAI,MACjC,OAATC,EAAsBF,EAAYC,EAAI,GAAI,WAA9C,EAOOD,EAFIvO,EAAE0O,MAAM,GAAG,GACZ1O,EAAE0O,OAAO,IAKrB,IAAMC,GAAU,SAAAlR,GAAsC,IAApCiE,EAAoCjE,EAApCiE,GAAIC,EAAgClE,EAAhCkE,GAAIC,EAA4BnE,EAA5BmE,GAAIC,EAAwBpE,EAAxBoE,GAAI+M,EAAoBnR,EAApBmR,KAAM3S,EAAcwB,EAAdxB,SACtC,OAAI2S,EAEAlT,EAAAC,EAAAC,cAACiT,GAAD,CAAM3N,MAAM,OAAO9C,EAAGsD,EAAIrD,EAAGsD,EAAIpD,MAAOqD,EAAGF,EAAIpD,OAAQuD,EAAGF,GACvD1F,GAIEA,GAIL6S,GAAS,SAAArQ,GAAuB,IAArBoC,EAAqBpC,EAArBoC,MAAO5E,EAAcwC,EAAdxC,SACtB,OAAI4E,GAAmB,SAAVA,EAETnF,EAAAC,EAAAC,cAACuR,GAAD,CAAO3M,KAAMK,GACV5E,GAIEA,GAkGI8S,GA9FgB,SAAA/S,GAC7B,IAAMgT,EAAS,GACTC,EAjER,SAAmBA,GACjB,GAAItF,MAAMC,QAAQqF,GAAO,KAAAC,EAAApQ,OAAA6D,EAAA,EAAA7D,CACEmQ,EADF,GAEvB,MAAO,CAACvN,IAFewN,EAAA,GAENvN,IAFMuN,EAAA,GAEGtN,IAFHsN,EAAA,GAEYrN,IAFZqN,EAAA,IAIzB,GAAoB,kBAATD,EAAmB,CAC5B,IAAME,EAAKF,EAAKG,MAAM,KACtB,GAAkB,IAAdD,EAAGlO,OAAc,KAAAoO,EACMF,EAAG,GAAGC,MAAM,KADlBE,EAAAxQ,OAAA6D,EAAA,EAAA7D,CAAAuQ,EAAA,GAEnB,MAAO,CAAC3N,IAFW4N,EAAA,GAEF3N,IAFE2N,EAAA,GAEO1N,IAFP0N,EAAA,GAEgBzN,IAFhByN,EAAA,IAIrB,GAAkB,IAAdH,EAAGlO,OAAc,KAAAsO,EACFJ,EAAG,GAAGC,MAAM,KADVI,EAAA1Q,OAAA6D,EAAA,EAAA7D,CAAAyQ,EAAA,GACZ7N,EADY8N,EAAA,GACR7N,EADQ6N,EAAA,GAAAC,EAEFN,EAAG,GAAGC,MAAM,KAFVM,EAAA5Q,OAAA6D,EAAA,EAAA7D,CAAA2Q,EAAA,GAGnB,MAAO,CAAC/N,IAAKA,EAAIC,IAAKA,EAAIC,IAHP8N,EAAA,GAGgB7N,IAHhB6N,EAAA,IAId,GAAkB,IAAdP,EAAGlO,OAAc,KAAA0O,EAAA7Q,OAAA6D,EAAA,EAAA7D,CACDqQ,EADC,GAE1B,MAAO,CAACzN,IAFkBiO,EAAA,GAEThO,IAFSgO,EAAA,GAEA/N,IAFA+N,EAAA,GAES9N,IAFT8N,EAAA,KAK9B,OAAO,KA6CMC,CAAU5T,EAAMiT,MAC7B,GAAa,OAATA,EAEF,OADAzG,QAAQC,IAAI,iCACL,KAL6B,IAO/B/G,EAAkBuN,EAAlBvN,GAAIC,EAAcsN,EAAdtN,GAAIC,EAAUqN,EAAVrN,GAAIC,EAAMoN,EAANpN,GACblC,EAAIiC,EAAKF,EACT9B,EAAIiC,EAAKF,EATuBkO,GAelC7T,EAJF4I,oBAIE5I,EAHF6I,eAZoC,IAAAgL,EAY7B,MAZ6BA,EAAAC,EAelC9T,EAFF+T,YAboC,IAAAD,KAAAE,EAelChU,EAFSiU,YAbyB,IAAAD,KAAAE,EAelClU,EADF6E,aAdoC,IAAAqP,EAc9B,mBAd8BA,EAAAC,EAelCnU,EADwB4S,KAGtBwB,EAAU,CAAC1O,KAAIC,KAAIC,KAAIC,KAAI+M,UAjBK,IAAAuB,MAkBhCE,EAAS,CAACxP,SAEVyP,EAAOhC,GAAKzJ,GAElB,IAAkC,IAA9B7I,EAAM4I,0BAGR,GAAI5I,EAAMuC,OAASvC,EAAMsC,OACvBkK,QAAQC,IAAI,yBAoBP,GAAIzM,EAAMuC,MAAO,CACtB,IAAMA,EAAQ+P,GAAKtS,EAAMuC,OACzByQ,EAAOzQ,MAAQA,EAAa,EAAL+R,EAAS,KAChC,IAAMC,EAAS5Q,EAAI2Q,EAAO/R,EAC1ByQ,EAAOtN,GAAKA,EAAK6O,EACjBvB,EAAOrN,GAAKA,EAAK4O,EACjBvB,EAAOpN,GAAKA,EAAK2O,EACjBvB,EAAOnN,GAAKA,EAAK0O,OAEZ,GAAIvU,EAAMsC,OAAQ,CACvB,IAAMA,EAASgQ,GAAKtS,EAAMsC,QAC1B0Q,EAAO1Q,OAASA,EAAc,EAALgS,EAAS,KAClC,IAAMC,EAAS3Q,EAAI0Q,EAAOhS,EAC1B0Q,EAAOtN,GAAKA,EAAK6O,EACjBvB,EAAOrN,GAAKA,EAAK4O,EACjBvB,EAAOpN,GAAKA,EAAK2O,EACjBvB,EAAOnN,GAAKA,EAAK0O,EAMrB,IAAMtU,EAAWC,IAAM6I,SAASC,QAAQhJ,EAAMC,UACxCgJ,EAAchJ,EAASiJ,OAAO,SAAAnF,GAAC,OAAIA,EAAEtD,OAASgF,IAC9C0D,EAAWlJ,EAASiJ,OAAO,SAAAnF,GAAC,OAAIA,EAAEtD,OAASgF,IAEjD,OACE/F,EAAAC,EAAAC,cAAC4U,EAAWxB,EACVtT,EAAAC,EAAAC,cAACyJ,EAAD,MACC0K,EACCrU,EAAAC,EAAAC,cAAC6U,GAAD,CAAMxB,KAAM,CAACvN,EAAIC,EAAIC,EAAIC,GAAKoO,KAAMA,IAClCA,EACJvU,EAAAC,EAAAC,cAACuR,GAAD,CAAOuD,UAAU,gBACfhV,EAAAC,EAAAC,cAACmS,GAAD,CAAMzQ,OAAQ,CAAC,CAAC,EAAEqE,GAAK,CAAC,EAAEE,IAAMgH,QAAQ,WACxCnN,EAAAC,EAAAC,cAACmS,GAAD,CAAMzQ,OAAQ,CAAC,CAACoE,EAAG,GAAI,CAACE,EAAG,IAAKiH,QAAQ,YAEtC,KACJnN,EAAAC,EAAAC,cAAC+U,GAAYP,EACX1U,EAAAC,EAAAC,cAACgV,GAAWP,EACTpL,IAGJE,ICpIQQ,GApBF,SAAA3J,GAAS,IACZiT,EAAgCjT,EAAhCiT,KADY4B,EACoB7U,EAA1B8U,YADM,IAAAD,EACD,CAAC,EAAE,GADFA,EAAAb,EACoBhU,EAAdiU,YADN,IAAAD,KAAAd,EAAApQ,OAAA6D,EAAA,EAAA7D,CAEKmQ,EAFL,GAEbvN,EAFawN,EAAA,GAETvN,EAFSuN,EAAA,GAELtN,EAFKsN,EAAA,GAEDrN,EAFCqN,EAAA,GAAAnD,EAAAjN,OAAA6D,EAAA,EAAA7D,CAGGgS,EAHH,GAGbjL,EAHakG,EAAA,GAGNhG,EAHMgG,EAAA,GAKpB,OACErQ,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACAnC,EAAAC,EAAAC,cAACmV,EAAD,CAAOvQ,KAAK,gBACV9E,EAAAC,EAAAC,cAACoV,EAAgB,CAACtP,KAAIC,KAAIC,KAAIC,KAAIgE,QAAOE,WAE1CkK,EACCvU,EAAAC,EAAAC,cAACmV,EAAD,CAAOvQ,KAAK,gBACV9E,EAAAC,EAAAC,cAACqV,EAAD,CAAMvP,GAAIA,EAAIC,GAAI,EAAGC,GAAIA,EAAIC,GAAI,EAAGgH,QAAQ,WAC5CnN,EAAAC,EAAAC,cAACqV,EAAD,CAAMvP,GAAI,EAAGC,GAAIA,EAAIC,GAAI,EAAGC,GAAIA,EAAIgH,QAAQ,YAE5C,OCZOqI,GAFD,SAAAlV,GAAK,OAAIN,EAAAC,EAAAC,cAAA,IAAOI,EAAQA,EAAMC,WCDtCkV,GAAW,SAAS9I,EAAG+I,GAG3B,IAH6C,IAAVN,EAAUO,UAAApQ,OAAA,QAAAqC,IAAA+N,UAAA,GAAAA,UAAA,GAAL,GACpCC,EAAO,GACPlT,EAAIgT,EAAO,GACRhT,EAAIgT,EAAO,IAChBE,EAAKnL,KAAK,CAAC/H,EAAGA,EAAGC,EAAGgK,EAAEjK,KACtBA,GAAK0S,EAGP,OADAQ,EAAKnL,KAAM,CAAC/H,EAAGgT,EAAO,GAAI/S,EAAGgK,EAAE+I,EAAO,MAC/BE,GCaM/Q,GAtBD,SAAAvE,GAAS,IACdwE,EAA0BxE,EAA1BwE,KAAMkQ,EAAoB1U,EAApB0U,UAAWjQ,EAASzE,EAATyE,MAEpB8Q,EAAa,GACb/Q,IACF+Q,EAAaA,EAAWzT,OAAO0C,EAAK4O,MAAM,KAAK9J,IAAI,SAAAtF,GAAC,kBAAAlC,OAAgBkC,OAElE0Q,IACFa,EAAaA,EAAWzT,OAAO4S,EAAUtB,MAAM,OAGjD,IAAM1O,EAAa,GAInB,OAHID,IAAOC,EAAWD,MAAQA,GAC1B8Q,EAAWtQ,SAAQP,EAAWF,KAAO+Q,EAAWlV,KAAK,MAGvDX,EAAAC,EAAAC,cAACmV,EAAYrQ,EACV1E,EAAMC,WC4CEuV,WAvBQ,CACrBpE,aACAqE,URduB,SAAAzV,GAAK,OAAIN,EAAAC,EAAAC,cAAC8V,GAAD5S,OAAAsG,OAAA,CAAMvE,MAAM,aAAgB7E,KQe5DuI,SACAoN,OX1CoB,SAAA3V,GACpB,OAAON,EAAAC,EAAAC,cAAA,SAAAkD,OAAAsG,OAAA,CAAQ7D,aAAa,WAAcvF,KW0C1CiS,QACAc,mBACA6C,QXzCqB,SAAA5V,GACrB,OAAON,EAAAC,EAAAC,cAAA,UAAAkD,OAAAsG,OAAA,CAAS7D,aAAa,WAAcvF,KWyC3C2J,QACAU,QACA6K,SACAzP,UACAyH,QACAC,SACAH,QRxBqB,SAAAhN,GAAK,OAAIN,EAAAC,EAAAC,cAAC8V,GAAD5S,OAAAsG,OAAA,CAAM4H,SAAS,GAAUhR,KQyBvD6V,mBFzCgC,SAAC7V,GAAU,IAEzC8V,EAEE9V,EAFF8V,aAAcV,EAEZpV,EAFYoV,OAF2BP,EAIvC7U,EAFoB8U,YAFmB,IAAAD,EAEd,GAFcA,EAGtCtD,EAHsCzO,OAAA6B,EAAA,EAAA7B,CAIvC9C,EAJuC,kCAM3C,QAAesH,IAAX8N,EAEF,OADA5I,QAAQuJ,MAAM,6CACP,KAWT,OAAOrW,EAAAC,EAAAC,cAACmS,GAADjP,OAAAsG,OAAA,CAAM9H,OAAQ6T,GARX,SAAC/S,GACT,IAAI4T,EAAM,EACV,IAAK,IAAMC,KAAOH,EAChBE,GAAOF,EAAaG,GAAOhS,KAAKiS,IAAI9T,EAAE6T,GAExC,OAAOD,GAGwBZ,EAAQN,IAAWvD,KEuBpD4E,iBFpB8B,SAACnW,GAAU,IAAAoW,EAAAC,EAMrCrW,EAJFsW,aAFuC,IAAAD,EAEjC,GAFiCA,EAAAE,EAMrCvW,EAJQwW,aAF6B,IAAAD,EAEvB,GAFuBA,EAAAE,EAMrCzW,EAJkB0W,kBAFmB,IAAAD,EAER,GAFQA,EAAAE,EAMrC3W,EAJiC4W,eAFI,IAAAD,EAEI,EAFJA,EAAAE,EAMrC7W,EAJ4C8W,eAFP,IAAAD,EAEe,EAFfA,EAGvCzB,EAGEpV,EAHFoV,OAHuC2B,EAMrC/W,EAHM8U,YAH+B,IAAAiC,EAG1B,GAH0BA,EAAAC,EAMrChX,EAHgBiX,aAHqB,IAAAD,EAGf,EAAE,IAAK,KAHQA,EAAAE,EAMrClX,EAFFmX,wBAJuC,IAAAD,KAAAE,EAMrCpX,EAFqBqX,mBAJgB,IAAAD,KAAAE,EAMrCtX,EAFuCuX,mBAJF,IAAAD,KAKvCzS,EACE7E,EADF6E,MAAOiM,EACL9Q,EADK8Q,KAGT,QAAexJ,IAAX8N,EAEF,OADA5I,QAAQuJ,MAAM,2CACP,KAGT,IAAM1J,EAAI,SAACjK,GACT,IAAIoV,EAAMZ,EACNa,EAAMX,EAFKlH,GAAA,EAAAC,GAAA,EAAAC,OAAAxI,EAAA,IAGf,QAAAyI,EAAAC,EAAgBsG,EAAhBrG,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EACE4H,GAAQpV,EADa2N,EAAAM,MAHR,MAAAI,GAAAZ,GAAA,EAAAC,EAAAW,EAAA,YAAAb,GAAA,MAAAI,EAAAU,QAAAV,EAAAU,SAAA,WAAAb,EAAA,MAAAC,GAAA,IAAA4H,GAAA,EAAAC,GAAA,EAAAC,OAAAtQ,EAAA,IAMf,QAAAuQ,EAAAC,EAAgBpB,EAAhBzG,OAAAC,cAAAwH,GAAAG,EAAAC,EAAA3H,QAAAC,MAAAsH,GAAA,EACED,GAAQrV,EADkByV,EAAAxH,MANb,MAAAI,GAAAkH,GAAA,EAAAC,EAAAnH,EAAA,YAAAiH,GAAA,MAAAI,EAAApH,QAAAoH,EAAApH,SAAA,WAAAiH,EAAA,MAAAC,GASf,OAAOJ,EAAMC,GAGTM,GAAS3B,EAAA,GAAAtT,OAAAoI,EAAA,EAAApI,CAAAsT,GACXhB,EAAO,IAAM,GADFtS,OAAAoI,EAAA,EAAApI,CAAAsT,GAEXhB,EAAO,IAAM,GAFFgB,GAzB0B4B,GAAA,EAAAC,GAAA,EAAAC,OAAA5Q,EAAA,IA8BzC,QAAA6Q,EAAAC,EAAgB1B,EAAWxN,OAAO,SAAA9H,GAAC,OAAIA,GAAKgU,EAAO,IAAMhU,GAAKgU,EAAO,KAArEnF,OAAAC,cAAA8H,GAAAG,EAAAC,EAAAjI,QAAAC,MAAA4H,GAAA,EACED,GADwEI,EAAA9H,QACxD,EA/BuB,MAAAI,GAAAwH,GAAA,EAAAC,EAAAzH,EAAA,YAAAuH,GAAA,MAAAI,EAAA1H,QAAA0H,EAAA1H,SAAA,WAAAuH,EAAA,MAAAC,GAoCzC,IAFA,IAAMG,EAAU,GACVC,EAAKxV,OAAOyV,KAAKR,GAAWS,KAAK,SAAC7Y,EAAEmE,GAAH,OAASnE,EAAEmE,IACzC0F,EAAI,EAAGA,EAAE8O,EAAGrT,OAAQuE,IAAK,KAAA/H,EACf,CAAC6W,EAAG9O,EAAE,GAAI8O,EAAG9O,IAAvBiP,EADyBhX,EAAA,GACrBiX,EADqBjX,EAAA,GAEhC4W,EAAQlO,KAAK,CACX,CAACqI,IAAKiG,EAAIE,IAAKZ,EAAUU,IACzB,CAACjG,IAAKkG,EAAIC,IAAKZ,EAAUW,MAK7B,IADA,IAAME,EAAQ,GACd5T,EAAA,EAAAA,EAAgBqT,EAAhBpT,OAAAD,IAAyB,CAApB,IAAM3D,EAAKgX,EAAJrT,GAEJ6T,EAAM,CACVxX,EAAE,GAAGsX,KAAOtX,EAAE,GAAGmR,KAAOnR,EAAE,GAAGmR,IAAMsC,EACnCzT,EAAE,GAAGsX,KAAOtX,EAAE,GAAGmR,KAAOnR,EAAE,GAAGmR,IAAMsC,GAEjCQ,EAAOH,GAAS9I,EAAGwM,EAAK/D,GAC5B,IAAKzT,EAAE,GAAGsX,IAER,IADA,IAAI/H,EAAI0E,EAAK,GACN1E,EAAEvO,EAAI4U,EAAM,IAAMrG,EAAEvO,EAAI4U,EAAM,IAAI,CACvC,IAAM7U,GAAK,EAAEf,EAAE,GAAGmR,IAAM5B,EAAExO,GAAK,EAE/BkT,EAAI,CADJ1E,EAAI,CAACxO,IAAGC,EAAGgK,EAAEjK,KACTN,OAAAgB,OAAAgW,EAAA,EAAAhW,CAAUwS,IAGlB,IAAKjU,EAAE,GAAGsX,IAER,IADA,IAAI/H,EAAI0E,EAAKA,EAAKrQ,OAAO,GAClB2L,EAAEvO,EAAI4U,EAAM,IAAMrG,EAAEvO,EAAI4U,EAAM,IAAI,CACvC,IAAM7U,GAAK,EAAEf,EAAE,GAAGmR,IAAM5B,EAAExO,GAAK,EAC/BwO,EAAI,CAACxO,IAAGC,EAAGgK,EAAEjK,IACbkT,EAAKnL,KAAKyG,GAGdgI,EAAMzO,KAAKmL,GAGb,IACIyD,EADEC,EAAMtC,EAAWpN,IAAI,SAAAlH,GAAC,MAAI,CAAC,CAACA,EAAGA,EAAGC,EAAG4U,EAAM,IAAK,CAAC7U,EAAGA,EAAGC,EAAG4U,EAAM,OAWtE,OATIP,EAAWzR,OAASqR,EAAMrR,OAC5B8T,EAAK,CAAC,CAAC3W,EAAGgT,EAAO,GAAI/S,EAAG,GAAI,CAACD,EAAGgT,EAAO,GAAI/S,EAAG,IACrCqU,EAAWzR,SAAWqR,EAAMrR,SACrC8T,EAAK,CAAC,CAAC3W,EAAGgT,EAAO,GAAI/S,EAAGuU,EAAQE,GAAU,CAAC1U,EAAGgT,EAAO,GAAI/S,EAAGuU,EAAQE,KAOpEpX,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACGsV,EACCzX,EAAAC,EAAAC,cAACuR,GAAD,CAAO3M,KAAK,aACTuU,EAAKrZ,EAAAC,EAAAC,cAACmS,GAAD,CAAMrI,IAAI,QAAQpI,OAAQyX,IAAS,KACxCC,EAAI1P,IAAI,SAAAsH,GAAC,OAAIlR,EAAAC,EAAAC,cAACmS,GAAD,CAAMrI,IAAG,OAAA5H,OAAS8O,EAAE,GAAGxO,GAAKd,OAAQsP,OAElD,KACH/L,EACCnF,EAAAC,EAAAC,cAACuR,GAAD,CAAO3M,KAAMK,GACV+T,EAAMtP,IAAI,SAAAsH,GAAC,OAAIlR,EAAAC,EAAAC,cAACmS,GAAD,CAAMrI,IAAG,OAAA5H,OAAS8O,EAAE,GAAGxO,GAAKd,OAAQsP,EAAGE,KAAMA,MAC5DuG,EAAcf,EAAMhN,IAAI,SAAAlH,GAAC,OAAI1C,EAAAC,EAAAC,cAACqZ,GAAD,CAAOvP,IAAG,OAAA5H,OAASM,GAAKA,EAAGA,EAAGC,EAAGgK,EAAEjK,OAAS,KACzEmV,EAAcf,EAAMlN,IAAI,SAAAlH,GAAC,OAAI1C,EAAAC,EAAAC,cAACqZ,GAAD,CAAOvP,IAAG,OAAA5H,OAASM,GAAKA,EAAGA,EAAGC,EAAGgK,EAAEjK,GAAIkL,OAAO,QAAS,MAGvF5N,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACG+W,EAAMtP,IAAI,SAAAsH,GAAC,OAAIlR,EAAAC,EAAAC,cAACmS,GAAD,CAAMrI,IAAG,OAAA5H,OAAS8O,EAAE,GAAGxO,GAAKd,OAAQsP,EAAGE,KAAMA,MAC5DuG,EAAcf,EAAMhN,IAAI,SAAAlH,GAAC,OAAI1C,EAAAC,EAAAC,cAACqZ,GAAD,CAAOvP,IAAG,OAAA5H,OAASM,GAAKA,EAAGA,EAAGC,EAAGgK,EAAEjK,OAAS,KACzEmV,EAAcf,EAAMlN,IAAI,SAAAlH,GAAC,OAAI1C,EAAAC,EAAAC,cAACqZ,GAAD,CAAOvP,IAAG,OAAA5H,OAASM,GAAKA,EAAGA,EAAGC,EAAGgK,EAAEjK,GAAIkL,OAAO,QAAS,QE/E7F4L,KX/CkB,SAAAlZ,GAClB,OAAON,EAAAC,EAAAC,cAAA,OAAAkD,OAAAsG,OAAA,CAAM7D,aAAa,WAAcuH,EAAuB9M,MW+C/DmZ,YR7ByB,SAAAnZ,GAAK,OAAIN,EAAAC,EAAAC,cAAC8V,GAAD5S,OAAAsG,OAAA,CAAMvE,MAAM,eAAkB7E,KQ8BhEuE,SACAiL,eC1DF,SAAS4J,GAAYC,GACnB,MAAe,QAAXA,EAAyB,YACd,WAAXA,EAA4B,eACjB,SAAXA,EAA0B,aACf,UAAXA,EAA2B,mBAA/B,EAIK,6CCTMC,GAAiB,SAACC,EAASC,GACtC,IACE,OAAOC,KAAMC,eAAeH,EAASC,GACrC,MAAOpN,GACP,KAAMA,aAAaqN,KAAME,YACvB,MAAMvN,EAERI,QAAQuJ,MACN,uCAAyCwD,EAAU,UAAWnN,GAGlE,OAAO,oICHHwN,GAAiB,CACrBC,YAAY,EAEZC,eAAe,EACfC,aAAa,EACbC,eAAe,EAEfC,eAAgB,CACdxR,QAAS,CAACpC,KAAM,MAAOuE,MAAO,OAC9BsP,OAAQ,CAAC7T,KAAM,KAAMuE,MAAO,QAInBuP,GAAiB,SAAA1Y,GAAqB,IAAnB2Y,EAAmB3Y,EAAnB2Y,KAAMZ,EAAa/X,EAAb+X,QAC9Ba,EAAOC,wBAAa,GAAId,EAASI,IACnCW,EAAK,IAAIC,KAcb,OAbIH,EAAKN,cAAeQ,EAAKA,EAAGE,IAAIC,OAChCL,EAAKP,gBAAiBS,EAAKA,EAAGE,IAAIE,OAClCN,EAAKL,gBAAiBO,EAAKA,EAAGE,IAAIG,OAClCP,EAAKR,aACPU,EAAKA,EAAGE,IAAII,KAAQ,CAClBC,eAAgB,SAACtK,GAAD,OAASuK,GAAcvK,IACvCwK,cAAe,SAACxK,GAAD,OAASuK,GAAcvK,EAAK,CAACyK,aAAa,KACzDC,WAAYb,EAAKJ,eAAeC,OAAO7T,KACvC8U,YAAad,EAAKJ,eAAeC,OAAOtP,MACxCwQ,UAAWf,EAAKJ,eAAexR,QAAQpC,KACvCgV,WAAYhB,EAAKJ,eAAexR,QAAQmC,SAGrClL,EAAAC,EAAAC,cAAA,QAAM0b,wBAAyB,CAACC,OAAQhB,EAAGiB,aAAapB,OAGpDnc,GAAW,SAAAwE,GAAqB,IAAnB2X,EAAmB3X,EAAnB2X,KAAMZ,EAAa/W,EAAb+W,QACxBa,EAAOC,wBAAa,GAAId,EAASI,IACnCW,EAAK,IAAIC,KAcb,OAbIH,EAAKN,cAAeQ,EAAKA,EAAGE,IAAIC,OAChCL,EAAKP,gBAAiBS,EAAKA,EAAGE,IAAIE,OAClCN,EAAKL,gBAAiBO,EAAKA,EAAGE,IAAIG,OAClCP,EAAKR,aACPU,EAAKA,EAAGE,IAAII,KAAQ,CAClBC,eAAgB,SAACtK,GAAD,OAASuK,GAAcvK,IACvCwK,cAAe,SAACxK,GAAD,OAASuK,GAAcvK,EAAK,CAACyK,aAAa,KACzDC,WAAYb,EAAKJ,eAAeC,OAAO7T,KACvC8U,YAAad,EAAKJ,eAAeC,OAAOtP,MACxCwQ,UAAWf,EAAKJ,eAAexR,QAAQpC,KACvCgV,WAAYhB,EAAKJ,eAAexR,QAAQmC,SAI1ClL,EAAAC,EAAAC,cAAA,QAAMC,UAAWC,KAAO7B,SAAUqd,wBAAyB,CAACC,OAAQhB,EAAGkB,OAAOrB,OCvDrEnW,GAAO,SAAAjE,GAClB,IAAM0b,EAAOX,GAAc/a,EAAMoa,KAAMpa,EAAMwZ,SAC7C,OAAO9Z,EAAAC,EAAAC,cAAA,QAAM0b,wBAAyB,CAACC,OAAQG,MAGpCC,GAAc,SAAA3b,GACzB,IAAMwZ,EAAO1W,OAAAgC,EAAA,EAAAhC,CAAA,CAAImY,aAAa,GAASjb,EAAMwZ,SACvCkC,EAAOX,GAAc/a,EAAMoa,KAAMZ,GACvC,OAAO9Z,EAAAC,EAAAC,cAAA,QAAM0b,wBAAyB,CAACC,OAAQG,MCiC3CE,GAAsB,SAACC,GAC3B,IAAMC,EA5CY,SAACD,GAMnB,IALA,IAAIE,EAAS,GACTxY,EAAU,GACVyY,GAAU,EACVxS,EAAI,EACJyS,EAAY,EACTzS,EAAIqS,EAAK5W,QAAQ,CACtB,IAAMiX,EAAWL,EAAKrS,GAClBwS,EACe,MAAbE,EACFD,GAAa,GAEbF,EAAO5R,KAAK,CAAC1J,KAAM,QAAS0b,KAAMF,IAClC1Y,EAAU2Y,EACVF,GAAU,EACVC,EAAY,GAGG,MAAbC,GACc,KAAZ3Y,IACFwY,EAAO5R,KAAK,CAAC1J,KAAM,OAAQob,KAAMtY,IACjCA,EAAU,IAEZyY,GAAU,EACVC,EAAY,GAEZ1Y,GAAW2Y,EAGf1S,GAAK,EAWP,OATIwS,EACEC,EAAY,GACdF,EAAO5R,KAAK,CAAC1J,KAAM,QAAS0b,KAAMF,IAGpB,KAAZ1Y,GACFwY,EAAO5R,KAAK,CAAC1J,KAAM,OAAQob,KAAMtY,IAG9BwY,EAIOK,CAAYP,GAC1B,OACEnc,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACGia,EAAMxS,IAAI,SAACsH,EAAGpH,GACb,GAAe,SAAXoH,EAAEnQ,KACJ,OACEf,EAAAC,EAAAC,cAAA,OAAK8J,IAAKF,EAAG3E,MAAO,CAAC4D,QAAS,iBAAkBmI,EAAEiL,MAGpD,IAAMlY,EAAC,GAAA7B,OAAM,EAAI,GAAG8O,EAAEuL,KAAO,GAAtB,MACP,OACEzc,EAAAC,EAAAC,cAAA,OAAK8J,IAAKF,EAAG3J,UAAU,8CAA8CgF,MAAO,CAACtC,MAAOoB,SCpD1F0Y,GAAgB,CAAC,eAAgB,WAAY,CAAC,SAAU,YAExDC,GAAoB,CAAC,eAAgB,WAAY,CAAC,UAAW,WAE7DC,GAAiB,SAAjBA,IAIG,IAAA9a,EAAA4T,UAAApQ,OAAA,QAAAqC,IAAA+N,UAAA,GAAAA,UAAA,GAAP,GAHAmH,EAGO/a,EAHP+a,QACAC,EAEOhb,EAFPgb,OAEOC,EAAAjb,EADPkb,iBACO,IAAAD,EADG,SACHA,EAED7c,EAAS,mCAAAiC,OAAsC6a,GAC/CC,EAAe,CAACC,IAAK,SAAUC,OAAQ,OAAOH,GAE9CI,EAAYN,IAAWD,EAAQQ,QAAgC,eAAtBR,EAAQQ,OAAO,GAAsBV,GAAoBD,IAExG,OACE3c,EAAAC,EAAAC,cAAA,OAAKC,UAAWA,GACbkd,EAAUzT,IAAI,SAAC2T,EAAMzT,GACpB,GAAImE,MAAMC,QAAQqP,GAChB,OACEvd,EAAAC,EAAAC,cAAC2c,EAAD,CAAgB7S,IAAG,UAAA5H,OAAY0H,GAC7BgT,QAASA,EACTC,OAAQQ,EACRN,UAAWC,IAIf,GAAIJ,EAAQS,GAAO,CACjB,IAAM7c,EAAa,CAAC,gBAAD,iBAAA0B,OAAmCmb,IACtD,OACEvd,EAAAC,EAAAC,cAAA,OAAK8J,IAAKuT,EAAMpd,UAAWO,EAAWC,KAAK,MACxC6c,GAAWV,EAAQS,KAK5B,OAAO,SAOf,SAASE,GAAiBX,GAAqB,IAAZhD,EAAYnE,UAAApQ,OAAA,QAAAqC,IAAA+N,UAAA,GAAAA,UAAA,GAAJ,GACzC,YAAiC/N,IAA7BkS,EAAQ2D,iBACH3D,EAAQ2D,oBAEbX,EAAQQ,QAAoC,kBAAnBR,EAAQQ,SAC/BR,EAAQQ,OAAOI,SAQhB,IAAMC,GAAW,SAACrd,GAAU,IAAAsd,EACVtd,EAAfwZ,eADyB,IAAA8D,EACjB,GADiBA,EAAAC,EAGSvd,EAAMwc,QAC5CA,EAAU,CAAEgB,aAJiBD,EAG1BC,aACuBC,SAJGF,EAGZE,SACmBC,QAJPH,EAGFG,SAI/B,GAAIP,GAAiBnd,EAAMwc,QAAShD,GAAU,CAC5C1W,OAAOsG,OAAOoT,EAASxc,EAAMwc,QAAQmB,gBACrC,IAAMC,EAAgB5d,EAAMwc,QAAQQ,OAAOY,cAC3CpB,EAAQQ,OAAR,CAAkB,gBAAiB,CAACY,kBAApC9b,OAAAgB,OAAAgW,EAAA,EAAAhW,CAAuD9C,EAAMwc,QAAQQ,OAAOI,eAE5Eta,OAAOsG,OAAOoT,EAASxc,EAAMwc,QAAQqB,cACjC7d,EAAMwc,QAAQQ,aAA0C1V,IAAhCtH,EAAMwc,QAAQQ,OAAOc,OACX,OAAhC9d,EAAMwc,QAAQQ,OAAOc,SACoB,kBAAhC9d,EAAMwc,QAAQQ,OAAOc,OAC9BtB,EAAQQ,OAAS,CAAC,eAAgB,KAAMhd,EAAMwc,QAAQQ,OAAOc,QACpDnQ,MAAMC,QAAQ5N,EAAMwc,QAAQQ,OAAOc,UAC5CtB,EAAQQ,OAAShd,EAAMwc,QAAQQ,OAAOc,SAI1CtB,EAAQQ,OAAS,CAAC,aAAc,CAAC1a,OAAQ,MAAOC,MAAO,QAI3D,IAAMka,EAASzc,EAAMwc,QAAQC,QAAUjD,EAAQiD,OAC/C,OACE/c,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACbH,EAAAC,EAAAC,cAACme,GAAD,CAAgBvB,QAASA,EAASC,OAAQA,MC9DzC,cChBD7C,GAAiB,CACrBC,YAAY,EACZmE,SAAU,SACV/D,eAAgB,CACdxR,QAAS,CAACpC,KAAM,MAAOuE,MAAO,OAC9BsP,OAAQ,CAAC7T,KAAM,KAAMuE,MAAO,QAiB1BqT,GAAY,SAAAxc,GAAqB,IAAnB2Y,EAAmB3Y,EAAnB2Y,KAAMZ,EAAa/X,EAAb+X,QAClB0E,EAAa,CACjB,CAAC7X,KAAMmT,EAAQS,eAAexR,QAAQpC,KAAMuE,MAAO4O,EAAQS,eAAexR,QAAQmC,MAAOnC,SAAS,GAClG,CAACpC,KAAMmT,EAAQS,eAAeC,OAAO7T,KAAMuE,MAAO4O,EAAQS,eAAeC,OAAOtP,MAAOnC,SAAS,IAGlG,OACE/I,EAAAC,EAAAC,cAAA,YAlBwB,SAASic,EAAMqC,GAEzC,IADA,IAAI9D,EAAO,CAAC,CAAC3Z,KAAM,OAAQ2Z,KAAMyB,IACxBrS,EAAI,EAAGA,EAAI0U,EAAWjZ,OAAQuE,IAAK,CAC1C,IAAM2U,EAAYD,EAAW1U,GAC7B4Q,EAAOgE,aACLhE,EAAM+D,EAAU9X,KAAM8X,EAAUvT,MAChCuT,EAAU1V,UAAW,GAEzB,OAAO2R,EAWFiE,CAAoBjE,EAAM8D,GAAY5U,IAAI,SAACvF,EAAEyF,GAC5C,MAAe,SAAXzF,EAAEtD,KACA+Y,EAAQwE,SACHte,EAAAC,EAAAC,cAAC0e,GAAD,CAAgB5U,IAAKF,EAAG4Q,KAAMrW,EAAEqW,KAAMZ,QAASA,IAE/C9Z,EAAAC,EAAAC,cAAC2e,GAAD,CAAO7U,IAAKF,EAAG4Q,KAAMrW,EAAEqW,KAAMZ,QAASA,IAG3CzV,EAAE0E,QACG/I,EAAAC,EAAAC,cAAC4e,GAAD,CAAa9U,IAAKF,EAAG4Q,KAAMrW,EAAEqW,OAE7B1a,EAAAC,EAAAC,cAAC6e,GAAD,CAAM/U,IAAKF,EAAG4Q,KAAMrW,EAAEqW,WAQ5BsE,GAAQ,SAAA1e,GACnB,OAAON,EAAAC,EAAAC,cAAA,YAAOI,EAAMoa,OAITuE,GAAO,SAAA3e,GAAS,IAOvB4e,EALFxE,EAEEpa,EAFFoa,KAAMyE,EAEJ7e,EAFI6e,WAAYC,EAEhB9e,EAFgB8e,SAAUra,EAE1BzE,EAF0ByE,MACzB8M,EAHsBzO,OAAA6B,EAAA,EAAA7B,CAIvB9C,EAJuB,0CAKrBqa,EAAOC,wBAAa,GAAI/I,EAAYqI,IACpC/U,EAAQ,CAACga,aAAYC,WAAUra,SAYrC,OATEma,GADoB,IAAlBvE,EAAK2D,UAAuC,SAAlB3D,EAAK2D,SAClB/f,GACNoc,EAAKR,WACCoE,GACY,WAAlB5D,EAAK2D,SACC7D,GAEAuE,GAIfhf,EAAAC,EAAAC,cAAA,QAAMiF,MAAOA,GACXnF,EAAAC,EAAAC,cAACgf,EAAD,CAAcxE,KAAMA,EAAMZ,QAASa,oCCvEnC0E,GAAWjc,OAAAgC,EAAA,EAAAhC,CAAA,CACfkc,aCI0B,SAAAhf,GAC1B,IAAM6E,EAAQ,CAACgE,OAAQ,QACHvB,IAAhBtH,EAAMuC,QACRsC,EAAMoa,SAAWjf,EAAMuC,YAEJ+E,IAAjBtH,EAAMsC,SACRuC,EAAMqa,UAAYlf,EAAMsC,QAE1B,IAAMlC,EAAa,CAAC,cAMpB,OALIJ,EAAMmf,IACR/e,EAAW+J,KAAK,aAEhB/J,EAAW+J,KAAK,eAGhBzK,EAAAC,EAAAC,cAAA,SAAOC,UAAU,gBACfH,EAAAC,EAAAC,cAAA,aACGM,IAAM6I,SAASO,IAAItJ,EAAMC,SAAU,SAAC8D,EAAEyF,GAAH,OAClC9J,EAAAC,EAAAC,cAAA,MAAI8J,IAAKF,GACP9J,EAAAC,EAAAC,cAAA,UAAKmE,GACLrE,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,OAAKC,UAAWO,EAAWC,KAAK,KAAMwE,MAAOA,WDvB3Dua,cCf2B,SAAApf,GAE3B,IAAMI,EAAa,CAAC,qBAIpB,OAHIJ,EAAM4d,eAAyC,eAAxB5d,EAAM4d,eAC/Bxd,EAAW+J,KAAK,gCAGhBzK,EAAAC,EAAAC,cAAA,MAAIC,UAAWO,EAAWC,KAAK,KAAMI,KAAK,KACvCP,IAAM6I,SAASO,IAAItJ,EAAMC,SAAU,SAAC8D,EAAEyF,GAAH,OAClC9J,EAAAC,EAAAC,cAAA,MAAI8J,IAAG,UAAA5H,OAAY0H,GACjB3J,UAAU,qBACTkE,ODKTsb,UEhBuB,SAAArf,GAAS,IAAAsf,EACkCtf,EAA3D2c,iBADyB,IAAA2C,EACf,MADeA,EAAAC,EACkCvf,EAA1CqZ,cADQ,IAAAkG,KACMC,EAA4Bxf,EAA5Bwf,WAChCC,GAD4Dzf,EAAhB0f,aACjC,CACfjX,QAAS,OACTkX,cAAehD,EACfiD,SAAU,OACVvG,OAAQA,EAAS,kBAAoB,SAYvC,MAVkB,QAAdsD,IACiB,WAAf6C,EACFC,EAASD,WAAa,WACE,QAAfA,EACTC,EAASD,WAAa,aACE,WAAfA,IACTC,EAASD,WAAa,WAKxB9f,EAAAC,EAAAC,cAAA,OAAKiF,MAAO4a,GACTzf,EAAMC,WFHX4f,KGjBkB,SAAA7f,GAAS,IACpBS,EAAQT,EAARS,KACP,OACEf,EAAAC,EAAAC,cAAA,MAAIa,KAAMA,GACPP,IAAM6I,SAASO,IAAItJ,EAAMC,SAAU,SAAA8D,GAAC,OAAIrE,EAAAC,EAAAC,cAAA,UAAKmE,OHclD+b,MFiDmB,SAAA9f,GAInB,IAHA,IAAMC,EAAWC,IAAM6I,SAASC,QAAQhJ,EAAMC,UAE1C8f,EAAY,EACTA,EAAY9f,EAASgF,QACW,SAAlChF,EAAS8f,GAAWtf,KAAK+D,MACzBvE,EAAS8f,GAAW/f,MAAMggB,QAC7BD,GAAa,EAGf,IAAME,EAAa,CAACpb,MAAO,CAACqb,eAAgB,aAI5C,GAHIlgB,EAAMqZ,SACR4G,EAAWpb,MAAMwU,OAAS,mBAExBrZ,EAAMmgB,MAAO,CACf,IAAMC,EAlFV,SAAwBD,GAEtB,IAAME,EAAY,GAEZC,EAASH,EAAM/M,MAAM,KAC3B,IAAK,IAAM5J,KAAK8W,EAAQ,CACtB,IAAMC,EAAQD,EAAO9W,GACrB,IAAK,IAAMgX,KAAKD,EAAO,CACrB,IAAME,EAAOF,EAAMC,GACbE,EAAW,GACJ,MAATD,IAAcC,EAASC,UAAY,QAC1B,MAATF,IAAcC,EAASC,UAAY,UAC1B,MAATF,IAAcC,EAASC,UAAY,SAC5B,KAANH,GAAWhX,EAAI,IAClBkX,EAASE,WAAa,oBAEnBJ,IAAMD,EAAMtb,OAAO,GAAKuE,EAAI8W,EAAOrb,OAAO,IAC7Cyb,EAASG,YAAc,mBAEzBR,EAAUlW,KAAKuW,IAGnB,OAAOL,EA4DaS,CAAe9gB,EAAMmgB,OACvC,IAAK,IAAM3W,KAAK4W,EACd,IAAK,IAAMW,KAAKX,EAAU5W,GAAI,CAC5B,IAAMwX,EAAM,eAAAlf,QAAmB0H,EAAE,EAArB,KAAA1H,OAA0Bif,GAChC1Q,EAAQ+P,EAAU5W,GAAGuX,GAC3Bd,EAAWpb,MAAMmc,GAAU3Q,GAKjC,OACE3Q,EAAAC,EAAAC,cAAA,QAAWqgB,EACRF,EAAY,EACXrgB,EAAAC,EAAAC,cAAA,aACGK,EAASyS,MAAM,EAAEqN,IAElB,KACHA,EAAY9f,EAASgF,OACpBvF,EAAAC,EAAAC,cAAA,aACGK,EAASyS,MAAMqN,IAEhB,OEpFRkB,KFOkB,SAAAjhB,GAAS,IAAAkhB,EACYlhB,EAA/BggB,cADmB,IAAAkB,KAAA3B,EACYvf,EAAjBqZ,cADK,IAAAkG,KAErB4B,EAAW,CAACtc,MAAO,CAACwU,OAAQ,SAC9BA,IACa,WAAXA,EACF8H,EAAStc,MAAMuc,aAAe,kBACV,QAAX/H,EACT8H,EAAStc,MAAMwc,UAAY,mBACP,IAAXhI,GAA8B,SAAXA,IAC5B8H,EAAStc,MAAMwc,UAAY,kBAC3BF,EAAStc,MAAMuc,aAAe,oBAIlC,IAIME,EAAY,SAAA9X,GAAC,MAAK,CACtB6P,OAAQ,OACRuH,WAAU,mBAAA9e,OAAqB0H,EAArB,iBAAA1H,OANmB,OAMnB,KACV+e,YAAW,mBAAA/e,OAAqB0H,EAArB,kBAAA1H,OANmB,OAMnB,KACX6e,UAAS,mBAAA7e,OAAqB0H,EAArB,gBAAA1H,OANmB,SAMnB,OAIX,OACEpC,EAAAC,EAAAC,cAAA,KAAQuhB,EACLnB,EACC9f,IAAM6I,SAASC,QAAQhJ,EAAMC,UAAUqJ,IAAI,SAACvF,EAAEyF,GAAH,OACzC9J,EAAAC,EAAAC,cAAA,MAAI8J,IAAKF,EAAG3E,MAAOyc,GAAW9X,EAAE,IAAKzF,KAGvC7D,IAAM6I,SAASC,QAAQhJ,EAAMC,UAAUqJ,IAAI,SAACvF,EAAEyF,GAAH,OACzC9J,EAAAC,EAAAC,cAAA,MAAI8J,IAAKF,EAAG3E,MAAOyc,GAAW9X,EAAE,IAAKzF,QExC1CyR,IAYC+L,GAAW,CACf7C,SACAC,QACA1a,QACA0X,eACA1d,YACAkc,mBAOIqH,GAAY,CAChBC,UHyDuB,SAAAzhB,GACvB,IACQwc,EAAqBxc,EAArBwc,QAAShD,EAAYxZ,EAAZwZ,QACjB,GAAI2D,GAAiBX,EAAShD,IACxBgD,EAAQQ,OAAOI,QAAS,CAC1B,QAAoC9V,IAAhCkV,EAAQQ,OAAO0E,aACjB,OAAI/T,MAAMC,QAAQ4O,EAAQQ,OAAO0E,cACxBlF,EAAQQ,OAAO0E,aAAapY,IAAI,SAAAE,GAAC,MANhC,UAM4CA,KAAInJ,KAAK,MANrD,UAQOmc,EAAQQ,OAAO0E,cAGlC,GAAIlF,EAAQQ,OAAO2E,QACjB,IAAK,IAAInY,EAAI,EAAGA,EAAIgT,EAAQQ,OAAOI,QAAQnY,OAAQuE,IACjD,GAAIgT,EAAQQ,OAAOI,QAAQ5T,IAAMgT,EAAQQ,OAAO2E,QAC9C,MAdM,UAcSnY,GAMzB,QAAuBlC,IAAnBkV,EAAQQ,OAAsB,CAChC,GAAuB,OAAnBR,EAAQQ,OAAiB,CAC3B,GAAIR,EAAQQ,OAAO2E,QACjB,OAAOzE,GAAWV,EAAQQ,OAAO2E,SAEnC,GAAIhU,MAAMC,QAAQ4O,EAAQQ,SAAsC,kBAAnBR,EAAQQ,QAAiD,kBAAnBR,EAAQQ,OACzF,OAAOE,GAAWV,EAAQQ,OAAQxD,GAGtC,GAAIgD,EAAQQ,OAAOI,cAA2C9V,IAAhCkV,EAAQQ,OAAO0E,aAC3C,OAAOxE,GAAWV,EAAQQ,OAAOI,QAAQZ,EAAQQ,OAAO0E,eAG5D,OAAO,MG1FPE,WRtCwB,SAAA5hB,GAAS,IAAA6hB,EACW7hB,EAArCuC,aAD0B,IAAAsf,EACpB,MADoBA,EAAAC,EACW9hB,EAAxBsC,cADa,IAAAwf,EACN,MADMA,EACCzI,EAAUrZ,EAAVqZ,OAC5BxU,EAAQ,CAACgE,OAAQ,KAGvB,GAFItG,IAAOsC,EAAMtC,MAAQA,GACrBD,IAAQuC,EAAMvC,OAASA,GACvB+W,EAAQ,CACV,GAAI1L,MAAMC,QAAQyL,GAAS,KAAAzJ,GAAA,EAAAC,GAAA,EAAAC,OAAAxI,EAAA,IACzB,QAAAyI,EAAAC,EAAgBqJ,EAAhBpJ,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAAwB,KAAb9L,EAAaiM,EAAAM,MAClB+I,GAAYtV,KACde,EAAMuU,GAAYtV,IAAM,oBAHH,MAAA2M,GAAAZ,GAAA,EAAAC,EAAAW,EAAA,YAAAb,GAAA,MAAAI,EAAAU,QAAAV,EAAAU,SAAA,WAAAb,EAAA,MAAAC,IAOL,kBAAXuJ,IACLD,GAAYC,KACdxU,EAAMuU,GAAYC,IAAW,oBAEhB,IAAXA,IACFxU,EAAMwU,OAAS,oBAIrB,OACE3Z,EAAAC,EAAAC,cAAA,OAAKiF,MAAOA,KQgBdkd,WJewB,SAAA/hB,GAExB,OAA0B,IAAtBA,EAAMgiB,KAAK/c,OACNvF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kCAGpBH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eACfH,EAAAC,EAAAC,cAAA,aACGI,EAAMgiB,KAAK1Y,IAAI,SAACuT,EAAKrT,GAAM,IAAAyY,EAAAnf,OAAA6D,EAAA,EAAA7D,CACJ+Z,EADI,GACnBxW,EADmB4b,EAAA,GACbrX,EADaqX,EAAA,GAE1B,OACEviB,EAAAC,EAAAC,cAAA,MAAI8J,IAAKF,GACP9J,EAAAC,EAAAC,cAAA,UACGgc,GAAoBvV,GAAQ,KAE/B3G,EAAAC,EAAAC,cAAA,UACGgc,GAAoBhR,GAAS,WI9B9CsX,iBH6C8B,SAAAliB,GAC9B,OACEN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACbH,EAAAC,EAAAC,cAACuiB,GAAaniB,KG/ClB0e,SACArB,YACA+E,YIpDyB,SAAApiB,GACzB,OACEN,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACG7B,EAAMC,SAASqJ,IAAI,SAACvF,EAAEyF,GAAH,OAAS9J,EAAAC,EAAAC,cAAA,QAAM8J,IAAKF,EAAG3J,UAAU,gBAAgBwiB,KAAKC,UAAUve,QJkDxFwe,SK7CsB,SAAAnI,GACtB,OACE1a,EAAAC,EAAAC,cAAC4iB,GAAA7iB,EAAD,CAAe8iB,KAAMrI,MCRZsI,GAAY,SAASC,GAAM,IAAAC,EAAA9f,OAAAkG,EAAA,EAAAlG,CACD6f,GAA7BliB,EAD8BmiB,EAAA,GACxB5iB,EADwB4iB,EAAA,GACd3iB,EADc2iB,EAAAlQ,MAAA,GAEtC,OAAI1S,EAC6B,WAA3BA,EAAMuH,YAAY/C,KACb,CAAE/D,OAAMT,QAAOC,YAEjB,CAAEQ,OAAMT,MAAO,GAAIC,SAAQ,CAAID,GAAJ8B,OAAAgB,OAAAgW,EAAA,EAAAhW,CAAc7C,KAE3C,CAAEQ,OAAMT,MAAO,GAAIC,aAGtB2N,GAAUD,MAAMC,QAETsP,GAAa,SAAbA,EAAsByF,GACjC,GAAI/U,GAAQ+U,GAAO,KAAAE,EACeH,GAAUC,GAAnCliB,EADUoiB,EACVpiB,KAAMT,EADI6iB,EACJ7iB,MAAOC,EADH4iB,EACG5iB,SAEpB,GAAI2N,GAAQnN,GACV,OAAOP,IAAMN,cAANkjB,MAAA5iB,IAAK,CAAeA,IAAM2B,SAAU,MAA/BC,OAAAgB,OAAAgW,EAAA,EAAAhW,CAAwC6f,EAAKrZ,IAAI,SAAAvF,GAAC,OAAImZ,EAAWnZ,QAE/E,GAAIyd,GAAU/gB,GACZ,OAAOP,IAAMN,cAAc4hB,GAAU/gB,GAAOT,GAE9C,GAAIuhB,GAAS9gB,GACX,OAAOP,IAAMN,cAAc2hB,GAAS9gB,GAA7BqC,OAAAgC,EAAA,EAAAhC,CAAA,GAAwC9C,EAAxC,CAA+Coa,KAAMna,EAASI,KAAK,SAE5E,GAAI0e,GAAYte,GACd,OAAOP,IAAMN,cAANkjB,MAAA5iB,IAAK,CAAe6e,GAAYte,GAAOT,GAAlC8B,OAAAgB,OAAAgW,EAAA,EAAAhW,CAA4C7C,EAASqJ,IAAI,SAAAvF,GAAC,OAAImZ,EAAWnZ,YAGpF,IAAoB,kBAAT4e,EACd,OAAOjjB,EAAAC,EAAAC,cAACmjB,GAAD,CAAM3I,KAAMuI,IAEhB,GAAoB,kBAATA,EACd,OAAOjjB,EAAAC,EAAAC,cAAC2e,GAAD,CAAOnE,KAAMuI,EAAKK,aAEtB,GAAoB,mBAATL,EACd,OAAOjjB,EAAAC,EAAAC,cAAC2e,GAAD,CAAOnE,KAAMuI,EAAKK,aAEtB,GAAa,OAATL,QAA0Brb,IAATqb,EACxB,OAAO,KAGT,OADAnW,QAAQuJ,MAAR,iBAAAjU,OAA+B6gB,IACxB,MC3CYM,eASnB,SAAAA,EAAYjjB,GAAO,IAAA6C,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAA/C,KAAAkjB,IACjBpgB,EAAAC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAAmgB,GAAA/f,KAAAnD,KAAMC,KAQRkjB,eAAiB,WACfrgB,EAAK7C,MAAMmjB,gBAAgBtgB,EAAK7C,MAAMY,GAAIiC,EAAKugB,eAC/CvgB,EAAK7C,MAAMqjB,kBAXMxgB,EAcnBygB,eAAiB,WACfzgB,EAAK7C,MAAMujB,gBAAgB1gB,EAAK7C,MAAMY,IACtCiC,EAAK7C,MAAMqjB,kBAhBMxgB,EAmBnB2gB,cAAgB,WACd3gB,EAAKY,SAASif,GAAU7f,EAAK7C,MAAM2iB,QAlBnC9f,EAAKM,MAAQuf,GAAU1iB,EAAM2iB,MAFZ9f,6EAMjB,OAAQ9C,KAAKoD,MAAM1C,KAAMV,KAAKoD,MAAMnD,OAApC8B,OAAAgB,OAAAgW,EAAA,EAAAhW,CAA8C/C,KAAKoD,MAAMlD,kDAkBzD,OAAOP,EAAAC,EAAAC,cAAA,+GAIP,IAAM+iB,EAAI7f,OAAAgW,EAAA,EAAAhW,CAAO/C,KAAKqjB,eACtB,OACE1jB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBAAwBgF,MAAO,CAACgE,OAAQ,YACrDnJ,EAAAC,EAAAC,cAAC6jB,GAAD,CAAYd,KAAMA,sCAMtB,OACEjjB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACEnC,EAAAC,EAAAC,cAAA,OAAKiF,MAAO,CACVtC,MAAO,OACPkG,QAAS,OACTib,oBAAqB,0BACrB7a,OAAQ,cAERnJ,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAKmjB,gBAAtB,iBACAxjB,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAKyjB,eAAtB,kBACA9jB,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAKC,MAAMqjB,gBAA5B,UACA3jB,EAAAC,EAAAC,cAAA,aACAF,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAKujB,eAAgBze,MAAO,CAAC+e,YAAa,UAA3D,WAED7jB,KAAK8jB,eACL9jB,KAAK+jB,wBA7D6B5jB,IAAMC,WCA5B4jB,8MAUnBC,cAAgB,WACd,IAAMhC,EAAIlf,OAAAgW,EAAA,EAAAhW,CAAOD,EAAKM,MAAMnD,MAAMgiB,MAAxBlgB,OAAA,CAA8B,CAAC,GAAI,MAC7Ce,EAAKY,SAAS,CAAEzD,MAAM8C,OAAAgC,EAAA,EAAAhC,CAAA,GAAKD,EAAKM,MAAMnD,MAAjB,CAAwBgiB,cAG/CiC,iBAAmB,WACjB,IAAMjC,EAAOnf,EAAKM,MAAMnD,MAAMgiB,KAAKtP,MAAM,GAAG,GAC5C7P,EAAKY,SAAS,CAACzD,MAAM8C,OAAAgC,EAAA,EAAAhC,CAAA,GAAKD,EAAKM,MAAMnD,MAAjB,CAAwBgiB,yFAfhCnF,EAAK9R,EAAI8Q,GACrB,IAAMqI,EAAMphB,OAAAgW,EAAA,EAAAhW,CAAO/C,KAAKoD,MAAMnD,MAAMgiB,KAAKnF,IACzCqH,EAAOnZ,GAAM8Q,EACb,IAAMmG,EAAIlf,OAAAgW,EAAA,EAAAhW,CAAO/C,KAAKoD,MAAMnD,MAAMgiB,MAClCA,EAAKnF,GAAOqH,EACZnkB,KAAK0D,SAAS,CAACzD,MAAM8C,OAAAgC,EAAA,EAAAhC,CAAA,GAAK/C,KAAKoD,MAAMnD,MAAjB,CAAwBgiB,kDAa/B,IAAAmC,EAAApkB,KACPiiB,EAAOjiB,KAAKoD,MAAMnD,MAAMgiB,KACxBoC,EAAa,CACjB7hB,MAAO,OACPuc,SAAU,QACVD,WAAY,oCACZhW,OAAQ,MACRH,QAAS,OAEX,OACEhJ,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,0EAGAF,EAAAC,EAAAC,cAAA,SAAOC,UAAU,UACfH,EAAAC,EAAAC,cAAA,aACGoiB,EAAK1Y,IAAI,SAACuT,EAAKrT,GAAM,IAAAyY,EAAAnf,OAAA6D,EAAA,EAAA7D,CACE+Z,EADF,GACbxW,EADa4b,EAAA,GACPrX,EADOqX,EAAA,GAEpB,OACEviB,EAAAC,EAAAC,cAAA,MAAI8J,IAAKF,GACP9J,EAAAC,EAAAC,cAAA,MAAIiF,MAAO,CAACwU,OAAQ,OAAQ3Q,QAAS,cACnChJ,EAAAC,EAAAC,cAAA,SAAOa,KAAK,OACV4jB,SAAU,SAACC,GAAD,OAASH,EAAKI,cAAc/a,EAAG,EAAG8a,EAAIE,OAAOnU,QACvDA,MAAOhK,GAAQ,GACfxB,MAAOuf,KAGX1kB,EAAAC,EAAAC,cAAA,MAAIiF,MAAO,CAACwU,OAAQ,OAAQ3Q,QAAS,cACnChJ,EAAAC,EAAAC,cAAA,SAAOa,KAAK,OACV4jB,SAAU,SAACC,GAAD,OAASH,EAAKI,cAAc/a,EAAG,EAAG8a,EAAIE,OAAOnU,QACvDA,MAAOzF,GAAS,GAChB/F,MAAOuf,UAQrB1kB,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAKkkB,kBAAtB,KACAvkB,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAKikB,eAAtB,aA5DsCf,ICA5C,SAASwB,GAAQjI,GAAqB,IAAZhD,EAAYnE,UAAApQ,OAAA,QAAAqC,IAAA+N,UAAA,GAAAA,UAAA,GAAJ,GAChC,YAAiC/N,IAA7BkS,EAAQ2D,oBACNX,EAAQQ,SAAUR,EAAQQ,OAAOI,SAM9B5D,EAAQ2D,qBAKEE,eACnB,SAAAA,EAAYrd,GAAO,IAAA6C,EAAAC,OAAAC,EAAA,EAAAD,CAAA/C,KAAAsd,IACjBxa,EAAAC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAAua,GAAAna,KAAAnD,KAAMC,KAcRwjB,cAAgB,WACd,IAAMkB,EAAY,CAChBlI,QAAS3Z,EAAKM,MAAMqZ,SAAW,GAC/BhD,QAAS3W,EAAKM,MAAMqW,SAAW,IAEjCkL,EAASlL,QAAQ2D,iBAAmBsH,GAAQC,EAASlI,QAASkI,EAASlL,SACvE3W,EAAKY,SAASihB,IArBG7hB,EAwBnB8hB,SAAW,SAAAL,GAETzhB,EAAKY,SAAS,CACZ+V,QAAQ1W,OAAAgC,EAAA,EAAAhC,CAAA,GAAKD,EAAKM,MAAMqW,QAAjB,CAA0B2D,iBAAkBmH,EAAIE,OAAOI,aA3B/C/hB,EAqDnBgiB,mBAAqB,SAAAP,GAAG,OAAIzhB,EAAKiiB,qBAAqB,eAAgBR,EAAIE,OAAOnU,QArD9DxN,EAsDnBkiB,qBAAuB,SAAAT,GAAG,OAAIzhB,EAAKmiB,gBAAgB,eAAgBV,EAAIE,OAAOnU,QAtD3DxN,EAuDnBoiB,qBAAuB,SAAAX,GAAG,OAAIzhB,EAAKqiB,gBAAgB,eAAgBZ,EAAIE,OAAOnU,QAvD3DxN,EAyDnBsiB,eAAiB,SAAAb,GAAG,OAAIzhB,EAAKiiB,qBAAqB,WAAYR,EAAIE,OAAOnU,QAzDtDxN,EA0DnBuiB,iBAAmB,SAAAd,GAAG,OAAIzhB,EAAKmiB,gBAAgB,WAAYV,EAAIE,OAAOnU,QA1DnDxN,EA2DnBwiB,iBAAmB,SAAAf,GAAG,OAAIzhB,EAAKqiB,gBAAgB,WAAYZ,EAAIE,OAAOnU,QAzDpE,IAAMiV,EAAS5C,GAAU1iB,EAAM2iB,MAFd,OAGjB9f,EAAKM,MAAQ,CACX1C,KAAM6kB,EAAO7kB,KACb+b,QAAS8I,EAAOtlB,MAAMwc,SAAW,GACjChD,QAAS8L,EAAOtlB,MAAMwZ,SAAW,IAEnC3W,EAAKM,MAAMqW,QAAQ2D,iBAAmBsH,GAAQ5hB,EAAKM,MAAMqZ,QAAS3Z,EAAKM,MAAMqW,SAR5D3W,6EAYjB,MAAO,CAAC9C,KAAKoD,MAAM1C,KAAM,CAAC+b,QAASzc,KAAKoD,MAAMqZ,QAAShD,QAASzZ,KAAKoD,MAAMqW,uDAmBxDuH,EAAG3W,GACtBrK,KAAK0D,SAAS,CAAC+Y,QAAQ1Z,OAAAgC,EAAA,EAAAhC,CAAA,GAAK/C,KAAKoD,MAAMqZ,QAAjB1Z,OAAAoI,EAAA,EAAApI,CAAA,GAA2Bie,EAAI3W,8CAEvC2W,EAAG3W,GACjB,IAAMuT,EAAc7a,OAAAgC,EAAA,EAAAhC,CAAA,GAAO/C,KAAKoD,MAAMqZ,QAAQmB,gBACpC,KAANvT,SACKuT,EAAeoD,GAEtBpD,EAAeoD,GAAK3W,EAEtBrK,KAAK0D,SAAS,CAAC+Y,QAAQ1Z,OAAAgC,EAAA,EAAAhC,CAAA,GAAK/C,KAAKoD,MAAMqZ,QAAjB,CAA0BmB,6DAElCoD,EAAG3W,GACjB,IAAMyT,EAAY/a,OAAAgC,EAAA,EAAAhC,CAAA,GAAO/C,KAAKoD,MAAMqZ,QAAQqB,cAClC,KAANzT,SACKyT,EAAakD,GAEpBlD,EAAakD,GAAK3W,EAEpBrK,KAAK0D,SAAS,CAAC+Y,QAAQ1Z,OAAAgC,EAAA,EAAAhC,CAAA,GAAK/C,KAAKoD,MAAMqZ,QAAjB,CAA0BqB,8EAWf0H,GACjC,IAAMC,EAAOzlB,KAAKoD,MAAMqW,QAAQ2D,iBAC1BsI,EAAYD,EAAOzlB,KAAKoD,MAAMqZ,QAAQmB,gBAAkB,GAAK5d,KAAKoD,MAAMqZ,QAAQqB,cAAgB,GAChG6H,EAAW,CACflI,aAAc,CACZmI,QAAS5lB,KAAK8kB,mBACde,GAAI7lB,KAAKglB,qBACTc,GAAI9lB,KAAKklB,sBAEXxH,SAAU,CACRkI,QAAS5lB,KAAKolB,eACdS,GAAI7lB,KAAKqlB,iBACTS,GAAI9lB,KAAKslB,mBAEXE,GACF,OACE7lB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACAnC,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,YAAUyQ,MAAOtQ,KAAKoD,MAAMqZ,QAAQ+I,GAClClB,SAAUqB,EAASC,QACnBG,KAAK,KACL9D,KAAK,OAGTtiB,EAAAC,EAAAC,cAAA,UACG4lB,EACC9lB,EAAAC,EAAAC,cAAA,YAAUyQ,MAAOoV,EAAUF,IAAc,GACvClB,SAAUqB,EAASE,GACnBE,KAAK,KACL9D,KAAK,MAGPtiB,EAAAC,EAAAC,cAAA,YAAUyQ,MAAOoV,EAAUF,IAAc,GACvClB,SAAUqB,EAASG,GACnBC,KAAK,KACL9D,KAAK,gDAUb,OAAO,8CAIP,OAAIjiB,KAAKoD,MAAMqZ,QAAQQ,QAAUjd,KAAKoD,MAAMqZ,QAAQQ,OAAOI,QAEvD1d,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,wBAEEnC,EAAAC,EAAAC,cAAA,SAAOa,KAAK,WACVmkB,QAAS7kB,KAAKoD,MAAMqW,QAAQ2D,iBAC5BkH,SAAUtkB,KAAK4kB,YAKhB,4CAIP,IAAMa,EAAOzlB,KAAKoD,MAAMqW,QAAQ2D,iBAGhC,OACEzd,EAAAC,EAAAC,cAAA,WACGG,KAAKgmB,iBACNrmB,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,MAAIiF,MAAO,CAAC8b,UAAW,WAAvB,WACAjhB,EAAAC,EAAAC,cAAA,MAAIiF,MAAO,CAAC8b,UAAW,WAAY6E,EAAO,kBAAoB,gBAA9D,aAEF9lB,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,0BACCG,KAAKimB,mCAAmC,iBAE3CtmB,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,sBACCG,KAAKimB,mCAAmC,wDAUnD,IAAMrD,EAAO5iB,KAAKqjB,cAAc1Q,MAAM,GACtC,OACEhT,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACAnC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBAAwBgF,MAAO,CAACgE,OAAQ,YACrDnJ,EAAAC,EAAAC,cAAC6jB,GAAD,CAAYd,KAAI,CAAG,YAAH7gB,OAAAgB,OAAAgW,EAAA,EAAAhW,CAAkB6f,OAEpCjjB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBAAwBgF,MAAO,CAACgE,OAAQ,YACrDnJ,EAAAC,EAAAC,cAAC6jB,GAAD,CAAYd,KAAI,CAAG,aAAH7gB,OAAAgB,OAAAgW,EAAA,EAAAhW,CAAmB6f,eAlKLM,ICRhCgD,GAAe,CACnB/D,iBAAkBgE,GAClB7I,SAAU6I,GACVnE,WAAYgC,GACZpF,yLCNYnV,EAAGgJ,GACb,IAAMvS,EAAQ6C,OAAAgW,EAAA,EAAAhW,CAAO/C,KAAKoD,MAAMlD,UAChCA,EAASuJ,GAAKgJ,EACdzS,KAAK0D,SAAS,CAAExD,uDAGAuJ,GAAG,IAAA3G,EAAA9C,KACnB,OACEL,EAAAC,EAAAC,cAAA,YAAU8J,IAAKF,EAAG6G,MAAOtQ,KAAKoD,MAAMlD,SAASuJ,GAC3C6a,SAAU,SAAAC,GAAG,OAAIzhB,EAAKsjB,YAAY3c,EAAG8a,EAAIE,OAAOnU,QAChD2R,KAAK,KACL8D,KAAK,KACLjhB,MAAO,CAACtC,MAAO,wDAKN,IAAA4hB,EAAApkB,KACb,OACEL,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACG9B,KAAKoD,MAAMlD,SAASqJ,IAAI,SAAC8c,EAAI5c,GAAL,OAAW2a,EAAKkC,kBAAkB7c,aAtB7ByZ,KDyBvBjS,eAAQ,KALI,SAAAsV,GAAQ,MAAK,CACtCnD,gBAAiB,SAACviB,EAAIJ,GAAL,OAAc8lB,EpCEJ,SAACC,EAAOnM,GAAS,IAAAoM,EACzBD,EAAMnT,MAAM,KADaqT,EAAA3jB,OAAA6D,EAAA,EAAA7D,CAAA0jB,EAAA,GACrC/lB,EADqCgmB,EAAA,GAC/B7lB,EAD+B6lB,EAAA,GAE5C,MAAa,WAAThmB,EACK,CAAEA,KA3BgB,gBA2BKC,QAAS,CAACE,IAAKA,EAAIwZ,SAEtC,YAAT3Z,EACK,CAAEA,KA/BiB,iBA+BKC,QAAS,CAACE,IAAKA,EAAIwZ,cADpD,EoCPwCsM,CAAc9lB,EAAIJ,KAC1D+iB,gBAAiB,SAAC3iB,GAAD,OAAQ0lB,EpCWE,SAACC,GAAU,IAAAI,EACnBJ,EAAMnT,MAAM,KADOwT,EAAA9jB,OAAA6D,EAAA,EAAA7D,CAAA6jB,EAAA,GAC/BlmB,EAD+BmmB,EAAA,GACzBhmB,EADyBgmB,EAAA,GAEtC,MAAa,WAATnmB,EACK,CAAEA,KAnCgB,gBAmCKC,SAAUE,GAE7B,YAATH,EACK,CAAEA,KAvCiB,iBAuCKC,SAAUE,QAD3C,EoChBkCimB,CAAcjmB,OAGnCoQ,CAdE,SAAAhR,GAAS,IAChBS,EAASiiB,GAAU1iB,EAAM2iB,MAAzBliB,KACFqmB,EAAab,GAAYxlB,GAC/B,OAAIqmB,EACKpnB,EAAAC,EAAAC,cAACknB,EAAe9mB,GAElBN,EAAAC,EAAAC,cAACmnB,GAAkB/mB,KEnBfgnB,GAAa,SAAAhnB,GACxB,OAAOkd,GAAWld,EAAM2iB,OCIpBsE,eAWJ,SAAAA,EAAYjnB,GAAO,IAAA6C,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAA/C,KAAAknB,IACjBpkB,EAAAC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAAmkB,GAAA/jB,KAAAnD,KAAMC,KAMRknB,WAAa,kBAAMrkB,EAAKY,SAAS,CAAC0jB,MAAO,UAPtBtkB,EAQnBukB,WAAa,kBAAMvkB,EAAKY,SAAS,CAAC0jB,MAAO,UANvCtkB,EAAKM,MAAQ,CACXgkB,MAAO,QAHQtkB,wEAWjB,IAAMwkB,EAAW,GACXjnB,EAAa,GAKnB,GAJIL,KAAKC,MAAMsnB,UACblnB,EAAW+J,KAAK,YAChBkd,EAASE,cAAgBxnB,KAAKmnB,YAE5BnnB,KAAKC,MAAMwnB,QAAS,CACtB,IAAMC,EAAY/E,GAAU3iB,KAAKC,MAAM2iB,MAAM3iB,MACzCynB,EAAUjO,SAAWiO,EAAUjO,QAAQkO,cACzCtnB,EAAW+J,KAAK,iBAOpB,OAHI/J,EAAW6E,SACboiB,EAASxnB,UAAYO,EAAWC,KAAK,MAGrCX,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACAnC,EAAAC,EAAAC,cAAA,MAASynB,EACP3nB,EAAAC,EAAAC,cAAC6jB,GAAD,CAAYd,KAAM5iB,KAAKC,MAAM2iB,QAE/BjjB,EAAAC,EAAAC,cAAC+nB,EAAAhoB,EAAD,CAAYioB,OAA6B,SAArB7nB,KAAKoD,MAAMgkB,MAC7B9D,eAAgBtjB,KAAKqnB,WACrBviB,MAAO,CACL2X,QAAS,CACP3T,OAAQ,UAIZnJ,EAAAC,EAAAC,cAACioB,GAAD,CACEjnB,GAAIb,KAAKC,MAAMY,GACf+hB,KAAM5iB,KAAKC,MAAM2iB,KACjBU,eAAgBtjB,KAAKqnB,sBAtDDlnB,IAAMC,WAA9B8mB,GAOGa,aAAe,CACpBR,SAAS,GAsDb,IAOetW,eAPS,SAAA7N,GAAK,MAAK,CAChCmkB,QAASnkB,EAAM4kB,OAAOC,aACtBR,QAASrkB,EAAM0B,MAAM2iB,UAKRxW,CAAyBiW,IC3E3BgB,GAAW,CACtBC,GAAI,CAAE3lB,MAAO,IAAKD,OAAQ,KAC1B6lB,GAAI,CAAE5lB,MAAO,IAAKD,OAAQ,KAC1B8lB,GAAI,CAAE7lB,MAAO,IAAKD,OAAQ,KAC1B+lB,OAAQ,CAAE9lB,MAAO,IAAKD,OAAQ,KAC9BgmB,MAAO,CAAE/lB,MAAO,IAAKD,OAAQ,MAGlBimB,GAAY,CACvBL,GAAI,CAAE3lB,MAAO,IAAKD,OAAQ,KAC1B6lB,GAAI,CAAE5lB,MAAO,IAAKD,OAAQ,KAC1B8lB,GAAI,CAAE7lB,MAAO,IAAKD,OAAQ,KAC1B+lB,OAAQ,CAAE9lB,MAAO,IAAKD,OAAQ,KAC9BgmB,MAAO,CAAE/lB,MAAO,IAAKD,OAAQ,MCNzBkmB,eAoBJ,SAAAA,EAAYxoB,GAAO,IAAA6C,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAA/C,KAAAyoB,IACjB3lB,EAAAC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAA0lB,GAAAtlB,KAAAnD,KAAMC,KAMRyoB,OAAS,kBAAM5lB,EAAK6lB,MAAMnlB,QAAQolB,cAPf9lB,EAQnB+lB,OAAS,kBAAM/lB,EAAKgmB,MAAMtlB,QAAQolB,cARf9lB,EASnBimB,UAAY,kBAAMjmB,EAAK4lB,SAAW5lB,EAAK+lB,UAPrC/lB,EAAK6lB,MAAQxoB,IAAMmD,YACnBR,EAAKgmB,MAAQ3oB,IAAMmD,YACnBR,EAAKM,MAAQ,CAAC2lB,WAAW,GAJRjmB,oFAYjB,IAAMkmB,EAAWhpB,KAAKoD,MAAM2lB,UACtBE,EAAWjpB,KAAK+oB,YAClBC,IAAaC,IACXA,GACFjpB,KAAKkpB,aAEPlpB,KAAK0D,SAAS,CAACqlB,UAAWE,IAC1BjpB,KAAKmpB,oDAKPnpB,KAAKC,MAAMmpB,oBAAoBppB,KAAKC,MAAMopB,WAAWrpB,KAAKC,MAAMopB,WAAWnkB,OAAO,GAAGmO,MAAM,KAAK,0CAIhG,MAAmC,cAA/BrT,KAAKC,MAAMqpB,gBACNd,GAAUxoB,KAAKC,MAAMspB,UAErBrB,GAASloB,KAAKC,MAAMspB,kDAIf,IAAAC,EACUxpB,KAAKypB,cAAtBjnB,EADOgnB,EACPhnB,MAAOD,EADAinB,EACAjnB,OACd,MAAO,CAACC,MAAK,GAAAT,OAAKS,EAAL,MAAgBD,OAAM,GAAAR,OAAKQ,EAAL,+CAInC,MAAO,CACLA,OAAQ,cACRuG,OAAQ,IACRH,QAAS3I,KAAKC,MAAMypB,kDAKtB,OAAI1pB,KAAKC,MAAM0pB,cAAc3pB,KAAKC,MAAM2pB,QAC/B5pB,KAAKC,MAAM0pB,WAEb,mCAGA,IAAAvF,EAAApkB,KACH6pB,EACF7pB,KAAKoD,MAAM2lB,UACT,8BACA,aAGE3iB,EAAapG,KAAK8pB,gBAClBrjB,EAAazG,KAAK+pB,gBAClBC,EAAWhqB,KAAKiqB,cAEtB,OACEtqB,EAAAC,EAAAC,cAAA,OAAKC,UAAW+pB,EAAgBxmB,IAAKrD,KAAK8oB,MAAOhkB,MAAOsB,GACtDzG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAAauD,IAAKrD,KAAK2oB,MAAO7jB,MAAO2B,GAClD9G,EAAAC,EAAAC,cAACqqB,GAAD,CAAiBvgB,IAAKqgB,EACpBnpB,GAAE,UAAAkB,OAAYioB,GACdpH,KAAM5iB,KAAKC,MAAM2pB,QAAQI,KAE3BrqB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACZE,KAAKC,MAAMopB,WAAW9f,IAAI,SAAC1I,GAC1B,IAAMspB,EAAYtpB,EAAGwS,MAAM,KAAK,GAC1BuP,EAAOwB,EAAKnkB,MAAMwc,SAAS0N,GACjC,OACExqB,EAAAC,EAAAC,cAACqqB,GAAD,CAAiBvgB,IAAK9I,EACpB+hB,KAAMA,EACN/hB,GAAIA,gBApGKV,IAAMC,WAA3BqoB,GAaGV,aAAe,CACpBsB,WAAY,GACZE,SAAU,SACVD,gBAAiB,WACjBI,WAAY,uBA8FhB,IAaezY,eAbS,SAAA7N,GAAK,MAAK,CAChCwmB,QAASxmB,EAAMgnB,SAASR,QACxBS,QAASjnB,EAAMgnB,SAASC,QACxB5N,QAASrZ,EAAMgnB,SAAS3N,QACxB8M,SAAUnmB,EAAM0B,MAAMykB,SACtBD,gBAAiBlmB,EAAM0B,MAAMwkB,gBAC7BI,WAAYtmB,EAAM0B,MAAM4kB,aAGC,SAAAnD,GAAQ,MAAK,CACtC6C,mBAAoB,SAACvoB,GAAD,OAAQ0lB,EzCjEI,SAAC1lB,GAAD,MAAS,CACzCH,KA1DkC,uBA2DlCC,QAASE,GyC+D4BuoB,CAAmBvoB,OAG3CoQ,CAA6CwX,IChItD6B,yLAGF,MAA+B,cAA3BtqB,KAAKC,MAAMsqB,YACN/B,GAAUxoB,KAAKC,MAAMmc,MAErB8L,GAASloB,KAAKC,MAAMmc,8CAIf,IAAAoN,EACUxpB,KAAKypB,cAAtBjnB,EADOgnB,EACPhnB,MAAOD,EADAinB,EACAjnB,OACd,MAAO,CACLC,MAAK,GAAAT,OAAKS,EAAL,MACLD,OAAM,GAAAR,OAAKQ,EAAL,MACNoG,QAAS,6CAKX,MAAO,CACLG,OAAQ,IACRtG,MAAO,OACPD,OAAQ,OACRoG,QAAS3I,KAAKC,MAAM6I,yCAKtB,OACEnJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAAagF,MAAO9E,KAAK8pB,iBACtCnqB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAAagF,MAAO9E,KAAK+pB,iBACrC/pB,KAAKC,MAAMC,kBAhCHC,IAAMC,WA6CV6Q,eANS,SAAA7N,GAAK,MAAK,CAChCgZ,KAAMhZ,EAAM0B,MAAMykB,SAClBgB,YAAannB,EAAM0B,MAAMwkB,gBACzBxgB,OAAQ1F,EAAM0B,MAAM4kB,aAGPzY,CAAyBqZ,ICjBzBrZ,eALS,SAAA7N,GAAK,MAAK,CAChCimB,WAAYjmB,EAAMgnB,SAASI,MAC3B/N,QAASrZ,EAAMgnB,SAAS3N,UAGXxL,CA3BG,SAAChR,GACjB,OACEN,EAAAC,EAAAC,cAAC4qB,GAAD,KACE9qB,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACZG,EAAMopB,WAAW9f,IAAI,SAAA1I,GACpB,IAAMD,EAAUX,EAAMwc,QAAQ5b,GAC9B,MAAmB,qBAAfD,EAAQ,GAERjB,EAAAC,EAAAC,cAAA,OAAK8J,IAAG,UAAA5H,OAAYlB,GAAMf,UAAU,kBAClCH,EAAAC,EAAAC,cAAC6jB,GAAD,CAAYd,KAAI,CAAG,aAAH7gB,OAAAgB,OAAAgW,EAAA,EAAAhW,CAAmBnC,EAAQ+R,MAAM,QAI9C,+BClBN+X,GAAb,WACE,SAAAA,IAAuB,IAAXC,EAAWrV,UAAApQ,OAAA,QAAAqC,IAAA+N,UAAA,GAAAA,UAAA,GAAN,KAAMvS,OAAAC,EAAA,EAAAD,CAAA/C,KAAA0qB,GACrB1qB,KAAK2qB,KAAOA,EACZ3qB,KAAK4qB,OAASC,KAAOC,QAAQC,UAC7B/qB,KAAKgrB,QAJT,OAAAjoB,OAAAkoB,EAAA,EAAAloB,CAAA2nB,EAAA,EAAA/gB,IAAA,QAAA2G,MAAA,WAQsB,OAAdtQ,KAAK2qB,KACP3qB,KAAK4qB,OAAOD,KAAK3qB,KAAK2qB,MAEtB3qB,KAAK4qB,OAAOM,aAXlB,CAAAvhB,IAAA,UAAA2G,MAAA,SAeU6a,EAAKhnB,GACX,OAAO0mB,KAAOO,QAAQD,EAAKhnB,EAApB0mB,CAAyB7qB,KAAK4qB,UAhBzC,CAAAjhB,IAAA,OAAA2G,MAAA,SAmBO6a,EAAKhnB,GAAsB,IAAjBknB,EAAiB/V,UAAApQ,OAAA,QAAAqC,IAAA+N,UAAA,IAAAA,UAAA,GAC9B,OAAOuV,KAAOS,KAAKH,EAAKhnB,EAAKknB,EAAtBR,CAAiC7qB,KAAK4qB,UApBjD,CAAAjhB,IAAA,SAAA2G,MAAA,WAuBkB,IAATnM,EAASmR,UAAApQ,OAAA,QAAAqC,IAAA+N,UAAA,GAAAA,UAAA,GAAL,EACT,OAAOtV,KAAKsrB,KAAK,EAAGnnB,GAAK,KAxB7B,CAAAwF,IAAA,UAAA2G,MAAA,SA2BUib,EAAOC,GACb,QAAcjkB,IAAVikB,EAAqB,CACvB,IAAIC,EAAWZ,KAAOa,QAAQ1rB,KAAK4qB,OAAQW,EAAM5Y,MAAM,IACvD,OAAO5P,OAAAgW,EAAA,EAAAhW,CAAI0oB,EAAS9Y,MAAM,EAAE6Y,IAA5BzpB,OAAA,CAAoCwpB,EAAM,IAA1CxoB,OAAAgW,EAAA,EAAAhW,CAAiD0oB,EAAS9Y,MAAM6Y,KAEhE,OAAOX,KAAOa,QAAQ1rB,KAAK4qB,OAAQW,KAhCzC,CAAA5hB,IAAA,eAAA2G,MAAA,SAoCegB,EAAOC,GAElB,IADA,IAAI2F,EAAQ,GACHzN,EAAI6H,EAAO7H,GAAK8H,EAAK9H,IAAKyN,EAAM9M,KAAKX,GAC9C,OAAOzJ,KAAK0rB,QAAQxU,KAvCxB,CAAAvN,IAAA,OAAA2G,MAAA,WA2CI,OAAOua,KAAOc,KAAK3rB,KAAK4qB,OAAQ,EAAC,GAAM,MA3C3C,CAAAjhB,IAAA,SAAA2G,MAAA,SA8CSib,GACL,OAAOV,KAAOc,KAAK3rB,KAAK4qB,OAAQW,KA/CpC,CAAA5hB,IAAA,SAAA2G,MAAA,SAkDSsb,EAAKxP,GACV,OAAOyO,KAAOgB,OAAO7rB,KAAK4qB,OAAQgB,EAAKxP,KAnD3C,CAAAzS,IAAA,cAAA2G,MAAA,SAsDcgB,EAAOC,EAAK6K,GAEtB,IADA,IAAIlF,EAAQ,GACHzN,EAAI6H,EAAO7H,GAAK8H,EAAK9H,IAAKyN,EAAM9M,KAAKX,GAC9C,OAAOzJ,KAAK6rB,OAAO3U,EAAOkF,KAzD9B,CAAAzS,IAAA,YAAA2G,MAAA,SA4DYib,GACR,IAAM9hB,EAAIzJ,KAAK8rB,QAAQ,EAAEP,EAAMrmB,OAAO,GACtC,OAAOqmB,EAAMQ,OAAOtiB,EAAE,GAAG,OA9D7BihB,EAAA,GCEIsB,GAAsB,IAAItB,GA0DfuB,cAvDb,SAAAA,IAAsB,IAAVhsB,EAAUqV,UAAApQ,OAAA,QAAAqC,IAAA+N,UAAA,GAAAA,UAAA,GAAJ,GAAIvS,OAAAC,EAAA,EAAAD,CAAA/C,KAAAisB,GACpBjsB,KAAK2N,OAAS1N,EAAM0N,QAAU,GAE9B3N,KAAKksB,WAAajsB,EAAMisB,YAAcF,GAAoBF,QAAQ,EAAG5nB,KAAKiS,IAAI,EAAG,IAAI,GACrFnW,KAAKmsB,OAAS,IAAIzB,GAAW1qB,KAAKksB,qEASlC,OAAOlsB,KAAKwH,YAAYiS,mDAGPuH,EAAG3W,GACpB,OAAOA,2CAGQ2W,EAAG3W,GAElB,OAAO2W,wCAGK2J,GACZ3qB,KAAKosB,WAAWzB,KAAKA,wCAIrB,IAAI3O,EAAU,GACRqQ,EAAWrsB,KAAKwH,YAAY8kB,eAAiB,GACnD,IAAK,IAAMtL,KAAKhhB,KAAKwH,YAAYmG,YACRpG,IAAnBvH,KAAK2N,OAAOqT,GACdhF,EAAOgF,GAAKhhB,KAAK2N,OAAOqT,QACCzZ,IAAhB8kB,EAASrL,KAClBhF,EAAOgF,GAAKqL,EAASrL,IAGzB,OAAOhF,mCAIP,IAAMuQ,EAAMvsB,KAAKwsB,SAASxsB,KAAKysB,cAC3BhQ,EAAU,GACd,IAAK,IAAMuE,KAAKuL,EACd9P,EAAQzc,KAAK0sB,iBAAiB1L,IAAMhhB,KAAK2sB,mBAAmB3L,EAAGuL,EAAIvL,IAErE,MAAO,CACL,mBACA,CAAEvE,UAAShD,QAASzZ,KAAK4sB,oDA1C3B,IAAI5Q,EAAS,CAACvX,KAAMzE,KAAKyE,MACzB,OAAO1B,OAAAgC,EAAA,EAAAhC,CAAA,GAAIiZ,EAAWhc,KAAK6sB,eCdzB9gB,GAAO,SAASO,EAAGjK,EAAGC,GAC1B,IAAMjB,EAAIiL,EAAE,CAACjK,EAAGA,EAAGC,EAAGA,IACtB,OAAIjB,EAAI,EAAY,KAChBA,EAAI,EAAY,KACb,MAqCHyrB,GAAY,SAASxgB,EAAGjK,EAAGC,EAAGhB,EAAGyrB,EAAOC,GAC5C,IAAMC,EAAK3rB,EAAI,EACTrB,EAAQ,CAACgtB,EAAIF,EAAM,EAAGC,EAAY,GACxC,OAAOjqB,OAAAgW,EAAA,EAAAhW,CACFmqB,GAAUnK,WAAV,GAAWzW,EAAGjK,EAAGC,GAAjBP,OAAuB9B,KAD5B8B,OAAAgB,OAAAgW,EAAA,EAAAhW,CAEKmqB,GAAUnK,WAAV,GAAWzW,EAAGjK,EAAE4qB,EAAI3qB,GAApBP,OAA0B9B,KAF/B8C,OAAAgW,EAAA,EAAAhW,CAGKmqB,GAAUnK,WAAV,GAAWzW,EAAGjK,EAAE4qB,EAAI3qB,EAAE2qB,GAAtBlrB,OAA6B9B,KAHlC8C,OAAAgW,EAAA,EAAAhW,CAIKmqB,GAAUnK,WAAV,GAAWzW,EAAGjK,EAAGC,EAAE2qB,GAAnBlrB,OAA0B9B,OAI3BitB,GAAa,SAAS5gB,EAAGjK,EAAGC,EAAGhB,EAAGyrB,EAAOC,GAC7C,OAAIA,EAAc,EACTF,GAAUxgB,EAAGjK,EAAGC,EAAGhB,EAAGyrB,EAAOC,GA/CjB,SAAS1gB,EAAGjK,EAAGC,EAAGhB,GACvC,IACI6rB,EAAG9rB,EAAG4C,EAAGkG,EADP0G,EAAIvP,EAAI,GAEd,IACE6rB,EAAIphB,GAAKO,EAAGjK,EAAGC,GACf,MAAM+J,GACN8gB,EAAIphB,GAAKO,EAAGjK,EAAEwO,EAAGvO,EAAEuO,GAGrB,IACExP,EAAI0K,GAAKO,EAAGjK,EAAEf,EAAGgB,GACjB,MAAM+J,GACNhL,EAAI0K,GAAKO,EAAGjK,EAAEf,EAAEuP,EAAGvO,EAAEuO,GAEvB,GAAIxP,IAAM8rB,EAAG,OAAO,EAEpB,IACElpB,EAAI8H,GAAKO,EAAGjK,EAAEf,EAAGgB,EAAEhB,GACnB,MAAM+K,GACNpI,EAAI8H,GAAKO,EAAGjK,EAAEf,EAAEuP,EAAGvO,EAAEhB,EAAEuP,GAEzB,GAAI5M,IAAMkpB,EAAG,OAAO,EAEpB,IACEhjB,EAAI4B,GAAKO,EAAGjK,EAAGC,EAAEhB,GACjB,MAAM+K,GACNlC,EAAI4B,GAAKO,EAAGjK,EAAEwO,EAAGvO,EAAEhB,EAAEuP,GAEvB,OAAI1G,IAAMgjB,EAqBJC,CAAe9gB,EAAGjK,EAAGC,EAAGhB,GACtByrB,EAAQ,EACHD,GAAUxgB,EAAGjK,EAAGC,EAAGhB,EAAGyrB,EAAOC,GAE7B,CAAC,CAAC3qB,EAAGA,EAAEf,EAAE,EAAGgB,EAAGA,EAAEhB,EAAE,IAGrB,IC7DA+rB,GAAb,SAAAC,GAAA,SAAAD,IAAA,OAAAtqB,OAAAC,EAAA,EAAAD,CAAA/C,KAAAqtB,GAAAtqB,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAAsqB,GAAAtK,MAAA/iB,KAAAsV,YAAA,OAAAvS,OAAAwqB,EAAA,EAAAxqB,CAAAsqB,EAAAC,GAAAvqB,OAAAkoB,EAAA,EAAAloB,CAAAsqB,EAAA,EAAA1jB,IAAA,WAAA2G,MAAA,SAMW3C,GACP,IAAM6f,EAAKxtB,KAAKmsB,OAEVjgB,EAAMshB,EAAGC,OAAO,EAAC,GAAM,IAEvBC,EAAWF,EAAG1B,QAAQ,EAAE,GACxB6B,EAAgBH,EAAG1B,QAAQ,EAAE,GAE7B8B,EAAQF,EAAWC,EADRH,EAAG1B,QAAQ,EAAE,GAExB+B,EAASL,EAAGM,aAAa,EAAE,EAAEF,GAC7BrX,EAAQsX,EAAOlb,MAAM,EAAE+a,GACvB/W,EAAakX,EAAOlb,MAAM+a,EAAUA,EAASC,GAC7ClX,EAAQoX,EAAOlb,MAAM+a,EAASC,GAZrBjsB,EAeAwK,EAAM,CAAC,IAAK,KAAO,CAAC,IAAK,KAfzBxJ,EAAAK,OAAA6D,EAAA,EAAA7D,CAAArB,EAAA,GAeRW,EAfQK,EAAA,GAeLJ,EAfKI,EAAA,GAiBX+U,EAAM,GACNC,EAAM,GAlBK7H,GAAA,EAAAC,GAAA,EAAAC,OAAAxI,EAAA,IAoBf,QAAAyI,EAAAC,EAAgBlN,OAAAgW,EAAA,EAAAhW,CAAIwT,GAAJxU,OAAAgB,OAAAgW,EAAA,EAAAhW,CAAc0T,IAAOgC,KAAK,SAAC7Y,EAAEmE,GAAH,OAASA,EAAEnE,IAArDsQ,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAAyD,KAA9CxO,EAA8C2O,EAAAM,MAErDmH,EADQ,IAANpW,EACC,GAAAU,OAAMM,GAANN,OAAU0V,GACJpW,EAAI,EACV,GAAAU,OAAM0V,EAAN,KAAA1V,OAAaM,EAAb,KAAAN,OAAkBV,EAAlB,KAEA,GAAAU,OAAM0V,EAAN,KAAA1V,OAAaM,EAAb,KAAAN,QAAmBV,EAAnB,MA1BQ,MAAAqP,GAAAZ,GAAA,EAAAC,EAAAW,EAAA,YAAAb,GAAA,MAAAI,EAAAU,QAAAV,EAAAU,SAAA,WAAAb,EAAA,MAAAC,GAAA,IAAA4H,GAAA,EAAAC,GAAA,EAAAC,OAAAtQ,EAAA,IA8Bf,QAAAuQ,EAAAC,EAAgBhV,OAAAgW,EAAA,EAAAhW,CAAI4T,GAAJ5U,OAAAgB,OAAAgW,EAAA,EAAAhW,CAAmB0T,IAAOgC,KAAK,SAAC7Y,EAAEmE,GAAH,OAASA,EAAEnE,IAA1DsQ,OAAAC,cAAAwH,GAAAG,EAAAC,EAAA3H,QAAAC,MAAAsH,GAAA,EAA8D,KAAnDtW,EAAmDyW,EAAAxH,MAE1DoH,EADQ,IAANrW,EACC,GAAAU,OAAMM,GAANN,OAAU2V,GACJrW,EAAI,EACV,GAAAU,OAAM2V,EAAN,KAAA3V,OAAaM,EAAb,KAAAN,OAAkBV,EAAlB,KAEA,GAAAU,OAAM2V,EAAN,KAAA3V,OAAaM,EAAb,KAAAN,QAAmBV,EAAnB,MApCQ,MAAAqP,GAAAkH,GAAA,EAAAC,EAAAnH,EAAA,YAAAiH,GAAA,MAAAI,EAAApH,QAAAoH,EAAApH,SAAA,WAAAiH,EAAA,MAAAC,GAwCH,KAARJ,IAAYA,EAAM,KACV,KAARC,IAAYA,EAAM,KAEtB,IAEMqW,EAAQ,CACZ,kBACA,CAAC7a,KAAM,EAAE,IAAI,GAAG,GAAG,IAAK3Q,OAAQ,OAChC,CACE,YAAa,CAAE7B,KANDwL,EAAM,WAAa,QAOjC,CACE,mBACA,CAACqK,QAAOE,QAAOE,aAAYtB,OAvClB,EAAE,GAAG,QA4CpB,MAAO,CACLqI,SAAQ,mBAAA3b,OAAqBO,EAArB,4BAAAP,OAAiD0V,EAAjD,MAAA1V,OAAyD2V,EAAzD,QACRiG,QAASoQ,OAjEfV,EAAA,CAAkCpB,IAArBoB,GACJR,KAAO,CACZpoB,KAAM,mBACNupB,YAAa,uCAqEV,IAAMC,GAAb,SAAAC,GAAA,SAAAD,IAAA,OAAAlrB,OAAAC,EAAA,EAAAD,CAAA/C,KAAAiuB,GAAAlrB,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAAkrB,GAAAlL,MAAA/iB,KAAAsV,YAAA,OAAAvS,OAAAwqB,EAAA,EAAAxqB,CAAAkrB,EAAAC,GAAAnrB,OAAAkoB,EAAA,EAAAloB,CAAAkrB,EAAA,EAAAtkB,IAAA,WAAA2G,MAAA,SAMW3C,GACP,IAAM6f,EAAKxtB,KAAKmsB,OAEVjW,EAAMsX,EAAG1B,QAAQ,EAAE,GACnB5f,EAAMshB,EAAGC,OAAO,EAAC,GAAM,IACzBU,EAASX,EAAG3B,OAAO,EAAE,GAAG,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI3V,EAAI,GACnDkY,EAAQZ,EAAG1B,QAAQ,EAAG,IAEI,IAA5BqC,EAAOA,EAAOjpB,OAAO,KACvBipB,EAASA,EAAOxb,MAAM,GAAG,IAI3B,IAbe,IAAA0b,EAWAniB,EAAM,CAAC,IAAK,KAAO,CAAC,IAAK,KAXzBoiB,EAAAvrB,OAAA6D,EAAA,EAAA7D,CAAAsrB,EAAA,GAWRhkB,EAXQikB,EAAA,GAWL1qB,EAXK0qB,EAAA,GAYXC,EAAM,GACD9kB,EAAI0kB,EAAOjpB,OAAO,EAAGuE,GAAK,EAAGA,IAAK,CACzC,IAAMzF,EAAImqB,EAAO1kB,GACXpH,EAAU,IAANoH,EAAU,GAAV,GAAA1H,OAAkBsI,EAAlB,MAAAtI,OAAwB0H,EAAxB,KACNzF,EAAI,GACFyF,EAAI0kB,EAAOjpB,OAAO,IAAGqpB,GAAO,KACtB,IAANvqB,GAAiB,IAANyF,IAAS8kB,GAAOvqB,GAC/BuqB,GAAOlsB,GACE2B,EAAI,IAEXuqB,IADS,IAAPvqB,GAAkB,IAANyF,EACPzF,EAEA,IAETuqB,GAAOlsB,GAIX,IAEM0rB,EAAQ,CACZ,kBAAmB,CAAC7a,KAAM,EAAE,IAAI,GAAG,GAAG,IAAK1Q,MAAO,OAClD,CACE,YAAa,CAAE9B,KALDwL,EAAM,WAAa,QAMjC,CACE,qBACA,CAAC6J,aAAcoY,EAAO5kB,IAAI,SAAAvF,GAAC,OAAIA,EAAEoqB,IAAQ/Y,OAAQ,EAAE,GAAG,QAO5D,MAAO,CACLqI,SAHY,kBAAA3b,OAAqB6B,EAArB,+BAAA7B,OAAoDqsB,EAApD,MAAArsB,OAA8DwsB,EAA9D,OAIZ5Q,QAASoQ,OArDfE,EAAA,CAAoChC,IAAvBgC,GACJpB,KAAO,CACZpoB,KAAM,qBACNupB,YAAa,yCAuDV,IAAMQ,GAAb,SAAAC,GAAA,SAAAD,IAAA,OAAAzrB,OAAAC,EAAA,EAAAD,CAAA/C,KAAAwuB,GAAAzrB,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAAyrB,GAAAzL,MAAA/iB,KAAAsV,YAAA,OAAAvS,OAAAwqB,EAAA,EAAAxqB,CAAAyrB,EAAAC,GAAA1rB,OAAAkoB,EAAA,EAAAloB,CAAAyrB,EAAA,EAAA7kB,IAAA,WAAA2G,MAAA,SAMW3C,GAWP,IAVA,IAAMtL,EAAI,SAAA8H,GAAC,OAAI,EAAEjG,KAAKmE,IAAI8B,IACpB7H,EAAI,SAAA6H,GAAC,OAAI,EAAEjG,KAAKmE,IAAI,KAAK8B,IAE3BukB,EAAQ,GACRC,EAAQ,GACRC,EAAQ,GACRC,EAAQ,GAER1kB,GAAK,GAEFA,IAAM,IACXukB,EAAMtkB,KAAK,CAAC/H,EAAE8H,GAAI7H,EAAE6H,KACpBA,GAVW,GAcb,IAFAukB,EAAMtkB,KAAK,CAAC/H,EAAE8H,GAAI7H,EAAE6H,KAEbA,GAAK,GACVwkB,EAAMvkB,KAAK,CAAC/H,EAAE8H,GAAI7H,EAAE6H,KACpBA,GAhBW,GAoBb,IAFAwkB,EAAMvkB,KAAK,CAAC/H,EAAE8H,GAAI7H,EAAE6H,KAEbA,GAAK,IACVykB,EAAMxkB,KAAK,CAAC/H,EAAE8H,GAAI7H,EAAE6H,KACpBA,GAtBW,GA2Bb,IAHAykB,EAAMxkB,KAAK,CAAC/H,EAAE8H,GAAI7H,EAAE6H,KAGbA,GAAK,IACV0kB,EAAMzkB,KAAK,CAAC/H,EAAE8H,GAAI7H,EAAE6H,KACpBA,GA7BW,GAkCb,OAHA0kB,EAAMzkB,KAAK,CAAC/H,EAAE8H,GAAI7H,EAAE6H,KAGb,CACL8S,OAAQ,CAACc,OAAQ,MACjBL,SAAU,oFACVC,QAAS,CACP,kBAAmB,CAAEzK,KAAM,EAAE,IAAI,GAAG,GAAG,IAAK3Q,OAAQ,OACpD,CACE,QAAS,CAACmC,MAAO,oBACjB,CAAC,OAAQ,CAACnD,OAAQstB,KAEpB,CACE,QAAS,CAACnqB,MAAO,mBACjB,CAAC,OAAQ,CAACnD,OAAQqtB,KAEpB,CACE,QAAS,CAAClqB,MAAO,mBACjB,CAAC,OAAQ,CAACnD,OAAQotB,KAEpB,CACE,QAAS,CAACjqB,MAAO,oBACjB,CAAC,OAAQ,CAACnD,OAAQmtB,WA9D5BF,EAAA,CAAiCvC,IAApBuC,GACJ3B,KAAO,CACZpoB,KAAM,aACNupB,YAAa,iDAkEV,IAAMc,GAAb,SAAAC,GAAA,SAAAD,IAAA,OAAA/rB,OAAAC,EAAA,EAAAD,CAAA/C,KAAA8uB,GAAA/rB,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAA+rB,GAAA/L,MAAA/iB,KAAAsV,YAAA,OAAAvS,OAAAwqB,EAAA,EAAAxqB,CAAA+rB,EAAAC,GAAAhsB,OAAAkoB,EAAA,EAAAloB,CAAA+rB,EAAA,EAAAnlB,IAAA,WAAA2G,MAAA,SAMW3C,GAaP,IAZA,IAAM6f,EAAKxtB,KAAKmsB,OADD6C,EAGUxB,EAAGM,YAAY,EAAE,EAAE,GAH7BmB,EAAAlsB,OAAA6D,EAAA,EAAA7D,CAAAisB,EAAA,GAGRE,EAHQD,EAAA,GAGJE,EAHIF,EAAA,GAGAG,EAHAH,EAAA,GAGII,EAHJJ,EAAA,GAITK,EAAW,CACf,kBAAmB,CAACpc,KAAM,EAAE,GAAG,EAAE,GAAG,IAAK3Q,OAAQ,SACjD,CAAC,QAAS,CAACF,EAAG6sB,EAAI5sB,EAAG6sB,IACrB,CAAC,QAAS,CAAC9sB,EAAG+sB,EAAI9sB,EAAG+sB,IACrB,CAAC,UAAW,CAAChtB,EAAG6sB,EAAI5sB,EAAG6sB,EAAInpB,OAAQ,MAAO,OAC1C,CAAC,UAAW,CAAC3D,EAAG+sB,EAAI9sB,EAAG+sB,EAAIrpB,OAAQ,MAAO,QAGtCupB,EAAS,GACN9lB,EAAI,EAAGA,EAAI,EAAGA,IAAK,KAAA+lB,EACNhC,EAAG3B,OAAO,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GADtB4D,EAAA1sB,OAAA6D,EAAA,EAAA7D,CAAAysB,EAAA,GACnBE,EADmBD,EAAA,GACbE,EADaF,EAAA,GAEpBG,EAAQpC,EAAG1B,QAAQ,EAAE,IACrB7nB,EAAIupB,EAAGC,OAAO,CAAC,IAAK,MAC1B8B,EAAOnlB,KAAP,gBAAArI,OAA4B2tB,EAA5B,MAAA3tB,OAAqC4tB,EAArC,OAAA5tB,OAA8CkC,EAA9C,KAAAlC,OAAmD6tB,EAAnD,OAKF,MAAO,CACLnS,aAAc,CACZ,OACA,kCACA,4BACA,6CAEFC,SAAU,CACR,OADQ,8CAAA3b,OA3BF,EA2BE,QAGR,iDACA,sDAEF4b,QAAS2R,EACTrS,OAAQ,CACNc,OAAQ,CAAC,eAAgB,CAACvb,MAAO,OAAQ,yBA3CjDssB,EAAA,CAA8B7C,IAAjB6C,GACJjC,KAAO,CACZpoB,KAAM,YACNupB,YAAa,qBAgDV,IAAM6B,GAAb,SAAAC,GAAA,SAAAD,IAAA,OAAA9sB,OAAAC,EAAA,EAAAD,CAAA/C,KAAA6vB,GAAA9sB,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAA8sB,GAAA9M,MAAA/iB,KAAAsV,YAAA,OAAAvS,OAAAwqB,EAAA,EAAAxqB,CAAA8sB,EAAAC,GAAA/sB,OAAAkoB,EAAA,EAAAloB,CAAA8sB,EAAA,EAAAlmB,IAAA,WAAA2G,MAAA,SAKW3C,GAMP,IAJA,IAAMmO,EAAO,yDAETiU,EAAQ,GAJG/qB,EAMK,CAAC8W,EAAMA,EAAKkU,eAAhC/qB,EAAA,EAAAA,EAAAD,EAAAE,OAAAD,IACE,IADG,IAAMgrB,EAAKjrB,EAAAC,GAAgCG,EAC9B,CAAC,GAAI,IAAK,KAAM,OAAhCC,EAAA,EAAAA,EAAAD,EAAAF,OAAAG,IAAwC,CAAnC,IAAMhD,EAAC+C,EAAAC,GACV0qB,EAAM3lB,KAAN,GAAArI,OAAcM,GAAdN,OAAkBkuB,GAAlBluB,OAA0BM,IAS9B,OALA0tB,EAAM3lB,KAAK,YAAc0R,EAAO,eAChCiU,EAAM3lB,KAAK,qBAAuB0R,EAAO,gBACzCiU,EAAM3lB,KAAK,YAAc0R,EAAKkU,cAAgB,eAC9CD,EAAM3lB,KAAK,qBAAuB0R,EAAKkU,cAAgB,gBAEhD,CACLtS,SAAUqS,EAAMzvB,KAAK,aAvB3BuvB,EAAA,CAAiC5D,IAApB4D,GACJhD,KAAO,CACZpoB,KAAM,eA0BH,IAAMyrB,GAAb,SAAAC,GAAA,SAAAD,IAAA,OAAAntB,OAAAC,EAAA,EAAAD,CAAA/C,KAAAkwB,GAAAntB,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAAmtB,GAAAnN,MAAA/iB,KAAAsV,YAAA,OAAAvS,OAAAwqB,EAAA,EAAAxqB,CAAAmtB,EAAAC,GAAAptB,OAAAkoB,EAAA,EAAAloB,CAAAmtB,EAAA,EAAAvmB,IAAA,WAAA2G,MAAA,SAMW3C,GAgBP,MAAO,CACL+P,SAAU,4CACVC,QATY,CACZ,kBAAkB,CAACzK,KAAM,EAAE,GAAG,EAAE,EAAE,GAAI3Q,OAAQ,OAC9C,CAAC,cAAe,CAAEhB,OAJP2rB,GAAW,SAAAkD,GAAE,OANf,SAAAC,GAAA,IAAEhuB,EAAFguB,EAAEhuB,EAAFguB,EAAK/tB,EAAL,OAAY4B,KAAKiS,IAAIjS,KAAKmE,IAAIhG,EAAEA,GAAI,GAMjBiuB,CAAGF,GALtB,SAAAG,KAAEluB,EAAF,IAAKC,EAALiuB,EAAKjuB,EAAL,OAAY4B,KAAKiS,IAAIjS,KAAKiE,IAAI7F,EAAEA,GAAI,GAKRkuB,CAAGJ,KAAM,GAAI,EAAG,GAAI,EAAG,WAblEF,EAAA,CAAsCjE,IAAzBiE,GACJrD,KAAO,CACZpoB,KAAM,qBACNupB,YAAa,uNAiCNrgB,GAgDP,MAAQ,CACN+P,SAAU,CACRhd,KAAM,WACN2Z,KAjDQ,8zBAAAtY,OAmCd,MAnCc,0KA2Cd,MA3Cc,eATKkqB,KAEZY,KAAO,CACZpoB,KAAM,kBACNupB,YAAa,uBA+DV,IAAMxL,GAAb,SAAAiO,GAAA,SAAAjO,IAAA,OAAAzf,OAAAC,EAAA,EAAAD,CAAA/C,KAAAwiB,GAAAzf,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAAyf,GAAAO,MAAA/iB,KAAAsV,YAAA,OAAAvS,OAAAwqB,EAAA,EAAAxqB,CAAAyf,EAAAiO,GAAA1tB,OAAAkoB,EAAA,EAAAloB,CAAAyf,EAAA,EAAA7Y,IAAA,WAAA2G,MAAA,SAMW3C,GAOP,IANA,IAEUtL,EAFNd,EAAS,GAGPmvB,EAAI,SAAAruB,GAAC,MAAK,CAACA,EAAGA,EAAGC,EAAG,EAAE4B,KAAKmE,IAAIhG,GAAIsuB,SAAU,MAE/CxmB,EAAI,EACDA,GAAK,GACV5I,EAAO6I,KALO,CAAC/H,EAAPA,EAKM8H,EALO7H,EAAG,EAAED,EAAIA,EAAEA,EAAGsuB,SAAU,MAM7CpvB,EAAO6I,KAAKsmB,EAAEvmB,IACdA,GAAK,GAkCP,MAAO,CACLsT,aAAc,+DACdE,QAAS,CAAC,WAjCK,CACfqK,OAAQ,CACN4I,KAAM,CACJlsB,MAAO,QAGX2V,KAAM,CAAEwT,OAAQtsB,GAChBsvB,KAAM,CACJnwB,KAAM,OACNowB,YAAa,YAEfC,SAAY,CACV1uB,EAAG,CACD2uB,MAAO,IACPtwB,KAAM,gBAER4B,EAAG,CACD0uB,MAAO,IACPtwB,KAAM,gBAERgE,MAAO,CACLssB,MAAO,WACPtwB,KAAM,UACNwO,MAAO,CACLmG,OAAQ,CAAC,IAAK,KACd6B,MAAO,CAAC,6BAA8B,wCA5ClDsL,EAAA,CAA8ByJ,IAAjBzJ,GACJqK,KAAO,CACZpoB,KAAM,YACNupB,YAAa,gNA4DNrgB,GACP,MAAO,CACLsP,OAAQ,KACRQ,aAAc,sBACdE,QAAS,CAAC,OAAQ,CACdsT,QAAW,6CACXzuB,MAAS,IACTD,OAAU,IACVoG,QAAW,EAEXuoB,QAAW,CACT,CACEzsB,KAAQ,cACR6L,MAAS,SACT6gB,KAAQ,CACNC,MAAS,SACT3X,QAAW,CACT,QACA,WACA,cACA,SACA,WACA,UACA,OACA,aACA,kBAMRY,KAAQ,CACN,CACE5V,KAAQ,QACRopB,OAAU,CACR,CAACxrB,EAAK,EAAGC,EAAK,GAAI0B,EAAI,GAAI,CAAC3B,EAAK,EAAGC,EAAK,GAAI0B,EAAI,GAChD,CAAC3B,EAAK,EAAGC,EAAK,GAAI0B,EAAI,GAAI,CAAC3B,EAAK,EAAGC,EAAK,GAAI0B,EAAI,GAChD,CAAC3B,EAAK,EAAGC,EAAK,GAAI0B,EAAI,GAAI,CAAC3B,EAAK,EAAGC,EAAK,GAAI0B,EAAI,GAChD,CAAC3B,EAAK,EAAGC,EAAK,GAAI0B,EAAI,GAAI,CAAC3B,EAAK,EAAGC,EAAK,GAAI0B,EAAI,GAChD,CAAC3B,EAAK,EAAGC,EAAK,GAAI0B,EAAI,GAAI,CAAC3B,EAAK,EAAGC,EAAK,GAAI0B,EAAI,GAChD,CAAC3B,EAAK,EAAGC,EAAK,GAAI0B,EAAI,GAAI,CAAC3B,EAAK,EAAGC,EAAK,GAAI0B,EAAI,GAChD,CAAC3B,EAAK,EAAGC,EAAK,GAAI0B,EAAI,GAAI,CAAC3B,EAAK,EAAGC,EAAK,GAAI0B,EAAI,GAChD,CAAC3B,EAAK,EAAGC,EAAK,GAAI0B,EAAI,GAAI,CAAC3B,EAAK,EAAGC,EAAK,GAAI0B,EAAI,GAChD,CAAC3B,EAAK,EAAGC,EAAK,GAAI0B,EAAI,GAAI,CAAC3B,EAAK,EAAGC,EAAK,GAAI0B,EAAI,GAChD,CAAC3B,EAAK,EAAGC,EAAK,GAAI0B,EAAI,GAAI,CAAC3B,EAAK,EAAGC,EAAK,GAAI0B,EAAI,MAKtDqtB,OAAU,CACR,CACE5sB,KAAQ,IACR/D,KAAQ,QACRwW,MAAS,QACT7B,OAAU,CAACgF,KAAQ,QAAS2W,MAAS,MAEvC,CACEvsB,KAAQ,IACR/D,KAAQ,SACRwW,MAAS,SACToa,MAAQ,EACRC,MAAQ,EACRlc,OAAU,CAACgF,KAAQ,QAAS2W,MAAS,MAEvC,CACEvsB,KAAQ,QACR/D,KAAQ,UACRwW,MAAS,WACT7B,OAAU,CAACgF,KAAQ,QAAS2W,MAAS,OAIzCQ,KAAQ,CACN,CAACrvB,OAAU,SAAU+M,MAAS,IAAKuiB,UAAa,cAChD,CAACtvB,OAAU,OAAQ+M,MAAS,MAG9BwiB,MAAS,CACP,CACEhxB,KAAQ,QACRixB,KAAQ,CACNC,MAAS,CACPntB,KAAQ,SACR4V,KAAQ,QACRwX,QAAW,MAGfH,MAAS,CACP,CACEhxB,KAAQ,OACRixB,KAAQ,CAACtX,KAAQ,UACjByX,OAAU,CACRC,MAAS,CACP1vB,EAAK,CAAC6M,MAAS,IAAK8hB,MAAS,KAC7B1uB,EAAK,CAAC4M,MAAS,IAAK8hB,MAAS,KAC7BzrB,OAAU,CAAC2J,MAAS,QAAS8hB,MAAS,KACtCgB,YAAe,CAAC1hB,MAAS,IAE3B2hB,OAAU,CACRnB,YAAe,CAACoB,OAAU,eAC1BC,YAAe,CAAC7hB,MAAS,IAE3B8hB,MAAS,CACPD,YAAe,CAAC7hB,MAAS,oBA7GxB2b,KACdY,KAAO,CACZpoB,KAAM,YACNupB,YAAa,uBC9ajB,wBC4Ce/c,ICrCbtR,EAAAC,EAAAC,cAAA,OAAKmB,QAAQ,eAAeuB,OAAO,MAAMoK,MAAM,8BAC7ChN,EAAAC,EAAAC,cAAA,KAAG2B,UAAU,eACX7B,EAAAC,EAAAC,cAAA,KAAGiF,MAAO,CAACS,OAAQ,sBACjB5F,EAAAC,EAAAC,cAAC6U,GAAD,CAAMxB,KAAM,EAAE,GAAG,EAAE,GAAG,OAExBvT,EAAAC,EAAAC,cAAA,UAAQsB,GAAG,IAAIC,GAAG,IAAIC,EAAE,QACxB1B,EAAAC,EAAAC,cAAA,iBAAeC,UAAWC,KAAOlB,GAAIwD,EAAE,IAAIC,EAAE,IAAIE,MAAM,OAAOD,OAAO,QACnE5C,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOjB,MACrBa,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOhB,KAAMiH,OAAO,MAClCrG,EAAAC,EAAAC,cAAA,2BAGJF,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOjB,MACrBa,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOhB,KAAMiH,OAAO,MAClCrG,EAAAC,EAAAC,cAAA,2BAGJF,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOjB,MACrBa,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOhB,KAAMiH,OAAO,MAClCrG,EAAAC,EAAAC,cAAA,2BAGJF,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOjB,MACrBa,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOhB,KAAMiH,OAAO,MAClCrG,EAAAC,EAAAC,cAAA,8BDaGoR,YATS,SAAA7N,GAAK,MAAK,CAChCimB,WAAYjmB,EAAMgnB,SAASI,MAC3B6H,WAAYjvB,EAAMgnB,SAASiI,WAC3BC,cAAelvB,EAAM4kB,OAAOsK,cAC5BxtB,MAAO1B,EAAM0B,MACbytB,OAAQnvB,EAAM4kB,OAAOwK,aACrBC,UAAWrvB,EAAM4kB,OAAOyK,YAGXxhB,CA1CE,SAAChR,GAChB,IAAMyyB,EAAMzyB,EAAMopB,WAAWnkB,OAASjF,EAAMsyB,OACtCI,EAAa1yB,EAAMopB,WAAW1W,MAAM,EAAE+f,GACxCE,EAAO,EACPC,EAAS,GAJahjB,GAAA,EAAAC,GAAA,EAAAC,OAAAxI,EAAA,IAK1B,QAAAyI,EAAAC,EAAgBhQ,EAAMoyB,WAAtBniB,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAAkC,KAAvBpG,EAAuBuG,EAAAM,MAC5B7G,EAAIipB,IACNG,EAAOzoB,KAAK,CAACwoB,EAAMnpB,IACnBmpB,EAAOnpB,IARe,MAAAiH,GAAAZ,GAAA,EAAAC,EAAAW,EAAA,YAAAb,GAAA,MAAAI,EAAAU,QAAAV,EAAAU,SAAA,WAAAb,EAAA,MAAAC,GAW1B8iB,EAAOzoB,KAAK,CAACwoB,IACb,IAAME,EAAQD,EAAOtpB,IAAI,SAAAtF,GAAC,OAAI0uB,EAAWhgB,MAAXoQ,MAAA4P,EAAU5vB,OAAAgW,EAAA,EAAAhW,CAAUkB,MAC5CnE,EAAYG,EAAMwyB,UAAY,sBAAwB,WAI5D,OACE9yB,EAAAC,EAAAC,cAAA,OAAKC,UAAWA,GAEZgzB,EAAM5tB,OAAS,EACb4tB,EAAMvpB,IAAI,SAACwpB,EAAItpB,GAAL,OACV9J,EAAAC,EAAAC,cAACmzB,GAAD,CAAcrpB,IAAG,QAAA5H,OAAU0H,EAAE,GAC3BkgB,WAAYlgB,EAAE,EACd4f,WAAY0J,EAAIxpB,IAAI,SAAAE,GAAC,iBAAA1H,OAAe0H,SAEnC,KAENxJ,EAAMqyB,cAAgB3yB,EAAAC,EAAAC,cAACozB,GAAD,MAAgB,kBE9BhCC,GAAgB,SAACC,GAAD,MAAW,CACtCzyB,KAT4B,iBAU5BC,QAASwyB,IAuBEC,GAAa,SAAAC,GAMxB,MALc,SAAVA,EACFjJ,SAASkJ,KAAKC,gBAAgB,YAE9BnJ,SAASkJ,KAAKE,aAAa,WAAYH,GAEjC,CACN3yB,KAnCwB,eAoCxBC,QAAS0yB,ICpCPI,eAUJ,SAAAA,EAAYxzB,GAAO,IAAA6C,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAA/C,KAAAyzB,IACjB3wB,EAAAC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAA0wB,GAAAtwB,KAAAnD,KAAMC,KAIRyzB,QAAU,WACR,IAAM5U,EAAahc,EAAKsuB,MAAM5tB,QAAQ8M,MACtCxN,EAAK7C,MAAMizB,cAAcpU,IALzBhc,EAAKsuB,MAAQjxB,IAAMmD,YAFFR,wEAWjB,OACEnD,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACAnC,EAAAC,EAAAC,cAAA,SAAOwD,IAAKrD,KAAKoxB,MAAOuC,YAAY,IACpCh0B,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAK0zB,SAAU1zB,KAAKC,MAAM2zB,qBAxBtBzzB,IAAMC,WAA3BqzB,GAMG1L,aAAe,CACpB6L,YAAa,OA2BF3iB,YAAQ,KAJI,SAAAsV,GAAQ,MAAK,CACtC2M,cAAe,SAAA5mB,GAAC,OAAIia,EAAS2M,GAAc5mB,OAG9B2E,CAAkCwiB,IAJjD,IC9BMI,8MAMJC,gBAAkB,SAACvP,GACjBzhB,EAAK7C,MAAM6zB,gBAAgBvP,EAAIE,OAAOnU,gFAItC,OACE3Q,EAAAC,EAAAC,cAAA,UAAQykB,SAAUtkB,KAAK8zB,gBAAiBxjB,MAAOtQ,KAAKC,MAAMuD,SACxD7D,EAAAC,EAAAC,cAAA,UAAQyQ,MAAM,SAAd,SACA3Q,EAAAC,EAAAC,cAAA,UAAQyQ,MAAM,UAAd,gBAdmBnQ,IAAMC,WA4BlB6Q,eARS,SAAA7N,GAAK,MAAK,CAChCI,QAASJ,EAAM4kB,OAAO+L,eAGG,SAAAxN,GAAQ,MAAK,CACtCuN,gBAAiB,SAACE,GAAD,OAAezN,EFZa,CAC7C7lB,KAjB+B,oBAkB/BC,QEUyDqzB,OAG5C/iB,CAA6C4iB,ICtB/CI,GAAwB,SAACC,GACpC,MAAQ,CACNxzB,KAbmC,0BAcnCC,QAASuzB,IAmCAC,GAAgB,SAAAC,GAAO,MAAK,CACvC1zB,KA7C6B,kBA8C7BC,QAASyzB,IAIEC,GAAmB,SAACp0B,GAC/B,MAAQ,CACNS,KAlD6B,oBAmD7BC,QAASV,ICpDPq0B,8MAUJhQ,SAAW,SAACC,GACV,IAAMjU,EAAQiU,EAAIE,OAAOnU,MACnBwO,EAAkC,YAArBxO,EAAMqC,MAAM,EAAE,GAAmBrC,EAAMqC,MAAM,GAAKrC,EACrExN,EAAKyxB,cAAczV,iFAPPA,GACZ9e,KAAKC,MAAMg0B,sBAAsBnV,oCAUjC,OACEnf,EAAAC,EAAAC,cAAA,SAAOa,KAAK,OACV4P,MAAOtQ,KAAKC,MAAMuD,QAClBmwB,YAAY,EACZrP,SAAUtkB,KAAKskB,kBArBOnkB,IAAMC,WAmCrB6Q,eARS,SAAA7N,GAAK,MAAK,CAChCI,QAASJ,EAAM0B,MAAMga,aAGI,SAAAyH,GAAQ,MAAK,CACtC0N,sBAAuB,SAACC,GAAD,OAAY3N,EAAS0N,GAAsBC,OAGrDjjB,CAA6CqjB,IClCtDE,GAAe,GA6BfC,GAAe,CACnB,aACA,QACA,cAGIC,GAAa,CACjBC,WAAc,QACdC,WAAc,aACdC,aAAgB,eAChBC,cAAiB,WACjBC,UAAa,YACbC,gBAAmB,aACnBC,WAAc,cACdC,aAAc,uBACdC,MAAS,mBAGX,SAASC,GAASx1B,EAAGmE,GACnB,IAAMsxB,GAASX,GAAW90B,IAAMA,GAAGowB,cAC7BsF,GAASZ,GAAW3wB,IAAMA,GAAGisB,cACnC,OAAIqF,EAAQC,GAAiB,EACzBD,EAAQC,EAAgB,EACrB,MAyBHC,eAWJ,SAAAA,EAAYt1B,GAAO,IAAA6C,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAA/C,KAAAu1B,IACjBzyB,EAAAC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAAwyB,GAAApyB,KAAAnD,KAAMC,KAGRu1B,SAAW,WAST,OARYzyB,OAAAgW,EAAA,EAAAhW,CAELyxB,GADFzyB,OAAAgB,OAAAgW,EAAA,EAAAhW,CAEED,EAAK7C,MAAMw1B,aACdhd,KAAK2c,KAJGrzB,OAKP0yB,KAVY3xB,EAqBnB4yB,cAAgB,WACd,IAAMxB,EAASyB,OAAO5X,OAAP,2FAEXmW,IACFpxB,EAAK7C,MAAMizB,cAAcgB,GACzBpxB,EAAKyxB,cAAcL,KA1BJpxB,EA8BnBwhB,SAAW,SAACC,GACV,IAAMjU,EAAQiU,EAAIE,OAAOnU,MACX,eAAVA,EACFxN,EAAK4yB,gBAEL5yB,EAAKyxB,cAAcjkB,IAnCJxN,6EAgBLgc,GAEZ9e,KAAKC,MAAMg0B,sBAAsBnV,oCAsBjC,OACEnf,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACEnC,EAAAC,EAAAC,cAAA,UACEyQ,MAAOtQ,KAAKC,MAAMuD,QAClB8gB,SAAUtkB,KAAKskB,UAEdtkB,KAAKw1B,WAAWjsB,IAAI,SAAC+C,GAAD,OA/E/B,SAA0B4nB,GACxB,GAAIA,EAAQ,CACV,IAAM0B,EAAQlB,GAAWR,IAAWA,EACpC,OACEv0B,EAAAC,EAAAC,cAAA,UAAQ8J,IAAG,QAAA5H,OAAUmyB,GACnB5jB,MAAO4jB,EACP2B,MAAkB,eAAX3B,EAA0B,iCAAmC,IAClE0B,GAGR,OAAOj2B,EAAAC,EAAAC,cAAA,UAAQ8J,IAAK,EAAG2G,MAAM,IAAIwlB,UAAU,GAApC,OAqE6BC,CAAiBzpB,cAzDxBnM,IAAMC,WAA/Bm1B,GAOGxN,aAAe,CACpB0N,WAAY,IAwDhB,IAUexkB,eAVS,SAAA7N,GAAK,MAAK,CAChCI,QAASJ,EAAM0B,MAAMga,WACrB2W,WAAW1yB,OAAAgW,EAAA,EAAAhW,CAAKK,EAAM4kB,OAAOyN,cAGJ,SAAAlP,GAAQ,MAAK,CACtC2M,cAAe,SAAA5mB,GAAC,OAAIia,EAAS2M,GAAc5mB,KAC3C2nB,sBAAuB,SAACC,GAAD,OAAY3N,EAAS0N,GAAsBC,OAGrDjjB,CAA6CskB,ICnJ7CtkB,eAFS,SAAA7N,GAAK,MAAK,CAAC2wB,aAAc3wB,EAAM4kB,OAAO+L,eAE/C9iB,CANI,SAAAvP,GAAA,MACA,UADAA,EAAEqyB,aACQp0B,EAAAC,EAAAC,cAACm2B,GAAD,MAAqBr2B,EAAAC,EAAAC,cAACo2B,GAAD,QCA5CC,8MAWJ5R,SAAW,SAACC,GACVzhB,EAAKqzB,eAAe5R,EAAIE,OAAOnU,sFALlB8L,GACbpc,KAAKC,MAAMm2B,oBAAoBha,+CAS/B,OACEzc,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KAFc,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,IAG1ByH,IAAI,SAACtF,GACZ,IAAMmY,EAAI,GAAAra,OAAMkC,EAAN,MACV,OACEtE,EAAAC,EAAAC,cAAA,UACEyQ,MAAO8L,EACPzS,IAAK1F,GACLmY,uCAQR,OACEzc,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACEnC,EAAAC,EAAAC,cAAA,UACEyQ,MAAOtQ,KAAKC,MAAMuD,QAClB8gB,SAAUtkB,KAAKskB,UAEdtkB,KAAKq2B,6BAvCal2B,IAAMC,WAuDpB6Q,eARS,SAAA7N,GAAK,MAAK,CAChCI,QAASJ,EAAM0B,MAAMia,WAGI,SAAAwH,GAAQ,MAAK,CACtC6P,oBAAqB,SAACha,GAAD,OAAUmK,EJzCE,SAACnK,GAClC,MAAQ,CACN1b,KAlBiC,wBAmBjCC,QAASyb,GIsC6Bga,CAAoBha,OAG/CnL,CAA6CilB,yBCpDtDI,GAAc,CAClB,UAGA,gBAGA,cACA,YAGA,gBAIA,OAGA,eAMA,cAIA,UAEA7d,OAEI8d,GAAa,CACjB3Q,QAAS,oBAIT4Q,SAAY,UACZC,aAAgB,qBAGZC,eAUJ,SAAAA,EAAYz2B,GAAO,IAAA6C,EAAAC,OAAAC,EAAA,EAAAD,CAAA/C,KAAA02B,IACjB5zB,EAAAC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAA2zB,GAAAvzB,KAAAnD,KAAMC,KAUR02B,YAAc,SAAApS,GACZzhB,EAAKY,SAAS,CAAC0tB,MAAO7M,EAAIE,OAAOnU,SAZhBxN,EAenB8zB,gBAAkB,SAAArS,GAChBzhB,EAAKY,SAAS,CAACmzB,UAAWtS,EAAIE,OAAOnU,SAhBpBxN,EA8BnBg0B,SAAW,SAAC5C,GACV,IAAM6C,EAAO,GAAAh1B,OAAMmyB,EAAN,KAAAnyB,OAAgBw0B,GAAWrC,IAAWqC,GAAW3Q,SAC9DoR,KAAQC,KAAK,CACXC,OAAQ,CACNC,SAAU,CAACJ,IAEbK,WAAY,kBAAMt0B,EAAK4wB,QAAQQ,IAC/BmD,aAAc,kBAAM5qB,QAAQuJ,MAAR,uBAAAjU,OAAqCmyB,QArC1CpxB,EAyCnBw0B,QAAU,WACR,GAAgC,IAA5Bx0B,EAAKM,MAAMm0B,MAAMryB,OACnB,OAAO,KAET8xB,KAAQC,KAAK,CACXC,OAAQ,CACNC,SAAUr0B,EAAKM,MAAMm0B,MAAMhuB,IAAI,SAAA+C,GAAC,SAAAvK,OAAOuK,EAAP,KAAAvK,OAAYw0B,GAAWjqB,IAAMiqB,GAAW3Q,YAE1EwR,WAAY,SAAClD,GAAD,OAAYpxB,EAAK4wB,QAAQQ,IACrCmD,aAAc,SAACnD,GAAD,OAAYznB,QAAQuJ,MAAR,uBAAAjU,OAAqCmyB,QAlDhDpxB,EAsDnB00B,cAAgB,WACd,IAAMtD,EAASpxB,EAAKM,MAAMguB,MACtB8C,GACFpxB,EAAKg0B,SAAS5C,IAzDCpxB,EA6DnB20B,iBAAmB,WACjB,IAAMvD,EAASpxB,EAAKM,MAAMyzB,UACtB3C,IACa,2BAAXA,EACFpxB,EAAKw0B,UAELx0B,EAAKg0B,SAAS5C,KAjElB,IAAMqD,EAAQjB,GAAYntB,OAAO,SAAAmD,GAAC,OAAKorB,oBAAS50B,EAAK7C,MAAMw1B,WAAYnpB,KAFtD,OAIjBxJ,EAAKM,MAAQ,CACXguB,MAAO,GACPyF,UAAWU,EAAM,GACjBA,SAPez0B,uEAmBXoxB,GACNl0B,KAAKC,MAAMg0B,sBAAsBC,mCAG3BA,GAENl0B,KAAKC,MAAMizB,cAAcgB,GACzB,IAAMqD,EAAQv3B,KAAKoD,MAAMm0B,MAAMpuB,OAAO,SAAAmD,GAAC,OAAIA,IAAM4nB,IACjDl0B,KAAK0D,SAAS,CAAC6zB,QAAOV,UAAWU,EAAM,4CA8CvC,OACE53B,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAKs3B,SACpBt3B,KAAKC,MAAMC,gDAKf,OACEP,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACAnC,EAAAC,EAAAC,cAAA,SAAOa,KAAK,OACV4jB,SAAUtkB,KAAK22B,YACfrmB,MAAOtQ,KAAKoD,MAAMguB,MAClBuG,YAAY,oBAGdh4B,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAKw3B,cACpB3B,MAAM,0BACN71B,KAAKC,MAAMC,kDAMf,OACEP,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACAnC,EAAAC,EAAAC,cAAA,UACEyQ,MAAOtQ,KAAKoD,MAAMyzB,UAClBvS,SAAUtkB,KAAK42B,iBAEd52B,KAAKoD,MAAMm0B,MAAMhuB,IAAI,SAAA+C,GAAC,OAAI3M,EAAAC,EAAAC,cAAA,UAAQ8J,IAAG,MAAA5H,OAAQuK,GAAKgE,MAAOhE,GAAIA,KAC9D3M,EAAAC,EAAAC,cAAA,UAAQyQ,MAAM,0BAAd,uBAEF3Q,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAKy3B,kBAAtB,0CAMF,MAAwB,WAApBz3B,KAAKC,MAAMS,KACNV,KAAK43B,eAEU,UAApB53B,KAAKC,MAAMS,KACNV,KAAK63B,cAEU,WAApB73B,KAAKC,MAAMS,KACNV,KAAK83B,oBADd,SA/HqB33B,IAAMC,WAAzBs2B,GAMG3O,aAAe,CACpBrnB,KAAM,UA8HV,IAQeuQ,eARS,SAAA7N,GAAK,MAAK,CAChCqyB,WAAYryB,EAAM4kB,OAAOyN,aAEA,SAAAlP,GAAQ,MAAK,CACtC2M,cAAe,SAAA5mB,GAAC,OAAIia,EAAS2M,GAAc5mB,KAC3C2nB,sBAAuB,SAAA3nB,GAAC,OAAIia,EAAS0N,GAAsB3nB,OAG9C2E,CAA6CylB,IC1LtDqB,8MAqBJC,aAAe,SAAAzT,GACbzhB,EAAKm1B,QAAQ1T,EAAIE,OAAOnU,MAAQ,SAGlC4nB,eAAiB,SAAA3T,GACXA,EAAIE,OAAOI,QACb/hB,EAAKq1B,UAAU,QAEfr1B,EAAKq1B,UAAU,aAInBC,eAAiB,SAAA7T,GACfzhB,EAAKu1B,UAAU9T,EAAIE,OAAOnU,+EAxBpB8L,GACNpc,KAAKC,MAAMq4B,gBAAgBlc,qCAGnBmc,GACRv4B,KAAKC,MAAMu4B,kBAAkBD,qCAErBrE,GACRl0B,KAAKC,MAAMw4B,kBAAkBvE,oCAoB7B,OACEv0B,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACEnC,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,UACEykB,SAAUtkB,KAAKo4B,eACf9nB,MAAOtQ,KAAKC,MAAMy4B,eAElB/4B,EAAAC,EAAAC,cAAA,UAAQyQ,MAAM,eAAd,mBACA3Q,EAAAC,EAAAC,cAAA,UAAQyQ,MAAM,aAAd,wBAEF3Q,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAAA,SACEa,KAAK,SACL4jB,SAAUtkB,KAAKg4B,aACf1nB,MAAOtQ,KAAKC,MAAM04B,YAAYhmB,MAAM,GAAG,GACvCwY,IAAI,MACJhnB,IAAI,MACJ4Q,KAAK,QACPpV,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAO+4B,QAAQ,kBAAf,SACAj5B,EAAAC,EAAAC,cAAA,SAAOgB,GAAG,iBACRwC,IAAKrD,KAAK64B,KACVvU,SAAUtkB,KAAKk4B,eACfx3B,KAAK,WACLmkB,QAAsC,SAA7B7kB,KAAKC,MAAM64B,wBA/DC34B,IAAMC,WAkFtB6Q,eAZS,SAAA7N,GAAK,MAAK,CAChCu1B,YAAav1B,EAAM0B,MAAMi0B,aACzBD,cAAe11B,EAAM0B,MAAMk0B,eAC3BN,cAAet1B,EAAM0B,MAAMm0B,iBAGF,SAAA1S,GAAQ,MAAK,CACtCkS,kBAAmB,SAACvE,GAAD,OAAY3N,EN7CA,SAAA2N,GAC/B,MAAQ,CACNxzB,KAnC+B,sBAoC/BC,QAASuzB,GM0C6BuE,CAAkBvE,KAC1DoE,gBAAiB,SAAClc,GAAD,OAAUmK,EN1DE,SAACnK,GAC9B,MAAQ,CACN1b,KAzB6B,oBA0B7BC,QAASyb,GMuDyBkc,CAAgBlc,KACpDoc,kBAAmB,SAACD,GAAD,OAAYhS,ENrDA,SAACgS,GAChC,MAAQ,CACN73B,KA9B+B,sBA+B/BC,QAAS43B,GMkD6BC,CAAkBD,OAG7CtnB,CAA6C8mB,IClFtDmB,GAAU,EAEhB,SAASC,GAAU5U,GACjB,GAAoB,IAAhBA,EAAI6U,QAAe,CACrB,IAAI3U,EAASF,EAAIE,OACXnT,EAAQmT,EAAO4U,eACf9nB,EAAMkT,EAAO6U,aACbhpB,EAAQmU,EAAOnU,MACrBmU,EAAOnU,MAAQA,EAAMipB,UAAU,EAAEjoB,GAAS1D,MAAMsrB,IAASnoB,KAAK,KAAKzQ,KAAK,IAAMgQ,EAAMipB,UAAUhoB,GAC9FkT,EAAO4U,eAAiB/nB,EAAQ4nB,GAChCzU,EAAO6U,aAAe/nB,EAAM2nB,GAC5B3U,EAAIiV,sBACC,GAAoB,IAAhBjV,EAAI6U,QAAe,CAC5B,IAAI3U,EAASF,EAAIE,OACXnT,EAAQmT,EAAO4U,eACrB,GAAI/nB,IAAUmT,EAAO6U,aAAc,CACjC,IAAMhpB,EAAQmU,EAAOnU,MACjBA,EAAMipB,UAAUjoB,EAAM4nB,GAAS5nB,KAAW1D,MAAMsrB,IAASnoB,KAAK,KAAKzQ,KAAK,MAC1EmkB,EAAOnU,MAAQA,EAAMipB,UAAU,EAAEjoB,EAAM4nB,IAAW5oB,EAAMipB,UAAUjoB,GAClEmT,EAAO4U,eAAiB/nB,EAAQ4nB,GAChCzU,EAAO6U,aAAehoB,EAAQ4nB,GAC9B3U,EAAIiV,wBAMNC,eAWJ,SAAAA,EAAYx5B,GAAO,IAAA6C,EAAAC,OAAAC,EAAA,EAAAD,CAAA/C,KAAAy5B,IACjB32B,EAAAC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAA02B,GAAAt2B,KAAAnD,KAAMC,KAQRy5B,cAAgB,SAACnV,GACfzhB,EAAKY,SAAS,CAAEoY,KAAMyI,EAAIE,OAAOnU,SARjC,IAAMxL,EAAQhC,EAAK7C,MAAM6E,OAAS,GAFjB,OAGjBhC,EAAKuhB,WAAavf,EAAMssB,OAAS,GACjCtuB,EAAK62B,YAAc70B,EAAM80B,QAAU,GACnC92B,EAAKsuB,MAAQjxB,IAAMmD,YACnBR,EAAKM,MAAQ,CAAE0Y,KAAM7b,EAAM45B,cAAgB,IAN1B/2B,+EAcjB,GAA8B,SAA1B9C,KAAKC,MAAM65B,WACb,OAAO95B,KAAKoD,MAAM0Y,KAAKzI,MAAM,QAAQ9J,IAAI,SAACY,EAAEV,GAAH,OACvC9J,EAAAC,EAAAC,cAAC6jB,GAAD,CAAY/Z,IAAKF,EAAGmZ,KAAM,CAAC,OAAQzY,OAEhC,GAA8B,SAA1BnK,KAAKC,MAAM65B,WACpB,IACE,IAAMlX,EAAON,KAAKyX,MAAM/5B,KAAKoD,MAAM0Y,MACnC,OAAOnc,EAAAC,EAAAC,cAAC6jB,GAAD,CAAYd,KAAMA,IACzB,MAAMvW,GACN,MAAO,qDAMX,OACE1M,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACAnC,EAAAC,EAAAC,cAAAG,KAAMC,MAAM+5B,eAAZ,CAA2Bl6B,UAAU,sBACnCH,EAAAC,EAAAC,cAAA,YACEiF,MAAO9E,KAAKqkB,WACZC,SAAUtkB,KAAK05B,cACfP,UAAWA,GACX7oB,MAAOtQ,KAAKoD,MAAM0Y,QAGtBnc,EAAAC,EAAAC,cAAAG,KAAMC,MAAM+5B,eAAZ,CAA2Bl6B,UAAU,uBACnCH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAAWgF,MAAO9E,KAAK25B,aACnC35B,KAAK+jB,0BApDU5jB,IAAMC,WAA1Bq5B,GAMG1R,aAAe,CACpB+R,WAAY,OACZE,eAAgB,OAoDLP,UC5EAQ,GCKM,WACnB,OACEt6B,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACEnC,EAAAC,EAAAC,cAAA,2BACAF,EAAAC,EAAAC,cAAA,qCACyBF,EAAAC,EAAAC,cAACq6B,GAAD,OAEzBv6B,EAAAC,EAAAC,cAAA,oBACQF,EAAAC,EAAAC,cAACs6B,GAAD,OAERx6B,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACu6B,GAAD,CAAY15B,KAAK,SAAjB,QACAf,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACu6B,GAAD,CAAY15B,KAAK,UAAjB,yBAEFf,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,OAAKiF,MAAO,CAAC6a,aAAc,UACzBhgB,EAAAC,EAAAC,cAACw6B,GAAD,OAEF16B,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,OAAKiF,MAAO,CAAC4D,QAAS,OAAQkX,cAAe,MAAO0a,kBAAmB,SACrE36B,EAAAC,EAAAC,cAAC06B,GAAD,CAAaP,eAAe,MAAMH,aAnCzB,iYAmCoD/0B,MAAO,CAACssB,MAAO,CAAC7uB,OAAQ,QAASq3B,OAAQ,CAACr3B,OAAQ,yrHCvCvH,IAAMi4B,GAAW,kBAAUC,OAAOC,IAAP3X,MAAA0X,OAAMnlB,WAAWzN,QAAQ,MAAO,MAErD8yB,GAAW,CACf,iDACA,4DACAH,GAHeI,MAIfJ,GAJeK,MAKfL,GALeM,MAMfN,GANeO,MAOfP,GAPeQ,MAQfR,GAReS,MASfT,GATeU,MAUfV,GAVeW,MAWfX,GAXeY,MAYfZ,GAZea,MAafb,GAbec,MAcfd,GAdee,MAeff,GAfegB,MAiBfhB,GAjBeiB,MAwBfjB,GAxBekB,MAgCflB,GAhCemB,OA0DXC,GAAgB,SAAAl6B,GAAA,IAAEoa,EAAFpa,EAAEoa,KAAF,OACpBnc,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAC06B,GAAD,CAAaP,eAAe,KAAKH,aAAc/d,MAyBpCrc,GArBO,SAACQ,GACrB,OACEN,EAAAC,EAAAC,cAAA,OAAKiF,MAAO,CAAC6D,QAAS,gBACtBhJ,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,yBACAF,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS3jB,EAAMqjB,gBAAvB,UAEF3jB,EAAAC,EAAAC,cAAA,SAAOC,UAAWC,KAAON,eACvBE,EAAAC,EAAAC,cAAA,aACC86B,GAASpxB,IAAI,SAACtF,EAAGwF,GAAJ,OACV9J,EAAAC,EAAAC,cAACg8B,GAAD,CAAelyB,IAAG,kBAAA5H,OAAoB0H,GAAKqS,KAAM7X,QAIvDtE,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS3jB,EAAMqjB,gBAAvB,gCC/EApb,GAAQ,SAASmC,EAAGyxB,GACxB,IAAMx6B,EAAI4C,KAAKiS,IAAI,GAAG2lB,GACtB,OAAO53B,KAAK63B,MAAMz6B,EAAE+I,GAAK/I,GAG3B,SAAS06B,GAAe35B,EAAGC,EAAG+S,EAAQN,GAKpC,IAJA,IAAMzI,EAAI,SAACnC,GAAD,MAAQ,CAAC9H,EAAG6F,GAAM7F,EAAE8H,GAAI,GAAI7H,EAAG4F,GAAM5F,EAAE6H,GAAI,KACjD0O,EAAQ,GACRtX,EAAS,GACT4I,EAAIkL,EAAO,GACRlL,EAAIkL,EAAO,IAAI,CACpB,IACE,IAAM+a,EAAK9jB,EAAEnC,GACT5I,EAAO2D,OAAS,GAAKhB,KAAKE,IAAIgsB,EAAG9tB,EAAIf,EAAOA,EAAO2D,OAAO,GAAG5C,GAAK,KACpEuW,EAAMzO,KAAK7I,GACXA,EAAS,CAAC6uB,IAEV7uB,EAAO6I,KAAKgmB,GAEd,MAAM/jB,GACF9K,EAAO2D,OAAS,IAClB2T,EAAMzO,KAAK7I,GACXA,EAAS,IAGb4I,GAAK4K,EAEP,IACExT,EAAO6I,KAAKkC,EAAE+I,EAAO,KACrB,MAAMhJ,IAER,OADI9K,EAAO2D,OAAS,GAAG2T,EAAMzO,KAAK7I,GAC3BsX,EAGT,SAASojB,GAAcxrB,GACrB,IACE,IACMyrB,EADQC,KAAKpC,MAAMtpB,GACN2rB,UACnB,OAAO,SAAAC,GAAK,OAAIH,EAAKI,KAAKD,IAC1B,MAAMhwB,GACNI,QAAQuJ,MAAM3J,QAgSHkwB,eAzRb,SAAAA,EAAYt8B,GAAO,IAAA6C,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAA/C,KAAAu8B,IACjBz5B,EAAAC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAAw5B,GAAAp5B,KAAAnD,KAAMC,KAoBRu8B,WAAa,SAAAjY,GAAG,OAAIzhB,EAAKY,SAAS,CAAC+4B,KAAMlY,EAAIE,OAAOnU,SArBjCxN,EAsBnB45B,eAAiB,SAAAnY,GAAG,OAAIzhB,EAAKY,SAAS,CAACi5B,SAAUpY,EAAIE,OAAOnU,SAtBzCxN,EAuBnB85B,cAAgB,SAAArY,GAAG,OAAIzhB,EAAKY,SAAS,CAACuI,QAASsY,EAAIE,OAAOnU,SAvBvCxN,EAwBnB+5B,kBAAoB,SAAAtY,GAAG,OAAIzhB,EAAKY,SAAS,CAACo5B,YAAavY,EAAIE,OAAOnU,SAxB/CxN,EAyBnBi6B,kBAAoB,SAAAxY,GAAG,OAAIzhB,EAAKY,SAAS,CAACs5B,YAAazY,EAAIE,OAAOnU,SAzB/CxN,EA0BnBm6B,SAAW,SAAA1Y,GAAG,OAAIzhB,EAAKY,SAAS,CAACw5B,GAAI3Y,EAAIE,OAAOnU,SA1B7BxN,EA2BnBq6B,SAAW,SAAA5Y,GAAG,OAAIzhB,EAAKY,SAAS,CAACiC,GAAI4e,EAAIE,OAAOnU,SA3B7BxN,EA4BnBs6B,SAAW,SAAA7Y,GAAG,OAAIzhB,EAAKY,SAAS,CAAC25B,GAAI9Y,EAAIE,OAAOnU,SA5B7BxN,EA6BnBw6B,SAAW,SAAA/Y,GAAG,OAAIzhB,EAAKY,SAAS,CAACkC,GAAI2e,EAAIE,OAAOnU,SA7B7BxN,EA8BnBy6B,SAAW,SAAAhZ,GAAG,OAAIzhB,EAAKY,SAAS,CAAC85B,GAAIjZ,EAAIE,OAAOnU,SA9B7BxN,EA+BnB26B,SAAW,SAAAlZ,GAAG,OAAIzhB,EAAKY,SAAS,CAACg6B,GAAInZ,EAAIE,OAAOnU,SA/B7BxN,EAgCnB66B,WAAa,SAAApZ,GAAG,OAAIzhB,EAAKY,SAAS,CAACqR,KAAMwP,EAAIE,OAAOnU,SAhCjCxN,EAiCnB86B,aAAe,SAAArZ,GAAG,OAAIzhB,EAAKY,SAAS,CAACnB,OAAQgiB,EAAIE,OAAOnU,SAjCrCxN,EAkCnB+6B,iBAAmB,SAAAtZ,GAAG,OAAIzhB,EAAKY,SAAS,CAACo6B,WAAYvZ,EAAIE,OAAOnU,SAlC7CxN,EAmCnBi7B,eAAiB,SAAAxZ,GAAG,OAAIzhB,EAAKY,SAAS,CAACs6B,SAAUzZ,EAAIE,OAAOnU,SAnCzCxN,EAiPnBm7B,SAAW,WACTn7B,EAAK7C,MAAMg+B,SAASn7B,EAAKo7B,WACzBp7B,EAAK7C,MAAMqjB,kBAjPXxgB,EAAKM,MAAQ,CACXq5B,KAAM,WACNE,SAAU,IACV1wB,QAAS,IACT6wB,YAAa,IACbE,YAAa,IACbE,IAAK,GACLv3B,GAAI,GACJ03B,IAAK,GACLz3B,GAAI,GACJ43B,IAAK,GACLE,GAAI,GACJ3oB,KAAM,GACNxS,OAAQ,IACRu7B,WAAY,OACZE,SAAU,QAjBKl7B,4EAsCjB,OACEnD,EAAAC,EAAAC,cAAA,UAAQyQ,MAAOtQ,KAAKoD,MAAMq5B,KACxBnY,SAAUtkB,KAAKw8B,YAEf78B,EAAAC,EAAAC,cAAA,UAAQyQ,MAAM,WAAWulB,MAAM,wBAA/B,YACAl2B,EAAAC,EAAAC,cAAA,UAAQyQ,MAAM,UAAUulB,MAAM,wBAA9B,WACAl2B,EAAAC,EAAAC,cAAA,UAAQyQ,MAAM,aAAaulB,MAAM,8BAAjC,0DAMJ,OACEl2B,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACAnC,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,WAAMF,EAAAC,EAAAC,cAAA,iBAAYF,EAAAC,EAAAC,cAAA,kBAEpBF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,eACAF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,SAAOa,KAAK,SAAS4P,MAAOtQ,KAAKoD,MAAM85B,GAAI5Y,SAAUtkB,KAAKi9B,YAC9Dt9B,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,SAAOa,KAAK,SAAS4P,MAAOtQ,KAAKoD,MAAMuC,GAAI2e,SAAUtkB,KAAKm9B,aAEhEx9B,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,eACAF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,SAAOa,KAAK,SAAS4P,MAAOtQ,KAAKoD,MAAMi6B,GAAI/Y,SAAUtkB,KAAKo9B,YAC9Dz9B,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,SAAOa,KAAK,SAAS4P,MAAOtQ,KAAKoD,MAAMwC,GAAI0e,SAAUtkB,KAAKs9B,uDAStE,MAAwB,aAApBt9B,KAAKoD,MAAMq5B,KAEX98B,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,gBACAF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,YAAUyQ,MAAOtQ,KAAKoD,MAAMu5B,SAAUrY,SAAUtkB,KAAK08B,qBAM3C,YAApB18B,KAAKoD,MAAMq5B,KAEX98B,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,gBACAF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,YAAUyQ,MAAOtQ,KAAKoD,MAAM6I,QAASqY,SAAUtkB,KAAK48B,oBAM1C,eAApB58B,KAAKoD,MAAMq5B,KAEX98B,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,gBACAF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,YAAUyQ,MAAOtQ,KAAKoD,MAAM05B,YAAaxY,SAAUtkB,KAAK68B,sBAE9Dl9B,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,gBACAF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,YAAUyQ,MAAOtQ,KAAKoD,MAAM45B,YAAa1Y,SAAUtkB,KAAK+8B,6BAVtE,8CAoBA,OACEp9B,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,aAEAnC,EAAAC,EAAAC,cAAA,SAAOa,KAAK,SACVqU,KAAM,IACNzE,MAAOtQ,KAAKoD,MAAM2R,KAClBuP,SAAUtkB,KAAK29B,WACfxS,IAAK,IACLxrB,EAAAC,EAAAC,cAAA,WAPF,UASuB,eAApBG,KAAKoD,MAAMq5B,KACV98B,EAAAC,EAAAC,cAAA,UAAQyQ,MAAOtQ,KAAKoD,MAAM06B,WAAYxZ,SAAUtkB,KAAK69B,kBACnDl+B,EAAAC,EAAAC,cAAA,UAAQyQ,MAAM,QAAd,QACA3Q,EAAAC,EAAAC,cAAA,UAAQyQ,MAAM,UAAd,WAEA3Q,EAAAC,EAAAC,cAAA,WACwB,WAA1BG,KAAKoD,MAAM06B,YAA+C,eAApB99B,KAAKoD,MAAMq5B,KACjD98B,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAOa,KAAK,SAAS4P,MAAOtQ,KAAKoD,MAAMo6B,GAAIlZ,SAAUtkB,KAAKu9B,WAD1D,KAGA59B,EAAAC,EAAAC,cAAA,SAAOa,KAAK,SAAS4P,MAAOtQ,KAAKoD,MAAMs6B,GAAIpZ,SAAUtkB,KAAKy9B,YAExD,kDAMR,OACE99B,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,eAEAnC,EAAAC,EAAAC,cAAA,UAAQyQ,MAAOtQ,KAAKoD,MAAM46B,SAAU1Z,SAAUtkB,KAAK+9B,gBACjDp+B,EAAAC,EAAAC,cAAA,UAAQyQ,MAAM,QAAd,WACA3Q,EAAAC,EAAAC,cAAA,UAAQyQ,MAAM,UAAd,WAEuB,WAAxBtQ,KAAKoD,MAAM46B,SACVr+B,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACEnC,EAAAC,EAAAC,cAAA,WADF,UAGEF,EAAAC,EAAAC,cAAA,SAAOa,KAAK,SACVqU,KAAM,GACNzE,MAAOtQ,KAAKoD,MAAMb,OAClB+hB,SAAUtkB,KAAK49B,aACfzS,IAAK,KAGP,0CAMN,MAAO,CACLjY,KAAM,EACHlT,KAAKoD,MAAM85B,IACXl9B,KAAKoD,MAAMi6B,IACXr9B,KAAKoD,MAAMuC,IACX3F,KAAKoD,MAAMwC,yCAMhB,MAAwB,eAApB5F,KAAKoD,MAAMq5B,MAAmD,WAA1Bz8B,KAAKoD,MAAM06B,WAC1C,EAAE99B,KAAKoD,MAAMo6B,IAAKx9B,KAAKoD,MAAMs6B,IAEd,aAApB19B,KAAKoD,MAAMq5B,KACN,EAAEz8B,KAAKoD,MAAM85B,IAAKl9B,KAAKoD,MAAMuC,IAEd,YAApB3F,KAAKoD,MAAMq5B,KACN,EAAEz8B,KAAKoD,MAAMi6B,IAAKr9B,KAAKoD,MAAMwC,SADtC,wCAMA,IAAMmP,EAAO/U,KAAKoD,MAAM2R,KAAO,GAAK/U,KAAKoD,MAAM2R,KAAO,KAChDM,EAASrV,KAAKm+B,YACpB,OAAOn+B,KAAKoD,MAAMq5B,MAChB,IAAK,WACH,IAAM2B,EAAOnC,GAAcj8B,KAAKoD,MAAMu5B,UACtC,OAAIyB,EACYpC,GAAe,SAAA7xB,GAAC,OAAEA,GAAG,SAAA9H,GAAC,OAAE+7B,EAAK,CAAC/7B,OAAKgT,EAAQN,GAC5CxL,IAAI,SAAAsH,GAAC,MAAI,CAAC,OAAQ,CAACtP,OAAQsP,MAEnC,KAET,IAAK,UACH,IAAMwtB,EAAOpC,GAAcj8B,KAAKoD,MAAM6I,SACtC,OAAIoyB,EACYrC,GAAe,SAAA15B,GAAC,OAAE+7B,EAAK,CAAC/7B,OAAK,SAAA6H,GAAC,OAAEA,GAAGkL,EAAQN,GAC5CxL,IAAI,SAAAsH,GAAC,MAAI,CAAC,OAAQ,CAACtP,OAAQsP,MAEnC,KACT,IAAK,aACH,IAAMytB,EAAQrC,GAAcj8B,KAAKoD,MAAM05B,aACjCyB,EAAQtC,GAAcj8B,KAAKoD,MAAM45B,aACvC,OAAIsB,GAASC,EACGvC,GAAe,SAAA7xB,GAAC,OAAEm0B,EAAM,CAACn0B,OAAK,SAAAA,GAAC,OAAEo0B,EAAM,CAACp0B,OAAKkL,EAAQN,GACtDxL,IAAI,SAAAsH,GAAC,MAAI,CAAC,OAAQ,CAACtP,OAAQsP,MAEnC,KACT,QACE,OAAO,wCAKX,IAAI5Q,EAAK8C,OAAAgC,EAAA,EAAAhC,CAAA,GACJ/C,KAAKw+B,YADD,CAEPC,UAAU,IAEgB,WAAxBz+B,KAAKoD,MAAM46B,SACb/9B,EAAMsC,OAASvC,KAAKoD,MAAMb,OAAS,KAEnCtC,EAAMsC,OAAS,MAEjB,IAAMsW,EAAQ7Y,KAAK0+B,cACnB,OAAI7lB,EACF,CAAQ,kBAAmB5Y,GAA3B8B,OAAAgB,OAAAgW,EAAA,EAAAhW,CAAqC8V,IAEhC,CAAC,kBAAmB5Y,oCAS3B,OACEN,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOw8B,YACrB58B,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO4+B,mBACrBh/B,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAKi+B,UAAtB,SACAt+B,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAKC,MAAMqjB,gBAA5B,WAEF3jB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOT,gBACrBK,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOR,iBACrBI,EAAAC,EAAAC,cAAA,OAAKiF,MAAO,CAACgE,OAAQ,QAArB,iBACiB9I,KAAK4+B,aACnB5+B,KAAK6+B,gBAERl/B,EAAAC,EAAAC,cAAA,OAAKiF,MAAO,CAACgE,OAAQ,QACpB9I,KAAK8+B,qBAENn/B,EAAAC,EAAAC,cAAA,OAAKiF,MAAO,CAACgE,OAAQ,QAClB9I,KAAK++B,oBAERp/B,EAAAC,EAAAC,cAAA,WACGG,KAAKg/B,sBAGVr/B,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOP,mBACrBG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBACbH,EAAAC,EAAAC,cAAC6jB,GAAD,CAAYd,KAAM5iB,KAAKk+B,uBAhRZ/9B,IAAMC,WC5CzB84B,GAAU,EAEhB,SAASC,GAAU5U,GACjB,GAAoB,IAAhBA,EAAI6U,QAAe,CACrB,IAAI3U,EAASF,EAAIE,OACXnT,EAAQmT,EAAO4U,eACf9nB,EAAMkT,EAAO6U,aACbhpB,EAAQmU,EAAOnU,MACrBmU,EAAOnU,MAAQA,EAAMipB,UAAU,EAAEjoB,GAAS1D,MAAMsrB,IAASnoB,KAAK,KAAKzQ,KAAK,IAAMgQ,EAAMipB,UAAUhoB,GAC9FkT,EAAO4U,eAAiB/nB,EAAQ4nB,GAChCzU,EAAO6U,aAAe/nB,EAAM2nB,GAC5B3U,EAAIiV,sBACC,GAAoB,IAAhBjV,EAAI6U,QAAe,CAC5B,IAAI3U,EAASF,EAAIE,OACXnT,EAAQmT,EAAO4U,eACrB,GAAI/nB,IAAUmT,EAAO6U,aAAc,CACjC,IAAMhpB,EAAQmU,EAAOnU,MACjBA,EAAMipB,UAAUjoB,EAAM4nB,GAAS5nB,KAAW1D,MAAMsrB,IAASnoB,KAAK,KAAKzQ,KAAK,MAC1EmkB,EAAOnU,MAAQA,EAAMipB,UAAU,EAAEjoB,EAAM4nB,IAAW5oB,EAAMipB,UAAUjoB,GAClEmT,EAAO4U,eAAiB/nB,EAAQ4nB,GAChCzU,EAAO6U,aAAehoB,EAAQ4nB,GAC9B3U,EAAIiV,oBAMZ,IAAMyF,GAAW,iwBA+CXC,eACJ,SAAAA,EAAYj/B,GAAO,IAAA6C,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAA/C,KAAAk/B,IACjBp8B,EAAAC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAAm8B,GAAA/7B,KAAAnD,KAAMC,KAiBRk/B,aAAe,kBAAMr8B,EAAKY,SAAS,CAAE0jB,MAAO,cAlBzBtkB,EAmBnBs8B,eAAiB,kBAAMt8B,EAAKY,SAAS,CAAC0jB,MAAO,WAnB1BtkB,EAoBnBukB,WAAa,kBAAMvkB,EAAKY,SAAS,CAAE0jB,MAAO,UApBvBtkB,EAsBnBgiB,mBAAqB,SAACP,GACpBzhB,EAAKY,SAAS,CAAE+Z,aAAc8G,EAAIE,OAAOnU,SAvBxBxN,EAyBnBsiB,eAAiB,SAACb,GAChBzhB,EAAKY,SAAS,CAAEga,SAAU6G,EAAIE,OAAOnU,SA1BpBxN,EA4BnBu8B,cAAgB,SAAC1hB,GACf7a,EAAKY,SAAS,CAACia,aA7BE7a,EA+BnBw8B,aAAe,SAAC/a,GACdzhB,EAAKY,SAAS,CAAEuZ,OAAOla,OAAAgC,EAAA,EAAAhC,CAAA,GAAKD,EAAKM,MAAM6Z,OAAjB,CAAyB2E,QAAS2C,EAAIE,OAAOnU,WAhClDxN,EAkCnBy8B,WAAa,SAAChb,GACZzhB,EAAKY,SAAS,CAAEkf,KAAM2B,EAAIE,OAAOnU,SAnChBxN,EAsCnB08B,gBAAkB,SAACjb,GACjBzhB,EAAKY,SAAS,CAAC+7B,UAAWlb,EAAIE,OAAOnU,SAvCpBxN,EA+DnB48B,YAAc,WACZ,IAAMz/B,EAAQ,CAACwc,QAAS3Z,EAAK68B,oBAC7B78B,EAAK7C,MAAMO,cAAc,CAAC,mBAAoBP,IAC9C6C,EAAK7C,MAAMqjB,kBAlEMxgB,EAyHnB88B,eAAiB,WACf,IAAMhd,EAAOqc,GACbn8B,EAAKY,SAAS,CAAEkf,UAzHhB9f,EAAKM,MAAQ,CACXq8B,UAAW,SACXhiB,aAAc,GACdC,SAAU,GACVT,OAAQ,GACRU,QAAS,GACTiF,KAAM,GACNwE,MAAO,QATQtkB,kFA2CjB,GAA6B,WAAzB9C,KAAKoD,MAAMq8B,UAAwB,CAErC,IADA,IAAMhjB,EAAU,GADqBzX,EAErB,CAAC,eAAgB,WAAY,UAA7CC,EAAA,EAAAA,EAAAD,EAAAE,OAAAD,IAAwD,CAAnD,IAAM+b,EAAChc,EAAAC,GACNjF,KAAKoD,MAAM4d,KACbvE,EAAQuE,GAAKhhB,KAAKoD,MAAM4d,IAM5B,OAHIhhB,KAAKoD,MAAMua,UACblB,EAAQkB,QAAU3d,KAAKoD,MAAMua,SAExBlB,EACF,GAA6B,SAAzBzc,KAAKoD,MAAMq8B,UACpB,IAEE,OADgBnd,KAAKyX,MAAM/5B,KAAKoD,MAAMwf,MAEtC,MAAMvW,4CAYV,GAA6B,WAAzBrM,KAAKoD,MAAMq8B,UAAwB,CACrC,IAAMpb,EAAa,CAAC7hB,MAAM,SAC1B,OACE7C,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,mFAGAF,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAKm/B,cAAtB,gBACAx/B,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,YACEyQ,MAAOtQ,KAAKoD,MAAMqa,aAClB6G,SAAUtkB,KAAK8kB,mBACfhgB,MAAOuf,IAGT1kB,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,YACEyQ,MAAOtQ,KAAKoD,MAAMsa,SAClB4G,SAAUtkB,KAAKolB,eACftgB,MAAOuf,IAGT1kB,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAKo/B,gBAAtB,aAEAz/B,EAAAC,EAAAC,cAAA,oBACAF,EAAAC,EAAAC,cAAA,YACEyQ,MAAOtQ,KAAKoD,MAAM6Z,OAAO2E,QACzB0C,SAAUtkB,KAAKs/B,aACfx6B,MAAOuf,KAKb,OACE1kB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACEnC,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAK4/B,gBAAtB,eACAjgC,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,YACEyQ,MAAOtQ,KAAKoD,MAAMwf,KAClB0B,SAAUtkB,KAAKu/B,WACfpG,UAAWA,GACXxF,YAAY,EACZ7uB,MAAO,CAACtC,MAAM,QAASD,OAAQ,QAASwc,SAAU,WAEpDpf,EAAAC,EAAAC,cAAA,oDAYN,IAAM4c,EAAUzc,KAAK2/B,mBACfE,EAAe,CACnB/2B,OAAQ,MACRtG,MAAO,cACPuc,SAAU,QACVG,SAAU,OAENjf,EAAQ,CAAEwc,WAChB,OACE9c,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACAnC,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBAAwBgF,MAAO+6B,GAC3CpjB,EAAU9c,EAAAC,EAAAC,cAAC6jB,GAAD,CAAYd,KAAM,CAAC,WAAY3iB,KAAa,MAEzDN,EAAAC,EAAAC,cAAA,mBACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBAAwBgF,MAAO+6B,GAC3CpjB,EAAU9c,EAAAC,EAAAC,cAAC6jB,GAAD,CAAYd,KAAM,CAAC,YAAa3iB,KAAa,wCAe5D,OACEN,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KAEAnC,EAAAC,EAAAC,cAAA,OAAKiF,MAXU,CACftC,MAAO,OACPmG,QAAS,IACTG,OAAQ,IACRJ,QAAS,OACTo3B,kBAAmB,mBACnBnc,oBAAqB,cAMnBhkB,EAAAC,EAAAC,cAAA,OAAKiF,MAAO,CAACi7B,SAAU,WACrBpgC,EAAAC,EAAAC,cAAA,MAAIiF,MAAO,CAACi7B,SAAU,UAAtB,mBACApgC,EAAAC,EAAAC,cAAA,UAAQwD,IAAKrD,KAAKy/B,UAAWnb,SAAUtkB,KAAKw/B,iBAC1C7/B,EAAAC,EAAAC,cAAA,UAAQyQ,MAAM,UAAd,UACA3Q,EAAAC,EAAAC,cAAA,UAAQyQ,MAAM,QAAd,SAEDtQ,KAAK6+B,eACNl/B,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAK0/B,aAAtB,sBAEF//B,EAAAC,EAAAC,cAAA,OAAKiF,MAAO,CAACi7B,SAAU,YACrBpgC,EAAAC,EAAAC,cAAA,qBACCG,KAAK+jB,kBAMVpkB,EAAAC,EAAAC,cAAC+nB,EAAAhoB,EAAD,CAAYioB,OAA6B,aAArB7nB,KAAKoD,MAAMgkB,MAC7B9D,eAAgBtjB,KAAKqnB,WACrBviB,MAAO,CACL2X,QAAS,CACPujB,gBAAiB,wBACjBt7B,MAAO,WAIX/E,EAAAC,EAAAC,cAACogC,GAAD,CAAe3c,eAAgBtjB,KAAKqnB,cAGtC1nB,EAAAC,EAAAC,cAAC+nB,EAAAhoB,EAAD,CAAYioB,OAA6B,UAArB7nB,KAAKoD,MAAMgkB,MAC7B9D,eAAgBtjB,KAAKqnB,YAErB1nB,EAAAC,EAAAC,cAACqgC,GAAD,CAAY5c,eAAgBtjB,KAAKqnB,WAAY4W,SAAUj+B,KAAKq/B,yBAnMvCl/B,IAAMC,WA8MpB6Q,eAAQ,KAJI,SAAAsV,GAAQ,MAAK,CACtC/lB,cAAe,SAAC2sB,GAAD,OAAO5G,EAAS/lB,EAAc2sB,OAGhClc,CAAkCiuB,ICtRlCjuB,eAAQ,KAJI,SAAAsV,GAAQ,MAAK,CACtC/lB,cAAe,SAAC2/B,GAAD,OAAW5Z,EAAS/lB,EAAc2/B,OAGpClvB,CAAkCiuB,ICoBlCkB,GA3BD,SAACngC,GAEb,OACEN,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACAnC,EAAAC,EAAAC,cAAA,QAAMiF,MAAO,CAACu7B,WAAY,OAAQthB,SAAU,QAC1Cpf,EAAAC,EAAAC,cAAA,QAAMiF,MAAO,CAAC4G,YAAa,QAA3B,SACA/L,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS3jB,EAAMqjB,gBAAvB,UAEF3jB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,6DACAF,EAAAC,EAAAC,cAAA,mEACAF,EAAAC,EAAAC,cAAA,8DACAF,EAAAC,EAAAC,cAAA,mOAMAF,EAAAC,EAAAC,cAAA,wDACAF,EAAAC,EAAAC,cAAA,yDACAF,EAAAC,EAAAC,cAAA,wFCpBAygC,8MAEJC,SAAW,WAAO9zB,QAAQC,IAAI5J,EAAK7C,MAAMmD,gFAGvC,OAAOzD,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAKugC,UAAWvgC,KAAKC,MAAMC,iBALxBC,IAAMC,WAatB6Q,eAJS,SAAA7N,GAAK,MAAK,CAChCA,MAAOA,IAGM6N,CAAyBqvB,ICVlCE,8MAWJlc,SAAW,SAACC,GACVzhB,EAAK29B,SAASlc,EAAIE,OAAOnU,gFALlBA,GACPtQ,KAAKC,MAAMo0B,iBAAXtxB,OAAAoI,EAAA,EAAApI,CAAA,GAA8B/C,KAAKC,MAAMygC,aAAepwB,WARnCnQ,IAAMC,WAiBzBugC,oLAEF,OACEhhC,EAAAC,EAAAC,cAAA,SAAOa,KAAK,QACV4P,MAAOtQ,KAAKC,MAAMuD,QAClB8gB,SAAUtkB,KAAKskB,kBALHkc,IAWdI,8MACJtc,SAAW,SAACC,GACVH,EAAKqc,SAASlc,EAAIE,OAAOnU,MAAQ,+EAGjC,OACE3Q,EAAAC,EAAAC,cAAA,SAAOa,KAAK,QACV4P,MAAOtQ,KAAKC,MAAMuD,QAAQmP,MAAM,GAAG,GACnC2R,SAAUtkB,KAAKskB,SACf6G,IAAI,IACJhnB,IAAI,IACJ4Q,KAAK,gBAXOyrB,IAiBdK,oLAEF,OACElhC,EAAAC,EAAAC,cAAA,SAAOa,KAAK,QACV4P,MAAOtQ,KAAKC,MAAMuD,QAClB8gB,SAAUtkB,KAAKskB,SACf6G,IAAI,IACJhnB,IAAI,IACJ4Q,KAAK,gBARSyrB,IAehBM,GAAqB,SAAAva,GAAQ,MAAK,CACtC8N,iBAAkB,SAACp0B,GAAD,OAAWsmB,EAAS8N,GAAiBp0B,OAGzD,SAAS8gC,GAAgBC,EAAMN,GAAc,IACrCO,EADqC,SAAAC,GAAA,SAAAD,IAAA,OAAAl+B,OAAAC,EAAA,EAAAD,CAAA/C,KAAAihC,GAAAl+B,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAAk+B,GAAAle,MAAA/iB,KAAAsV,YAAA,OAAAvS,OAAAwqB,EAAA,EAAAxqB,CAAAk+B,EAAAC,GAAAD,EAAA,CACPD,GAIpC,OAJMC,EACGlZ,aAAgB,CAAC2Y,aAAcA,GAGjCzvB,YACL,SAAA7N,GAAK,MAAK,CAACI,QAASJ,EAAM0B,MAAMipB,MAAM2S,KACtCI,GAFK7vB,CAGLgwB,GAIG,IAAME,GAAiBJ,GAAgBJ,GAAO,kBACxCS,GAAiBL,GAAgBJ,GAAO,kBACxCU,GAAgBN,GAAgBH,GAAO,iBACvCU,GAAYP,GAAgBJ,GAAO,aACnCY,GAAYR,GAAgBH,GAAO,aACnCY,GAAiBT,GAAgBJ,GAAO,kBACxCc,GAAiBV,GAAgBH,GAAO,kBACxCc,GAAYX,GAAgBJ,GAAO,aACnCgB,GAAYZ,GAAgBH,GAAO,aACnCgB,GAAYb,GAAgBJ,GAAO,aACnCkB,GAAYd,GAAgBH,GAAO,aACnCkB,GAAcf,GAAgBF,GAAS,eAK9CkB,8MASJC,OAAS,WAAM,IAAAC,EACbC,EAAKjiC,MAAMo0B,kBAAX4N,EAAA,GAAAl/B,OAAAoI,EAAA,EAAApI,CAAAk/B,EACGC,EAAKjiC,MAAMkiC,cAAgBD,EAAKjiC,MAAMmiC,UADzCr/B,OAAAoI,EAAA,EAAApI,CAAAk/B,EAEGC,EAAKjiC,MAAMoiC,cAAgBH,EAAKjiC,MAAMqiC,UAFzCL,6EAOA,OACEtiC,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAKgiC,QAAShiC,KAAKC,MAAMC,iBAlBvBC,IAAMC,WAuBlBmiC,GAAoBtxB,YAC/B,SAAA7N,GAAK,MAAK,CACRk/B,SAAUl/B,EAAM0B,MAAMipB,MAAMyU,eAC5BJ,SAAUh/B,EAAM0B,MAAMipB,MAAM0U,eAC5BN,cAAe,iBACfE,cAAe,mBAEjB,SAAA9b,GAAQ,MAAK,CACX8N,iBAAkB,SAAAqO,GAAO,OAAInc,EAAS8N,GAAiBqO,OAR1BzxB,CAU/B8wB,IAGIY,8MACJre,SAAW,SAACC,GACVqe,EAAKnC,SAASlc,EAAIE,OAAOnU,MAAQ,+EAGjC,OACE3Q,EAAAC,EAAAC,cAAA,SAAOa,KAAK,QACV4P,MAAOtQ,KAAKC,MAAMuD,QAAQmP,MAAM,GAAG,GACnC2R,SAAUtkB,KAAKskB,SACf6G,IAAI,MACJhnB,IAAI,IACJ4Q,KAAK,gBAXkByrB,IAiBlBqC,GAAgB5xB,YAC3B,SAAA7N,GAAK,MAAK,CAACI,QAASJ,EAAM0B,MAAMipB,MAAM+U,cAAepC,aAAc,kBACnE,SAAAna,GAAQ,MAAK,CAAC8N,iBAAkB,SAAAqO,GAAO,OAAInc,EAAS8N,GAAiBqO,OAF1CzxB,CAG3B0xB,ICtJWI,GAAgB,WAqB3B,IAlBA,IAAMC,EAAc,EAAE,GAOhB12B,EAAI,SAAAjK,GAAC,OAAKA,EAAE,IAAIA,EAAE,GAAK,EAAKA,EAAE,GAC9BquB,EAAI,SAAAruB,GAAC,QAAMA,EAAE,IAAIA,EAAE,GAAK,EAAKA,EAAE,GAK/B4gC,EAAU,GACVC,EAAU,GAGZ7gC,GAAK,EACFA,GAAK,GAAG,CACb,IAAM8gC,EAAO,CAAC9gC,IAAGC,EAAGgK,EAAEjK,IAChB+gC,EAAO,CAAC/gC,IAAGC,EAAGouB,EAAEruB,IACtB4gC,EAAQ74B,KAAK+4B,GACbD,EAAQ94B,KAAKg5B,GACb/gC,GARW,GAWb,KAAOA,GAAK,GAAG,CACb,IAAM8gC,EAAO,CAAC9gC,IAAGC,EAAGgK,EAAEjK,IAChB+gC,EAAO,CAAC/gC,IAAGC,EAAGouB,EAAEruB,IACtB4gC,EAAQ74B,KAAK+4B,GACbD,EAAQ94B,KAAKg5B,GACb/gC,GAAK,IAGP,KAAOA,GAAK,IAAI,CACd,IAAM8gC,EAAO,CAAC9gC,IAAGC,EAAGgK,EAAEjK,IAChB+gC,EAAO,CAAC/gC,IAAGC,EAAGouB,EAAEruB,IACtB4gC,EAAQ74B,KAAK+4B,GACbD,EAAQ94B,KAAKg5B,GACb/gC,GAxBW,GA2Bb,IAAMugB,EAAO,CACX,kBAAmB,CAAC1P,KAAM,EAAE,IAAI,GAAG,GAAG,IAAK3Q,OAAQ,OADxC,CAGT,QAAS,CAACkC,KAAM,cAHP1C,OAAAgB,OAAAgW,EAAA,EAAAhW,CAINigC,EAAYz5B,IAAI,SAAAc,GAAC,MAAI,CAAC,OAAQ,CAAC9I,OAAQ,CAAC,CAAC8I,GAAI,IAAK,CAACA,EAAG,UAJhDtH,OAAAgW,EAAA,EAAAhW,CAxCO,CAAC,GA6CFwG,IAAI,SAAAc,GAAC,MAAI,CAAC,OAAQ,CAAC9I,OAAQ,CAAC,EAAE,GAAI8I,GAAI,CAAC,GAAIA,UAE5D,CACE,QAAS,CAAC5F,KAAM,WAChB,CAAC,OAAQ,CAAClD,OAAQ0hC,EAASlyB,KAAM,UACjC,CACE,YAAa,CAACrQ,KAAM,YAAa4B,EAAG,GACpC,CACE,mBAAoB,CAClBuU,QAAS,EACTF,WAAYqsB,EACZvsB,MAzDI,EAAE,GA0DNpB,OAAQ,EAAE,IAAI,GACd+B,kBAAkB,KAIxB,CAAC,QAAS,CAAC/U,GAAI,EAAGC,EAAG,KAEvB,CAAC,UAAW,CAACD,GAAI,EAAGC,EAAG,EAAG0D,OAAQ,KAAM,+BACxC,CACE,QAAS,CAACvB,KAAM,aAChB,CAAC,OAAQ,CAAClD,OAAQ2hC,EAASnyB,KAAM,UAEjC,CAAC,QAAS,CAAC1O,EAAG,EAAGC,EAAGgK,EAAE,KACtB,CAAC,QAAS,CAACjK,EAAG,EAAGC,EAAGgK,EAAE,OAI1B,OAAO3M,EAAAC,EAAAC,cAAC6jB,GAAD,CAAYd,KAAMA,KAmCdygB,GAAc,WAEzB,IAQMzgB,EAAO,CACX,kBAAmB,CAAC1P,KAAM,CAAC,EAAE,EAAE,GAAG,IAAK3Q,OAAQ,MAAOuC,MAAO,YAC7D,CAAC,UAAW,CAACvD,OAVH,CACV,CAAC,GAAG,IAAK,CAAC,GAAG,IAAK,CAAC,GAAG,IAAK,CAAC,GAAG,IAAK,CAAC,GAAG,KASbuL,QAAS,QACpC,CAAC,OAAQ,CAACvL,OARA,CAAC,CAAC,EAAE,IAAK,CAAC,EAAE,KAQCuL,QAAS,QAChC,CAAC,OAAQ,CAACvL,OARC,CAAC,CAAC,EAAE,IAAK,CAAC,EAAE,KAQCuL,QAAS,QACjC,CAAC,OAAQ,CAACvL,OARA,CAAC,CAAC,EAAE,IAAK,CAAC,EAAE,KAQCuL,QAAS,SAGlC,OAAOnN,EAAAC,EAAAC,cAAC6jB,GAAD,CAAYd,KAAMA,0BCvHrB0gB,eAEJ,SAAAA,EAAYrjC,GAAO,IAAA6C,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAA/C,KAAAsjC,IACjBxgC,EAAAC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAAugC,GAAAngC,KAAAnD,KAAMC,KAIRsjC,YAAc,SAAAhf,GACZzhB,EAAKY,SAAS,CAACoB,MAAOyf,EAAIE,OAAOnU,SANhBxN,EASnB0gC,gBAAkB,WACjB1gC,EAAK7C,MAAMwjC,mBARV3gC,EAAKM,MAAQ,CAAC0B,MAAO,WAFJhC,+EAcjB,MAAyB,SAArB9C,KAAKoD,MAAM0B,MACNnF,EAAAC,EAAAC,cAAC6jC,GAAD,MAEF/jC,EAAAC,EAAAC,cAAC8jC,GAAD,oDAIP,MAAyB,YAArB3jC,KAAKoD,MAAM0B,MAEXnF,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACEnC,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAACshC,GAAD,OACJxhC,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAACwhC,GAAD,QAEN1hC,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAACuhC,GAAD,OACJzhC,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAC0iC,GAAD,eAEN5iC,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAC2hC,GAAD,OACJ7hC,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAC4hC,GAAD,QAEN9hC,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,MAAI+jC,QAAQ,KAAZ,QACAjkC,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAACiiC,GAAD,SAKa,SAArB9hC,KAAKoD,MAAM0B,MAEXnF,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACEnC,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,kBACAF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAACyhC,GAAD,OACJ3hC,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAC0hC,GAAD,SAKL,sCAIP,OACE5hC,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOjC,QACrB6B,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO8jC,UACrBlkC,EAAAC,EAAAC,cAAA,yBACAF,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAKwjC,iBAAtB,qBAEA7jC,EAAAC,EAAAC,cAAA,SAAOC,UAAWC,KAAOhC,cAEvB4B,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,mBACAF,EAAAC,EAAAC,cAAA,yBAGJF,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,kBACAF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAC6hC,GAAD,OACJ/hC,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAC8hC,GAAD,QAGNhiC,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,kBACAF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAC+hC,GAAD,OACJjiC,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAACgiC,GAAD,QAGNliC,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,MAAI+jC,QAAQ,KAAZ,mBACAjkC,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAACgjC,GAAD,QAGNljC,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,MAAI+jC,QAAQ,KACVjkC,EAAAC,EAAAC,cAAA,OAAKiF,MAAO,CAACgE,OAAQ,UACnBnJ,EAAAC,EAAAC,cAAA,kCACAF,EAAAC,EAAAC,cAAA,UAAQykB,SAAUtkB,KAAKujC,YAAajzB,MAAOtQ,KAAKoD,MAAM0B,OACpDnF,EAAAC,EAAAC,cAAA,UAAQyQ,MAAM,QAAd,YACA3Q,EAAAC,EAAAC,cAAA,UAAQyQ,MAAM,WAAd,eAMPtQ,KAAK8jC,yBAOZnkC,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO9B,SACrB0B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBACZE,KAAK+jB,0BArHU5jB,IAAMC,WCfnBkjC,GDgJAryB,YAAQ,KAJI,SAAAsV,GAAQ,MAAK,CACtCkd,gBAAiB,kBAAMld,ElBjFa,CACpC7lB,KAvD8B,wBkB0IjBuQ,CAAkCqyB,IE7I3CS,GAAgB,CACpB,MACA,KACA,MACA,OAGIC,8MAcJC,oBAAsB,SAAC1f,GACrB,IAAM2f,EAAI3f,EAAIE,OAAOnU,MAAQxN,EAAK7C,MAAMyS,KACxC5P,EAAKqxB,cAAc+P,iFANPp7B,GACZ9I,KAAKC,MAAMk0B,cAAcrrB,oCAQlB,IAAAsb,EAAApkB,KACP,OACEL,EAAAC,EAAAC,cAAA,UACEykB,SAAUtkB,KAAKikC,oBACf3zB,MAAO5I,WAAW1H,KAAKC,MAAMuD,UAE5BugC,GAAcx6B,IAAI,SAAC26B,GAAD,OACjBvkC,EAAAC,EAAAC,cAAA,UAAQ8J,IAAKu6B,EAAG5zB,MAAO5I,WAAWw8B,IAAKA,EAAvC,IAA2C9f,EAAKnkB,MAAMyS,gBA1BpCvS,IAAMC,WAA5B4jC,GACGjc,aAAe,CACpBrV,KAAM,MAuCKzB,YARS,SAAA7N,GAAK,MAAK,CAChCI,QAASJ,EAAM0B,MAAM4kB,aAGI,SAAAnD,GAAQ,MAAK,CACtC4N,cAAe,SAAC+P,GAAD,OAAO3d,EAAS4N,GAAc+P,OAGhCjzB,CAA6C+yB,IAR5D,ICzCMG,8MAEJC,YAAc,SAAA7f,GACZ,IAAMgF,EAAWhF,EAAIE,OAAOnU,MAC5BxN,EAAK7C,MAAMmkC,YAAY7a,4EAIvB,OACE5pB,EAAAC,EAAAC,cAAA,UACEyQ,MAAOtQ,KAAKC,MAAMuD,QAClB8gB,SAAUtkB,KAAKokC,aAEhB,CAAC,KAAM,KAAM,KAAM,QAAS,UAAU76B,IAAI,SAAAsH,GAAC,OAC1ClR,EAAAC,EAAAC,cAAA,UAAQ8J,IAAKkH,EAAGP,MAAOO,GAAIA,aAdZ1Q,IAAMC,WAwBd6Q,eAHS,SAAA7N,GAAK,MAAK,CAACI,QAASJ,EAAM0B,MAAMykB,WAC7B,SAAAhD,GAAQ,MAAK,CAAC6d,YAAa,SAAAhoB,GAAI,OAAImK,ErBmBnC,SAAAnK,GAAI,MAAK,CAClC1b,KAxC2B,gBAyC3BC,QAASyb,GqBrB4DgoB,CAAYhoB,OAEpEnL,CAA6CkzB,ICjB5D,SAASE,GAAWj5B,GAClB,OAAOrI,OAAOsG,OAAO,CACnB8hB,IAAK,EACLrmB,MAAO,CAACoa,SAAU,QATtB,SAAmB9T,GACjB,MAAc,OAAVA,EAAuB,CAACjH,IAAK,IAAK4Q,KAAM,KAC9B,OAAV3J,EAAuB,CAACjH,IAAK,IAAK4Q,KAAM,KAC9B,OAAV3J,EAAuB,CAACjH,IAAK,GAAI4Q,KAAM,SAA3C,EAOGuvB,CAAUl5B,IAef,SAASm5B,GAAQj0B,EAAOqhB,EAAM6S,GAC5B,OAAI7S,IAAS6S,EAAWl0B,EAb1B,SAAgBA,EAAOlF,GACrB,MAAc,OAAVA,EAAuBkF,EAAQ,GACrB,OAAVlF,EAAuBkF,EAAQ,KACrB,OAAVlF,EAAuBkF,OAA3B,EAWOm0B,CART,SAAcn0B,EAAOlF,GACnB,MAAc,OAAVA,EAA+B,GAARkF,EACb,OAAVlF,EAA+B,KAARkF,EACb,OAAVlF,EAAuBkF,OAA3B,EAKciC,CAAKjC,EAAOqhB,GAAO6S,GAGnC,SAASE,GAAWzgC,EAAGugC,GACrB,IAAMp5B,EAAQnH,EAAE0O,OAAO,GACvB,OAAO4xB,GAAQ78B,WAAWzD,GAAImH,EAAOo5B,OAIjCG,eACJ,SAAAA,EAAY1kC,GAAO,IAAA6C,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAA/C,KAAA2kC,IACjB7hC,EAAAC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAA4hC,GAAAxhC,KAAAnD,KAAMC,KAIR2kC,WAAa,WAAU,IAATV,EAAS5uB,UAAApQ,OAAA,QAAAqC,IAAA+N,UAAA,GAAAA,UAAA,GAAP,GAAOuvB,EAAA9hC,OAAAgC,EAAA,EAAAhC,CAAA,GACyBD,EAAKM,MAAU8gC,GAAtD39B,EADcs+B,EACdt+B,IAAKsE,EADSg6B,EACTh6B,MAAOi6B,EADED,EACFC,OAAQx+B,EADNu+B,EACMv+B,KAAM8E,EADZy5B,EACYz5B,MAC3Bse,EAAa,CAACnjB,EAAI6E,EAAOP,EAAMO,EAAO05B,EAAO15B,EAAO9E,EAAK8E,GAAO9K,KAAK,KAC3EwC,EAAK7C,MAAMk0B,cAAczK,GACzB5mB,EAAKY,SAAS,CAAC6C,MAAKsE,QAAOi6B,SAAQx+B,OAAM8E,WATxBtI,EAWnBiiC,SAAW,SAAAxgB,GAIT,IAHA,IAAMoN,EAAO7uB,EAAKM,MAAMgI,MAClBA,EAAQmZ,EAAIE,OAAOnU,MACnB00B,EAAY,GAHFhgC,EAIA,CAAC,MAAO,QAAS,SAAU,QAA3CC,EAAA,EAAAA,EAAAD,EAAAE,OAAAD,IAAoD,CAA/C,IAAMi/B,EAACl/B,EAAAC,GACJoF,EAAI3C,WAAW5E,EAAKM,MAAM8gC,IAC1Be,EAAoB,OAAV75B,EAAiB,GAAK,IACtC45B,EAAUd,GAAKhgC,KAAKgE,MAAM+8B,EAAUV,GAAQl6B,EAAGsnB,EAAMvmB,IAAU65B,EAEjEniC,EAAKY,SAALX,OAAAgC,EAAA,EAAAhC,CAAA,CAAeqI,SAAU45B,KApBRliC,EAsBnBoiC,OAAS,SAAA3gB,GACP,IAAMhe,EAAMge,EAAIE,OAAOnU,MACvBxN,EAAK8hC,WAAW,CAACr+B,SAxBAzD,EA0BnBqiC,SAAW,SAAA5gB,GACT,IAAM1Z,EAAQ0Z,EAAIE,OAAOnU,MACzBxN,EAAK8hC,WAAW,CAAC/5B,WA5BA/H,EA8BnBsiC,UAAY,SAAA7gB,GACV,IAAMugB,EAASvgB,EAAIE,OAAOnU,MAC1BxN,EAAK8hC,WAAW,CAACE,YAhCAhiC,EAkCnBuiC,QAAU,SAAA9gB,GACR,IAAMje,EAAOie,EAAIE,OAAOnU,MACxBxN,EAAK8hC,WAAW,CAACt+B,UAlCjBxD,EAAKM,MAALL,OAAAgC,EAAA,EAAAhC,CAAA,GAAiBD,EAAK7C,OAFL6C,wEAwCjB,OACEnD,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACAnC,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,UAAQyQ,MAAOtQ,KAAKoD,MAAMgI,MAAOkZ,SAAUtkB,KAAK+kC,UAC9CplC,EAAAC,EAAAC,cAAA,UAAQyQ,MAAM,MAAd,eACA3Q,EAAAC,EAAAC,cAAA,UAAQyQ,MAAM,MAAd,eACA3Q,EAAAC,EAAAC,cAAA,UAAQyQ,MAAM,MAAd,WAEF3Q,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,gBAEEF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,QAAAkD,OAAAsG,OAAA,CAAO3I,KAAK,SACV4P,MAAOtQ,KAAKoD,MAAMmD,IAClB+d,SAAUtkB,KAAKklC,QACXb,GAAWrkC,KAAKoD,MAAMgI,UAG9BzL,EAAAC,EAAAC,cAAA,YAEFF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,iBAEEF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,QAAAkD,OAAAsG,OAAA,CAAO3I,KAAK,SACV4P,MAAOtQ,KAAKoD,MAAMkD,KAClBge,SAAUtkB,KAAKqlC,SACXhB,GAAWrkC,KAAKoD,MAAMgI,UAG9BzL,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,kBAEEF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,QAAAkD,OAAAsG,OAAA,CAAO3I,KAAK,SACV4P,MAAOtQ,KAAKoD,MAAMyH,MAClByZ,SAAUtkB,KAAKmlC,UACXd,GAAWrkC,KAAKoD,MAAMgI,WAIhCzL,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,mBAEEF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,QAAAkD,OAAAsG,OAAA,CAAO3I,KAAK,SACV4P,MAAOtQ,KAAKoD,MAAM0hC,OAClBxgB,SAAUtkB,KAAKolC,WACXf,GAAWrkC,KAAKoD,MAAMgI,UAG9BzL,EAAAC,EAAAC,cAAA,sBAhGcM,IAAMC,WAoIjB6Q,eA3BS,SAAA7N,GACtB,IACImD,EAAKsE,EAAOi6B,EAAQx+B,EADlB8tB,EAAUhxB,EAAM0B,MAAM4kB,WAAWrW,MAAM,KAE7C,GAAuB,IAAnB+gB,EAAQlvB,OAEV2F,EADAtE,EAAM6tB,EAAQ,GAEd0Q,EAASv+B,EACTD,EAAOC,OACF,GAAuB,IAAnB6tB,EAAQlvB,OAAc,KAAAogC,EAAAviC,OAAA6D,EAAA,EAAA7D,CAChBqxB,EADgB,GAE/B0Q,EADCv+B,EAD8B++B,EAAA,GAG/Bh/B,EAFMuE,EADyBy6B,EAAA,OAI1B,KAAAC,EAAAxiC,OAAA6D,EAAA,EAAA7D,CACwBqxB,EADxB,GACJ7tB,EADIg/B,EAAA,GACC16B,EADD06B,EAAA,GACQT,EADRS,EAAA,GACgBj/B,EADhBi/B,EAAA,GAGP,IAAMn6B,EAAQ9E,EAAKqM,OAAO,GAE1B,MAAO,CACLpM,KAAMm+B,GAAWn+B,EAAK6E,GACtBP,OAAQ65B,GAAW75B,EAAOO,GAC1B05B,QAASJ,GAAWI,EAAQ15B,GAC5B9E,MAAOo+B,GAAWp+B,EAAM8E,GACxBA,UAGuB,SAAAmb,GAAQ,MAAK,CAAC4N,cAAe,SAAA+P,GAAC,OAAI3d,EAAS4N,GAAc+P,OAErEjzB,CAA6C0zB,ICrK7Ca,GCJM,SAAAvlC,GACnB,OACEN,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAC4lC,GAAD,MACA9lC,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAC6lC,GAAD,QCNAC,8MAEJ1T,OAAS,SAAA1N,GACP,IAAMkO,EAAYlO,EAAIE,OAAOI,QACzB4N,IAAc3vB,EAAK7C,MAAMwyB,WAC3B3vB,EAAK7C,MAAM2lC,aAAanT,4EAK1B,OACE9yB,EAAAC,EAAAC,cAAA,OAAKiF,MAAO,CAACia,SAAU,UACvBpf,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SAAOgB,GAAG,2BACRH,KAAK,WACLmkB,QAAS7kB,KAAKC,MAAMwyB,UACpBnO,SAAUtkB,KAAKiyB,SACjBtyB,EAAAC,EAAAC,cAAA,SAAO+4B,QAAQ,4BAAf,4BAjBcz4B,IAAMC,WAiCb6Q,eAPS,SAAA7N,GAAK,MAAK,CAChCqvB,UAAWrvB,EAAM4kB,OAAOyK,YAEC,SAAAlM,GAAQ,MAAK,CACtCqf,aAAc,SAAA7hC,GAAC,OAAIwiB,E5BWgB,CACnC7lB,KAxC4B,iBAyC5BC,Q4BbyCoD,OAG5BkN,CAA6C00B,IClCtDE,eAoBJ,SAAAA,EAAY5lC,GAAO,IAAA6C,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAA/C,KAAA6lC,IACjB/iC,EAAAC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAA8iC,GAAA1iC,KAAAnD,KAAMC,KAWR6lC,YAAc,SAAAvhB,GACZ,IAAMwhB,GAAQxhB,EAAIE,OAAOnU,MACzBxN,EAAKY,SAAS,CAAEqiC,UAdCjjC,EAiBnBkjC,OAAS,WACP,IAAMD,EAAO7hC,KAAKinB,KAAKroB,EAAKM,MAAM2iC,KAAOjjC,EAAK7C,MAAM8U,KAAMjS,EAAK7C,MAAMkE,KACrErB,EAAKY,SAAS,CAAEqiC,UAnBCjjC,EAsBnBmjC,QAAU,WACR,IAAMF,EAAO7hC,KAAKC,KAAKrB,EAAKM,MAAM2iC,KAAOjjC,EAAK7C,MAAM8U,KAAMjS,EAAK7C,MAAMkrB,KACrEroB,EAAKY,SAAS,CAAEqiC,UAtBhBjjC,EAAKM,MAAQ,CAAE2iC,KAAM9lC,EAAM45B,cAFV/2B,yEAMjB,IACMoM,EADOlP,KAAKoD,MAAM2iC,KACH,IACfvkC,EAAS,UAAAO,OAAa,CAACmN,EAAO,EAAG,EAAGA,EAAO,EAAG,GAAG5O,KAAK,KAA7C,KACf8pB,SAASkJ,KAAKxuB,MAAMohC,YAAY,0BAA2B1kC,+CAmB3DxB,KAAKmmC,uDAILnmC,KAAKmmC,gDAIL,OACExmC,EAAAC,EAAAC,cAAA,SACEa,KAAK,SACLyqB,IAAKnrB,KAAKC,MAAMkrB,IAChBhnB,IAAKnE,KAAKC,MAAMkE,IAChB4Q,KAAM/U,KAAKC,MAAM8U,KACjBzE,MAAOtQ,KAAKoD,MAAM2iC,KAClBzhB,SAAUtkB,KAAK8lC,qDAMnB,OACEnmC,EAAAC,EAAAC,cAAA,UACEyQ,MAAOtQ,KAAKoD,MAAM2iC,KAClBzhB,SAAUtkB,KAAK8lC,aACd9lC,KAAKC,MAAMwZ,QAAQlQ,IAAI,SAAC68B,GAAD,OAAOzmC,EAAAC,EAAAC,cAAA,UAAQ8J,IAAG,eAAA5H,OAAiBqkC,GAAK91B,MAAO81B,GAAIA,8CAM/E,OACEzmC,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACEnC,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAKimC,SAAtB,KACAtmC,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAKgmC,QAAtB,uCAMJ,MAAwB,UAApBhmC,KAAKC,MAAMS,KACNV,KAAK63B,cAEU,WAApB73B,KAAKC,MAAMS,KACNV,KAAK83B,eAEU,YAApB93B,KAAKC,MAAMS,KACNV,KAAKqmC,qBADd,SA9FsBlmC,IAAMC,WAA1BylC,GAWG9d,aAAe,CACpB8R,aAAc,IACdn5B,KAAM,QACNyqB,IAAK,GACLhnB,IAAK,IACL4Q,KAAM,GACN0E,QAAS,CAAC,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,MAmF/BosB,UCnGTS,8MAEJC,SAAW,SAAAhiB,GACT,IAAM8O,EAAQ9O,EAAIE,OAAOnU,MACzBxN,EAAK7C,MAAMmzB,WAAWC,4EAItB,OACE1zB,EAAAC,EAAAC,cAAA,UAAQyQ,MAAOtQ,KAAKC,MAAMozB,MACxB/O,SAAUtkB,KAAKumC,UAEf5mC,EAAAC,EAAAC,cAAA,UAAQyQ,MAAM,QAAd,QACA3Q,EAAAC,EAAAC,cAAA,UAAQyQ,MAAM,QAAd,QACA3Q,EAAAC,EAAAC,cAAA,UAAQyQ,MAAM,SAAd,iBAdoBnQ,IAAMC,WA4BnB6Q,eARS,SAAA7N,GAAK,MAAK,CAChCiwB,MAAOjwB,EAAM4kB,OAAOwe,UAGK,SAAAjgB,GAAQ,MAAK,CACtC6M,WAAY,SAAAC,GAAK,OAAI9M,EAAS6M,GAAWC,OAG5BpiB,CAA6Cq1B,ICrB7CG,eCPb,SAAAA,EAAYxmC,GAAQ,OAAA8C,OAAAC,EAAA,EAAAD,CAAA/C,KAAAymC,GAAA1jC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAA0jC,GAAAtjC,KAAAnD,KACZC,0EAIN,OACEN,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACEnC,EAAAC,EAAAC,cAAA,uBAAoBF,EAAAC,EAAAC,cAAC6mC,GAAD,cARHvmC,IAAMC,+BCyEhBumC,eAlEb,SAAAA,EAAY1mC,GAAO,IAAA6C,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAA/C,KAAA2mC,IACjB7jC,EAAAC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAA4jC,GAAAxjC,KAAAnD,KAAMC,KAIR2mC,iBAAmB,kBAAM9jC,EAAKY,SAAS,CAACmjC,QAAS,UAL9B/jC,EAMnBgkC,kBAAoB,kBAAMhkC,EAAKY,SAAS,CAACmjC,QAAS,WAN/B/jC,EAOnBikC,iBAAmB,kBAAMjkC,EAAKY,SAAS,CAACmjC,QAAS,UAP9B/jC,EAQnBkkC,eAAiB,kBAAMlkC,EAAKY,SAAS,CAACmjC,QAAS,QAN7C/jC,EAAKM,MAAQ,CAACyjC,QAAS,QAFN/jC,gFAWjB,OAAQ9C,KAAKoD,MAAMyjC,SACjB,IAAK,OAAQ,OAAOlnC,EAAAC,EAAAC,cAAConC,GAAD,MACpB,IAAK,QAAS,OAAOtnC,EAAAC,EAAAC,cAACqnC,GAAD,MACrB,IAAK,OAAQ,OAAOvnC,EAAAC,EAAAC,cAACsnC,GAAD,MACpB,IAAK,KAAM,OAAOxnC,EAAAC,EAAAC,cAACunC,GAAD,MAClB,QAAS,OAAO,uCAKlB,OACEznC,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOf,aAErBW,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOZ,SACrBQ,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,QAAMC,UAAWC,KAAOd,OAAxB,aAGFU,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOX,SACrBO,EAAAC,EAAAC,cAAA,OACEC,UAAWC,KAAOV,UAClBukB,QAAS5jB,KAAK4mC,iBACdS,OAA+B,SAAvBrnC,KAAKoD,MAAMyjC,QAAqB,cAAWt/B,GAHrD,SAKA5H,EAAAC,EAAAC,cAAA,OACEC,UAAWC,KAAOV,UAClBukB,QAAS5jB,KAAK8mC,kBACdO,OAA+B,UAAvBrnC,KAAKoD,MAAMyjC,QAAsB,cAAWt/B,GAHtD,UAKA5H,EAAAC,EAAAC,cAAA,OACEC,UAAWC,KAAOV,UAClBukB,QAAS5jB,KAAKgnC,eACdK,OAA+B,OAAvBrnC,KAAKoD,MAAMyjC,QAAmB,cAAWt/B,GAHnD,aAKA5H,EAAAC,EAAAC,cAAA,OACEC,UAAWC,KAAOV,UAClBukB,QAAS5jB,KAAK+mC,iBACdM,OAA+B,SAAvBrnC,KAAKoD,MAAMyjC,QAAqB,cAAWt/B,GAHrD,SAOF5H,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAKC,MAAMqjB,gBAA5B,WAKJ3jB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOb,gBACpBc,KAAKsnC,0BA7DWnnC,IAAMC,WCH3BmnC,8MAMJC,OAAS,SAACjjB,GACJA,EAAIE,OAAOI,QACb/hB,EAAK7C,MAAMwnC,iBAAgB,GAE3B3kC,EAAK7C,MAAMwnC,iBAAgB,4EAK7B,OACE9nC,EAAAC,EAAAC,cAAA,SACEykB,SAAUtkB,KAAKwnC,OACf9mC,KAAK,WACLmkB,QAAS7kB,KAAKC,MAAMuD,iBAnBDrD,IAAMC,WAiClB6Q,eARS,SAAA7N,GAAK,MAAK,CAChCI,QAASJ,EAAM4kB,OAAOC,eAGG,SAAA1B,GAAQ,MAAK,CACtCkhB,gBAAiB,SAAC1jC,GAAD,OAAOwiB,ElCtBK,SAACxiB,GAAD,MAAQ,CACrCrD,KAb+B,oBAc/BC,QAASoD,GkCoBwB0jC,CAAgB1jC,OAGpCkN,CAA6Cs2B,IChCtDG,8MAMJF,OAAS,SAACjjB,GACJA,EAAIE,OAAOI,QACb/hB,EAAK7C,MAAM0nC,kBAAiB,GAE5B7kC,EAAK7C,MAAM0nC,kBAAiB,4EAK9B,OACEhoC,EAAAC,EAAAC,cAAA,SACEykB,SAAUtkB,KAAKwnC,OACf9mC,KAAK,WACLmkB,QAAS7kB,KAAKC,MAAMuD,iBAnBErD,IAAMC,WAiCrB6Q,eARS,SAAA7N,GAAK,MAAK,CAChCI,QAASJ,EAAM4kB,OAAOsK,gBAGG,SAAA/L,GAAQ,MAAK,CACtCohB,iBAAkB,SAACC,GAAD,OAAUrhB,EnCbE,SAACqhB,GAAD,MAAW,CACzClnC,KArBgC,qBAsBhCC,QAASinC,GmCW4BD,CAAiBC,OAGzC32B,CAA6Cy2B,ICjCtDG,8MAMJ7c,MAAQ,WACNloB,EAAK7C,MAAM6nC,kBACXhlC,EAAK7C,MAAM8nC,eAAejlC,EAAK7C,MAAM2tB,+EAG/B,IAAAxJ,EAAApkB,KACNgoC,WAAW,WACL5jB,EAAKnkB,MAAMsyB,OAAS,GACtBnO,EAAKnkB,MAAM8nC,eAAe3jB,EAAKnkB,MAAMsyB,OAAO,IAE7C,gDAIHvyB,KAAKioC,qDAILjoC,KAAKioC,yCAIL,OACEtoC,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAKgrB,OAAtB,yBA7BsB7qB,IAAMC,WA4CnB6Q,eAVS,SAAA7N,GAAK,MAAK,CAChCmvB,OAAQnvB,EAAM4kB,OAAOwK,aACrB5E,MAAOxqB,EAAMgnB,SAASI,MAAMtlB,SAGH,SAAAqhB,GAAQ,MAAK,CACtCwhB,eAAgB,SAAAjM,GAAC,OAAIvV,EpClBO,SAACuV,GAAD,MAAQ,CACpCp7B,KAzB8B,mBA0B9BC,QAASm7B,GoCgBqBiM,CAAejM,KAC7CgM,gBAAiB,kBAAMvhB,EvFuBa,CACpC7lB,KA9D8B,wBuFyCjBuQ,CAA6C42B,IC9CtDK,8MAMJC,aAAe,SAAA5jB,GACb,IAAM6jB,EAAU7jB,EAAIE,OAAOnU,MACvB83B,IACFtlC,EAAKulC,eAAeD,GACpBtlC,EAAK7C,MAAMqoC,0BAA0BF,mFAR1BtM,GACb1R,SAASkJ,KAAKxuB,MAAMohC,YAAY,oBAAqBpK,EAAE,oCAYvD,OACEn8B,EAAAC,EAAAC,cAAA,SACEykB,SAAUtkB,KAAKmoC,aACfznC,KAAK,SACLyqB,IAAI,IACJ7a,MAAOtQ,KAAKC,MAAMuD,iBApBGrD,IAAMC,WAiCpB6Q,eAPS,SAAA7N,GAAK,MAAK,CAChCI,QAASJ,EAAMgnB,SAASme,iBAEC,SAAAhiB,GAAQ,MAAK,CACtC+hB,0BAA2B,SAACxM,GAAD,OAAOvV,ExFsBK,SAACuV,GAAD,MAAQ,CAC/Cp7B,KAlDyC,8BAmDzCC,QAASm7B,GwFxBkCwM,CAA0BxM,OAGxD7qB,CAA6Ci3B,ICb7CvB,8CCtBFzvB,GAAQ,SAAS5F,EAAOk3B,GACnC,OAD0DlzB,UAAApQ,OAAA,QAAAqC,IAAA+N,UAAA,IAAAA,UAAA,GAEjD6mB,KAAKjlB,MAAM5F,EAAOk3B,EAAK,GAAGC,MAE5BtM,KAAKjlB,MAAM5F,EAAOk3B,GAAMC,OAGpBC,GAAU,SAAC5M,EAAGx6B,GACzB,IAAMgL,EAAIpI,KAAKiS,IAAI,GAAI7U,GACvB,OAAO4C,KAAKgE,MAAM4zB,EAAExvB,GAAKA,GAGdq8B,GAAM,SAAC/oC,EAAGmE,GAAJ,OAAUo4B,KAAKwM,IAAI/oC,EAAGmE,IAmD5B6kC,GAAc,SAAS9M,EAATp6B,GAIzB,IAJuE,IAAAmnC,EAAAnnC,EAAjConC,gBAAiC,IAAAD,KAAAE,EAAArnC,EAAjBsnC,SAClDhtB,EAAS,GAEPwsB,OAHiE,IAAAO,KAG/CjN,EAAIA,EAAE,EACrBryB,EAFKq/B,EAAW,EAAI,EAETr/B,GAAK++B,EAAM/+B,IACzBqyB,EAAIryB,IAAM,GACZuS,EAAO5R,KAAKX,GAGhB,OAAOuS,GChET,SAASitB,KAA2E,IAAAvnC,EAAA4T,UAAApQ,OAAA,QAAAqC,IAAA+N,UAAA,GAAAA,UAAA,GAAJ,GAAzC4zB,EAA6CxnC,EAA7CwnC,OAA6CC,EAAAznC,EAArC0nC,sBAAqC,IAAAD,EAAtB,GAAsBA,EAAAE,EAAA3nC,EAAlB4nC,aAAkB,IAAAD,EAAZ,OAAYA,EAC7E7b,EAAKxtB,KAAKmsB,OACF,SAAVmd,IACHA,EAAQJ,EAAS,GAElB,IAAIr4B,EAAI,GACF04B,EAAa/b,EAAG3B,OAAO3U,GAAM,EAAEgyB,GAASI,EAAM,GACpDz4B,EAAEq4B,GAAU1b,EAAG1B,QAAQ,EAAGsd,GAPyD,IAAAv5B,GAAA,EAAAC,GAAA,EAAAC,OAAAxI,EAAA,IASnF,QAAAyI,EAAAC,EAAgBs5B,EAAhBr5B,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAA4B,CAC3BgB,EAD2Bb,EAAAM,OACpBkd,EAAG1B,QAAQ,EAAGsd,GAAkB5b,EAAGC,OAAO,EAAE,EAAE,KAV6B,MAAA/c,GAAAZ,GAAA,EAAAC,EAAAW,EAAA,YAAAb,GAAA,MAAAI,EAAAU,QAAAV,EAAAU,SAAA,WAAAb,EAAA,MAAAC,GAYnF,OAAOc,EAmBD,IAAM24B,GAAb,SAAAlc,GAAA,SAAAkc,IAAA,OAAAzmC,OAAAC,EAAA,EAAAD,CAAA/C,KAAAwpC,GAAAzmC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAAymC,GAAAzmB,MAAA/iB,KAAAsV,YAAA,OAAAvS,OAAAwqB,EAAA,EAAAxqB,CAAAymC,EAAAlc,GAAAvqB,OAAAkoB,EAAA,EAAAloB,CAAAymC,EAAA,EAAA7/B,IAAA,WAAA2G,MAAA,SAUUrQ,GACR,IAYgBgW,EAZVuX,EAAKxtB,KAAKmsB,OADDqD,EAEEhC,EAAG3B,OAAO3U,IAAO,GAAG,IAAK,GAF3BuY,EAAA1sB,OAAA6D,EAAA,EAAA7D,CAAAysB,EAAA,GAERia,EAFQha,EAAA,GAEJia,EAFIja,EAAA,GAKT1rB,IAAM0lC,EAAKC,GACX1lC,EAAIylC,EAAKC,EAETC,EAAO,IAAIC,KAAW,CAACC,EAJnB,EAIyBC,EAAG/lC,EAAGgmC,EAAG/lC,IACtCgmC,EAnCR,WAAoC,IAAV/pC,EAAUqV,UAAApQ,OAAA,QAAAqC,IAAA+N,UAAA,GAAAA,UAAA,GAAJ,GACzBzE,EAAIo4B,GAA6B9lC,KAAKnD,KAAMC,GAClD,OAAO,IAAI2pC,KAAW/4B,IAiCS1N,KAAKnD,KAAM,CAACkpC,OAAQ,EAAGE,eAAgB,EAAGE,MAAO,IAThE5mC,EAWO8qB,EAAGrB,SAAW,GAAM,CAACwd,EAAKM,IAAID,GAAOA,GAAQ,CAACA,EAAML,EAAKM,IAAID,IAXpE3b,EAAAtrB,OAAA6D,EAAA,EAAA7D,CAAAL,EAAA,GAWR4D,EAXQ+nB,EAAA,GAWFxjB,EAXEwjB,EAAA,GAiBf,MAAO,CACN5Q,aAAc,2DACdC,SAAU,KAAOpX,EAAK4jC,UAAY,MAAQr/B,EAAMq/B,UAAW,KAC3DjtB,QAPehH,EAOA,CAACwzB,EAAIC,GANd,SAAWzzB,EAAIwC,KAAK,SAAC7Y,EAAGmE,GAAJ,OAAUnE,EAAImE,IAAGzD,KAAK,MAAQ,WAxB3DkpC,EAAA,CAAoCvd,IAAvBud,GACL3c,KAAO,CACbpoB,KAAM,kBACNupB,YAAa,sDAHFwb,GAML/vB,QAAU,CAChBkO,cAAc,GA4BT,IAAMwiB,GAAb,SAAAjc,GAAA,SAAAic,IAAA,OAAApnC,OAAAC,EAAA,EAAAD,CAAA/C,KAAAmqC,GAAApnC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAAonC,GAAApnB,MAAA/iB,KAAAsV,YAAA,OAAAvS,OAAAwqB,EAAA,EAAAxqB,CAAAonC,EAAAjc,GAAAnrB,OAAAkoB,EAAA,EAAAloB,CAAAonC,EAAA,EAAAxgC,IAAA,WAAA2G,MAAA,SAUU3C,GAOR,IANA,IAAI6f,EAAKxtB,KAAKmsB,OAERie,EAAK5c,EAAG1B,QAAQ,EAAE,GAClBue,EAAK7c,EAAG1B,QAAQ,EAAE,EAAEse,GAEtBE,EAAK9c,EAAG1B,QAAQ,EAAE,GAAGue,GACF,IAAhB1B,GAAIyB,EAAIE,IACdA,EAAK9c,EAAG1B,QAAQ,EAAE,GAAGue,GAEtBC,GAAM9c,EAAGC,OAAO,EAAE,EAAE,IAIpB,IADA,IAAI8c,EAAK/c,EAAG1B,QAAQ,EAAG,GAAGse,GACH,IAAhBzB,GAAI0B,EAAIE,IACdA,EAAK/c,EAAG1B,QAAQ,EAAE,GAAGse,GAKtB,IAHAG,GAAM/c,EAAGC,OAAO,EAAE,EAAE,IAGbvpB,KAAKE,IAAIgmC,KAAQlmC,KAAKE,IAAIimC,IAAOnmC,KAAKE,IAAIkmC,KAAQpmC,KAAKE,IAAImmC,IAAK,CAEtE,IADAA,EAAK/c,EAAG1B,QAAQ,EAAG,GAAGse,GACC,IAAhBzB,GAAI0B,EAAIE,IACdA,EAAK/c,EAAG1B,QAAQ,EAAE,GAAGse,GAEtBG,GAAM/c,EAAGC,OAAO,EAAE,EAAE,IAGrB,IAAM+c,EAAK,IAAIZ,KAAW,CAACE,EAAGM,EAAIL,EAAGO,IAC/BG,EAAK,IAAIb,KAAW,CAACE,EAAGO,EAAIN,EAAGQ,IAE/B3qC,EAAIwqC,EAAKC,EACTtmC,EAAIqmC,EAAKG,EAAKF,EAAKC,EACnBtmC,EAAIsmC,EAAKC,EAETZ,EAAO,IAAIC,KAAW,CAACC,EAAGjqC,EAAGkqC,EAAG/lC,EAAGgmC,EAAG/lC,IAEtCiZ,EAAM,MAAAlb,OAASyoC,EAAGN,UAAZ,MAAAnoC,OAA0B0oC,EAAGP,UAA7B,OAEZ,MAAO,CACNzsB,aAAc,4CACdC,SAAQ,KAAA3b,OAAO4nC,EAAKO,UAAZ,MACRjtB,OAAQA,OApDXktB,EAAA,CAAyCle,IAA5Bke,GACLtd,KAAO,CACbpoB,KAAM,0BACNupB,YAAa,uCAHFmc,GAML1wB,QAAU,CAChBkO,cAAc,GAmDT,IAAM+iB,GAAb,SAAAjc,GAAA,SAAAic,IAAA,OAAA3nC,OAAAC,EAAA,EAAAD,CAAA/C,KAAA0qC,GAAA3nC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAA2nC,GAAA3nB,MAAA/iB,KAAAsV,YAAA,OAAAvS,OAAAwqB,EAAA,EAAAxqB,CAAA2nC,EAAAjc,GAAA1rB,OAAAkoB,EAAA,EAAAloB,CAAA2nC,EAAA,EAAA/gC,IAAA,WAAA2G,MAAA,SAMU3C,GACR,IAuCI4I,EAAOE,EAAOE,EAvCZ6W,EAAKxtB,KAAKmsB,OAEVwe,EAAe,SAACpkC,EAAKu+B,GAY1B,OAXQ,SAASziC,GAChB,IAAIy5B,EAAI,EACJx6B,EAAI,EAFWqW,GAAA,EAAAC,GAAA,EAAAC,OAAAtQ,EAAA,IAGnB,QAAAuQ,EAAAC,EAAgBxR,EAAhB2J,OAAAC,cAAAwH,GAAAG,EAAAC,EAAA3H,QAAAC,MAAAsH,GAAA,EACCmkB,GAAMz5B,EADcyV,EAAAxH,MAHF,MAAAI,GAAAkH,GAAA,EAAAC,EAAAnH,EAAA,YAAAiH,GAAA,MAAAI,EAAApH,QAAAoH,EAAApH,SAAA,WAAAiH,EAAA,MAAAC,GAAA,IAAAI,GAAA,EAAAC,GAAA,EAAAC,OAAA5Q,EAAA,IAMnB,QAAA6Q,EAAAC,EAAgBysB,EAAhB50B,OAAAC,cAAA8H,GAAAG,EAAAC,EAAAjI,QAAAC,MAAA4H,GAAA,EACC3W,GAAMe,EADiB+V,EAAA9H,MANL,MAAAI,GAAAwH,GAAA,EAAAC,EAAAzH,EAAA,YAAAuH,GAAA,MAAAI,EAAA1H,QAAA0H,EAAA1H,SAAA,WAAAuH,EAAA,MAAAC,GASnB,OAAO2jB,EAAIx6B,IAKb,SAASspC,IACR,IAAIC,EAAOrd,EAAG3B,OAAO3U,GAAM,EAAG,GAAI,GAAG3N,IAAI,SAAAc,GAAC,OAAImjB,EAAGrB,SAAW,GAAM9hB,GAAKA,IACnEkM,EAAQ,CAACs0B,EAAK,IACdp0B,EAAQ,CAACo0B,EAAK,IACdl0B,EAAa,CAACk0B,EAAK,IAMvB,OALIrd,EAAGrB,SAAW,GACjBxV,EAAWvM,KAAKygC,EAAK,IACXrd,EAAGrB,SAAW,IACxB1V,EAAMrM,KAAKygC,EAAK,IAET,CAACt0B,QAAOE,QAAOE,cAGxB,SAASm0B,EAAgBr0B,EAAOnK,GAAG,IAAAy+B,GAAA,EAAAC,GAAA,EAAAC,OAAA1jC,EAAA,IAClC,QAAA2jC,EAAAC,EAAgB10B,EAAhBvG,OAAAC,cAAA46B,GAAAG,EAAAC,EAAA/6B,QAAAC,MAAA06B,GAAA,EAAuB,KAAZ1pC,EAAY6pC,EAAA56B,MACtB,GAAIhE,EAAEjL,KAAO,GAAKiL,EAAEjL,IAAM,EACzB,OAAO,GAHyB,MAAAqP,GAAAs6B,GAAA,EAAAC,EAAAv6B,EAAA,YAAAq6B,GAAA,MAAAI,EAAAx6B,QAAAw6B,EAAAx6B,SAAA,WAAAq6B,EAAA,MAAAC,GAMlC,OAAO,EAMR,IAFA,IAAIG,GAAS,GAELA,GAAQ,KAAAC,EACeT,IAA5Br0B,EADa80B,EACb90B,MAEF60B,EAASN,EAFAr0B,EADM40B,EACN50B,MACLk0B,EAAap0B,EADDI,EADD00B,EACC10B,aAMjB,IAAMoX,EAAQ,CACb,kBACA,CAAC7a,KAAM,EAAE,IAAI,EAAE,GAAG,GAAI3Q,OAAQ,SAC9B,CACC,mBACA,CACC8S,OAAQ,EAAE,GAAG,IACb6B,MAAO,EAAE,GAAG,IACZX,QAAOE,QAAOE,gBAMjB,SAAS20B,EAAOr1B,GACf,IAAIs1B,EAAQ,GADQC,GAAA,EAAAC,GAAA,EAAAC,OAAAnkC,EAAA,IAEpB,QAAAokC,EAAAC,EAAgB31B,EAAI1P,IAAIkS,KAAK,SAAC7Y,EAAEmE,GAAH,OAASA,EAAEnE,IAAxCsQ,OAAAC,cAAAq7B,GAAAG,EAAAC,EAAAx7B,QAAAC,MAAAm7B,GAAA,EAA4C,KAAjCnqC,EAAiCsqC,EAAAr7B,MAC3Ci7B,GAAS,IAAMpP,KAAK0P,SAAL,OAAA9pC,OAAqBV,IAAK4hB,WAAa,KAHnC,MAAAvS,GAAA+6B,GAAA,EAAAC,EAAAh7B,EAAA,YAAA86B,GAAA,MAAAI,EAAAj7B,QAAAi7B,EAAAj7B,SAAA,WAAA86B,EAAA,MAAAC,GAKpB,IAAItd,EAAQ,GALQ0d,GAAA,EAAAC,GAAA,EAAAC,OAAAzkC,EAAA,IAMpB,QAAA0kC,EAAAC,EAAgBj2B,EAAI6uB,OAAOrsB,KAAK,SAAC7Y,EAAEmE,GAAH,OAASA,EAAEnE,IAA3CsQ,OAAAC,cAAA27B,GAAAG,EAAAC,EAAA97B,QAAAC,MAAAy7B,GAAA,EAA+C,KAApCzqC,EAAoC4qC,EAAA37B,MAC9C8d,GAAS,IAAM+N,KAAK0P,SAAL,OAAA9pC,OAAqBV,IAAK4hB,WAAa,KAPnC,MAAAvS,GAAAq7B,GAAA,EAAAC,EAAAt7B,EAAA,YAAAo7B,GAAA,MAAAI,EAAAv7B,QAAAu7B,EAAAv7B,SAAA,WAAAo7B,EAAA,MAAAC,GASpB,sCAAAjqC,OAAuCwpC,EAAvC,QAAAxpC,OAAmDqsB,EAAnD,QAGD,IAAMnR,EAAS,CAAC1W,IAAIxD,OAAAgW,EAAA,EAAAhW,CAAKwT,GAANxU,OAAAgB,OAAAgW,EAAA,EAAAhW,CAAgB0T,IAAQquB,OAAO/hC,OAAAgW,EAAA,EAAAhW,CAAK0T,GAAN1U,OAAAgB,OAAAgW,EAAA,EAAAhW,CAAgB4T,KAE3D4Y,EAAS,CACd,CAAChpB,IAAIxD,OAAAgW,EAAA,EAAAhW,CAAK0T,GAAN1U,OAAAgB,OAAAgW,EAAA,EAAAhW,CAAgB4T,IAAamuB,OAAO/hC,OAAAgW,EAAA,EAAAhW,CAAK0T,GAAN1U,OAAAgB,OAAAgW,EAAA,EAAAhW,CAAgBwT,KACvD,CAAChQ,IAAIxD,OAAAgW,EAAA,EAAAhW,CAAKwT,GAAQuuB,OAAO/hC,OAAAgW,EAAA,EAAAhW,CAAK0T,GAAN1U,OAAAgB,OAAAgW,EAAA,EAAAhW,CAAgB4T,KACxC,CAACpQ,IAAKxD,OAAAgW,EAAA,EAAAhW,CAAIwT,GAAJxU,OAAAgB,OAAAgW,EAAA,EAAAhW,CAAc0T,IAAOlN,IAAI,SAAAlI,GAAC,OAAKA,IAAIyjC,OAAQ/hC,OAAAgW,EAAA,EAAAhW,CAAI0T,GAAJ1U,OAAAgB,OAAAgW,EAAA,EAAAhW,CAAc4T,IAAYpN,IAAI,SAAAlI,GAAC,OAAKA,KACrF,CAACkF,IAAKxD,OAAAgW,EAAA,EAAAhW,CAAI0T,GAAJ1U,OAAAgB,OAAAgW,EAAA,EAAAhW,CAAc4T,IAAYpN,IAAI,SAAAlI,GAAC,OAAKA,IAAIyjC,OAAQ/hC,OAAAgW,EAAA,EAAAhW,CAAI0T,GAAJ1U,OAAAgB,OAAAgW,EAAA,EAAAhW,CAAcwT,IAAOhN,IAAI,SAAAlI,GAAC,OAAKA,MAGhFoI,EAAI+jB,EAAG1B,QAAQ,EAAEyD,EAAOrqB,QACxBmY,EAAUmQ,EAAG9B,QAAQ,CAACzO,GAADlb,OAAYwtB,GAAQhmB,IAAI+hC,GAAS7hC,GAE5D,MAAO,CACNgU,aAAc,2DACdK,aAAc,CACbL,aAAc,2DAEfE,QAASoQ,EACT9Q,OAAQ,CACP2E,QAAS0pB,EAAOruB,GAChBI,QAASA,EACTsE,aAAclY,EACdsU,OAAQ,CACP,eACA,CAACxb,OAAQ,MAAOC,MAAO,QACvB,kBA3GLkoC,EAAA,CAAmCze,IAAtBye,GACL7d,KAAO,CACbpoB,KAAM,iBACNupB,YAAa,gEAiHR,IAAMme,GAAb,SAAApd,GAAA,SAAAod,IAAA,OAAAppC,OAAAC,EAAA,EAAAD,CAAA/C,KAAAmsC,GAAAppC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAAopC,GAAAppB,MAAA/iB,KAAAsV,YAAA,OAAAvS,OAAAwqB,EAAA,EAAAxqB,CAAAopC,EAAApd,GAAAhsB,OAAAkoB,EAAA,EAAAloB,CAAAopC,EAAA,EAAAxiC,IAAA,kBAAA2G,MAAA,SA6BiB/O,GAKf,IAHA,IAAM6qC,EAAMx+B,MAAMC,QAAQtM,EAAO,IAAMA,EAAOgI,IAAI,SAAAsH,GAAC,MAAK,CAACxO,EAAGwO,EAAE,GAAIvO,EAAGuO,EAAE,MAAQtP,EAC3ED,EAAC,IAAAS,OAAOqqC,EAAI,GAAG/pC,EAAd,KAAAN,OAAmBqqC,EAAI,GAAG9pC,GAC3BswB,EAAOwZ,EAAI,GACN3iC,EAAI,EAAGA,EAAI2iC,EAAIlnC,OAAQuE,IAAK,CACpC,IAAMoH,EAAIu7B,EAAI3iC,GACR9D,GAAM,EAAEitB,EAAKvwB,EAAIwO,EAAExO,GAAK,EACxBwD,GAAM+sB,EAAKvwB,EAAI,EAAEwO,EAAExO,GAAK,EAC9Bf,GAAC,MAAAS,OAAU4D,EAAV,KAAA5D,OAAgB6wB,EAAKtwB,EAArB,KAAAP,OAA0B8D,EAA1B,KAAA9D,OAAgC8O,EAAEvO,EAAlC,KAAAP,OAAuC8O,EAAExO,EAAzC,KAAAN,OAA8C8O,EAAEvO,GACjDswB,EAAO/hB,EAER,OAAOvP,IAzCT,CAAAqI,IAAA,WAAA2G,MAAA,SA4CU3C,GAWR,IAVA,IAAM6f,EAAKxtB,KAAKmsB,OAEVkgB,EAAS7e,EAAGC,OAAO,CACxB6e,WAAY,CAAC,OACbC,WAAY,CAAC,OACbC,OAAQ,CAAC,MAAO,QACf7+B,EAAO0+B,SAEHI,EAAK,EAAE,IACT7Z,GAAQ,GACLA,EAAO,GAAG,CAChB,IAAMxiB,EAAOod,EAAG1B,QAAQ8G,EAAK,EAAGA,EAAK,GACjCxiB,EAAO,EACVq8B,EAAGriC,KAAK,GAERqiC,EAAGriC,KAAKgG,GAETwiB,EAAO6Z,EAAGA,EAAGvnC,OAAO,GAErBunC,EAAGriC,KAAK,IAOR,IALA,IAIIsiC,EAJEC,EAAS,EAAE,EAAE,GACbC,EAAK,CAACpf,EAAG1B,QAAH/I,MAAAyK,EAAcmf,IAEtBE,EAAuB,EAEpBD,EAAG1nC,OAASunC,EAAGvnC,QAAQ,CAC7B,IAAI4nC,EAAW,GACTla,EAAOga,EAAGA,EAAG1nC,OAAO,GACZ,QAAVwnC,EAAkB9Z,GAAQ+Z,EAAO,GAAG,GACvCG,EAAS1iC,KAAK,OAED,QAAVsiC,EAAkB9Z,GAAQ+Z,EAAO,GAAG,GACvCG,EAAS1iC,KAAK,OAED,UAAVsiC,EAAoBG,EAAuB,IAC9CC,EAAS1iC,KAAK,SACdyiC,GAAwB,GAGX,SADdH,EAAQlf,EAAGC,OAAOqf,IAEjBF,EAAGxiC,KAAKojB,EAAG1B,QAAQ5nB,KAAKC,IAAIwoC,EAAO,GAAI/Z,EAAK,GAAIA,EAAK,IACjC,QAAV8Z,EACVE,EAAGxiC,KAAKojB,EAAG1B,QAAQ8G,EAAK,EAAG1uB,KAAKinB,IAAIwhB,EAAO,GAAI/Z,EAAK,KAEpDga,EAAGxiC,KAAKwoB,GAINpF,EAAGrB,SAAW,IACjBygB,EAAGG,UAIJ,IADA,IAAMC,EAAY,GACTvjC,EAAI,EAAGA,EAAImjC,EAAG1nC,OAAQuE,IAC1BmjC,EAAGnjC,EAAE,GAAKmjC,EAAGnjC,GAChBujC,EAAU5iC,KAAK,OACLwiC,EAAGnjC,EAAE,KAAOmjC,EAAGnjC,GACzBujC,EAAU5iC,KAAK,SAEf4iC,EAAU5iC,KAAK,OAajB,IATA,IAAI6S,EAAS,GACTgwB,EAAe,GACfC,EAAe,GACfC,EAAe,GACfC,EAAe,GAEf7rC,EAAS,CACZ,CAACc,EAAGoqC,EAAG,GAAInqC,EAAGsqC,EAAG,KAETnjC,EAAE,EAAGA,EAAIujC,EAAU9nC,OAAQuE,IACnClI,EAAO6I,KAAK,CAAC/H,EAAGoqC,EAAGhjC,EAAE,GAAInH,EAAGsqC,EAAGnjC,EAAE,KAC7BujC,EAAUvjC,KAAO4iC,GACpBpvB,EAAO7S,KAAK,CAACkH,MAAOm7B,EAAGhjC,GAAI++B,KAAMiE,EAAGhjC,EAAE,KACtCwjC,EAAa7iC,KAAK,CAACkH,MAAOs7B,EAAGnjC,GAAI++B,KAAMoE,EAAGnjC,EAAE,KAC5CyjC,EAAa9iC,KAAK,CAACkH,MAAOm7B,EAAGhjC,GAAI++B,KAAMoE,EAAGnjC,KAC1CyjC,EAAa9iC,KAAK,CAACkH,MAAOm7B,EAAGhjC,EAAE,GAAI++B,KAAMoE,EAAGnjC,EAAE,MACpCujC,EAAUvjC,KAAO,CAAC4jC,IAAO,MAAOC,IAAO,OAAOjB,KACxDc,EAAa/iC,KAAK,CAACkH,MAAOm7B,EAAGhjC,GAAI++B,KAAMiE,EAAGhjC,EAAE,KAC5C2jC,EAAahjC,KAAK,CAACkH,MAAOs7B,EAAGnjC,GAAI++B,KAAMoE,EAAGnjC,EAAE,MAI9C,IAAM8L,EAAwB,WAAjB5H,EAAO7I,MAAqB,CAACxD,EAAGtB,KAAKutC,gBAAgBhsC,IAAW,CAACA,UAC1EoM,EAAOpM,SACVgU,EAAKzI,QAAU,OAGhB,IAAM6Q,EAAU,CACf,kBAAmB,CAACzK,KAAM,EAAE,GAAGy5B,EAAO,GAAG,EAAE,GAAGA,EAAO,GAAG,GAAIpqC,OAAQ,QAASsQ,MAAM,GACnF,CAAC,OAAQ0C,IAGJi4B,EAAW,CAACH,IAAK,aAAcC,IAAK,cAAcjB,GAExD,SAASf,EAAOr1B,GACf,OAAmB,IAAfA,EAAI/Q,OACA,OAED+Q,EAAI1M,IAAI,SAACkkC,GAAD,YAAA1rC,OAAe0rC,EAAIn8B,MAAnB,MAAAvP,OAA6B0rC,EAAIjF,KAAjC,SAA4CloC,KAAK,MAGjE,IAAMivB,EAAS,CAAC0d,EAAcC,EAAcC,EAAcC,GACpDM,EAAclgB,EAAG1B,QAAQ,EAAGyD,EAAOrqB,QACnCmY,EAAUmQ,EAAG9B,QAAH,CAAYzO,GAAZlb,OAAuBwtB,GAASme,GAAankC,IAAI+hC,GAEjE,MAAQ,CACP7tB,aAAY,yDAAA1b,OAA2DyrC,EAA3D,QACZ7vB,QAASA,EACTV,OAAQ,CACP2E,QAAS0pB,EAAOruB,GAChBI,QAASA,EACTsE,aAAc+rB,EACd3vB,OAAQ,CAAC,aAAc,CAACvb,MAAO,cAjKnC2pC,EAAA,CAAyClgB,IAA5BkgB,GACLtf,KAAO,CACbpoB,KAAM,uBACNupB,YAAa,uDAHFme,GAMLx+B,OAAS,CACf0+B,OAAQ,CACPzW,MAAO,2BACPl1B,KAAM,SACN+Y,QAAS,CAAC,aAAc,aAAc,WAEvC3U,MAAO,CACN8wB,MAAO,cACPl1B,KAAM,SACN+Y,QAAS,CAAC,SAAU,WAErBlY,OAAQ,CACPq0B,MAAO,cACPl1B,KAAM,SAnBIyrC,GAuBL7f,cAAgB,CACtB+f,OAAQ,aACRvnC,MAAO,SACPvD,QAAQ,GA8IH,IAAMosC,GAAb,SAAA7d,GAAA,SAAA6d,IAAA,OAAA5qC,OAAAC,EAAA,EAAAD,CAAA/C,KAAA2tC,GAAA5qC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAA4qC,GAAA5qB,MAAA/iB,KAAAsV,YAAA,OAAAvS,OAAAwqB,EAAA,EAAAxqB,CAAA4qC,EAAA7d,GAAA/sB,OAAAkoB,EAAA,EAAAloB,CAAA4qC,EAAA,EAAAhkC,IAAA,WAAA2G,MAAA,SAMU3C,GACR,IAAM6f,EAAKxtB,KAAKmsB,OACZyhB,EAASpgB,EAAG3B,OAAO,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAC5C,IAAK,IAAMpiB,KAAKmkC,EACG,IAAdA,EAAOnkC,KACA,IAANA,EAAgB,IAANA,EACbmkC,EAAOnkC,EAAE,GAAKvF,KAAKiS,IAAIy3B,EAAOnkC,EAAE,GAAI+jB,EAAG1B,QAAQ,EAAE,IAEjD8hB,EAAOnkC,EAAE,GAAKvF,KAAKiS,IAAIy3B,EAAOnkC,EAAE,GAAI+jB,EAAG1B,QAAQ,EAAE,KAIpD,IAAK,IAAMriB,KAAKmkC,EACG,IAAdA,EAAOnkC,GAAyB,IAAdmkC,EAAOnkC,KAC5BmkC,EAAOnkC,GAAKvF,KAAKiS,IAAIy3B,EAAOnkC,GAAI+jB,EAAG1B,QAAQ,EAAE,KAG/C,IAAM+hB,EAAgBD,EAAO,GAAKA,EAAO,GACnCE,EAAiBF,EAAO,GAAKA,EAAO,GACpC1E,EAAS1b,EAAG1B,QAAQ,EAAE,GACtBiiB,EAAavgB,EAAG1B,QAAQ,EAAEod,GAC5BS,EAAOV,GAA6B9lC,KAAKnD,KAAM,CAACkpC,OAAQA,EAAQI,MAAOyE,IAC3EpE,EAAK,GAAKmE,EACVnE,EAAKT,GAAU2E,EACf,IAEMnwB,EAAW,YAFP,IAAIksB,KAAWD,GAEQO,UAAY,KAEvC8D,EAAoBpF,GAAYkF,EAAgB,CAAChF,UAAU,EAAME,UAAU,IAC3EiF,EAAsBrF,GAAYiF,EAAe,CAAC/E,UAAU,EAAME,UAAU,IAE5EkF,EAAmB,GA/BTC,GAAA,EAAAC,GAAA,EAAAC,OAAA9mC,EAAA,IAgChB,QAAA+mC,EAAAC,EAAgBP,EAAhB99B,OAAAC,cAAAg+B,GAAAG,EAAAC,EAAAn+B,QAAAC,MAAA89B,GAAA,EAAmC,KAAxBvuC,EAAwB0uC,EAAAh+B,MAAAk+B,GAAA,EAAAC,GAAA,EAAAC,OAAAnnC,EAAA,IAClC,QAAAonC,EAAAC,EAAgBX,EAAhB/9B,OAAAC,cAAAq+B,GAAAG,EAAAC,EAAAx+B,QAAAC,MAAAm+B,GAAA,EAAqC,KAA1BzqC,EAA0B4qC,EAAAr+B,MACpC49B,EAAiB9jC,KAAjB,GAAArI,OAAyBnC,EAAzB,KAAAmC,OAA8BgC,KAFG,MAAA2M,GAAA+9B,GAAA,EAAAC,EAAAh+B,EAAA,YAAA89B,GAAA,MAAAI,EAAAj+B,QAAAi+B,EAAAj+B,SAAA,WAAA89B,EAAA,MAAAC,KAhCnB,MAAAh+B,GAAA09B,GAAA,EAAAC,EAAA39B,EAAA,YAAAy9B,GAAA,MAAAI,EAAA59B,QAAA49B,EAAA59B,SAAA,WAAAy9B,EAAA,MAAAC,GAwChB,IAFA,IAAMQ,EAAarhB,EAAGC,OAAO,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC9CqhB,EAAiB,GAChBA,EAAe5pC,OAAS2pC,GAAY,KAAAvgB,EAC3B,CAACd,EAAGC,OAAOugB,GAAoBxgB,EAAGC,OAAOwgB,IAClDhqC,GADIF,EADgCuqB,EAAA,GAEnC,GAAAvsB,OADAnC,EADmC0uB,EAAA,GAEnC,KAAAvsB,OAAWgC,IACbgrC,KAAErX,SAASoX,EAAgB7qC,IAC/B6qC,EAAe1kC,KAAKnG,GAKtB,IADA,IAAM+qC,EAAe,GACdA,EAAa9pC,OAAS,EAAE2pC,GAAY,KAAAxe,EAC5B,CAAC7C,EAAGC,OAAOwgB,GAAsBzgB,EAAGC,OAAOugB,IACnD/pC,GADGF,EADiCssB,EAAA,GAEnC,GAAAtuB,OADAnC,EADmCywB,EAAA,GAEnC,KAAAtuB,OAAWgC,IACP,OAALE,GAAgB8qC,KAAErX,SAASsX,EAAc/qC,IAC9C+qC,EAAa5kC,KAAKnG,GAOpB,IAHA,IAAMgrC,EAAiBH,EAAP/sC,OAA0BitC,GACpCvjB,EAAW,GACX9J,EAAektB,EAAa,GAAK,EAC9BplC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC3B,IAAM7J,EAAI4tB,EAAG0hB,UAAUD,GACnBF,KAAErX,SAASoX,EAAgBlvC,IAC9B+hB,EAAavX,KAAKX,GAEnBgiB,EAASrhB,KAAKxK,GAGf,MAAO,CACN6d,aAAc,qIACdC,SAAUA,EACVT,OAAQ,CACP2E,QAASssB,EAAiB3kC,IAAI,SAAAtF,GAAC,WAAAlC,OAASotC,KAASlrC,GAAGimC,UAArB,QAAoC5pC,KAAK,MACxE+c,QAAQta,OAAAgW,EAAA,EAAAhW,CAAK0oB,EAASliB,IAAI,SAAAtF,GAAC,0BAAAlC,OAAwBotC,KAASlrC,GAAGimC,UAApC,SAApBnoC,OAAA,CAAwE,kBAC/E4f,aAAcA,EACd9D,cAAe,cAEhBC,aAAc,CACbL,aAAc,qGApFlBkwB,EAAA,CAAyC1hB,IAA5B0hB,GACL9gB,KAAO,CACbpoB,KAAM,wBACNupB,YAAa,4DAwFR,IAAMohB,GAAb,SAAAjf,GAAA,SAAAif,IAAA,OAAArsC,OAAAC,EAAA,EAAAD,CAAA/C,KAAAovC,GAAArsC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAAqsC,GAAArsB,MAAA/iB,KAAAsV,YAAA,OAAAvS,OAAAwqB,EAAA,EAAAxqB,CAAAqsC,EAAAjf,GAAAptB,OAAAkoB,EAAA,EAAAloB,CAAAqsC,EAAA,EAAAzlC,IAAA,WAAA2G,MAAA,SAWU3C,GAMR,IALA,IAAM6f,EAAKxtB,KAAKmsB,OADA6C,EAGGxB,EAAGM,YAAY,EAAE,EAAE,GAHtBmB,EAAAlsB,OAAA6D,EAAA,EAAA7D,CAAAisB,EAAA,GAGXrpB,EAHWspB,EAAA,GAGPrpB,EAHOqpB,EAAA,GAGHnpB,EAHGmpB,EAAA,GAIZppB,EAAK2nB,EAAG1B,SAAS,GAAG,GAClBujB,EAAW7hB,EAAG1B,QAAQ,EAAE,GACrBriB,EAAI,EAAGA,EAAI4lC,EAAU5lC,IAAK,KAAA8mB,EACf,EAAE3qB,EAAID,GAAKG,EAAID,GAAjCF,EADiC4qB,EAAA,GAC7B3qB,EAD6B2qB,EAAA,GACzB1qB,EADyB0qB,EAAA,GACrBzqB,EADqByqB,EAAA,GAGnC,GAAI5qB,EAAK,GAAKE,EAAK,EAAG,KAAAypC,EACF,EAAE1pC,EAAID,GAAKG,EAAID,GAAjCF,EADoB2pC,EAAA,GAChB1pC,EADgB0pC,EAAA,GACZzpC,EADYypC,EAAA,GACRxpC,EADQwpC,EAAA,GA2BtB,IApCgB,IAAAC,EAaO/hB,EAAG9B,QAAQ,CAAC8B,EAAGC,OAAO,CAAC,IAAK,MAAOD,EAAGC,OAAO,CAAC,KAAM,SAb3D+hB,EAAAzsC,OAAA6D,EAAA,EAAA7D,CAAAwsC,EAAA,GAeVE,EAAQ,CAAC7vC,EAAGgG,EAAI7B,EAAG4B,EAAI3B,EAAG2B,EAAGC,EAAI8pC,KAfvBF,EAAA,GAeoCG,KAAMhqC,EAAIiqC,KAAMhqC,GAC9DiqC,EAAQ,CAACjwC,EAAGkG,EAAI/B,EAAG8B,EAAI7B,EAAG6B,EAAGC,EAAI4pC,KAhBvBF,EAAA,GAgBoCG,KAAM9pC,EAAI+pC,KAAM9pC,GAS9DgqC,EAAW,SAAAxjC,GAAC,SAAAvK,OAAOuK,EAAE1M,EAAT,MAAAmC,QAPD+5B,EAOyBxvB,EAAEvI,EAPtB+3B,EAAI,EAAIA,EAAI,IAAMA,GAOtB,OAAA/5B,QANA2tC,EAM4CpjC,EAAEojC,KALlD,OAATA,EAAsB,QACb,OAATA,EAAsB,QACnBA,GAGU,KAAA3tC,OAAuDuK,EAAEtI,GANzD,IAAA0rC,EADD5T,GASXpe,EAAQ,8CAAA3b,OAAiD+tC,EAASL,GAA1D,WAAA1tC,OAA0E+tC,EAASD,GAAnF,8BAIRjuB,EAAU,CACfmO,MAAO,GACPggB,MAAO,IAjCQ/qC,EAoCA,CAACyqC,EAAOI,GApCRG,EAAA,WAoCX,IAAM1jC,EAACtH,EAAAirC,GACL/T,EAAO,SAAA75B,GAAC,OAAKiK,EAAEtI,EAAI3B,EAAEiK,EAAE1M,GAAK0M,EAAEvI,GAC9BxC,EAAS,CAAC,EAAE,GAAI26B,GAAM,KAAM,CAAC,GAAIA,EAAK,MAE7B,MAAX5vB,EAAEojC,MAA2B,MAAXpjC,EAAEojC,KACvB9tB,EAAQmO,MAAM3lB,KAAK,CAAC,OAAQ,CAAC7I,SAAQuD,MAAO,YAE5C8c,EAAQmO,MAAM3lB,KAAK,CAAC,OAAQ,CAAC7I,YAiBZ,WAbH,MAAX+K,EAAEojC,MAA2B,OAAXpjC,EAAEojC,KACnBpjC,EAAEvI,EAAI,EACG,QAEA,QAGTuI,EAAEvI,EAAI,EACG,QAEA,SAIb6d,EAAQmuB,MAAM3lC,KAAS7I,EAAvBQ,OAAA,CAA+B,CAAC,GAAG,IAAK,EAAE,GAAI,OAE9C6f,EAAQmuB,MAAM3lC,KAAS7I,EAAvBQ,OAAA,CAA+B,CAAC,IAAI,IAAK,EAAE,IAAK,QA3BlDkuC,EAAA,EAAAA,EAAAjrC,EAAAE,OAAA+qC,IAAgCD,IA+BhC,IAAmBpwC,EAenB,MAAO,CACN6d,aAAc,oDACdC,SAAUA,EACVT,OAAQ,CACPc,OAzDiB,CAAC,kBAAmB,CAAC7K,KAAM,gBAAiB3Q,OAAQ,UA0DrEqf,SApBiBhiB,EAoBGgiB,EAnBrB,CACC,kBAAmB,CAAC1O,KAAM,EAAE,IAAI,GAAG,GAAG,IAAK3Q,OAAQ,MAAOuG,OAAQ,SAClE,CACC,OAAQ,CAAC3D,MAAO,OAAQ5D,OAAQ3B,EAAEmwC,MAAM,IAAK,CAC5C,OAAQ,CAAC5qC,MAAO,OAAQ5D,OAAQ3B,EAAEmwC,MAAM,IACxC,CAAC,OAAQ,CAACxuC,OAAQ,CAAC,EAAE,IAAI,IAAK,EAAE,GAAG,IAAK,CAAC,GAAG,IAAK,CAAC,IAAI,KAAMwP,KAAM,YALrE,CAOE,QAAS,CAACrM,MAAO,SAPnB3C,OAAAgB,OAAAgW,EAAA,EAAAhW,CAO+BnD,EAAEmwB,QAChC,CAAC,OAAQ,CAAC5qB,MAAO,OAAQ5D,OAAQ3B,EAAEmwC,MAAM,IAAKnwC,EAAEmwB,MAAM,IACtD,CAAC,OAAQ,CAAC5qB,MAAO,OAAQ5D,OAAQ3B,EAAEmwC,MAAM,IAAKnwC,EAAEmwB,MAAM,YAxF1Dqf,EAAA,CAA6CnjB,IAAhCmjB,GACLviB,KAAO,CACbpoB,KAAM,qBACNupB,YAAa,6DAHFohB,GAOL31B,QAAU,CAChBkO,cAAc,qLAiHNha,GACR,IAAM6f,EAAKxtB,KAAKmsB,OAEV9W,EAAS,EAAE,EAAE,GACb6B,EAAQ,EAAE,GAAG,IAMbg5B,GAJQ1iB,EAAG3B,OAAO,CAAC,MAAO,MAAO,SAAU,GAIpC,IAEPskB,EAAS,GACT1D,EAAK,CAACp3B,EAAO,IAAK,EAAG,EAAGA,EAAO,IAG/B/O,EAAO,CAACknB,EAAGoa,OAAQpa,EAAGoa,QAEtB96B,EAAU,CACf,CAAC,IAAK,IAAK,KACX,CAAC,IAAK,IAAK,KACX,CAAC,IAAK,IAAK,MAGNsjC,EAAc,CACnB,CAAC,QAAS,SACV,CAAC,QAAS,SACV,CAAC,QAAS,UAGP9pC,EAAK,IACRwG,EAAQ,GAAG,GAAK,IAChBsjC,EAAY,GAAG,GAAK,MAEpBtjC,EAAQ,GAAG,GAAK,IAChBsjC,EAAY,GAAG,GAAK,KAEjB9pC,EAAK,IACRwG,EAAQ,GAAG,GAAK,IAChBsjC,EAAY,GAAG,GAAK,MAEpBtjC,EAAQ,GAAG,GAAK,IAChBsjC,EAAY,GAAG,GAAK,KAGrB,IAAMnzB,EAAM,2CAAAlb,OACXmuC,EAAK,GAAGG,MADG,gCAAAtuC,OACiCquC,EAAY,GAAG,GADhD,OAAAruC,OACwDquC,EAAY,GAAG,GADvE,KAAAruC,OAC6E0qC,EAAG,GADhF,aAAA1qC,OAEXmuC,EAAK,GAAGG,MAFG,uBAAAtuC,OAEwB0qC,EAAG,GAF3B,KAAA1qC,OAEiCquC,EAAY,GAAG,GAFhD,OAAAruC,OAEwDquC,EAAY,GAAG,GAFvE,KAAAruC,OAE6E0qC,EAAG,GAFhF,aAAA1qC,OAGXmuC,EAAK,GAAGG,MAHG,uBAAAtuC,OAGwB0qC,EAAG,GAH3B,KAAA1qC,OAGiCquC,EAAY,GAAG,GAHhD,OAAAruC,OAGwDquC,EAAY,GAAG,GAHvE,yCAMNv3B,EAAQ,CACb,CAAC,OAAQ,CAACtX,OAAQ,CAAC4uC,EAAO,IAAKrjC,QAASA,EAAQ,GAAGxM,KAAK,MACxD,CAAC,OAAQ,CAACiB,OAAQ,CAAC4uC,EAAO,IAAKrjC,QAASA,EAAQ,GAAGxM,KAAK,MACxD,CAAC,OAAQ,CAACiB,OAAQ,CAAC4uC,EAAO,IAAKrjC,QAASA,EAAQ,GAAGxM,KAAK,OAYzD,MAAO,CACNmd,aAAc,uDACdE,QAXY,CACZ,kBAAmB,CAClBzK,KAAM,CAACmC,EAAO,GAAG,EAAG6B,EAAM,GAAI7B,EAAO,GAAG,EAAG6B,EAAM,IACjDrE,MAAM,EACNtQ,OAAQ,QAJGR,OAMT8W,GAMHoE,iBA3E0BgP,KACrBY,KAAO,CACbpoB,KAAM,2BACNupB,YAAa,+DC/kBf,IAAMxe,GAAY,SAAC5P,EAAGmE,GAAJ,MAAU,CAACnE,EAAE,GAAKmE,EAAE,GAAInE,EAAE,GAAImE,EAAE,KAC5CusC,GAAa,SAAC1wC,EAAGmE,GAAJ,MAAU,CAACnE,EAAE,GAAKmE,EAAE,GAAInE,EAAE,GAAKmE,EAAE,KAYvCwsC,GAAb,SAAAjjB,GAAA,SAAAijB,IAAA,OAAAxtC,OAAAC,EAAA,EAAAD,CAAA/C,KAAAuwC,GAAAxtC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAAwtC,GAAAxtB,MAAA/iB,KAAAsV,YAAA,OAAAvS,OAAAwqB,EAAA,EAAAxqB,CAAAwtC,EAAAjjB,GAAAvqB,OAAAkoB,EAAA,EAAAloB,CAAAwtC,EAAA,EAAA5mC,IAAA,WAAA2G,MAAA,SAkCU3C,GAER,IAAM6f,EAAKxtB,KAAKmsB,OACVqkB,EAAoBztC,OAAOyV,KAAK7K,EAAO6iC,mBAAmBrnC,OAAO,SAAA6X,GAAC,OAAIrT,EAAO6iC,kBAAkBxvB,KAC/F/D,EAASuQ,EAAGC,OAAO+iB,GAEnBC,EAASjjB,EAAG1B,QAAQ,GAAI,KAExB4kB,EAAWljB,EAAG1B,SAAS,GAAG,IAI1B6kB,EAAa,EAAC,EAAM,GACpBC,EAAK,CAFA,EAEM1sC,KAAKiE,IAAIsoC,EAASvsC,KAAKkE,GAAK,KAFlC,EAE6ClE,KAAKmE,IAAIooC,EAASvsC,KAAKkE,GAAK,MAC9EyoC,EAAOrhC,GAAUmhC,EAAYC,GAC7BE,EAAUR,GAAWK,EAAYC,GAEjCG,EAAa,EAAEJ,EAAW,GAAIA,EAAW,IACzCK,EAAO,CAACH,EAAK,GARR,EAQiBA,EAAK,IAC3BI,EAAU,CAACH,EAAQ,GATd,EASuBA,EAAQ,IAEpCxqC,EAAO,CAACqqC,EAAW,GAVd,EAUuBA,EAAW,IACvC9lC,EAAQ,CAACkmC,EAAW,GAXf,EAWwBA,EAAW,IAE9C,SAASG,EAAUC,EAAa9qC,GAAwB,IAIjD2V,EAJiD1G,UAAApQ,OAAA,QAAAqC,IAAA+N,UAAA,IAAAA,UAAA,GAI/B,CAACtN,OAAQ,KAAO,CAAC0J,UAAW,KAoBpD,OAjBCsK,EAAO3O,OADY,IAAhB8jC,EACaR,EAEAI,EAEA,MAAb1qC,GACH2V,EAAO1K,MAAQ,EACf0K,EAAOzK,IAAMk/B,GACU,MAAbpqC,GACV2V,EAAO1K,MAAQm/B,EACfz0B,EAAOzK,IAAM,KACU,MAAblL,GACV2V,EAAO1K,MAAQ,IACf0K,EAAOzK,IAAM,IAAMk/B,IAEnBz0B,EAAO1K,MAAQ,IAAMm/B,EACrBz0B,EAAOzK,IAAM,KAEPyK,EAqBR,IAlBA,IAAMo1B,EAAY,CACjBC,qBAAsB,CAAC,QAAS,SAChCC,qBAAsB,CAAC,QAAS,SAChCC,uBAAwB,CAAC,QAAS,SAClCC,uBAAwB,CAAC,QAAS,SAClCC,cAAiB,CAAC,QAAS,QAAS,QAAS,SAC7CC,OAAU,CACT,QAAS,QAAS,QAAS,QAC3B,QAAS,QAAS,QAAS,SAE5BC,SAAY,CAAC,QAAS,QAAS,QAAS,UAGnCt0B,EACLmzB,EAAkBtrC,OAAS,EAA3B,CACG+X,GADHlb,OAAAgB,OAAAgW,EAAA,EAAAhW,CACcyqB,EAAG3B,OAAO2kB,EAAkBrnC,OAAO,SAAA6X,GAAC,OAAIA,GAAK/D,IAAS,KADpEla,OAAAgW,EAAA,EAAAhW,CAEMytC,GAEAnzB,EAAQnY,OAAS,GAAG,CAC1B,IAAM8b,EAAIwM,EAAGC,OAAO1qB,OAAOyV,KAAK44B,IAC3B1Z,oBAASra,EAAS2D,IACtB3D,EAAQjT,KAAK4W,GAIf,IA5EgB4wB,EA4EKpkB,EAAGC,OAAO2jB,EAAUn0B,IACX5J,MAAM,KA7EpBw+B,EAAA9uC,OAAA6D,EAAA,EAAA7D,CAAA6uC,EAAA,GA6ETxH,EA7ESyH,EAAA,GA6ELxH,EA7EKwH,EAAA,GAsGhB,MAAO,CACNp0B,aAAc,iDACdE,QAtBe,CACf,kBACA,CACCzK,KAAM,EAAE,IAAI,EAAE,GAAG,GAAIpK,OAAQ,MAAOtG,MAAO,QAC3CwR,MAAM,EAAOE,MAAM,EAAOpP,MAAO,QAElC,CACC,YACA,CAACpE,KAAM,SAAUd,EAAG8wC,GACpB,CAAC,YAZgBQ,GAAW9G,EAAG,GAAIA,EAAG,GAAe,WAAXntB,IAa1C,CAAC,YAZgBi0B,GAAW7G,EAAG,GAAIA,EAAG,GAAe,WAAXptB,IAa1C,CAAC,OAAQ,CAAC1b,OAAQ,CAAC+E,EAAMuE,GAAQiC,QAAS,QAC1C,CAAC,OAAQ,CAACvL,OAAQ,CAACsvC,EAAMC,GAAUhkC,QAAS,QAC5C,CAAC,OAAQ,CAACvL,OAAQ,CAACyvC,EAAMC,GAAUnkC,QAAS,QAC5C,CAAC,QAAS,CAACO,OAAQsjC,IACnB,CAAC,QAAS,CAACtjC,OAAQ0jC,MAQpB9zB,OAAQ,CACP2E,QAAS3E,EACTI,QAASmQ,EAAG9B,QAAQrO,IAErBX,OAAQ,CAAC,CAAC,CAAC,eAAgB,WAAY,UAAW,iBA/IrD6zB,EAAA,CAAsCtkB,IAAzBskB,GACL1jB,KAAO,CACbpoB,KAAM,wBACNupB,YAAa,mCAHFuiB,GAML5iC,OAAS,CACf6iC,kBAAmB,CAClB5a,MAAO,qBACPl1B,KAAM,kBACN+Y,QAAS,CACR,qBACA,qBAEA,uBACA,gBACA,SACA,cAjBS82B,GAsBLjkB,cAAgB,CACtBkkB,kBAAmB,CAClBa,sBAAsB,EACtBC,sBAAsB,EACtBC,wBAAwB,EACxBC,wBAAwB,EACxBC,eAAiB,EACjBC,QAAU,EACVC,UAAY,QCvETG,cAEL,SAAAA,EAAYC,GAAShvC,OAAAC,EAAA,EAAAD,CAAA/C,KAAA8xC,GACpB9xC,KAAK+xC,OAASA,EACd/xC,KAAKJ,EAAIuvC,KAAS,GAClBnvC,KAAK+D,EAAIorC,KAAS,GAClBnvC,KAAK6D,EAAI,EACT7D,KAAKghB,EAAI,wDAGC3e,EAAEC,GAAKtC,KAAK6D,GAAKxB,EAAGrC,KAAKghB,GAAK1e,gCAClCD,EAAEC,GAAKtC,KAAK+D,EAAI/D,KAAK+D,EAAEiuC,IAAI3vC,GAAIrC,KAAKJ,EAAII,KAAKJ,EAAEoyC,IAAI1vC,sCAC/Cw5B,GAAK97B,KAAK6D,GAAKi4B,qCACfA,GAAK97B,KAAKghB,GAAK8a,iCACnBA,GAAK97B,KAAK+D,EAAI/D,KAAK+D,EAAEiuC,IAAIlW,kCACzBA,GAAK97B,KAAKJ,EAAII,KAAKJ,EAAEoyC,IAAIlW,kCAEzBA,GAAK97B,KAAKiyC,WAAWnW,kCACrBA,GAAK97B,KAAKkyC,WAAWpW,oCACnBA,GAAK97B,KAAKmyC,OAAOrW,oCACjBA,GAAK97B,KAAKoyC,OAAOtW,qCAChBA,GAAK97B,KAAKmyC,OAAOhD,KAAS,EAAErT,sCAC5BA,GAAK97B,KAAKoyC,OAAOjD,KAAS,EAAErT,uCACzB97B,KAAK+D,GAAK/D,KAAK+D,qCACd/D,KAAKJ,GAAKI,KAAKJ,6BACzBk8B,GAAK97B,KAAKkyC,WAAWpW,gCACnBA,GAAK97B,KAAKkyC,YAAYpW,+BAG3B,IAAMiW,EAAS,CACd3tC,IAAO,SAAA/B,GAAC,OAAI6B,KAAKE,IAAI/B,IACrBgwC,MAAS,SAAAhwC,GAAC,OAAIA,EAAEA,EAAEA,GAClBiwC,KAAQ,SAAAjwC,GAAC,OAAI6B,KAAKiS,IAAI,EAAE9T,IACxBkwC,KAAQ,SAAAlwC,GAAC,OAAI6B,KAAKquC,KAAKlwC,IACvBmwC,KAAQ,SAAAnwC,GAAC,OAAIA,EAAEA,GACfowC,KAAQ,SAAApwC,GAAC,OAAI6B,KAAKuuC,KAAKpwC,KACtBrC,KAAK+xC,QACAnyC,EAAcI,KAAdJ,EAAGmE,EAAW/D,KAAX+D,EAAGF,EAAQ7D,KAAR6D,EAAGmd,EAAKhhB,KAALghB,EAChB,OAAO,SAAA3e,GAAC,OAAIzC,EAAImyC,GAAQ1vC,EAAIwB,GAAGE,GAAKid,yCAIlC,MAAQ,CAACtgB,KAAM,SAAUiN,OAAQ,CAAC3N,KAAK+D,EAAE2uC,UAAW,EAAG,EAAG1yC,KAAKJ,EAAE8yC,UAAW1yC,KAAK6D,EAAG7D,KAAKghB,sCAI3F4oB,KAAW+I,SAAS,KADX,IAEFZ,EAAsB/xC,KAAtB+xC,OAAQnyC,EAAcI,KAAdJ,EAAGmE,EAAW/D,KAAX+D,EAAGF,EAAQ7D,KAAR6D,EAAGmd,EAAKhhB,KAALghB,EAClB2H,EAAQ,IAAIihB,KAAW,CAACuF,MAAUtrC,GAAG+uC,IAAI7uC,GAAIorC,KAAS,GAAGyD,IAAI7uC,KAAKmmC,UAClE2I,EAAa,IAAN7xB,EAAU,GAAKA,EAAI,EAAIA,EAAEiC,WAAa,IAAMjC,EAAEiC,WACrD6vB,EAAY,GAALlzC,EAAS,IAAW,GAANA,EAAU,IAAMA,EAAEqjB,WAC7C,MAAe,SAAX8uB,EACH,GAAAhwC,OAAU+wC,EAAV,WAAA/wC,OAAwB4mB,EAAxB,KAAA5mB,OAAiC8wC,GAEnB,SAAXd,EACM,GAALhuC,GAAgB,IAANF,EACb,GAAA9B,OAAU+wC,EAAV,OAAA/wC,OAAoB8wC,GAErB,GAAA9wC,OAAU+wC,EAAV,KAAA/wC,OAAkB4mB,EAAlB,OAAA5mB,OAA6B8wC,GAEf,UAAXd,EACM,GAALhuC,GAAgB,IAANF,EACb,GAAA9B,OAAU+wC,EAAV,OAAA/wC,OAAoB8wC,GAErB,GAAA9wC,OAAU+wC,EAAV,KAAA/wC,OAAkB4mB,EAAlB,OAAA5mB,OAA6B8wC,GAEf,QAAXd,EACH,GAAAhwC,OAAU+wC,EAAV,KAAA/wC,OAAkB4mB,EAAlB,KAAA5mB,OAA2B8wC,GAEb,SAAXd,EACCe,EACH,GAAA/wC,OAAU+wC,EAAV,eAAA/wC,OAA4B4mB,EAA5B,KAAA5mB,OAAqC8wC,GAEtC,GAAA9wC,OAAU+wC,EAAV,OAAA/wC,OAAoB4mB,EAApB,KAAA5mB,OAA6B8wC,GAEf,SAAXd,EACH,GAAAhwC,OAAU+wC,EAAV,cAAA/wC,OAA2B4mB,EAA3B,KAAA5mB,OAAoC8wC,QADrC,WAWWE,GAAb,SAAAzlB,GAAA,SAAAylB,IAAA,OAAAhwC,OAAAC,EAAA,EAAAD,CAAA/C,KAAA+yC,GAAAhwC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAAgwC,GAAAhwB,MAAA/iB,KAAAsV,YAAA,OAAAvS,OAAAwqB,EAAA,EAAAxqB,CAAAgwC,EAAAzlB,GAAAvqB,OAAAkoB,EAAA,EAAAloB,CAAAgwC,EAAA,EAAAppC,IAAA,WAAA2G,MAAA,SAgCU3C,GAeR,IAdA,IAAM6f,EAAKxtB,KAAKmsB,OAEV4lB,EAASvkB,EAAGC,OAAO1qB,OAAOyV,KAAK7K,EAAOqlC,SAAS7pC,OAAO,SAAA6X,GAAC,OAAIrT,EAAOqlC,QAAQhyB,MAE1EpR,EACM,UAAXmiC,EACE,CAAC,KAAM,OAAQ,OAAQ,QAAS,WAAYvkB,EAAGC,OAAO,CAAC,SAAU,cACjE,CAAC,KAAM,OAAQ,OAAQ,QAAS,WAAY,UAG3CyiB,EAAO,GACPr3B,EAAQ,GAENxO,EAAImjB,EAAG1B,QAAQ,EAAE,GACvB7mB,EAAA,EAAAA,EAAgB2K,EAAhB1K,OAAAD,IAA4B,CAAvB,IAAMkF,EAAKyF,EAAJ3K,GACLi3B,EAAO,IAAI4V,GAAiBC,GAExB,OAAN5nC,EAAY+xB,EAAK+W,OAAO5oC,GACb,SAANF,EAAc+xB,EAAK+W,QAAQ5oC,GACrB,SAANF,EAAc+xB,EAAKgX,QAAQ7oC,GACrB,UAANF,EAAe+xB,EAAKgX,OAAO7oC,GACrB,aAANF,EAAkB+xB,EAAKiX,SAAS9oC,GAC1B,aAANF,EAAkB+xB,EAAKiX,UAAU9oC,GAC3B,aAANF,EAAkB+xB,EAAKkX,SAAS/oC,GAC1B,WAANF,GAAgB+xB,EAAKmX,WAAWhpC,GAEzC,IAAMipC,EAAMpX,EAAKgO,UACdgG,EAAK9lC,KAAL,SAAArI,OAAmBuxC,EAAnB,OAEH,IAAMhnC,EAAI4vB,EAAK5vB,IACT/K,EAAS,GACX+P,OAAK,EAAEk3B,OAAI,EACR5oC,EAAcs8B,EAAdt8B,EAAGmE,EAAWm4B,EAAXn4B,EAAGF,EAAQq4B,EAARr4B,EAAQq4B,EAALlb,EAChB,GAAoB,SAAhBkb,EAAK6V,OAAmB,KAAArwC,EACXqC,EAAI,EAAI,EAAE,GAAIF,EAAEE,GAAK,CAACF,EAAEE,EAAG,IADhBrB,EAAAK,OAAA6D,EAAA,EAAA7D,CAAArB,EAAA,GAC1B4P,EAD0B5O,EAAA,GACnB8lC,EADmB9lC,EAAA,OAGH,SAAhBw5B,EAAK6V,OACThuC,EAAI,GACNuN,GAAiB,GAAVk3B,EAAc3kC,EAAEE,EAAE,MAGzBuN,EAAgBzN,EAAEE,EAAE,IAAbykC,EAAmB,GAC3BjnC,EAAO6I,KAAK,CAAC/H,EAAGwB,EAAEE,EAAGzB,EAAM,KAAF1C,MAIzB0R,GAAiB,GAAVk3B,EAAc,IAGvB,IADA,IAAInmC,EAAIiP,EACDjP,GAAKmmC,GAAM,CACjB,IAAMlmC,EAAIgK,EAAEjK,GACR6B,KAAKE,IAAI9B,GAAK,KACjBf,EAAO6I,KAAK,CAAC/H,EAAGqmC,GAAQrmC,EAAG,GAAIC,EAAGomC,GAAQpmC,EAAG,KAE9CD,GAAK,GAEc,SAAhB65B,EAAK6V,QAAqBhuC,EAAI,GACjCxC,EAAO6I,KAAK,CAAC/H,EAAGwB,EAAEE,EAAGzB,EAAM,KAAF1C,IAEvBiZ,EAAMzO,KAAK7I,GAGf,IAMMgyC,EAAc/lB,EAAGgmB,aAAa,EAAG,GACjCC,EAAgBjmB,EAAGgmB,aAAa,EAAG,GAInCE,EAAU,SAAAjqC,GAAC,MAAI,CACpB,YACA,CAACmT,UAAW,MAAO6C,WAAY,UAJhB,SAKPhW,GAAK,KAdMlI,EAePsX,EAAM46B,EAAchqC,IAfH,CAC7B,kBACA,CAAEyJ,KAAM,EAAE,GAAG,EAAE,EAAE,GAAI3Q,OAAQ,SAC7B,CAAC,OAAQ,CAAEhB,cAHQ,IAAAA,GAmCpB,MAAO,CACNkc,aAAc,yDACdE,QAnBgB,CAChB,QAAS,CAACrE,QAAQ,GADF,CAEf,QAFevX,OAAAgB,OAAAgW,EAAA,EAAAhW,CAEJ,CAAC,EAAE,EAAE,GAAGwG,IAAImqC,KAFR,CAGf,QAHe3xC,OAAAgB,OAAAgW,EAAA,EAAAhW,CAGJ,CAAC,EAAE,EAAE,GAAGwG,IAAImqC,MAiBxBz2B,OAAQ,CACPc,OAfY,CACb,QAAS,CAACzE,QAAQ,EAAM8G,MAAO,OAC/B,CAAC,OAAQ,CAACH,QAAQ,EAAM3G,QAAQ,GAAO,WAAY,UAFtCvX,OAAAgB,OAAAgW,EAAA,EAAAhW,CAGVwwC,EAAYhqC,IAAI,SAAAE,GAAC,MACnB,CAAC,OAAQ,CAAC6P,QAAQ,GAAO42B,EAAKzmC,GAAI,CAAC,aAAc,CAAClH,OAAQ,MAAOC,MAAO,aAYxEof,QAPa2xB,EAAYhqC,IAAI,SAAAE,GAAC,MAxBhB,SAwB4BgqC,EAAcE,QAAQlqC,MAAKnJ,KAAK,YAhI9EyyC,EAAA,CAA0C9mB,ICxF1C,SAAS2nB,GAATlyC,GAAoC,IAO9B6pC,EAPoBzP,EAAUp6B,EAAVo6B,EAAGx6B,EAAOI,EAAPJ,EAAG2C,EAAIvC,EAAJuC,EAC9B,OAAU,IAAN63B,EACK,IAELx6B,EAAI,EACCsyC,GAAgB,CAAC9X,GAAIA,EAAGx6B,GAAIA,KAInCiqC,EADQ,IAANzP,EACM,OAEH,GAAA/5B,OAAM+5B,EAAN,SAEI,IAAP73B,IACFsnC,EAAQ,IAAMA,GAEN,IAANjqC,EACKiqC,EAEP,UAAAxpC,OAAiBwpC,EAAjB,MAAAxpC,OAA2BT,EAA3B,MDqESyxC,GACLlmB,KAAO,CACbpoB,KAAM,wBACNupB,YAAa,+BAHF+kB,GAMLplC,OAAS,CACfqlC,QAAS,CACRpd,MAAO,2BACPl1B,KAAM,iBACN+Y,QAAS,CACR,CAACnJ,MAAO,OAAQslB,MAAO,eACvB,CAACtlB,MAAO,OAAQslB,MAAO,aACvB,CAACtlB,MAAO,MAAOslB,MAAO,kBACtB,CAACtlB,MAAO,QAASslB,MAAO,SACxB,CAACtlB,MAAO,OAAQslB,MAAO,eACvB,CAACtlB,MAAO,OAAQslB,MAAO,gBAhBdmd,GAqBLzmB,cAAgB,CACtB0mB,QAAS,CACRP,MAAM,EACND,MAAM,EACNpuC,KAAK,EACLkuC,MAAM,EACNC,MAAM,EACNF,OAAO,IC7FV,IAgBawB,GAAb,SAAAvmB,GAAA,SAAAumB,IAAA,OAAA9wC,OAAAC,EAAA,EAAAD,CAAA/C,KAAA6zC,GAAA9wC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAA8wC,GAAA9wB,MAAA/iB,KAAAsV,YAAA,OAAAvS,OAAAwqB,EAAA,EAAAxqB,CAAA8wC,EAAAvmB,GAAAvqB,OAAAkoB,EAAA,EAAAloB,CAAA8wC,EAAA,EAAAlqC,IAAA,WAAA2G,MAAA,SA4BW3C,GACP,IAAM6f,EAAKxtB,KAAKmsB,OACV2nB,EAAatmB,EAAGC,OAAO,CAC3BsmB,qBAAsB,CAAC,OACvBC,qBAAsB,CAAC,OACvBxH,OAAU,CAAC,MAAO,QAClB7+B,EAAOmmC,aACHG,EAAMzmB,EAAGC,OAAO,CACpBymB,IAAK,EAAC,GACNC,GAAI,EAAC,GACLhoB,OAAQ,EAAC,GAAM,IACfxe,EAAOymC,WACHC,EAAY7mB,EAAGC,OAAO,CAAC,EAAE,EAAE,IAE3BW,EAAQZ,EAAGC,OAAO,CAAC,EAAE,GAAG,GAAG,GAAG,KAC9B6mB,EAASp9B,GAAM,EAAG,EAAEkX,EAAM,GAAG,GAAMjlB,OAAO,SAAA2yB,GAAC,OAA2B,IAAvBK,KAAKwM,IAAIva,EAAO0N,KAEjEyP,EAAQ/d,EAAGC,OAAO6mB,GAMtB,IALID,IACF9I,GAAiB,EAARnd,EAAYimB,GAIN,KAAVjmB,GAA0B,KAAVmd,GACrBA,EAAQ/d,EAAGC,OAAO6mB,GACdD,IACF9I,GAAiB,EAARnd,EAAYimB,GAIzB,IAGI52B,EAAcC,EAAUT,EAHtBs3B,EAAUpF,KAAS8E,EAAM1I,GAASA,EAAOnd,GACzComB,EAAU,IAAMD,EAAQtwC,EAAIswC,EAAQzY,EAAIyY,EAAQjzC,EAatD,MAVmB,QAAfwyC,GACFr2B,EAAe,6CACfC,EAAW,CAAC,OAAD,kBAAA3b,OAA2B6xC,GAAgBW,KACtDt3B,EAAS,CAAC,OAAD,GAAAlb,OAAYyyC,EAAZ,eAET/2B,EAAe,6CACfC,EAAW,CAAC,OAAD,GAAA3b,OAAYyyC,EAAZ,aACXv3B,EAAS,CAAC,OAAD,GAAAlb,OAAY6xC,GAAgBW,MAGhC,CACL92B,eACAC,WACAT,cA3EN42B,EAAA,CAAkC5nB,IAArB4nB,GACJhnB,KAAO,CACZpoB,KAAM,gBACNupB,YAAa,uCAHJ6lB,GAMJlmC,OAAS,CACdmmC,WAAY,CACVle,MAAO,gBACPl1B,KAAM,SACN+Y,QAAS,CAAC,qBAAsB,qBAAsB,WAExD26B,SAAU,CACRxe,MAAO,iBACPl1B,KAAM,SACN+Y,QAAS,CAAC,MAAO,KAAM,YAfhBo6B,GAmBJvnB,cAAgB,CACrBwnB,WAAY,SACZM,SAAU,UArBDP,GAwBJp6B,QAAU,CACfkO,cAAc,GA0DX,IAAM8sB,GAAb,SAAAvmB,GAAA,SAAAumB,IAAA,OAAA1xC,OAAAC,EAAA,EAAAD,CAAA/C,KAAAy0C,GAAA1xC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAA0xC,GAAA1xB,MAAA/iB,KAAAsV,YAAA,OAAAvS,OAAAwqB,EAAA,EAAAxqB,CAAA0xC,EAAAvmB,GAAAnrB,OAAAkoB,EAAA,EAAAloB,CAAA0xC,EAAA,EAAA9qC,IAAA,WAAA2G,MAAA,SAgCW3C,GAAQ,IAAA+mC,EACTlnB,EAAKxtB,KAAKmsB,OAEVwoB,EAAY,CAEhBtsC,IAAK,CAAC,GAAI,EAAI,GAAI,GAAI,GACtBF,IAAK,CAAC,GAAI,GAAI,GAAI,EAAI,GACtBysC,IAAK,CAAC,GAAI,GAAI,EAAI,GAAI,IAExB,IAAK,IAAMtoC,KAAKqB,EAAOgnC,UACjBhnC,EAAOgnC,UAAUroC,KACT,QAANA,GAAqB,QAANA,EACjBqoC,EAAUtsC,IAAI,GAAG+B,KAAKkC,GACP,QAANA,GAAqB,QAANA,EACxBqoC,EAAUxsC,IAAI,GAAGiC,KAAKkC,GACP,QAANA,GAAqB,QAANA,GACxBqoC,EAAUC,IAAI,GAAGxqC,KAAKkC,IAK5B,IAAMuoC,EAAWrnB,EAAGC,OAAO1qB,OAAOyV,KAAK7K,EAAOknC,UAAU1rC,OAAO,SAAA6X,GAAC,OAAIrT,EAAOknC,SAAS7zB,MAC9E/D,EAAS,CAAC6sB,EAAG,IAAKD,EAAG,KAAMiL,EAAG,MAAOC,EAAG,MAAMF,GAC9CnF,GAAIgF,EAAA,GAAA3xC,OAAAoI,EAAA,EAAApI,CAAA2xC,GAAM,EAAI,OAAV3xC,OAAAoI,EAAA,EAAApI,CAAA2xC,EAAiB,EAAG,OAApBA,GACJ3sC,EAAQylB,EAAGC,OAAO,CAAC,QAAS,QAAS,QAAS,SAE9CunB,EAAcjyC,OAAOyV,KAAKm8B,GAAWxrC,OAAO,SAAAmD,GAAC,OAAIqoC,EAAUroC,GAAG,GAAGpH,OAAS,IAC1E+vC,EAAWznB,EAAG3B,OAAOmpB,EAAa,GAClCE,EAAQD,EAAS1rC,IAAI,SAAA+C,GAAC,OAAIkhB,EAAGC,OAAOknB,EAAUroC,GAAG,MAEjD6oC,EAAO,SAAA1rC,GAAC,WAAA1H,OAASmzC,EAAMzrC,GAAf,MAAA1H,OAAsBgG,EAAtB,KAAAhG,OAA+B2tC,EAAKiF,EAAUM,EAASxrC,IAAIorC,MAGzE,MAAO,CACLn3B,SAHY,QAAA3b,OAAWozC,EAAK,GAAhB,aAAApzC,OAA8BozC,EAAK,GAAnC,8BAAApzC,OAAkEgG,EAAlE,UAIZkV,OAAQ,CACN2E,QAAS3E,EACTI,QAAS,CAAC,IAAK,KAAM,MAAO,MAC5BsE,aAAckzB,EAAS,EACvBh3B,cAAe,mBAvEvB42B,EAAA,CAAsCxoB,IAAzBwoB,GACJ5nB,KAAO,CACZpoB,KAAM,oBACNupB,YAAa,0EAHJymB,GAMJ9mC,OAAS,CACdgnC,UAAW,CACT/e,MAAO,iBACPl1B,KAAM,kBACN00C,cAAe,EACfC,cAAe,EACf57B,QAAS,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,QAE/Co7B,SAAU,CACRjf,MAAO,WACPl1B,KAAM,kBACN00C,cAAe,EACfC,cAAe,EACf57B,QAAS,CAAC,EAAG,EAAG,EAAG,KAnBZg7B,GAuBJnoB,cAAgB,CACrBqoB,UAAW,CAACtsC,KAAK,EAAMF,KAAK,EAAMysC,KAAK,EAAMU,KAAK,EAAMC,KAAK,EAAMC,KAAK,GACxEX,SAAU,CAAC/K,GAAG,EAAMD,GAAG,EAAMiL,GAAG,EAAMC,GAAG,IAzBhCN,GA4BJh7B,QAAU,CACfkO,cAAc,GAgDX,IAAM8tB,GAAb,SAAAhnB,GAAA,SAAAgnB,IAAA,OAAA1yC,OAAAC,EAAA,EAAAD,CAAA/C,KAAAy1C,GAAA1yC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAA0yC,GAAA1yB,MAAA/iB,KAAAsV,YAAA,OAAAvS,OAAAwqB,EAAA,EAAAxqB,CAAA0yC,EAAAhnB,GAAA1rB,OAAAkoB,EAAA,EAAAloB,CAAA0yC,EAAA,EAAA9rC,IAAA,WAAA2G,MAAA,SAwBW3C,GACP,IAII+nC,EAJEloB,EAAKxtB,KAAKmsB,OACVwpB,EAAQnoB,EAAGC,OAAO1qB,OAAOyV,KAAK7K,EAAOgoC,OAAOxsC,OAAO,SAAA6X,GAAC,OAAIrT,EAAOgoC,MAAM30B,MAI7D,OAAV20B,EAEAD,EADEloB,EAAGoa,OACI,CAAC,IAAK,KAEN,CAAC,IAAK,KAIA,OAAV+N,EACPD,EAAS,CAAC,IAAK,KAGE,OAAVC,EAELD,EADEloB,EAAGoa,OACI,CAAC,IAAK,KAEN,CAAC,IAAK,KAIA,OAAV+N,IAGHD,EAFAloB,EAAGoa,OACDpa,EAAGoa,OACI,CAAC,IAAK,KAEN,CAAC,IAAK,KAGbpa,EAAGoa,OACI,CAAC,IAAK,KAEN,CAAC,IAAK,MAKrBn7B,QAAQC,IAAIipC,GACZlpC,QAAQC,IAAIgpC,GAGZ,IACI91C,EAAGmE,EAAGC,EAAG4xC,EAAGC,EAIhB,IADAD,EAAIpoB,EAAG1B,QAAQ,EAAG,IACX4L,oBAAS,CAAC,GAAI,GAAI,GAAI,GAAI,IAAKke,IACpCA,EAAIpoB,EAAG1B,QAAQ,EAAG,IAEpB+pB,EAAI,GAAKD,EACLpoB,EAAGoa,SAELiO,EAAI,IADJD,EAAIC,IAIN7xC,EAAIwpB,EAAG1B,QAAQ,EAAG,IAClBlsB,EAAIsE,KAAKmE,IAAIutC,EAAI1xC,KAAKkE,GAAK,KAAOpE,EAClCD,EAAIG,KAAKmE,IAAIwtC,EAAI3xC,KAAKkE,GAAK,KAAOpE,EAElCyI,QAAQC,IAAI,CAAC9M,IAAGmE,IAAGC,IAAG4xC,IAAGC,MAIX,OAAVF,GACF3xC,EAAIE,KAAK4xC,KAAK9xC,GACdpE,EAAIsE,KAAKmE,IAAIutC,EAAI1xC,KAAKkE,GAAK,KAAOpE,EAClCD,EAAIG,KAAKmE,IAAIwtC,EAAI3xC,KAAKkE,GAAK,KAAOpE,GACf,OAAV2xC,EACLje,oBAASge,EAAQ,MAEnB1xC,GADApE,EAAIsE,KAAK4xC,KAAKl2C,IACNsE,KAAKmE,IAAIutC,EAAI1xC,KAAKkE,GAAK,KAC/BrE,EAAInE,EAAIsE,KAAK0wC,IAAIgB,EAAI1xC,KAAKkE,GAAK,OAG/BpE,GADAD,EAAIG,KAAK4xC,KAAKl2C,IACNsE,KAAKmE,IAAIwtC,EAAI3xC,KAAKkE,GAAK,KAC/BxI,EAAImE,EAAIG,KAAK0wC,IAAIiB,EAAI3xC,KAAKkE,GAAK,MAEd,OAAVutC,GACT/1C,EAAIsE,KAAKgE,MAAMtI,GACfmE,EAAIG,KAAKgE,MAAMnE,GACfC,EAAIE,KAAKuuC,KAAK7yC,EAAEA,EAAImE,EAAEA,GAEtB8xC,EAAI,IADJD,EAAqB,IAAjB1xC,KAAK6xC,KAAKhyC,EAAEnE,GAAWsE,KAAKkE,KAEb,OAAVutC,IACLje,oBAASge,EAAQ,MACnB91C,EAAIsE,KAAK63B,MAAMn8B,GACfoE,EAAIE,KAAK4xC,KAAK9xC,GACdD,EAAIG,KAAKuuC,KAAKzuC,EAAEA,EAAIpE,EAAEA,IACb83B,oBAASge,EAAQ,OAC1B3xC,EAAIG,KAAK63B,MAAMh4B,GACfC,EAAIE,KAAK4xC,KAAK9xC,GACdpE,EAAIsE,KAAKuuC,KAAKzuC,EAAEA,EAAID,EAAEA,IAGxB8xC,EAAI,IADJD,EAAqB,IAAjB1xC,KAAK6xC,KAAKhyC,EAAEnE,GAAWsE,KAAKkE,KAqBlC,IAfA,IAAMylB,EAAS,CACbjuB,EAAG8oC,GAAQ9oC,EAAG,GACdmE,EAAG2kC,GAAQ3kC,EAAG,GACdC,EAAG0kC,GAAQ1kC,EAAG,GACd4xC,EAAGlN,GAAQkN,EAAG,GAAK,WACnBC,EAAGnN,GAAQmN,EAAG,GAAK,WACnBG,EAAGtN,GAhEK,GAgEM,GAAK,YAIfuN,EAAS,CAACD,EAAG,KAEfE,EAAY,GACZj5B,EAAS,GACTk5B,EAAe,GAtHJnxC,EAuHC,CAAC,IAAK,IAAK,IAAK,IAAK,KAArCC,EAAA,EAAAA,EAAAD,EAAAE,OAAAD,IAA2C,CAAtC,IAAM+b,EAAChc,EAAAC,GACNyyB,oBAASge,EAAQ10B,IACnBk1B,EAAU9rC,KAAV,GAAArI,OAAkBif,EAAlB,OAAAjf,OAAyB8rB,EAAO7M,KAChCi1B,EAAOj1B,GAAK6M,EAAO7M,KAEnBm1B,EAAa/rC,KAAK4W,GAClB/D,EAAO7S,KAAP,GAAArI,OAAeif,EAAf,OAAAjf,OAAsB8rB,EAAO7M,KAC7Bi1B,EAAOj1B,GAAKA,GAmChB,MAAO,CACLtD,SAhCe,eAAA3b,OACDm0C,EAAUvjC,MAAM,GAAG,GAAGpJ,IAAI,SAAAmnB,GAAC,MAAI,KAAOA,EAAI,OAAMpwB,KAAK,MADpD,WAAAyB,OACmEm0C,EAAUA,EAAUhxC,OAAO,GAD9F,OAEf,8GACA5E,KAAK,KA8BLqd,QA5Bc,CACd,kBAAmB,CAACzK,KAAM,UAAWgB,MAAM,EAAOF,MAAM,EAAOnB,MAAM,EAAOtQ,OAAQ,SAEpF,CAAC,OAAQ,CAAChB,OAAQ,sBAAuBuD,MAAO,uBAChD,CAAC,UAAW,CAACvD,OAAQ,cAAeuD,MAAO,WAAYgI,QAAS,QAEhE,CAAC,UAAW,CAACzK,EAAG,EAAGC,EAAG,IAAK0D,OAAQ,IAAKC,aAAc,OAAtD,KAAAlE,OAAmEk0C,EAAOr2C,EAA1E,OACA,CAAC,UAAW,CAACyC,EAAG,IAAKC,EAAG,EAAG0D,OAAQ,IAAKC,aAAc,OAAtD,KAAAlE,OAAmEk0C,EAAOlyC,EAA1E,OACA,CACE,UACA,CAAC1B,EAAG,EAAGC,EAAG,IAAK0D,OAAQ,KAAMC,aAAc,MAAOF,OAAQ,MAF5D,KAAAhE,OAGOk0C,EAAOjyC,EAHd,OAKA,CAAC,UAAW,CAAC3B,EAAG,EAAGC,EAAG,EAAG2D,aAAc,CAAC8B,MAAO,IAAKC,OAAqB,MAAbiuC,EAAOJ,EAAY,MAAO,UAAtF,KAAA9zC,OAAsGk0C,EAAOJ,EAA7G,OACA,CAAC,UAAW,CAACxzC,EAAG,EAAGC,EAAG,EAAG2D,aAAc,CAAC8B,MAAO,GAAIC,OAAqB,MAAbiuC,EAAOL,EAAY,MAAQ,SAAtF,KAAA7zC,OAAqGk0C,EAAOL,EAA5G,QAeA34B,OAAQ,CACN2E,QAAS3E,EAAO1T,IAAI,SAAA3J,GAAC,MAAI,KAAOA,EAAI,OAAMU,KAAK,MAC/Cyd,OAAM,CACJ,eAAgB,CAACqB,KAAK,IADlBrd,OAAAgB,OAAAgW,EAAA,EAAAhW,CAEDozC,EAAa5sC,IAhBtB,SAAsBtF,GACpB,OAAIyzB,oBAAS,CAAC,IAAK,IAAK,KAAMzzB,GAC5B,YAAAlC,OAAmBkC,EAAnB,SAEEyzB,oBAAS,CAAC,IAAK,KAAMzzB,GACvB,cAAAlC,OAAqBkC,EAArB,eADF,YApLNwxC,EAAA,CAAwCxpB,IAA3BwpB,GACJ5oB,KAAO,CACZpoB,KAAM,uBACNupB,YAAa,iEAHJynB,GAMJ9nC,OAAS,CACdgoC,MAAO,CACL/f,MAAO,SACPl1B,KAAM,kBACN00C,cAAe,EACf37B,QAAS,CACP,CAACnJ,MAAO,KAAMslB,MAAO,kBACrB,CAACtlB,MAAO,KAAMslB,MAAO,WACrB,CAACtlB,MAAO,KAAMslB,MAAO,oBACrB,CAACtlB,MAAO,KAAMslB,MAAO,gBAfhB6f,GAoBJnpB,cAAgB,CACrBqpB,MAAO,CAACS,IAAI,EAAMC,IAAI,EAAMC,IAAI,EAAMC,IAAM,IC9NhD,IAAMC,GAAW,SAAS/lC,EAAKgmC,EAAUC,GACvC,OAAOA,EAAQntC,IAAI,SAAAtF,GAAC,OAAIwyC,GAAUhmC,EAAIxM,MAAK3D,KAAK,KAGrCq2C,GAAb,oBAAAA,IAAA5zC,OAAAC,EAAA,EAAAD,CAAA/C,KAAA22C,GAAA,OAAA5zC,OAAAkoB,EAAA,EAAAloB,CAAA4zC,EAAA,EAAAhtC,IAAA,SAAA2G,MAAA,WAUI,MAAO,CAAC,OAAQ,KAAM,CACpB,0EACA,oEACA,2EACA,yEACA,6EACA,wEACA,yEACA,uEACA,wEACA,6EACA,qDACAhQ,KAAK,SAtBX,EAAAqJ,IAAA,WAAA2G,MAAA,WAGI,MAAO,CACL7L,KAAM,0BACNupB,YAAa,8BALnB2oB,EAAA,GA0BaC,GAAb,SAAAtpB,GAAA,SAAAspB,IAAA,OAAA7zC,OAAAC,EAAA,EAAAD,CAAA/C,KAAA42C,GAAA7zC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAA6zC,GAAA7zB,MAAA/iB,KAAAsV,YAAA,OAAAvS,OAAAwqB,EAAA,EAAAxqB,CAAA6zC,EAAAtpB,GAAAvqB,OAAAkoB,EAAA,EAAAloB,CAAA6zC,EAAA,EAAAjtC,IAAA,WAAA2G,MAAA,SAUW3C,GACP,IAAM6f,EAAKxtB,KAAKmsB,OACV0qB,EAAWC,GAAUtpB,EAAGC,OAAO1qB,OAAOyV,KAAKs+B,MAC3CJ,EAAUlpB,EAAGgmB,aAAa,EAAE,GAC5BiD,EAAWjpB,EAAGgmB,aAAa,EAAE,GAC7Bv2B,EAASu5B,GAASK,EAAS55B,OAAQw5B,EAAUC,GAC7CK,EAAQvpB,EAAG9B,QAAQ3oB,OAAOyV,KAAKq+B,EAASE,QAAQxtC,IAAI,SAAAvF,GAAC,MAAI,CAC7DwyC,GAASxyC,EAAGyyC,EAAUC,GAAUG,EAASE,MAAM/yC,MAG3CgzC,EAAM,CACV,QAAS,CAAC52B,MAAO,QADPre,OAAAgB,OAAAgW,EAAA,EAAAhW,CAGPg0C,EAAMxtC,IAAI,SAACvF,EAAGyF,GAAJ,MACX,CAAC,OAAQ,CAAC6P,QAAQ,GAAQtV,EAAE,GAAIA,EAAE,QAIhCizC,EAAQ,CAAC,aAAc,CAACz0C,MAAO,MAAOD,OAAQ,MAAO+W,OAAQ,WAC7D49B,EAAM,CAAC,aAAc,CAAC10C,MAAO,QAEd,CACnB,kBACAlC,KAAK,KAEP,MAAO,CACLmd,aAAc,iFACdC,SAAUs5B,EACV/5B,OAAQ,CACN2E,QAAS3E,EACTc,OAAQ,CACN,YAAa,CAACnB,UAAW,OACzBq6B,EAAOC,EAAKD,EAAOC,EAAKD,EAAOC,EAAKD,IAGxCv6B,OAAQ,CAAC,eAAgB,WAAY,UAAW,eA7CtDk6B,EAAA,CAA+B3qB,IAAlB2qB,GACJ/pB,KAAO,CACZpoB,KAAM,aACNupB,YAAa,kBAHJ4oB,GAMJn9B,QAAU,CACfkO,cAAc,GA4CX,IAAMwvB,GAAb,SAAAjpB,GAAA,SAAAipB,IAAA,OAAAp0C,OAAAC,EAAA,EAAAD,CAAA/C,KAAAm3C,GAAAp0C,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAAo0C,GAAAp0B,MAAA/iB,KAAAsV,YAAA,OAAAvS,OAAAwqB,EAAA,EAAAxqB,CAAAo0C,EAAAjpB,GAAAnrB,OAAAkoB,EAAA,EAAAloB,CAAAo0C,EAAA,EAAAxtC,IAAA,WAAA2G,MAAA,SAMW3C,GAMP,IALA,IAAM6f,EAAKxtB,KAAKmsB,OACV0qB,EAAWC,GAAUtpB,EAAGC,OAAO1qB,OAAOyV,KAAKs+B,MAE3CM,EAAW,GACXC,EAAU,GALDryC,EAMC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IANpBgrC,EAAA,WAMV,IACG0G,EAAUlpB,EAAGgmB,aAAa,EAAE,GAC5BiD,EAAWjpB,EAAGgmB,aAAa,EAAE,GAC7BuD,EAAQvpB,EAAG9B,QAAQ3oB,OAAOyV,KAAKq+B,EAASE,QAAQxtC,IAAI,SAAAvF,GAAC,MAAI,CAC7DwyC,GAASxyC,EAAGyyC,EAAUC,GACtBG,EAASE,MAAM/yC,MAEjBozC,EAAShtC,KAAK2sC,GACdM,EAAQjtC,KAAKosC,GAASK,EAAS55B,OAAQw5B,EAAUC,KARnDzxC,EAAA,EAAAA,EAAAD,EAAAE,OAAAD,IAAwC+qC,IAsBxC,IAXA,IAEkB+G,EAFZ95B,EAASo6B,EAAQ/2C,KAAK,MAUtBod,EAAW,CAAC,YAAa,CAACd,UAAW,QAC3CvX,EAAA,EAAAA,EAAgB+xC,EAAhBlyC,OAAAG,IAA0B,CAArB,IAAMgF,EAAK+sC,EAAJ/xC,GACVqY,EAAStT,KAAK,CAAC,aAAc,CAAC5H,MAAO,SACrCkb,EAAStT,MAXO2sC,EAWQ1sC,EAXH,CACrB,QAAS,CAACiP,QAAQ,EAAO8G,MAAO,OAChC,CAAC,OAAQ,CAACH,QAAQ,EAAM3G,OAAQ,UAAW,QAAS,SAF/BvX,OAAAgB,OAAAgW,EAAA,EAAAhW,CAGlBg0C,EAAMxtC,IAAI,SAACvF,EAAGyF,GAAJ,MACX,CAAC,OAAQ,CAAC2W,MAAO,MAAO9G,QAAQ,GAAQtV,EAAE,GAAIA,EAAE,UAUpD,MAAQ,CACNyZ,aAAc,CACZ,kEACA,8DACA,kCACAnd,KAAK,KACPod,WACAT,OAAQ,CACN2E,QAAS3E,EACTc,OAAQ,MAEVrB,OAAQ,CAAC,eAAgB,UAAW,WAAY,eAlDtDy6B,EAAA,CAAkClrB,IAArBkrB,GACJtqB,KAAO,CACZpoB,KAAM,iBACNupB,YAAa,0CCrFjB,ID2IA,IAAM8oB,GAAY,CAChBQ,OAAQ,CACNr6B,OAAU,OACV85B,MAAS,CACPQ,KAAQ,IACRC,OAAQ,IACRC,OAAQ,KACRC,KAAQ,IACRC,KAAQ,OAIZC,OAAQ,CACN36B,OAAU,OACV85B,MAAS,CACPc,KAAQ,IACRC,KAAQ,KACRC,KAAQ,IACRC,KAAQ,QAKZC,OAAQ,CACNh7B,OAAU,OACV85B,MAAS,CACPmB,KAAQ,KACRC,KAAQ,KACRV,OAAQ,KACRW,KAAQ,IACRC,KAAQ,QAIZC,OAAQ,CACNr7B,OAAU,OACV85B,MAAS,CACPwB,KAAQ,MACRC,KAAQ,KACRC,KAAQ,KACRC,KAAQ,OAIZC,OAAQ,CACN17B,OAAU,OACV85B,MAAS,CACP6B,OAAQ,MACRC,OAAQ,MACRC,KAAQ,OAIZC,OAAQ,CACN97B,OAAU,OACV85B,MAAS,CACPiC,KAAQ,KACRC,KAAQ,IACRC,KAAQ,MACRC,KAAQ,MAIZC,OAAQ,CACNn8B,OAAU,OACV85B,MAAS,CACPsC,KAAQ,MACRC,KAAQ,MACRJ,KAAQ,IACRK,KAAQ,QAIZC,OAAQ,CACNv8B,OAAU,OACV85B,MAAS,CACP0C,KAAQ,IACRC,KAAQ,KACRC,KAAQ,KACRC,KAAQ,KACRC,KAAQ,MAIZC,OAAQ,CACN78B,OAAU,OACV85B,MAAS,CACPoB,KAAQ,KACR4B,KAAQ,IACRC,KAAQ,IACRC,KAAQ,KACRC,KAAQ,OAIZC,OAAQ,CACNl9B,OAAU,OACV85B,MAAS,CACPqD,KAAQ,KACRC,KAAQ,KACRC,KAAQ,MACRC,KAAQ,KACRrB,KAAQ,OAIZsB,OAAQ,CACNv9B,OAAU,OACV85B,MAAS,CACP0D,KAAQ,MACRC,KAAQ,KACRC,KAAQ,QAIZC,QAAS,CACP39B,OAAU,OACV85B,MAAS,CACP8D,KAAQ,KACRC,KAAQ,KACRC,OAAQ,IACRC,KAAQ,KACRC,KAAQ,MAIZC,SAAU,CACRj+B,OAAU,OACV85B,MAAS,CACPoE,KAAQ,IACRC,KAAQ,IACRC,KAAQ,IACRC,KAAQ,IACRC,KAAQ,MAIZC,SAAU,CACRv+B,OAAU,OACV85B,MAAS,CACP0E,KAAQ,KACRC,KAAQ,IACRC,OAAQ,KACRC,KAAQ,KACRC,KAAQ,SC5RVC,GAAe,MACD,CAAC,mBAAoB,kBAAmB,eAAgB,YAA1EC,GAAA,EAAAA,GAAAC,GAAA92C,OAAA62C,KAAuF,CAAlF,IAAME,GAAGD,GAAAD,IACZ,IAAK,IAAM5uB,MAAK+uB,EAAcD,IAAM,CAElCH,GADUI,EAAcD,IAAK9uB,IAAGgvB,WAAW13C,MACzBy3C,EAAcD,IAAK9uB,KAKzC,WAAkB,CAAC,iBAAkB,aAArCivB,GAAA,EAAAA,GAAAC,GAAAn3C,OAAAk3C,KAAmD,CAA9C,IAAMH,GAAGI,GAAAD,IACZ,IAAK,IAAMjvB,MAAK+uB,EAAcD,IAAM,CAElCH,GADU,IAAMI,EAAcD,IAAK9uB,IAAGgvB,WAAW13C,MAC/By3C,EAAcD,IAAK9uB,KAK1B2uB,UCdTQ,GAAW,SAAC18C,EAAGmE,GACnB,IAAM6xC,EAAIh2C,EAAEowB,cAAe6lB,EAAI9xC,EAAEisB,cACjC,OAAI4lB,EAAIC,EAAU,EACdD,EAAIC,GAAW,EACZ,GAIH0G,eAKJ,SAAAA,EAAYt8C,GAAO,IAAA6C,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAA/C,KAAAu8C,IACjBz5C,EAAAC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAAw5C,GAAAp5C,KAAAnD,KAAMC,KAIRu8C,SAAW,SAAC/7C,GACVqC,EAAK7C,MAAMO,cAAcC,IANRqC,EASnB25C,eAAiB,WACf,IAAMC,EAAe55C,EAAK65C,mBAAmBn5C,QAAQ8M,MACrD,GAAqB,aAAjBosC,EAA6B,CAC/BjwC,QAAQC,IAAR,cAAA3K,OAA0B26C,IAC1B,IACE,IACMh/B,EAAW,IAAIk/B,EADP95C,EAAK7C,MAAM48C,cAAcH,IAEvC55C,EAAK05C,SAAS9+B,EAASkc,UACvB,MAAMvtB,GACNI,QAAQC,IAAI,UACZD,QAAQC,IAAIL,MAjBhBvJ,EAAK65C,mBAAqBx8C,IAAMmD,YAFfR,oFAwBE,IAAAshB,EAAApkB,KACnB,OAAO+C,OAAOyV,KAAKxY,KAAKC,MAAM48C,eAAepkC,KAAK6jC,IAAU/yC,IAAI,SAAAyX,GAC9D,IAAMm7B,EAAW/3B,EAAKnkB,MAAM48C,cAAc77B,GAAGm7B,WAC7C,OACEx8C,EAAAC,EAAAC,cAAA,UAAQ8J,IAAG,QAAA5H,OAAUif,GACnB6U,MAAOsmB,EAASnuB,YAChB1d,MAAO0Q,GACNA,sCAOP,OACErhB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACAnC,EAAAC,EAAAC,cAAA,UAAQwD,IAAKrD,KAAK28C,mBAAoB9iB,aAAa,YACjDl6B,EAAAC,EAAAC,cAAA,UAAQyQ,MAAM,WAAWwlB,UAAQ,GAAjC,iBACAn2B,EAAAC,EAAAC,cAAA,UAAQyQ,MAAM,WAAWwlB,UAAQ,GAAjC,WACC91B,KAAK88C,sBAERn9C,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAKy8C,gBAAtB,eAlDyBt8C,IAAMC,WAA/Bm8C,GACGx0B,aAAe,CACpB80B,cAAef,IA0DJ7qC,YAAQ,KAJI,SAAAsV,GAAQ,MAAK,CACtC/lB,cAAe,SAAA2sB,GAAC,OAAI5G,EAAS/lB,EAAc2sB,OAG9Blc,CAAkCsrC,IAJjD,wBC9DA,SAASQ,GAAOC,EAAMC,GAAK,IAAAptC,GAAA,EAAAC,GAAA,EAAAC,OAAAxI,EAAA,IACzB,QAAAyI,EAAAC,EAAgBlN,OAAAgW,EAAA,EAAAhW,CAAIi6C,EAAKv4C,KAAK4O,MAAM,MAApBtR,OAAAgB,OAAAgW,EAAA,EAAAhW,CAA8Bi6C,EAAKE,MAAQ,KAAK3zC,IAAI,SAAAY,GAAC,OAAIA,EAAE2B,gBAA3EoE,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAA2F,KAAhFxF,EAAgF2F,EAAAM,MACzF,GAAIonB,oBAASrtB,EAAG4yC,EAAIp1C,QAAQ,IAAK,KAC/B,OAAO,GAHc,MAAA6I,GAAAZ,GAAA,EAAAC,EAAAW,EAAA,YAAAb,GAAA,MAAAI,EAAAU,QAAAV,EAAAU,SAAA,WAAAb,EAAA,MAAAC,GAMzB,OAAO,EAmBT,SAASotC,GAASv9C,EAAGmE,GACnB,OAAInE,EAAEiB,GAAKkD,EAAElD,IAAY,EACrBjB,EAAEiB,GAAKkD,EAAElD,GAAW,EACjB,MAIHu8C,eAKJ,SAAAA,EAAYn9C,GAAO,IAAA6C,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAA/C,KAAAo9C,IACjBt6C,EAAAC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAAq6C,GAAAj6C,KAAAnD,KAAMC,KAQRo9C,aAAe,SAAA94B,GACb,IAAM6M,EAAQ7M,EAAIE,OAAOnU,MACnBgtC,EAAOlsB,EAAM/d,MAAM,KAAK9J,IAAI,SAAAyX,GAAC,OAAIA,EAAElV,gBACzChJ,EAAKY,SAAS,CAAE0tB,QAAOksB,OAAMzmB,UAAW,QAZvB/zB,EAoBnB25C,eAAiB,WACf,IAAMC,EAAe55C,EAAKM,MAAMyzB,UAChC,GAAI6lB,EAAc,CAChBjwC,QAAQC,IAAR,cAAA3K,OAA0B26C,IAC1B,IACE,IACMh/B,EAAW,IAAIk/B,EADP95C,EAAK7C,MAAM48C,cAAcH,IAEvC55C,EAAK7C,MAAMO,cAAckd,EAASkc,UAClC,MAAMvtB,GACNI,QAAQC,IAAI,UACZD,QAAQC,IAAIL,MA5BhBvJ,EAAKM,MAAQ,CACXguB,MAAO,GACPksB,KAAM,GACNzmB,UAAW,MALI/zB,4EAeNjC,GACX4L,QAAQC,IAAI7L,GACZb,KAAK0D,SAAS,CAACmzB,UAAWh2B,4CAkBZ,IAAAujB,EAAApkB,KAIRu9C,EAHSx6C,OAAOyV,KAAKxY,KAAKC,MAAM48C,eAAetzC,IAAI,SAAAyX,GAAC,OAAAje,OAAAgC,EAAA,EAAAhC,CAAA,CACxDlC,GAAImgB,GAAMoD,EAAKnkB,MAAM48C,cAAc77B,GAAGm7B,cACpC1jC,KAAK0kC,IACch0C,OAAO,SAAAgkB,GAAC,OAnEnC,SAAsB6vB,EAAMM,GAAM,IAAA3lC,GAAA,EAAAC,GAAA,EAAAC,OAAAtQ,EAAA,IAChC,QAAAuQ,EAAAC,EAAgBulC,EAAK/zC,IAAI,SAAAyX,GAAC,OAAIA,EAAElV,gBAAhCoE,OAAAC,cAAAwH,GAAAG,EAAAC,EAAA3H,QAAAC,MAAAsH,GAAA,EACE,IAAKolC,GAAOC,EADkCllC,EAAAxH,OAE5C,OAAO,EAHqB,MAAAI,GAAAkH,GAAA,EAAAC,EAAAnH,EAAA,YAAAiH,GAAA,MAAAI,EAAApH,QAAAoH,EAAApH,SAAA,WAAAiH,EAAA,MAAAC,GAOhC,OAAO,EA4D8B2lC,CAAarwB,EAAG/I,EAAKhhB,MAAMk6C,QAC9D,OAAIC,EAAQr4C,OAERvF,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO09C,gBAAkB,aACtCF,EAAQh0C,IAAI,SAAAlI,GAAC,OACZ1B,EAAAC,EAAAC,cAAA,OAAK8J,IAAKtI,EAAER,GACVf,UAAWC,KAAO29C,cAAgBr8C,EAAER,KAAOujB,EAAKhhB,MAAMyzB,UAAY,IAAM92B,KAAO49C,SAAW,IAC1F/5B,QAAS,kBAAMQ,EAAKw5B,aAAav8C,EAAER,KACnC2mB,cAAepD,EAAKq4B,eACpB5mB,MAAOx0B,EAAE2sB,aAER3sB,EAAER,OAOTlB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO09C,gBAAkB,aACvC99C,EAAAC,EAAAC,cAAA,QAAMC,UAAWC,KAAO89C,iBAAmB,IAAM99C,KAAO29C,cAAxD,gDAON,OACE/9C,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACEnC,EAAAC,EAAAC,cAAA,SAAOa,KAAK,SACV4jB,SAAUtkB,KAAKq9C,aACf/sC,MAAOtQ,KAAKoD,MAAMguB,MAClBuG,YAAY,WAEb33B,KAAK89C,gBACNn+C,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAKy8C,gBAAtB,eA9EqBt8C,IAAMC,WAA7Bg9C,GACGr1B,aAAe,CACpB80B,cAAekB,IAkFnB,IAKe9sC,eAAQ,KALI,SAAAsV,GAAQ,MAAK,CACtC/lB,cAAe,SAAA2sB,GAAC,OAAI5G,EAAS/lB,EAAc2sB,OAI9Blc,CAAkCmsC,WCpGjDY,IAAWC,cAAc,SACzBl7C,OAAOsG,OAAO20C,IAAWE,cAAczhC,QAAS,CAC9C0hC,aAAc,MACdC,YAAa,2BACbC,WAAY,uBACZ11C,QAAS,MACTpC,IAAK,OACLD,KAAM,OACNuE,MAAO,OACPi6B,OAAQ,SAEV/hC,OAAOsG,OAAO20C,IAAWE,cAAcI,QAAS,CAC9CD,WAAY,2BAIRE,eACJ,SAAAA,EAAYt+C,GAAO,IAAA6C,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAA/C,KAAAu+C,IACjBz7C,EAAAC,OAAAE,EAAA,EAAAF,CAAA/C,KAAA+C,OAAAG,EAAA,EAAAH,CAAAw7C,GAAAp7C,KAAAnD,KAAMC,KAMRu8C,SAAW,SAAC/7C,GACVqC,EAAK7C,MAAMO,cAAcC,IARRqC,EAWnBukB,WAAa,kBAAMvkB,EAAKY,SAAS,CAAC0jB,MAAO,UAXtBtkB,EAYnB07C,YAAc,kBAAM17C,EAAKY,SAAS,CAAC0jB,MAAO,aAZvBtkB,EAanB27C,mBAAqB,kBAAM37C,EAAKY,SAAS,CAAC0jB,MAAO,oBAb9BtkB,EAcnB47C,aAAe,kBAAM57C,EAAKY,SAAS,CAAC0jB,MAAO,cAZzCtkB,EAAKM,MAAQ,CACXgkB,MAAO,QAHQtkB,wEAgBV,IAAAshB,EAAApkB,KACD2+C,EAAW,CAAC71C,OAAQ,eAC1B,OACEnJ,EAAAC,EAAAC,cAAC++C,EAAD,KAEEj/C,EAAAC,EAAAC,cAACg/C,EAAD,KACEl/C,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS+R,OAAOmpB,OAAxB,eACAn/C,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAK0+C,cAAtB,YACA/+C,EAAAC,EAAAC,cAAA,QAAMiF,MAAO65C,GAAb,eAAyCh/C,EAAAC,EAAAC,cAACk/C,GAAD,MACzCp/C,EAAAC,EAAAC,cAAA,QAAMiF,MAAO65C,GAAb,oBAA8Ch/C,EAAAC,EAAAC,cAACm/C,GAAD,MAC9Cr/C,EAAAC,EAAAC,cAAA,QAAMiF,MAAO65C,GAAb,SAAmCh/C,EAAAC,EAAAC,cAACs6B,GAAD,MAAax6B,EAAAC,EAAAC,cAACo/C,GAAD,MAChDt/C,EAAAC,EAAAC,cAAA,QAAMiF,MAAO65C,GAAb,SAAmCh/C,EAAAC,EAAAC,cAACq/C,GAAD,CAAarlB,aAAa,QAC7Dl6B,EAAAC,EAAAC,cAAA,QAAMiF,MAAO65C,GAAb,kBAA4Ch/C,EAAAC,EAAAC,cAACs/C,GAAD,MAC5Cx/C,EAAAC,EAAAC,cAAA,OAAKiF,MAAO,CAACtC,MAAO,SACpB7C,EAAAC,EAAAC,cAACu/C,GAAD,OAEFz/C,EAAAC,EAAAC,cAAC5B,EAAD,KACE0B,EAAAC,EAAAC,cAACw/C,GAAD,OAEF1/C,EAAAC,EAAAC,cAACy/C,EAAD,KACE3/C,EAAAC,EAAAC,cAAC0/C,GAAD,MACA5/C,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAKy+C,oBAAtB,mBACA9+C,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAKC,MAAMu/C,YAA5B,eACA7/C,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAKC,MAAMw/C,UAA5B,aACA9/C,EAAAC,EAAAC,cAAA,OAAKiF,MAAO,CAACvC,OAAQ,SACrB5C,EAAAC,EAAAC,cAAC6/C,GAAD,MACA//C,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS,kBAAMQ,EAAK1gB,SAAS,CAAC0jB,MAAO,YAA7C,SACAznB,EAAAC,EAAAC,cAAC8/C,GAAD,mBAEA3/C,KAAKC,MAAM2/C,UAAYjgD,EAAAC,EAAAC,cAACggD,EAAD,KAAWlgD,EAAAC,EAAAC,cAAA,YAAOG,KAAKC,MAAM2/C,YAAgC,KAEtFjgD,EAAAC,EAAAC,cAAC+nB,EAAAhoB,EAAD,CACEioB,OAA6B,aAArB7nB,KAAKoD,MAAMgkB,MACnB9D,eAAgBtjB,KAAKqnB,WACrBviB,MAAO,CACL2X,QAAS,CACPlW,IAAK,IACLu+B,OAAQ,EACRx+B,KAAM,EACNuE,MAAO,EACPlC,QAAS,GAEX21C,QAAS,CACPD,WAAY,OACZre,gBAAiB,UAIrBrgC,EAAAC,EAAAC,cAACgkC,GAAD,CAAcvgB,eAAgBtjB,KAAKqnB,cAGrC1nB,EAAAC,EAAAC,cAAC+nB,EAAAhoB,EAAD,CACEioB,OAA6B,mBAArB7nB,KAAKoD,MAAMgkB,MACnB9D,eAAgBtjB,KAAKqnB,YAErB1nB,EAAAC,EAAAC,cAAA,UAAQ+jB,QAAS5jB,KAAKqnB,YAAtB,SACA1nB,EAAAC,EAAAC,cAACigD,GAAD,CAAgBx8B,eAAgBtjB,KAAKqnB,cAGvC1nB,EAAAC,EAAAC,cAAC+nB,EAAAhoB,EAAD,CACEioB,OAA6B,UAArB7nB,KAAKoD,MAAMgkB,MACnB9D,eAAgBtjB,KAAKqnB,WACrBviB,MAAO,CACL2X,QAAS,CACPja,MAAO,MACP+D,IAAK,MACLD,KAAM,MACNuE,MAAO,QACPi6B,OAAQ,QACRpgC,MAAO,QACPs7B,gBAAiB,2BAIrBrgC,EAAAC,EAAAC,cAACkgD,GAAD,CAAOz8B,eAAgBtjB,KAAKqnB,sBA3FblnB,IAAMC,WA+GhB6Q,eAXS,SAAA7N,GAAK,MAAK,CAChCw8C,UAAW,GACX7rB,aAAc3wB,EAAM4kB,OAAO+L,eAGF,SAAAxN,GAAQ,MAAK,CACtC/lB,cAAe,SAAA2sB,GAAC,OAAI5G,EAAS/lB,EAAc2sB,KAC3CqyB,WAAY,kBAAMj5B,EnG/Ha,CAC/B7lB,KAvByB,iBmGsJzB++C,SAAU,kBAAMl5B,EnGpIa,CAC7B7lB,KApBuB,iBmG0JVuQ,CAA6CstC,ICtJvCyB,oLACV,IACCC,EAAUjgD,KAAKC,MAAfggD,MACR,OACEtgD,EAAAC,EAAAC,cAACqgD,EAAA,EAAD,CAAUD,MAAOA,GACftgD,EAAAC,EAAAC,cAACsgD,GAAD,cAL0BhgD,IAAMC,qBCUlCggD,GAAe,CACnB3jC,QAAS,GACT+N,MAAO,GACPZ,QAAS,CACPmgB,EAAK,CAAC,aAAc,CAAC9nB,KAAM,KAC3B6nB,EAAK,CACH,aAAc,CACZ7nB,KAAM,CACJ,CAAC,aAAc,YACf,CAAC,KAAM,uBAKfoI,QAAS,GACTgI,WAAY,GACZkW,eAAgB,GA+EHne,GA5EE,WAAqC,IAA5BhnB,EAA4BkS,UAAApQ,OAAA,QAAAqC,IAAA+N,UAAA,GAAAA,UAAA,GAAtB8qC,GAAcC,EAAQ/qC,UAAApQ,OAAA,EAAAoQ,UAAA,QAAA/N,EACpD,OAAQ84C,EAAO3/C,MAEb,IrGrC2B,kBqGsCzB,OAAOqC,OAAAgC,EAAA,EAAAhC,CAAA,GACFK,EADL,CAEEqZ,QAAQ1Z,OAAAgC,EAAA,EAAAhC,CAAA,GACHK,EAAMqZ,QADJ1Z,OAAAoI,EAAA,EAAApI,CAAA,IAEHs9C,EAAO1/C,QAAQE,GAAKw/C,EAAO1/C,QAAQC,UAEvC4pB,MAAMznB,OAAAgW,EAAA,EAAAhW,CAAKK,EAAMonB,OAAZzoB,OAAA,EAAoBs+C,EAAO1/C,QAAQE,OAE5C,IrG7CqB,YqG8CnB,OAAOkC,OAAAgC,EAAA,EAAAhC,CAAA,GACFK,EADL,CAEEqZ,QAAS,GACT+N,MAAO,GACP6H,WAAY,KAEhB,IrGnDuB,cqGoDrB,OAAOtvB,OAAAgC,EAAA,EAAAhC,CAAA,GACFK,EADL,CAEEonB,MAAOpnB,EAAMonB,MAAM7X,MAAM,GAAG,GAC5B0f,WAAYjvB,EAAMivB,WAAWlpB,OAAO,SAAA2yB,GAAC,OAAIA,EAAI14B,EAAMonB,MAAMtlB,WAE7D,IrGrDyB,gBqGsDvB,IAAM0kB,EAAO7mB,OAAAgC,EAAA,EAAAhC,CAAA,GAAOK,EAAMwmB,SAC1B,OAAwB,KAAnBy2B,EAAO1/C,SAAqC,KAAnB0/C,EAAO1/C,SACnCipB,GAASy2B,EAAO1/C,SAAW,CAAC,aAAc,CAACshB,KAAM,KAC1Clf,OAAAgC,EAAA,EAAAhC,CAAA,GAAIK,EAAX,CAAkBwmB,qBAEXA,GAASy2B,EAAO1/C,SAChBoC,OAAAgC,EAAA,EAAAhC,CAAA,GAAIK,EAAX,CAAkBwmB,aAEtB,IrG/D0B,iBqGiExB,OAAO7mB,OAAAgC,EAAA,EAAAhC,CAAA,GACFK,EADL,CAEEonB,MAAOpnB,EAAMonB,MAAMrhB,OAAO,SAAAtI,GAAE,OAAIA,KAAQw/C,EAAO1/C,UAC/C0xB,WAAYjvB,EAAMivB,WAAWlpB,OAAO,SAAA2yB,GAAC,OAAIA,EAAI14B,EAAMonB,MAAMtlB,WAE7D,IrGvEyB,gBqGwEvB,OAAOnC,OAAAgC,EAAA,EAAAhC,CAAA,GACFK,EADL,CAEEwmB,QAAQ7mB,OAAAgC,EAAA,EAAAhC,CAAA,GAAKK,EAAMwmB,QAAZ7mB,OAAAoI,EAAA,EAAApI,CAAA,IAAuBs9C,EAAO1/C,QAAQE,GAAKw/C,EAAO1/C,QAAQ0Z,SAErE,IrG7E0B,iBqG8ExB,OAAOtX,OAAAgC,EAAA,EAAAhC,CAAA,GACFK,EADL,CAEEqZ,QAAQ1Z,OAAAgC,EAAA,EAAAhC,CAAA,GAAKK,EAAMqZ,QAAZ1Z,OAAAoI,EAAA,EAAApI,CAAA,IAAuBs9C,EAAO1/C,QAAQE,GAAKw/C,EAAO1/C,QAAQ0Z,SAKrE,IrGjFuC,8BqGkFrC,OAAOtX,OAAAgC,EAAA,EAAAhC,CAAA,GAAIK,EAAX,CAAkBmlC,eAAgB8X,EAAO1/C,UAK3C,IrGtFgC,uBqGuF9B,IAAK,IAAM8I,KAAKrG,EAAMonB,MACpB,GAAIpnB,EAAMonB,MAAM/gB,KAAO42C,EAAO1/C,QAC5B,OAAOoC,OAAAgC,EAAA,EAAAhC,CAAA,GAAIK,EAAX,CAAkBivB,WAAWtvB,OAAAgW,EAAA,EAAAhW,CAAKK,EAAMivB,YAAZtwB,OAAA,CAAwB0H,MAGxD,OAAOrG,EACT,IrG5F4B,mBqG6F1B,OAAOL,OAAAgC,EAAA,EAAAhC,CAAA,GAAIK,EAAX,CAAkBivB,WAAY,KAGhC,QACE,OAAOjvB,IChGPg9C,GAAe,CAEnB3qB,WAAY,GACZ1B,aAAc,SACdzB,eAAe,EACfrK,cAAc,EACduK,aAAc,EACdgU,QAAS,QACT/T,WAAW,GA2BEzK,GAxBA,WAAqC,IAA5B5kB,EAA4BkS,UAAApQ,OAAA,QAAAqC,IAAA+N,UAAA,GAAAA,UAAA,GAAtB8qC,GAAcC,EAAQ/qC,UAAApQ,OAAA,EAAAoQ,UAAA,QAAA/N,EAClD,OAAO84C,EAAO3/C,MACZ,InDvB0B,iBmDwBxB,OAAOqC,OAAAgC,EAAA,EAAAhC,CAAA,GACFK,EADL,CAEEqyB,WAAW1yB,OAAAgW,EAAA,EAAAhW,CAAKK,EAAMqyB,WAAWtsB,OAAO,SAAAmD,GAAC,OAAIA,IAAM+zC,EAAO1/C,WAAhDoB,OAAA,CAA0Ds+C,EAAO1/C,YAE/E,InD3B6B,oBmD4B3B,OAAOoC,OAAAgC,EAAA,EAAAhC,CAAA,GAAIK,EAAX,CAAkB6kB,aAAco4B,EAAO1/C,UACzC,InD5B6B,oBmD6B3B,OAAOoC,OAAAgC,EAAA,EAAAhC,CAAA,GAAIK,EAAX,CAAkB2wB,aAAcssB,EAAO1/C,UACzC,InD7B8B,qBmD8B5B,OAAOoC,OAAAgC,EAAA,EAAAhC,CAAA,GAAIK,EAAX,CAAkBkvB,cAAe+tB,EAAO1/C,UAC1C,InD9B4B,mBmD+B1B,OAAOoC,OAAAgC,EAAA,EAAAhC,CAAA,GAAIK,EAAX,CAAkBovB,aAAc6tB,EAAO1/C,UACzC,InD/BwB,emDgCtB,OAAOoC,OAAAgC,EAAA,EAAAhC,CAAA,GAAIK,EAAX,CAAkBojC,QAAS6Z,EAAO1/C,UACpC,InDhC0B,iBmDiCxB,OAAOoC,OAAAgC,EAAA,EAAAhC,CAAA,GAAIK,EAAX,CAAkBqvB,UAAW4tB,EAAO1/C,UACtC,QACE,OAAOyC,IC3BPg9C,GAAe,CACnB34B,SAAS,EACT3I,WAAY,gBACZC,SAAU,MACVka,eAAgB,cAChBF,aAAc,QACdC,eAAgB,SAChBzP,SAAU,SACVD,gBAAiB,WACjBI,WAAY,uBACZqE,MAAO,CACLuyB,eAAgB,UAChBC,eAAgB,QAChBC,UAAW,UACXC,UAAW,QACXtuB,YAAa,MACbqQ,eAAgB,UAChBC,eAAgB,UAEhBie,cAAe,QACfC,UAAW,UACXC,UAAW,QACXC,UAAW,UACXC,UAAW,QACXhe,cAAe,QAuDJh+B,GAnDD,WAAqC,IAA5B1B,EAA4BkS,UAAApQ,OAAA,QAAAqC,IAAA+N,UAAA,GAAAA,UAAA,GAAtB8qC,GAAcC,EAAQ/qC,UAAApQ,OAAA,EAAAoQ,UAAA,QAAA/N,EACjD,OAAO84C,EAAO3/C,MAEZ,IjD7CmC,0BiD+CjC,OADA0pB,SAASkJ,KAAKxuB,MAAMohC,YAAY,oBAAqBma,EAAO1/C,SACrDoC,OAAAgC,EAAA,EAAAhC,CAAA,GAAIK,EAAX,CAAkB0b,WAAYuhC,EAAO1/C,UACvC,IjD/CiC,wBiDiD/B,OADAypB,SAASkJ,KAAKxuB,MAAMohC,YAAY,kBAAmBma,EAAO1/C,SACnDoC,OAAAgC,EAAA,EAAAhC,CAAA,GAAIK,EAAX,CAAkB2b,SAAUshC,EAAO1/C,UACrC,IjDjD6B,oBiDmD3B,OADAypB,SAASkJ,KAAKxuB,MAAMohC,YAAY,uBAAwBma,EAAO1/C,SACxDoC,OAAAgC,EAAA,EAAAhC,CAAA,GAAIK,EAAX,CAAkB21B,aAAcsnB,EAAO1/C,UACzC,IjDnD+B,sBiDqD7B,OADAypB,SAASkJ,KAAKxuB,MAAMohC,YAAY,yBAA0Bma,EAAO1/C,SAC1DoC,OAAAgC,EAAA,EAAAhC,CAAA,GAAIK,EAAX,CAAkB41B,eAAgBqnB,EAAO1/C,UAC3C,IjDrD+B,sBiDgE7B,MAVuB,cAAnB0/C,EAAO1/C,QACTypB,SAASkJ,KAAKxuB,MAAMohC,YAAY,yBAA0B,0BAE9B,gBAAnBma,EAAO1/C,SAChBypB,SAASkJ,KAAKxuB,MAAMi8C,eAAe,0BACnC32B,SAASkJ,KAAKxuB,MAAMi8C,eAAe,4BAEnC32B,SAASkJ,KAAKxuB,MAAMohC,YAAY,yBAA0Bma,EAAO1/C,SAG5DoC,OAAAgC,EAAA,EAAAhC,CAAA,GAAIK,EAAX,CAAkB61B,eAAgBonB,EAAO1/C,UAG3C,IjDjEyB,gBiDkEvB,OAAOoC,OAAAgC,EAAA,EAAAhC,CAAA,GAAIK,EAAX,CAAkBmmB,SAAU82B,EAAO1/C,UACrC,IjDpE2B,kBiDqEzB,OAAOoC,OAAAgC,EAAA,EAAAhC,CAAA,GAAIK,EAAX,CAAkBsmB,WAAY22B,EAAO1/C,UAGvC,IjDtE6B,oBiDuE3B,IAAK,IAAMqgB,KAAKq/B,EAAO1/C,QACrBypB,SAASkJ,KAAKxuB,MAAMohC,YAApB,QAAAnkC,OAAwCi/C,qBAAUhgC,IAAMq/B,EAAO1/C,QAAQqgB,IAEzE,OAAOje,OAAAgC,EAAA,EAAAhC,CAAA,GAAIK,EAAX,CAAkB2qB,MAAMhrB,OAAAgC,EAAA,EAAAhC,CAAA,GAAKK,EAAM2qB,MAAUsyB,EAAO1/C,WACtD,IjD1E4B,mBiD2E1B,IAAK,IAAMqgB,KAAKo/B,GAAaryB,MAC3B3D,SAASkJ,KAAKxuB,MAAMohC,YAApB,QAAAnkC,OAAwCi/C,qBAAUhgC,IAAMo/B,GAAaryB,MAAM/M,IAE7E,OAAOje,OAAAgC,EAAA,EAAAhC,CAAA,GAAIK,EAAX,CAAkB2qB,MAAMhrB,OAAAgC,EAAA,EAAAhC,CAAA,GAAKq9C,GAAaryB,SAE5C,QACE,OAAO3qB,IChFE69C,GAJKC,aAAgB,CAClCl5B,UAAQoC,YAAUtlB,WCCpB,ICwCkCm7C,GDxC5BA,ICFN,SAAmBA,GACjBjpB,KAAQC,KAAK,CACXkqB,OAAQ,CACNhqB,SAAU,CACR,aACA,eACA,gBACA,YACA,aACA,mBACA5tB,IAAI,SAAA+C,GAAC,SAAAvK,OAAOuK,EAAP,kBACP80C,KAAM,CAAC,qCAUThqB,WAAY,SAAClD,GAAD,OAAY+rB,EAAM15B,SAAS2M,GAAcgB,KACrDmD,aAAc,SAACnD,GAAD,OAAYznB,QAAQuJ,MAAR,uBAAAjU,OAAqCmyB,OAqBjEmtB,CADgCpB,GDxCTqB,aAAYL,KCwBrC,SAAgBhB,GACd,IAAM78C,EAAQ68C,EAAMsB,WACpBn3B,SAASkJ,KAAKxuB,MAAMohC,YAAY,oBAAqB9iC,EAAM0B,MAAMga,YACjEsL,SAASkJ,KAAKxuB,MAAMohC,YAAY,kBAAmB9iC,EAAM0B,MAAMia,UAC/DqL,SAASkJ,KAAKxuB,MAAMohC,YAAY,uBAAwB9iC,EAAM0B,MAAMi0B,cACpE3O,SAASkJ,KAAKxuB,MAAMohC,YAAY,yBAA0B9iC,EAAM0B,MAAMk0B,gBACtE,IAAMC,EAAiB71B,EAAM0B,MAAMm0B,eAInC,IAAK,IAAMjY,IAHY,gBAAnBiY,GACF7O,SAASkJ,KAAKxuB,MAAMohC,YAAY,yBAA0BjN,GAE5C71B,EAAM0B,MAAMipB,MAC1B3D,SAASkJ,KAAKxuB,MAAMohC,YAApB,QAAAnkC,OAAwCi/C,qBAAUhgC,IAAM5d,EAAM0B,MAAMipB,MAAM/M,IAE5Ei/B,EAAM15B,SAAS6M,GAAWhwB,EAAM4kB,OAAOwe,UAKvCgb,CAAOvB,IAEAA,IDxCMwB,GAFH,kBAAM9hD,EAAAC,EAAAC,cAAC6hD,GAAD,CAAMzB,MAAOA,MEGzB0B,WAAcC,QACW,cAA7BjsB,OAAOksB,SAASC,UAEe,UAA7BnsB,OAAOksB,SAASC,UAEhBnsB,OAAOksB,SAASC,SAASC,MACvB,4DAsCN,SAASC,GAAgBC,EAAOj6B,GAC9Bpc,UAAUs2C,cACP/F,SAAS8F,GACTE,KAAK,SAAAC,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBl/C,QACfwI,UAAUs2C,cAAcO,YAI1Bh2C,QAAQC,IACN,gHAKEsb,GAAUA,EAAO06B,UACnB16B,EAAO06B,SAASN,KAMlB31C,QAAQC,IAAI,sCAGRsb,GAAUA,EAAO26B,WACnB36B,EAAO26B,UAAUP,UAO5BQ,MAAM,SAAA5sC,GACLvJ,QAAQuJ,MAAM,4CAA6CA,KCxFjE6sC,IAASnnC,OACP/b,EAAAC,EAAAC,cAACijD,GAAD,MACA14B,SAAS24B,eAAe,SDYnB,SAAkB/6B,GACvB,GAA6C,kBAAmBpc,UAAW,CAGzE,GADkB,IAAIo3C,IAAIC,kBAAwBttB,OAAOksB,SAASqB,MACpDC,SAAWxtB,OAAOksB,SAASsB,OAIvC,OAGFxtB,OAAOytB,iBAAiB,OAAQ,WAC9B,IAAMnB,EAAK,GAAAlgD,OAAMkhD,kBAAN,sBAEPtB,IAgEV,SAAiCM,EAAOj6B,GAEtCq7B,MAAMpB,GACHE,KAAK,SAAAmB,GAEJ,IAAMC,EAAcD,EAAS15B,QAAQ45B,IAAI,gBAEnB,MAApBF,EAASjc,QACO,MAAfkc,IAA8D,IAAvCA,EAAY5P,QAAQ,cAG5C/nC,UAAUs2C,cAAcuB,MAAMtB,KAAK,SAAAC,GACjCA,EAAasB,aAAavB,KAAK,WAC7BxsB,OAAOksB,SAAS8B,aAKpB3B,GAAgBC,EAAOj6B,KAG1B46B,MAAM,WACLn2C,QAAQC,IACN,mEArFAk3C,CAAwB3B,EAAOj6B,GAI/Bpc,UAAUs2C,cAAcuB,MAAMtB,KAAK,WACjC11C,QAAQC,IACN,+GAMJs1C,GAAgBC,EAAOj6B,MClC/Bk6B,uBCfAtkD,EAAAC,QAAA,CAAkB4/C,gBAAA,gCAAAC,aAAA,6BAAAC,SAAA,yBAAAE,iBAAA","file":"static/js/main.0f675b86.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Layout\":\"styles_Layout__2DVPj\",\"SettingTable\":\"styles_SettingTable__37d46\",\"StyleSetting\":\"styles_StyleSetting__3Xjp4\",\"Preview\":\"styles_Preview__x9yKo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Markdown\":\"styles_Markdown__3vZID\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"styles_Wrapper__2T_ZG\",\"Wrapper-TitleBar-StatusBar\":\"styles_Wrapper-TitleBar-StatusBar__2fuc-\",\"Wrapper-TopBar\":\"styles_Wrapper-TopBar__1I9IF\",\"Wrapper-TopBar-StatusBar\":\"styles_Wrapper-TopBar-StatusBar__1XAVu\",\"SideBar\":\"styles_SideBar__2l_xh\",\"StatusBar\":\"styles_StatusBar__3qYL6\",\"TitleBar\":\"styles_TitleBar__2YJPM\",\"TopBar\":\"styles_TopBar__38-39\",\"PreviewOuter\":\"styles_PreviewOuter__1RGls\",\"PreviewInner\":\"styles_PreviewInner__1bCVr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FO\":\"scratch_FO__1lJvG\",\"Div1\":\"scratch_Div1__YR1Dj\",\"Div2\":\"scratch_Div2__1zuCJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SettingPage\":\"styles_SettingPage__2u-qK\",\"Title\":\"styles_Title__3GTDx\",\"SettingSection\":\"styles_SettingSection__2TB1w\",\"LeftBar\":\"styles_LeftBar__3l1eD\",\"NavArea\":\"styles_NavArea__1p8EW\",\"NavButton\":\"styles_NavButton__2-ksX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GraphMakerBody\":\"styles_GraphMakerBody__11R3v\",\"GraphMakerInput\":\"styles_GraphMakerInput__3qT0d\",\"GraphMakerPreview\":\"styles_GraphMakerPreview__2opkG\",\"LatexExamples\":\"styles_LatexExamples__1VuMU\"};","import React from 'react'\nimport styles from './styles.module.css'\n\nclass Previewer extends React.Component {\n  render() {\n    \n\n    return (\n      <div className={styles.PreviewOuter}>\n        <div className={styles.PreviewInner}>\n          {this.props.children}\n        </div>\n      </div>\n    )\n\n  }\n}\n\nexport default Previewer","import React from 'react'\nimport styles from './styles.module.css'\n\nclass SideBar extends React.Component {\n  render() {\n    return (\n      <div className={styles.SideBar}>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport default SideBar","import React from 'react'\nimport styles from './styles.module.css'\n\nconst StatusBar = (props) => {\n  return (\n    <div className={styles.StatusBar}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default StatusBar","import React from 'react'\nimport styles from './styles.module.css'\n\nconst TopBar = (props) => {\n  return (\n    <div className={styles.TopBar}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default TopBar","import React from 'react'\nimport styles from './styles.module.css'\n\nclass Wrapper extends React.Component {\n  \n  render() {\n    let classNames = [styles.Wrapper, styles['Wrapper-TopBar']]\n\n    return (\n      <div className={classNames.join(' ')}>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport default Wrapper","export const ADD_TO_DOCUMENT = 'ADD_TO_DOCUMENT'\nexport const CLEAR_ALL = 'CLEAR_ALL'\nexport const REMOVE_LAST = 'REMOVE_LAST'\nexport const UPDATE_ELEMENT = 'UPDATE_ELEMENT'\nexport const UPDATE_HEADER = 'UPDATE_HEADER'\nexport const DELETE_ELEMENT = 'DELETE_ELEMENT'\nexport const DELETE_HEADER = 'DELETE_HEADER'\nexport const SET_DOCUMENT_STARTNUMBERING = 'SET_DOCUMENT_STARTNUMBERING'\nexport const ADD_PAGEBREAK_BEFORE = 'ADD_PAGEBREAK_BEFORE' // need to come up with a better way to do this\nexport const CLEAR_PAGEBREAKS = 'CLEAR_PAGEBREAKS'\n\nlet elemID = 0\n\n// Document content\n\nexport const addToDocument = (elem) => ({\n  type: ADD_TO_DOCUMENT,\n  payload: {element: elem, id: ++elemID}\n})\n\nexport const clearAll = () => ({\n  type: CLEAR_ALL\n})\n\nexport const removeLast = () => ({\n  type: REMOVE_LAST,\n})\n\nexport const updateElement = (idstr, data) => {\n  const [type, id] = idstr.split('.')\n  if (type === 'header') {\n    return { type: UPDATE_HEADER, payload: {id: +id, data} }\n  }\n  if (type === 'content') {\n    return { type: UPDATE_ELEMENT, payload: {id: +id, data} }\n  }\n}\n\nexport const deleteElement = (idstr) => {\n  const [type, id] = idstr.split('.')\n  if (type === 'header') {\n    return { type: DELETE_HEADER, payload: +id }\n  }\n  if (type === 'content') {\n    return { type: DELETE_ELEMENT, payload: +id }\n  }\n}\n\nexport const deleteHeader = (id) => ({\n  type: DELETE_HEADER,\n  payload: +id,\n})\n\n// Document settings\n\n\nexport const setDocumentStartNumbering = (n) => ({\n  type: SET_DOCUMENT_STARTNUMBERING,\n  payload: n\n})\n\n\n\n// Document view\n\nexport const addPageBreakBefore = (id) => ({\n  type: ADD_PAGEBREAK_BEFORE,\n  payload: id\n})\n\nexport const clearPageBreaks = () => ({\n  type: CLEAR_PAGEBREAKS\n})\n\n\n","import React from 'react'\n\n//const axisArrow = \"M 0,0 Q -4,4 -4,12 Q 0,4 6,0 Q 0,-4 -4,-12 Q -4,-4 0,0\"\n//const axisArrow = \"M 0,0 Q -2,-6 -1,-12 Q 2,-3 6,0 Q 2,3 -1,12 Q -2,6 0,0\"\nconst axisArrow = 'M 0,0 L 0,2 Q 5,3 10,2 L 10,0 Q 5,1 0,0'\n\nexport const MarkerSymbols = props => {\n  return (\n    <defs>\n      <symbol id=\"svgplot-symbol-point\" viewBox=\"-12 -12 24 24\" refX=\"0\" refY=\"0\">\n        <circle cx=\"0\" cy=\"0\" r=\"4\"/>\n      </symbol>\n      <symbol id=\"svgplot-symbol-hole\" viewBox=\"-12 -12 24 24\" refX=\"0\" refY=\"0\">\n        <circle cx=\"0\" cy=\"0\" r=\"5\"/>\n        <circle cx=\"0\" cy=\"0\" r=\"3\"className=\"svgplot-marker-hole\"/>\n      </symbol>\n      <symbol id=\"svgplot-symbol-arrow\" viewBox=\"-12 -12 24 24\" refX=\"0\" refY=\"0\">\n        <path d=\"M -2,0 L -5,-6 L 6,0 L -5,6 z\"/>\n      </symbol>\n      <symbol id=\"svgplot-symbol-axisarrow\" viewBox=\"-12 -12 24 24\" refX=\"0\" refY=\"0\">\n        <polygon points=\"0,1 .5,1 .5,-1 0,-1\"/>\n        <path d={axisArrow} transform=\"translate(2,0) rotate(120)\"/>\n        <path d={axisArrow} transform=\"scale(1,-1) translate(2,0) rotate(120)\"/>\n      </symbol>\n    </defs>\n  )\n}\n\n\nconst MarkerDefs = ({stylename, markerW, markerH}) => {\n\n  return (\n    <>\n      <marker id={`${stylename}-marker-arrowfwd`} viewBox=\"-6 -6 12 12\" refX=\"0\" refY=\"0\"\n        markerWidth={markerW} markerHeight={markerH}\n        markerUnits=\"strokeWidth\"\n        orient=\"auto\">\n        <use xlinkHref='#svgplot-symbol-arrow' \n          x='-6' y='-6' height='12' width='12' \n          className='svgplot-marker'/>\n      </marker>\n      <marker id={`${stylename}-marker-arrowrev`} viewBox=\"-6 -6 12 12\" refX=\"0\" refY=\"0\"\n        markerWidth={markerW} markerHeight={markerH}\n        markerUnits=\"strokeWidth\"\n        orient=\"auto\">\n        <use xlinkHref='#svgplot-symbol-arrow' \n          x='-6' y='-6' height='12' width='12' \n          transform='scale(-1,1)'\n          className='svgplot-marker'/>\n      </marker>\n      <marker id={`${stylename}-marker-axisarrow`} viewBox=\"-6 -6 12 12\" refX=\"0\" refY=\"0\"\n        markerWidth={markerW} markerHeight={markerH}\n        markerUnits=\"strokeWidth\"\n        orient=\"auto-start-reverse\">\n        <use xlinkHref='#svgplot-symbol-axisarrow' \n          x='-6' y='-6' height='12' width='12'\n          className='svgplot-marker'/>\n      </marker>\n      <marker id={`${stylename}-marker-point`} viewBox=\"-6 -6 12 12\" refX=\"0\" refY=\"0\"\n        markerWidth={markerW} markerHeight={markerH}\n        markerUnits=\"strokeWidth\"\n        orient=\"auto\">\n        <use xlinkHref='#svgplot-symbol-point' \n          x='-6' y='-6' height='12' width='12' \n          className='svgplot-marker'/>\n      </marker>\n      <marker id={`${stylename}-marker-hole`} viewBox=\"-5 -5 10 10\" refX=\"0\" refY=\"0\"\n        markerWidth={markerW} markerHeight={markerH}\n        markerUnits=\"strokeWidth\"\n        orient=\"auto\">\n        <use xlinkHref='#svgplot-symbol-hole' \n          x='-5' y='-5' height='10' width='10' \n          className='svgplot-marker'/>\n      </marker>\n    </>\n  )\n}\n\n\n\nconst FillPatternDefs = ({stylename, width, height}) => {\n  return (\n    <>\n      <pattern id={`${stylename}-fillpattern-dots1`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternUnits='userSpaceOnUse'>\n        <circle cx='3' cy='3' r='3' className='svgplot-fillpattern'/>\n        <circle cx='9' cy='9' r='3' className='svgplot-fillpattern'/>\n      </pattern>\n      <pattern id={`${stylename}-fillpattern-dots2`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternUnits='userSpaceOnUse'>\n        <circle cx='3' cy='9' r='3' className='svgplot-fillpattern'/>\n        <circle cx='9' cy='3' r='3' className='svgplot-fillpattern'/>\n      </pattern>\n      <pattern id={`${stylename}-fillpattern-diagonal1`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternUnits='userSpaceOnUse'>\n        <polygon points='0,0 6,0 12,6 12,12' className='svgplot-fillpattern' />\n        <polygon points='0,6 0,12 6,12' className='svgplot-fillpattern' />\n      </pattern>\n      <pattern id={`${stylename}-fillpattern-diagonal2`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternTransform='scale(-1,-1)'\n        patternUnits='userSpaceOnUse'>\n        <polygon points='0,0 6,0 12,6 12,12' className='svgplot-fillpattern'/>\n        <polygon points='0,6 0,12 6,12' className='svgplot-fillpattern'/>\n      </pattern>\n      <pattern id={`${stylename}-fillpattern-zigzag1`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternTransform='scale(-1,-1)'\n        patternUnits='userSpaceOnUse'>\n        <polygon points='0,0 0,6 3,12 6,12' className='svgplot-fillpattern'/>\n        <polygon points='12,0 12,6 9,12 6,12' className='svgplot-fillpattern'/>\n        <polygon points='3,0 6,6 9,0' className='svgplot-fillpattern'/>\n      </pattern>\n      <pattern id={`${stylename}-fillpattern-zigzag2`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternTransform='scale(-1,-1)'\n        patternUnits='userSpaceOnUse'>\n        <polygon points='0,6 0,12 3,12' className='svgplot-fillpattern'/>\n        <polygon points='12,6 12,12 9,12' className='svgplot-fillpattern'/>\n        <polygon points='0,0 6,12 12,0 9,0 6,6 3,0' className='svgplot-fillpattern'/>\n      </pattern>\n    </>\n  )\n}\n\nclass StyleDefs extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {}\n    this.ref = React.createRef()\n  }\n\n  checkSize() {\n    const CTM = this.ref.current.getCTM()\n    this.setState({CTM})\n  }\n\n  componentDidMount() {\n    this.checkSize()\n  }\n\n  render() {\n    const { stylename } = this.props\n\n    let w = 12, h = 12\n\n    if (this.state.CTM) {\n      const {a, b, c, d} = this.state.CTM\n      const s = Math.max(Math.abs(a)+Math.abs(c),Math.abs(b)+Math.abs(d))\n      w /= s\n      h /= s\n    }\n\n    return (\n      <defs ref={this.ref}>\n        <MarkerDefs stylename={stylename} markerW={w} markerH={h}/>\n        <FillPatternDefs stylename={stylename} width={w/3} height={h/3}/>\n      </defs>\n    )\n  }\n}\n\n\n\nlet styleCount = 0\n\nconst Style = props => {\n  const { name, color, ...styleprops } = props\n  const uniquename = `styleID-${++styleCount}`\n  \n  const style = {...styleprops}\n  for (const shape of ['arrowfwd', 'arrowrev', 'axisarrow', 'point', 'hole']) {\n    style[`--svgplot-marker-${shape}`] = `url(#${uniquename}-marker-${shape})`\n  }\n\n  for (const pattern of ['dots1', 'dots2', 'diagonal1', 'diagonal2', 'zigzag1', 'zigzag2']) {\n    style[`--svgplot-fillpattern-${pattern}`] = `url(#${uniquename}-fillpattern-${pattern})`\n  }\n\n  if (color) {\n    style['--svgplot-color'] = color\n  } else if (style.stroke) {\n    style['--svgplot-color'] = style.stroke\n  }\n\n  return (\n    <g className={name} style={style} vectorEffect=\"inherit\">\n      <StyleDefs stylename={uniquename}/>\n      {props.children}\n    </g>\n  )\n}\n\nexport default Style","import React from 'react'\n\nconst Overlay = props => {\n  const {\n    x1, y1, x2, y2, \n    x, y, \n    rotate,\n    anchor,\n    displacement,\n    cartesian=true,\n  } = props\n\n  const xPerc = 100 * (x - x1) / (x2 - x1)\n  const yPerc = cartesian ? 100 * (y2 - y) / (y2 - y1) : (y - y1) / (y2 - y1)\n\n  const outerstyle = {\n    position: 'absolute',\n    left: xPerc + '%',\n    top: yPerc + '%',\n    height: 0,\n    width: 0,\n    overflow: 'visible',\n  }\n\n  const innerstyle = {\n    position: 'absolute',\n    transformOrigin: 'center center',\n    transform: 'translate(-50%,-50%)',\n  }\n\n  if (anchor) {\n    const [transformOrigin, initialTransform] = {\n      E: ['right center', 'translate(-100%,-50%)'],\n      NE: ['right top', 'translate(-100%,0)'],\n      N: ['center top', 'translate(-50%,0)'],\n      NW: ['left top', 'translate(0,0)'],\n      W: ['left center', 'translate(0,-50%)'],\n      SW: ['left bottom', 'translate(0,-100%)'],\n      S: ['center bottom', 'translate(-50%,-100%)'],\n      SE: ['right bottom', 'translate(-100%,-100%)'],\n      center: ['center center', 'translate(-50%,-50%)'],\n    }[anchor]\n  \n    innerstyle.transformOrigin = transformOrigin\n    innerstyle.transform = initialTransform\n  }\n    \n  if (displacement !== undefined) {\n    if (displacement.constructor.name === 'Object') {\n      if (displacement.x !== undefined || displacement.y !== undefined) {\n        const dx = parseFloat(displacement.x) || 0\n        const dy = parseFloat(displacement.y) || 0\n        const ux = (displacement.x || '').replace(dx, '')\n        const uy = (displacement.y || '').replace(dy, '')\n        innerstyle.transform += ` translate(${dx}${ux},${-dy}${uy})`\n      } else if (displacement.angle && displacement.radius) {\n        const r = parseFloat(displacement.radius)\n        const u = displacement.radius.replace(r, '')\n        const a = parseFloat(displacement.angle)\n        const dx = Math.round(Math.cos(a * Math.PI / 180) * r) + u\n        const dy = Math.round(-Math.sin(a * Math.PI / 180) * r) + u\n        innerstyle.transform += ` translate(${dx},${dy})`\n      }\n    } else if (anchor) {\n      const angles = {\n        E: 0, NE: 45, N: 90, NW: 135, \n        W: 180, SW: 225, S: 270, SE: 315,\n      }\n      if (angles[anchor] !== undefined) {\n        const a = ((rotate ? +rotate : 0) + (+angles[anchor] + 180)) % 360\n        const r = parseFloat(displacement)\n        const u = displacement.replace(r, '')\n        const dx = Math.round(Math.cos(a * Math.PI / 180) * r) + u\n        const dy = Math.round(-Math.sin(a * Math.PI / 180) * r) + u\n        innerstyle.transform += ` translate(${dx},${dy})`\n      }\n    }\n  }\n\n  if (rotate) {\n    const rotateAngle = parseFloat(rotate)\n    innerstyle.transform += ` rotate(${-rotateAngle}deg)`\n  }\n  \n  return (\n    <div style={outerstyle}>\n      <div className=\"svgplot-label\" style={innerstyle}>\n        {props.children}\n      </div>\n    </div>\n  )\n}\n\nexport default Overlay","import React from 'react'\nimport { MarkerSymbols } from './Style'\nimport Overlay from './Overlay'\n\nfunction convertToPx(val, unit) {\n  if (unit === 'px') return val\n  if (unit === 'in') return (val * 96)\n  if (unit === 'mm') return convertToPx(val/25.4, 'in')\n  if (unit === 'cm') return convertToPx(val/2.54, 'in')\n  if (unit === 'pt') return convertToPx(val/72, 'in')\n  if (unit === 'pc') return convertToPx(val/12, 'pt')\n}\n\n\nclass Canvas extends React.Component {\n\n  render() {\n    const props = this.props\n    const {cartesian=true, x1, x2, y1, y2, width, height, preserveAspectRatio} = props\n\n\n    const wrapperprops = {\n      style: {\n        display: 'inline-block',\n        position: 'relative', \n        padding: 0,\n        width, height,\n      },\n    }\n\n    const svgprops = {  \n      width, height, \n      preserveAspectRatio, \n      style: {\n        position: 'relative', \n        margin: 0,\n        top: 0, left: 0,\n      }\n    }\n    const gprops = {ref: this.ref, vectorEffect: 'non-scaling-stroke'}\n\n    if (cartesian && cartesian !== \"false\") {\n      gprops.transform = 'scale(1,-1)'\n      svgprops.viewBox = `${x1} ${-y2} ${x2-x1} ${y2-y1}`\n    } else {\n      svgprops.viewBox = `${x1} ${y1} ${x2-x1} ${y2-y1}`\n    }\n  \n    const children = React.Children.toArray(props.children)\n    const svgchildren = children.filter(c => c.type !== Overlay)\n    const overlays = children.filter(c => c.type === Overlay)\n\n    return (\n      <div className='svgplot-canvas' {...wrapperprops}>\n        <svg {...svgprops}>\n          <MarkerSymbols />\n          <g {...gprops}>\n            {svgchildren}\n          </g>\n        </svg>\n        {overlays.length ? (\n          overlays.map((o, i) => (\n            <Overlay key={i} cartesian={cartesian} x1={x1} y1={y1} x2={x2} y2={y2} {...o.props} />\n          ))\n        ) : null}\n      </div>\n    )\n  }\n}\n\nexport default Canvas","import React from 'react'\n\nconst Grid = (props) => {\n  const {x1, y1, x2, y2, xStep=1, yStep=1} = props\n\n  const xvals = [], yvals = []\n  if (xStep) {\n    let t = x1\n    while (t <= x2) {\n      xvals.push(t)\n      t += xStep\n    }\n  }\n  if (yStep) {\n    let t = y1\n    while (t <= y2) {\n      yvals.push(t)\n      t += yStep\n    }\n  }\n\n  return (\n    <>\n      {xvals.map(v => (\n        <line key={`x-${v}`}\n          x1={v} x2={v} y1={y1} y2={y2} \n          vectorEffect='inherit'/>\n      ))}\n      {yvals.map(v => (\n        <line key={`y-${v}`}\n          y1={v} y2={v} x1={x1} x2={x2} \n          vectorEffect='inherit'/>\n      ))}\n    </>\n  )\n}\n\nexport default Grid","import React from 'react'\n\n\nexport default class Label extends React.Component {\n  constructor(props) {\n    super(props)\n    this.ref = React.createRef()\n    this.state = {}\n  }\n\n  componentDidMount() {\n    const CTM = this.ref.current.getCTM()\n    this.setState({ctm: CTM})\n  }\n\n  render() {\n    let {x, y, anchor=\"W\", distance, rotate} = this.props\n\n    const anglemap = {\n      E: 0,\n      NE: 45,\n      N: 90,\n      NW: 135,\n      W: 180,\n      SW: 225,\n      S: 270,\n      SE: 315,\n      left: 135,\n      right: 0,\n    }\n\n    const anchorAngle = anglemap[anchor] ? anglemap[anchor] : +anchor % 360\n\n    const tb = anchorAngle === 0 || anchorAngle === 180 ? 'center' : anchorAngle < 180 ? 'top' : 'bottom'\n    const lr = anchorAngle < 90 ? 'right' : anchorAngle <= 270 ? 'left' : 'right'  \n\n    const fobj = {\n      x: 0, y: 0,  // Chrome rounds foreignObject coordinates to integers, so it works better to apply them later \n      width: '100%', height: '100%',\n      style: {overflow: 'visible'}, \n    }\n    const div1 = {\n      style: {\n        width: '0', height: '0',\n        margin: '0',\n        padding: '0',\n        transformOrigin: lr + ' center',\n        position: 'relative',\n      }\n    }\n    const div2 = {\n      style: {\n        //border: '1px solid orange',\n        position: 'absolute',\n        [lr]: -Math.abs(Math.sin(anchorAngle * Math.PI / 180) * 0.5) + 'em',\n        [tb === 'center' ? 'top' : tb]: -Math.abs(Math.cos(anchorAngle * Math.PI / 180) * 0.7) + 'em',\n        textAlign: lr,\n        padding: 0,\n        transformOrigin: lr + ' center',\n      }\n    }\n\n    if (distance) {\n      const d = parseFloat(distance)\n      const units = distance.replace(d, '') \n      const padX = Math.abs(Math.cos(anchorAngle * Math.PI / 180) * d) + units\n      const padY = Math.abs(Math.sin(anchorAngle * Math.PI / 180) * d) + units\n\n      if (tb === 'top') {\n        div2.style.marginTop = padY\n      } else if (tb === 'bottom') {\n        div2.style.marginBottom = padY\n      }\n      if (lr === 'left') {\n        div2.style.marginLeft = padX\n      } else if (lr === 'right') {\n        div2.style.marginRight = padX\n      }\n    }\n\n\n    \n    if (this.state.ctm) {\n      const useragent = navigator.userAgent.toLowerCase()\n      if ((/safari/).test(useragent) && !(/firefox/).test(useragent) && !(/chrome/).test(useragent)) {\n        // Safari removes SVG CTM upon applying a transformation to foreignObject\n        // This fixes it (and also allows labels to overflow the SVG bounds)\n        const ctm = this.state.ctm\n        const inv = this.state.ctm.inverse()\n        const m1 = ctm.multiply(inv)\n        m1.e = -x\n        m1.f = -y\n        inv.e = x\n        inv.f = y\n        const m2 = m1.multiply(ctm).multiply(inv)\n        const {a, b, c, d, e, f} = m2\n        const resultmatrix = [a,b,c,d,e,f]\n        div1.style.transform = `matrix(${resultmatrix.join(',')})`\n\n      } else {\n        const {a, b, c, d} = this.state.ctm.inverse()\n        div1.style.transform = `matrix(${[a,b,c,d,x,y].join(',')})`\n      }\n\n      if (rotate) {\n        const rotateAngle = rotate === 'auto' ? (lr === 'right' ? anchorAngle : (180 + anchorAngle) % 360) : rotate\n        div2.style.transform = `rotate(${-rotateAngle}deg)`\n      }\n    }\n    \n    console.log({div1, div2})\n    \n    return (\n      <foreignObject {...fobj} ref={this.ref} xmlns=\"http://www.w3.org/1999/xhtml\">\n        <div {...div1}>\n          <div className=\"svgplot-label\" {...div2} anchor={anchor}>\n            {this.props.children}\n          </div>\n        </div>\n\n      </foreignObject>\n    )\n  }\n}","import React from 'react'\n\n\nexport const Circle = props => {\n  return <circle vectorEffect=\"inherit\" {...props}/>\n}\n\nexport const Ellipse = props => {\n  return <ellipse vectorEffect=\"inherit\" {...props}/>\n}\n\nexport const Rect = props => {\n  return <rect vectorEffect=\"inherit\" {...updatePropsWithMarkers(props)}/>\n}\n\nconst markerProps = s => {\n  const positions = ['Start', 'Mid', 'End']\n  const markers = {}\n  if (s && s.length === 3) {\n    for (let i=0; i<3; i++) {\n      const c = s[i]\n      if (c === '>') markers[`marker${positions[i]}`] = 'arrowfwd'\n      else if (c === '<') markers[`marker${positions[i]}`]  = 'arrowrev'\n      else if (c === '.') markers[`marker${positions[i]}`]  = 'point'\n      else if (c === 'o') markers[`marker${positions[i]}`]  = 'hole'\n    }\n  }\n  return markers\n}\n\n\nfunction updatePropsWithMarkers(props) {\n  if (props.markers) {\n    return {...props, ...markerProps(props.markers)}\n  }\n  return props\n}\n\nexport const Line = props => {\n  return <line vectorEffect=\"inherit\" {...updatePropsWithMarkers(props)}/>\n}\n\nexport const Polygon = props => {\n  return <polygon vectorEffect=\"inherit\" {...updatePropsWithMarkers(props)}/>\n}\n\nexport const Polyline = props => {\n  return <polyline vectorEffect=\"inherit\" {...updatePropsWithMarkers(props)}/>\n}\n\nexport const Path = props => {\n  return (\n    <path vectorEffect=\"inherit\" {...updatePropsWithMarkers(props)}/>\n  )\n}\n\nexport const Point = props => {\n  const {x, y, coords, marker=\".\"} = props\n  const pathprops = {}\n  if (coords) {\n    pathprops.d = `M${coords[0]},${coords[1]}Z`\n  } else {\n    pathprops.d = `M${x},${y}Z`\n  }\n  if (marker) {\n    pathprops.markers = `--${marker}`\n  }\n  return <Path {...pathprops} />\n}","import React from 'react'\n\nconst translate = params => {\n  let x, y\n  if (Array.isArray(params)) {\n    [x=0, y=0] = params\n  } else {\n    ({x=0, y=0} = params)\n  }\n  return `translate(${x},${y})`\n}\n\nconst scale = params => {\n  let x, y\n  if (Array.isArray(params)) {\n    [x=1, y=1] = params\n  } else {\n    ({x=1, y=1} = params)\n  }\n  return `scale(${x},${y})`\n}\n\nconst matrix = params => {\n  let a, b, c, d, e, f\n  if (Array.isArray(params)) {\n    [a=1, b=0, c=0, d=1, e=0, f=0] = params\n  } else {\n    ({a=1, b=0, c=0, d=1, e=0, f=0} = params)\n  }\n  return `matrix(${a},${b},${c},${d},${e},${f})`\n}\n\nconst rotate = params => {\n  let a, x, y\n  if (Array.isArray(params)) {\n    [a, x, y] = params\n  } else {\n    ({a, x, y} = params)\n  }\n  if (x !== undefined && y !== undefined) {\n    return `rotate(${a},${x},$${y})`\n  }\n  return `rotate(${a})`\n}\n\nconst makeTransform = props => {\n  const {type, params} = props\n  switch(type) {\n    case 'matrix': return matrix(params)\n    case 'rotate': return rotate(params)\n    case 'scale': return scale(params)\n    case 'translate': return translate(params)\n    case 'invertXY': return matrix([0,1,1,0])\n    default: return 'none'\n  }\n}\n\n\nconst Transform = props => {\n  const { type, list, children, ...params } = props\n\n  const layerprops = { vectorEffect: 'inherit' }\n\n  if (list) {\n    const transforms = []\n    for (const t of list) {\n      const [ty, pa={}] = typeof t === 'string' ? [t] : t\n      const str = makeTransform({type: ty, params: pa})\n      if (str !== 'none') {\n        transforms.push(str)\n      }\n    }\n    if (transforms.length > 0) {\n      layerprops.transform = transforms.join(' ')\n    }\n  } else {\n    const str = makeTransform({type, params})\n    if (str && str !== 'none') {\n      layerprops.transform = str\n    }\n  }\n\n  return (\n    <g {...layerprops}>\n      {props.children}\n    </g>\n  ) \n}\n\nexport default Transform","export function makesrange(min, max, step=1, anchor=0) {\n\tif (anchor === undefined) {\n\t\tanchor = min;\n\t} else if (anchor < min) {\n\t\tanchor = min;\n\t} else if (anchor > max) {\n\t\tanchor = max;\n\t}\n\tlet r = [anchor,];\n\tlet v = anchor - step;\n\twhile (v >= min) {\n\t\t\tr.splice(0, 0, v);\n\t\t\tv -= step;\n\t}\n\tv = anchor + step;\n\twhile (v <= max) {\n\t\t\tr.push(v);\n\t\t\tv += step;\n\t}\n\treturn r;\n}\n\nexport function polylineFromPoints(points) {\n\tif (typeof points === 'string') {\n\t\treturn points\n\t}\n\tif (Array.isArray(points[0])) {\n    return points.map(p => `${p[0]},${p[1]}`).join(' ')\n  }\n  return points.map(p => `${p.x},${p.y}`).join(' ')\n}\n\nexport function pathFromPoints(points) {\n  if (Array.isArray(points[0])) {\n    return `M${points.map(p => `${p[0]},${p[1]}`).join('L')}`\n  }\n  return `M${points.map(p => `${p.x},${p.y}`).join('L')}`\n}\n\nexport function interpolatePathCubicH(points) {\n  const pts = Array.isArray(points[0]) ? points.map(p => ({x: p[0], y: p[1]})) : points\n  let d = `${pts[0].x},${pts[0].y}`\n  let prev = pts[0]\n  for (let i = 1; i < pts.length; i++) {\n    const p = pts[i]\n    const x1 = (2*prev.x + p.x) / 3\n    const x2 = (prev.x + 2*p.x) / 3\n    d += ` C ${x1},${prev.y} ${x2},${p.y} ${p.x},${p.y}`\n    prev = p\n  }\n  return d\n}","import React from 'react'\nimport { Path as SPPath, Polyline, Polygon as SPPolygon } from './react-svgplot'\nimport { polylineFromPoints } from './funcs'\nimport { Style } from '.'\n\n\nconst renderPath = props => {\n  const {d, points, markers, fill, connect=false} = props\n  if (d) {\n    return <SPPath d={d} markers={markers} fill={fill} />\n  }\n  else if (points) {\n    if (connect) {\n      return <SPPolygon points={polylineFromPoints(points)} markers={markers} fill={fill} />\n    }\n    return <Polyline points={polylineFromPoints(points)} markers={markers} fill={fill} />\n  }\n  return null\n}\n\nexport const Path = props => {\n  const {style} = props\n  if (style) {\n    return <Style name={style}>{renderPath(props)}</Style>\n  }\n  return renderPath(props)\n}\n\nexport default Path\nexport const Asymptote = props => <Path style=\"asymptote\" {...props}/>\nexport const ScatterPlot = props => <Path style=\"scatterplot\" {...props}/>\nexport const Polygon = props => <Path connect={true} {...props}/>\n","import React from 'react'\nimport Path from './Path'\n\nconst AngleMark = props => {\n  const {start, end, ...otherprops} = props\n\n  let {x, y, coords} = props\n  if (coords) {\n    x = coords[0]\n    y = coords[1]\n  }\n\n  let {radius, maxRadius, minRadius} = props\n\n  const angleSize = end - start\n  if (maxRadius || minRadius) {\n    if (minRadius === undefined) {\n      minRadius = maxRadius * 0.5\n    }\n    if (maxRadius === undefined) {\n      maxRadius = minRadius * 2\n    }\n    if (angleSize < 90) {\n      const diff = maxRadius - minRadius\n      radius = minRadius + diff*(90-angleSize)/90\n    }\n  }\n  if (radius === undefined) {\n    radius = minRadius\n  }\n  \n\n  const startAngle = parseFloat(start) * Math.PI / 180\n  const endAngle = parseFloat(end) * Math.PI / 180\n  const arcStart = {\n    x: x + Math.cos(startAngle) * radius, \n    y: y + Math.sin(startAngle) * radius,\n  }\n  const arcEnd = {\n    x: x + Math.cos(endAngle) * radius,\n    y: y + Math.sin(endAngle) * radius,\n  }\n  let d = coords ? `M${coords[0]},${coords[1]}` : `M${x},${y}`\n  d += ` L ${arcStart.x},${arcStart.y}`\n  d += ` A ${radius} ${radius} 0 ${end-start > 180 ? 1 : 0} 1`\n  d += ` ${arcEnd.x},${arcEnd.y} z`\n  return <Path style=\"anglemark\" fill=\"solid\" {...otherprops} d={d}/> \n}\n\nexport default AngleMark","import React from 'react'\nimport { Path } from '.'\n\n\nlet clipCount = 0\n\nconst Clip = props => {\n  const {shape, id=`vg-clip-path-${++clipCount}`, children, ...shapeprops} = props\n  let Elem\n  if (shape === 'Path') {\n    Elem = Path\n  }\n  else if (shape === 'Rect') {\n    Elem = 'rect'\n  }\n\n  if (Elem) {\n    return (\n      <>\n        <clipPath id={id}>\n          {React.createElement(Elem, shapeprops)}\n        </clipPath>\n        <g clipPath={`url(#${id})`} vectorEffect=\"inherit\">\n          {props.children}\n        </g>\n      </>\n    )\n  }\n  return props.children\n}\n\nexport default Clip","import React from 'react'\nimport { Clip, Style, Grid, Overlay, Path } from '.'\nimport { MarkerSymbols } from './react-svgplot/Style'\nimport { Canvas } from './react-svgplot'\n\nfunction parseSpan(span) {\n  if (Array.isArray(span)) {\n    const [x1, y1, x2, y2] = span\n    return {x1: +x1, y1: +y1, x2: +x2, y2: +y2}\n  }\n  if (typeof span === 'string') {\n    const s1 = span.split(' ')\n    if (s1.length === 1) {\n      const [x1, y1, x2, y2] = s1[0].split(',')\n      return {x1: +x1, y1: +y1, x2: +x2, y2: +y2}\n    }\n    if (s1.length === 2) {\n      const [x1, y1] = s1[0].split(',')\n      const [x2, y2] = s1[1].split(',')\n      return {x1: +x1, y1: +y1, x2: +x2, y2: +y2}\n    } else if (s1.length === 4) {\n      const [x1, y1, x2, y2] = s1\n      return {x1: +x1, y1: +y1, x2: +x2, y2: +y2}\n    }\n  }\n  return null\n}\n\nfunction convertToMM(val, unit) {\n  if (unit === 'mm') return val\n  if (unit === 'cm') return val*10\n  if (unit === 'in') return (val * 25.4)\n  if (unit === 'pt') return convertToMM(val/72, 'in')\n  if (unit === 'pc') return convertToMM(val/12, 'pt')\n}\n\nfunction toMM(s) {\n  // return in\n  const v = +s.slice(0,-2)\n  const u = s.slice(-2)\n  return convertToMM(v, u)\n}\n\n\nconst Clipper = ({x1, y1, x2, y2, clip, children}) => {\n  if (clip) {\n    return (\n      <Clip shape=\"Rect\" x={x1} y={y1} width={x2-x1} height={y2-y1}>\n        {children}\n      </Clip>\n    )\n  } else {\n    return children\n  }\n}\n\nconst Styler = ({style, children}) => {\n  if (style && style !== 'none') {\n    return (\n      <Style name={style}>\n        {children}\n      </Style>\n    )\n  } else {\n    return children\n  }\n}\n\nexport const CoordinatePlane = props => {\n  const canvas = {}\n  const span = parseSpan(props.span)\n  if (span === null) {\n    console.log(\"CoordinatePlane: span is null\")\n    return null\n  }\n  const {x1, y1, x2, y2} = span\n  const w = x2 - x1\n  const h = y2 - y1\n  const {\n    preserveAspectRatio=true, \n    margin='3mm',\n    grid=true, axis=true, \n    style=\"primary function\", clip=true,\n  } = props\n\n  const clipper = {x1, y1, x2, y2, clip}\n  const styler = {style}\n\n  const marg = toMM(margin)\n\n  if (props.preserveAspectRatio === false) {\n    // TODO\n  } else {\n    if (props.width && props.height) {\n      console.log('WIDTH AND HEIGHT')\n      // TODO \n      /*\n      const width = toMM(props.width)\n      canvas.width = width + marg*2 + 'mm'\n      const vbmarg = w * marg / width\n      canvas.x1 = x1 - vbmarg\n      canvas.y1 = y1 - vbmarg\n      canvas.x2 = x2 + vbmarg\n      canvas.y2 = y2 + vbmarg\n\n      const height = toMM(props.height)\n      canvas.height = height + marg*2 + 'mm'\n      const vbmarg = h * marg / height\n      canvas.x1 = x1 - vbmarg\n      canvas.y1 = y1 - vbmarg\n      canvas.x2 = x2 + vbmarg\n      canvas.y2 = y2 + vbmarg\n      */\n\n    } else if (props.width) {\n      const width = toMM(props.width)\n      canvas.width = width + marg*2 + 'mm'\n      const vbmarg = w * marg / width\n      canvas.x1 = x1 - vbmarg\n      canvas.y1 = y1 - vbmarg\n      canvas.x2 = x2 + vbmarg\n      canvas.y2 = y2 + vbmarg\n\n    } else if (props.height) {\n      const height = toMM(props.height)\n      canvas.height = height + marg*2 + 'mm'\n      const vbmarg = h * marg / height\n      canvas.x1 = x1 - vbmarg\n      canvas.y1 = y1 - vbmarg\n      canvas.x2 = x2 + vbmarg\n      canvas.y2 = y2 + vbmarg\n    } else {\n\n    }\n  }\n  \n  const children = React.Children.toArray(props.children)\n  const svgchildren = children.filter(c => c.type !== Overlay)\n  const overlays = children.filter(c => c.type === Overlay)\n\n  return (\n    <Canvas {...canvas}>\n      <MarkerSymbols />\n      {grid ? (\n        <Grid span={[x1, y1, x2, y2]} axis={axis}/>\n      ) : axis ? (\n      <Style exactname=\"svgplot-axis\">\n        <Path points={[[0,y1], [0,y2]]} markers=\"-->\"/>\n        <Path points={[[x1,0], [x2,0]]} markers=\"-->\"/>\n      </Style>\n      ) : null}\n      <Clipper {...clipper}>\n        <Styler {...styler}>\n          {svgchildren}\n        </Styler>\n      </Clipper>\n      {overlays}\n    </Canvas>\n  )\n\n}\n\nexport default CoordinatePlane\n\n  \n\n/*\nexport class CoordinatePlane2 extends React.Component {\n  static defaultProps = {\n    style: 'primary function',\n    clip: true,\n  }\n\n  constructor(props) {\n    super(props)\n    const span = parseSpan(props.span)\n\n    this.state = { span }\n\n    this.svgref = React.createRef()\n  }\n\n  checkSize() {\n    let a, b, c, d\n    const bbox = this.svgref.current.getBBox()\n    console.log(bbox)\n    try {\n      // Chrome\n      ({a, b, c, d} = this.svgref.current.getCTM())\n    } catch(e) {\n      // Firefox\n      ({a, b, c, d} = this.svgref.current.getScreenCTM())\n    }\n    console.log({a, b, c, d})\n    const xmargin = 0.05*Math.abs(a + c)\n    const ymargin = 0.05*Math.abs(d + b)\n    this.setState({\n      xmargin, ymargin, \n      width: bbox.width / (1.1*Math.abs(a)), height: bbox.height / (1.1*Math.abs(d))\n    })\n  }\n\n  componentDidMount() {\n    this.checkSize()\n  }\n\n  renderClip() {\n    const {x1, y1, x2, y2} = this.state.span\n    if (this.props.clip) {\n      return (\n        <Clip shape=\"Rect\" x={x1} y={y1} width={x2-x1} height={y2-y1}>\n          {this.renderStyle()}\n        </Clip>\n      )\n    }\n    return this.renderStyle()\n  }\n\n  renderStyle() {\n    if (this.props.style && this.props.style !== 'none') {\n      return (\n        <Style name={this.props.style}>\n          {this.props.children}\n        </Style>\n      )\n    }\n    return this.props.children\n  }\n\n  render() {\n    if (!this.state.span) {\n      return null\n    }\n    \n    const {x1, y1, x2, y2} = this.state.span\n    const {grid=true, axis=true} = this.props\n    const height = this.state.height || this.props.height\n    const width = this.state.width || this.props.width\n    const xmargin = this.state.xmargin || 0\n    const ymargin = this.state.ymargin || 0\n\n\n    const vb = [\n      +x1 - xmargin,\n      +y1 - ymargin,\n      +x2 - x1 + 2*xmargin,\n      +y2 - y1 + 2*ymargin\n    ]\n\n    const svgprops = {\n      height, width,\n      viewBox: vb.join(' '),\n      transform: 'scale(1,-1)'\n    }\n\n    return (\n      <>\n      <svg className='svgplot-canvas' {...svgprops} ref={this.svgref}>\n        <MarkerSymbols />\n        {grid ? (\n          <Grid span={[x1, y1, x2, y2]} axis={axis}/>\n         ) : axis ? (\n          <Style exactname=\"svgplot-axis\">\n            <Path points={[[0,y1], [0,y2]]} markers=\"-->\"/>\n            <Path points={[[x1,0], [x2,0]]} markers=\"-->\"/>\n          </Style>\n         ) : null}\n        {this.renderClip()}\n      </svg>\n      </>\n    )\n  }\n}\n*/","import React from 'react'\nimport { Grid as SvgPlotGrid, Line, Style } from './react-svgplot'\n\n\nconst Grid = props => {\n  const { span, step=[1,1], axis=true } = props\n  const [x1, y1, x2, y2] = span\n  const [xStep, yStep] = step\n\n  return (\n    <>\n    <Style name=\"svgplot-grid\">\n      <SvgPlotGrid {...{x1, y1, x2, y2, xStep, yStep}} />\n    </Style>\n    {axis ? (\n      <Style name=\"svgplot-axis\">\n        <Line x1={x1} y1={0} x2={x2} y2={0} markers=\"-->\" />\n        <Line x1={0} y1={y1} x2={0} y2={y2} markers=\"-->\" />\n      </Style>\n    ) : null}\n    </>\n  )\n}\n\nexport default Grid","import React from 'react'\n\n// just for testing purposes\n// use Clip, Style, or Transform instead\n\nconst Layer = props => <g {...props}>{props.children}</g>\n\nexport default Layer","import React from 'react'\nimport { Path, Style, Point } from '.'\n\n\nconst calcPath = function(f, domain, step=0.1) {\n  let path = []\n  let x = domain[0]\n  while (x < domain[1]) {\n    path.push({x: x, y: f(x)})\n    x += step\n  }\n  path.push(({x: domain[1], y: f(domain[1])}))\n  return path\n}\n\nexport const PolynomialFunction = (props) => {\n  const { \n    coefficients, domain, step=0.2,\n    ...otherprops\n  } = props\n\n  if (domain === undefined) {\n    console.error(\"no domain provided for PolynomialFunction\")\n    return null\n  }\n\n  const f = (x) => {\n    let ans = 0\n    for (const deg in coefficients) {\n      ans += coefficients[deg] * Math.pow(x,deg)\n    }\n    return ans\n  }\n\n  return <Path points={calcPath(f, domain, step)} {...otherprops}/>\n}\n\nexport const RationalFunction = (props) => {\n  const {\n    roots=[], holes=[], asymptotes=[], numerLC=1, denomLC=1, \n    domain, step=0.2, range=[-1000,1000], \n    renderAsymptotes=true, renderRoots=true, renderHoles=true,\n    style, fill,\n  } = props\n\n  if (domain === undefined) {\n    console.error(\"no domain provided for RationalFunction\")\n    return null\n  }\n\n  const f = (x) => {\n    let num = numerLC\n    let den = denomLC\n    for (const r of roots) {\n      num *= (x - r)\n    }\n    for (const r of asymptotes) {\n      den *= (x - r)\n    }\n    return num / den\n  }\n\n  const domainPts = {\n    [+domain[0]] : true,\n    [+domain[1]] : true,\n  }\n\n  for (const r of asymptotes.filter(r => r >= domain[0] && r <= domain[1])) {\n    domainPts[+r] = false\n  }\n\n  const domains = []\n  const dp = Object.keys(domainPts).sort((a,b) => a-b)\n  for (let i = 1; i<dp.length; i++) {\n    const [v1, v2] = [dp[i-1], dp[i]]\n    domains.push([\n      {val: v1, def: domainPts[v1]},\n      {val: v2, def: domainPts[v2]}, \n    ])\n  }\n  \n  const paths = []\n  for (const d of domains) {\n    \n    const dom = [\n      d[0].def ? +d[0].val : +d[0].val + step,\n      d[1].def ? +d[1].val : +d[1].val - step,\n    ]\n    let path = calcPath(f, dom, step)\n    if (!d[0].def) {\n      let p = path[0]\n      while (p.y > range[0] && p.y < range[1]) {\n        const x = (3*d[0].val + p.x) / 4\n        p = {x, y: f(x)}\n        path = [p, ...path]\n      }\n    }\n    if (!d[1].def) {\n      let p = path[path.length-1]\n      while (p.y > range[0] && p.y < range[1]) {\n        const x = (3*d[1].val + p.x) / 4\n        p = {x, y: f(x)}\n        path.push(p)\n      }\n    }\n    paths.push(path)\n  }\n\n  const vas = asymptotes.map(x => [{x: x, y: range[0]}, {x: x, y: range[1]}])\n  let ha\n  if (asymptotes.length > roots.length) {\n    ha = [{x: domain[0], y: 0}, {x: domain[1], y: 0}]\n  } else if (asymptotes.length === roots.length) {\n    ha = [{x: domain[0], y: numerLC/denomLC}, {x: domain[1], y: numerLC/denomLC}]\n  }\n\n\n\n\n  return (\n    <>\n      {renderAsymptotes ? (\n        <Style name='asymptote'>\n          {ha ? <Path key='hasym' points={ha} /> : null}\n          {vas.map(p => <Path key={`asym${p[0].x}`} points={p} />)}\n        </Style>\n      ) : null}\n      {style ? (\n        <Style name={style}>\n          {paths.map(p => <Path key={`path${p[0].x}`} points={p} fill={fill}/>)}\n          {renderRoots ? roots.map(x => <Point key={`root${x}`} x={x} y={f(x)} />): null}\n          {renderHoles ? holes.map(x => <Point key={`hole${x}`} x={x} y={f(x)} marker=\"o\"/>) : null}\n        </Style>\n      ) : (\n        <>\n          {paths.map(p => <Path key={`path${p[0].x}`} points={p} fill={fill}/>)}\n          {renderRoots ? roots.map(x => <Point key={`root${x}`} x={x} y={f(x)} />): null}\n          {renderHoles ? holes.map(x => <Point key={`hole${x}`} x={x} y={f(x)} marker=\"o\"/>) : null}        \n        </>\n      )}    \n      \n    </>\n  )\n}\n","import React from 'react'\nimport { Style as SPStyle } from './react-svgplot'\n\nconst Style = props => {\n  const {name, exactname, color} = props\n\n  let stylenames = []\n  if (name) {\n    stylenames = stylenames.concat(name.split(' ').map(s => `vg-style-${s}`))\n  }\n  if (exactname) {\n    stylenames = stylenames.concat(exactname.split(' '))\n  }\n\n  const styleprops = {}\n  if (color) styleprops.color = color\n  if (stylenames.length) styleprops.name = stylenames.join(' ')\n\n  return (\n    <SPStyle {...styleprops}>\n      {props.children}\n    </SPStyle>\n  )\n}\n\nexport default Style","import {\n  Canvas,\n  Circle, \n  Ellipse,\n  Label,\n  Overlay,\n  Point,\n  Rect,\n  Transform,\n} from './react-svgplot'\n\nimport AngleMark from './AngleMark'\nimport Clip from './Clip'\nimport CoordinatePlane from './CoordinatePlane'\nimport Grid from './Grid'\nimport Layer from './Layer'\nimport Path, { Asymptote, ScatterPlot, Polygon } from './Path'\nimport { PolynomialFunction, RationalFunction } from './Functions'\nimport Style from './Style'\n\nimport './vgstyles.global.css'\n\nexport {\n  AngleMark,\n  Asymptote,\n  Circle,\n  Clip,\n  CoordinatePlane,\n  Ellipse,\n  Grid,\n  Label,\n  Layer,\n  Overlay,\n  Path,\n  Point,\n  Polygon,\n  Rect,\n  ScatterPlot,\n  Style,\n}\n\nconst VectorGraphics = {\n  AngleMark,\n  Asymptote,\n  Canvas,\n  Circle,\n  Clip,\n  CoordinatePlane,\n  Ellipse,\n  Grid,\n  Label,\n  Layer,\n  Overlay,\n  Path,\n  Point,\n  Polygon,\n  PolynomialFunction,\n  RationalFunction,\n  Rect,\n  ScatterPlot,\n  Style,\n  Transform,\n}\n\nexport default VectorGraphics","import React from 'react'\n\n\nfunction parseBorder(border) {\n  if (border === 'top') return 'borderTop'\n  if (border === 'bottom') return 'borderBottom'\n  if (border === 'left') return 'borderLeft'\n  if (border === 'right') return 'borderRight'\n}\n\n\nexport const EmptySpace = props => {\n  const {width=\"2cm\", height=\"2cm\", border} = props\n  const style = {margin: '0'}\n  if (width) style.width = width\n  if (height) style.height = height\n  if (border) {\n    if (Array.isArray(border)) {\n      for (const b of border) {\n        if (parseBorder(b)) {\n          style[parseBorder(b)] = '1px solid black'\n        }\n      }\n    }\n    if (typeof border === 'string') {\n      if (parseBorder(border)) {\n        style[parseBorder(border)] = '1px solid black'\n      }\n      if (border === true) {\n        style.border = '1px solid black'\n      }\n    }\n  }\n  return (\n    <div style={style} />\n  )\n}","import katex from 'katex'\n\nexport const formulaToKatex = (formula, options) => {\n  try {\n    return katex.renderToString(formula, options);\n  } catch (e) {\n    if (!(e instanceof katex.ParseError)) {\n      throw e;\n    }\n    console.error(\n      \"KaTeX auto-render: Failed to parse `\" + formula + \"` with \", e\n    );\n  }\n  return null\n}","import React from 'react'\nimport { defaultsDeep } from 'lodash'\nimport { formulaToKatex as formulaToHtml } from './katexMath'\nimport MarkdownIt from 'markdown-it'\nimport mdsup from 'markdown-it-sup'\nimport mdsub from 'markdown-it-sub'\nimport mdsmartarrows from 'markdown-it-smartarrows'\nimport mdmath from 'markdown-it-math'\nimport styles from './styles.module.css'\n\nconst defaultOptions = {\n  renderMath: true,\n  \n  mdSuperscript: true,\n  mdSubscript: true,\n  mdSmartarrows: true,\n\n  mathDelimiters: {\n    display: {left: '$$$', right: '$$$'},\n    inline: {left: '$$', right: '$$'},\n  }\n};\n\nexport const InlineMarkdown = ({data, options}) => {\n  const opts = defaultsDeep({}, options, defaultOptions)\n  let md = new MarkdownIt()\n  if (opts.mdSubscript) { md = md.use(mdsub); }\n  if (opts.mdSuperscript) { md = md.use(mdsup); }\n  if (opts.mdSmartarrows) { md = md.use(mdsmartarrows); }\n  if (opts.renderMath) {\n    md = md.use(mdmath, {\n      inlineRenderer: (str) => formulaToHtml(str),\n      blockRenderer: (str) => formulaToHtml(str, {displayMode: true}),\n      inlineOpen: opts.mathDelimiters.inline.left,\n      inlineClose: opts.mathDelimiters.inline.right,\n      blockOpen: opts.mathDelimiters.display.left,\n      blockClose: opts.mathDelimiters.display.right,\n    })\n  }\n  return <span dangerouslySetInnerHTML={{__html: md.renderInline(data)}} />\n}\n\nexport const Markdown = ({data, options}) => {\n  const opts = defaultsDeep({}, options, defaultOptions)\n  let md = new MarkdownIt()\n  if (opts.mdSubscript) { md = md.use(mdsub); }\n  if (opts.mdSuperscript) { md = md.use(mdsup); }\n  if (opts.mdSmartarrows) { md = md.use(mdsmartarrows); }\n  if (opts.renderMath) {\n    md = md.use(mdmath, {\n      inlineRenderer: (str) => formulaToHtml(str),\n      blockRenderer: (str) => formulaToHtml(str, {displayMode: true}),\n      inlineOpen: opts.mathDelimiters.inline.left,\n      inlineClose: opts.mathDelimiters.inline.right,\n      blockOpen: opts.mathDelimiters.display.left,\n      blockClose: opts.mathDelimiters.display.right,\n    })\n  }\n  return (\n    <span className={styles.Markdown} dangerouslySetInnerHTML={{__html: md.render(data)}} ></span> \n  )\n}","import React from 'react'\nimport { formulaToKatex as formulaToHtml } from './katexMath'\n\n\nexport const Math = props => {\n  const html = formulaToHtml(props.data, props.options);\n  return <span dangerouslySetInnerHTML={{__html: html}} />\n}\n\nexport const DisplayMath = props => {\n  const options = {displayMode: true, ...props.options}\n  const html = formulaToHtml(props.data, options);\n  return <span dangerouslySetInnerHTML={{__html: html}} />\n}\n","import React from 'react'\n\nconst parseHeader = (text) => {\n  let result = []\n  let current = ''\n  let isBlank = false\n  let i = 0\n  let blankSize = 0\n  while (i < text.length) {\n    const nextChar = text[i]\n    if (isBlank) {\n      if (nextChar === '_') {\n        blankSize += 1\n      } else {\n        result.push({type: 'blank', size: blankSize})\n        current = nextChar\n        isBlank = false\n        blankSize = 0\n      }\n    } else {\n      if (nextChar === '_') {\n        if (current !== '') {\n          result.push({type: 'text', text: current})\n          current = ''\n        }\n        isBlank = true\n        blankSize = 1\n      } else {\n        current += nextChar\n      }\n    }\n    i += 1\n  }\n  if (isBlank) {\n    if (blankSize > 0) {\n      result.push({type: 'blank', size: blankSize})\n    }\n  } else {\n    if (current !== '') {\n      result.push({type: 'text', text: current})\n    }\n  }\n  return result\n}\n\nconst renderHeaderElement = (text) => {\n  const parts = parseHeader(text)\n  return (\n    <>\n      {parts.map((p, i) => {\n        if (p.type === 'text') {\n          return (\n            <div key={i} style={{display: 'inline-block'}}>{p.text}</div>\n          )\n        } else {\n          const w = `${1 + 3*(p.size - 1)}cm`\n          return (\n            <div key={i} className='blank-underline blank-underline-page-header' style={{width: w}} />\n          )\n        }\n      })}\n    </>\n  )\n}\n\nexport const PageHeader = props => {\n\n  if (props.rows.length === 0) {\n    return <div className='page-header page-header-empty' />\n  } else {\n    return (\n      <table className='page-header'>\n        <tbody>\n          {props.rows.map((row, i) => {\n            const [left, right] = row\n            return (\n              <tr key={i}>\n                <td>\n                  {renderHeaderElement(left || '')}\n                </td>\n                <td>\n                  {renderHeaderElement(right || '')}\n                </td>\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n    )\n  }\n}","import React from 'react'\nimport { renderJson } from '..'\n\n\n\nconst defaultLayout = ['instructions', 'question', ['answer', 'diagram']]\n//const defaultLayout = [[['instructions', 'question', 'answer'], 'diagram']]\nconst layoutAnswerRight = ['instructions', 'question', ['diagram', 'answer']]\n\nconst QuestionLayout = ({\n  content,\n  layout,\n  direction='column',\n}={}) => {\n\n  const className = `question-layout question-layout-${direction}`\n  const newDirection = {row: 'column', column: 'row'}[direction]\n  //const useLayout = layout || defaultLayout\n  const useLayout = layout || (content.answer && content.answer[0] === 'EmptySpace' ? layoutAnswerRight : defaultLayout)\n\n  return (\n    <div className={className}>\n      {useLayout.map((area, i) => {\n        if (Array.isArray(area)) {\n          return (\n            <QuestionLayout key={`region-${i}`} \n              content={content}\n              layout={area} \n              direction={newDirection} \n            />\n          )\n        } else {\n          if (content[area]) {\n            const classNames = ['question-area', `question-area-${area}`]\n            return (\n              <div key={area} className={classNames.join(' ')}>\n                {renderJson(content[area])}\n              </div>\n            )\n          }\n        }\n        return null\n      })}\n    </div>\n  )\n}\n\n\nfunction isMultipleChoice(content, options={}) {\n  if (options.isMultipleChoice !== undefined) {\n    return options.isMultipleChoice\n  }\n  if (content.answer && typeof content.answer !== 'string') {\n    if (content.answer.choices) {\n      return true\n    }\n  }\n  return false\n}\n\n\nexport const Question = (props) => {\n  const { options={} } = props\n  \n  const {instructions, question, diagram} = props.content\n  let content = { instructions, question, diagram }\n\n  // Determine what to render in answer space\n  if (isMultipleChoice(props.content, options)) {\n    Object.assign(content, props.content.multipleChoice)\n    const listDirection = props.content.answer.listDirection\n    content.answer = ['AnswerChoices', {listDirection}, ...props.content.answer.choices]\n  } else {\n    Object.assign(content, props.content.freeResponse)\n    if (props.content.answer && props.content.answer.prompt !== undefined) {\n      if (props.content.answer.prompt !== null) {\n        if (typeof props.content.answer.prompt === 'string') {\n          content.answer = ['AnswerBlanks', null, props.content.answer.prompt]\n        } else if (Array.isArray(props.content.answer.prompt)) {\n          content.answer = props.content.answer.prompt\n        }\n      }\n    } else {\n      content.answer = ['EmptySpace', {height: '1cm', width: '2cm'}]\n    }\n  }\n\n  const layout = props.content.layout || options.layout\n  return (\n    <div className='question-wrapper'>\n      <QuestionLayout content={content} layout={layout}/>\n    </div>\n  )\n}\n\n\nexport const NumberedQuestion = props => {\n  return (\n    <div className='question-number'>\n      <Question {...props} />\n    </div>\n  )\n}\n\n\nexport const AnswerKey = props => {\n  const letters = 'abcdefg'\n  const { content, options } = props\n  if (isMultipleChoice(content, options)) {\n    if (content.answer.choices) {\n      if (content.answer.correctIndex !== undefined) {\n        if (Array.isArray(content.answer.correctIndex)) {\n          return content.answer.correctIndex.map(i => letters[i]).join(', ')\n        } else {\n          return letters[content.answer.correctIndex]\n        }\n      }\n      if (content.answer.correct) {\n        for (let i = 0; i < content.answer.choices.length; i++) {\n          if (content.answer.choices[i] == content.answer.correct) {\n            return letters[i]\n          }\n        }\n      }\n    }\n  }\n  if (content.answer !== undefined) {\n    if (content.answer !== null) {\n      if (content.answer.correct) {\n        return renderJson(content.answer.correct)\n      }\n      if (Array.isArray(content.answer) ||  typeof content.answer === 'string' || typeof content.answer === 'number') {\n        return renderJson(content.answer, options)\n      }\n    }\n    if (content.answer.choices && content.answer.correctIndex !== undefined) {\n      return renderJson(content.answer.choices[content.answer.correctIndex])\n    }\n  }\n  return null\n}\n","import React from 'react'\n\nfunction parseAlignment(align) {\n  // latex-style, e.g. r|ccc|l\n  const colStyles = []\n\n  const blocks = align.split('|')\n  for (const i in blocks) {\n    const block = blocks[i]\n    for (const j in block) {\n      const char = block[j]\n      const colStyle = {}\n      if (char === 'l') colStyle.textAlign = 'left'\n      if (char === 'c') colStyle.textAlign = 'center'\n      if (char === 'r') colStyle.textAlign = 'right'\n      if (+j === 0 && i > 0) {\n        colStyle.borderLeft = '1px solid black'\n      }\n      if (+j === block.length-1 && i < blocks.length-1) {\n        colStyle.borderRight = '1px solid black'\n      }\n      colStyles.push(colStyle)\n    }\n  }\n  return colStyles\n}\n\n\nexport const TRow = props => {\n  const { header=false, border=false } = props\n  const rowprops = {style: {border: 'none'}}\n  if (border) {\n    if (border === 'bottom') {\n      rowprops.style.borderBottom = '1px solid black'\n    } else if (border === 'top') {\n      rowprops.style.borderTop = '1px solid black'\n    } else if (border === true || border === 'both') {\n      rowprops.style.borderTop = '1px solid black'\n      rowprops.style.borderBottom = '1px solid black'\n    }\n  }\n\n  const defaultBorderLeft = i => 'none'\n  const defaultBorderRight = i => 'none'\n  const defaultTextAlign = i => 'center'\n\n  const elemstyle = i => ({\n    border: 'none',\n    borderLeft: `var(--table-col-${i}-borderLeft, ${defaultBorderLeft(i)})`,\n    borderRight: `var(--table-col-${i}-borderRight, ${defaultBorderRight(i)})`,\n    textAlign: `var(--table-col-${i}-textAlign, ${defaultTextAlign(i)})`,\n  })\n\n  //console.log(entryprops)\n  return (\n    <tr {...rowprops}>\n      {header ? (\n        React.Children.toArray(props.children).map((c,i) => (\n          <th key={i} style={elemstyle(+i+1)}>{c}</th>\n        ))\n      ) : (\n        React.Children.toArray(props.children).map((c,i) => (\n          <td key={i} style={elemstyle(+i+1)}>{c}</td>\n        ))\n      )}\n    </tr>\n  )\n}\n\nexport const Table = props => {\n  const children = React.Children.toArray(props.children)\n\n  let headIndex = 0\n  while (headIndex < children.length \n    && children[headIndex].type.name === 'TRow' \n    && children[headIndex].props.header) {\n    headIndex += 1\n  }\n\n  const tableprops = {style: {borderCollapse: 'collapse'}}\n  if (props.border) {\n    tableprops.style.border = '1px solid black'\n  }\n  if (props.align) {\n    const alignment = parseAlignment(props.align)\n    for (const i in alignment) {\n      for (const k in alignment[i]) {\n        const cssvar = `--table-col-${+i+1}-${k}`\n        const value = alignment[i][k]\n        tableprops.style[cssvar] = value\n      }\n    }\n  }\n\n  return (\n    <table {...tableprops}>\n      {headIndex > 0 ? (\n        <thead>\n          {children.slice(0,headIndex)}\n        </thead>\n      ) : null}\n      {headIndex < children.length ? (\n        <tbody>\n          {children.slice(headIndex)}\n        </tbody>\n      ) : null}\n    </table>\n  )\n}","/*\nThis renders math in text using markdown, and simple markdown using\nmarkdown-it's inline renderer. For more complicated markdown, use\nthe 'markdown' type, which will be passed to the 'renderMarkdown' function\n*/\n\nimport React from 'react'\nimport splitAtDelimiters  from 'katex/contrib/auto-render/splitAtDelimiters'\nimport { defaultsDeep } from 'lodash'\nimport { Math, DisplayMath } from './Math'\nimport { Markdown, InlineMarkdown } from './Markdown'\n\nconst defaultOptions = {\n  renderMath: true,\n  markdown: 'inline',\n  mathDelimiters: {\n    display: {left: '$$$', right: '$$$'},\n    inline: {left: '$$', right: '$$'},\n  }\n};\n\n\n// from katex:\nconst splitWithDelimiters = function(text, delimiters) {\n  let data = [{type: \"text\", data: text}];\n  for (let i = 0; i < delimiters.length; i++) {\n    const delimiter = delimiters[i];\n    data = splitAtDelimiters(\n      data, delimiter.left, delimiter.right,\n      delimiter.display || false);\n  }\n  return data;\n};\n\nconst ParseMath = ({data, options}) => {\n  const delimiters = [\n    {left: options.mathDelimiters.display.left, right: options.mathDelimiters.display.right, display: true},\n    {left: options.mathDelimiters.inline.left, right: options.mathDelimiters.inline.right, display: false},\n  ]\n\n  return (\n    <span>\n      {splitWithDelimiters(data, delimiters).map((c,i) => {\n        if (c.type === 'text') {\n          if (options.markdown) {\n            return <InlineMarkdown key={i} data={c.data} options={options}/>\n          } else {\n            return <Plain key={i} data={c.data} options={options}/>\n          }\n        } else {\n          if (c.display) {\n            return <DisplayMath key={i} data={c.data}/>\n          } else {\n            return <Math key={i} data={c.data}/>\n          }\n        }\n      })}\n    </span>\n  )\n}\n\nexport const Plain = props => {\n  return <span>{props.data}</span>\n}\n\n\nexport const Text = props => {\n  const {\n    data, fontFamily, fontSize, color,\n    ...otherprops\n  } = props\n  const opts = defaultsDeep({}, otherprops, defaultOptions)\n  const style = {fontFamily, fontSize, color}\n  let RenderMethod\n  if (opts.markdown === true || opts.markdown === 'full') {\n    RenderMethod = Markdown\n  } else if (opts.renderMath) {\n    RenderMethod = ParseMath\n  } else if (opts.markdown === 'inline') {\n    RenderMethod = InlineMarkdown\n  } else {\n    RenderMethod = Plain\n  }\n\n  return (\n    <span style={style}>\n      <RenderMethod data={data} options={opts}/>\n    </span>\n  )\n}\n\n/*\nconst defaultDelimiters = {\n  display: {left: '$$$', right: '$$$'},\n  inline: {left: '$$', right: '$$'},\n}\n\nconst replaceMathDelimiters = function(text, options, delimiters=defaultDelimiters) {\n  let optionsCopy = {...options.katex}\n  const data = splitWithDelimiters(text, optionsCopy.delimiters)\n  let result = \"\"\n  for (let i = 0; i < data.length; i++) {\n    if (data[i].type === \"text\") {\n      result += data[i].data\n    } else if (data[i].display) {\n      result += `${delimiters.display.left}${data[i].data}${delimiters.display.right}`\n    } else {\n      result += `${delimiters.inline.left}${data[i].data}${delimiters.inline.right}`\n    }\n  }\n  return result\n}\n*/\n","import VectorGraphics from './VectorGraphics'\nimport { AnswerChoices, AnswerBlanks } from './AnswerSpace'\nimport { Container } from './Container'\nimport { EmptySpace } from './EmptySpace'\nimport { Markdown, InlineMarkdown } from './Markdown'\nimport { Math, DisplayMath } from './Math'\nimport { List } from './List'\nimport { PageHeader } from './PageHeader'\nimport { Question, NumberedQuestion, AnswerKey } from './Question'\nimport { RenderError } from './RenderError'\nimport { Table, TRow } from './Table'\nimport { Text, Plain } from './Text'\nimport { VegaLite } from './VegaLite'\n\n// nonTerminal types will have their children rendered with renderJson\nconst nonTerminal = {\n  AnswerBlanks,\n  AnswerChoices,\n  Container, \n  List,\n  Table, \n  TRow,\n  ...VectorGraphics,\n}\n\n\n\n/* terminal types are responsible for rendering their own children\n * children are joined (by newlines) into a single string and passed \n * as the 'data' prop, e.g.\n * \n * ['Math', '\\\\frac{2}{3}', '\\\\sqrt{3}'] => <Math data={\"\\\\frac{2}{3}\\n\\\\sqrt{3}\"}/>\n * \n */\nconst terminal = {\n  Plain, \n  Text, \n  Math, \n  DisplayMath, \n  Markdown, \n  InlineMarkdown,\n}\n\n\n\n// childless types will ignore children\n// many of these will be tweaked to become nonTerminal or terminal\nconst childless = {\n  AnswerKey,\n  EmptySpace, \n  PageHeader,\n  NumberedQuestion,\n  Plain, \n  Question, \n  RenderError,\n  VegaLite,\n}\n\nexport {nonTerminal, terminal, childless}","import React from 'react'\n\nexport const AnswerChoices = props => {\n\n  const classNames = ['answerchoice-list']\n  if (props.listDirection && props.listDirection === 'horizontal') {\n    classNames.push('answerchoice-list-horizontal')\n  }\n  return (\n    <ol className={classNames.join(' ')} type='a'>\n      {React.Children.map(props.children, (c,i) => (\n        <li key={`choice-${i}`}\n          className='answerchoice-item'>\n          {c}\n        </li>\n      ))}\n    </ol>\n  )\n}\n\nexport const AnswerBlanks = props => {\n  const style = {margin: 0}\n  if (props.width !== undefined) {\n    style.minWidth = props.width\n  }\n  if (props.height !== undefined) {\n    style.minHeight = props.height\n  }\n  const classNames = ['answerspot']\n  if (props.box) {\n    classNames.push('answerbox')\n  } else {\n    classNames.push('answerblank')\n  }\n  return (\n    <table className='answerblanks'>\n      <tbody>\n        {React.Children.map(props.children, (c,i) => (\n          <tr key={i}>\n            <td>{c}</td>\n            <td><div className={classNames.join(' ')} style={style}/></td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  )\n}","import React from 'react'\n\nexport const Container = props => {\n  const {direction='row', border=false, alignItems, justifyItems} = props\n  const divstyle = {\n    display: 'flex',\n    flexDirection: direction,\n    flexWrap: 'wrap',\n    border: border ? '1px solid black' : 'none',\n  }\n  if (direction === 'row') {\n    if (alignItems === 'bottom') {\n      divstyle.alignItems = 'flex-end'\n    } else if (alignItems === 'top') {\n      divstyle.alignItems = 'flex-start'\n    } else if (alignItems === 'center') {\n      divstyle.alignItems = 'center'\n    }\n  }\n\n  return (\n    <div style={divstyle}>\n      {props.children}\n    </div>\n  )\n}","import React from 'react'\n\nexport const List = props => {\n  const {type} = props\n  return (\n    <ol type={type}>\n      {React.Children.map(props.children, c => <li>{c}</li>)}\n    </ol>\n  )\n}","import React from 'react'\n\nexport const RenderError = props => {\n  return (\n    <>\n      {props.children.map((c,i) => <code key={i} className='render-error'>{JSON.stringify(c)}</code>)}\n    </>\n  )\n}","import React from 'react'\nimport ReactVega from 'react-vega'\nimport ReactVegaLite from 'react-vega-lite'\n\nexport const Vega = data => {\n  return (\n    <ReactVega spec={data} />\n  )\n}\n\nexport const VegaLite = data => {\n  return (\n    <ReactVegaLite spec={data} />\n  )\n}","import React from 'react'\nimport { nonTerminal, terminal, childless } from './renderTypes'\nimport { Text, Plain } from './renderTypes/Text'\n\nexport const parseJson = function(json) {\n  const [ type, props, ...children ] = json\n  if (props) {\n    if (props.constructor.name === 'Object') {\n      return { type, props, children}\n    }\n    return { type, props: {}, children: [ props, ...children ] }\n  }\n  return { type, props: {}, children }\n}\n\nconst isArray = Array.isArray\n\nexport const renderJson = function(json) {\n  if (isArray(json)) {\n    const {type, props, children} = parseJson(json)\n\n    if (isArray(type)) {\n      return React.createElement(React.Fragment, null, ...json.map(c => renderJson(c)))\n    }\n    if (childless[type]) {\n      return React.createElement(childless[type], props)\n    }\n    if (terminal[type]) {\n      return React.createElement(terminal[type], {...props, data: children.join('\\n')})\n    }\n    if (nonTerminal[type]) {\n      return React.createElement(nonTerminal[type], props, ...children.map(c => renderJson(c)))\n    }\n  }\n  else if (typeof json === 'string') {\n    return <Text data={json} />\n  }\n  else if (typeof json === 'number') {\n    return <Plain data={json.toString()} />\n  }\n  else if (typeof json === 'boolean') {\n    return <Plain data={json.toString()} />\n  }\n  else if (json === null || json === undefined) {\n    return null\n  }\n  console.error(`cannot render ${json}`)\n  return null\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { RenderJson, parseJson } from '..'\n\nexport default class DefaultEditor extends React.Component {\n  static propTypes = {\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n    json: PropTypes.array,\n    onUpdateElement: PropTypes.func.isRequired,\n    onDeleteElement: PropTypes.func.isRequired,\n    onRequestClose: PropTypes.func,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = parseJson(props.json)\n  }\n\n  stateToJson() {\n    return [this.state.type, this.state.props, ...this.state.children]\n  }\n\n  updateAndClose = () => {\n    this.props.onUpdateElement(this.props.id, this.stateToJson())\n    this.props.onRequestClose()\n  }\n\n  deleteAndClose = () => {\n    this.props.onDeleteElement(this.props.id)\n    this.props.onRequestClose()\n  }\n\n  revertChanges = () => {\n    this.setState(parseJson(this.props.json))\n  }\n\n  renderEditor() {\n    return <div>Editing is not yet implemented for this type of element.</div>\n  }\n\n  renderPreview() {\n    const json = [...this.stateToJson()]\n    return (\n      <div className='document preview-area' style={{margin: '3mm 1mm'}}>\n        <RenderJson json={json} />\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <>\n        <div style={{\n          width: '100%',\n          display: 'grid', \n          gridTemplateColumns: 'auto auto auto 1fr auto',\n          margin: '0 0 5mm 0',\n        }}>\n          <button onClick={this.updateAndClose}>Apply Changes</button>\n          <button onClick={this.revertChanges}>Revert Changes</button>\n          <button onClick={this.props.onRequestClose}>Cancel</button>\n          <span />\n          <button onClick={this.deleteAndClose} style={{justifySelf: 'right'}}>Delete</button>\n        </div>\n        {this.renderEditor()}\n        {this.renderPreview()}\n      </>\n    )\n  }\n}\n","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\n\n\nexport default class EditPageHeader extends DefaultEditor {\n\n  headingUpdate(row, lr, text) {\n    const newrow = [...this.state.props.rows[row]]\n    newrow[lr] = text\n    const rows = [...this.state.props.rows]\n    rows[row] = newrow\n    this.setState({props: {...this.state.props, rows}})\n  }\n\n  headingAddRow = () => {\n    const rows = [...this.state.props.rows, ['', '']]\n    this.setState({ props: {...this.state.props, rows} })\n  }\n\n  headingRemoveRow = () => {\n    const rows = this.state.props.rows.slice(0,-1)\n    this.setState({props: {...this.state.props, rows}})\n  }\n\n  renderEditor() {\n    const rows = this.state.props.rows\n    const inputStyle = {\n      width: '100%',\n      fontSize: '1.1em',\n      fontFamily: 'var(--doc-font-family, monospace)',\n      margin: '1mm',\n      padding: '1mm',\n    }\n    return (\n      <div>\n      <p>\n        Underscores will be translated into a blank underlined space.\n      </p>\n      <table className='header'>\n        <tbody>\n          {rows.map((row, i) => {\n            const [left, right] = row\n            return (\n              <tr key={i} >\n                <td style={{border: 'none', padding: '0 1em 0 0'}}>\n                  <input type=\"text\"\n                    onChange={(evt) => this.headingUpdate(i, 0, evt.target.value)}\n                    value={left || ''} \n                    style={inputStyle}\n                  />\n                </td>\n                <td style={{border: 'none', padding: '0 1em 0 0'}}>\n                  <input type=\"text\"\n                    onChange={(evt) => this.headingUpdate(i, 1, evt.target.value)}\n                    value={right || ''} \n                    style={inputStyle}\n                  />\n                </td>\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n      <button onClick={this.headingRemoveRow}>-</button>\n      <button onClick={this.headingAddRow}>+</button>\n      </div>\n    )\n  }\n\n}","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\nimport { RenderJson, parseJson } from '..'\n\nfunction checkMC(content, options={}) {\n  if (options.isMultipleChoice === undefined) {\n    if (content.answer && content.answer.choices) {\n      return true\n    } else {\n      return false\n    }\n  } else {\n    return options.isMultipleChoice\n  }\n}\n\n\nexport default class Question extends DefaultEditor {\n  constructor(props) {\n    super(props)\n    const parsed = parseJson(props.json)\n    this.state = {\n      type: parsed.type,\n      content: parsed.props.content || {},\n      options: parsed.props.options || {},\n    }\n    this.state.options.isMultipleChoice = checkMC(this.state.content, this.state.options)\n  }\n\n  stateToJson() {\n    return [this.state.type, {content: this.state.content, options: this.state.options}]\n  }\n\n  revertChanges = () => {\n    const newState = ({\n      content: this.state.content || {},\n      options: this.state.options || {},\n    })\n    newState.options.isMultipleChoice = checkMC(newState.content, newState.options)\n    this.setState(newState)\n  }\n\n  toggleMC = evt => {\n    //this.isMC = evt.target.checked\n    this.setState({\n      options: {...this.state.options, isMultipleChoice: evt.target.checked}\n    })\n  }\n\n  updateVersionDefault(k, v) {\n    this.setState({content: {...this.state.content, [k]: v}})\n  } \n  updateVersionMC(k, v) {\n    const multipleChoice = {...this.state.content.multipleChoice}\n    if (v === '') {\n      delete multipleChoice[k]\n    } else {\n      multipleChoice[k] = v\n    }\n    this.setState({content: {...this.state.content, multipleChoice}})\n  }\n  updateVersionFR(k, v) {\n    const freeResponse = {...this.state.content.freeResponse}\n    if (v === '') {\n      delete freeResponse[k]\n    } else {\n      freeResponse[k] = v\n    }\n    this.setState({content: {...this.state.content, freeResponse}})\n  }\n\n  updateInstructions = evt => this.updateVersionDefault('instructions', evt.target.value)\n  updateInstructionsMC = evt => this.updateVersionMC('instructions', evt.target.value)\n  updateInstructionsFR = evt => this.updateVersionFR('instructions', evt.target.value)\n\n  updateQuestion = evt => this.updateVersionDefault('question', evt.target.value)\n  updateQuestionMC = evt => this.updateVersionMC('question', evt.target.value)\n  updateQuestionFR = evt => this.updateVersionFR('question', evt.target.value)\n\n  renderInstructionsOrQuestionInputs(fieldname) {\n    const isMC = this.state.options.isMultipleChoice\n    const overrides = isMC ? this.state.content.multipleChoice || {} : this.state.content.freeResponse || {}\n    const updaters = {\n      instructions: {\n        default: this.updateInstructions,\n        mc: this.updateInstructionsMC,\n        fr: this.updateInstructionsFR,\n      },\n      question: {\n        default: this.updateQuestion,\n        mc: this.updateQuestionMC,\n        fr: this.updateQuestionFR,\n      }\n    }[fieldname]\n    return (\n      <>\n      <td>\n        <textarea value={this.state.content[fieldname]} \n          onChange={updaters.default}\n          cols=\"40\"\n          rows=\"4\"\n        />\n      </td>\n      <td>\n        {isMC ? (\n          <textarea value={overrides[fieldname] || ''} \n            onChange={updaters.mc}\n            cols=\"40\"\n            rows=\"4\"\n          />\n        ) : (\n          <textarea value={overrides[fieldname] || ''} \n            onChange={updaters.fr}\n            cols=\"40\"\n            rows=\"4\"\n          />\n        )}\n      </td>\n      </>\n    )\n  }\n\n\n  renderDiagram() {\n    return null\n  }\n\n  renderMCToggle() {\n    if (this.state.content.answer && this.state.content.answer.choices) {\n      return (\n        <>\n          Multiple Choice:\n          <input type=\"checkbox\" \n            checked={this.state.options.isMultipleChoice}\n            onChange={this.toggleMC}\n          />\n        </>\n      )\n    }\n    return null\n  }\n\n  renderEditor() {\n    const isMC = this.state.options.isMultipleChoice\n    //const content = this.state.content\n\n    return (\n      <div>\n        {this.renderMCToggle()}\n        <table>\n          <tbody>\n            <tr>\n              <td></td>\n              <td style={{textAlign: 'center'}}>Default</td>\n              <td style={{textAlign: 'center'}}>{isMC ? 'Multiple Choice' : 'Free Response'} Version</td>\n            </tr>\n            <tr>\n              <td>Instructions</td>\n              {this.renderInstructionsOrQuestionInputs('instructions')}\n            </tr>\n            <tr>\n              <td>Question</td>\n              {this.renderInstructionsOrQuestionInputs('question')}\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n\n\n  renderPreview() {\n    const json = this.stateToJson().slice(1)\n    return (\n      <>\n      <div className='document preview-area' style={{margin: '3mm 1mm'}}>\n        <RenderJson json={['Question', ...json]} />\n      </div>\n      <div className='document preview-area' style={{margin: '3mm 1mm'}}>\n        <RenderJson json={['AnswerKey', ...json]} />\n      </div>\n      </>\n    )\n  }\n\n}","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\nimport EditPageHeader from './EditPageHeader'\nimport EditQuestion from './EditQuestion'\nimport EditText from './EditText'\nimport { parseJson } from '..'\nimport { connect } from 'react-redux'\nimport { updateElement, deleteElement } from '../../actions/document'\n\nconst renderTypes = ({\n  NumberedQuestion: EditQuestion,\n  Question: EditQuestion,\n  PageHeader: EditPageHeader,\n  Text: EditText,\n})\n\nconst EditJson = props => {\n  const { type } = parseJson(props.json)\n  const RenderType = renderTypes[type]\n  if (RenderType) {\n    return <RenderType {...props}/>\n  }\n  return <DefaultEditor {...props}/>\n}\n\nconst mapDispatchToProps = dispatch => ({\n  onUpdateElement: (id, elem) => dispatch(updateElement(id, elem)),\n  onDeleteElement: (id) => dispatch(deleteElement(id)),\n})\n\nexport default connect(null, mapDispatchToProps)(EditJson)","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\nimport { RenderJson, parseJson } from '..'\n\n\nexport default class EditText extends DefaultEditor {\n\n  updateChild(i, val) {\n    const children = [...this.state.children]\n    children[i] = val\n    this.setState({ children })\n  }\n\n  renderChildEditor(i) {\n    return (\n      <textarea key={i} value={this.state.children[i]}\n        onChange={evt => this.updateChild(i, evt.target.value)}\n        rows='12'\n        cols='80'\n        style={{width: 'fit-content'}}\n      />\n    )\n  }\n\n  renderEditor() {\n    return (\n      <>\n        {this.state.children.map((el, i) => this.renderChildEditor(i))}\n      </>\n    )\n  }\n}","import { parseJson, renderJson } from './renderJson'\nimport EditJson from './editJson'\n\nexport const RenderJson = props => {\n  return renderJson(props.json)\n}\n\nexport {\n  parseJson, \n  renderJson, \n  EditJson,\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport ReactModal from 'react-modal'\nimport { RenderJson, EditJson, parseJson } from '../../renderJson'\n\n\n\nclass TopLevelElement extends React.Component {\n  static propTypes = {\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n    json: PropTypes.array.isRequired,\n    canEdit: PropTypes.bool.isRequired,\n  }\n\n  static defaultProps = {\n    canEdit: false,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      modal: 'none',\n    }\n  }\n\n  openEditor = () => this.setState({modal: 'edit'})\n  closeModal = () => this.setState({modal: 'none'})\n\n  render() {\n    const divprops = {}\n    const classNames = []\n    if (this.props.canEdit) {\n      classNames.push('editable')\n      divprops.onDoubleClick = this.openEditor\n    }\n    if (this.props.columns) {\n      const elemprops = parseJson(this.props.json).props\n      if (elemprops.options && elemprops.options.singleColumn) {\n        classNames.push('single-column')\n      }\n    }\n\n    if (classNames.length) {\n      divprops.className = classNames.join(' ')\n    }\n    return (\n      <>\n      <div {...divprops}>\n        <RenderJson json={this.props.json} />\n      </div>\n      <ReactModal isOpen={this.state.modal === 'edit'}\n        onRequestClose={this.closeModal}\n        style={{\n          content: {\n            margin: '20px'\n          }\n        }}\n      >\n        <EditJson\n          id={this.props.id}\n          json={this.props.json}\n          onRequestClose={this.closeModal}\n        />\n      </ReactModal>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  canEdit: state.config.allowEditing,\n  columns: state.style.columns,\n})\n//const mapDispatchToProps = dispatch => ({\n//})\n\nexport default connect(mapStateToProps)(TopLevelElement)","// Sizes from papercss, measurements in mm\n\nexport const portrait = {\n  A3: { width: 297, height: 419 },\n  A4: { width: 210, height: 296 },\n  A5: { width: 148, height: 209 },\n  letter: { width: 216, height: 279 },\n  legal: { width: 216, height: 356 },\n}\n\nexport const landscape = {\n  A3: { width: 420, height: 296 },\n  A4: { width: 297, height: 209 },\n  A5: { width: 210, height: 147 },\n  letter: { width: 280, height: 215 },\n  legal: { width: 357, height: 215 },\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { addPageBreakBefore } from '../../actions/document'\nimport TopLevelElement from './TopLevelElement'\nimport { portrait, landscape } from './pagesize'\n\n\n\nclass MeasuredPage extends React.Component {\n  static propTypes = {\n    headerID: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    footerID: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    contentIDs: PropTypes.array.isRequired,\n    content: PropTypes.object.isRequired,\n    pageSize: PropTypes.string.isRequired,\n    pageOrientation: PropTypes.string.isRequired,\n    pageMargin: PropTypes.string.isRequired,\n    addPageBreakBefore: PropTypes.func.isRequired,\n    pageNumber: PropTypes.number,\n  }\n\n  static defaultProps = {\n    contentIDs: [],\n    pageSize: 'letter',\n    pageOrientation: 'portrait',\n    pageMargin: '10mm 10mm 10mm 10mm',\n  }\n\n  constructor(props) {\n    super(props)\n    this.inner = React.createRef()\n    this.outer = React.createRef()\n    this.state = {overflows: false}\n  }\n\n  innerH = () => this.inner.current.clientHeight\n  outerH = () => this.outer.current.clientHeight\n  overflows = () => this.innerH() > this.outerH()\n\n  componentDidUpdate() {\n    const oldstate = this.state.overflows\n    const newstate = this.overflows()\n    if (oldstate !== newstate) {\n      if (newstate) {\n        this.onOverflow()\n      }\n      this.setState({overflows: newstate})\n      this.forceUpdate()\n    }\n  }\n\n  onOverflow() {\n    this.props.addPageBreakBefore(+this.props.contentIDs[this.props.contentIDs.length-1].split('.')[1])\n  }\n\n  getPageSize()  {\n    if (this.props.pageOrientation === 'landscape') {\n      return landscape[this.props.pageSize]\n    } else {\n      return portrait[this.props.pageSize]\n    }\n  }\n\n  getOuterStyle() {\n    const {width, height} = this.getPageSize()\n    return {width: `${width}mm`, height: `${height}mm`}\n  }\n\n  getInnerStyle() {\n    return {\n      height: 'fit-content',\n      margin: '0',\n      padding: this.props.pageMargin,\n    }\n  }\n\n  getHeaderID() {\n    if (this.props.pageNumber in this.props.headers) {\n      return this.props.pageNumber\n    }\n    return 0\n  }\n\n  render() {\n    let outerclassname = (\n      this.state.overflows \n      ? 'page-outer page-overflowing' \n      : 'page-outer'\n    )\n\n    const outerstyle = this.getOuterStyle()\n    const innerstyle = this.getInnerStyle()\n    const headerID = this.getHeaderID()\n\n    return (\n      <div className={outerclassname} ref={this.outer} style={outerstyle}>\n        <div className='page-inner' ref={this.inner} style={innerstyle}>\n          <TopLevelElement key={headerID}\n            id={`header.${headerID}`}\n            json={this.props.headers[headerID]}\n          />\n          <div className='page-content'>\n            {this.props.contentIDs.map((id) => {\n              const contentID = id.split('.')[1]\n              const json = this.props.content[+contentID]\n              return (\n                <TopLevelElement key={id}\n                  json={json}\n                  id={id}\n                />\n              )\n            })}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  headers: state.document.headers,\n  footers: state.document.footers,\n  content: state.document.content,\n  pageSize: state.style.pageSize,\n  pageOrientation: state.style.pageOrientation,\n  pageMargin: state.style.pageMargin,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  addPageBreakBefore: (id) => dispatch(addPageBreakBefore(id)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MeasuredPage)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { portrait, landscape } from './pagesize'\n\n\nclass Page extends React.Component {\n\n  getPageSize()  {\n    if (this.props.orientation === 'landscape') {\n      return landscape[this.props.size]\n    } else {\n      return portrait[this.props.size]\n    }\n  }\n\n  getOuterStyle() {\n    const {width, height} = this.getPageSize()\n    return {\n      width: `${width}mm`, \n      height: `${height}mm`,\n      padding: '0',\n    }\n  }\n\n  getInnerStyle() {\n    return {\n      margin: '0',\n      width: '100%',\n      height: '100%',\n      padding: this.props.margin,\n    }\n  }\n\n  render() {\n    return (\n      <div className='page-outer' style={this.getOuterStyle()}>\n        <div className='page-inner' style={this.getInnerStyle()}>\n          {this.props.children}\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  size: state.style.pageSize,\n  orientation: state.style.pageOrientation,\n  margin: state.style.pageMargin,\n})\n\nexport default connect(mapStateToProps)(Page)","import React from 'react'\nimport { connect } from 'react-redux'\nimport Page from './Page'\nimport { RenderJson } from '../../renderJson'\n\n\nconst AnswerKey = (props) => {\n  return (\n    <Page>\n      <h3>Answer Key</h3>\n      <div className='answerkey'>\n        {props.contentIDs.map(id => {\n          const element = props.content[id]\n          if (element[0] === 'NumberedQuestion') {\n            return (\n              <div key={`answer-${id}`} className='answerkey-item'>\n                <RenderJson json={['AnswerKey', ...element.slice(1)]} />\n              </div>\n            )\n          } else {\n            return null\n          }\n        })}\n      </div>\n    </Page>\n  )\n}\n\nconst mapStateToProps = state => ({\n  contentIDs: state.document.order,\n  content: state.document.content\n})\n\nexport default connect(mapStateToProps)(AnswerKey)","import Random from 'random-js'\n\nexport class Randomizer {\n  constructor(seed=null) {\n    this.seed = seed;\n    this.engine = Random.engines.mt19937();\n    this.reset();\n  }\n\n  reset() {\n    if (this.seed !== null) {\n      this.engine.seed(this.seed);\n    } else {\n      this.engine.autoSeed();\n    }\n  }\n\n  randint(min, max) {\n    return Random.integer(min, max)(this.engine);\n  }\n\n  real(min, max, inclusive=false) {\n    return Random.real(min, max, inclusive)(this.engine);\n  }\n\n  random(max=1.0) {\n    return this.real(0, max, false);\n  }\n\n  shuffle(array, first) {\n    if (first !== undefined) {\n      let shuffled = Random.shuffle(this.engine, array.slice(1));\n      return [...shuffled.slice(0,first), array[0], ...shuffled.slice(first)];\n    } else {\n      return Random.shuffle(this.engine, array);\n    }\n  }\n\n  shuffleRange(start, end) {\n    let range = [];\n    for (let i = start; i <= end; i++) range.push(i);\n    return this.shuffle(range);\n  }\n\n  bool() {\n    return Random.pick(this.engine, [true, false]);\n  }\n\n  choice(array) {\n    return Random.pick(this.engine, array);\n  }\n\n  sample(pop, size) {\n    return Random.sample(this.engine, pop, size);\n  }\n\n  sampleRange(start, end, size) {\n    let range = [];\n    for (let i = start; i <= end; i++) range.push(i);\n    return this.sample(range, size);\n  }\n\n  poprandom(array) {\n    const i = this.randint(0,array.length-1);\n    return array.splice(i,1)[0];\n  }\n}\n\n","//import math from 'mathjs'\nimport { Randomizer } from './tools/random_randomjs'\nimport { defaultsDeep } from 'lodash'\n\nlet randomSeedGenerator = new Randomizer()\n\nclass QGen {\n  constructor(props={}) {\n    this.params = props.params || {}\n    //this.randomSeed = props.randomSeed || math.randomInt(0, math.pow(2,32))\n    this.randomSeed = props.randomSeed || randomSeedGenerator.randint(0, Math.pow(2, 32)-1)\n    this.random = new Randomizer(this.randomSeed)\n  }\n\n  static register() {\n    let result = {name: this.name}\n    return {...result, ...this.info}\n  }\n\n  getOptions() {\n    return this.constructor.options\n  }\n\n  _specialCaseValues(k, v) {\n    return v\n  }\n\n  _specialCaseKeys(k, v) {\n    //if (k === 'answer') return '_answer'\n    return k\n  }\n\n  setRandomSeed(seed) {\n    this.randomizer.seed(seed)\n  }\n\n  _getParams() {\n    let result = ({})\n    const defaults = this.constructor.defaultParams || {}\n    for (const k in this.constructor.params) {\n      if (this.params[k] !== undefined) {\n        result[k] = this.params[k]\n      } else if (defaults[k] !== undefined) {\n        result[k] = defaults[k]\n      }\n    }\n    return result\n  }\n\n  output() {\n    const out = this.generate(this._getParams())\n    let content = {}\n    for (const k in out) {\n      content[this._specialCaseKeys(k)] = this._specialCaseValues(k, out[k])\n    }\n    return [\n      'NumberedQuestion',\n      { content, options: this.getOptions() },\n    ]\n  }\n}\n\nexport default QGen","\n\nconst test = function(f, x, y) {\n  const r = f({x: x, y: y})\n  if (r > 0) { return 'gt' }\n  if (r < 0) { return 'lt'}\n  return 'eq'\n}\n\nconst contourPresent = function(f, x, y, d) {\n  const p = d / 30\n  let q, r, s, t\n  try {\n    q = test(f, x, y)\n  } catch(e) {\n    q = test(f, x+p, y+p)\n  }\n  \n  try {\n    r = test(f, x+d, y)\n  } catch(e) {\n    r = test(f, x+d-p, y+p)\n  }\n  if (r !== q) return true\n\n  try {\n    s = test(f, x+d, y+d)\n  } catch(e) {\n    s = test(f, x+d-p, y+d-p)\n  }\n  if (s !== q) return true\n\n  try {\n    t = test(f, x, y+d)\n  } catch(e) {\n    t = test(f, x+p, y+d-p)\n  }\n  if (t !== q) return true\n\n  return false\n}\n\n\nconst subdivide = function(f, x, y, d, depth, searchDepth) {\n  const hd = d / 2\n  const props = [hd, depth-1, searchDepth-1]\n  return [\n    ...createTree(f, x, y, ...props),\n    ...createTree(f, x+hd, y, ...props),\n    ...createTree(f, x+hd, y+hd, ...props),\n    ...createTree(f, x, y+hd, ...props)\n  ]\n}\n\nconst createTree = function(f, x, y, d, depth, searchDepth) {\n  if (searchDepth > 0) {\n    return subdivide(f, x, y, d, depth, searchDepth)\n  } else {\n    if (contourPresent(f, x, y, d)) {\n      if (depth > 0) {\n        return subdivide(f, x, y, d, depth, searchDepth)\n      } else {\n        return [{x: x+d/2, y: y+d/2}]\n      }\n    } else {\n      return []\n    }\n  }\n}\n\n\nclass QuadTree {\n\tconstructor({left, right, x=-10, y=-10, d=20, depth=10, searchDepth=6}) {\n    this.f = p => left(p) - right(p)\n\t\tthis.x = x\n\t\tthis.y = y\n\t\tthis.d = d\n\t\tthis.depth = depth\n\t\tthis.searchDepth = searchDepth\n\t}\n\n\tcalcPoints() {\n\t\treturn createTree(this.f, this.x, this.y, this.d, this.depth, this.searchDepth)\n\t}\n}\n\nexport {\n  QuadTree,\n  createTree,\n}","import QGen from './QGen'\nimport { createTree } from './tools/QuadTree'\n\n\nexport class RationalPlot extends QGen {\n  static info = {\n    name: 'RationalFunction',\n    description: 'test vectorgraphic RationalFunction'\n  }\n\n  generate(params) {\n    const rd = this.random\n\n    const inv = rd.choice([true, false])\n\n    const numRoots = rd.randint(0,2)\n    const numAsymptotes = rd.randint(1,3)\n    const numHoles = rd.randint(0,2)\n    const total = numRoots + numAsymptotes + numHoles\n    const values = rd.sampleRange(-9,9,total)\n    const roots = values.slice(0,numRoots)\n    const asymptotes = values.slice(numRoots, numRoots+numAsymptotes)\n    const holes = values.slice(numRoots+numAsymptotes)\n    const domain = [-11,11]\n\n    const [x, y] = inv ? ['y', 'x'] : ['x', 'y']\n\n    let num = ''\n    let den = ''\n\n    for (const r of [...roots, ...holes].sort((a,b) => b-a)) {\n      if (r === 0) {\n        num = `${x}${num}`\n      } else if (r > 0) {\n        num = `${num}(${x}-${r})`\n      } else {\n        num = `${num}(${x}+${-r})`\n      }\n    }\n\n    for (const r of [...asymptotes, ...holes].sort((a,b) => b-a)) {\n      if (r === 0) {\n        den = `${x}${den}`\n      } else if (r > 0) {\n        den = `${den}(${x}-${r})`\n      } else {\n        den = `${den}(${x}+${-r})`\n      }\n    }\n\n    if (num === '') num = '1'\n    if (den === '') den = '1'\n\n    const transform = inv ? 'invertXY' : 'none'\n\n    const graph = [\n      'CoordinatePlane',\n      {span: [-10,-10,10,10], height: '2in'},\n      [\n        'Transform', { type: transform },\n        [\n          'RationalFunction',\n          {roots, holes, asymptotes, domain}\n        ]\n      ]\n    ]\n\n    return {\n      question: `The graph of $$ ${y} = \\\\displaystyle\\\\frac{${num}}{${den}} $$`,\n      diagram: graph,\n    }\n\n\n  }\n}\n\nexport class PolynomialPlot extends QGen {\n  static info = {\n    name: 'PolynomialFunction',\n    description: 'test vectorgraphic PolynomialFunction'\n  }\n\n  generate(params) {\n    const rd = this.random\n\n    const deg = rd.randint(2,7)\n    const inv = rd.choice([true, false])\n    let coeffs = rd.sample([-5,-4,-3,-2,-1,0,1,2,3,4,5], deg+1)\n    const denom = rd.randint(2, 21)\n    \n    if (coeffs[coeffs.length-1] === 0) {\n      coeffs = coeffs.slice(0,-1)\n    }\n    const [v, w] = inv ? ['y', 'x'] : ['x', 'y']\n    let tex = ''\n    for (let i = coeffs.length-1; i >= 0; i--) {\n      const c = coeffs[i]\n      const x = i === 0 ? '' : `${v}^{${i}}`\n      if (c > 0) {\n        if (i < coeffs.length-1) tex += '+';\n        if (c !== 1 || i === 0) tex += c;\n        tex += x\n      } else if (c < 0) {\n        if (c !== -1 || i === 0) {\n          tex += c\n        } else {\n          tex += '-'\n        }\n        tex += x\n      }\n    }\n\n    const transform = inv ? 'invertXY' : 'none'\n\n    const graph = [\n      'CoordinatePlane', {span: [-10,-10,10,10], width: '2in'},\n      [\n        'Transform', { type: transform },\n        [\n          'PolynomialFunction',\n          {coefficients: coeffs.map(c => c/denom), domain: [-11,11]}\n        ]\n      ]\n    ]\n\n    const question = `The graph of $$${w} = \\\\displaystyle\\\\frac{1}{${denom}}(${tex})$$`\n\n    return {\n      question: question,\n      diagram: graph,\n    }\n  }\n}\n\nexport class PlotStyling extends QGen {\n  static info = {\n    name: 'Plot Style',\n    description: 'test applying custom styling to vectorgraphic'\n  }\n\n  generate(params) {\n    const x = t => 9*Math.sin(t)\n    const y = t => 9*Math.sin(1.17*t)\n    const step = 0.1\n    let path1 = []\n    let path2 = []\n    let path3 = []\n    let path4 = []\n\n    let t = -36\n\n    while (t <= -18) {\n      path1.push([x(t), y(t)])\n      t += step\n    }\n    path1.push([x(t), y(t)])\n\n    while (t <= 0) {\n      path2.push([x(t), y(t)])\n      t += step\n    }\n    path2.push([x(t), y(t)])\n\n    while (t <= 18) {\n      path3.push([x(t), y(t)])\n      t += step\n    }\n    path3.push([x(t), y(t)])\n\n\n    while (t <= 36) {\n      path4.push([x(t), y(t)])\n      t += step\n    }\n    path4.push([x(t), y(t)])\n\n\n    return {\n      answer: {prompt: null},\n      question: 'The graph of $$(x,y) = (9\\\\sin(t), 9\\\\cos(1.17t))$$ for $$-36 \\\\leq t \\\\leq 36$$:',\n      diagram: [\n        'CoordinatePlane', { span: [-10,-10,10,10], height: '3in'},\n        [\n          'Style', {color: 'hsl(340,70%,60%)'},\n          ['Path', {points: path4}],\n        ],\n        [\n          'Style', {color: 'hsl(30,90%,50%)'},\n          ['Path', {points: path3}],\n        ],\n        [\n          'Style', {color: 'hsl(80,90%,40%)'},\n          ['Path', {points: path2}],\n        ],\n        [\n          'Style', {color: 'hsl(170,90%,40%)'},\n          ['Path', {points: path1}],\n        ]\n      ]\n    }\n  }\n}\n\nexport class FontTest extends QGen {\n  static info = {\n    name: 'Font Test',\n    description: 'how do 1lIJ look?',\n  }\n\n  generate(params) {\n    const rd = this.random\n    const b = 1\n    const [Ix, Iy, Jx, Jy] = rd.sampleRange(2,8,4)\n    const diagram1 = [\n      'CoordinatePlane', {span: [-2,-2,10,10], height: '1.4in'},\n      ['Point', {x: Ix, y: Iy}],\n      ['Point', {x: Jx, y: Jy}],\n      ['Overlay', {x: Ix, y: Iy, anchor: 'NW'}, '_I_'],\n      ['Overlay', {x: Jx, y: Jy, anchor: 'NW'}, '_J_'],\n    ]\n\n    const wrongs = []\n    for (let i = 0; i < 4; i++) {\n      const [rise, run] = rd.sample([2,3,4,5,6,7,8,9],2)\n      const inter = rd.randint(1,10)\n      const s = rd.choice(['+', '-'])\n      wrongs.push(`$$y = \\\\frac{${rise}}{${run}}x ${s} ${inter}$$`)\n    }\n\n    const choices = wrongs\n\n    return {\n      instructions: [\n        'Text',\n        '**Remember**, point-slope form:',\n        '$$y - y_1 = m(x - x_1)$$,',\n        'and $$m = \\\\frac{\\\\Delta y}{\\\\Delta x}$$.',\n      ],\n      question: [\n        'Text',\n        `Given that line _l_ has a _y-intercept_ of ${b} and`,\n        '_l_ $$\\\\perp$$ _IJ_, determine the equation in',\n        '***slope-intercept*** form (_y = mx + b_) for _l_.',\n      ],\n      diagram: diagram1,\n      answer: {\n        prompt: ['AnswerBlanks', {width: '2in'}, 'equation: _y =_'],\n        //choices: choices,\n      }\n    }\n  }\n}\n\n\nexport class FontDisplay extends QGen {\n  static info = {\n    name: \"Font Sample\"\n  }\n\n  generate(params) {\n    \n    const text = 'the quick brown fox jumps over the lazy dog 1234567890'\n\n    let lines = []\n\n    for (const chars of [text, text.toUpperCase()]) {\n      for (const x of ['', '_', '__', '___']) {\n        lines.push(`${x}${chars}${x}`)\n      }\n    }\n\n    lines.push('$$\\\\text{' + text + '}$$ (LaTeX)')\n    lines.push('$$\\\\text{\\\\textit{' + text + '}}$$ (LaTeX)')\n    lines.push('$$\\\\text{' + text.toUpperCase() + '}$$ (LaTeX)')\n    lines.push('$$\\\\text{\\\\textit{' + text.toUpperCase() + '}}$$ (LaTeX)')\n\n    return {\n      question: lines.join('  \\n'),\n    }\n  }\n}\n\nexport class QuadTreePlotTest extends QGen {\n  static info = {\n    name: 'QuadTree Plot Test',\n    description: 'Test alternate graphing algorithm'\n  }\n\n  generate(params) {\n    const f1 = ({x, y}) => Math.pow(Math.sin(x*x), 1)\n    const f2 = ({x, y}) => Math.pow(Math.cos(y*y), 1)\n    //const f3 = ({x, y}) => Math.pow(Math.sin(y*y), 1)\n    //const f4 = ({x, y}) => Math.pow(Math.cos(x*x), 1)\n\n    \n    let points = createTree(pt => f1(pt) - f2(pt), -5, -5, 10, 8, 6)\n\n    const graph = [\n      'CoordinatePlane',{span: [-5,-5,5,5], height: '3in'},\n      ['ScatterPlot', { points }]\n   ]\n\n\n\n    return {\n      question: \"The graph of $$\\\\sin(x^2) = \\\\cos(y^2)$$:\",\n      diagram: graph,\n    }\n  }\n}\n\nclass MdTest extends QGen {\n\n  static info = {\n    name: 'Formatting Test',\n    description: 'Test markdown/latex'\n  }\n\n  generate(params) {\n\n    const mdtest = `# Heading\n\nRegular, _Italic_, __Bold__, ___Both___, ~sub~script, ^super^script,  \\`monospaced\\`,  \narrows: --> <-- ==> <== <--> <==>\n\nThe formula $$x = \\\\frac{-b \\\\pm \\\\sqrt{b^2 - 4ac}}{2a}$$\nis used to solve quadratic equations.\n\nThe Collatz Function:\n$$$f(n) = \\\\left\\\\{ \\\\begin{array}{rl}\n  n \\\\div 2 & \\\\text{ if $n$ is even} \\\\\\\\\n  3n+1 & \\\\text{ if $n$ is odd}\n\\\\end{array}\\\\right.$$$\n\n- Thing A\n  - Thing A.1\n  - Thing A.2\n- Thing B\n\ninput ($$x$$) | output ($$y$$)\n:-: | :-:\n-3  | 3\n-2  | -2 \n-1  | -5\n 0  | -6\n\n> All summations have a beginning, all effect has a  \n> story, all kindness begins with the sown seed.  \n> Thought buds toward radiance. The gospel of  \n> light is the crossroads of -- indolence, or action.  \n> \n> Be ignited, or be gone.\n\n[Hyperlink](https://npr.org)\n\n${'```'}python\ndef gcd(a, b):\n    if a == b or b == 0:\n        return a\n    elif a == 0:\n        return b\n    else:\n      return gcd(a, a-b) if a > b else gcd(b, b-a)\n${'```'}\n`\n\n    return ({\n      question: {\n        type: 'markdown',\n        data: mdtest,\n      },\n    })\n  }\n\n}\n\n\n\nexport class VegaLite extends QGen {\n  static info = {\n    name: 'Vega Lite',\n    description: 'test vega-lite render type'\n  }\n\n  generate(params) {\n    let points = []\n\n    const f = x => ({x: x, y: 6*x - x*x, function: 'f'})\n    const g = x => ({x: x, y: 5*Math.sin(x), function: 'g'})\n\n    let t = 0\n    while (t <= 7) {\n      points.push(f(t))\n      points.push(g(t))\n      t += 0.2\n    }\n\n    const diagram2 = {\n      config: {\n        line: {\n          color: 'red'\n        }\n      },\n      data: { values: points },\n      mark: {\n        type: 'line', \n        interpolate: 'monotone',\n      },\n      \"encoding\": {\n        x: {\n          field: 'x', \n          type: 'quantitative',\n        },\n        y: {\n          field: 'y', \n          type: 'quantitative',\n        },\n        color: {\n          field: 'function',\n          type: 'nominal',\n          scale: {\n            domain: ['f', 'g'], \n            range: ['var(--vg-function-1-color)', 'var(--vg-function-2-color)'],\n          },\n        }\n      },\n    }\n\n    return {\n      instructions: 'The graphs of $$f(x) = - x^2 + 6x$$ and $$g(x) = 5\\\\sin(x)$$',\n      diagram: ['VegaLite', diagram2],\n    }\n  }\n}\n\nclass VegaTest extends QGen {\n  static info = {\n    name: 'Vega Test',\n    description: 'Test Vega rendering'\n  }\n\n  generate(params) {\n    return {\n      answer: null,\n      instructions: \"Rendered with Vega:\",\n      diagram: ['Vega', {\n          \"$schema\": \"https://vega.github.io/schema/vega/v4.json\",\n          \"width\": 500,\n          \"height\": 200,\n          \"padding\": 5,\n        \n          \"signals\": [\n            {\n              \"name\": \"interpolate\",\n              \"value\": \"linear\",\n              \"bind\": {\n                \"input\": \"select\",\n                \"options\": [\n                  \"basis\",\n                  \"cardinal\",\n                  \"catmull-rom\",\n                  \"linear\",\n                  \"monotone\",\n                  \"natural\",\n                  \"step\",\n                  \"step-after\",\n                  \"step-before\"\n                ]\n              }\n            }\n          ],\n        \n          \"data\": [\n            {\n              \"name\": \"table\",\n              \"values\": [\n                {\"x\": 0, \"y\": 28, \"c\":0}, {\"x\": 0, \"y\": 20, \"c\":1},\n                {\"x\": 1, \"y\": 43, \"c\":0}, {\"x\": 1, \"y\": 35, \"c\":1},\n                {\"x\": 2, \"y\": 81, \"c\":0}, {\"x\": 2, \"y\": 10, \"c\":1},\n                {\"x\": 3, \"y\": 19, \"c\":0}, {\"x\": 3, \"y\": 15, \"c\":1},\n                {\"x\": 4, \"y\": 52, \"c\":0}, {\"x\": 4, \"y\": 48, \"c\":1},\n                {\"x\": 5, \"y\": 24, \"c\":0}, {\"x\": 5, \"y\": 28, \"c\":1},\n                {\"x\": 6, \"y\": 87, \"c\":0}, {\"x\": 6, \"y\": 66, \"c\":1},\n                {\"x\": 7, \"y\": 17, \"c\":0}, {\"x\": 7, \"y\": 27, \"c\":1},\n                {\"x\": 8, \"y\": 68, \"c\":0}, {\"x\": 8, \"y\": 16, \"c\":1},\n                {\"x\": 9, \"y\": 49, \"c\":0}, {\"x\": 9, \"y\": 25, \"c\":1}\n              ]\n            }\n          ],\n        \n          \"scales\": [\n            {\n              \"name\": \"x\",\n              \"type\": \"point\",\n              \"range\": \"width\",\n              \"domain\": {\"data\": \"table\", \"field\": \"x\"}\n            },\n            {\n              \"name\": \"y\",\n              \"type\": \"linear\",\n              \"range\": \"height\",\n              \"nice\": true,\n              \"zero\": true,\n              \"domain\": {\"data\": \"table\", \"field\": \"y\"}\n            },\n            {\n              \"name\": \"color\",\n              \"type\": \"ordinal\",\n              \"range\": \"category\",\n              \"domain\": {\"data\": \"table\", \"field\": \"c\"}\n            }\n          ],\n        \n          \"axes\": [\n            {\"orient\": \"bottom\", \"scale\": \"x\", 'titleFont': 'Zilla Slab'},\n            {\"orient\": \"left\", \"scale\": \"y\"}\n          ],\n        \n          \"marks\": [\n            {\n              \"type\": \"group\",\n              \"from\": {\n                \"facet\": {\n                  \"name\": \"series\",\n                  \"data\": \"table\",\n                  \"groupby\": \"c\"\n                }\n              },\n              \"marks\": [\n                {\n                  \"type\": \"line\",\n                  \"from\": {\"data\": \"series\"},\n                  \"encode\": {\n                    \"enter\": {\n                      \"x\": {\"scale\": \"x\", \"field\": \"x\"},\n                      \"y\": {\"scale\": \"y\", \"field\": \"y\"},\n                      \"stroke\": {\"scale\": \"color\", \"field\": \"c\"},\n                      \"strokeWidth\": {\"value\": 2}\n                    },\n                    \"update\": {\n                      \"interpolate\": {\"signal\": \"interpolate\"},\n                      \"fillOpacity\": {\"value\": 1}\n                    },\n                    \"hover\": {\n                      \"fillOpacity\": {\"value\": 0.5}\n                    }\n                  }\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    }\n  }\n}\n","import React from 'react'\nimport { RenderJson } from '../../../renderJson'\nimport { FontTest as Generator } from '../../../questions/generatortests'\n\n\n\n\n\nconst FontTest = props => {\n  const { fontFamily, fontSize } = props\n  //const json = new Generator().output()\n  //delete question[1].content.diagram\n  //delete question[1].content.answer\n  const json = ['Markdown',\n          `${fontFamily}-${fontSize}:`,\n          'Given that line _l_ has a _y-intercept_ of 1 and _l_ $$\\\\perp$$ _JL_,',\n          'determine the equation in ___slope-intercept___ form for _l_.  ',\n          '__Remember__, you can use _point-slope_ form $$y - y_1 = m(x - x_1)$$ to',\n          'come up with the equation.'\n        ]\n        /*\n        diagram: [\n          'CoordinatePlane', {span: \"-10,-5 10,5\", height: '.8in'},\n          ['Point', {x: -6, y: 2}],\n          ['Point', {x: 4, y: -3}],\n          ['Overlay', {x: -6, y: 2, anchor: 'E', displacement: '1mm'}, '_J_'],\n          ['Overlay', {x: 4, y: -3, anchor: 'W', displacement: '1mm'}, '_L_'],\n        ],\n        answer: {\n          choices: [\n            '_y = 2x + 1_',\n            '_y = 3x - 67_',\n            '_y = 4x + 89_',\n            '_y = 5x + 10_',\n          ],\n          //listDirection: 'horizontal',\n        },\n        */\n\n  return (\n    <>\n    <div style={{\n      '--doc-font-family': fontFamily, \n      '--doc-font-size': fontSize, \n      fontFamily, \n      fontSize,\n      width: '80%',\n    }}>\n      <RenderJson json={json}/>\n    </div>\n    </>\n  )\n}\n\nexport default FontTest","import React from 'react'\n//import Page from './Page'\nimport MeasuredPage from './MeasuredPage'\nimport AnswerKey from './AnswerKey'\nimport { connect } from 'react-redux'\n\n\nimport Scratch from './testing/scratchpage'\n\n\nconst Document = (props) => {\n  const len = props.contentIDs.length - props.hidden\n  const visibleIDs = props.contentIDs.slice(0,len)\n  let prev = 0\n  let slices = []\n  for (const i of props.pagebreaks) {\n    if (i < len) {\n      slices.push([prev, i])\n      prev = i\n    }\n  }\n  slices.push([prev])\n  const pages = slices.map(s => visibleIDs.slice(...s))\n  const className = props.debugView ? 'document debug-view' : 'document'\n\n  //return <div className={className}><Scratch/></div>\n\n  return (\n    <div className={className}>\n      {(\n        pages.length > 0 \n        ? pages.map((ids,i) => (\n          <MeasuredPage key={`page-${i+1}`} \n            pageNumber={i+1}\n            contentIDs={ids.map(i => `content.${i}`)}\n          />\n        )) : null\n      )}\n      {props.showAnswerKey ? <AnswerKey /> : null}\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  contentIDs: state.document.order,\n  pagebreaks: state.document.pagebreaks,\n  showAnswerKey: state.config.showAnswerKey,\n  style: state.style,\n  hidden: state.config.numberHidden,\n  debugView: state.config.debugView,\n})\n\nexport default connect(mapStateToProps)(Document)","import React from 'react'\nimport Page from '../Page'\nimport { renderJson, RenderJson } from '../../../renderJson'\nimport { Math, DisplayMath } from '../../../renderJson/renderTypes/Math'\nimport Text from '../../../renderJson/renderTypes/Text'\nimport {\n  CoordinatePlane, Label, Path, Style, Grid\n} from '../../../renderJson/renderTypes/VectorGraphics'\nimport { includes } from 'lodash'\nimport FontTest from './FontTest'\n\nimport styles from './scratch.module.css'\n\n\nconst jsx = (\n  <svg viewBox=\"-6 -11 17 17\" height=\"2in\" xmlns=\"http://www/w3/org/2000/svg\">\n    <g transform=\"scale(1,-1)\">\n      <g style={{stroke: 'rgba(0,0,200,0.5)'}}>\n        <Grid span={[-5,-5,10,10]} />\n      </g>\n      <circle cx=\"2\" cy=\"2\" r=\"0.2\"/>\n      <foreignObject className={styles.FO} x=\"2\" y=\"2\" width=\"1000\" height=\"1000\">\n        <div className={styles.Div1}>\n          <div className={styles.Div2} anchor=\"NW\">\n            <span>Anchor NW</span>\n          </div>\n        </div>\n        <div className={styles.Div1}>\n          <div className={styles.Div2} anchor=\"NE\">\n            <span>Anchor NE</span>\n          </div>\n        </div>\n        <div className={styles.Div1}>\n          <div className={styles.Div2} anchor=\"SW\">\n            <span>Anchor SW</span>\n          </div>\n        </div>\n        <div className={styles.Div1}>\n          <div className={styles.Div2} anchor=\"SE\">\n            <span>Anchor SE</span>\n          </div>\n        </div>\n      </foreignObject>\n    </g>\n  </svg>\n)\n\nconst [x, y] = [2.5,1.5]\n\nconst angles = [0, 45, 90, 135, 180]\n\nconst json = [\n  [\n    'CoordinatePlane', {span: [-2,-2,10,10], width: '2in', },\n    ['Path', {points: '1,1 7,1', markers: '-->'}],\n    ['Path', {points: '1,1 5,5', markers: '-->'}],\n    ['Point', {x: 1, y: 1}],\n    ['AngleMark', {x: 1, y: 1, radius: 2, start: 0, end: 315}],\n  ],\n]\n\n\n\n\nconst Scratch = () => {\n  const torender = []\n  for (const fontSize of ['8pt', '9pt', '10pt']) {\n    for (const fontFamily of ['katex_main', 'CMU Serif WOFF', 'CMU Serif TTF', \n    'CMU Concrete WOFF', 'CMU Concrete TTF']) {\n      torender.push({fontSize, fontFamily})\n    }\n  }\n\n  return (\n    <Page>\n      <div className=\"page-content\">\n        {torender.map(p => <FontTest key={p.fontFamily + p.fontSize} {...p}/>)}      \n      </div>\n    </Page>\n  )\n}\n\nexport default Scratch","export const ADD_FONTFAMILY = 'ADD_FONTFAMILY'\nexport const SET_ALLOW_EDITING = 'SET_ALLOW_EDITING'\nexport const SET_FONTFAMILY_UI = 'SET_FONTFAMILY_UI'\nexport const SET_SHOW_ANSWERKEY = 'SET_SHOW_ANSWERKEY'\nexport const SET_HIDDEN_COUNT = 'SET_HIDDEN_COUNT'\nexport const SET_UI_THEME = 'SET_UI_THEME'\nexport const SET_DEBUG_VIEW = 'SET_DEBUG_VIEW'\n\nexport const addFontFamily = (font) => ({\n  type: ADD_FONTFAMILY,\n  payload: font,\n})\n\nexport const setAllowEditing = (b) => ({\n  type: SET_ALLOW_EDITING,\n  payload: b,\n})\n\nexport const setFontFamilyUI = (inputType) => ({\n  type: SET_FONTFAMILY_UI,\n  payload: inputType,\n})\n\nexport const setShowAnswerKey = (bool) => ({\n  type: SET_SHOW_ANSWERKEY,\n  payload: bool,\n})\n\nexport const setHiddenCount = (n) => ({\n  type: SET_HIDDEN_COUNT,\n  payload: n,\n})\n\nexport const setUITheme = theme => {\n  if (theme === 'none') {\n    document.body.removeAttribute('ui-theme')\n  } else {\n    document.body.setAttribute('ui-theme', theme)\n  }\n  return ({\n    type: SET_UI_THEME,\n    payload: theme,\n  })\n}\n\nexport const setDebugView = bool => ({\n  type: SET_DEBUG_VIEW,\n  payload: bool\n})\n\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { addFontFamily } from '../../../actions/config'\n\nclass AddLocalFont extends React.Component {\n  static propTypes = {\n    addFontFamily: PropTypes.func.isRequired,\n    buttonLabel: PropTypes.string.isRequired,\n  }\n\n  static defaultProps = {\n    buttonLabel: 'Add'\n  }\n\n  constructor(props) {\n    super(props)\n    this.input = React.createRef()\n  }\n\n  addFont = () => {\n    const fontFamily = this.input.current.value\n    this.props.addFontFamily(fontFamily)\n  }\n\n  render() {\n    return (\n      <>\n      <input ref={this.input} spellCheck={false} />\n      <button onClick={this.addFont}>{this.props.buttonLabel}</button>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addFontFamily: f => dispatch(addFontFamily(f)),\n})\n\nexport default connect(null, mapDispatchToProps)(AddLocalFont)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setFontFamilyUI } from '../../../actions/config'\n\nclass FontFamilyUI extends React.Component {\n  static propTypes = {\n    current: PropTypes.string,\n    setFontFamilyUI: PropTypes.func.isRequired\n  }\n\n  setFontFamilyUI = (evt) => {\n    this.props.setFontFamilyUI(evt.target.value)\n  }\n\n  render() {\n    return (\n      <select onChange={this.setFontFamilyUI} value={this.props.current}>\n        <option value='input'>Input</option>\n        <option value='select'>Menu</option>\n      </select>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.config.fontFamilyUI\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setFontFamilyUI: (inputtype) => dispatch(setFontFamilyUI(inputtype)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontFamilyUI)","export const SET_DOCUMENT_FONTFAMILY = 'SET_DOCUMENT_FONTFAMILY'\nexport const SET_DOCUMENT_FONTSIZE = 'SET_DOCUMENT_FONTSIZE'\nexport const SET_MATH_FONTSIZE = 'SET_MATH_FONTSIZE'\nexport const SET_MATH_FONTWEIGHT = 'SET_MATH_FONTWEIGHT'\nexport const SET_MATH_FONTFAMILY = 'SET_MATH_FONTFAMILY'\nexport const SET_PAGE_MARGIN = 'SET_PAGE_MARGIN'\nexport const SET_PAGE_SIZE = 'SET_PAGE_SIZE'\nexport const UPDATE_GRAPHSTYLE = 'UPDATE_GRAPHSTYLE'\nexport const RESET_GRAPHSTYLE = 'RESET_GRAPHSTYLE'\n\n// Document font\nexport const setDocumentFontFamily = (family) => {\n  return ({\n    type: SET_DOCUMENT_FONTFAMILY,\n    payload: family\n  })\n}\nexport const setDocumentFontSize = (size) => {\n  return ({\n    type: SET_DOCUMENT_FONTSIZE,\n    payload: size\n  })\n}\n\n// Document Math Font\nexport const setMathFontSize = (size) => {\n  return ({\n    type: SET_MATH_FONTSIZE,\n    payload: size\n  })\n}\nexport const setMathFontWeight = (weight) => {\n  return ({\n    type: SET_MATH_FONTWEIGHT,\n    payload: weight\n  })\n}\nexport const setMathFontFamily = family => {\n  return ({\n    type: SET_MATH_FONTFAMILY,\n    payload: family,\n  })\n}\n\n// Page Layout\nexport const setPageSize = size => ({\n  type: SET_PAGE_SIZE,\n  payload: size,\n})\nexport const setPageMargin = margins => ({\n  type: SET_PAGE_MARGIN,\n  payload: margins\n})\n\n// Graph Style\nexport const updateGraphStyle = (props) => {\n  return ({\n    type: UPDATE_GRAPHSTYLE,\n    payload: props,\n  })\n}\n\nexport const resetGraphStyle = () => ({\n  type: RESET_GRAPHSTYLE,\n})","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setDocumentFontFamily } from '../../../actions/style'\n\n\nclass FontFamilyInput extends React.Component {\n  static propTypes = {\n    current: PropTypes.string,\n    setDocumentFontFamily: PropTypes.func,\n  }\n\n  setFontFamily(fontFamily) {\n    this.props.setDocumentFontFamily(fontFamily)\n  }\n\n  onChange = (evt) => {\n    const value = evt.target.value\n    const fontFamily = value.slice(0,7) === '_LOCAL_' ? value.slice(8) : value\n    this.setFontFamily(fontFamily)\n  }\n\n  render() {\n    return (\n      <input type=\"text\"\n        value={this.props.current}\n        spellCheck={false}\n        onChange={this.onChange}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.style.fontFamily,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setDocumentFontFamily: (family) => dispatch(setDocumentFontFamily(family)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontFamilyInput)","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { setDocumentFontFamily } from '../../../actions/style'\nimport { addFontFamily } from '../../../actions/config'\n\n\nconst DefaultFonts = [\n  /*\n  'Alegreya',\n  'Alegreya Sans',\n  'Arima Madurai',\n  'BioRhyme',\n  'EB Garamond',\n  'Fira Sans',\n  //'Gentium Basic',\n  //'Handlee',\n  'IBM Plex Sans',\n  'IBM Plex Serif',\n  //'Inconsolata',\n  //'Jura',\n  'Lora',\n  //'Merriweather',\n  //'Noticia Text',\n  //'Noto Sans',\n  'Noto Serif',\n  'Old Standard TT',\n  'Raleway',\n  'Roboto',\n  'Roboto Slab',\n  'Signika',\n  'Source Serif Pro',\n  'Ubuntu',\n  */\n]\n\nconst BrowserFonts = [\n  'sans-serif',\n  'serif',\n  '__CUSTOM__',\n]\n\nconst fontLabels = {\n  '__CUSTOM__': 'other',\n  'cmu_bright': 'CMU Bright',\n  'cmu_concrete': 'CMU Concrete',\n  'cmu_sansserif': 'CMU Sans',\n  'cmu_serif': 'CMU Serif',\n  'katex_sansserif': 'KaTeX Sans',\n  'katex_main': 'KaTeX Serif',\n  'sans-serif': 'sans-serif (browser)',\n  'serif': 'serif (browser)'\n}\n\nfunction fontSort(a, b) {\n  const aName = (fontLabels[a] || a).toUpperCase()\n  const bName = (fontLabels[b] || b).toUpperCase()\n  if (aName < bName) { return -1 }\n  if (aName > bName) { return 1}\n  return 0\n}\n\nfunction renderFontOption(family) {\n  if (family) {\n    const label = fontLabels[family] || family\n    return (\n      <option key={`font-${family}`}\n        value={family}\n        title={family === '__CUSTOM__' ? 'Choose a font not on this list' : ''}\n        >{label}</option>\n    )\n  }\n  return <option key={0} value=\"0\" disabled={true}>---</option>\n}\n\n\n\n//////////////////////////////\n//\n// COMPONENT\n//\n////////////////////////////\n\n\nclass FontFamilySelect extends React.Component {\n  static propTypes = {\n    current: PropTypes.string,\n    localFonts: PropTypes.array.isRequired,\n    setDocumentFontFamily: PropTypes.func.isRequired,\n  }\n\n  static defaultProps = {\n    localFonts: [],\n  }\n\n  constructor(props) {\n    super(props)\n  }\n\n  fontList = () => {\n    const result = [\n      ...[\n        ...DefaultFonts, \n        ...this.props.localFonts\n      ].sort(fontSort), \n      ...BrowserFonts,\n      \n    ]\n    return result\n  }\n\n  setFontFamily(fontFamily) {\n    //this.setCss(fontFamily)\n    this.props.setDocumentFontFamily(fontFamily)\n  }\n\n  setFromPrompt = () => {\n    const family = window.prompt(`Enter Font Name\n(this should be the name of a font already installed on your computer)`)\n    if (family) {\n      this.props.addFontFamily(family)\n      this.setFontFamily(family)\n    }\n  }\n\n  onChange = (evt) => {\n    const value = evt.target.value\n    if (value === '__CUSTOM__') {\n      this.setFromPrompt()\n    } else {\n      this.setFontFamily(value)\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <select\n          value={this.props.current}\n          onChange={this.onChange}\n        >\n          {this.fontList().map((f) => renderFontOption(f))}\n        </select>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.style.fontFamily,\n  localFonts: [...state.config.localFonts],\n})\n\nconst mapDispatchToProps = dispatch => ({\n  addFontFamily: f => dispatch(addFontFamily(f)),\n  setDocumentFontFamily: (family) => dispatch(setDocumentFontFamily(family)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontFamilySelect)","import React from 'react'\nimport { connect } from 'react-redux'\nimport FontFamilyInput from './FontFamilyInput'\nimport FontFamilySelect from './FontFamilySelect'\n\nconst FontFamily = ({fontFamilyUI}) => (\n  fontFamilyUI === 'input' ? <FontFamilyInput/> : <FontFamilySelect/>\n)\n\nconst mapStateToProps = state => ({fontFamilyUI: state.config.fontFamilyUI})\n\nexport default connect(mapStateToProps)(FontFamily)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setDocumentFontSize } from '../../../actions/style'\n\n\nclass FontSizeSelect extends React.Component {\n\n  static propTypes = {\n    current: PropTypes.string.isRequired,\n    setDocumentFontSize: PropTypes.func.isRequired,\n  }\n\n  setDocFontSize(size) {\n    this.props.setDocumentFontSize(size)\n  }\n\n  onChange = (evt) => {\n    this.setDocFontSize(evt.target.value)\n  }  \n\n  renderSizeOptions() {\n    const options = [6, 7, 8, 9, 10, 11, 12]\n    return (\n      <>\n      {options.map((s) => {\n        const size = `${s}pt`\n        return (\n          <option \n            value={size}\n            key={s}\n          >{size}</option>\n        )\n      })}\n      </>\n    )\n  }\n\n  render() {\n    return (\n      <>\n        <select \n          value={this.props.current}\n          onChange={this.onChange}\n        >\n          {this.renderSizeOptions()}\n        </select>\n      </>\n    )\n  }\n}\n\n\nconst mapStateToProps = state => ({\n  current: state.style.fontSize,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setDocumentFontSize: (size) => dispatch(setDocumentFontSize(size)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontSizeSelect)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport WebFont from 'webfontloader'\nimport { connect } from 'react-redux'\nimport { addFontFamily } from '../../../actions/config'\nimport { setDocumentFontFamily } from '../../../actions/style'\nimport { includes } from 'lodash'\n\n\nconst googleFonts = [\n  'ABeeZee',\n  //'Alegreya',\n  //'Alegreya Sans',\n  'Arima Madurai',\n  //'BioRhyme',\n  //'Cormorant',\n  'EB Garamond',\n  'Fira Sans',\n  //'Gentium Basic',\n  //'Handlee',\n  'IBM Plex Sans',\n  //'IBM Plex Serif',\n  //'Inconsolata',\n  //'Jura',\n  'Lora',\n  //'Merriweather',\n  //'Neuton',\n  'Noticia Text',\n  //'Noto Sans',\n  //'Noto Serif',\n  //'Old Standard TT',\n  //'Raleway',\n  //'Roboto',\n  'Roboto Slab',\n  //'Signika',\n  //'Source Sans Pro',\n  //'Source Serif Pro',\n  'Ubuntu',\n  //'Zilla Slab',\n].sort()\n\nconst fontStyles = {\n  default: '400,400i,700,700i',\n  //'Jura': '500,700',\n  //'Signika': '300,700',\n  //'Ubuntu': '300,300i,700,700i',\n  'BioRhyme': '300,700',\n  'Merriweather': '300,300i,700,700i',\n}\n\nclass FontLoader extends React.Component {\n  static propTypes = {\n    addFontFamily: PropTypes.func.isRequired,\n    type: PropTypes.string.isRequired,\n  }\n\n  static defaultProps = {\n    type: 'button'\n  }\n\n  constructor(props) {\n    super(props)\n    const toAdd = googleFonts.filter(f => !includes(this.props.localFonts, f))\n    \n    this.state = {\n      input: '',\n      selection: toAdd[0],\n      toAdd,\n    }\n  }\n\n  updateInput = evt => {\n    this.setState({input: evt.target.value})\n  }\n\n  updateSelection = evt => {\n    this.setState({selection: evt.target.value})\n  }\n\n  setFont(family) {\n    this.props.setDocumentFontFamily(family)\n  }\n\n  addFont(family) {\n    //this.props.setDocumentFontFamily(family)\n    this.props.addFontFamily(family)\n    const toAdd = this.state.toAdd.filter(f => f !== family)\n    this.setState({toAdd, selection: toAdd[0]})\n  }\n\n  loadFont = (family) => {\n    const request = `${family}:${fontStyles[family] || fontStyles.default}`\n    WebFont.load({\n      google: {\n        families: [request]\n      },\n      fontactive: () => this.addFont(family),\n      fontinactive: () => console.error(`Could not load font ${family}`),\n    })\n  }\n\n  loadAll = () => {\n    if (this.state.toAdd.length === 1) {\n      return null\n    }\n    WebFont.load({\n      google: {\n        families: this.state.toAdd.map(f => `${f}:${fontStyles[f] || fontStyles.default}`)\n      },\n      fontactive: (family) => this.addFont(family),\n      fontinactive: (family) => console.error(`Could not load font ${family}`),\n    })\n  }\n\n  loadInputFont = () => {\n    const family = this.state.input\n    if (family) {\n      this.loadFont(family)\n    }\n  }\n\n  loadSelectedFont = () => {\n    const family = this.state.selection\n    if (family) {\n      if (family === '__LOAD_ALL_WEB_FONTS__') {\n        this.loadAll()\n      } else {\n        this.loadFont(family)\n      }\n    }\n  }\n\n  renderButton() {\n    return (\n      <button onClick={this.loadAll}\n      >{this.props.children}</button>\n    )\n  }\n\n  renderInput() {\n    return (\n      <>\n      <input type=\"text\" \n        onChange={this.updateInput} \n        value={this.state.input}\n        placeholder=\"Enter Font Name\"\n        \n      ></input>\n      <button onClick={this.loadInputFont}\n        title=\"Load from Google Fonts\"\n      >{this.props.children}</button>\n      </>\n    )\n  }\n\n  renderSelect() {\n    return (\n      <>\n      <select \n        value={this.state.selection}\n        onChange={this.updateSelection}\n      >\n        {this.state.toAdd.map(f => <option key={`ff-${f}`} value={f}>{f}</option>)}\n        <option value=\"__LOAD_ALL_WEB_FONTS__\">Load All Web Fonts</option>\n      </select>\n      <button onClick={this.loadSelectedFont}>Load</button>\n      </>\n    )\n  }\n\n  render() {\n    if (this.props.type === 'button') {\n      return this.renderButton()\n    }\n    if (this.props.type === 'input') {\n      return this.renderInput()\n    }\n    if (this.props.type === 'select') {\n      return this.renderSelect()\n    }\n  }\n}\n\nconst mapStateToProps = state => ({\n  localFonts: state.config.localFonts,\n})\nconst mapDispatchToProps = dispatch => ({\n  addFontFamily: f => dispatch(addFontFamily(f)),\n  setDocumentFontFamily: f => dispatch(setDocumentFontFamily(f)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontLoader)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setMathFontSize, setMathFontWeight, setMathFontFamily } from '../../../actions/style'\n\nclass MathFontSettings extends React.Component {\n  static propTypes = {\n    currentSize: PropTypes.string,\n    currentWeight: PropTypes.string,\n    currentFamily: PropTypes.string,\n    setMathFontSize: PropTypes.func.isRequired,\n    setMathFontWeight: PropTypes.func.isRequired,\n    setMathFontFamily: PropTypes.func.isRequired,\n  }\n\n  setSize(size) {\n    this.props.setMathFontSize(size)\n  }\n\n  setWeight(weight) {\n    this.props.setMathFontWeight(weight)\n  }\n  setFamily(family) {\n    this.props.setMathFontFamily(family)\n  }\n\n  onChangeSize = evt => {\n    this.setSize(evt.target.value + 'em')\n  }\n\n  onChangeWeight = evt => {\n    if (evt.target.checked) {\n      this.setWeight('bold')\n    } else {\n      this.setWeight('normal')\n    }\n  }\n\n  onChangeFamily = evt => {\n    this.setFamily(evt.target.value)\n  }\n\n  render() {\n    return (\n      <>\n        <span>Font: </span>\n        <select\n          onChange={this.onChangeFamily}\n          value={this.props.currentFamily}\n        >\n          <option value=\"__DEFAULT__\">Default (KaTeX)</option>\n          <option value=\"__MATCH__\">Match Document Font</option>\n        </select>\n        <br/>\n        <span>Relative Size:</span>\n        <input\n          type=\"number\"\n          onChange={this.onChangeSize}\n          value={this.props.currentSize.slice(0,-2)}\n          min=\"0.7\"\n          max=\"2.0\"\n          step=\"0.1\"/>\n        <br/>\n        <label htmlFor=\"math-font-bold\">Bold:</label>\n        <input id=\"math-font-bold\"\n          ref={this.bold} \n          onChange={this.onChangeWeight}\n          type=\"checkbox\"\n          checked={this.props.currentWeight === 'bold'}\n        />\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  currentSize: state.style.mathFontSize,\n  currentWeight: state.style.mathFontWeight,\n  currentFamily: state.style.mathFontFamily,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setMathFontFamily: (family) => dispatch(setMathFontFamily(family)),\n  setMathFontSize: (size) => dispatch(setMathFontSize(size)),\n  setMathFontWeight: (weight) => dispatch(setMathFontWeight(weight)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MathFontSettings)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { RenderJson } from '../../../renderJson'\n\n\nconst tabsize = 2;\n\nfunction onKeyDown(evt) {\n  if (evt.keyCode === 9) { // handle tab\n    let target = evt.target;\n    const start = target.selectionStart;\n    const end = target.selectionEnd;\n    const value = target.value;\n    target.value = value.substring(0,start) + Array(tabsize).fill(' ').join('') + value.substring(end);\n    target.selectionStart = start + tabsize;\n    target.selectionEnd = end + tabsize;\n    evt.preventDefault();\n  } else if (evt.keyCode === 8) { // handle backspace\n    let target = evt.target;\n    const start = target.selectionStart;\n    if (start === target.selectionEnd) {\n      const value = target.value;\n      if (value.substring(start-tabsize, start) === Array(tabsize).fill(' ').join('')) {\n        target.value = value.substring(0,start-tabsize) + value.substring(start);\n        target.selectionStart = start - tabsize;\n        target.selectionEnd = start - tabsize;\n        evt.preventDefault();\n      }\n    }\n  }\n}\n\nclass TextPreview extends React.Component {\n  static propTypes = {\n    defaultValue: PropTypes.string,\n    renderType: PropTypes.string.isRequired\n  }\n\n  static defaultProps = {\n    renderType: 'text',\n    wrapperElement: 'div',\n  }\n\n  constructor(props) {\n    super(props)\n    const style = this.props.style || {}\n    this.inputStyle = style.input || {}\n    this.outputStyle = style.output || {}\n    this.input = React.createRef()\n    this.state = { text: props.defaultValue || '' }\n  }\n\n  updatePreview = (evt) => {\n    this.setState({ text: evt.target.value })\n  }\n\n  renderPreview() {\n    if (this.props.renderType === 'text') {\n      return this.state.text.split('\\n\\n').map((t,i) => (\n        <RenderJson key={i} json={['Text', t]} />\n      ))\n    } else if (this.props.renderType === 'json') {\n      try {\n        const json = JSON.parse(this.state.text)\n        return <RenderJson json={json} />\n      } catch(e) {\n        return \"Failed to render\"\n      }\n    }\n  }\n\n  render() {\n    return (\n      <>\n      <this.props.wrapperElement className='text-preview-input' >\n        <textarea \n          style={this.inputStyle}\n          onChange={this.updatePreview}\n          onKeyDown={onKeyDown}\n          value={this.state.text}\n        />\n      </this.props.wrapperElement>\n      <this.props.wrapperElement className='text-preview-output' >\n        <div className='document' style={this.outputStyle}>\n          {this.renderPreview()}\n        </div>\n      </this.props.wrapperElement>\n      </>\n    )\n  }\n}\n\nexport default TextPreview","import AddLocalFont from './AddLocalFont'\nimport FontFamilyUI from './FontFamilyUI'\nimport FontFamily from './FontFamily'\nimport FontSize from './FontSize'\nimport FontSettings from './FontSettings'\nimport TextPreview from './TextPreview'\n\nexport {\n  FontFamily,\n  FontSize,\n  AddLocalFont,\n  FontFamilyUI,\n  FontSettings,\n  TextPreview\n}\n\nexport default FontSettings","import React from 'react'\nimport FontFamily from './FontFamily'\nimport FontLoader from './FontLoader'\nimport MathFontSettings from './MathFontSettings'\nimport FontFamilyUI from './FontFamilyUI'\nimport AddLocalFont from './AddLocalFont'\nimport TextPreview from './TextPreview'\n\nconst previewtext = `To solve an equation of the form $$ax^2 + bx + c = 0$$, use the *quadratic formula*:\n\n$$$x = \\\\frac{-b \\\\pm \\\\sqrt{b^2 - 4ac}}{2a}$$$\n\nThe angles of $$\\\\triangle{ABC}$$ add to $$180\\\\degree$$.\n\nThe **volume** of a sphere is $$\\\\frac{4}{3}\\\\pi r^3$$.\n\n***Remember*** that $$e^{i\\\\theta} = \\\\cos\\\\theta + i\\\\sin\\\\theta$$.\n\nIt can be difficult to distinguish between J I l 1.`\n\n\nconst FontSettings = () => {\n  return (\n    <>\n      <h4>Document Font</h4>\n      <div>\n        Font Selection Method: <FontFamilyUI />\n      </div>\n      <div>\n        Font: <FontFamily/> \n      </div>\n      <h4>Web Fonts</h4>\n      <div>\n        <FontLoader type=\"input\">Load</FontLoader>\n        <br/>\n        <FontLoader type=\"button\">Load Suggested Fonts</FontLoader>\n      </div>\n      <h4>Math Font</h4>\n      <div style={{justifyItems: 'right'}}>\n        <MathFontSettings />\n      </div>\n      <h4>Preview</h4>\n      <div style={{display: 'flex', flexDirection: 'row', '--doc-font-size': '11pt'}}>\n        <TextPreview wrapperElement='div' defaultValue={previewtext} style={{input: {height: '100%'}, output: {height: '100%'}}}/>      \n      </div>\n    </>\n  )\n}\n\nexport default FontSettings","import React from 'react'\nimport { TextPreview } from '../Settings/Font'\nimport styles from './styles.module.css'\n\nconst latexfmt = (...a) => String.raw(...a).replace('\\\\`', '`');\n\nconst examples = [\n  'Text can be _italic_, __bold__, or ___both___.',\n  'Or, *asterisks* will **accomplish** the ***same thing***.',\n  latexfmt`f: x --> x^3^ - 3x^2^ + 9x - 8 doesn't look as nice as $$f: x \\mapsto x^3 - 3x^2 + 9x - 8$$`,\n  latexfmt`**Markdown:** a~n~ = a~n-1~ + 2n - 1 , **LaTeX:** $$a_n = a_{n-1} + 2n - 1$$`,\n  latexfmt`There are two ways to write a fraction: $$\\frac{24}{18} = {4 \\over 3}$$`,\n  latexfmt`$$V = \\frac{4}{3}\\pi r^3$$`,\n  latexfmt`Use the quadratic formula to solve for $$x$$: $$$x = { -b \\pm \\sqrt{b^2 - 4ac} \\over 2a }$$$`,\n  latexfmt`Determine the measure of $$\\angle{ABC}$$.`,\n  latexfmt`$$\\overline{AB}$$ is a line segment. $$\\overleftrightarrow{CD}$$ is a line. $$\\overrightarrow{EF}$$ is a ray.`,\n  latexfmt`Prove that $$\\triangle{ABC} \\cong \\triangle{DEF}$$.`,\n  latexfmt`Given $$\\vec{u} = \\langle 3,5 \\rangle$$ and $$\\vec{v} = \\langle -4, 9 \\rangle$$, calculate $$\\vec{u} \\cdot \\vec{v}$$.`,\n  latexfmt`Remember that $$re^{i\\theta} = r(\\cos\\theta + i\\sin\\theta)$$`,\n  latexfmt`$$$\\int_a^b f'(x)dx = f(b) - f(a)$$$`,\n  latexfmt`$$$\\sum_{n=0}^{\\infty}\\frac{f^{(n)}(a)}{n!}(x-a)^n$$$`,\n  latexfmt`$$\\lnot (p \\land q) \\iff (\\lnot p \\lor \\lnot q)$$`,\n\n  latexfmt`$$$\na_{n+1} = \\left\\{\\begin{array}{r l}\n  3a_n + 1 & \\text{if $a_n$ is odd} \\\\\n  a_n \\div 2 & \\text{if $a_n$ is even} \\\\\n\\end{array}\\right.\n$$$`,\n\n  latexfmt`$$$\n\\left[\\begin{array}{r r r}\n   1 &   4 &  -9 \\\\\n  16 & -25 &  66 \\\\\n  49 &  64 & -81 \\\\\n\\end{array}\\right]\n$$$`,\n\n  latexfmt`$$\\forall\\ \\epsilon > 0, x \\in \\mathbb{R},\\ \\exists\\ \\delta > 0 \\text{ such that } 0 < |x-c| < \\delta \\implies |f(x) - L| < \\epsilon$$`,\n\n]\n\n/*\nconst RenderExample = ({text}) => {\n  return (\n    <>\n    <pre style={{\n      backgroundColor: 'rgba(255,255,200,0.5)',\n      border: '1px solid black',\n      padding: '0.5rem',\n      overflowX: 'scroll',\n    }}>{text}</pre>\n    <span className='document' \n      style={{\n      paddingLeft: '0.5rem',\n      fontSize: '1em',\n    }}>\n      <RenderElement content={{type: 'text', data: text}}/>\n    </span>\n    </>\n  )\n}\n*/\n\nconst RenderExample = ({text}) => (\n  <tr>\n    <TextPreview wrapperElement='td' defaultValue={text} />\n  </tr>\n)\n\nconst LatexExamples = (props) => {\n  return (\n    <div style={{padding: '3mm 0 3mm 0'}}>\n    <div>\n      <span>Examples:</span>\n      <button onClick={props.onRequestClose}>Close</button>\n    </div>\n    <table className={styles.LatexExamples}>\n      <tbody>\n      {examples.map((s, i) => (\n          <RenderExample key={`render-example-${i}`} text={s} />\n      ))}\n      </tbody>\n    </table>\n    <div>\n      <button onClick={props.onRequestClose}>Close</button>\n    </div>\n    </div>\n  )\n}\n\nexport default LatexExamples","import React from 'react'\nimport { RenderJson } from '../../renderJson'\nimport styles from './styles.module.css'\nimport math from 'mathjs'\n\n\nconst round = function(v, n) {\n  const d = Math.pow(10,n)\n  return Math.floor(d*v) / d\n}\n\nfunction calcParametric(x, y, domain, step) {\n  const f = (t) => ({x: round(x(t), 6), y: round(y(t), 6)})\n  let paths = []\n  let points = []\n  let t = domain[0]\n  while (t < domain[1]) {\n    try {\n      const pt = f(t)\n      if (points.length > 0 && Math.abs(pt.y - points[points.length-1].y) > 100) {\n        paths.push(points)\n        points = [pt]\n      } else {\n        points.push(pt)\n      }\n    } catch(e) {\n      if (points.length > 0) {\n        paths.push(points)\n        points = []\n      }\n    }\n    t += step\n  }\n  try {\n    points.push(f(domain[1]))\n  } catch(e) {}\n  if (points.length > 0) paths.push(points)\n  return paths\n}\n\nfunction parseFunction(str) {\n  try {\n    const nodes = math.parse(str)\n    const func = nodes.compile()\n    return scope => func.eval(scope)\n  } catch(e) {\n    console.error(e)\n  }\n}\n\n\n\nclass GraphMaker extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      mode: 'standard',\n      standard: 'x',\n      inverse: 'y',\n      parametricX: 't',\n      parametricY: 't',\n      x0: -10,\n      x1: 10,\n      y0: -10,\n      y1: 10,\n      t0: -10,\n      t1: 10,\n      step: 0.1,\n      height: 1.5,\n      autoDomain: 'auto',\n      autoSize: 'auto',\n    }\n  }\n\n  updateMode = evt => this.setState({mode: evt.target.value})\n  updateStandard = evt => this.setState({standard: evt.target.value})\n  updateInverse = evt => this.setState({inverse: evt.target.value})\n  updateParametricX = evt => this.setState({parametricX: evt.target.value})\n  updateParametricY = evt => this.setState({parametricY: evt.target.value})\n  updateX0 = evt => this.setState({x0: evt.target.value})\n  updateX1 = evt => this.setState({x1: evt.target.value})\n  updateY0 = evt => this.setState({y0: evt.target.value})\n  updateY1 = evt => this.setState({y1: evt.target.value})\n  updateT0 = evt => this.setState({t0: evt.target.value})\n  updateT1 = evt => this.setState({t1: evt.target.value})\n  updateStep = evt => this.setState({step: evt.target.value})\n  updateHeight = evt => this.setState({height: evt.target.value})\n  updateAutoDomain = evt => this.setState({autoDomain: evt.target.value})\n  updateAutoSize = evt => this.setState({autoSize: evt.target.value})\n\n  renderMode() {\n    return (\n      <select value={this.state.mode}\n        onChange={this.updateMode}\n      >\n        <option value='standard' title=\"y is a function of x\">Standard</option>\n        <option value='inverse' title=\"x is a function of y\">Inverse</option>\n        <option value='parametric' title=\"x and y are functions of t\">Parametric</option>\n      </select>\n    )\n  }\n\n  renderGridInputs() {\n    return (\n      <>\n      <table>\n        <tbody>\n          <tr>\n            <th /><th>Min</th><th>Max</th>\n          </tr>\n          <tr>\n            <td>x</td>\n            <td><input type=\"number\" value={this.state.x0} onChange={this.updateX0} /></td>\n            <td><input type=\"number\" value={this.state.x1} onChange={this.updateX1} /></td>\n          </tr>\n          <tr>\n            <td>y</td>\n            <td><input type=\"number\" value={this.state.y0} onChange={this.updateY0} /></td>\n            <td><input type=\"number\" value={this.state.y1} onChange={this.updateY1} /></td>\n          </tr>\n        </tbody>\n      </table>\n      </>\n    )\n  }\n\n  renderInputs() {\n    if (this.state.mode === 'standard') {\n      return (\n        <table>\n          <tbody>\n            <tr>\n              <td>y=</td>\n              <td><textarea value={this.state.standard} onChange={this.updateStandard}/></td> \n            </tr>\n          </tbody>\n        </table>\n      )\n    }\n    if (this.state.mode === 'inverse') {\n      return (\n        <table>\n          <tbody>\n            <tr>\n              <td>x=</td>\n              <td><textarea value={this.state.inverse} onChange={this.updateInverse}/></td> \n            </tr>\n          </tbody>\n        </table>\n      )\n    }\n    if (this.state.mode === 'parametric') {\n      return (\n        <table>\n          <tbody>\n            <tr>\n              <td>x=</td>\n              <td><textarea value={this.state.parametricX} onChange={this.updateParametricX}/></td>\n            </tr>\n            <tr>\n              <td>y=</td>\n              <td><textarea value={this.state.parametricY} onChange={this.updateParametricY}/></td>\n            </tr>\n          </tbody>\n        </table>\n      )\n    }\n  }\n\n\n  renderDomainInput() {\n    return (\n      <>\n      Step:\n      <input type=\"number\" \n        step={0.01}\n        value={this.state.step} \n        onChange={this.updateStep}\n        min={0}\n      /><br/>\n        Domain: \n        {this.state.mode !== 'parametric' ? (\n          <select value={this.state.autoDomain} onChange={this.updateAutoDomain}>\n            <option value='auto'>Auto</option>\n            <option value='custom'>Custom</option>\n          </select>\n        ) : <br/>}\n        {(this.state.autoDomain === 'custom' || this.state.mode === 'parametric') ? (\n          <div>\n          <input type=\"number\" value={this.state.t0} onChange={this.updateT0} />\n          to \n          <input type=\"number\" value={this.state.t1} onChange={this.updateT1} />\n          </div>\n        ) : null }        \n      </>\n    )\n  }\n\n  renderHeightInput() {\n    return (\n      <>\n      Height:\n      <select value={this.state.autoSize} onChange={this.updateAutoSize}>\n        <option value='auto'>Default</option>\n        <option value='custom'>Custom</option>\n      </select>\n      {this.state.autoSize === 'custom' ? (\n        <>\n          <br/>\n          Inches:\n          <input type=\"number\"\n            step={0.1}\n            value={this.state.height}\n            onChange={this.updateHeight}\n            min={0}\n          />\n        </>\n      ) : null}\n      </>\n    )\n  }\n\n  graphSize() {\n    return {\n      span: [\n        +this.state.x0, \n        +this.state.y0, \n        +this.state.x1, \n        +this.state.y1\n      ],\n    }\n  }\n\n  getDomain() {\n    if (this.state.mode === 'parametric' || this.state.autoDomain === 'custom') {\n      return [+this.state.t0, +this.state.t1]\n    }\n    if (this.state.mode === 'standard') {\n      return [+this.state.x0, +this.state.x1]\n    }\n    if (this.state.mode === 'inverse') {\n      return [+this.state.y0, +this.state.y1]\n    }\n  }\n\n  getFunction() {\n    const step = this.state.step > 0 ? +this.state.step : 0.002\n    const domain = this.getDomain()\n    switch(this.state.mode) {\n      case 'standard':\n        const ymap = parseFunction(this.state.standard)\n        if (ymap) {\n          const paths = calcParametric(t=>t, x=>ymap({x}), domain, step)\n          return paths.map(p => ['Path', {points: p}])\n        }\n        return null\n\n      case 'inverse':\n        const xmap = parseFunction(this.state.inverse)\n        if (xmap) {\n          const paths = calcParametric(y=>xmap({y}), t=>t, domain, step)\n          return paths.map(p => ['Path', {points: p}])\n        }\n        return null\n      case 'parametric':\n        const xpmap = parseFunction(this.state.parametricX)\n        const ypmap = parseFunction(this.state.parametricY)\n        if (xpmap && ypmap) {\n          const paths = calcParametric(t=>xpmap({t}), t=>ypmap({t}), domain, step)\n          return paths.map(p => ['Path', {points: p}])\n        }\n        return null\n      default:\n        return null\n    }\n  }\n\n  getData() {\n    let props = {\n      ...this.graphSize(), \n      autogrid: true,\n    }\n    if (this.state.autoSize === 'custom') {\n      props.height = this.state.height + 'in'\n    } else {\n      props.height = '2in'\n    }\n    const paths = this.getFunction()\n    if (paths) {\n      return ['CoordinatePlane', props, ...paths]\n    }\n    return ['CoordinatePlane', props]\n  }\n\n  onSubmit = () => {\n    this.props.onSubmit(this.getData())\n    this.props.onRequestClose()\n  }\n\n  render() {\n    return (\n      <div className={styles.GraphMaker}>\n        <div className={styles.GraphMakerHeading}>\n          <button onClick={this.onSubmit}>Apply</button>\n          <button onClick={this.props.onRequestClose}>Cancel</button>\n        </div>\n        <div className={styles.GraphMakerBody}>\n          <div className={styles.GraphMakerInput}>\n            <div style={{margin: '3mm'}}>\n              Graphing Mode {this.renderMode()}\n              {this.renderInputs()}\n            </div>\n            <div style={{margin: '3mm'}}>\n            {this.renderDomainInput()}\n            </div>\n            <div style={{margin: '3mm'}}>\n              {this.renderGridInputs()}\n            </div>\n            <div>\n              {this.renderHeightInput()}\n            </div>\n          </div>\n          <div className={styles.GraphMakerPreview}>\n            <div className='document preview-area'>\n              <RenderJson json={this.getData()} />\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport default GraphMaker","import React from 'react'\nimport { connect } from 'react-redux'\nimport { RenderJson } from '../../renderJson'\nimport { addToDocument } from '../../actions/document'\nimport LatexExamples from './LatexExamples'\nimport GraphMaker from './GraphMaker'\nimport ReactModal from 'react-modal'\n\nconst tabsize = 2;\n\nfunction onKeyDown(evt) {\n  if (evt.keyCode === 9) { // handle tab\n    let target = evt.target;\n    const start = target.selectionStart;\n    const end = target.selectionEnd;\n    const value = target.value;\n    target.value = value.substring(0,start) + Array(tabsize).fill(' ').join('') + value.substring(end);\n    target.selectionStart = start + tabsize;\n    target.selectionEnd = end + tabsize;\n    evt.preventDefault();\n  } else if (evt.keyCode === 8) { // handle backspace\n    let target = evt.target;\n    const start = target.selectionStart;\n    if (start === target.selectionEnd) {\n      const value = target.value;\n      if (value.substring(start-tabsize, start) === Array(tabsize).fill(' ').join('')) {\n        target.value = value.substring(0,start-tabsize) + value.substring(start);\n        target.selectionStart = start - tabsize;\n        target.selectionEnd = start - tabsize;\n        evt.preventDefault();\n      }\n    }\n  }\n}\n\nconst jsonExample = `{\n  \"instructions\": \"Use the Pythagorean Theorem: $$a^2 + b^2 = c^2$$\",\n\n  \"question\": \"Which is closest to the length of $$\\\\\\\\overline{XY}$$?\",\n\n  \"answer\": {\n    \"choices\": [6, 8, 10, 12, 14],\n    \"correct\": 10\n  },\n\n  \"diagram\": [\n    \"CoordinatePlane\",\n    {\n      \"span\": \"-5,-5 5,5\", \n      \"axis\": false, \n      \"height\": \"1.5in\"\n    },\n    [\n      \"Path\", \n      {\n        \"points\": \"-4,3 4,-3\", \n        \"markers\": \".-.\",\n        \"style\": \"blue dashed\"\n      }\n    ],\n    [\n      \"Overlay\", \n      {\n        \"x\": -4, \n        \"y\": 3, \n        \"anchor\": \"S\"\n      }, \n      \"$$X$$\"\n    ],\n    [\n      \"Overlay\", \n      {\n        \"x\": 4, \n        \"y\": -3, \n        \"anchor\": \"N\"\n      }, \n      \"$$Y$$\"\n    ]\n  ]\n}`\n\n\nclass CustomQuestion extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      inputType: 'manual',\n      instructions: '',\n      question: '',\n      answer: '',\n      diagram: '',\n      json: '',\n      modal: 'none',\n    }\n    //this.inputType = React.createRef()\n    //this.instructions = React.createRef()\n    //this.question = React.createRef()\n    //this.answer = React.createRef()\n    //this.json = React.createRef()\n  }\n\n  openExamples = () => this.setState({ modal: 'examples' })\n  openGraphMaker = () => this.setState({modal: 'graph'})\n  closeModal = () => this.setState({ modal: 'none' })\n\n  updateInstructions = (evt) => {\n    this.setState({ instructions: evt.target.value })\n  }\n  updateQuestion = (evt) => {\n    this.setState({ question: evt.target.value })\n  }\n  updateDiagram = (diagram) => {\n    this.setState({diagram})\n  }\n  updateAnswer = (evt) => {\n    this.setState({ answer: {...this.state.answer, correct: evt.target.value }})\n  }\n  updateJSON = (evt) => {\n    this.setState({ json: evt.target.value })\n  }\n\n  updateInputType = (evt) => {\n    this.setState({inputType: evt.target.value})\n  }\n\n  getDataFromState() {\n    if (this.state.inputType === 'manual') {\n      const content = {}\n      for (const k of ['instructions', 'question', 'answer']) {\n        if (this.state[k]) {\n          content[k] = this.state[k]\n        }\n      }\n      if (this.state.diagram) {\n        content.diagram = this.state.diagram\n      }\n      return content\n    } else if (this.state.inputType === 'json') {\n      try {\n        const content = JSON.parse(this.state.json)\n        return content\n      } catch(e) {\n      }\n    }\n  }\n\n  addQuestion = () => {\n    const props = {content: this.getDataFromState()}\n    this.props.addToDocument(['NumberedQuestion', props])\n    this.props.onRequestClose()\n  }\n\n  renderInputs() {\n    if (this.state.inputType === 'manual') {\n      const inputStyle = {width:'30rem'}\n      return (\n        <div >\n          <p>\n            Tip: Text surrounded with $$ ... $$ will be treated as a math formula.\n          </p>\n          <button onClick={this.openExamples}>See Examples</button>\n          <p>Instructions:</p>\n          <textarea \n            value={this.state.instructions}\n            onChange={this.updateInstructions}\n            style={inputStyle}\n            ></textarea>\n\n          <p>Question:</p>\n          <textarea \n            value={this.state.question}\n            onChange={this.updateQuestion}\n            style={inputStyle}\n          ></textarea>\n\n          <p>Diagram:</p>\n          <button onClick={this.openGraphMaker}>Add Graph</button>\n          \n          <p>Answer:</p>\n          <textarea \n            value={this.state.answer.correct}\n            onChange={this.updateAnswer}\n            style={inputStyle}\n          ></textarea>\n        </div>\n      )\n    } else {\n      return (\n        <>\n          <button onClick={this.setJsonExample}>See example</button>\n          <br/>\n          <textarea \n            value={this.state.json}\n            onChange={this.updateJSON}\n            onKeyDown={onKeyDown}\n            spellCheck={false}\n            style={{width:'30rem', height: '18rem', fontSize: '0.9em'}}\n          />\n          <br/>\n        </>\n      )\n    }\n  }\n\n  setJsonExample = () => {\n    const json = jsonExample\n    this.setState({ json })\n  }\n\n  renderPreview() {\n    const content = this.getDataFromState()\n    const previewStyle = {\n      margin: '2mm',\n      width: 'fit-content',\n      fontSize: '1.2em',\n      minWidth: '3in',\n    }\n    const props = { content }\n    return (\n      <>\n      <p>Question</p>\n      <div className='document preview-area' style={previewStyle}>\n        {content ? <RenderJson json={['Question', props]} /> : null}\n      </div>\n      <p>Answer</p>\n      <div className='document preview-area' style={previewStyle}>\n        {content ? <RenderJson json={['AnswerKey', props]} /> : null}\n      </div>\n      </>\n    )\n  }\n\n  render() {\n    const divstyle = {\n      width: 'auto',\n      padding: '0',\n      margin: '0',\n      display: 'grid',\n      gridTemplateAreas: '\"inputs preview\"',\n      gridTemplateColumns: 'auto auto',\n    }\n    return (\n      <>\n      \n      <div style={divstyle}>\n        <div style={{gridArea: 'inputs'}}>\n          <h4 style={{gridArea: 'title'}}>Custom Question</h4>\n          <select ref={this.inputType} onChange={this.updateInputType}>\n            <option value=\"manual\">Manual</option>\n            <option value='json'>JSON</option>\n          </select>\n          {this.renderInputs()}\n          <button onClick={this.addQuestion}>Add to Assignment</button>\n        </div>\n        <div style={{gridArea: 'preview'}}>\n          <h4>Preview</h4>\n          {this.renderPreview()}\n        </div>\n      </div>\n      \n\n\n      <ReactModal isOpen={this.state.modal === 'examples'}\n        onRequestClose={this.closeModal}\n        style={{\n          content: {\n            backgroundColor: 'var(--ui-page, white)',\n            color: 'black',\n          }\n        }}\n      >\n        <LatexExamples onRequestClose={this.closeModal}/>\n      </ReactModal>\n\n      <ReactModal isOpen={this.state.modal === 'graph'}\n        onRequestClose={this.closeModal}\n      >\n        <GraphMaker onRequestClose={this.closeModal} onSubmit={this.updateDiagram}/>\n      </ReactModal>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: (q) => dispatch(addToDocument(q))\n})\n\nexport default connect(null, mapDispatchToProps)(CustomQuestion)","import { connect } from 'react-redux'\nimport CustomQuestion from './CustomQuestion'\nimport {\n  addToDocument\n} from '../../actions/document'\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: (thing) => dispatch(addToDocument(thing))\n})\n\nexport default connect(null, mapDispatchToProps)(CustomQuestion)","import React from 'react'\n\n\nconst Notes = (props) => {\n\n  return (\n    <>\n    <span style={{fontWeight: 'bold', fontSize: '1em'}}>\n      <span style={{marginRight: '3mm'}}>Notes</span>\n      <button onClick={props.onRequestClose}>Close</button>\n    </span>\n    <div>\n      <p>Double-click on the document to edit an element.</p>\n      <p>Create a PDF by selecting \"Save to PDF\" when printing.</p>\n      <p>Make sure the scale is set to 100% when printing.</p>\n      <p>\n        Changing the font size or deleting questions from the middle of the\n        document can cause the calculated page breaks to no longer be \n        appropriate. Use the 'Fix Pagination' button to quickly recalculate \n        all page breaks.\n      </p>\n      <p>The answer key can't be over one page long.</p>\n      <p>Local fonts (\"other\") do not work in Safari.</p>\n      <p>Printing doesn't always work right with page sizes other than \"letter\".</p>\n\n    </div>\n    </>\n  )\n}\n\nexport default Notes","import React from 'react'\nimport { connect } from 'react-redux'\n\nclass CheckStateButton extends React.Component {\n\n  logState = () => {console.log(this.props.state)}\n\n  render() {\n    return <button onClick={this.logState}>{this.props.children}</button>\n  }\n}\n\nconst mapStateToProps = state => ({\n  state: state,\n})\n\nexport default connect(mapStateToProps)(CheckStateButton)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { updateGraphStyle } from '../../../actions/style'\n\n\nclass GraphStyle extends React.Component {\n  static propTypes = {\n    updateGraphStyle: PropTypes.func.isRequired,\n    propertyName: PropTypes.string.isRequired,\n    current: PropTypes.string.isRequired,\n  }\n\n  setValue(value) {\n    this.props.updateGraphStyle({[this.props.propertyName]: value})\n  }\n\n  onChange = (evt) => {\n    this.setValue(evt.target.value)\n  }\n\n}\n\nclass Color extends GraphStyle {\n  render() {\n    return (\n      <input type='color'\n        value={this.props.current}\n        onChange={this.onChange}\n      />\n    )\n  }\n}\n\nclass Width extends GraphStyle {\n  onChange = (evt) => {\n    this.setValue(evt.target.value + 'mm')\n  }\n  render() {\n    return (\n      <input type='range'\n        value={this.props.current.slice(0,-2)}\n        onChange={this.onChange}\n        min='0'\n        max='1'\n        step='0.01'\n      />\n    )\n  }\n}\n\nclass Opacity extends GraphStyle {\n  render() {\n    return (\n      <input type='range'\n        value={this.props.current}\n        onChange={this.onChange}\n        min='0'\n        max='1'\n        step='0.01'\n      />\n    )\n  }\n}\n\n\nconst mapDispatchToProps = dispatch => ({\n  updateGraphStyle: (props) => dispatch(updateGraphStyle(props))\n})\n\nfunction createComponent(base, propertyName) {\n  class StyleSettingComponent extends base {\n    static defaultProps = ({propertyName: propertyName})\n  }\n  \n  return connect(\n    state => ({current: state.style.graph[propertyName]}), \n    mapDispatchToProps\n  )(StyleSettingComponent)\n}\n\n\nexport const Function1Color = createComponent(Color, 'function1Color')\nexport const Function2Color = createComponent(Color, 'function2Color')\nexport const FunctionWidth = createComponent(Width, 'functionWidth')\nexport const GeomColor = createComponent(Color, 'geomColor')\nexport const GeomWidth = createComponent(Width, 'geomWidth')\nexport const AsymptoteColor = createComponent(Color, 'asymptoteColor')\nexport const AsymptoteWidth = createComponent(Width, 'asymptoteWidth')\nexport const AxisColor = createComponent(Color, 'axisColor')\nexport const AxisWidth = createComponent(Width, 'axisWidth')\nexport const GridColor = createComponent(Color, 'gridColor')\nexport const GridWidth = createComponent(Width, 'gridWidth')\nexport const FillOpacity = createComponent(Opacity, 'fillOpacity')\n\n\n\n\nclass SwapButton extends React.Component {\n  static propTypes = {\n    current1: PropTypes.string.isRequired,\n    current2: PropTypes.string.isRequired,\n    propertyName1: PropTypes.string.isRequired,\n    propertyName2: PropTypes.string.isRequired,\n    updateGraphStyle: PropTypes.func.isRequired,\n  }\n\n  doSwap = () => {\n    this.props.updateGraphStyle({\n      [this.props.propertyName1]: this.props.current2,\n      [this.props.propertyName2]: this.props.current1,\n    })\n  }\n\n  render() {\n    return (\n      <button onClick={this.doSwap}>{this.props.children}</button>\n    )\n  }\n}\n\nexport const FunctionColorSwap = connect(\n  state => ({\n    current1: state.style.graph.function1Color, \n    current2: state.style.graph.function2Color,\n    propertyName1: 'function1Color',\n    propertyName2: 'function2Color'\n  }),\n  dispatch => ({\n    updateGraphStyle: updates => dispatch(updateGraphStyle(updates)),\n  })\n)(SwapButton)\n\n\nclass RelativeFontSize extends GraphStyle {\n  onChange = (evt) => {\n    this.setValue(evt.target.value + 'em')\n  }\n  render() {\n    return (\n      <input type='range'\n        value={this.props.current.slice(0,-2)}\n        onChange={this.onChange}\n        min='0.1'\n        max='3'\n        step='0.05'\n      />\n    )\n  }\n}\n\nexport const LabelFontSize = connect(\n  state => ({current: state.style.graph.labelFontSize, propertyName: 'labelFontSize'}),\n  dispatch => ({updateGraphStyle: updates => dispatch(updateGraphStyle(updates))}),\n)(RelativeFontSize)","import React from 'react'\n\nimport { RenderJson } from '../../../renderJson'\n\nexport const PreviewXYPlot = () => {\n  \n  \n  const vasymptotes = [-3]\n  const holes = [-5]\n  const hasymptotes = [2]\n\n  //const f = x => 2*Math.sin(x*Math.PI/4) + 7\n  //const g = x => (x+2)*(x-8)/2 + (x+2)/5 + 5\n\n  const f = x => (x-2)*(x-7) - 3 + (x/3)\n  const g = x => -(x-2)*(x-7) - 3 + (x/3)\n\n\n  const regionTop = []\n  const regionBottom = []\n  const fpoints = []\n  const gpoints = []\n  const step = 0.5\n\n  let x = -5\n  while (x <= 3) {\n    const fpt = ({x, y: f(x)})\n    const gpt = ({x, y: g(x)})\n    fpoints.push(fpt)\n    gpoints.push(gpt)\n    x += step\n  }\n\n  while (x <= 6) {\n    const fpt = ({x, y: f(x)})\n    const gpt = ({x, y: g(x)})\n    fpoints.push(fpt)\n    gpoints.push(gpt)\n    x += 0.02\n  }\n\n  while (x <= 11) {\n    const fpt = ({x, y: f(x)})\n    const gpt = ({x, y: g(x)})\n    fpoints.push(fpt)\n    gpoints.push(gpt)\n    x += step\n  }\n\n  const json = [\n    'CoordinatePlane', {span: [-10,-10,10,10], height: '3in'},\n    [\n      'Style', {name: 'asymptote'},\n      ...vasymptotes.map(v => ['Path', {points: [[v, -12], [v, 12]]}]),\n      ...hasymptotes.map(v => ['Path', {points: [[-12, v], [12, v]]}])\n    ],\n    [\n      'Style', {name: 'primary'},\n      ['Path', {points: fpoints, fill: 'solid'}],\n      [\n        'Transform', {type: 'translate', y: 2},\n        [\n          'RationalFunction', {\n            numerLC: 2,\n            asymptotes: vasymptotes,\n            holes: holes,\n            domain: [-11,-3],\n            renderAsymptotes: false,\n          }\n        ],\n      ],\n      ['Point', {x: -4, y: 0}],\n    ],\n    ['Overlay', {x: -9, y: 7, anchor: 'W'}, '$$f(x) = \\\\frac{1}{x-2}+2$$'],\n    [\n      'Style', {name: 'secondary'},\n      ['Path', {points: gpoints, fill: 'solid'}],\n      \n      ['Point', {x: 2, y: f(2)}],\n      ['Point', {x: 7, y: f(7)}],\n      \n    ]\n  ]\n  return <RenderJson json={json} />\n\n  /*\n  return (\n    <CoordinatePlane span={[-10,-10,10,10]} width=\"3in\">\n      {vasymptotes.map(p => <Asymptote key={`va-${p}`} points={[{x: p, y: -12}, {x: p, y: 12}]} />)}\n      {hasymptotes.map(p => <Asymptote key={`ha-${p}`} points={[{x: -12, y: p}, {x: 12, y: p}]} />)}\n        \n      <Layer style='function-2'>\n        <FillRegion points={fpoints} />\n        <Path points={fpoints} />\n      </Layer>\n\n      <Layer style='function-1'>\n        <Layer transform={['translate', {y: 2}]}>\n          <RationalFunction \n            numerLC={2}\n            asymptotes={vasymptotes} \n            holes={holes} \n            domain={[-11,-3]} renderAsymptotes={false}\n          />\n        </Layer>\n        <FillRegion points={gpoints}/>\n        <Path points={gpoints}/>\n        <Point x='-4' y='0' />\n        <Point x='2' y={f(2)} />\n        <Point x='7' y={f(7)} />\n      </Layer>\n\n    </CoordinatePlane>\n  )\n  */\n\n}\n\nexport const PreviewGeom = () => {\n\n  const poly= [\n    [13,11], [17,12], [18,16], [15,18], [11,14]\n  ]\n  const ray = [[2,12], [7,13]]\n  const line = [[8,17], [2,18]]\n  const seg = [[7,15], [2,15]]\n  const circ = ({cx: 4, cy: 7, r: 2})\n\n  const json = [\n    'CoordinatePlane', {span: [0,0,20,20], height: '3in', style: 'geometry'},\n    ['Polygon', {points: poly, markers: \"...\"}],\n    ['Path', {points: ray, markers: \".->\"}],\n    ['Path', {points: line, markers: \"<->\"}],\n    ['Path', {points: seg, markers: \".-.\"}],\n  ]\n\n  return <RenderJson json={json} />\n\n  /*\n  return (\n    <CoordinatePlane span={[0,0,20,20]} width='3in'>\n      <Layer style='geometry'>\n      <Polygon vertices={poly} />\n      \n      <Ray points={ray} />\n      <Line points={line} />\n      <Segment points={seg} />\n      \n      </Layer>\n    </CoordinatePlane>\n  )\n  */\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { resetGraphStyle } from '../../../actions/style'\nimport {\n  Function1Color, FunctionWidth, Function2Color, FunctionColorSwap,\n  GeomColor, GeomWidth,\n  AsymptoteColor, AsymptoteWidth,\n  AxisColor, AxisWidth,\n  GridColor, GridWidth,\n  FillOpacity,\n  LabelFontSize,\n} from './GraphStyle'\nimport { PreviewXYPlot, PreviewGeom } from './GraphPreview'\n\nimport styles from './styles.module.css'\n\n\nclass GraphSettings extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {style: 'xy-plot'}\n  }\n\n  changeStyle = evt => {\n    this.setState({style: evt.target.value})\n  }\n\n  resetToDefaults = () => {\n   this.props.resetGraphStyle()\n  }\n\n  renderPreview() {\n    if (this.state.style === 'geom') {\n      return <PreviewGeom />\n    }\n    return <PreviewXYPlot />\n  }\n\n  renderStyleSettings() {\n    if (this.state.style === 'xy-plot') {\n      return (\n        <>\n          <tr>\n            <td>Primary</td>\n            <td><Function1Color/></td>\n            <td><FunctionWidth/></td>\n          </tr>\n          <tr>\n            <td>Secondary</td>\n            <td><Function2Color/></td>\n            <td><FunctionColorSwap>Swap</FunctionColorSwap></td>\n          </tr>\n          <tr>\n            <td>Asymptote</td>\n            <td><AsymptoteColor/></td>\n            <td><AsymptoteWidth/></td>\n          </tr>\n          <tr>\n            <td colSpan='2'>Fill</td>\n            <td><FillOpacity /></td>\n          </tr>\n        </>\n      )\n    }\n    if (this.state.style === 'geom') {\n      return (\n        <>\n          <tr>\n            <td>Path</td>\n            <td><GeomColor/></td>\n            <td><GeomWidth/></td>\n          </tr>\n        </>\n      )\n    }\n    return null\n  }\n\n  render() {\n    return (\n      <div className={styles.Layout}>\n        <div className={styles.Settings}>\n          <h3>Graph Style</h3>\n          <button onClick={this.resetToDefaults}>Reset to Defaults</button>\n          \n          <table className={styles.SettingTable}>\n\n            <thead>\n              <tr>\n                <th></th>\n                <th>Color</th>\n                <th>Thickness</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>Axis</td>\n                <td><AxisColor/></td>\n                <td><AxisWidth/></td>\n              </tr>\n\n              <tr>\n                <td>Grid</td>\n                <td><GridColor/></td>\n                <td><GridWidth/></td>\n              </tr>\n\n              <tr>\n                <td colSpan=\"2\">Label Font Size</td>\n                <td><LabelFontSize /></td>\n              </tr>\n\n              <tr>\n                <td colSpan='3' >\n                  <div style={{margin: '5mm 0'}}>\n                    <span>Editing style for </span>\n                    <select onChange={this.changeStyle} value={this.state.style}>\n                      <option value='geom'>geometry</option>\n                      <option value='xy-plot'>xy-plot</option>\n                    </select>\n                  </div>\n                </td>\n              </tr>\n\n              {this.renderStyleSettings()}\n\n              \n            </tbody>\n\n          </table>\n        </div>\n        <div className={styles.Preview}>\n          <div className='document preview-area'>\n            {this.renderPreview()}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  resetGraphStyle: () => dispatch(resetGraphStyle()),\n})\n\nexport default connect(null, mapDispatchToProps)(GraphSettings)","import GraphSettings from './GraphSettings'\n\nexport default GraphSettings","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setPageMargin } from '../../../actions/style'\n\nconst MarginOptions = [\n  '.25',\n  '.5',\n  '.75',\n  '1.0',\n]\n\nclass SetPageMargin extends React.Component {\n  static defaultProps = {\n    unit: 'in',\n  }\n\n  static propTypes = {\n    current: PropTypes.string.isRequired,\n    setPageMargin: PropTypes.func.isRequired,\n  }\n\n  setPageMargin(margin) {\n    this.props.setPageMargin(margin)\n  }\n\n  updateFromSelection = (evt) => {\n    const m = evt.target.value + this.props.unit\n    this.setPageMargin(m)\n  }\n\n  render() {\n    return (\n      <select\n        onChange={this.updateFromSelection}\n        value={parseFloat(this.props.current)}\n      >\n        {MarginOptions.map((m) => (\n          <option key={m} value={parseFloat(m)}>{m} {this.props.unit}</option>\n        ))}\n      </select>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.style.pageMargin,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setPageMargin: (m) => dispatch(setPageMargin(m))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SetPageMargin)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setPageSize } from '../../../actions/style'\n\nclass PageSize extends React.Component {\n\n  setPageSize = evt => {\n    const pageSize = evt.target.value\n    this.props.setPageSize(pageSize)\n  }\n\n  render() {\n    return (\n      <select\n        value={this.props.current}\n        onChange={this.setPageSize}\n      >\n      {['A3', 'A4', 'A5', 'legal', 'letter'].map(p => (\n        <option key={p} value={p}>{p}</option>\n      ))}\n      </select>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({current: state.style.pageSize})\nconst mapDispatchToProps = dispatch => ({setPageSize: size => dispatch(setPageSize(size))})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PageSize)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setPageMargin } from '../../../actions/style'\n\n\nfunction unitProps(units) {\n  if (units === 'in') return {max: 1.5, step: 0.01}\n  if (units === 'cm') return {max: 3.5, step: 0.01}\n  if (units === 'mm') return {max: 35, step: 0.1}\n}\n\nfunction inputProps(units) {\n  return Object.assign({\n    min: 0, \n    style: {minWidth: '5em'}, \n  }, unitProps(units))\n}\n\nfunction fromMM(value, units) {\n  if (units === 'cm') return value / 10\n  if (units === 'in') return value / 25.4\n  if (units === 'mm') return value\n}\n\nfunction toMM(value, units) {\n  if (units === 'cm') return value * 10\n  if (units === 'in') return value * 25.4\n  if (units === 'mm') return value\n}\n\nfunction convert(value, from, to) {\n  if (from === to) return value\n  return fromMM(toMM(value, from), to)\n}\n\nfunction convertStr(s, to) {\n  const units = s.slice(-2)\n  return convert(parseFloat(s), units, to)\n}\n\n\nclass PageMargins extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {...this.props}\n  }\n\n  setMargins = (m={}) => {\n    const {top, right, bottom, left, units} = {...this.state, ...m}\n    const pageMargin = [top+units, right+units, bottom+units, left+units].join(' ')\n    this.props.setPageMargin(pageMargin)\n    this.setState({top, right, bottom, left, units})\n  }\n  setUnits = evt => {\n    const from = this.state.units\n    const units = evt.target.value\n    const newValues = {}\n    for (const m of ['top', 'right', 'bottom', 'left']) {\n      const v = parseFloat(this.state[m])\n      const rounder = units === 'mm' ? 10 : 100\n      newValues[m] = Math.round(rounder * convert(v, from, units)) / rounder\n    }\n    this.setState({units, ...newValues})\n  }\n  setTop = evt => {\n    const top = evt.target.value\n    this.setMargins({top})\n  }\n  setRight = evt => {\n    const right = evt.target.value\n    this.setMargins({right})\n  }\n  setBottom = evt => {\n    const bottom = evt.target.value\n    this.setMargins({bottom})\n  }\n  setLeft = evt => {\n    const left = evt.target.value\n    this.setMargins({left})\n  }\n\n  render() {\n    return (\n      <>\n      <span>Units: </span>\n      <select value={this.state.units} onChange={this.setUnits}>\n        <option value=\"mm\">millimeters</option>\n        <option value=\"cm\">centimeters</option>\n        <option value=\"in\">inches</option>\n      </select>\n      <table>\n        <tbody>\n          <tr>\n            <td/>\n            <td>\n              Top\n              <br/>\n              <input type=\"number\" \n                value={this.state.top} \n                onChange={this.setTop} \n                {...inputProps(this.state.units)}\n              />\n              </td>\n            <td/>\n          </tr>\n          <tr>\n            <td>\n              Left\n              <br/>\n              <input type=\"number\" \n                value={this.state.left} \n                onChange={this.setLeft}\n                {...inputProps(this.state.units)}\n              />\n            </td>\n            <td/>\n            <td>\n              Right\n              <br/>\n              <input type=\"number\" \n                value={this.state.right} \n                onChange={this.setRight}\n                {...inputProps(this.state.units)}\n              />\n            </td>\n          </tr>\n          <tr>\n            <td/>\n            <td>\n              Bottom\n              <br/>\n              <input type=\"number\" \n                value={this.state.bottom} \n                onChange={this.setBottom}\n                {...inputProps(this.state.units)}\n              />\n            </td>\n            <td/>\n          </tr>\n        </tbody>\n      </table>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  const margins = state.style.pageMargin.split(' ')\n  let top, right, bottom, left\n  if (margins.length === 1) {\n    top = margins[0]\n    right = top\n    bottom = top\n    left = top\n  } else if (margins.length === 2) {\n    [top, right] = margins\n    bottom = top\n    left = right\n  } else {\n    [top, right, bottom, left] = margins\n  }\n  const units = left.slice(-2)\n\n  return {\n    top: +convertStr(top, units),\n    right: +convertStr(right, units),\n    bottom: +convertStr(bottom, units),\n    left: +convertStr(left, units),\n    units,\n  }\n}\nconst mapDispatchToProps = dispatch => ({setPageMargin: m => dispatch(setPageMargin(m))})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PageMargins)","import PageMargin from \"./PageMargin\"\nimport PageSettings from './PageSettings'\n\nexport {\n  PageMargin,\n  PageSettings\n}\n\nexport default PageSettings","import React from 'react'\nimport PageSize from './PageSize'\nimport PageMargins from './PageMargins'\n\nconst PageSettings = props => {\n  return (\n    <div>\n      <h4>Page Size</h4>\n      <PageSize/>\n      <h4>Margins</h4>\n      <PageMargins/>\n    </div>\n  )\n}\n\nexport default PageSettings","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setDebugView } from '../../../actions/config'\n\nclass GUImode extends React.Component {\n\n  update = evt => {\n    const debugView = evt.target.checked\n    if (debugView !== this.props.debugView) {\n      this.props.setDebugView(debugView)\n    }\n  }\n\n  render() {\n    return (\n      <div style={{fontSize: '0.8em'}}>\n      <div>\n        <input id=\"layout-on-hover-checkbox\"\n          type=\"checkbox\"\n          checked={this.props.debugView}\n          onChange={this.update}/>\n        <label htmlFor=\"layout-on-hover-checkbox\">\n          Layout on Hover\n        </label>\n      </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  debugView: state.config.debugView,\n})\nconst mapDispatchToProps = dispatch => ({\n  setDebugView: b => dispatch(setDebugView(b)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GUImode)","import React from 'react'\nimport PropTypes from 'prop-types'\n\nclass PreviewZoom extends React.Component {\n  static propTypes = {\n    defaultValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    values: PropTypes.arrayOf(PropTypes.number),\n    type: PropTypes.string.isRequired,\n    min: PropTypes.number,\n    max: PropTypes.number,\n    step: PropTypes.number,\n    options: PropTypes.arrayOf(PropTypes.number),\n  }\n\n  static defaultProps = {\n    defaultValue: 100,\n    type: 'input',\n    min: 30,\n    max: 200,\n    step: 10,\n    options: [25, 50, 75, 100, 125, 150, 175, 200],\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = { zoom: props.defaultValue }\n  }\n\n  setZoom() {\n    const perc = this.state.zoom\n    const scale = perc / 100.0\n    const transform = `matrix(${[scale, 0, 0, scale, 0, 0].join(',')})`\n    document.body.style.setProperty('--previewInnerTransform', transform)\n  }\n\n  updateState = evt => {\n    const zoom = +evt.target.value\n    this.setState({ zoom })\n  }\n\n  zoomIn = () => {\n    const zoom = Math.min(+this.state.zoom + this.props.step, this.props.max)\n    this.setState({ zoom })\n  }\n\n  zoomOut = () => {\n    const zoom = Math.max(+this.state.zoom - this.props.step, this.props.min)\n    this.setState({ zoom })\n  }\n\n  componentDidMount() {\n    this.setZoom()\n  }\n\n  componentDidUpdate() {\n    this.setZoom()\n  }\n\n  renderInput() {\n    return (\n      <input\n        type=\"number\"\n        min={this.props.min}\n        max={this.props.max}\n        step={this.props.step}\n        value={this.state.zoom}\n        onChange={this.updateState}\n      ></input>\n    )\n  }\n\n  renderSelect() {\n    return (\n      <select\n        value={this.state.zoom}\n        onChange={this.updateState}>\n        {this.props.options.map((z) => <option key={`zoom-option-${z}`} value={z}>{z}</option>)}\n      </select>\n    )\n  }\n\n  renderButtons() {\n    return (\n      <>\n        <button onClick={this.zoomOut}>-</button>\n        <button onClick={this.zoomIn}>+</button>\n      </>\n    )\n  }\n\n  render() {\n    if (this.props.type === 'input') {\n      return this.renderInput()\n    }\n    if (this.props.type === 'select') {\n      return this.renderSelect()\n    }\n    if (this.props.type === 'buttons') {\n      return this.renderButtons()\n    }\n  }\n}\n\nexport default PreviewZoom","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setUITheme } from '../../../actions/config'\n\nclass UIThemeSetter extends React.Component {\n\n  setTheme = evt => {\n    const theme = evt.target.value\n    this.props.setUITheme(theme)\n  }\n\n  render() {\n    return (\n      <select value={this.props.theme}\n        onChange={this.setTheme}\n      >\n        <option value=\"none\">None</option>\n        <option value=\"dark\">Dark</option>\n        <option value=\"light\">Light</option>\n      </select>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  theme: state.config.uiTheme,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setUITheme: theme => dispatch(setUITheme(theme)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UIThemeSetter)","import GUImode from './GUImode'\nimport PreviewZoom from './PreviewZoom'\nimport UITheme from './UITheme'\nimport UISettings from './UISettings'\n\nexport {\n  GUImode,\n  PreviewZoom,\n  UISettings,\n}\n\nexport default UISettings","import React from 'react'\nimport UITheme from './UITheme'\n\nclass UISettings extends React.Component {\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    return (\n      <>\n        <span>Theme: </span><UITheme/>\n      </>\n    )\n  }\n}\n\nexport default UISettings","import React from 'react'\nimport FontSettings from './Font'\nimport GraphSettings from './Graph'\nimport PageSettings from './Page'\nimport UISettings from './UI'\nimport styles from './styles.module.css'\n\n\nclass SettingsPage extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {showing: 'font'}\n  }\n\n  showFontSettings = () => this.setState({showing: 'font'})\n  showGraphSettings = () => this.setState({showing: 'graph'})\n  showPageSettings = () => this.setState({showing: 'page'})\n  showUISettings = () => this.setState({showing: 'ui'})\n\n  renderSettings() {\n    switch (this.state.showing) {\n      case 'font': return <FontSettings/>\n      case 'graph': return <GraphSettings/>\n      case 'page': return <PageSettings/>\n      case 'ui': return <UISettings />\n      default: return null\n    }\n  }\n\n  render() {\n    return (\n      <div className={styles.SettingPage}>\n\n        <div className={styles.LeftBar}>\n          <div>\n            <span className={styles.Title}>Settings</span>\n          </div>\n          \n          <div className={styles.NavArea}>\n            <div\n              className={styles.NavButton}\n              onClick={this.showFontSettings}\n              status={this.state.showing === 'font' ? 'active' : undefined}\n            >Fonts</div>\n            <div\n              className={styles.NavButton}\n              onClick={this.showGraphSettings}\n              status={this.state.showing === 'graph' ? 'active' : undefined}\n            >Graphs</div>\n            <div\n              className={styles.NavButton}\n              onClick={this.showUISettings}\n              status={this.state.showing === 'ui' ? 'active' : undefined}\n            >Interface</div>\n            <div\n              className={styles.NavButton}\n              onClick={this.showPageSettings}\n              status={this.state.showing === 'page' ? 'active' : undefined}\n            >Page</div>\n          </div>\n\n          <div>\n            <button onClick={this.props.onRequestClose}>Close</button>\n          </div>\n          \n        </div>\n        \n        <div className={styles.SettingSection}>\n          {this.renderSettings()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default SettingsPage","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setAllowEditing } from '../../actions/config'\n\nclass AllowEditing extends React.Component {\n  static propTypes = {\n    current: PropTypes.bool.isRequired,\n    setAllowEditing: PropTypes.func.isRequired,\n  }\n\n  toggle = (evt) => {\n    if (evt.target.checked) {\n      this.props.setAllowEditing(true)\n    } else {\n      this.props.setAllowEditing(false)\n    }\n  }\n\n  render() {\n    return (\n      <input\n        onChange={this.toggle}\n        type='checkbox' \n        checked={this.props.current}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.config.allowEditing,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setAllowEditing: (b) => dispatch(setAllowEditing(b)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AllowEditing)","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { setShowAnswerKey } from '../../actions/config'\n\n\nclass AnswerKeyToggle extends React.Component {\n  static propTypes = {\n    current: PropTypes.bool.isRequired,\n    setShowAnswerKey: PropTypes.func.isRequired,\n  }\n\n  toggle = (evt) => {\n    if (evt.target.checked) {\n      this.props.setShowAnswerKey(true)\n    } else {\n      this.props.setShowAnswerKey(false)\n    }\n  }\n\n  render() {\n    return (\n      <input\n        onChange={this.toggle}\n        type='checkbox' \n        checked={this.props.current}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.config.showAnswerKey,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setShowAnswerKey: (bool) => dispatch(setShowAnswerKey(bool)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AnswerKeyToggle)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setHiddenCount } from '../../actions/config'\nimport { clearPageBreaks } from '../../actions/document'\n\nclass FixPagination extends React.Component {\n  static propTypes = {\n    hidden: PropTypes.number.isRequired,\n    setHiddenCount: PropTypes.func.isRequired,\n  }\n\n  reset = () => {\n    this.props.clearPageBreaks()\n    this.props.setHiddenCount(this.props.total)\n  }\n\n  check() {\n    setTimeout(() => {\n      if (this.props.hidden > 0) {\n        this.props.setHiddenCount(this.props.hidden-1)\n      }\n    }, 20)\n  }\n\n  componentDidMount() {\n    this.check()\n  }\n\n  componentDidUpdate() {\n    this.check()\n  }\n\n  render() {\n    return (\n      <button onClick={this.reset}>Fix Pagination</button>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  hidden: state.config.numberHidden,\n  total: state.document.order.length,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setHiddenCount: n => dispatch(setHiddenCount(n)),\n  clearPageBreaks: () => dispatch(clearPageBreaks()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FixPagination)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setDocumentStartNumbering } from '../../actions/document'\n\nclass StartNumbering extends React.Component {\n\n  setCSSVariable(n) {\n    document.body.style.setProperty('--doc-startnumber', n-1)\n  }\n\n  setNumbering = evt => {\n    const startat = evt.target.value\n    if (startat) {\n      this.setCSSVariable(startat)\n      this.props.setDocumentStartNumbering(startat)\n    }\n  }\n\n  render() {\n    return (\n      <input \n        onChange={this.setNumbering}\n        type='number' \n        min='1'\n        value={this.props.current}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.document.startNumbering,\n})\nconst mapDispatchToProps = dispatch => ({\n  setDocumentStartNumbering: (n) => dispatch(setDocumentStartNumbering(n)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StartNumbering)","import SettingsPage from './SettingsPage'\n\nimport { FontFamily, FontSize, AddLocalFont, FontFamilyUI } from './Font'\nimport AllowEditingToggle from './AllowEditing'\nimport AnswerKeyToggle from './AnswerKeyToggle'\nimport FixPagination from './FixPagination'\nimport { GUImode, PreviewZoom } from './UI'\nimport { PageMargin } from './Page'\nimport StartNumbering from './StartNumbering'\n\nexport {\n  AddLocalFont,\n  AllowEditingToggle,\n  AnswerKeyToggle,\n  FixPagination,\n  FontFamily,\n  FontFamilyUI,\n  FontSize,\n  GUImode,\n  PageMargin,\n  PreviewZoom,\n  StartNumbering,\n}\n\nexport default SettingsPage","import math from 'mathjs'\n\nexport const range = function(start, stop, inclusive=false) {\n  if (inclusive) {\n    return math.range(start, stop+1)._data\n  }\n  return math.range(start, stop)._data\n}\n\nexport const roundTo = (n, d) => {\n  const f = Math.pow(10, d)\n  return Math.round(n*f) / f\n} \n\nexport const gcd = (a, b) => math.gcd(a, b)\n\nexport const divrem = function(n, p) {\n  let r = n\n  let d = 0\n  while (r % p === 0) {\n    r = r / p\n    d += 1\n  }\n  return [d, r]\n}\n\nexport const primeFactorization = function(n) {\n  let result = {}\n  let r = n\n  let d\n  let p = 2\n  if (r % p === 0) {\n    [d, r] = divrem(r, p)\n    result[p] = d\n  }\n  p = 3\n  if (r % p === 0) {\n    [d, r] = divrem(r, p)\n    result[p] = d\n  }\n  p = 5\n  while (p * p <= r) {\n    if (r % p === 0) {\n      [d, r] = divrem(r, p)\n      result[p] = d\n    }\n    if (r === 1) {\n      return result\n    }\n    p += 2\n    if (r % p === 0) {\n      [d, r] = divrem(r, p)\n      result[p] = d\n    }\n    if (r === 1) {\n      return result\n    }\n    p += 4\n  }\n  if (r !== 1) {\n    result[r] = 1\n  }\n  return result\n}\n\nexport const listFactors = function(n, {include1=false, includeN=false}) {\n  let result = []\n  const start = include1 ? 1 : 2\n  const stop = includeN ? n : n-1\n  for (let i = start; i <= stop; i++) {\n    if (n % i === 0) {\n      result.push(i)\n    } \n  }\n  return result\n}\n","import math from 'mathjs'\nimport Polynomial from 'polynomial'\nimport fraction from 'fraction.js'\nimport { range, gcd, listFactors } from './tools/handystuff'\nimport QGen from './QGen'\nimport _ from 'lodash'\n\n\n////// Handy Things ///////\n\nfunction randomPolynomialCoefficients({degree, maxCoefficient=12, terms='auto'}={}) {\n\tconst rd = this.random\n\tif (terms === 'auto') {\n\t\tterms = degree + 1\n\t}\n\tlet p = {}\n\tconst whichterms = rd.sample(range(0,degree), terms-1)\n\tp[degree] = rd.randint(1, maxCoefficient)\n\n\tfor (const d of whichterms) {\n\t\tp[d] = rd.randint(1, maxCoefficient) * rd.choice([-1,1])\n\t}\n\treturn p\n}\n\nfunction randomPolynomial(props={}) {\n\tconst p = randomPolynomialCoefficients.call(this, props)\n\treturn new Polynomial(p)\n}\n\n\n\n/***********************\n\n\nQuestion Generators \n\n\n************************/\n\n\nexport class SolveQuadratic extends QGen {\n\tstatic info = {\n\t\tname: 'Solve Quadratic',\n\t\tdescription: 'Solve a quadratic equation with integer solutions.'\n\t}\n\n\tstatic options = {\n\t\tsingleColumn: true,\n\t}\n\n\tgenerate(props) {\n\t\tconst rd = this.random\n\t\tconst [r1, r2] = rd.sample(range(-12,13), 2)\n\n\t\tconst a = 1\n\t\tconst b = -(r1 + r2)\n\t\tconst c = r1 * r2\n\n\t\tconst poly = new Polynomial({2: a, 1: b, 0: c})\n\t\tconst rand = randomPolynomial.call(this, {degree: 2, maxCoefficient: 7, terms: 2})\n\t\t\n\t\tconst [left, right] = rd.random() < 0.5 ? [poly.add(rand), rand] : [rand, poly.add(rand)]\n\n\t\tfunction fmtAns(ans) {\n\t\t\treturn'$$x = ' + ans.sort((a, b) => a > b).join(', ') + '$$'\n\t\t}\n\n\t\treturn {\n\t\t\tinstructions: 'Determine the values of $$x$$ that satisfy the equation:',\n\t\t\tquestion: '$$' + left.toLatex() + ' = ' + right.toLatex() +'$$',\n\t\t\tanswer: fmtAns([r1, r2]),\n\t\t}\n\t}\n}\n\nexport class FactorQuadraticHard extends QGen {\n\tstatic info = {\n\t\tname: 'Factor Quadratic (Hard)',\n\t\tdescription: 'Factor a quadratic using AC method.'\n\t}\n\n\tstatic options = {\n\t\tsingleColumn: true,\n\t}\n\n\tgenerate(params) {\n\t\tlet rd = this.random\n\n\t\tconst a1 = rd.randint(2,5)\n\t\tconst a2 = rd.randint(2,8-a1)\n\n\t\tlet b1 = rd.randint(1,14-a2)\n\t\twhile (gcd(a1, b1) !== 1) {\n\t\t\tb1 = rd.randint(1,14-a2)\n\t\t}\n\t\tb1 *= rd.choice([-1,1])\n\n\t\t\n\t\tlet b2 = rd.randint(2, 14-a1)\n\t\twhile (gcd(a2, b2) !== 1) {\n\t\t\tb2 = rd.randint(1,14-a1)\n\t\t}\n\t\tb2 *= rd.choice([-1,1])\n\n\t\t// prevent difference of squares and perfect square\n\t\twhile (Math.abs(a1) === Math.abs(a2) && Math.abs(b1) === Math.abs(b2)) {\n\t\t\tb2 = rd.randint(2, 14-a1)\n\t\t\twhile (gcd(a2, b2) !== 1) {\n\t\t\t\tb2 = rd.randint(1,14-a1)\n\t\t\t}\n\t\t\tb2 *= rd.choice([-1,1])\n\t\t}\n\n\t\tconst p1 = new Polynomial({1: a1, 0: b1})\n\t\tconst p2 = new Polynomial({1: a2, 0: b2})\n\n\t\tconst a = a1 * a2\n\t\tconst b = a1 * b2 + a2 * b1\n\t\tconst c = b1 * b2\n\n\t\tconst poly = new Polynomial({2: a, 1: b, 0: c})\n\n\t\tconst answer = `$$(${p1.toLatex()})(${p2.toLatex()})$$`\n\n\t\treturn {\n\t\t\tinstructions: 'Rewrite as the product of linear factors:',\n\t\t\tquestion: `$$${poly.toLatex()}$$`,\n\t\t\tanswer: answer,\n\t\t}\n\t}\n}\n\n\nexport class RationalGraph extends QGen {\n\tstatic info = {\n\t\tname: 'Rational Graph',\n\t\tdescription: 'Determine the equation from the graph of a rational function'\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\n\t\tconst makeFunction = (top, bottom) => {\n\t\t\tlet f = function(x) {\n\t\t\t\tlet n = 1\n\t\t\t\tlet d = 1\n\t\t\t\tfor (const r of top) {\n\t\t\t\t\tn *= (x - r)\n\t\t\t\t}\n\t\t\t\tfor (const r of bottom) {\n\t\t\t\t\td *= (x - r)\n\t\t\t\t}\n\t\t\t\treturn n / d\n\t\t\t}\n\t\t\treturn f\n\t\t}\n\n\t\tfunction generateValues() {\n\t\t\tlet vals = rd.sample(range(1, 9), 4).map(v => rd.random() < 0.5 ? v : -v)\n\t\t\tlet roots = [vals[0]]\n\t\t\tlet holes = [vals[1]]\n\t\t\tlet asymptotes = [vals[2]]\n\t\t\tif (rd.random() < 0.5) {\n\t\t\t\tasymptotes.push(vals[3])\n\t\t\t} else if (rd.random() < 0.8) {\n\t\t\t\tholes.push(vals[3])\n\t\t\t}\n\t\t\treturn ({roots, holes, asymptotes})\n\t\t}\n\n\t\tfunction allHolesInRange(holes, f) {\n\t\t\tfor (const r of holes) {\n\t\t\t\tif (f(r) <= -8 || f(r) >= 8) {\n\t\t\t\t\treturn false\n\t\t\t\t} \n\t\t\t}\n\t\t\treturn true\n\t\t}\n\n\t\tlet roots, holes, asymptotes, f\n\t\tlet isGood = false\n\n\t\twhile (!isGood) {\n\t\t\t({roots, holes, asymptotes} = generateValues())\n\t\t\tf = makeFunction(roots, asymptotes)\n\t\t\tisGood = allHolesInRange(holes, f)\n\t\t}\n\t\t\n\n\t\tconst graph = [\n\t\t\t'CoordinatePlane',\n\t\t\t{span: [-10,-8,10,8], height: '1.8in'},\n\t\t\t[\n\t\t\t\t'RationalFunction',\n\t\t\t\t{\n\t\t\t\t\tdomain: [-12,12],\n\t\t\t\t\trange: [-10,10],\n\t\t\t\t\troots, holes, asymptotes,\n\t\t\t\t}\n\t\t\t]\n\t\t]\n\n\n\t\tfunction fmtAns(ans) {\n\t\t\tlet numer = ''\n\t\t\tfor (const r of ans.top.sort((a,b) => b-a)) {\n\t\t\t\tnumer += '(' + math.simplify(`x - ${r}`).toString() + ')'\n\t\t\t}\n\t\t\tlet denom = ''\n\t\t\tfor (const r of ans.bottom.sort((a,b) => b-a)) {\n\t\t\t\tdenom += '(' + math.simplify(`x - ${r}`).toString() + ')'\n\t\t\t}\n\t\t\treturn `$$\\\\displaystyle y = \\\\frac{ ${numer} }{ ${denom} }$$`\n\t\t}\n\n\t\tconst answer = {top: [...roots, ...holes], bottom: [...holes, ...asymptotes]}\n\n\t\tconst wrongs = [\n\t\t\t{top: [...holes, ...asymptotes], bottom: [...holes, ...roots]},\n\t\t\t{top: [...roots], bottom: [...holes, ...asymptotes]},\n\t\t\t{top: [...roots, ...holes].map(r => -r), bottom: [...holes, ...asymptotes].map(r => -r)},\n\t\t\t{top: [...holes, ...asymptotes].map(r => -r), bottom: [...holes, ...roots].map(r => -r)},\n\t\t]\n\n\t\tconst i = rd.randint(0,wrongs.length)\n\t\tconst choices = rd.shuffle([answer, ...wrongs].map(fmtAns), i)\n\n\t\treturn {\n\t\t\tinstructions: 'Choose the equation that best describes the graph shown.',\n\t\t\tfreeResponse: {\n\t\t\t\tinstructions: 'Write the equation that best describes the graph shown.'\n\t\t\t},\n\t\t\tdiagram: graph,\n\t\t\tanswer: {\n\t\t\t\tcorrect: fmtAns(answer),\n\t\t\t\tchoices: choices,\n\t\t\t\tcorrectIndex: i,\n\t\t\t\tprompt: [\n\t\t\t\t\t'AnswerBlanks',\n\t\t\t\t\t{height: '8em', width: '20em'},\n\t\t\t\t\t'$$y = $$', \n\t\t\t\t],\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n\nexport class IncreasingIntervals extends QGen {\n\tstatic info = {\n\t\tname: 'Increasing Intervals',\n\t\tdescription: 'Identify intervals over which a graph is increasing'\n\t}\n\n\tstatic params = {\n\t\ttoFind: {\n\t\t\tlabel: 'Type of interval to find',\n\t\t\ttype: 'select',\n\t\t\toptions: ['increasing', 'decreasing', 'either'],\n\t\t},\n\t\tstyle: {\n\t\t\tlabel: 'Graph style',\n\t\t\ttype: 'select',\n\t\t\toptions: ['jagged', 'smooth'],\n\t\t},\n\t\tpoints: {\n\t\t\tlabel: 'Mark points',\n\t\t\ttype: 'bool',\n\t\t}\n\t}\n\n\tstatic defaultParams = {\n\t\ttoFind: 'increasing',\n\t\tstyle: 'smooth',\n\t\tpoints: true,\n\t}\n\n\tinterpolatePath(points) {\n\t\t// smooths path so that 1st deriv = 0 at each point\n\t\tconst pts = Array.isArray(points[0]) ? points.map(p => ({x: p[0], y: p[1]})) : points\n\t\tlet d = `M${pts[0].x},${pts[0].y}`\n\t\tlet prev = pts[0]\n\t\tfor (let i = 1; i < pts.length; i++) {\n\t\t\tconst p = pts[i]\n\t\t\tconst x1 = (2*prev.x + p.x) / 3\n\t\t\tconst x2 = (prev.x + 2*p.x) / 3\n\t\t\td += ` C ${x1},${prev.y} ${x2},${p.y} ${p.x},${p.y}`\n\t\t\tprev = p\n\t\t}\n\t\treturn d\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\n\t\tconst toFind = rd.choice({\n\t\t\tincreasing: ['inc'],\n\t\t\tdecreasing: ['dec'],\n\t\t\teither: ['inc', 'dec']\n\t\t}[params.toFind])\n\n\t\tconst xs = [-10]\n\t\tlet prev = -10\n\t\twhile (prev < 7) {\n\t\t\tconst next = rd.randint(prev+3, prev+5)\n\t\t\tif (next > 7) {\n\t\t\t\txs.push(8)\n\t\t\t} else {\n\t\t\t\txs.push(next)\n\t\t\t}\n\t\t\tprev = xs[xs.length-1]\n\t\t}\n\t\txs.push(10)\n\n\t\tconst yRange = [-4,4]\n\t\tconst ys = [rd.randint(...yRange)]\n\n\t\tlet maxConstantIntervals = 2\n\t\tlet which\n\t\twhile (ys.length < xs.length) {\n\t\t\tlet possible = []\n\t\t\tconst prev = ys[ys.length-1]\n\t\t\tif (which !== 'dec' & prev >= yRange[0]+2) {\n\t\t\t\tpossible.push('dec')\n\t\t\t}\n\t\t\tif (which !== 'inc' & prev <= yRange[1]-2) {\n\t\t\t\tpossible.push('inc')\n\t\t\t}\n\t\t\tif (which !== 'const' & maxConstantIntervals > 0) {\n\t\t\t\tpossible.push('const')\n\t\t\t\tmaxConstantIntervals -= 1\n\t\t\t}\n\t\t\twhich = rd.choice(possible)\n\t\t\tif (which === 'dec') {\n\t\t\t\tys.push(rd.randint(Math.max(yRange[0], prev-7), prev-2))\n\t\t\t} else if (which === 'inc') {\n\t\t\t\tys.push(rd.randint(prev+2, Math.min(yRange[1], prev+7)))\n\t\t\t} else {\n\t\t\t\tys.push(prev)\n\t\t\t}\n\t\t}\n\n\t\tif (rd.random() < 0.5) {\n\t\t\tys.reverse()\n\t\t}\n\n\t\tconst intervals = []\n\t\tfor (let i = 1; i < ys.length; i++) {\n\t\t\tif (ys[i-1] < ys[i]) {\n\t\t\t\tintervals.push('inc')\n\t\t\t} else if (ys[i-1] === ys[i]) {\n\t\t\t\tintervals.push('const')\n\t\t\t} else {\n\t\t\t\tintervals.push('dec')\n\t\t\t}\n\t\t}\n\n\t\tlet answer = []\n\t\tlet wrongAnswer1 = []  // ys insteas of xs\n\t\tlet wrongAnswer2 = []  // points instead of xs\n\t\tlet wrongAnswer3 = []  // switch dec/inc\n\t\tlet wrongAnswer4 = []  // switch dec/inc, ys instead of xs\n\n\t\tlet points = [\n\t\t\t{x: xs[0], y: ys[0]},\n\t\t]\n\t\tfor (let i=0; i < intervals.length; i++) {\n\t\t\tpoints.push({x: xs[i+1], y: ys[i+1]})\n\t\t\tif (intervals[i] === toFind) {\n\t\t\t\tanswer.push({start: xs[i], stop: xs[i+1]})\n\t\t\t\twrongAnswer1.push({start: ys[i], stop: ys[i+1]})\n\t\t\t\twrongAnswer2.push({start: xs[i], stop: ys[i]})\n\t\t\t\twrongAnswer2.push({start: xs[i+1], stop: ys[i+1]})\n\t\t\t} else if (intervals[i] === {'inc': 'dec', 'dec': 'inc'}[toFind]) {\n\t\t\t\twrongAnswer3.push({start: xs[i], stop: xs[i+1]})\n\t\t\t\twrongAnswer4.push({start: ys[i], stop: ys[i+1]})\n\t\t\t}\n\t\t}\n\n\t\tconst path = params.style === 'smooth' ? {d: this.interpolatePath(points)} : {points}\n\t\tif (params.points) {\n\t\t\tpath.markers = '...'\n\t\t}\n\t\t\n\t\tconst diagram = [\n\t\t\t'CoordinatePlane', {span: [-10,yRange[0]-1,10,yRange[1]+1], height: '1.4in', clip: false},\n\t\t\t['Path', path]\n\t\t]\n\t\t\n\t\tconst fullName = {inc: 'increasing', dec: 'decreasing'}[toFind]\n\n\t\tfunction fmtAns(ans) {\n\t\t\tif (ans.length === 0) {\n\t\t\t\treturn 'None'\n\t\t\t}\n\t\t\treturn ans.map((int) => `$$(${int.start}, ${int.stop})$$`).join(', ')\n\t\t}\n\n\t\tconst wrongs = [wrongAnswer1, wrongAnswer2, wrongAnswer3, wrongAnswer4]\n\t\tconst answerIndex = rd.randint(0, wrongs.length)\n\t\tconst choices = rd.shuffle([answer, ...wrongs], answerIndex).map(fmtAns)\n\n\t\treturn ({\n\t\t\tinstructions: `Determine the intervals over which the function is ***${fullName}***.`,\n\t\t\tdiagram: diagram,\n\t\t\tanswer: {\n\t\t\t\tcorrect: fmtAns(answer),\n\t\t\t\tchoices: choices,\n\t\t\t\tcorrectIndex: answerIndex,\n\t\t\t\tprompt: ['EmptySpace', {width: '2in'}]\n\t\t\t}\n\t\t})\n\t}\n}\n\n\nexport class RationalZeroTheorem extends QGen {\n\tstatic info = {\n\t\tname: 'Rational Zero Theorem',\n\t\tdescription: 'State possible rational zeros for a polynomial function.'\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\t\tlet primes = rd.sample([1, 2, 3, 5, 7, 11], 4)\n\t\tfor (const i in primes) {\n\t\t\tif (primes[i] === 1) {\n\t\t\t\tif (i === 0 | i === 2) {\n\t\t\t\t\tprimes[i+1] = Math.pow(primes[i+1], rd.randint(1,2))\n\t\t\t\t} else {\n\t\t\t\t\tprimes[i-1] = Math.pow(primes[i-1], rd.randint(1,2))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (const i in primes) {\n\t\t\tif (primes[i] === 2 | primes[i] === 3) {\n\t\t\t\tprimes[i] = Math.pow(primes[i], rd.randint(1,2))\n\t\t\t}\n\t\t}\n\t\tconst leading_coeff = primes[0] * primes[1]\n\t\tconst trailing_coeff = primes[2] * primes[3]\n\t\tconst degree = rd.randint(3,6)\n\t\tconst num_coeffs = rd.randint(3,degree)\n\t\tlet poly = randomPolynomialCoefficients.call(this, {degree: degree, terms: num_coeffs})\n\t\tpoly[0] = trailing_coeff\n\t\tpoly[degree] = leading_coeff\n\t\tconst f = new Polynomial(poly)\n\n\t\tconst question = '$$f(x) = ' + f.toLatex() + '$$'\n\t\t\n\t\tconst correctNumerators = listFactors(trailing_coeff, {include1: true, includeN: true})\n\t\tconst correctDenominators = listFactors(leading_coeff, {include1: true, includeN: true})\n\t\t\n\t\tconst allPossibleZeros = []\n\t\tfor (const a of correctNumerators) {\n\t\t\tfor (const b of correctDenominators) {\n\t\t\t\tallPossibleZeros.push(`${a}/${b}`)\n\t\t\t}\n\t\t}\n\n\t\tconst numCorrect = rd.choice([0,1,1,2,2,2,2,2,2,3,3,4])\n\t\tconst correctAnswers = []\n\t\twhile (correctAnswers.length < numCorrect) {\n\t\t\tconst [a, b] = [rd.choice(correctNumerators), rd.choice(correctDenominators)]\n\t\t\tconst s = `${a}/${b}`\n\t\t\tif (!_.includes(correctAnswers, s)) {\n\t\t\t\tcorrectAnswers.push(s)\n\t\t\t}\n\t\t}\n\n\t\tconst wrongAnswers = []\n\t\twhile (wrongAnswers.length < 4-numCorrect) {\n\t\t\tconst [a,b] = [rd.choice(correctDenominators), rd.choice(correctNumerators)]\n\t\t\tconst s = `${a}/${b}`\n\t\t\tif (!(s == '1/1') && !_.includes(wrongAnswers, s)) {\n\t\t\t\twrongAnswers.push(s)\n\t\t\t}\n\t\t}\n\n\t\tconst allChoices = [...correctAnswers, ...wrongAnswers]\n\t\tconst shuffled = []\n\t\tconst correctIndex = numCorrect ? [] : 4\n\t\tfor (let i = 0; i < 4; i++) {\n\t\t\tconst a = rd.poprandom(allChoices)\n\t\t\tif (_.includes(correctAnswers, a)) {\n\t\t\t\tcorrectIndex.push(i)\n\t\t\t}\n\t\t\tshuffled.push(a)\n\t\t}\n\n\t\treturn {\n\t\t\tinstructions: \"Which of the following are _possible_ zeros of the function according to the _Rational Zero Theorem_? Choose ***all*** that apply.\",\n\t\t\tquestion: question,\n\t\t\tanswer: {\n\t\t\t\tcorrect: allPossibleZeros.map(s => `$$${fraction(s).toLatex()}$$`).join(', '),\n\t\t\t\tchoices: [...shuffled.map(s => `$$\\\\displaystyle ${fraction(s).toLatex()}$$`), 'None of these'],\n\t\t\t\tcorrectIndex: correctIndex,\n\t\t\t\tlistDirection: 'horizontal',\n\t\t\t},\n\t\t\tfreeResponse: {\n\t\t\t\tinstructions: \"List all possible rational zeros of the function (according to the _Rational Zero Theorem_).\"\n\t\t\t}\n\t\t}\n\t}\n}\n\n\nexport class GraphLinearInequalities extends QGen {\n\tstatic info = {\n\t\tname: 'Graph Inequalities',\n\t\tdescription: 'Graph the solution to a system of two linear inequalities',\n\t}\n\n\n\tstatic options = {\n\t\tsingleColumn: true,\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\t\t\n\t\tlet [x1, y1, y2] = rd.sampleRange(2,7,3)\n\t\tlet x2 = rd.randint(-7,-2)\n\t\tconst rotation = rd.randint(0,3)\n\t\tfor (let i = 0; i < rotation; i++) {\n\t\t\t[x1, y1, x2, y2] = [-y1, x1, -y2, x2]\n\t\t}\n\t\tif (x1 > 0 && x2 > 0) {\n\t\t\t[x1, y1, x2, y2] = [-y1, x1, -y2, x2]\n\t\t}\n\n\t\tconst [ineq1, ineq2] = rd.shuffle([rd.choice(['<', '>']), rd.choice(['<=', '>='])])\n\n\t\tconst line1 = {a: y1, b: x1, c: x1*y1, ineq: ineq1, xInt: x1, yInt: y1}\n\t\tconst line2 = {a: y2, b: x2, c: x2*y2, ineq: ineq2, xInt: x2, yInt: y2}\n\n\t\tconst withsign = n => n < 0 ? n : '+' + n\n\t\tconst latexineq = ineq => {\n\t\t\tif (ineq === '<=') return '\\\\leq'\n\t\t\tif (ineq === '>=') return '\\\\geq'\n\t\t\treturn ineq\n\t\t}\n\n\t\tconst latexeqn = f => `${f.a}x ${withsign(f.b)}y &${latexineq(f.ineq)} ${f.c}`\n\n\t\tconst question = `$$\\\\displaystyle\\\\left\\\\{\\\\begin{aligned}\\n${latexeqn(line1)} \\\\\\\\\\n${latexeqn(line2)}\\n\\\\end{aligned}\\\\right.$$`\n\n\t\tconst blankgraph = ['CoordinatePlane', {span: \"-10,-10 10,10\", height: \"1.8in\"}]\n\n\t\tconst correct = {\n\t\t\tlines: [], \n\t\t\tclips: [],\n\t\t}\n\n\t\tfor (const f of [line1, line2]) {\n\t\t\tconst func = x => (f.c - x*f.a) / f.b\n\t\t\tconst points = [[-11, func(-11)], [11, func(11)]]\n\n\t\t\tif (f.ineq === '<' || f.ineq === '>') {\n\t\t\t\tcorrect.lines.push(['Path', {points, style: 'dashed'}])\n\t\t\t} else {\n\t\t\t\tcorrect.lines.push(['Path', {points}])\n\t\t\t}\n\n\t\t\tlet whichside\n\t\t\tif (f.ineq === '<' || f.ineq === '<=') {\n\t\t\t\tif (f.b > 0) {\n\t\t\t\t\twhichside = 'below'\n\t\t\t\t}\telse {\n\t\t\t\t\twhichside = 'above'\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (f.b > 0) {\n\t\t\t\t\twhichside = 'above'\n\t\t\t\t} else {\n\t\t\t\t\twhichside = 'below'\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (whichside === 'above') {\n\t\t\t\tcorrect.clips.push([...points, [11,11], [-11, 11]])\n\t\t\t} else {\n\t\t\t\tcorrect.clips.push([...points, [11,-11], [-11, -11]])\n\t\t\t}\n\t\t}\n\n\t\tconst plotAnswer = a => (\n\t\t\t[\n\t\t\t\t'CoordinatePlane', {span: [-10,-10,10,10], height: '1in', margin: '0.5mm'},\n\t\t\t\t[\n\t\t\t\t\t'Clip', {shape: 'Path', points: a.clips[0]}, [\n\t\t\t\t\t\t'Clip', {shape: 'Path', points: a.clips[1]},\n\t\t\t\t\t\t['Path', {points: [[-11,-11], [-11,11], [11,11], [11,-11]], fill: \"solid\"}]\n\t\t\t\t]],\n\t\t\t\t['Style', {color: '#999'}, ...a.lines],\n\t\t\t\t['Clip', {shape: 'Path', points: a.clips[1]}, a.lines[0] ],\n\t\t\t\t['Clip', {shape: 'Path', points: a.clips[0]}, a.lines[1] ],\n\t\t\t]\n\t\t)\n\n\n\t\treturn {\n\t\t\tinstructions: 'Graph the solution to the system of inequalities.',\n\t\t\tquestion: question,\n\t\t\tanswer: {\n\t\t\t\tprompt: blankgraph,\n\t\t\t\tcorrect: plotAnswer(correct),\n\t\t\t},\n\t\t}\n\t}\n}\n\n\nfunction eqnFromPoints(p1, p2) {\n\tconst m = fraction(p2[1] - p1[1], p2[0] - p1[0])\n\tconst b = p1[1] - m*p1[0]\n\tconst f = x => m*x + b\n\tPolynomial.setField('Q')\n\tconst latex = new Polynomial([b, m]).toLatex()\n\treturn ({f, latex})\n}\n\n\nclass WritePiecewise extends QGen {\n\tstatic info = {\n\t\tname: 'Write Piecewise Function',\n\t\tdescription: 'Write the equation for a piecewise function from its graph.'\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\n\t\tconst domain = [-9,9]\n\t\tconst range = [-10,10]\n\n\t\tconst order = rd.sample(['inc', 'dec', 'const'], 3)\n\n\n\n\t\tconst eqns = []\n\n\t\tconst pieces = []\n\t\tconst xs = [domain[0], -3, 3, domain[1]]\n\n\n\t\tconst left = [rd.bool(), rd.bool()] // does the function go with the left at the domain break?\n\n\t\tconst markers = [\n\t\t\t['<', '.', '.'], \n\t\t\t['.', '.', '.'], \n\t\t\t['.', '.', '>'], \n\t\t]\n\n\t\tconst domainIneqs = [\n\t\t\t['\\\\leq', '\\\\leq'],\n\t\t\t['\\\\leq', '\\\\leq'],\n\t\t\t['\\\\leq', '\\\\leq'],\n\t\t]\n\n\t\tif (left[0]) {\n\t\t\tmarkers[1][0] = 'o'\n\t\t\tdomainIneqs[1][0] = '<'\n\t\t} else {\n\t\t\tmarkers[0][2] = 'o'\n\t\t\tdomainIneqs[0][1] = '<'\n\t\t}\n\t\tif (left[1]) {\n\t\t\tmarkers[2][0] = 'o'\n\t\t\tdomainIneqs[2][0] = '<'\n\t\t} else {\n\t\t\tmarkers[1][2] = 'o'\n\t\t\tdomainIneqs[1][1] = '<'\n\t\t}\n\n\t\tconst answer = `$$y = \\\\left\\\\{\\\\begin{array}{r l r}\n\t${eqns[0].latex} & \\\\text{ for } & -\\\\infty ${domainIneqs[0][0]} x ${domainIneqs[0][1]} ${xs[1]} \\\\\\\\\n\t${eqns[1].latex} & \\\\text{ for } & ${xs[1]} ${domainIneqs[1][0]} x ${domainIneqs[1][1]} ${xs[2]} \\\\\\\\\n\t${eqns[2].latex} & \\\\text{ for } & ${xs[2]} ${domainIneqs[2][0]} x ${domainIneqs[2][1]} \\\\infty \\\\\\\\\n\\\\end{array}\\\\right.$$`\n\n\t\tconst paths = [\n\t\t\t['Path', {points: [pieces[0]], markers: markers[0].join('')}],\n\t\t\t['Path', {points: [pieces[1]], markers: markers[1].join('')}],\n\t\t\t['Path', {points: [pieces[2]], markers: markers[2].join('')}],\n\t\t]\n\n\t\tconst diagram = [\n\t\t\t'CoordinatePlane', {\n\t\t\t\tspan: [domain[0]-1, range[0], domain[1]+1, range[1]], \n\t\t\t\tclip: false,\n\t\t\t\theight: '2in',\n\t\t\t},\n\t\t\t...paths\n\t\t]\n\n\t\treturn {\n\t\t\tinstructions: 'Write the equation for the piecewise function shown.',\n\t\t\tdiagram,\n\t\t\tanswer,\n\t\t}\n\n\n\t}\n}","import QGen from './QGen'\nimport Polynomial from 'polynomial'\nimport { includes } from 'lodash'\n\nfunction lineThroughPoints(a, b) {\n  /** returns polynomial coefficients */\n  const m = (b[1] - a[1]) / (b[0] - a[0])\n  return [a[1] - m*a[0], m]\n}\n\nfunction congruentOrSupplementary() {\n  const rd = this.random;\n  \n  let [leadingCoeff1, leadingCoeff2] = rd.sampleRange(2,8,2);\n  while (Math.abs(leadingCoeff1 - leadingCoeff2) < 2) {\n    [leadingCoeff1, leadingCoeff2] = rd.sampleRange(2,8,2);\n  }\n\n  const congruentVal = rd.randint(3,12);\n  const dx = ((leadingCoeff1 % 2) === (leadingCoeff2 % 2)) ? rd.randint(4,12) : 2*rd.randint(1,6)\n  const l = (180 - leadingCoeff1*dx - leadingCoeff2*dx) / 2\n\n  const supplementaryVal = congruentVal + dx\n  const f = lineThroughPoints([congruentVal, l], [supplementaryVal, leadingCoeff1*dx+l])\n  const g = lineThroughPoints([congruentVal, l], [supplementaryVal, 180 - (f[0] + f[1]*supplementaryVal)])\n\n  return {\n    f: new Polynomial(f).toLatex(),\n    g: new Polynomial(g).toLatex(),\n    solution: {\n      congruent: congruentVal,\n      supplementary: supplementaryVal,\n    }\n  }\n}\n\nconst translate = (a, b) => [a[0] + b[0], a[1]+ b[1]]\nconst difference = (a, b) => [a[0] - b[0], a[1] - b[1]]\nconst complexMult = (a, b) => [a[0] * b[0] - a[1] * b[1], a[1] * b[0] + a[0] * b[1]]\n\nconst rotate = (pt, angle, center=[0,0]) => {\n\tconst radians = angle * Math.PI / 180\n\tconst rotator = [Math.cos(radians), Math.sin(radians)]\n\tconst recenter = difference(pt, center)\n\treturn translate(complexMult(recenter, rotator), center)\n}\n\n\n\nexport class TransversalNames extends QGen {\n\tstatic info = {\n\t\tname: 'Transversal Relations',\n\t\tdescription: 'Name the relation of two angles',\n\t}\n\n\tstatic params = {\n\t\tpossibleRelations: {\n\t\t\tlabel: 'Possible relations',\n\t\t\ttype: 'multiple-select',\n\t\t\toptions: [\n\t\t\t\t'alternate exterior',\n\t\t\t\t'alternate interior',\n\t\t\t\t//'consecutive exterior',\n\t\t\t\t'consecutive interior',\n\t\t\t\t'corresponding',\n\t\t\t\t'linear',\n\t\t\t\t'vertical', \n\t\t\t],\n\t\t}\n\t}\n\n\tstatic defaultParams = {\n\t\tpossibleRelations: {\n\t\t\t'alternate exterior': true,\n\t\t\t'alternate interior': true,\n\t\t\t'consecutive exterior': false,\n\t\t\t'consecutive interior': true,\n\t\t\t'corresponding': true,\n\t\t\t'linear': true,\n\t\t\t'vertical': true,\n\t\t}\n\t}\n\n\tgenerate(params) {\n\n\t\tconst rd = this.random\n\t\tconst possibleRelations = Object.keys(params.possibleRelations).filter(k => params.possibleRelations[k])\n\t\tconst answer = rd.choice(possibleRelations)\n\n\t\tconst angle1 = rd.randint(45, 135)\n\n\t\tconst rotateBy = rd.randint(-35,35)\n\n\t\tconst r1 = 8\n\t\tconst r2 = 5\n\t\tconst intersect1 = [-r1/2,0]\n\t\tconst pp = [r2 * Math.cos(angle1 * Math.PI / 180), r2 * Math.sin(angle1 * Math.PI / 180)]\n\t\tconst top1 = translate(intersect1, pp)\n\t\tconst bottom1 = difference(intersect1, pp)\n\n\t\tconst intersect2 = [-intersect1[0], intersect1[1]]\n\t\tconst top2 = [top1[0] + r1, top1[1]]\n\t\tconst bottom2 = [bottom1[0] + r1, bottom1[1]]\n\n\t\tconst left = [intersect1[0] - r2, intersect1[1]]\n\t\tconst right = [intersect2[0] + r2, intersect2[1]]\n\n\t\tfunction angleMark(transversal, position, linear=false) {\n\t\t\t// transversal: 1 or 2 \n\t\t\t// position: 'a', 'b', 'c', or 'd'\n\n\t\t\tconst result = linear ? {radius: 1.8} : {minRadius: 1.6};\n\n\t\t\tif (transversal === 1) {\n\t\t\t\tresult.coords = intersect1;\n\t\t\t} else {\n\t\t\t\tresult.coords = intersect2;\n\t\t\t}\n\t\t\tif (position === 'a') {\n\t\t\t\tresult.start = 0;\n\t\t\t\tresult.end = angle1;\n\t\t\t} else if (position === 'b') {\n\t\t\t\tresult.start = angle1;\n\t\t\t\tresult.end = 180;\n\t\t\t} else if (position === 'c') {\n\t\t\t\tresult.start = 180;\n\t\t\t\tresult.end = 180 + angle1;\n\t\t\t} else {\n\t\t\t\tresult.start = 180 + angle1;\n\t\t\t\tresult.end = 360;\n\t\t\t}\n\t\t\treturn result\n\t\t}\n\n\t\tconst relations = {\n\t\t\t'alternate exterior': ['1b:2d', '1c:2a'],\n\t\t\t'alternate interior': ['1a:2c', '1d:2b'],\n\t\t\t'consecutive exterior': ['1b:2a', '1c:2d'],\n\t\t\t'consecutive interior': ['1a:2b', '1d:2c'],\n\t\t\t'corresponding': ['1a:2a', '1b:2b', '1c:2c', '1d:2d'],\n\t\t\t'linear': [\n\t\t\t\t'1a:1b', '1b:1c', '1c:1d', '1d:1a',\n\t\t\t\t'2a:2b', '2b:2c', '2c:2d', '2d:2a',\n\t\t\t],\n\t\t\t'vertical': ['1a:1c', '1b:1d', '2a:2c', '2b:2d'], \n\t\t}\n\n\t\tconst choices = (\n\t\t\tpossibleRelations.length > 5 \n\t\t\t? [answer, ...rd.sample(possibleRelations.filter(k => k != answer), 4)] \n\t\t\t: [...possibleRelations]\n\t\t)\n\t\twhile (choices.length < 5) {\n\t\t\tconst k = rd.choice(Object.keys(relations))\n\t\t\tif (!includes(choices, k)) {\n\t\t\t\tchoices.push(k)\n\t\t\t}\n\t\t}\n\n\t\tconst anglesToMark = rd.choice(relations[answer])\n\t\tconst [a1, a2] = anglesToMark.split(':')\n\n\t\tconst angleMark1 = angleMark(+a1[0], a1[1], answer === 'linear')\n\t\tconst angleMark2 = angleMark(+a2[0], a2[1], answer === 'linear')\n\t\t\n\t\tconst diagram = [\n\t\t\t'CoordinatePlane',\n\t\t\t{\n\t\t\t\tspan: [-11,-7,11,7], margin: '0mm', width: '2.5in', \n\t\t\t\tgrid: false, axis: false, style: 'geom',\n\t\t\t},\n\t\t\t[\n\t\t\t\t'Transform', \n\t\t\t\t{type: 'rotate', a: rotateBy},\n\t\t\t\t['AngleMark', angleMark1],\n\t\t\t\t['AngleMark', angleMark2],\n\t\t\t\t['Path', {points: [left, right], markers: '<->'}],\n\t\t\t\t['Path', {points: [top1, bottom1], markers: '<->'}],\n\t\t\t\t['Path', {points: [top2, bottom2], markers: '<->'}],\n\t\t\t\t['Point', {coords: intersect1}],\n\t\t\t\t['Point', {coords: intersect2}]\n\t\t\t]\n\t\t]\n\n\n\t\treturn {\n\t\t\tinstructions: 'The indicated angles are best described as ...',\n\t\t\tdiagram: diagram,\n\t\t\tanswer: {\n\t\t\t\tcorrect: answer,\n\t\t\t\tchoices: rd.shuffle(choices),\n\t\t\t},\n\t\t\tlayout: [[['instructions', 'question', 'answer'], 'diagram', ]],\n\t\t}\n\n\t}\n}\n","import Polynomial from 'polynomial'\nimport fraction from 'fraction.js'\nimport { roundTo } from './tools/handystuff'\n\nimport QGen from './QGen'\n\n\n\nclass TransformTracker {\n\t// y = a * f((x - h)/b) + k\n\tconstructor(parent) {\n\t\tthis.parent = parent\n\t\tthis.a = fraction(1)\n\t\tthis.b = fraction(1)\n\t\tthis.h = 0\n\t\tthis.k = 0\n\t}\n\n  translate(x,y) { this.h += x; this.k += y }\n  scale(x,y) { this.b = this.b.mul(x); this.a = this.a.mul(y) }\n\ttranslateX(n) { this.h += n }\n\ttranslateY(n) { this.k += n }\n\tscaleX(n) { this.b = this.b.mul(n) }\n\tscaleY(n) { this.a = this.a.mul(n) }\n\t\n\tshiftH(n) { this.translateX(n) }\n\tshiftV(n) { this.translateY(n) }\n\tstretchH(n) { this.scaleX(n) }\n\tstretchV(n) { this.scaleY(n) }\n\tcompressH(n) { this.scaleX(fraction(1,n)) }\n\tcompressV(n) { this.scaleY(fraction(1,n)) }\n\treflectH() { this.b = -this.b }\n  reflectV() { this.a = -this.a }\n  up(n) { this.translateY(n) }\n  down(n) { this.translateY(-n) }\n\n\tf() {\n\t\tconst parent = {\n\t\t\t'abs': x => Math.abs(x),\n\t\t\t'cubic': x => x*x*x,\n\t\t\t'exp2': x => Math.pow(2,x),\n\t\t\t'log2': x => Math.log2(x),\n\t\t\t'quad': x => x*x,\n\t\t\t'sqrt': x => Math.sqrt(x),\n\t\t}[this.parent]\n\t\tconst {a, b, h, k} = this\n\t\treturn x => a * parent((x - h)/b) + k \n  }\n  \n  vgTransform() {\n    return ({type: 'matrix', params: [this.b.valueOf(), 0, 0, this.a.valueOf(), this.h, this.k]})\n  }\n\n\ttoLatex() {\n\t\tPolynomial.setField('Q')\n\t\tconst {parent, a, b, h, k} = this\n\t\tconst inner = new Polynomial([fraction(-h).div(b), fraction(1).div(b)]).toLatex()\n\t\tconst kStr = k === 0 ? '' : k < 0 ? k.toString() : '+' + k.toString()\n\t\tconst aStr = a == 1 ? '' : a == -1 ? '-' : a.toString()\n\t\tif (parent === 'sqrt') {\n\t\t\treturn `${aStr}\\\\sqrt{${inner}}${kStr}`\n\t\t}\n\t\tif (parent === 'quad') {\n\t\t\tif (b == 1 && h === 0) {\n\t\t\t\treturn `${aStr}x^2${kStr}`\n\t\t\t}\n\t\t\treturn `${aStr}(${inner})^2${kStr}`\n\t\t}\n\t\tif (parent === 'cubic') {\n\t\t\tif (b == 1 && h === 0) {\n\t\t\t\treturn `${aStr}x^3${kStr}`\n\t\t\t}\n\t\t\treturn `${aStr}(${inner})^3${kStr}`\n\t\t}\n\t\tif (parent === 'abs') {\n\t\t\treturn `${aStr}|${inner}|${kStr}`\n\t\t}\n\t\tif (parent === 'exp2') {\n\t\t\tif (aStr) {\n\t\t\t\treturn `${aStr} \\\\cdot 2^{${inner}}${kStr}`\n\t\t\t}\n\t\t\treturn `${aStr}2^{${inner}}${kStr}`\n\t\t}\n\t\tif (parent === 'log2') {\n\t\t\treturn `${aStr}\\\\log_{2}(${inner})${kStr}`\n\t\t}\n\t}\n}\n\n\n\n\n\n\nexport class MatchTransformations extends QGen {\n\tstatic info = {\n\t\tname: 'Match Transformations',\n\t\tdescription: 'Match equations with graphs'\n\t}\n\n\tstatic params = {\n\t\tparents: {\n\t\t\tlabel: 'Allowed Parent Functions',\n\t\t\ttype: 'multipleselect',\n\t\t\toptions: [\n\t\t\t\t{value: 'sqrt', label: 'Square root'},\n\t\t\t\t{value: 'quad', label: 'Quadratic'},\n\t\t\t\t{value: 'abs', label: 'Absolute value'},\n\t\t\t\t{value: 'cubic', label: 'Cubic'}, // cubic is problematic because reflections are ambiguous\n\t\t\t\t{value: 'exp2', label: 'Exponential'},\n\t\t\t\t{value: 'log2', label: 'Logarithm'},\n\t\t\t],\n\t\t}\n\t}\n\n\tstatic defaultParams = {\n\t\tparents: {\n\t\t\tsqrt: true,\n\t\t\tquad: true,\n\t\t\tabs: true,\n\t\t\texp2: true,\n\t\t\tlog2: true,\n\t\t\tcubic: false,\n\t\t}\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\n\t\tconst parent = rd.choice(Object.keys(params.parents).filter(k => params.parents[k]))\n\n\t\tconst transforms = (\n\t\t\tparent === 'cubic' \n\t\t\t? ['up', 'down', 'left', 'right', 'stretchV', rd.choice(['flipLR', 'flipDown'])]\n\t\t\t: ['up', 'down', 'left', 'right', 'flipDown', 'flipLR']\n\t\t)\n\t\t\n\t\tlet eqns = []\n\t\tlet paths = []\n\n\t\tconst v = rd.randint(2,5)\n\t\tfor (const t of transforms) {\n\t\t\tconst func = new TransformTracker(parent)\n\n\t\t\tif (t === 'up') func.shiftV(v)\n\t\t\telse if (t === 'down') func.shiftV(-v)\n\t\t\telse if (t === 'left') func.shiftH(-v)\n\t\t\telse if (t === 'right') func.shiftH(v)\n\t\t\telse if (t === 'stretchV') func.stretchV(v)\n\t\t\telse if (t === 'flipDown') func.stretchV(-v)\n\t\t\telse if (t === 'stretchH') func.stretchH(v)\n\t\t\telse if (t === 'flipLR') func.compressH(-v)\n\n\t\t\tconst eqn = func.toLatex()\n      eqns.push(`$$y = ${eqn}$$`)\n\n\t\t\tconst f = func.f()\n\t\t\tconst points = []\n\t\t\tlet start, stop\n\t\t\tconst {a, b, h, k} = func\n\t\t\tif (func.parent === 'sqrt') {\n\t\t\t\t[start, stop] = b < 0 ? [-10, h*b] : [h*b, 10]\n\t\t\t}\n\t\t\telse if (func.parent === 'log2') {\n\t\t\t\tif (b < 0) {\n\t\t\t\t\t[start, stop] = [-10, h*b-0.01]\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t[start, stop] = [h*b+0.01, 10]\n\t\t\t\t\tpoints.push({x: h*b, y: -a*1000})\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t[start, stop] = [-10, 10]\n\t\t\t}\n\t\t\tlet x = start\n\t\t\twhile (x <= stop) {\n\t\t\t\tconst y = f(x)\n\t\t\t\tif (Math.abs(y) < 1000) {\n\t\t\t\t\tpoints.push({x: roundTo(x, 5), y: roundTo(y, 5)})\n\t\t\t\t}\n\t\t\t\tx += 0.2\n\t\t\t}\n\t\t\tif (func.parent === 'log2' && b < 0) {\n\t\t\t\tpoints.push({x: h*b, y: -a*1000})\n\t\t\t}\n      paths.push(points)\n\t\t}\n\n\t\tconst graphPoints = points => [\n\t\t\t'CoordinatePlane', \n\t\t\t{ span: [-7,-7,7,7], height: '1.1in'},\n\t\t\t['Path', { points }]\n\t\t]\n\n\t\tconst eqnScramble = rd.shuffleRange(0, 5)\n\t\tconst graphScramble = rd.shuffleRange(0, 5)\n\n\t\tconst letters = 'ABCDEF'\n\n\t\tconst makebox = i => [\n\t\t\t'Container', \n\t\t\t{direction: 'row', alignItems: 'center'}, \n\t\t\tletters[i] + ')',\n\t\t\tgraphPoints(paths[graphScramble[i]])\n\t\t]\n\n\t\tconst diagrams = [\n\t\t\t'Table', {border: false},\n\t\t\t['TRow', ...[0,1,2].map(makebox)],\n\t\t\t['TRow', ...[3,4,5].map(makebox)]\n\t\t]\n\n\t\tconst eqnTable = [\n\t\t\t'Table', {border: true, align: 'c|c'},\n\t\t\t['TRow', {header: true, border: true}, 'Equation', 'Graph'],\n\t\t\t...eqnScramble.map(i => (\n\t\t\t\t['TRow', {border: true}, eqns[i], ['EmptySpace', {height: '7mm', width: '7mm'}]]\n\t\t\t))\n\t\t]\n\n\n\t\tconst answer = eqnScramble.map(i => letters[graphScramble.indexOf(i)]).join(', ')\n\n\t\treturn {\n\t\t\tinstructions: 'Fill in the table to match each equation to its graph.',\n\t\t\tdiagram: diagrams,\n\t\t\tanswer: {\n\t\t\t\tprompt: eqnTable,\n\t\t\t\tcorrect: answer,\n\t\t\t},\n\t\t}\n\n\t}\n}\n","import QGen from './QGen'\nimport fraction from 'fraction.js'\nimport math from 'mathjs'\nimport { range, roundTo } from './tools/handystuff'\nimport { includes } from 'lodash'\n\nfunction latexpifraction({n, d, s}) {\n  if (n === 0) {\n    return '0'\n  }\n  if (d < 0) {\n    return latexpifraction({n: -n, d: -d})\n  }\n  let numer\n  if (n === 1) {\n    numer = '\\\\pi'\n  } else {\n    numer = `${n}\\\\pi`\n  }\n  if (s === -1) {\n    numer = '-' + numer\n  }\n  if (d === 1) {\n    return numer\n  } else {\n    return `\\\\frac{${numer}}{${d}}`\n  }\n}\n\nconst pythagoreanTriples = [\n  [3, 4, 5],\n  [5, 12, 13],\n  [8, 15, 17],\n  [7, 24, 25],\n  [20, 21, 29],\n  [12, 35, 37],\n  [9, 40, 41],\n  [28, 45, 53],\n  [33, 56, 65],\n  [48, 55, 73],\n  [36, 77, 85],\n  [65, 72, 97],\n]\n\n\nexport class ConvertAngle extends QGen {\n  static info = {\n    name: 'Convert Angle',\n    description: 'Convert between degrees and radians'\n  }\n\n  static params = {\n    conversion: {\n      label: 'Convert from:',\n      type: 'select',\n      options: ['degrees to radians', 'radians to degrees', 'either'],\n    },\n    negative: {\n      label: 'Negative angle',\n      type: 'select',\n      options: ['yes', 'no', 'random'],\n    }\n  }\n\n  static defaultParams = {\n    conversion: 'either',\n    negative: 'random'\n  }\n\n  static options = {\n    singleColumn: true\n  }\n\n  generate(params) {\n    const rd = this.random\n    const conversion = rd.choice({\n      'degrees to radians': ['d2r'],\n      'radians to degrees': ['r2d'],\n      'either': ['d2r', 'r2d'],\n    }[params.conversion])\n    const neg = rd.choice({\n      yes: [true],\n      no: [false],\n      random: [true, false],\n    }[params.negative])\n    const rotations = rd.choice([0,1,2])\n    \n    const denom = rd.choice([5,10,10,12,12])\n    const numers = range(1, 2*denom-1, true).filter(n => math.gcd(denom, n) === 1)\n    \n    let numer = rd.choice(numers)\n    if (rotations) {\n      numer += denom * 2 * rotations\n    }\n\n    // don't freak students out with 666\n    while (denom === 10 && numer === 37) {\n      numer = rd.choice(numers)\n      if (rotations) {\n        numer += denom * 2 * rotations\n      }\n    }\n    \n    const radians = fraction(neg ? numer : -numer, denom)\n    const degrees = 180 * radians.s * radians.n / radians.d\n\n    let instructions, question, answer\n    if (conversion === 'r2d') {\n      instructions = 'Convert the angle from radians to degrees:'\n      question = ['Math', `\\\\displaystyle ${latexpifraction(radians)}`]\n      answer = ['Math', `${degrees}\\\\degree`]\n    } else {\n      instructions = 'Convert the angle from degrees to radians:'\n      question = ['Math', `${degrees}\\\\degree`]\n      answer = ['Math', `${latexpifraction(radians)}`]\n    }\n\n    return {\n      instructions,\n      question,\n      answer,\n      //layout: [['instructions', 'question'], ['answer', 'diagram']]\n    }\n\n  }\n}\n\n\nexport class IdentifyQuadrant extends QGen {\n  static info = {\n    name: 'Identify Quadrant',\n    description: 'Identify the quadrant of an angle given the sign of two trig functions'\n  }\n\n  static params = {\n    functions: {\n      label: 'Trig functions',\n      type: 'multiple-select',\n      minSelections: 2,\n      maxSelections: 6,\n      options: ['sin', 'cos', 'tan', 'csc', 'sec', 'cot'],\n    },\n    quadrant: {\n      label: 'Quadrant',\n      type: 'multiple-select',\n      minSelections: 1,\n      maxSelections: 4,\n      options: [1, 2, 3, 4],\n    }\n  }\n\n  static defaultParams = {\n    functions: {sin: true, cos: true, tan: true, csc: true, sec: true, cot: true},\n    quadrant: {1: true, 2: true, 3: true, 4: true},\n  }\n\n  static options = {\n    singleColumn: true\n  }\n\n  generate(params) {\n    const rd = this.random\n    \n    const functions = {\n      // funcs  Q1  Q2  Q3  Q4\n      sin: [[], 1,  1, -1, -1],\n      cos: [[], 1, -1, -1,  1],\n      tan: [[], 1, -1,  1, -1],\n    }\n    for (const f in params.functions) {\n      if (params.functions[f]) {\n        if (f === 'sin' || f === 'csc') {\n          functions.sin[0].push(f)\n        } else if (f === 'cos' || f === 'sec') {\n          functions.cos[0].push(f)\n        } else if (f === 'tan' || f === 'cot') {\n          functions.tan[0].push(f)\n        }\n      }\n    }\n\n    const quadrant = rd.choice(Object.keys(params.quadrant).filter(k => params.quadrant[k]))\n    const answer = {1: 'I', 2: 'II', 3: 'III', 4: 'IV'}[quadrant]\n    const ineq = {[-1]: '< 0', 1: '> 0'}\n    const angle = rd.choice(['theta', 'omega', 'alpha', 'beta'])\n\n    const funcChoices = Object.keys(functions).filter(f => functions[f][0].length > 0)\n    const funcKeys = rd.sample(funcChoices, 2)\n    const funcs = funcKeys.map(f => rd.choice(functions[f][0]))\n  \n    const clue = i => `\\\\${funcs[i]}\\\\${angle} ${ineq[functions[funcKeys[i]][quadrant]]}`\n    const question = `If $$${clue(0)}$$ and $$${clue(1)}$$, which quadrant is $$\\\\${angle}$$ in?`\n\n    return {\n      question,\n      answer: {\n        correct: answer,\n        choices: ['I', 'II', 'III', 'IV'],\n        correctIndex: quadrant-1,\n        listDirection: 'horizontal',\n      }\n    }\n  }\n}\n\nexport class SolveRightTriangle extends QGen {\n  static info = {\n    name: 'Solve Right Triangle',\n    description: 'Find all missing side and angle measures for a right triangle'\n  }\n\n  static params = {\n    given: {\n      label: 'Givens',\n      type: 'multiple-select',\n      minSelections: 1,\n      options: [\n        {value: 'HL', label: 'Hypotenuse-Leg'},\n        {value: 'LL', label: 'Leg-Leg'},\n        {value: 'HA', label: 'Hypotenuse-Angle'}, \n        {value: 'LA', label: 'Leg-Angle'},\n      ],\n    },\n  }\n\n  static defaultParams = {\n    given: {HL: true, LL: true, HA: true, 'LA': true}\n  }\n\n  generate(params) {\n    const rd = this.random\n    const given = rd.choice(Object.keys(params.given).filter(k => params.given[k]))\n    \n    // Determine givens\n    let givens\n    if (given === 'HL') {\n      if (rd.bool()) {\n        givens = ['a', 'c']\n      } else {\n        givens = ['b', 'c']\n      }\n    }\n\n    else if (given === 'LL') {\n      givens = ['a', 'b']\n    }\n\n    else if (given === 'HA') {\n      if (rd.bool()) {\n        givens = ['c', 'A']\n      } else {\n        givens = ['c', 'B']\n      }\n    }\n\n    else if (given === 'LA') {\n      if (rd.bool()) {\n        if (rd.bool()) {\n          givens = ['a', 'A']\n        } else {\n          givens = ['b', 'B']\n        }\n      } else {\n        if (rd.bool()) {\n          givens = ['a', 'B']\n        } else {\n          givens = ['b', 'A']\n        }\n      }\n    }\n\n    console.log(given)\n    console.log(givens)\n\n    // Generate triangle\n    const C = 90\n    let a, b, c, A, B\n\n    // Use integer angles\n    A = rd.randint(8, 42)\n    while (includes([30, 45, 60, 69, 21], A)) {\n      A = rd.randint(8, 42)\n    }\n    B = 90 - A\n    if (rd.bool()) {\n      A = B\n      B = 90 - A\n    }\n\n    c = rd.randint(8, 90)\n    a = Math.sin(A * Math.PI / 180) * c\n    b = Math.sin(B * Math.PI / 180) * c\n    \n    console.log({a, b, c, A, B})\n\n\n    // Make sure all givens are integers\n    if (given === 'HA') {\n      c = Math.ceil(c)\n      a = Math.sin(A * Math.PI / 180) * c\n      b = Math.sin(B * Math.PI / 180) * c\n    } else if (given === 'LA') {\n      if (includes(givens, 'a')) {\n        a = Math.ceil(a)\n        c = a / Math.sin(A * Math.PI / 180)\n        b = a / Math.tan(A * Math.PI / 180)\n      } else {\n        b = Math.ceil(a)\n        c = b / Math.sin(B * Math.PI / 180)\n        a = b / Math.tan(B * Math.PI / 180)\n      }\n    } else if (given === 'LL') {\n      a = Math.round(a)\n      b = Math.round(b)\n      c = Math.sqrt(a*a + b*b)\n      A = Math.atan(b/a) * 180 / Math.PI\n      B = 90 - A\n    } else if (given === 'HL') {\n      if (includes(givens, 'a')) {\n        a = Math.floor(a)\n        c = Math.ceil(c)\n        b = Math.sqrt(c*c - a*a)\n      } else if (includes(givens, 'b')) {\n        b = Math.floor(b)\n        c = Math.ceil(c)\n        a = Math.sqrt(c*c - b*b)\n      }\n      A = Math.atan(b/a) * 180 / Math.PI\n      B = 90 - A\n    }\n\n    //const units = rd.choice(['cm', 'km', 'in', 'ft', 'm'])\n    \n    const values = {\n      a: roundTo(a, 2),\n      b: roundTo(b, 2),\n      c: roundTo(c, 2),\n      A: roundTo(A, 1) + '\\\\degree',\n      B: roundTo(B, 1) + '\\\\degree',\n      C: roundTo(C, 1) + '\\\\degree'\n    }\n    \n\n    const labels = {C: 'C'}\n\n    let giveninfo = []\n    let answer = []\n    let answerblanks = []\n    for (const k of ['A', 'B', 'a', 'b', 'c']) {\n      if (includes(givens, k)) {\n        giveninfo.push(`${k} = ${values[k]}`)\n        labels[k] = values[k]\n      } else {\n        answerblanks.push(k)\n        answer.push(`${k} = ${values[k]}`)\n        labels[k] = k\n      }\n    }\n\n    const question = [\n      `Given that ${giveninfo.slice(0,-1).map(g => '$$' + g + '$$').join(', ')} and $$${giveninfo[giveninfo.length-1]}$$,`,\n      'determine the measure of all sides and angles for right triangle $$ABC$$. The diagram is __not__ to scale.'\n    ].join(' ')\n\n    const diagram = [\n      'CoordinatePlane', {span: \"0,0 4,3\", axis: false, grid: false, clip: false, height: '1.3in'},\n      //['Style', {exactName: 'svgplot-grid'}, ['Grid', {span: [0,0,4,3]}]],\n      ['Path', {points: \"3.5,0 3.5,0.5 4,0.5\", style: 'geometry anglemark'}],\n      ['Polygon', {points: \"0,0 4,0 4,3\", style: \"geometry\", markers: '...'}],\n      \n      ['Overlay', {x: 4, y: 1.5, anchor: 'W', displacement: '1mm'}, `$$${labels.a}$$`],\n      ['Overlay', {x: 2.2, y: 0, anchor: 'N', displacement: '1mm'}, `$$${labels.b}$$`],\n      [\n        'Overlay', \n        {x: 2, y: 1.5, anchor: 'SE', displacement: '1mm', rotate: '30' },\n        `$$${labels.c}$$`,\n      ],\n      ['Overlay', {x: 4, y: 3, displacement: {angle: 245, radius: labels.B === 'B' ? '7mm': '8.5mm'}}, `$$${labels.B}$$`],\n      ['Overlay', {x: 0, y: 0, displacement: {angle: 15, radius: labels.A === 'A' ? '8mm' : '10mm'}}, `$$${labels.A}$$`],\n    ]\n\n    function answerPrompt(s) {\n      if (includes(['a', 'b', 'c'], s)) {\n        return `length $$${s} = $$`\n      }\n      if (includes(['A', 'B'], s)) {\n        return `$$m\\\\angle{${s}} = $$`\n      }\n    }\n\n    return {\n      question,\n      diagram,\n      answer: {\n        correct: answer.map(a => '$$' + a + '$$').join(', '),\n        prompt: [\n          'AnswerBlanks', {box: true},\n          ...answerblanks.map(answerPrompt)\n        ]\n      },\n    }\n  }\n}","import QGen from './QGen'\n\n\n\nconst scramble = function(str, digitmap, slotmap) {\n  return slotmap.map(s => digitmap[+str[s]]).join('')\n}\n\nexport class PicoFermiInstructions {\n\n  static register() {\n    return {\n      name: 'Pico-fermi instructions',\n      description: 'How to play pico-fermi'\n    }\n  }\n\n  output() {\n    return ['Text', null, [\n      'In the game _Pico Fermi_, players try to guess a secret 4-digit number.',\n      'Each of the digits can be from 0 to 9 (leading zeros are allowed,',\n      \"such as 0083). After each guess, players are given a hint. A _fermi_ (f)\",\n      'is given for each number in the guess that is in the correct position,',\n      \"and a _pico_ (p) is given for each number in the guess that is correct but\",\n      'in the wrong position. For example, if the secret number was 7751 and',\n      \"the guess was 1734, the player would be told _pico fermi_, because the\",\n      \"1 was correct but in the wrong position (_pico_), and the 7 was both\",\n      \"correct and in the correct position (_fermi_). Based on the number of\",\n      \"_picos_ and _fermis_ received after each guess, a skilled player will soon\",\n      \"narrow down the possibilities to the correct one.\",\n    ].join(' ')]\n  }\n}\n\nexport class PicoFermi extends QGen {\n  static info = {\n    name: 'Pico-fermi',\n    description: 'A logic puzzle'\n  }\n\n  static options = {\n    singleColumn: true,\n  }\n\n  generate(params) {\n    const rd = this.random\n    const template = Templates[rd.choice(Object.keys(Templates))]\n    const slotmap = rd.shuffleRange(0,3)\n    const digitmap = rd.shuffleRange(0,9)\n    const answer = scramble(template.answer, digitmap, slotmap)\n    const clues = rd.shuffle(Object.keys(template.clues)).map(c => [\n      scramble(c, digitmap, slotmap), template.clues[c]\n    ])\n\n    const puzzle = [\n      'Table', {align: 'r|l'},\n      //['TRow', {header: true, align: 'rl'}, 'Guess', 'Clue'],\n      ...clues.map((c, i) => (\n        ['TRow', {border: false}, c[0], c[1]]\n      ))\n    ]\n\n    const blank = ['EmptySpace', {width: '7mm', height: '7mm', border: 'bottom'}]\n    const gap = ['EmptySpace', {width: '2mm'}]\n\n    const instructions = [\n      'The following '\n    ].join(' ')\n\n    return {\n      instructions: 'The following game of _Pico Fermi_ has only one possible solution. What is it?',\n      question: puzzle,\n      answer: {\n        correct: answer,\n        prompt: [\n          'Container', {direction: 'row'}, \n          blank, gap, blank, gap, blank, gap, blank\n        ],\n      },\n      layout: ['instructions', 'question', 'diagram', 'answer'],\n    }\n    \n  }\n}\n\nexport class PicoFermiSet extends QGen {\n  static info = {\n    name: 'Pico-fermi set',\n    description: 'A set of puzzles of similar difficulty'\n  }\n\n  generate(params) {\n    const rd = this.random\n    const template = Templates[rd.choice(Object.keys(Templates))]\n    \n    const versions = []\n    const answers = []\n    for (const i of [1,2,3,4,5,6,7,8,9,10]) {\n      const slotmap = rd.shuffleRange(0,3)\n      const digitmap = rd.shuffleRange(0,9)\n      const clues = rd.shuffle(Object.keys(template.clues)).map(c => [\n        scramble(c, digitmap, slotmap),\n        template.clues[c]\n      ])\n      versions.push(clues)\n      answers.push(scramble(template.answer, digitmap, slotmap))\n    }\n    \n    const answer = answers.join(', ')\n\n    const makeTable = clues => [\n      'Table', {border: false, align: 'r|l'},\n      ['TRow', {header: true, border: 'bottom'}, 'Guess', 'Clue'],\n      ...clues.map((c, i) => (\n        ['TRow', {align: 'r|l', border: false}, c[0], c[1]]\n      ))\n    ]\n    \n    const question = ['Container', {direction: 'row'}]\n    for (const v of versions) {\n      question.push(['EmptySpace', {width: '5mm'}])\n      question.push(makeTable(v))\n    }\n\n    return ({\n      instructions: [\n        'These puzzles are equivalent, but the order of their clues have',\n        'been scrambled and their digits have been remapped in order',\n        'to make them appear different.'\n      ].join(' '),\n      question, \n      answer: {\n        correct: answer,\n        prompt: null,\n      },\n      layout: ['instructions', 'diagram', 'question', 'answer'],\n    })\n  }\n}\n\n\n\nconst Templates = {\n  Easy01: {\n    \"answer\": \"1295\", \n    \"clues\": {\n      \"2637\": \"p\", \n      \"0018\": \"p\", \n      \"0123\": \"pp\", \n      \"1034\": \"f\", \n      \"3352\": \"pp\"\n    }\n  },\n\n  Easy02: {\n    \"answer\": \"6779\", \n    \"clues\": {\n      \"5704\": \"f\", \n      \"5607\": \"pp\", \n      \"5109\": \"f\", \n      \"6972\": \"pff\"\n    }\n  },\n  \n\n  Easy03: {\n    \"answer\": \"3276\", \n    \"clues\": {\n      \"1670\": \"pf\", \n      \"4567\": \"pp\", \n      \"0123\": \"pp\", \n      \"1245\": \"f\", \n      \"1376\": \"pff\"\n    }\n  },\n\n  Easy04: {\n    \"answer\": \"5132\", \n    \"clues\": {\n      \"4312\": \"ppf\", \n      \"6543\": \"pp\", \n      \"4129\": \"pf\", \n      \"4230\": \"pf\"\n    }\n  },\n\n  Easy05: {\n    \"answer\": \"3606\", \n    \"clues\": {\n      \"0660\": \"ppf\", \n      \"0386\": \"ppf\", \n      \"2030\": \"pp\"\n    }\n  },\n\n  Easy06: {\n    \"answer\": \"3423\", \n    \"clues\": {\n      \"3773\": \"ff\", \n      \"2790\": \"p\", \n      \"7243\": \"ppf\", \n      \"8467\": \"f\"\n    }\n  },\n\n  Easy07: {\n    \"answer\": \"5938\", \n    \"clues\": {\n      \"5809\": \"ppf\", \n      \"3899\": \"ppp\", \n      \"7243\": \"p\", \n      \"5593\": \"ppf\"\n    }\n  },\n\n  Hard01: {\n    \"answer\": \"7225\", \n    \"clues\": {\n      \"9120\": \"f\", \n      \"7573\": \"pf\", \n      \"2450\": \"pp\", \n      \"5320\": \"pf\", \n      \"8685\": \"f\"\n    }\n  },\n\n  Hard02: {\n    \"answer\": \"2664\", \n    \"clues\": {\n      \"4567\": \"pf\", \n      \"3210\": \"p\", \n      \"5409\": \"p\", \n      \"4608\": \"pf\", \n      \"1064\": \"ff\"\n    }\n  },\n\n  Hard03: {\n    \"answer\": \"6974\", \n    \"clues\": {\n      \"4989\": \"pf\", \n      \"2954\": \"ff\", \n      \"9724\": \"ppf\", \n      \"6139\": \"pf\", \n      \"7243\": \"pp\"\n    }\n  },\n\n  NoFour: {\n    \"answer\": \"2653\", \n    \"clues\": {\n      \"4563\": \"ppf\", \n      \"4615\": \"pf\", \n      \"4652\": \"pff\"\n    }\n  },\n\n  NoEight: {\n    \"answer\": \"2497\", \n    \"clues\": {\n      \"4786\": \"pp\", \n      \"8547\": \"pf\", \n      \"0843\": \"p\", \n      \"9289\": \"pp\", \n      \"8965\": \"p\"\n    }\n  },\n\n  AllPicos: {\n    \"answer\": \"0722\", \n    \"clues\": {\n      \"2486\": \"p\", \n      \"7867\": \"p\", \n      \"4573\": \"p\", \n      \"5608\": \"p\", \n      \"9310\": \"p\"\n    }\n  },\n\n  VeryHard: {\n    \"answer\": \"7583\", \n    \"clues\": {\n      \"9372\": \"pp\", \n      \"1047\": \"p\", \n      \"0235\": \"pp\", \n      \"3627\": \"pp\", \n      \"4753\": \"ppf\"\n    }\n  }\n}","import * as questiontypes from '../../questions'\n\nlet questionBank = {}\nfor (const set of ['examplequestions', 'transformations', 'trigonometry', 'geometry']) {\n  for (const q in questiontypes[set]) {\n    const n = questiontypes[set][q].register().name\n    questionBank[n] = questiontypes[set][q]\n  }\n}\n\n\nfor (const set of ['generatortests', 'picofermi']) {\n  for (const q in questiontypes[set]) {\n    const n = '_' + questiontypes[set][q].register().name\n    questionBank[n] = questiontypes[set][q]\n  }\n}\n\n\nexport default questionBank","import React from 'react'\nimport { connect } from 'react-redux'\nimport { addToDocument } from '../../actions/document'\nimport questionBank from './questionbank'\n\nconst sortfunc = (a, b) => {\n  const A = a.toUpperCase(), B = b.toUpperCase()\n  if (A > B) return 1\n  if (A < B) return -1\n  return 0\n}\n\n\nclass QuestionTypeMenu extends React.Component {\n  static defaultProps = {\n    questionTypes: questionBank,\n  }\n\n  constructor(props) {\n    super(props)\n    this.questionTypeSelect = React.createRef()\n  }\n\n  addToDoc = (elem) => {\n    this.props.addToDocument(elem)\n  }\n\n  generateAndAdd = () => {\n    const questionType = this.questionTypeSelect.current.value\n    if (questionType !== '__NONE__') {\n      console.log(`Generating ${questionType}`)\n      try {\n        const qtype = this.props.questionTypes[questionType]\n        const question = new qtype()\n        this.addToDoc(question.output())\n      } catch(e) {\n        console.log('failed')\n        console.log(e)\n      }\n    }\n  }\n\n  renderQuestionList() {\n    return Object.keys(this.props.questionTypes).sort(sortfunc).map(k => {\n      const register = this.props.questionTypes[k].register()\n      return (\n        <option key={`qtype${k}`} \n          title={register.description}\n          value={k} >\n          {k}\n        </option>\n      )\n    })\n  }\n\n  render() {\n    return (\n      <>\n      <select ref={this.questionTypeSelect} defaultValue=\"__NONE__\">\n        <option value='__NONE__' disabled>Question Type</option>\n        <option value='__NONE__' disabled>-------</option>\n        {this.renderQuestionList()}\n      </select>\n      <button onClick={this.generateAndAdd}>Add</button>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: q => dispatch(addToDocument(q)),\n})\n\nexport default connect(null, mapDispatchToProps)(QuestionTypeMenu)","import React from 'react'\nimport { connect } from 'react-redux'\nimport questionbank from './questionbank'\nimport { includes } from 'lodash'\nimport styles from './styles.module.css'\nimport { addToDocument } from '../../actions/document'\n\nfunction hasKwd(item, kwd) {\n  for (const v of [...item.name.split(' '), ...(item.tags || [])].map(t => t.toLowerCase())) {\n    if (includes(v, kwd.replace(',', ''))) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction checkForKwds(item, kwds) {\n  for (const k of kwds.map(k => k.toLowerCase())) {\n    if (!hasKwd(item, k)) {\n      return false\n    }\n  }\n  // item contains all keywords\n  return true\n}\n\nfunction sortByName(a, b) {\n  if (a.name < b.name) return -1\n  if (a.name > b.name) return 1\n  return 0\n}\n\nfunction sortByID(a, b) {\n  if (a.id < b.id) return -1\n  if (a.id > b.id) return 1\n  return 0\n}\n\n\nclass QuestionSearch extends React.Component {\n  static defaultProps = {\n    questionTypes: questionbank\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      input: '',\n      kwds: [],\n      selection: null\n    }\n  }\n\n  updateSearch = evt => {\n    const input = evt.target.value\n    const kwds = input.split(' ').map(k => k.toLowerCase())\n    this.setState({ input, kwds, selection: null })\n  }\n\n  setSelection(id) {\n    console.log(id)\n    this.setState({selection: id})\n  }\n\n  generateAndAdd = () => {\n    const questionType = this.state.selection\n    if (questionType) {\n      console.log(`Generating ${questionType}`)\n      try {\n        const qtype = this.props.questionTypes[questionType]\n        const question = new qtype()\n        this.props.addToDocument(question.output())\n      } catch(e) {\n        console.log('failed')\n        console.log(e)\n      }\n    }\n  }\n\n  renderResults() {\n    const qtypes = Object.keys(this.props.questionTypes).map(k => ({\n      id: k, ...this.props.questionTypes[k].register()\n    })).sort(sortByID)\n    const results = qtypes.filter(q => checkForKwds(q, this.state.kwds))\n    if (results.length) {\n      return (\n        <div className={styles.ResultContainer + ' ui-input'}>\n          {results.map(r => (\n            <div key={r.id} \n              className={styles.SearchResult + (r.id === this.state.selection ? ' ' + styles.Selected : '')}\n              onClick={() => this.setSelection(r.id)}\n              onDoubleClick={this.generateAndAdd}\n              title={r.description}\n            >\n              {r.id}\n            </div>\n          ))}\n        </div>\n      )\n    } else {\n      return (\n        <div className={styles.ResultContainer + ' ui-input'}>\n          <span className={styles.SearchResultNone + ' ' + styles.SearchResult}>No results</span>\n        </div>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <input type=\"search\"\n          onChange={this.updateSearch}\n          value={this.state.input}\n          placeholder=\"filter\"\n        ></input>\n        {this.renderResults()}\n        <button onClick={this.generateAndAdd}>Add</button>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: q => dispatch(addToDocument(q))\n})\n\n\nexport default connect(null, mapDispatchToProps)(QuestionSearch)","import React from 'react';\nimport { connect } from 'react-redux';\nimport ReactModal from 'react-modal';\nimport { Preview, SideBar, StatusBar, TopBar, Wrapper } from './AppLayout'\nimport Document from './Document/Document'\nimport CustomQuestion from './CustomQuestion'\nimport Notes from './Notes'\nimport { CheckStateButton } from './Debug'\nimport SettingsPage, {\n  AllowEditingToggle,\n  AnswerKeyToggle,\n  FixPagination,\n  FontFamily,\n  FontSize,\n  GUImode,\n  PreviewZoom,\n  StartNumbering\n} from './Settings'\nimport {\n  addToDocument,\n  removeLast,\n  clearAll,\n} from '../actions/document'\nimport { QuestionSearch } from './GeneratorMenu'\n\nimport '../stylesheets/styles.global.css'\n\n\nReactModal.setAppElement('#root')\nObject.assign(ReactModal.defaultStyles.content, {\n  borderRadius: '4px',\n  borderColor: 'var(--ui-border-1, #999)',\n  background: 'var(--ui-bg-1, #eee)',\n  padding: '5mm',\n  top: '10px',\n  left: '10px',\n  right: '10px',\n  bottom: '10px',\n})\nObject.assign(ReactModal.defaultStyles.overlay, {\n  background: 'rgba(10,10,10,0.3)',\n})\n\n\nclass AppWrapper extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      modal: 'none',\n    }\n  }\n\n  addToDoc = (elem) => {\n    this.props.addToDocument(elem)\n  }\n\n  closeModal = () => this.setState({modal: 'none'})\n  openRpcTest = () => this.setState({modal: 'RpcTest'})\n  openCustomQuestion = () => this.setState({modal: 'CustomQuestion'})\n  openSettings = () => this.setState({modal: 'Settings'})\n\n  render() {\n    const toplabel = {margin: '0 0 0 0.5em'}\n    return (\n      <Wrapper >\n        {/* customTitleBar ? <TitleBar /> : null */}\n        <TopBar>\n          <button onClick={window.print}>Print / PDF</button>\n          <button onClick={this.openSettings}>Settings</button>\n          <span style={toplabel}>Answer Key:</span><AnswerKeyToggle />\n          <span style={toplabel}>Start Numbering:</span><StartNumbering />\n          <span style={toplabel}>Font:</span><FontFamily/><FontSize />\n          <span style={toplabel}>Zoom:</span><PreviewZoom defaultValue=\"110\"/>\n          <span style={toplabel}>Allow Editing:</span><AllowEditingToggle />\n          <div style={{width: '3mm'}} />\n          <FixPagination/>\n        </TopBar>\n        <Preview>\n          <Document/>\n        </Preview>\n        <SideBar>\n          <QuestionSearch/>\n          <button onClick={this.openCustomQuestion}>Custom Question</button>\n          <button onClick={this.props.removeLast}>Remove Last</button>\n          <button onClick={this.props.clearAll}>Clear All</button>\n          <div style={{height: '1in'}}></div>\n          <GUImode/>\n          <button onClick={() => this.setState({modal: 'Notes'})}>Notes</button>\n          <CheckStateButton>Log State</CheckStateButton>\n        </SideBar>\n        { this.props.statusBar ? <StatusBar><span>{this.props.statusBar}</span></StatusBar> : null }\n\n        <ReactModal\n          isOpen={this.state.modal === 'Settings'}\n          onRequestClose={this.closeModal}\n          style={{\n            content: {\n              top: '0',\n              bottom: 0,\n              left: 0,\n              right: 0,\n              padding: 0,\n            },\n            overlay: {\n              background: 'none',\n              backgroundColor: 'none',\n            }\n          }}\n        >\n          <SettingsPage onRequestClose={this.closeModal}/>\n        </ReactModal>\n\n        <ReactModal\n          isOpen={this.state.modal === 'CustomQuestion'}\n          onRequestClose={this.closeModal}\n        >\n          <button onClick={this.closeModal}>Close</button>\n          <CustomQuestion onRequestClose={this.closeModal}/>\n        </ReactModal>\n\n        <ReactModal\n          isOpen={this.state.modal === 'Notes'}\n          onRequestClose={this.closeModal}\n          style={{\n            content: {\n              width: '4in',\n              top: '1in',\n              left: '1in',\n              right: 'unset',\n              bottom: 'unset',\n              color: 'black',\n              backgroundColor: 'var(--ui-page, white)',\n            }\n          }}\n        >\n          <Notes onRequestClose={this.closeModal} />\n        </ReactModal>\n\n      </Wrapper>\n    )\n\n  }\n}\n\nconst mapStateToProps = state => ({\n  statusBar: \"\",\n  fontFamilyUI: state.config.fontFamilyUI,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: q => dispatch(addToDocument(q)),\n  removeLast: () => dispatch(removeLast()),\n  clearAll: () => dispatch(clearAll()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AppWrapper)","import React from 'react';\nimport { Provider } from 'react-redux';\nimport App from './App'\n\n\nexport default class Root extends React.Component {\n  render() {\n    const { store } = this.props;\n    return (\n      <Provider store={store}>\n        <App />\n      </Provider>\n    )\n  }\n}\n","import {\n  ADD_TO_DOCUMENT,\n  CLEAR_ALL,\n  REMOVE_LAST,\n  UPDATE_ELEMENT,\n  UPDATE_HEADER,\n  SET_DOCUMENT_STARTNUMBERING,\n  ADD_PAGEBREAK_BEFORE,\n  DELETE_HEADER,\n  DELETE_ELEMENT,\n  CLEAR_PAGEBREAKS,\n} from '../actions/document'\n\n\n\nconst initialState = {\n  content: {},\n  order: [],\n  headers: {\n    '0': ['PageHeader', {rows: []}],\n    '1': [\n      'PageHeader', {\n        rows: [\n          ['Assignment', 'Name ___'],\n          [null, 'Date __ Class _'],\n        ]\n      }\n    ],\n  },\n  footers: {},\n  pagebreaks: [],\n  startNumbering: 1,\n}\n\nconst document = function(state=initialState, action) {\n  switch (action.type) {\n    // content\n    case ADD_TO_DOCUMENT:\n      return {\n        ...state, \n        content: {\n          ...state.content, \n          [+action.payload.id]: action.payload.element\n        },\n        order: [...state.order, +action.payload.id]\n      }\n    case CLEAR_ALL:\n      return {\n        ...state, \n        content: {},\n        order: [], \n        pagebreaks: [],\n      }\n    case REMOVE_LAST:\n      return {\n        ...state, \n        order: state.order.slice(0,-1), \n        pagebreaks: state.pagebreaks.filter(n => n < state.order.length),\n      }\n    case DELETE_HEADER:\n      const headers = {...state.headers}\n      if (+action.payload === 0 || +action.payload === 1) {\n        headers[+action.payload] = ['PageHeader', {rows: []}]\n        return {...state, headers}\n      } else {\n        delete headers[+action.payload]\n        return {...state, headers}\n      }\n    case DELETE_ELEMENT:\n      //Note that this does not remove the element from 'content', only from 'order'\n      return {\n        ...state, \n        order: state.order.filter(id => id !== +action.payload),\n        pagebreaks: state.pagebreaks.filter(n => n < state.order.length),\n      }\n    case UPDATE_HEADER:\n      return {\n        ...state, \n        headers: {...state.headers, [+action.payload.id]: action.payload.data}\n      }\n    case UPDATE_ELEMENT:\n      return {\n        ...state, \n        content: {...state.content, [+action.payload.id]: action.payload.data}\n      }\n\n\n    // settings\n    case SET_DOCUMENT_STARTNUMBERING:\n      return {...state, startNumbering: action.payload}\n\n\n\n    // view\n    case ADD_PAGEBREAK_BEFORE:\n      for (const i in state.order) {\n        if (state.order[i] === action.payload) {\n          return {...state, pagebreaks: [...state.pagebreaks, i]}\n        }\n      }\n      return state\n    case CLEAR_PAGEBREAKS:\n      return {...state, pagebreaks: []}\n      \n    \n    default:\n      return state\n  }\n}\n\nexport default document\n\n","import {\n  ADD_FONTFAMILY,\n  SET_ALLOW_EDITING,\n  SET_FONTFAMILY_UI,\n  SET_SHOW_ANSWERKEY,\n  SET_HIDDEN_COUNT,\n  SET_UI_THEME,\n  SET_DEBUG_VIEW,\n} from '../actions/config'\n\nconst initialState = {\n  //titleBarStyle: 'default',\n  localFonts: [],\n  fontFamilyUI: 'select',\n  showAnswerKey: true,\n  allowEditing: true,\n  numberHidden: 0,\n  uiTheme: 'light',\n  debugView: false,\n}\n\nconst config = function(state=initialState, action) {\n  switch(action.type) {\n    case ADD_FONTFAMILY:\n      return {\n        ...state, \n        localFonts: [...state.localFonts.filter(f => f !== action.payload), action.payload],\n      }\n    case SET_ALLOW_EDITING:\n      return {...state, allowEditing: action.payload}\n    case SET_FONTFAMILY_UI:\n      return {...state, fontFamilyUI: action.payload}\n    case SET_SHOW_ANSWERKEY:\n      return {...state, showAnswerKey: action.payload}\n    case SET_HIDDEN_COUNT:\n      return {...state, numberHidden: action.payload}\n    case SET_UI_THEME:\n      return {...state, uiTheme: action.payload}\n    case SET_DEBUG_VIEW:\n      return {...state, debugView: action.payload}\n    default:\n      return state\n  }\n}\n\nexport default config","import {\n  SET_DOCUMENT_FONTFAMILY,\n  SET_DOCUMENT_FONTSIZE,\n  SET_MATH_FONTSIZE,\n  SET_MATH_FONTWEIGHT,\n  SET_MATH_FONTFAMILY,\n  SET_PAGE_MARGIN,\n  SET_PAGE_SIZE,\n  UPDATE_GRAPHSTYLE,\n  RESET_GRAPHSTYLE,\n} from '../actions/style'\n\nimport { kebabCase } from 'lodash'\n\nconst initialState = {\n  columns: true,\n  fontFamily: 'cmu_sansserif',\n  fontSize: '9pt',\n  mathFontFamily: '__DEFAULT__',\n  mathFontSize: '1.1em',\n  mathFontWeight: 'normal',\n  pageSize: 'letter',\n  pageOrientation: 'portrait',\n  pageMargin: '.4in .5in .45in .5in',\n  graph: {\n    asymptoteColor: '#888888',\n    asymptoteWidth: '0.6mm',\n    axisColor: '#111111',\n    axisWidth: '0.3mm',\n    fillOpacity: '0.2',\n    function1Color: '#ff3600',\n    function2Color: '#0080d9',\n    //function3Color: '#70cc3e',\n    functionWidth: '0.4mm',\n    geomColor: '#000000',\n    geomWidth: '0.3mm',\n    gridColor: '#888888',\n    gridWidth: '0.1mm',\n    labelFontSize: '1em',\n  },\n}\n\nconst style = function(state=initialState, action) {\n  switch(action.type) {\n    // Fonts\n    case SET_DOCUMENT_FONTFAMILY:\n      document.body.style.setProperty('--doc-font-family', action.payload)\n      return {...state, fontFamily: action.payload}\n    case SET_DOCUMENT_FONTSIZE:\n      document.body.style.setProperty('--doc-font-size', action.payload)\n      return {...state, fontSize: action.payload}\n    case SET_MATH_FONTSIZE:\n      document.body.style.setProperty('--doc-math-font-size', action.payload)\n      return {...state, mathFontSize: action.payload}\n    case SET_MATH_FONTWEIGHT:\n      document.body.style.setProperty('--doc-math-font-weight', action.payload)\n      return {...state, mathFontWeight: action.payload}\n    case SET_MATH_FONTFAMILY:\n      if (action.payload === '__MATCH__') {\n        document.body.style.setProperty('--doc-math-font-family', 'var(--doc-font-family)')\n        //document.body.style.setProperty('--doc-math-font-spacing', '.03em')\n      } else if (action.payload === '__DEFAULT__') {\n        document.body.style.removeProperty('--doc-math-font-family')\n        document.body.style.removeProperty('--doc-math-font-spacing')\n      } else {\n        document.body.style.setProperty('--doc-math-font-family', action.payload)\n        //document.body.style.setProperty('--doc-math-font-spacing', '.03em')\n      }\n      return {...state, mathFontFamily: action.payload}\n\n    // Page Layout\n    case SET_PAGE_SIZE:\n      return {...state, pageSize: action.payload}\n    case SET_PAGE_MARGIN:\n      return {...state, pageMargin: action.payload}\n\n    // Graph Style\n    case UPDATE_GRAPHSTYLE:\n      for (const k in action.payload) {\n        document.body.style.setProperty(`--vg-${kebabCase(k)}`, action.payload[k])\n      }\n      return {...state, graph: {...state.graph, ...action.payload}}\n    case RESET_GRAPHSTYLE:\n      for (const k in initialState.graph) {\n        document.body.style.setProperty(`--vg-${kebabCase(k)}`, initialState.graph[k])\n      }\n      return {...state, graph: {...initialState.graph}}\n\n    default:\n      return state\n  }\n}\n\nexport default style","import { combineReducers } from 'redux'\nimport document from './document'\nimport config from './config'\nimport style from './style'\n\nconst rootReducer = combineReducers({\n  config, document, style\n})\n\nexport default rootReducer","import React from 'react';\nimport Root from './containers/Root';\nimport { createStore } from 'redux';\nimport rootReducer from './reducers';\nimport initialize from './initialize'\n\n\nconst store = initialize(createStore(rootReducer));\n\nconst App = () => <Root store={store} />\n\nexport default App;","import WebFont from 'webfontloader'\nimport { addFontFamily, setUITheme } from './actions/config'\nimport { kebabCase } from 'lodash'\nimport initializeDev from './initialize-dev'\n\nfunction loadFonts(store) {\n  WebFont.load({\n    custom: {\n      families: [\n        'cmu_bright',\n        'cmu_concrete',\n        'cmu_sansserif',\n        'cmu_serif',\n        'katex_main', \n        'katex_sansserif', \n      ].map(f => `${f}:n4,i4,n7,i7`),\n      urls: ['../stylesheets/styles.global.css'],\n    },\n    /*\n    google: {\n      families: [\n        'IBM Plex Serif:n4,i4,n7,i7', \n        'IBM Plex Sans:n4,i4,n7,i7', \n      ],\n    },\n    */\n    fontactive: (family) => store.dispatch(addFontFamily(family)),\n    fontinactive: (family) => console.error(`Could not load font ${family}`),\n  })\n}\n\nfunction setCss(store) {\n  const state = store.getState()\n  document.body.style.setProperty('--doc-font-family', state.style.fontFamily)\n  document.body.style.setProperty('--doc-font-size', state.style.fontSize)\n  document.body.style.setProperty('--doc-math-font-size', state.style.mathFontSize)\n  document.body.style.setProperty('--doc-math-font-weight', state.style.mathFontWeight)\n  const mathFontFamily = state.style.mathFontFamily\n  if (mathFontFamily !== '__DEFAULT__') {\n    document.body.style.setProperty('--doc-math-font-family', mathFontFamily)\n  }\n  for (const k in state.style.graph) {\n    document.body.style.setProperty(`--vg-${kebabCase(k)}`, state.style.graph[k])\n  }\n  store.dispatch(setUITheme(state.config.uiTheme))\n}\n\nexport default function intialize(store) {\n  loadFonts(store)\n  setCss(store)\n  //initializeDev(store)\n  return store\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ResultContainer\":\"styles_ResultContainer__1O4qk\",\"SearchResult\":\"styles_SearchResult__15uqq\",\"Selected\":\"styles_Selected__1Yl6M\",\"SearchResultNone\":\"styles_SearchResultNone__2yip4\"};"],"sourceRoot":""}