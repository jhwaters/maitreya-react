{"version":3,"sources":["containers/Settings/Graph/styles.module.css","components/styles.module.css","containers/CustomQuestion/styles.module.css","containers/Settings/styles.module.css","components/Preview.js","components/SideBar.js","components/StatusBar.js","components/TopBar.js","components/Wrapper.js","actions/document.js","renderMethods/primaryTypes/Text.js","renderMethods/primaryTypes/VG/MarkerDefs.js","renderMethods/primaryTypes/VG/CartesianPlane.js","renderMethods/primaryTypes/VG/Paths.js","renderMethods/primaryTypes/VG/Geometry.js","renderMethods/primaryTypes/VG/other.js","renderMethods/primaryTypes/VG/Marks.js","renderMethods/primaryTypes/VG/Functions.js","renderMethods/primaryTypes/VG/Transforms.js","renderMethods/secondaryTypes/Answer.js","renderMethods/secondaryTypes/Header.js","renderMethods/secondaryTypes/JsonML.js","renderMethods/secondaryTypes/Question.js","renderMethods/renderTypes.js","renderMethods/secondaryTypes/Container.js","renderMethods/primaryTypes/Empty.js","renderMethods/primaryTypes/Html.js","renderMethods/secondaryTypes/List.js","renderMethods/secondaryTypes/Table.js","renderMethods/primaryTypes/VectorGraphic.js","renderMethods/primaryTypes/Vega.js","renderMethods/RenderElement.js","renderMethods/editing/DefaultEditor.js","renderMethods/editing/Header.js","renderMethods/editing/Question.js","renderMethods/editing/index.js","containers/Document/TopLevelElement.js","containers/Document/pagesize.js","containers/Document/MeasuredPage.js","containers/Document/Page.js","containers/Document/AnswerKey.js","containers/Document/Document.js","containers/Settings/Font/AddLocalFont.js","actions/config.js","containers/Settings/Font/FontFamilyUI.js","actions/style.js","containers/Settings/Font/FontFamilyInput.js","containers/Settings/Font/FontFamilySelect.js","containers/Settings/Font/FontFamily.js","containers/Settings/Font/FontSize.js","containers/Settings/Font/MathFontSettings.js","containers/Settings/Font/TextPreview.js","containers/Settings/Font/index.js","containers/Settings/Font/FontSettings.js","containers/CustomQuestion/LatexExamples.js","containers/CustomQuestion/GraphMaker.js","containers/CustomQuestion/CustomQuestion.js","containers/CustomQuestion/index.js","containers/Notes.js","containers/Debug/CheckState.js","containers/Settings/Graph/GraphStyle.js","containers/Settings/Graph/GraphPreview.js","containers/Settings/Graph/GraphSettings.js","containers/Settings/Graph/index.js","containers/Settings/SettingsPage.js","containers/Settings/AllowEditing.js","containers/Settings/AnswerKeyToggle.js","containers/Settings/FixPagination.js","containers/Settings/PageMargin.js","containers/Settings/PreviewZoom.js","containers/Settings/StartNumbering.js","containers/Settings/index.js","questions/tools/handystuff.js","questions/tools/random_randomjs.js","questions/QGen.js","questions/examplequestions.js","questions/tools/QuadTree.js","questions/tools/svgplot.js","questions/demogenerators.js","containers/App.js","containers/Root.js","reducers/document.js","reducers/config.js","reducers/style.js","reducers/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Layout","SettingTable","StyleSetting","Preview","Wrapper","Wrapper-TitleBar-StatusBar","Wrapper-TopBar","Wrapper-TopBar-StatusBar","SideBar","StatusBar","TitleBar","TopBar","PreviewOuter","PreviewInner","GraphMakerBody","GraphMakerInput","GraphMakerPreview","LatexExamples","SettingPage","Title","SettingSection","LeftBar","NavArea","NavButton","active","Previewer","react_default","a","createElement","className","styles","this","props","children","React","Component","classNames","join","elemID","addToDocument","elem","type","payload","element","id","defaultOptions","markdown","render","superscript","subscript","smartarrows","math","delimiters","display","left","right","inline","MathAndMarkdown","_ref","data","options","katexOptions","errorCallback","console","error","text","i","length","delimiter","splitAtDelimiters","splitWithDelimiters","map","c","Text_InlineMarkdown","key","markdownOptions","Text_PlainText","Text_KatexMath","Object","objectSpread","displayMode","PlainText","_ref2","toString","KatexMath","_ref3","html","katex","renderToString","dangerouslySetInnerHTML","__html","e","ParseError","raw","InlineMarkdown","_ref4","md","MarkdownIt","use","mdsub","mdsup","mdsmartarrows","renderInline","ArrowMarker","style","concat","viewBox","refX","refY","markerWidth","markerHeight","markerUnits","orient","d","PointMarker","cx","cy","r","BigPointMarker","HoleMarker","MarkerDefs","Fragment","s","MarkerDefs_ArrowMarker","MarkerDefs_PointMarker","MarkerDefs_BigPointMarker","MarkerDefs_HoleMarker","makesrange","min","max","step","arguments","undefined","anchor","v","splice","push","AutoClip","span","padX","padY","clipID","_span","slicedToArray","x0","y0","w","h","x","y","width","height","AxisH","_props$origin","origin","orig","vectorEffect","AxisV","_props$origin2","Grid","_props$step","_props$origin3","axis","toConsumableArray","xvals","apply","yvals","hAxis","vAxis","CartesianPlane_AxisV","CartesianPlane_AxisH","clipCounter","CartesianPlane","_props$autogrid","autogrid","padding","_props$style","otherprops","objectWithoutProperties","x1","y1","xpad","ypad","clipPadX","clipPadY","transform","assign","CartesianPlane_AutoClip","CartesianPlane_Grid","clipPath","pathFromPoints","points","Array","isArray","p","Path","_props$markers","markers","_props$role","role","_props$effects","effects","_props$fill","fill","_props$connect","connect","start","mid","end","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","value","err","return","interpolate","pt","pts","prev","x2","interpolatePathCubicH","ScatterPlot","scatterPathFromPoints","GeomSegment","_props$role2","Paths_Path","GeomRay","_props$role3","GeomLine","_props$role4","Asymptote","_props$role5","ShadedRegion","_props$role6","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","Polygon","vertices","_props$marker","marker","_props$fill2","_props$role7","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","Circle","Layer","Text","Rotate","deg","degrees","radians","Math","PI","Mark","coords","_props$roles","roles","Point","_props$roles2","Hole","_props$roles3","calcPath","f","domain","path","PolynomialFunction","coefficients","ans","pow","RationalFunction","_domainPts","_props$roots","roots","_props$holes","holes","_props$asymptotes","asymptotes","_props$numerLC","numerLC","_props$denomLC","denomLC","_props$step2","_props$range","range","_props$renderAsymptot","renderAsymptotes","_props$renderRoots","renderRoots","_props$renderHoles","renderHoles","num","den","domainPts","defineProperty","filter","domains","dp","keys","sort","b","v1","v2","val","def","paths","_i","dom","ha","vas","Paths_Asymptote","Marks_Point","Marks_Hole","matrix","params","_params","_params$","_params$2","_params$3","_params$4","_params$5","_params$6","_params$x2","_params$y2","scale","_params$x","_params$y","translate","Transforms","list","transformlist","t","str","AnswerBlank","margin","minWidth","minHeight","RenderElement","content","label","renderHeaderElement","parts","result","current","isBlank","blankSize","nextChar","size","parseHeader","JsonML","parsed","tagname","constructor","k","slice","parseJsonML","child","inherited","JsonML_JsonML","JSON","stringify","renderJsonMLChild","QuestionLayout","_ref$options","_ref$layout","layout","_ref$direction","direction","_ref$firstAreaFlag","firstAreaFlag","found","newDirection","row","column","area","renderElement","isMultipleChoice","answer","choices","Question","_ref2$options","opts","defaultsDeep","_options","instructions","question","diagram","multipleChoice","freeResponse","prompt","Question_QuestionLayout","renderTypes","answerkey","_ref4$options","correctIndex","correct","answerblanks","dat","Answer_AnswerBlank","answerchoices","listDirection","container","_data$direction","items","flexDirection","el","emptyspace","header","dangerouslySetInnerHtml","jsonml","_data$type","_data$spaceAfterItem","spaceAfterItem","listStyleType","marginBottom","_ref6","mdmath","inlineRenderer","blockRenderer","inlineOpen","inlineClose","blockOpen","blockClose","question-nonumber","Question_Question","table","_data$headings","headings","_data$rows","rows","_ref5","Text_MathAndMarkdown","vectorgraphic","SvgJsonML","_data","toArray","renderType","VG","vega","react_vega_min_default","spec","vega-lite","react_vega_lite_min_default","renderAs","RenderType","DefaultEditor","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","updateAndClose","onUpdateElement","state","onRequestClose","deleteAndClose","onDeleteElement","revertChanges","setState","border","backgroundColor","overflow","gridTemplateColumns","onClick","justifySelf","renderEditor","renderPreview","Header","headingAddRow","newdata","setData","headingRemoveRow","lr","newrow","_this2","inputStyle","borderStyle","onChange","evt","headingUpdate","target","checkMC","newState","toggleMC","isMC","checked","updateInstructions","updateVersionDefault","updateInstructionsMC","updateVersionMC","updateInstructionsFR","updateVersionFR","updateQuestion","updateQuestionMC","updateQuestionFR","fieldname","overrides","updaters","default","mc","fr","cols","renderMCToggle","textAlign","renderInstructionsOrQuestionInputs","get","prototype","fontSize","dispatch","updateElement","deleteElement","editing_Header_Header","editing_Question_Question","editing_DefaultEditor","TopLevelElement","openEditor","modal","closeModal","divprops","canEdit","onDoubleClick","title","lib_default","isOpen","editing","defaultProps","config","allowEditing","portrait","A3","A4","A5","letter","legal","landscape","MeasuredPage","innerH","inner","clientHeight","outerH","outer","overflows","createRef","oldstate","newstate","onOverflow","forceUpdate","addPageBreakBefore","contentIDs","pageOrientation","pageSize","_this$getPageSize","getPageSize","pageMargin","pageNumber","headers","outerclassname","outerstyle","getOuterStyle","innerstyle","getInnerStyle","headerID","getHeaderID","ref","Document_TopLevelElement","document","footers","Page","orientation","order","Document_Page","pagebreaks","showAnswerKey","hidden","numberHidden","len","visibleIDs","slices","pages","MarkerDefs_MarkerDefs","ids","Document_MeasuredPage","Document_AnswerKey","AddLocalFont","addFont","fontName","input","addLocalFont","family","spellCheck","buttonLabel","font","FontFamilyUI","setFontFamilyUI","fontFamilyUI","inputtype","setDocumentFontFamily","updateGraphStyle","FontFamilyInput","fontFamily","setFontFamily","setCss","body","setProperty","GoogleFonts","BrowserFonts","fontSort","aName","toUpperCase","bName","FontFamilySelect","fontList","localFonts","optionLabel","disabled","renderFontOption","Font_FontFamilyInput","Font_FontFamilySelect","FontSizeSelect","setDocFontSize","setDocumentFontSize","renderSizeOptions","MathFontSettings","onChangeSize","setSize","onChangeWeight","setWeight","weight","setSizeCss","setMathFontSize","setWeightCss","setMathFontWeight","currentSize","bold","currentWeight","mathFontSize","mathFontWeight","tabsize","onKeyDown","keyCode","selectionStart","selectionEnd","substring","preventDefault","TextPreview","updatePreview","outputStyle","output","defaultValue","split","json","parse","wrapperElement","FontSettings","Font_FontFamilyUI","Font_FontFamily","Font_AddLocalFont","justifyItems","Font_MathFontSettings","--doc-font-size","Font_TextPreview","latexfmt","String","replace","examples","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_templateObject10","_templateObject11","_templateObject12","_templateObject13","_templateObject14","_templateObject15","_templateObject16","RenderExample","LatexExamples_RenderExample","round","n","floor","calcParametric","abs","parseFunction","func","compile","scope","eval","GraphMaker","updateMode","mode","updateStandard","standard","updateInverse","inverse","updateParametricX","parametricX","updateParametricY","parametricY","updateX0","updateX1","updateY0","updateY1","updateT0","t0","updateT1","t1","updateStep","updateHeight","updateAutoDomain","autoDomain","updateAutoSize","autoSize","onSubmit","getData","getDomain","ymap","xmap","xpmap","ypmap","graphSize","getFunction","GraphMakerHeading","renderMode","renderInputs","renderDomainInput","renderGridInputs","renderHeightInput","CustomQuestion","openExamples","openGraphMaker","updateDiagram","updateAnswer","updateJSON","updateInputType","inputType","getDataFromState","_arr","addQuestion","_arr2","_i2","previewStyle","gridTemplateAreas","gridArea","CustomQuestion_LatexExamples","CustomQuestion_GraphMaker","q","thing","Notes","fontWeight","marginRight","CheckStateButton","logState","log","GraphStyle","setValue","cssName","kebabCase","propertyName","Color","Width","Opacity","mapDispatchToProps","createComponent","base","StyleSettingComponent","_base","inherits","graph","PlotPathColor","PlotPathWidth","Plot2PathColor","GeomPathColor","GeomPathWidth","AsymptoteColor","AsymptoteWidth","AxisColor","AxisWidth","GridColor","GridWidth","ShadedRegionOpacity","SwapButton","_this3","doSwap","_this3$props$updateGr","cssName1","current2","cssName2","current1","propertyName1","propertyName2","PlotColorSwap","plotPathColor","plot2PathColor","updates","PreviewXYPlot","vasymptotes","g","sin","regionTop","regionBottom","fpoints","gpoints","fpt","gpt","region","reverse","CartesianPlane_CartesianPlane","Transforms_Transforms","Functions_RationalFunction","Paths_ShadedRegion","PreviewGeom","Paths_Polygon","Geometry_Circle","Paths_GeomRay","Paths_GeomLine","Paths_GeomSegment","GraphSettings","changeStyle","resetToDefaults","resetGraphStyle","GraphPreview_PreviewGeom","GraphPreview_PreviewXYPlot","colSpan","Settings","renderStyleSettings","SettingsPage","showFontSettings","showing","showGraphSettings","Font","Graph","renderSettings","AllowEditing","toggle","setAllowEditing","AnswerKeyToggle","setShowAnswerKey","bool","FixPagination","reset","clearPageBreaks","setHiddenCount","total","setTimeout","check","MarginOptions","SetPageMargin","updateFromSelection","m","setPageMargin","PreviewZoom","setFromInput","magnification","selection","setPreviewZoom","perc","z","StartNumbering","setNumbering","startat","setCSSVariable","setDocumentStartNumbering","applyButton","stop","inclusive","mathjsrange","gcd","listFactors","_ref$include","include1","_ref$includeN","includeN","Randomizer","seed","engine","Random","engines","mt19937","createClass","autoSeed","integer","real","array","first","shuffled","shuffle","pick","pop","sample","randint","randomSeedGenerator","QGen","randomSeed","random","randomizer","out","generate","_getParams","_specialCaseKeys","_specialCaseValues","getOptions","name","info","randomPolynomialCoefficients","degree","_ref$maxCoefficient","maxCoefficient","_ref$terms","terms","rd","whichterms","choice","TransformTracker","parent","fraction","mul","translateX","translateY","scaleX","scaleY","cubic","exp2","log2","quad","sqrt","Polynomial","setField","div","toLatex","kStr","aStr","SolveQuadratic","_QGen","_rd$sample","_rd$sample2","r1","r2","poly","2","1","0","rand","add","description","FactorQuadraticHard","_QGen2","a1","a2","b1","b2","p1","p2","RationalGraph","_QGen3","makeFunction","top","bottom","generateValues","vals","allHolesInRange","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","isGood","_generateValues","fmtAns","numer","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","simplify","denom","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","wrongs","FindIntervals","_QGen4","toFind","xs","which","yRange","ys","maxConstantIntervals","possible","intervals","wrongAnswer1","wrongAnswer2","wrongAnswer3","wrongAnswer4","inc","dec","fullName","int","answerIndex","IncreasingIntervals","_FindIntervals","DecreasingIntervals","_FindIntervals2","angle1","rotateBy","intersect1","pp","cos","top1","bottom1","difference","intersect2","top2","bottom2","RationalZeroTheorem","_QGen6","primes","leading_coeff","trailing_coeff","num_coeffs","correctNumerators","correctDenominators","allPossibleZeros","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","numCorrect","correctAnswers","_","includes","wrongAnswers","allChoices","poprandom","MatchTransformations","_QGen7","parents","transforms","eqns","_i4","shiftV","shiftH","stretchV","stretchH","compressH","eqn","_ref7","eqnScramble","shuffleRange","graphScramble","gridTemplateRows","alignItems","marginLeft","indexOf","test","subdivide","depth","searchDepth","hd","createTree","contourPresent","RationalPlot","inv","numRoots","numAsymptotes","values","sampleRange","PolynomialPlot","coeffs","tex","PlotStyling","path1","path2","path3","path4","--vg-path-color","FontTest","lines","chars","_i3","dontConfuse","line","j","_arr3","QuadTreePlotTest","_QGen5","f1","f2","VegaLite","function","mark","encoding","field","color","$schema","signals","bind","scales","nice","zero","axes","titleFont","marks","from","facet","groupby","encode","enter","stroke","strokeWidth","update","signal","fillOpacity","hover","questionBank","examplequestions","register","demogenerators","ReactModal","setAppElement","defaultStyles","borderRadius","borderColor","background","overlay","AppWrapper","addToDoc","generateAndAdd","questionType","questionTypeSelect","qtype","questionTypes","openRpcTest","openCustomQuestion","openSettings","A","B","toplabel","components_Wrapper","components_TopBar","window","print","Settings_AnswerKeyToggle","Settings_StartNumbering","FontSize","PageMargin","Settings_PreviewZoom","Settings_AllowEditing","Settings_FixPagination","containers_Document_Document","components_SideBar","renderQuestionList","removeLast","clearAll","CheckState","statusBar","components_StatusBar","containers_CustomQuestion","containers_Notes","Root","store","es","containers_App","initialState","startNumbering","action","asymptoteColor","asymptoteWidth","axisColor","axisWidth","gridColor","gridWidth","plotPathWidth","geomPathColor","geomPathWidth","shadedRegionOpacity","rootReducer","combineReducers","createStore","App","Root_Root","Boolean","location","hostname","match","ReactDOM","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.d538dee0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Layout\":\"styles_Layout__2DVPj\",\"SettingTable\":\"styles_SettingTable__37d46\",\"StyleSetting\":\"styles_StyleSetting__3Xjp4\",\"Preview\":\"styles_Preview__x9yKo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"styles_Wrapper__QmsU2\",\"Wrapper-TitleBar-StatusBar\":\"styles_Wrapper-TitleBar-StatusBar__dCCA9\",\"Wrapper-TopBar\":\"styles_Wrapper-TopBar__bDS_q\",\"Wrapper-TopBar-StatusBar\":\"styles_Wrapper-TopBar-StatusBar__3am6d\",\"SideBar\":\"styles_SideBar__11KBm\",\"StatusBar\":\"styles_StatusBar__3LGjN\",\"TitleBar\":\"styles_TitleBar__315t0\",\"TopBar\":\"styles_TopBar__I1VNN\",\"PreviewOuter\":\"styles_PreviewOuter__aClrK\",\"PreviewInner\":\"styles_PreviewInner__2lsw-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GraphMakerBody\":\"styles_GraphMakerBody__11R3v\",\"GraphMakerInput\":\"styles_GraphMakerInput__3qT0d\",\"GraphMakerPreview\":\"styles_GraphMakerPreview__2opkG\",\"LatexExamples\":\"styles_LatexExamples__1VuMU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SettingPage\":\"styles_SettingPage__2u-qK\",\"Title\":\"styles_Title__3GTDx\",\"SettingSection\":\"styles_SettingSection__2TB1w\",\"LeftBar\":\"styles_LeftBar__3l1eD\",\"NavArea\":\"styles_NavArea__1p8EW\",\"NavButton\":\"styles_NavButton__2-ksX\",\"active\":\"styles_active__3Py5l\"};","import React from 'react'\nimport styles from './styles.module.css'\n\nclass Previewer extends React.Component {\n  render() {\n    \n\n    return (\n      <div className={styles.PreviewOuter}>\n        <div className={styles.PreviewInner}>\n          {this.props.children}\n        </div>\n      </div>\n    )\n\n  }\n}\n\nexport default Previewer","import React from 'react'\nimport styles from './styles.module.css'\n\nclass SideBar extends React.Component {\n  render() {\n    return (\n      <div className={styles.SideBar}>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport default SideBar","import React from 'react'\nimport styles from './styles.module.css'\n\nconst StatusBar = (props) => {\n  return (\n    <div className={styles.StatusBar}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default StatusBar","import React from 'react'\nimport styles from './styles.module.css'\n\nconst TopBar = (props) => {\n  return (\n    <div className={styles.TopBar}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default TopBar","import React from 'react'\nimport styles from './styles.module.css'\n\nclass Wrapper extends React.Component {\n  \n  render() {\n    let classNames = [styles.Wrapper, styles['Wrapper-TopBar']]\n\n    return (\n      <div className={classNames.join(' ')}>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport default Wrapper","export const ADD_TO_DOCUMENT = 'ADD_TO_DOCUMENT'\nexport const CLEAR_ALL = 'CLEAR_ALL'\nexport const REMOVE_LAST = 'REMOVE_LAST'\nexport const UPDATE_ELEMENT = 'UPDATE_ELEMENT'\nexport const DELETE_ELEMENT = 'DELETE_ELEMENT'\nexport const SET_DOCUMENT_STARTNUMBERING = 'SET_DOCUMENT_STARTNUMBERING'\nexport const ADD_PAGEBREAK_BEFORE = 'ADD_PAGEBREAK_BEFORE' // need to come up with a better way to do this\nexport const CLEAR_PAGEBREAKS = 'CLEAR_PAGEBREAKS'\n\nlet elemID = 0\n\n// Document content\n\nexport const addToDocument = (elem) => ({\n  type: ADD_TO_DOCUMENT,\n  payload: {element: elem, id: ++elemID}\n})\n\nexport const clearAll = () => ({\n  type: CLEAR_ALL\n})\n\nexport const removeLast = () => ({\n  type: REMOVE_LAST,\n})\n\nexport const updateElement = (id, element) => ({\n  type: UPDATE_ELEMENT,\n  payload: { id, element }\n})\n\nexport const deleteElement = (id) => ({\n  type: DELETE_ELEMENT,\n  payload: id,\n})\n\n// Document settings\n\n\nexport const setDocumentStartNumbering = (n) => ({\n  type: SET_DOCUMENT_STARTNUMBERING,\n  payload: n\n})\n\n\n\n// Document view\n\nexport const addPageBreakBefore = (id) => ({\n  type: ADD_PAGEBREAK_BEFORE,\n  payload: id\n})\n\nexport const clearPageBreaks = () => ({\n  type: CLEAR_PAGEBREAKS\n})\n\n\n","/*\nThis renders math in text using markdown, and simple markdown using\nmarkdown-it's inline renderer. For more complicated markdown, use\nthe 'markdown' type, which will be passed to the 'renderMarkdown' function\n*/\n\nimport React from 'react'\nimport katex from 'katex'\nimport { defaultsDeep } from 'lodash'\nimport MarkdownIt from 'markdown-it'\nimport mdsup from 'markdown-it-sup'\nimport mdsub from 'markdown-it-sub'\nimport mdsmartarrows from 'markdown-it-smartarrows'\nimport mdmath from 'markdown-it-math'\nimport splitAtDelimiters  from 'katex/contrib/auto-render/splitAtDelimiters'\n\n\nconst defaultOptions = {\n  markdown: {\n    render: true,\n    superscript: true,\n    subscript: true,\n    smartarrows: true,\n  },\n\n  math: {\n    render: true,\n    delimiters: {\n      display: {left: '$$$', right: '$$$'},\n      inline: {left: '$$', right: '$$'},\n    },\n  }\n};\n\n\n\n// from katex:\nconst splitWithDelimiters = function(text, delimiters) {\n  let data = [{type: \"text\", data: text}];\n  for (let i = 0; i < delimiters.length; i++) {\n    const delimiter = delimiters[i];\n    data = splitAtDelimiters(\n      data, delimiter.left, delimiter.right,\n      delimiter.display || false);\n  }\n  return data;\n};\n\nconst MathAndMarkdown = ({data, options}) => {\n  /**\n   * Split text using Katex, then render pieces with katex (if math)\n   * or markdown (inline only)\n   */\n  const katexOptions = {\n    delimiters: [\n      {left: options.math.delimiters.display.left, right: options.math.delimiters.display.right, display: true},\n      {left: options.math.delimiters.inline.left, right: options.math.delimiters.inline.right, display: false},\n    ],\n    errorCallback: console.error,\n  }\n\n  return (\n    <span>\n      {splitWithDelimiters(data, katexOptions.delimiters).map((c,i) => {\n        if (c.type === 'text') {\n          if (options.markdown.render) {\n            return <InlineMarkdown key={i} data={c.data} markdownOptions={options.markdown} />\n          } else {\n            return <PlainText key={i} data={c.data} />\n          }\n        } else {\n          return <KatexMath key={i} data={c} katexOptions={{...katexOptions, displayMode: c.display}} />\n        }\n      })}\n    </span>\n  )\n}\n\nconst PlainText = ({data}) => {\n  return <span>{data.toString()}</span>\n}\n\nconst KatexMath = ({data, katexOptions}) => {\n  try {\n    const html = katex.renderToString(data.data, katexOptions);\n    return <span dangerouslySetInnerHTML={{__html: html}} />\n  } catch (e) {\n    if (!(e instanceof katex.ParseError)) {\n      throw e;\n    }\n    katexOptions.errorCallback(\n      \"KaTeX auto-render: Failed to parse `\" + data.data + \"` with \", e\n    );\n    return <span>{data.raw}</span>\n  }\n}\n\nconst InlineMarkdown = ({data, markdownOptions}) => {\n  let md = new MarkdownIt()\n  if (markdownOptions.subscript) { md = md.use(mdsub); }\n  if (markdownOptions.superscript) { md = md.use(mdsup); }\n  if (markdownOptions.smartarrows) { md = md.use(mdsmartarrows); }\n  const html = md.renderInline(data)\n  return <span dangerouslySetInnerHTML={{__html: html}} />\n}\n\nexport const Text = ({data, options}) => {\n  if (typeof data === 'number') {\n    return <PlainText data={data.toString()} />\n  } else {\n    const opts = defaultsDeep({}, options, defaultOptions)\n    if (opts.math.render) {\n      return <MathAndMarkdown data={data} options={opts} />\n    } else if (opts.markdown.render) {\n      return <InlineMarkdown data={data} markdownOptions={opts.markdown} />\n    } else {\n      return <PlainText data={data} />\n    }\n  }\n}\n\nexport const Markdown = ({data, options}) => {\n  const opts = defaultsDeep({}, options, defaultOptions)\n  let md = new MarkdownIt()\n  if (opts.markdown.subscript) { md = md.use(mdsub); }\n  if (opts.markdown.superscript) { md = md.use(mdsup); }\n  if (opts.markdown.smartarrows) { md = md.use(mdsmartarrows); }\n  if (opts.math.render) {\n    md = md.use(mdmath, {\n      inlineRenderer: (str) => katex.renderToString(str),\n      blockRenderer: (str) => '<div class=\"math-block\">' + katex.renderToString(str, {displayMode: true}) + '</div>',\n      inlineOpen: opts.math.delimiters.inline.left,\n      inlineClose: opts.math.delimiters.inline.right,\n      blockOpen: opts.math.delimiters.display.left,\n      blockClose: opts.math.delimiters.display.right,\n    })\n  }\n  return (\n    <span dangerouslySetInnerHTML={{__html: md.render(data)}} ></span> \n  )\n}\n\n\n\n\n\n\n/*\nconst defaultDelimiters = {\n  display: {left: '$$$', right: '$$$'},\n  inline: {left: '$$', right: '$$'},\n}\n\nconst replaceMathDelimiters = function(text, options, delimiters=defaultDelimiters) {\n  let optionsCopy = {...options.katex}\n  const data = splitWithDelimiters(text, optionsCopy.delimiters)\n  let result = \"\"\n  for (let i = 0; i < data.length; i++) {\n    if (data[i].type === \"text\") {\n      result += data[i].data\n    } else if (data[i].display) {\n      result += `${delimiters.display.left}${data[i].data}${delimiters.display.right}`\n    } else {\n      result += `${delimiters.inline.left}${data[i].data}${delimiters.inline.right}`\n    }\n  }\n  return result\n}\n*/\n","import React from 'react'\n\n\nconst ArrowMarker = ({style}) => {\n  const id = `vg-${style}-arrow`\n  const className = `vg-marker-${style}`\n  return (\n    <marker id={id} viewBox=\"0 0 10 10\" refX=\"3\" refY=\"5\"\n      markerWidth=\".4\" markerHeight=\".4\"\n      markerUnits=\"strokeWidth\"\n      orient=\"auto-start-reverse\">\n      <path d=\"M 2 5 L 0 0 L 10 5 L 0 10 z\" className={className} />\n    </marker>\n  )\n}\n\nconst PointMarker = ({style}) => {\n  const id = `vg-${style}-point`\n  const className = `vg-marker-${style}`\n  return (\n    <marker id={id} viewBox=\"0 0 10 10\" refX=\"5\" refY=\"5\"\n      markerWidth=\".2\" markerHeight=\".2\"\n      markerUnits=\"strokeWidth\">\n      <circle cx=\"5\" cy=\"5\" r=\"5\" className={className} />\n    </marker>\n  )\n}\n\nconst BigPointMarker = ({style}) => {\n  const id = `vg-${style}-bigpoint`\n  const className = `vg-marker-${style}`\n  return (\n    <marker id={id} viewBox=\"0 0 10 10\" refX=\"5\" refY=\"5\"\n      markerWidth=\".3\" markerHeight=\".3\"\n      markerUnits=\"strokeWidth\">\n      <circle cx=\"5\" cy=\"5\" r=\"5\" className={className} />\n    </marker>\n  )\n}\n\nconst HoleMarker = ({style}) => {\n  const id = `vg-${style}-hole`\n  const className = `vg-marker-${style}`\n  return (\n    <marker id={id} viewBox=\"0 0 10 10\" refX=\"5\" refY=\"5\"\n      markerWidth=\".4\" markerHeight=\".4\"\n      markerUnits=\"strokeWidth\">\n      <circle cx=\"5\" cy=\"5\" r=\"5\" className={className}/>\n      <circle cx=\"5\" cy=\"5\" r=\"3\" className='vg-marker-hole' />\n    </marker>\n  )\n}\n\n\nexport const MarkerDefs = () => {\n  const styles = ['axis', 'plot', 'plot-2', 'geom']\n  return (\n    <>\n    {styles.map(s => <ArrowMarker key={`arrow-${s}`} style={s}/> )}\n    {styles.map(s => <PointMarker key={`pt-${s}`} style={s}/> )}\n    {styles.map(s => <BigPointMarker key={`bigpt-${s}`} style={s}/> )}\n    {styles.map(s => <HoleMarker key={`hole-${s}`} style={s}/> )}\n    </>\n  )\n}","import React from 'react'\n\n\nexport function makesrange(min, max, step=1, anchor) {\n\tif (anchor === undefined) {\n\t\tanchor = min;\n\t} else if (anchor < min) {\n\t\tanchor = min;\n\t} else if (anchor > max) {\n\t\tanchor = max;\n\t}\n\tlet r = [anchor,];\n\tlet v = anchor - step;\n\twhile (v >= min) {\n\t\t\tr.splice(0, 0, v);\n\t\t\tv -= step;\n\t}\n\tv = anchor + step;\n\twhile (v <= max) {\n\t\t\tr.push(v);\n\t\t\tv += step;\n\t}\n\treturn r;\n}\n\n\n\nconst AutoClip = ({span, padX, padY, clipID}) => {\n  const [x0, y0, x1, y1] = span\n  const w = x1 - x0, h = y1 - y0\n  return (\n    <clipPath id={`clip-path-${clipID}`}>\n      <rect x={x0-padX} y={y0-padY} \n      width={w+2*padX} height={h+2*padY}/>\n    </clipPath>\n  )\n}\n\nconst AxisH = (props) => {\n  const {span, origin=[0,0]} = props\n  const orig = `${origin[0]},${origin[1]}`\n  return (\n    <>\n    {span[0] === origin[0] ? null : <path className='vg-axis vg-axis-neg' d={`M${orig}H${span[0]}`} vectorEffect='non-scaling-stroke'/>}\n    <path className='vg-axis vg-axis-pos' d={`M${orig}H${span[1]}`} vectorEffect='non-scaling-stroke'/>\n    </>\n  )\n}\n\nconst AxisV = (props) => {\n  const {span, origin=[0,0]} = props\n  const orig = `${origin[0]},${origin[1]}`\n  return (\n    <>\n    {span[0] === origin[1] ? null : <path className='vg-axis vg-axis-neg' d={`M${orig}V${span[0]}`} vectorEffect='non-scaling-stroke'/>}\n    <path className='vg-axis vg-axis-pos' d={`M${orig}V${span[1]}`} vectorEffect='non-scaling-stroke'/>\n    </>\n  )\n}\n\nexport const Grid = (props) => {\n  const {span, step=[1,1], origin=[0,0]} = props\n  const axis = props.axis !== undefined ? props.axis : [...origin]\n\n  const x = {span: [+span[0], +span[2]], step: +step[0], origin: +origin[0]}\n  const y = {span: [+span[1], +span[3]], step: +step[1], origin: +origin[1]}\n\n  const xvals = x.step ? makesrange(...x.span, x.step, x.origin) : []\n  const yvals = y.step ? makesrange(...y.span, y.step, y.origin) : []\n\n  let hAxis = axis === null ? false : (axis[1] === null ? false : true)\n  let vAxis = axis === null ? false : (axis[0] === null ? false : true)\n\n  return (\n    <>\n      {xvals.map(v => <path key={`x-${v}`} className='vg-path vg-grid' d={`M${v},${y.span[0]}V${y.span[1]}`} vectorEffect='non-scaling-stroke'/>)}\n      {yvals.map(v => <path key={`y-${v}`} className='vg-path vg-grid' d={`M${x.span[0]},${v}H${x.span[1]}`} vectorEffect='non-scaling-stroke'/>)}\n      {vAxis ? <AxisV span={y.span} origin={axis} /> : null}\n      {hAxis ? <AxisH span={x.span} origin={axis} /> : null}\n    </>\n  )\n}\n\n\nlet clipCounter = 0\n\nexport const CartesianPlane = (props) => {\n  const {span, autogrid=false, padding, style='xy-plot', ...otherprops} = props\n  const x0 = +span[0]\n  const x1 = +span[2]\n  const y0 = +span[1]\n  const y1 = +span[3]\n  const xpad = (x1 - x0) * .1\n  const ypad = (y1 - y0) * .1\n  const clipPadX = padding === undefined ? (x1 - x0) * .005 : padding\n  const clipPadY = padding === undefined ? (y1 - y0) * .005 : padding\n  const w = x1 - x0\n  const h = y1 - y0\n  \n\n  const clipID = ++clipCounter\n\n  const classNames = ['vg-cartesian-plane']\n  if (style === 'xy-plot') {\n    classNames.push('vg-style-xyplot')\n  }\n  if (style === 'geom') {\n    classNames.push('vg-style-geom')\n  }\n\n  //const viewBox = `${x0-xpad} ${-y1-ypad} ${w+2*xpad} ${h+2*ypad}`\n  const viewBox = `${x0-xpad} ${y0-ypad} ${w+2*xpad} ${h+2*ypad}`\n  const translateY = y0 + y1\n  const transform = `translate(0,${translateY}) scale(1,-1)`\n\n  return (\n    <svg viewBox={viewBox} \n      className={classNames.join(' ')}\n      {...otherprops}>\n      <defs>\n        <AutoClip span={span} padX={clipPadX} padY={clipPadY} clipID={clipID} />\n      </defs>\n      <g transform={transform}>\n        {autogrid ? <Grid span={span} /> : null}\n        <g clipPath={`url(#clip-path-${clipID})`}>\n          {props.children}\n        </g>\n      </g>\n    </svg>\n  )\n}","import React from 'react'\n\nfunction pointFromArray(pt) {\n  return `${pt[0]},${pt[1]}`\n}\n\n\nfunction pointFromXY(pt) {\n  return `${pt.x},${pt.y}`\n}\n\nfunction XYtoArray(pt) {\n  return [pt.x, pt.y]\n}\n\n\nexport function pathFromPoints(points) {\n  if (Array.isArray(points[0])) {\n    return `M${points.map(p => `${p[0]},${p[1]}`).join('L')}`\n  }\n  return `M${points.map(p => `${p.x},${p.y}`).join('L')}`\n}\n\nexport function scatterPathFromPoints(points) {\n  if (Array.isArray(points[0])) {\n    return points.map(p => `M${p[0]},${p[1]}`).join(' ')\n  }\n  return points.map(p => `M${p.x},${p.y}`).join(' ')\n}\n\n\nfunction interpolatePathCubicH(points) {\n  const pts = Array.isArray(points[0]) ? points : points.map(p => [p.x, p.y])\n  let d = `M ${pointFromArray(pts[0])}`\n  let prev = pts[0]\n  for (let i = 1; i < pts.length; i++) {\n    const p = pts[i]\n    const x1 = (2*prev[0] + p[0]) / 3\n    const x2 = (prev[0] + 2*p[0]) / 3\n    d += ` C ${x1},${prev[1]} ${x2},${p[1]} ${p[0]},${p[1]}`\n    prev = p\n  }\n  return d\n}\n\n\nexport const Path = (props) => {\n  const {points, markers={}, role=[], effects={}, style, fill=false, connect=false} = props\n  const classNames = ['vg-path']\n  if (markers.start) classNames.push(`vg-path-marker-start-${markers.start}`)\n  if (markers.mid) classNames.push(`vg-path-marker-mid-${markers.mid}`)\n  if (markers.end) classNames.push(`vg-path-marker-end-${markers.end}`)\n  if (fill) classNames.push(`vg-path-fill`)\n  for (const r of role) {\n    classNames.push(`vg-${r}`)\n  }\n  if (style) classNames.push(`vg-style=${style}`)\n  let d = pathFromPoints(points)\n  \n  if (effects && effects.interpolate) {\n    if (effects.interpolate === 'cubic-h') {\n      d = interpolatePathCubicH(points)\n    }\n  } else {\n    d = pathFromPoints(points)\n  }\n  \n  if (connect) {\n    d += 'z'\n  }\n  return (\n    <path className={classNames.join(' ')}\n      d={d}\n      vectorEffect='non-scaling-stroke'\n    />\n  )\n}\n\nexport const ScatterPlot = props => {\n  const {points} = props\n  return (\n    <path className='vg-scatterplot' \n      d={scatterPathFromPoints(points)} \n      vectorEffect='non-scaling-stroke' />\n  )\n}\n\n\nexport const GeomSegment = (props) => {\n  const {points, role=['segment'], style} = props\n  return (\n    <Path points={points} role={role} style={style} />\n  )\n}\n\nexport const GeomRay = (props) => {\n  const {points, role=['ray'], style} = props\n  return (\n    <Path points={points} role={role} style={style} />\n  )\n}\n\nexport const GeomLine = (props) => {\n  const {points, role=['line'], style} = props\n  return (\n    <Path points={points} role={role} style={style} />\n  )\n}\n\nexport const Asymptote = (props) => {\n  const {points, role=['asymptote'], style} = props\n  return (\n    <Path points={points} role={role} style={style} />\n  )\n}\n\nexport const ShadedRegion = (props) => {\n  const {points, role=[], style} = props\n  const d = `${pathFromPoints(points)}z`\n  const classNames = ['vg-shaded-region']\n  for (const r of role) {\n    classNames.push(`vg-${r}`)\n  }\n  if (style) classNames.push(`vg-style-${style}`)\n  return <path className={classNames.join(' ')} d={d} vectorEffect='non-scaling-stroke'/>\n}\n\nexport const Polygon = (props) => {\n  const {vertices, marker='point', fill=false, role=[], style} = props\n  const d = `${pathFromPoints(vertices)}z`\n  const classNames = ['vg-path', 'vg-polygon']\n  if (marker) classNames.push(`vg-path-marker-mid-${marker}`)\n  if (fill) classNames.push(`vg-path-fill`)\n  for (const r of role) {\n    classNames.push(`vg-${r}`)\n  }\n  if (style) classNames.push(`vg-style=${style}`)\n  return (\n    <path d={d} className={classNames.join(' ')} vectorEffect='non-scaling-stroke'/>\n  )\n}","import React from 'react'\n\n\nexport const Circle = (props) => {\n  const {cx, cy, r, ...otherprops} = props\n  return <circle className='vg-path geom-circle' cx={cx} cy={cy} r={r} {...otherprops} vectorEffect='non-scaling-stroke'/>\n}\n\n","import React from 'react'\n\nexport const Layer = (props) => {\n  return (\n    <g {...props}>\n      {props.children}\n    </g>\n  )\n}\n\nexport const Text = (props) => {\n  const {x, y, children, ...otherprops} = props\n  return (\n    <text className='vg-text' x={x} y={-y} {...otherprops} transform='scale(1,-1)' vectorEffect='non-scaling-stroke'>\n      {props.children}\n    </text>\n  )\n}\n\nexport const Rotate = (props) => {\n  const deg = props.degrees !== undefined ? props.degrees : props.radians * 180 / Math.PI \n  return (\n    <g transform={`rotate(${deg})`}>\n      {props.children}\n    </g>\n  )\n}\n\n","import React from 'react'\n\nexport const Mark = props => {\n  const {x, y, coords, roles=[], style} = props\n  const d = `M${coords ? `${coords[0]},${coords[1]}` : `${x},${y}`}z`\n  const classNames = ['vg-mark']\n  for (const r of roles) {\n    classNames.push(`vg-${r}`)\n  }\n  if (style) classNames.push(`vg-style=${style}`)\n  return (\n    <path className={classNames.join(' ')}\n      vectorEffect='non-scaling-stroke'\n      d={d}\n    />\n  )\n}\n\nexport const Point = props => {\n  const {x, y, coords, roles=[], style} = props\n  const d = `M${coords ? `${coords[0]},${coords[1]}` : `${x},${y}`}z`\n  const classNames = ['vg-mark', 'vg-point']\n  for (const r of roles) {\n    classNames.push(`vg-${r}`)\n  }\n  if (style) classNames.push(`vg-style=${style}`)\n  return (\n    <path className={classNames.join(' ')}\n      vectorEffect='non-scaling-stroke'\n      d={d}\n    />\n  )\n}\n\nexport const Hole = props => {\n  const {x, y, coords, roles=[], style} = props\n  const d = `M${coords ? `${coords[0]},${coords[1]}` : `${x},${y}`}z`\n  const classNames = ['vg-mark', 'vg-hole']\n  for (const r of roles) {\n    classNames.push(`vg-${r}`)\n  }\n  if (style) classNames.push(`vg-style=${style}`)\n  return (\n    <path className={classNames.join(' ')}\n      vectorEffect='non-scaling-stroke'\n      d={d}\n    />\n  )\n}","import React from 'react'\nimport { Path, Asymptote, Point, Hole } from '.'\n\n\nconst calcPath = function(f, domain, step=0.1) {\n  let path = []\n  let x = domain[0]\n  while (x < domain[1]) {\n    path.push({x: x, y: f(x)})\n    x += step\n  }\n  path.push(({x: domain[1], y: f(domain[1])}))\n  return path\n}\n\nexport const PolynomialFunction = (props) => {\n  const { \n    coefficients, domain, step=0.1,\n    ...otherprops\n  } = props\n\n  const f = (x) => {\n    let ans = 0\n    for (const deg in coefficients) {\n      ans += coefficients[deg] * Math.pow(x,deg)\n    }\n    return ans\n  }\n\n  return <Path points={calcPath(f, domain, step)} {...otherprops}/>\n}\n\nexport const RationalFunction = (props) => {\n  const {\n    roots=[], holes=[], asymptotes=[], numerLC=1, denomLC=1, \n    domain, step=0.1, range=[-1000,1000], \n    renderAsymptotes=true, renderRoots=true, renderHoles=true,\n    role=[], style\n  } = props\n\n  const f = (x) => {\n    let num = numerLC\n    let den = denomLC\n    for (const r of roots) {\n      num *= (x - r)\n    }\n    for (const r of asymptotes) {\n      den *= (x - r)\n    }\n    return num / den\n  }\n\n  const domainPts = {\n    [+domain[0]] : true,\n    [+domain[1]] : true,\n  }\n\n  for (const r of asymptotes.filter(r => r >= domain[0] && r <= domain[1])) {\n    domainPts[+r] = false\n  }\n\n  const domains = []\n  const dp = Object.keys(domainPts).sort((a,b) => a-b)\n  for (let i = 1; i<dp.length; i++) {\n    const [v1, v2] = [dp[i-1], dp[i]]\n    domains.push([\n      {val: v1, def: domainPts[v1]},\n      {val: v2, def: domainPts[v2]}, \n    ])\n  }\n  \n  const paths = []\n  for (const d of domains) {\n    \n    const dom = [\n      d[0].def ? +d[0].val : +d[0].val + step,\n      d[1].def ? +d[1].val : +d[1].val - step,\n    ]\n    let path = calcPath(f, dom, step)\n    if (!d[0].def) {\n      let p = path[0]\n      while (p.y > range[0] && p.y < range[1]) {\n        const x = (3*d[0].val + p.x) / 4\n        p = {x, y: f(x)}\n        path = [p, ...path]\n      }\n    }\n    if (!d[1].def) {\n      let p = path[path.length-1]\n      while (p.y > range[0] && p.y < range[1]) {\n        const x = (3*d[1].val + p.x) / 4\n        p = {x, y: f(x)}\n        path.push(p)\n      }\n    }\n    paths.push(path)\n  }\n\n  const vas = asymptotes.map(x => [{x: x, y: range[0]}, {x: x, y: range[1]}])\n  let ha\n  if (asymptotes.length > roots.length) {\n    ha = [{x: domain[0], y: 0}, {x: domain[1], y: 0}]\n  } else if (asymptotes.length === roots.length) {\n    ha = [{x: domain[0], y: numerLC/denomLC}, {x: domain[1], y: numerLC/denomLC}]\n  }\n\n  const classNames = ['vg-rational-function']\n\n  if (style) classNames.push(`vg-style-${style}`)\n\n  const roles = ['function', ...role]\n  return (\n    <g className={classNames.join(' ')}>\n      {renderAsymptotes && ha ? <Asymptote key='hasym' points={ha} /> : null}\n      {renderAsymptotes ? vas.map(p => <Asymptote key={`asym${p[0].x}`} points={p} />) : null}\n      {paths.map(p => <Path key={`path${p[0].x}`} points={p} role={roles} />)}\n      {renderRoots ? roots.map(x => <Point key={`root${x}`} x={x} y={f(x)} />): null}\n      {renderHoles ? holes.map(x => <Hole key={`hole${x}`} x={x} y={f(x)} />) : null}\n    </g>\n  )\n}\n","import React from 'react'\n\nconst translate = params => {\n  const {x=0, y=0} = params\n  return `translate(${x},${y})`\n}\n\nconst scale = params => {\n  const {x=1, y=1} = params\n  return `scale(${x},${y})`\n}\n\nconst matrix = params => {\n  const [a=1, b=0, c=0, d=1, e=0, f=0] = params\n  return `matrix(${a},${b},${c},${d},${e},${f})`\n}\n\nconst transform = props => {\n  const {type, params} = props\n  switch(type) {\n    case 'matrix': return matrix(params)\n    case 'scale': return scale(params)\n    case 'translate': return translate(params)\n    case 'invertXY': return matrix([0,1,1,0])\n    default: return 'none'\n  }\n}\n\nexport const Transforms = props => {\n  const {list} = props\n  const transformlist = []\n  for (const t of list) {\n    const str = typeof t === 'string' ? transform({type: t}) : transform(t)\n    if (str !== 'none') {\n      transformlist.push(str)\n    }\n  }\n  return (\n    <g transform={transformlist.length === 0 ? undefined : transformlist.join(' ')}>\n      {props.children}\n    </g>\n  ) \n}","import React from 'react'\nimport { RenderElement } from '../RenderElement'\n\nexport const AnswerChoices = ({data, options}) => {\n  const classNames = ['answerchoice-list']\n  if (options.answerchoices && options.answerchoices.listDirection === 'horizontal') {\n    classNames.push('answerchoice-list-horizontal')\n  }\n  return (\n    <ol className={classNames.join(' ')} type='a'>\n      {data.map((d,i) => (\n        <li key={`choice-${i}`}\n          className='answerchoice-item'>\n          <RenderElement content={d} inherited={options} />\n        </li>\n      ))}\n    </ol>\n  )\n}\n\n\n\nconst AnswerBlank = ({data, options}) => {\n  const style = {margin: '0'}\n  \n  if (data.width !== undefined) {\n    style.minWidth = data.width\n  }\n  if (data.height !== undefined) {\n    style.minHeight = data.height\n  }\n\n  return (\n    <tr>\n      <td><RenderElement content={data.label === undefined ? 'answer:' : data.label} /></td>\n      <td><div className='blank-underline answerblank' style={style}/></td>\n    </tr>\n  )\n}\n\nexport const AnswerBlanks = ({data, options}) => {\n  return (\n    <table className='answerblanks'>\n      <tbody>\n        {data.map((d,i) => {\n          const dat = typeof d === 'string' ? {label: d} : d\n          return (\n            <AnswerBlank \n              key={`answerblank=${dat.label}-${i}`} \n              data={dat}\n              options={options}\n            />\n        )})}\n      </tbody>\n    </table>\n  )\n}","/**\n * ATM this is not technically a secondary type\n * It's here because I may allow headings to use Markdown,\n * although that will interfere with the auto-blanks\n */\n\nimport React from 'react'\n\nconst parseHeader = (text) => {\n  let result = []\n  let current = ''\n  let isBlank = false\n  let i = 0\n  let blankSize = 0\n  while (i < text.length) {\n    const nextChar = text[i]\n    if (isBlank) {\n      if (nextChar === '_') {\n        blankSize += 1\n      } else {\n        result.push({type: 'blank', size: blankSize})\n        current = nextChar\n        isBlank = false\n        blankSize = 0\n      }\n    } else {\n      if (nextChar === '_') {\n        if (current !== '') {\n          result.push({type: 'text', text: current})\n          current = ''\n        }\n        isBlank = true\n        blankSize = 1\n      } else {\n        current += nextChar\n      }\n    }\n    i += 1\n  }\n  if (isBlank) {\n    if (blankSize > 0) {\n      result.push({type: 'blank', size: blankSize})\n    }\n  } else {\n    if (current !== '') {\n      result.push({type: 'text', text: current})\n    }\n  }\n  return result\n}\n\nconst renderHeaderElement = (text) => {\n  const parts = parseHeader(text)\n  return (\n    <>\n      {parts.map((p, i) => {\n        if (p.type === 'text') {\n          return (\n            <div key={i} style={{display: 'inline-block'}}>{p.text}</div>\n          )\n        } else {\n          const w = `${1 + 3*(p.size - 1)}cm`\n          return (\n            <div key={i} className='blank-underline blank-underline-header' style={{width: w}} />\n          )\n        }\n      })}\n    </>\n  )\n}\n\nexport const Header = ({data, options}) => {\n  /**\n   * @param data: array where each entry is {left, right}\n   */\n\n  if (data.length === 0) {\n    return <div className='header header-empty' />\n  } else {\n    return (\n      <table className='header'>\n        <tbody>\n          {data.map((row, i) => {\n            const {left, right} = row\n            return (\n              <tr key={i}>\n                <td>\n                  {renderHeaderElement(left || '')}\n                </td>\n                <td>\n                  {renderHeaderElement(right || '')}\n                </td>\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n    )\n  }\n}","import React from 'react'\nimport { RenderElement } from '../RenderElement'\n\nconst isArray = Array.isArray\n\nconst renderJsonMLChild = function(child, options) {\n  if (isArray(child)) {\n    try {\n      return <JsonML data={child} options={options} />\n    } catch(e) {\n      return <code className=\"error error-render\">{JSON.stringify(child)}</code>\n    }\n  } else {\n    return <RenderElement content={child} inherited={options} />\n  }\n}\n\nconst parseJsonML = function(data) {\n  if (typeof data[0] === 'string') {\n    const tagname = data[0]\n    let props = {}\n    let children = []\n    let i = 1\n    if (data[1]) {\n      if (data[1].constructor === Object) {\n        for (const k in data[1]) {\n          if (k === 'children') {\n            children = data[1][k]\n          } else {\n            props[k] = data[1][k]\n          }\n        }\n        i = 2\n      }\n    }\n    children = children.concat(data.slice(i))\n    return {tagname: tagname, props: props, children: children}\n  }\n  return null\n}\n\nexport const JsonML = ({data, options}) => {\n  const parsed = parseJsonML(data)\n  if (parsed) {\n    return React.createElement(\n      parsed.tagname, \n      parsed.props, \n      ...parsed.children.map(c => renderJsonMLChild(c, options))\n    )\n  } else {\n    return null\n  }\n}","import React from 'react'\nimport { defaultsDeep } from 'lodash'\nimport { renderElement } from '../RenderElement'\n\n\n\n\nconst QuestionLayout = ({\n  content, options={},\n  layout=[[['instructions', 'question', 'answer'], 'diagram']], \n  direction='column',\n  firstAreaFlag={found: false}\n}={}) => {\n\n  const className = `question-layout question-layout-${direction}`\n  const newDirection = {row: 'column', column: 'row'}[direction]\n\n  return (\n    <div className={className}>\n      {layout.map((area, i) => {\n        if (Array.isArray(area)) {\n          return (\n            <QuestionLayout key={`region-${i}`} \n              content={content} options={options}\n              layout={area} direction={newDirection} \n              firstAreaFlag={firstAreaFlag}\n            />\n          )\n        } else {\n          if (content[area]) {\n            const classNames = ['question-area', `question-area-${area}`]\n            if (!firstAreaFlag.found) {\n              classNames.push('question-area-first')\n              firstAreaFlag.found = true\n            }\n            return (\n              <div key={area} className={classNames.join(' ')}>\n                {renderElement(content[area], options)}\n              </div>\n            )\n          }\n        }\n        return null\n      })}\n    </div>\n  )\n}\n\n\nfunction isMultipleChoice(data, options={}) {\n  if (options.isMultipleChoice !== undefined) {\n    return options.isMultipleChoice\n  }\n  if (data.answer && typeof data.answer !== 'string') {\n    if (data.answer.choices) {\n      return true\n    }\n  }\n  return false\n}\n\n\nexport const Question = ({data, options={}}) => {\n  const opts = defaultsDeep({}, data._options || {}, options)\n  let {instructions, question, diagram} = data\n  const content = {instructions, question, diagram}\n  const {layout} = opts\n\n  // Determine what to render in answer space\n  if (isMultipleChoice(data, opts)) {\n    Object.assign(content, data.multipleChoice)\n    content.answer = {\n      type: 'answerchoices',\n      data: data.answer.choices,\n    }\n  } else {\n    Object.assign(content, data.freeResponse)\n    if (data.answer && data.answer.prompt !== undefined) {\n      if (data.answer.prompt !== null) {\n        if (typeof data.answer.prompt === 'string') {\n          content.answer = {\n            type: 'answerblanks',\n            data: [data.answer.prompt],\n          }\n        } else if (Array.isArray(data.answer.prompt)) {\n          content.answer = {\n            type: 'answerblanks',\n            data: data.answer.prompt,\n          }\n        } else {\n          content.answer = data.answer.prompt\n        }\n      }\n    } else {\n      content.answer = {\n        type: 'emptyspace',\n        data: {height: '1cm', width: '2cm'}\n      }\n    }\n  }\n  return <QuestionLayout content={content} options={opts} layout={layout}/>\n}\n\n\nexport const NumberedQuestion = ({data, options}) => {\n  return (\n    <div className='question-wrapper'>\n      <Question data={data} options={options} />\n    </div>\n  )\n}\n\nexport const AnswerKey = ({data, options={}}) => {\n  const letters = 'abcdefg'\n  if (isMultipleChoice(data, options)) {\n    if (data.answer.choices && data.answer.correctIndex !== undefined) {\n      if (Array.isArray(data.answer.correctIndex)) {\n        return data.answer.correctIndex.map(i => letters[i]).join(', ')\n      } else {\n        return letters[data.answer.correctIndex]\n      }\n    }\n  }\n  if (data.answer !== undefined && data.answer !== null) {\n    if (data.answer.correct) {\n      return renderElement(data.answer.correct, options)\n    }\n    if (data.answer.type || typeof data.answer === 'string' || typeof data.answer === 'number') {\n      return renderElement(data.answer, options)\n    }\n  }\n  return null\n}","import {\n  EmptySpace,\n  Html,\n  Markdown,\n  Text,\n  VectorGraphic,\n  Vega,\n  VegaLite\n} from './primaryTypes'\n\nimport {\n  AnswerBlanks,\n  AnswerChoices,\n  AnswerKey,\n  Container,\n  Header,\n  JsonML,\n  List, Table,\n  NumberedQuestion,\n  Question,\n} from './secondaryTypes'\n\nexport const renderTypes = {\n  answerkey: AnswerKey,\n  answerblanks: AnswerBlanks,\n  answerchoices: AnswerChoices,\n  //'answer-choices': AnswerChoices,\n  container: Container,\n  emptyspace: EmptySpace,\n  header: Header,\n  html: Html,\n  jsonml: JsonML,\n  list: List,\n  markdown: Markdown,\n  'question-nonumber': Question,\n  question: NumberedQuestion,\n  table: Table,\n  text: Text,\n  vectorgraphic: VectorGraphic,\n  vega: Vega,\n  'vega-lite': VegaLite,\n}\n\n\n// If type is undefined:\nexport const detectType = function(elem) {\n  if (Array.isArray(elem)) return 'list'\n  if (typeof elem === 'string') return 'text'\n  if (typeof elem === 'number') return 'text'\n}\n\nexport default renderTypes\n","import React from 'react'\nimport { renderElement } from '..'\n\nexport const Container = ({data, options}) => {\n  const {direction='column', items} = data\n  return (\n    <div style={{display: 'flex', flexDirection: direction}}>\n      {items.map((el, i) => (\n        <div key={i}>\n          {renderElement(el, options)}\n        </div>\n      ))}\n    </div>\n  )\n}","import React from 'react'\n\nexport const EmptySpace = ({data, options}) => {\n  const {width, height} = data\n  return (\n    <div style={{width, height, margin: '0'}} />\n  )\n}","import React from 'react'\n\nexport const Html = ({data}) => {\n  return (\n    <span dangerouslySetInnerHtml={{__html: data}}/>\n  )\n}","import React from 'react'\nimport { renderElement } from '..'\n\nexport const List = ({data, options}) => {\n  const {type='lower-roman', spaceAfterItem='0', items} = data\n  return (\n    <ol style={{listStyleType: type}}>\n      {items.map((elem, i) => <li key={i} style={{marginBottom: spaceAfterItem}}>{renderElement(elem, options)}</li>)}\n    </ol>\n  )\n}","import React from 'react'\nimport { renderElement } from '..'\n\nexport const Table = ({data, options}) => {\n  const {headings=[], rows=[]} = data\n  return (\n    <table style={{margin: '2mm'}}>\n      {headings.length > 0 ? (\n        <thead>\n          <tr>\n            {headings.map((h,i) => <th key={i}>{renderElement(h, options)}</th>)}\n          </tr>\n        </thead>\n      ) : null}\n      <tbody>\n        {rows.map((r,i) => (\n          <tr key={i}>\n            {r.map((d,i) => <td key={i}>{renderElement(d, options)}</td>)}\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  )\n}","import React from 'react'\nimport * as VG from './VG'\n\nconst SvgJsonML = (data, options) => {\n  try {\n    if (typeof data === 'string') {\n      return data\n    }\n    let [type, props, ...children] = data\n    if (props) {\n      if (Array.isArray(props) || typeof props === 'string') {\n        children.splice(0,0,props)\n        props = {}\n      }\n    }\n    const renderType = VG[type]\n    return React.createElement(renderType, props, ...children.map(c => SvgJsonML(c, options)))\n  } catch(e) {\n    console.error(e)\n    return null\n  }\n}\n\nexport const VectorGraphic = ({data, options}) => SvgJsonML(data, options)\n","import React from 'react'\nimport ReactVega from 'react-vega'\nimport ReactVegaLite from 'react-vega-lite'\n\nexport const Vega = ({data, options}) => {\n  return (\n    <ReactVega spec={data} />\n  )\n}\n\nexport const VegaLite = ({data, options}) => {\n  return (\n    <ReactVegaLite spec={data} />\n  )\n}","import React from 'react'\nimport { defaultsDeep } from 'lodash'\nimport { renderTypes, detectType } from './renderTypes'\n\n\nfunction renderAs(type, data, options) {\n  const RenderType = renderTypes[type]\n  if (RenderType) {\n    return (\n      <RenderType \n        data={data} \n        options={options} \n      />\n    )\n  } else {\n    console.error(`No render method for type ${type}`)\n    return <code className='error-failed-render'>{JSON.stringify(data)}</code>\n  }\n}\n\nconst isArray = Array.isArray\n\nexport const RenderElement = ({content, inherited}) => renderElement(content, inherited)\n\nexport const renderElement = function(content, inherited) {\n  try {\n    if (typeof content === 'string' || typeof content === 'number') {\n      return renderAs('text', content, inherited)\n    }\n    if (isArray(content)) {\n      return renderAs('list', {items: content}, inherited)\n    }\n    let {type, data, options} = content\n    if (!type) {\n      type = detectType(data)\n    }\n    if (data) {\n      return renderAs(type, data, inherited ? defaultsDeep({}, options, inherited) : options)\n    }\n    return <code className='error-failed-render'>{JSON.stringify(content)}</code>\n  } catch(e) {\n    console.error(e)\n    return <code className='error-failed-render'>{JSON.stringify(content)}</code>\n  }\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { renderElement } from '..'\n\n\n\n\nclass DefaultEditor extends React.Component {\n  static propTypes = {\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n    element: PropTypes.object.isRequired,\n    onUpdateElement: PropTypes.func.isRequired,\n    onDeleteElement: PropTypes.func.isRequired,\n    onRequestClose: PropTypes.func,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      type: props.element.type,\n      data: props.element.data || {},\n      options: props.element.options || {},\n    }\n  }\n\n  updateAndClose = () => {\n    this.props.onUpdateElement(this.props.id, this.state)\n    this.props.onRequestClose()\n  }\n\n  deleteAndClose = () => {\n    this.props.onDeleteElement(this.props.id)\n    this.props.onRequestClose()\n  }\n\n  setData(data) {\n    this.setState({data: data})\n  }\n\n  revertChanges = () => {\n    this.setState({\n      type: this.props.element.type,\n      data: this.props.element.data || {},\n      options: this.props.element.options || {},\n    })\n  }\n\n  renderEditor() {\n    return <div>Editing is not yet implemented for this type of element.</div>\n  }\n\n  renderPreview() {\n    return (\n      <div className='document' style={{\n        padding: '5mm', \n        margin: '5mm', \n        border: '1px solid grey', \n        backgroundColor: 'white',\n        overflow: 'clip',\n      }}>\n        {renderElement(this.state)}\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <>\n        <div style={{\n          width: '100%',\n          display: 'grid', \n          gridTemplateColumns: 'auto auto auto 1fr auto',\n          margin: '0 0 5mm 0',\n        }}>\n          <button onClick={this.updateAndClose}>Apply Changes</button>\n          <button onClick={this.revertChanges}>Revert Changes</button>\n          <button onClick={this.props.onRequestClose}>Cancel</button>\n          <span />\n          <button onClick={this.deleteAndClose} style={{justifySelf: 'right'}}>Delete</button>\n        </div>\n        {this.renderEditor()}\n        {this.renderPreview()}\n      </>\n    )\n  }\n}\n\n\nexport default DefaultEditor","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\n\n\nexport default class Header extends DefaultEditor {\n\n  headingUpdate(row, lr, text) {\n    let newrow = {...this.state.data[row]}\n    newrow[lr] = text\n    let newdata = [...this.state.data]\n    newdata[row] = newrow\n    this.setData(newdata)\n  }\n\n  headingAddRow = () => {\n    const newdata = [...this.state.data, {left: '', right: ''}]\n    this.setData(newdata)\n  }\n\n  headingRemoveRow = () => {\n    const newdata = this.state.data.slice(0,-1)\n    this.setData(newdata)\n  }\n\n  renderEditor() {\n    const data = this.state.data\n    const inputStyle = {\n      width: '100%',\n      borderStyle: 'dashed',\n      //fontSize: '0.8em',\n      //fontFamily: 'var(--doc-font-family, monospace)',\n      margin: '1mm',\n      padding: '1mm',\n    }\n    return (\n      <div>\n      <p>\n        Underscores will be translated into a blank underlined space.\n      </p>\n      <table className='header'>\n        <tbody>\n          {data.map((row, i) => {\n            const {left, right} = row\n            return (\n              <tr key={i} >\n                <td style={{border: 'none', padding: '0 1em 0 0'}}>\n                  <input \n                    onChange={(evt) => this.headingUpdate(i, 'left', evt.target.value)}\n                    value={left || ''} \n                    style={inputStyle}\n                  />\n                </td>\n                <td style={{border: 'none', padding: '0 1em 0 0'}}>\n                  <input \n                    onChange={(evt) => this.headingUpdate(i, 'right', evt.target.value)}\n                    value={right || ''} \n                    style={inputStyle}\n                  />\n                </td>\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n      <button onClick={this.headingRemoveRow}>-</button>\n      <button onClick={this.headingAddRow}>+</button>\n      </div>\n    )\n  }\n\n}","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\nimport { renderElement } from '..'\nimport styles from './styles.module.css'\n\nfunction checkMC(data, options) {\n  if (options.isMultipleChoice === undefined) {\n    if (data.answer && data.answer.choices) {\n      return true\n    } else {\n      return false\n    }\n  } else {\n    return options.isMultipleChoice\n  }\n}\n\n\nexport default class Question extends DefaultEditor {\n  constructor(props) {\n    super(props)\n    this.state.options.isMultipleChoice = checkMC(this.state.data, this.state.options)\n  }\n\n  revertChanges = () => {\n    const newState = ({\n      type: this.props.element.type,\n      data: this.props.element.data || {},\n      options: this.props.element.options || {},\n    })\n    newState.options.isMultipleChoice = checkMC(newState.data, newState.options)\n    this.setState(newState)\n  }\n\n  toggleMC = evt => {\n    this.isMC = evt.target.checked\n    this.setState({options: {...this.state.options, isMultipleChoice: evt.target.checked}})\n  }\n\n  updateVersionDefault(k, v) {\n    this.setState({data: {...this.state.data, [k]: v}})\n  } \n  updateVersionMC(k, v) {\n    const multipleChoice = {...this.state.data.multipleChoice}\n    if (v === '') {\n      delete multipleChoice[k]\n    } else {\n      multipleChoice[k] = v\n    }\n    this.setState({data: {...this.state.data, multipleChoice}})\n  }\n  updateVersionFR(k, v) {\n    const freeResponse = {...this.state.data.freeResponse}\n    if (v === '') {\n      delete freeResponse[k]\n    } else {\n      freeResponse[k] = v\n    }\n    this.setState({data: {...this.state.data, freeResponse}})\n  }\n\n  updateInstructions = evt => this.updateVersionDefault('instructions', evt.target.value)\n  updateInstructionsMC = evt => this.updateVersionMC('instructions', evt.target.value)\n  updateInstructionsFR = evt => this.updateVersionFR('instructions', evt.target.value)\n\n  updateQuestion = evt => this.updateVersionDefault('question', evt.target.value)\n  updateQuestionMC = evt => this.updateVersionMC('question', evt.target.value)\n  updateQuestionFR = evt => this.updateVersionFR('question', evt.target.value)\n\n  renderInstructionsOrQuestionInputs(fieldname) {\n    const isMC = this.state.options.isMultipleChoice\n    const overrides = isMC ? this.state.data.multipleChoice || {} : this.state.data.freeResponse || {}\n    const updaters = {\n      instructions: {\n        default: this.updateInstructions,\n        mc: this.updateInstructionsMC,\n        fr: this.updateInstructionsFR,\n      },\n      question: {\n        default: this.updateQuestion,\n        mc: this.updateQuestionMC,\n        fr: this.updateQuestionFR,\n      }\n    }[fieldname]\n    return (\n      <>\n      <td>\n        <textarea value={this.state.data[fieldname]} \n          onChange={updaters.default}\n          cols=\"40\"\n          rows=\"4\"\n        />\n      </td>\n      <td>\n        {isMC ? (\n          <textarea value={overrides[fieldname] || ''} \n            onChange={updaters.mc}\n            cols=\"40\"\n            rows=\"4\"\n          />\n        ) : (\n          <textarea value={overrides[fieldname] || ''} \n            onChange={updaters.fr}\n            cols=\"40\"\n            rows=\"4\"\n          />\n        )}\n      </td>\n      </>\n    )\n  }\n\n\n  renderDiagram() {\n    return null\n  }\n\n  renderMCToggle() {\n    if (this.state.data.answer && this.state.data.answer.choices) {\n      return (\n        <>\n          Multiple Choice:\n          <input type=\"checkbox\" \n            checked={this.state.options.isMultipleChoice}\n            onChange={this.toggleMC}\n          />\n        </>\n      )\n    }\n    return null\n  }\n\n  renderEditor() {\n    const isMC = this.state.options.isMultipleChoice\n    const data = this.state.data\n\n    return (\n      <div>\n        {this.renderMCToggle()}\n        <table>\n          <tbody>\n            <tr>\n              <td></td>\n              <td style={{textAlign: 'center'}}>Default</td>\n              <td style={{textAlign: 'center'}}>{isMC ? 'Multiple Choice' : 'Free Response'} Version</td>\n            </tr>\n            <tr>\n              <td>Instructions</td>\n              {this.renderInstructionsOrQuestionInputs('instructions')}\n            </tr>\n            <tr>\n              <td>Question</td>\n              {this.renderInstructionsOrQuestionInputs('question')}\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n\n  renderPreview() {\n\n    return (\n      <>\n      {super.renderPreview()}\n      <div className='document' style={{\n        padding: '5mm', \n        margin: '0 5mm 5mm 5mm ', \n        border: '1px solid grey', \n        backgroundColor: 'white',\n        overflow: 'clip',\n        fontSize: '1em',\n      }}>\n        {renderElement({...this.state, type: 'answerkey'})}\n      </div>\n      </>\n    )\n  }\n\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { updateElement, deleteElement } from '../../actions/document'\n\nimport DefaultEditor from './DefaultEditor'\nimport Header from './Header'\nimport Question from './Question'\n\n\n\nconst EditElement = (props) => {\n  if (props.element.type === 'header') return <Header {...props} />\n  if (props.element.type === 'question') return <Question {...props} />\n  return <DefaultEditor {...props} />\n}\n\n\nconst mapDispatchToProps = dispatch => ({\n  onUpdateElement: (id, elem) => dispatch(updateElement(id, elem)),\n  onDeleteElement: (id) => dispatch(deleteElement(id)),\n})\n\nexport default connect(null, mapDispatchToProps)(EditElement)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport ReactModal from 'react-modal'\nimport { RenderElement } from '../../renderMethods'\n//import { updateElement, deleteElement } from '../../actions/document'\nimport EditElement from '../../renderMethods/editing'\n\n\nclass TopLevelElement extends React.Component {\n  static propTypes = {\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n    element: PropTypes.object.isRequired,\n    canEdit: PropTypes.bool.isRequired,\n  }\n\n  static defaultProps = {\n    canEdit: false,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      modal: 'none',\n    }\n  }\n\n  openEditor = () => this.setState({modal: 'edit'})\n  closeModal = () => this.setState({modal: 'none'})\n\n  render() {\n    const divprops = (\n      this.props.canEdit \n      ? {className: 'editable', onDoubleClick: this.openEditor, title: 'Double-click to edit'} \n      : {}\n    )\n    return (\n      <>\n      <div {...divprops}>\n        <RenderElement content={this.props.element} />\n      </div>\n      <ReactModal isOpen={this.state.modal === 'edit'}\n        onRequestClose={this.closeModal}\n        style={{\n          //content: {\n          //  top: '20%'\n          //}\n        }}\n      >\n        <EditElement\n          id={this.props.id}\n          element={this.props.element}\n          onRequestClose={this.closeModal}\n        />\n      </ReactModal>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  canEdit: state.config.allowEditing,\n})\n//const mapDispatchToProps = dispatch => ({\n//})\n\nexport default connect(mapStateToProps)(TopLevelElement)","// Sizes from papercss, measurements in mm\n\nexport const portrait = {\n  A3: { width: 297, height: 419 },\n  A4: { width: 210, height: 296 },\n  A5: { width: 148, height: 209 },\n  letter: { width: 216, height: 279 },\n  legal: { width: 216, height: 356 },\n}\n\nexport const landscape = {\n  A3: { width: 420, height: 296 },\n  A4: { width: 297, height: 209 },\n  A5: { width: 210, height: 147 },\n  letter: { width: 280, height: 215 },\n  legal: { width: 357, height: 215 },\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { addPageBreakBefore } from '../../actions/document'\nimport TopLevelElement from './TopLevelElement'\nimport { portrait, landscape } from './pagesize'\n\n\n\nclass MeasuredPage extends React.Component {\n  static propTypes = {\n    headerID: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    footerID: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    contentIDs: PropTypes.array.isRequired,\n    content: PropTypes.object.isRequired,\n    pageSize: PropTypes.string.isRequired,\n    pageOrientation: PropTypes.string.isRequired,\n    pageMargin: PropTypes.string.isRequired,\n    addPageBreakBefore: PropTypes.func.isRequired,\n    pageNumber: PropTypes.number,\n  }\n\n  static defaultProps = {\n    contentIDs: [],\n    pageSize: 'letter',\n    pageOrientation: 'portrait',\n    pageMargin: '10mm 10mm 10mm 10mm',\n  }\n\n  constructor(props) {\n    super(props)\n    this.inner = React.createRef()\n    this.outer = React.createRef()\n    this.state = {overflows: false}\n  }\n\n  innerH = () => this.inner.current.clientHeight\n  outerH = () => this.outer.current.clientHeight\n  overflows = () => this.innerH() > this.outerH()\n\n  componentDidUpdate() {\n    const oldstate = this.state.overflows\n    const newstate = this.overflows()\n    if (oldstate !== newstate) {\n      if (newstate) {\n        this.onOverflow()\n      }\n      this.setState({overflows: newstate})\n      this.forceUpdate()\n    }\n  }\n\n  onOverflow() {\n    this.props.addPageBreakBefore(this.props.contentIDs[this.props.contentIDs.length-1])\n  }\n\n  getPageSize()  {\n    if (this.props.pageOrientation === 'landscape') {\n      return landscape[this.props.pageSize]\n    } else {\n      return portrait[this.props.pageSize]\n    }\n  }\n\n  getOuterStyle() {\n    const {width, height} = this.getPageSize()\n    return {width: `${width}mm`, height: `${height}mm`}\n  }\n\n  getInnerStyle() {\n    return {\n      height: 'fit-content',\n      margin: '0',\n      padding: this.props.pageMargin,\n    }\n  }\n\n  getHeaderID() {\n    if (this.props.pageNumber in this.props.headers) {\n      return this.props.pageNumber\n    }\n    return 'default'\n  }\n\n  render() {\n    let outerclassname = (\n      this.state.overflows \n      ? 'page-outer page-overflowing' \n      : 'page-outer'\n    )\n\n    const outerstyle = this.getOuterStyle()\n    const innerstyle = this.getInnerStyle()\n    const headerID = this.getHeaderID()\n    return (\n      <div className={outerclassname} ref={this.outer} style={outerstyle}>\n        <div className='page-inner' ref={this.inner} style={innerstyle}>\n          <TopLevelElement key={`header-${headerID}`}\n            id={`header.${headerID}`}\n            element={this.props.headers[headerID]}\n          />\n          {this.props.contentIDs.map((id) => (\n            <TopLevelElement key={`contentElement-${id}`}\n              element={this.props.content[id]}\n              id={id}\n            />\n          ))}\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  headers: state.document.headers,\n  footers: state.document.footers,\n  content: state.document.content,\n  pageSize: state.style.pageSize,\n  pageOrientation: state.style.pageOrientation,\n  pageMargin: state.style.pageMargin,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  addPageBreakBefore: (id) => dispatch(addPageBreakBefore(id)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MeasuredPage)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { portrait, landscape } from './pagesize'\n\n\nclass Page extends React.Component {\n\n  getPageSize()  {\n    if (this.props.orientation === 'landscape') {\n      return landscape[this.props.size]\n    } else {\n      return portrait[this.props.size]\n    }\n  }\n\n  getOuterStyle() {\n    const {width, height} = this.getPageSize()\n    return {\n      width: `${width}mm`, \n      height: `${height}mm`,\n      padding: '0',\n    }\n  }\n\n  getInnerStyle() {\n    return {\n      margin: '0',\n      width: '100%',\n      height: '100%',\n      padding: this.props.margin,\n    }\n  }\n\n  render() {\n    return (\n      <div className='page-outer' style={this.getOuterStyle()}>\n        <div className='page-inner' style={this.getInnerStyle()}>\n          {this.props.children}\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  size: state.style.pageSize,\n  orientation: state.style.pageOrientation,\n  margin: state.style.pageMargin,\n})\n\nexport default connect(mapStateToProps)(Page)","import React from 'react'\nimport { connect } from 'react-redux'\nimport Page from './Page'\nimport { RenderElement } from '../../renderMethods'\n\n\nconst AnswerKey = (props) => {\n  return (\n    <Page>\n      <h3>Answer Key</h3>\n      <div className='answerkey'>\n        {props.contentIDs.map(id => {\n          const element = props.content[id]\n          if (element.type === 'question') {\n            return (\n              <div key={`answer-${id}`} className='answerkey-item'>\n                <RenderElement content={{...element, type: 'answerkey'}} />\n              </div>\n            )\n          } else {\n            return null\n          }\n        })}\n      </div>\n    </Page>\n  )\n}\n\nconst mapStateToProps = state => ({\n  contentIDs: state.document.order,\n  content: state.document.content\n})\n\nexport default connect(mapStateToProps)(AnswerKey)","import React from 'react'\n//import Page from './Page'\nimport MeasuredPage from './MeasuredPage'\nimport AnswerKey from './AnswerKey'\nimport { connect } from 'react-redux'\nimport { MarkerDefs } from '../../renderMethods/primaryTypes/VG'\n\n\nimport Scratch from './scratchpage'\n\n\nconst Document = (props) => {\n  const len = props.contentIDs.length - props.hidden\n  const visibleIDs = props.contentIDs.slice(0,len)\n  let prev = 0\n  let slices = []\n  for (const i of props.pagebreaks) {\n    if (i < len) {\n      slices.push([prev, i])\n      prev = i\n    }\n  }\n  slices.push([prev])\n  const pages = slices.map(s => visibleIDs.slice(...s))\n\n  return (\n    <div className='document'>\n      <svg height='0' width='0'>\n        <defs>\n          <MarkerDefs />\n        </defs>\n      </svg>\n      {(\n        pages.length > 0 \n        ? pages.map((ids,i) => (\n          <MeasuredPage key={`page-${i+1}`} \n            pageNumber={i+1}\n            contentIDs={ids}\n          />\n        )) : null\n      )}\n      {props.showAnswerKey ? <AnswerKey /> : null}\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  contentIDs: state.document.order,\n  pagebreaks: state.document.pagebreaks,\n  showAnswerKey: state.config.showAnswerKey,\n  style: state.style,\n  hidden: state.config.numberHidden,\n})\n\nexport default connect(mapStateToProps)(Document)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { addLocalFont } from '../../../actions/config'\n\nclass AddLocalFont extends React.Component {\n  static propTypes = {\n    addLocalFont: PropTypes.func.isRequired,\n    buttonLabel: PropTypes.string.isRequired,\n  }\n\n  static defaultProps = {\n    buttonLabel: 'Add'\n  }\n\n  constructor(props) {\n    super(props)\n    this.input = React.createRef()\n  }\n\n  addFont = () => {\n    const fontName = this.input.current.value\n    this.props.addLocalFont({family: fontName})\n  }\n\n  render() {\n    return (\n      <>\n      <input ref={this.input} spellCheck={false} />\n      <button onClick={this.addFont}>{this.props.buttonLabel}</button>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addLocalFont: (font) => dispatch(addLocalFont(font)),\n})\n\nexport default connect(null, mapDispatchToProps)(AddLocalFont)","export const ADD_LOCAL_FONT = 'ADD_LOCAL_FONT'\nexport const SET_ALLOW_EDITING = 'SET_ALLOW_EDITING'\nexport const SET_FONTFAMILY_UI = 'SET_FONTFAMILY_UI'\nexport const SET_SHOW_ANSWERKEY = 'SET_SHOW_ANSWERKEY'\nexport const SET_HIDDEN_COUNT = 'SET_HIDDEN_COUNT'\n\nexport const addLocalFont = (font) => ({\n  type: 'ADD_LOCAL_FONT',\n  payload: font,\n})\n\nexport const setAllowEditing = (b) => ({\n  type: SET_ALLOW_EDITING,\n  payload: b,\n})\n\nexport const setFontFamilyUI = (inputType) => ({\n  type: SET_FONTFAMILY_UI,\n  payload: inputType,\n})\n\nexport const setShowAnswerKey = (bool) => ({\n  type: SET_SHOW_ANSWERKEY,\n  payload: bool,\n})\n\nexport const setHiddenCount = (n) => ({\n  type: SET_HIDDEN_COUNT,\n  payload: n,\n})\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setFontFamilyUI } from '../../../actions/config'\n\nclass FontFamilyUI extends React.Component {\n  static propTypes = {\n    current: PropTypes.string,\n    setFontFamilyUI: PropTypes.func.isRequired\n  }\n\n  setFontFamilyUI = (evt) => {\n    this.props.setFontFamilyUI(evt.target.value)\n  }\n\n  render() {\n    return (\n      <select onChange={this.setFontFamilyUI} value={this.props.current}>\n        <option value='input'>Input</option>\n        <option value='select'>Menu</option>\n      </select>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.config.fontFamilyUI\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setFontFamilyUI: (inputtype) => dispatch(setFontFamilyUI(inputtype)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontFamilyUI)","export const SET_DOCUMENT_FONTFAMILY = 'SET_DOCUMENT_FONTFAMILY'\nexport const SET_DOCUMENT_FONTSIZE = 'SET_DOCUMENT_FONTSIZE'\nexport const SET_MATH_FONTSIZE = 'SET_MATH_FONTSIZE'\nexport const SET_MATH_FONTWEIGHT = 'SET_MATH_FONTWEIGHT'\nexport const SET_PAGE_MARGIN = 'SET_PAGE_MARGIN'\nexport const UPDATE_GRAPHSTYLE = 'UPDATE_GRAPHSTYLE'\nexport const RESET_GRAPHSTYLE = 'RESET_GRAPHSTYLE'\n\n// Document font\nexport const setDocumentFontFamily = (family) => ({\n  type: SET_DOCUMENT_FONTFAMILY,\n  payload: family\n})\nexport const setDocumentFontSize = (size) => ({\n  type: SET_DOCUMENT_FONTSIZE,\n  payload: size\n})\n\n// Document Math Font\nexport const setMathFontSize = (size) => ({\n  type: SET_MATH_FONTSIZE,\n  payload: size\n})\nexport const setMathFontWeight = (weight) => ({\n  type: SET_MATH_FONTWEIGHT,\n  payload: weight\n})\n\n// Page Layout\nexport const setPageMargin = (margins) => ({\n  type: SET_PAGE_MARGIN,\n  payload: margins\n})\n\n// Graph Style\nexport const updateGraphStyle = (props) => ({\n  type: UPDATE_GRAPHSTYLE,\n  payload: props,\n})\n\nexport const resetGraphStyle = () => ({\n  type: RESET_GRAPHSTYLE,\n})","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setDocumentFontFamily } from '../../../actions/style'\n\n\nclass FontFamilyInput extends React.Component {\n  static propTypes = {\n    current: PropTypes.string,\n    setDocumentFontFamily: PropTypes.func,\n  }\n\n  constructor(props) {\n    super(props)\n    this.setCss(props.current)\n  }\n\n  setCss(fontFamily) {\n    document.body.style.setProperty('--doc-font-family', fontFamily)\n  }\n\n  setFontFamily(fontFamily) {\n    this.setCss(fontFamily)\n    this.props.setDocumentFontFamily(fontFamily)\n  }\n\n  onChange = (evt) => {\n    const value = evt.target.value\n    const fontFamily = value.slice(0,7) === '_LOCAL_' ? value.slice(8) : value\n    this.setFontFamily(fontFamily)\n  }\n\n  render() {\n    return (\n      <input \n        value={this.props.current}\n        spellCheck={false}\n        onChange={this.onChange}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.style.fontFamily,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setDocumentFontFamily: (family) => dispatch(setDocumentFontFamily(family)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontFamilyInput)","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { setDocumentFontFamily } from '../../../actions/style'\n\n\nconst GoogleFonts = [\n  {family: 'Computer Modern Serif'},\n  {family: 'Lora'},\n  {family: 'Source Sans Pro'},\n]\n\nconst BrowserFonts = [\n  {label: 'Serif (browser default)', family: 'serif'},\n  {label: 'Sans-serif (browser default)', family: 'sans-serif'},\n]\n\nfunction fontSort(a, b) {\n  const aName = (a.label ? a.label : a.family).toUpperCase()\n  const bName = (b.label ? b.label : b.family).toUpperCase()\n  if (aName < bName) { return -1 }\n  if (aName > bName) { return 1}\n  return 0\n}\n\n\nfunction renderFontOption(font) {\n  const {family, label} = font\n  if (family === \"0\") {\n    const optionLabel = label ? label : \"---\"\n    return (\n      <option key={`font-null-${optionLabel}`}\n        value=\"0\"\n        disabled\n      >{optionLabel}</option>\n    )\n  } else {\n    const optionLabel = label ? label : family\n    return (\n      <option key={`font-family-option-${family}`}\n        value={family}\n        >{optionLabel}</option>\n    )\n  }\n}\n\n\n\n//////////////////////////////\n//\n// COMPONENT\n//\n////////////////////////////\n\n\nclass FontFamilySelect extends React.Component {\n  static propTypes = {\n    current: PropTypes.string,\n    localFonts: PropTypes.array.isRequired,\n    setDocumentFontFamily: PropTypes.func.isRequired,\n  }\n\n  static defaultProps = {\n    localFonts: [],\n  }\n\n  constructor(props) {\n    super(props)\n    this.setCss(props.current)\n  }\n\n  fontList = () => {\n    let result = [\n      ...GoogleFonts.sort(fontSort),\n      ...BrowserFonts, \n    ]\n    if (this.props.localFonts.length > 0) {\n      result.push({family: \"0\"})\n      result = result.concat(this.props.localFonts.sort(fontSort))\n    }\n    return result\n  }\n\n  setCss(fontFamily) {\n    document.body.style.setProperty('--doc-font-family', fontFamily)\n  }\n\n  setFontFamily(fontFamily) {\n    this.setCss(fontFamily)\n    this.props.setDocumentFontFamily(fontFamily)\n  }\n\n  onChange = (evt) => {\n    const value = evt.target.value\n    const fontFamily = value.slice(0,7) === '_LOCAL_' ? value.slice(8) : value\n    if (fontFamily) {\n      this.setFontFamily(fontFamily)\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <select\n          value={this.props.current}\n          onChange={this.onChange}\n        >\n          {this.fontList().map((f) => renderFontOption(f))}\n        </select>\n      </>\n    )\n  }\n}\n\n\nconst mapStateToProps = state => ({\n  current: state.style.fontFamily,\n  localFonts: [...state.config.localFonts],\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setDocumentFontFamily: (family) => dispatch(setDocumentFontFamily(family)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontFamilySelect)","import React from 'react'\nimport { connect } from 'react-redux'\nimport FontFamilyInput from './FontFamilyInput'\nimport FontFamilySelect from './FontFamilySelect'\n\nconst FontFamily = ({fontFamilyUI}) => (\n  fontFamilyUI === 'input' ? <FontFamilyInput/> : <FontFamilySelect/>\n)\n\nconst mapStateToProps = state => ({fontFamilyUI: state.config.fontFamilyUI})\n\nexport default connect(mapStateToProps)(FontFamily)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setDocumentFontSize } from '../../../actions/style'\n\n\nclass FontSizeSelect extends React.Component {\n\n  static propTypes = {\n    current: PropTypes.string.isRequired,\n    setDocumentFontSize: PropTypes.func.isRequired,\n  }\n\n  constructor(props) {\n    super(props)\n    this.setCss(props.current)\n  }\n\n  setCss(fontSize) {\n    document.body.style.setProperty('--doc-font-size', fontSize)\n  }\n\n  setDocFontSize(size) {\n    this.setCss(size)\n    this.props.setDocumentFontSize(size)\n  }\n\n  onChange = (evt) => {\n    this.setDocFontSize(evt.target.value)\n  }  \n\n  renderSizeOptions() {\n    const options = [5, 6, 7, 8, 9, 10, 11, 12, 13]\n    return (\n      <>\n      {options.map((s) => {\n        const size = `${s}pt`\n        return (\n          <option \n            value={size}\n            key={`fontOption-${size}`}\n          >{size}</option>\n        )\n      })}\n      </>\n    )\n  }\n\n  render() {\n    return (\n      <>\n        <select \n          value={this.props.current}\n          onChange={this.onChange}\n        >\n          {this.renderSizeOptions()}\n        </select>\n      </>\n    )\n  }\n}\n\n\nconst mapStateToProps = state => ({\n  current: state.style.fontSize,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setDocumentFontSize: (size) => dispatch(setDocumentFontSize(size)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontSizeSelect)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setMathFontSize, setMathFontWeight } from '../../../actions/style'\n\nclass MathFontSettings extends React.Component {\n  static propTypes = {\n    currentSize: PropTypes.string,\n    currentWeight: PropTypes.string,\n    setMathFontSize: PropTypes.func.isRequired,\n    setMathFontWeight: PropTypes.func.isRequired,\n  }\n\n  setSizeCss(size) {\n    document.body.style.setProperty('--doc-math-font-size', size)\n  }\n\n  setWeightCss(weight) {\n    document.body.style.setProperty('--doc-math-font-weight', weight)\n  }\n\n  setSize(size) {\n    this.setSizeCss(size)\n    this.props.setMathFontSize(size)\n  }\n\n  setWeight(weight) {\n    this.setWeightCss(weight)\n    this.props.setMathFontWeight(weight)\n  }\n\n  onChangeSize = (evt) => {\n    this.setSize(evt.target.value)\n  }\n\n  onChangeWeight = (evt) => {\n    if (evt.target.checked) {\n      this.setWeight('bold')\n    } else {\n      this.setWeight('normal')\n    }\n  }\n\n  render() {\n    return (\n      <>\n        Relative Size:\n        <select\n          onChange={this.onChangeSize}\n          value={this.props.currentSize}\n        >\n          <option value='0.6em'>0.6</option>\n          <option value='0.7em'>0.7</option>\n          <option value='0.8em'>0.8</option>\n          <option value='0.9em'>0.9 (default)</option>\n          <option value='1em'>1.0</option>\n          <option value='1.1em'>1.1</option>\n          <option value='1.2em'>1.2</option>\n          <option value='1.3em'>1.3</option>\n          <option value='1.4em'>1.4</option>\n        </select>\n        Bold:\n        <input ref={this.bold} \n          onChange={this.onChangeWeight}\n          type=\"checkbox\"\n          checked={this.props.currentWeight === 'bold'}\n        />\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  currentSize: state.style.mathFontSize,\n  currentWeight: state.style.mathFontWeight,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setMathFontSize: (size) => dispatch(setMathFontSize(size)),\n  setMathFontWeight: (weight) => dispatch(setMathFontWeight(weight)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MathFontSettings)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { RenderElement } from '../../../renderMethods'\n\n\n\nconst tabsize = 2;\n\nfunction onKeyDown(evt) {\n  if (evt.keyCode === 9) { // handle tab\n    let target = evt.target;\n    const start = target.selectionStart;\n    const end = target.selectionEnd;\n    const value = target.value;\n    target.value = value.substring(0,start) + Array(tabsize).fill(' ').join('') + value.substring(end);\n    target.selectionStart = start + tabsize;\n    target.selectionEnd = end + tabsize;\n    evt.preventDefault();\n  } else if (evt.keyCode === 8) { // handle backspace\n    let target = evt.target;\n    const start = target.selectionStart;\n    if (start === target.selectionEnd) {\n      const value = target.value;\n      if (value.substring(start-tabsize, start) === Array(tabsize).fill(' ').join('')) {\n        target.value = value.substring(0,start-tabsize) + value.substring(start);\n        target.selectionStart = start - tabsize;\n        target.selectionEnd = start - tabsize;\n        evt.preventDefault();\n      }\n    }\n  }\n}\n\nclass TextPreview extends React.Component {\n  static propTypes = {\n    defaultValue: PropTypes.string,\n    renderType: PropTypes.string.isRequired\n  }\n\n  static defaultProps = {\n    renderType: 'text',\n    wrapperElement: 'div',\n  }\n\n  constructor(props) {\n    super(props)\n    const style = this.props.style || {}\n    this.inputStyle = style.input || {}\n    this.outputStyle = style.output || {}\n    this.input = React.createRef()\n    this.state = { text: props.defaultValue || '' }\n  }\n\n  updatePreview = (evt) => {\n    this.setState({ text: evt.target.value })\n  }\n\n  renderPreview() {\n    if (this.props.renderType === 'text') {\n      return this.state.text.split('\\n\\n').map((t,i) => (\n        <RenderElement key={i} content={t} />\n      ))\n    } else if (this.props.renderType === 'json') {\n      try {\n        const json = JSON.parse(this.state.text)\n        return <RenderElement content={json} />\n      } catch(e) {\n        return \"Failed to render\"\n      }\n    }\n  }\n\n  render() {\n    return (\n      <>\n      <this.props.wrapperElement className='text-preview-input' >\n        <textarea \n          style={this.inputStyle}\n          onChange={this.updatePreview}\n          onKeyDown={onKeyDown}\n          value={this.state.text}\n        />\n      </this.props.wrapperElement>\n      <this.props.wrapperElement className='text-preview-output' >\n        <div className='document' style={this.outputStyle}>\n          {this.renderPreview()}\n        </div>\n      </this.props.wrapperElement>\n      </>\n    )\n  }\n}\n\nexport default TextPreview","import AddLocalFont from './AddLocalFont'\nimport FontFamilyUI from './FontFamilyUI'\nimport FontFamily from './FontFamily'\nimport FontSize from './FontSize'\nimport FontSettings from './FontSettings'\nimport TextPreview from './TextPreview'\n\nexport {\n  FontFamily,\n  FontSize,\n  AddLocalFont,\n  FontFamilyUI,\n  FontSettings,\n  TextPreview\n}\n\nexport default FontSettings","import React from 'react'\nimport FontFamily from './FontFamily'\nimport MathFontSettings from './MathFontSettings'\nimport FontFamilyUI from './FontFamilyUI'\nimport AddLocalFont from './AddLocalFont'\nimport TextPreview from './TextPreview'\n\nconst previewtext = `To solve an equation of the form $$ax^2 + bx + c = 0$$, use the quadratic formula:\n\n$$$x = \\\\frac{-b \\\\pm \\\\sqrt{b^2 - 4ac}}{2a}$$$\n\nThe volume of a sphere is $$\\\\frac{4}{3}\\\\pi r^3$$.\n\nRemember that $$e^{i\\\\theta} = \\\\cos\\\\theta + i\\\\sin\\\\theta$$.`\n\n\nconst FontSettings = () => {\n  return (\n    <>\n      <h4>Document Font</h4>\n      <div>\n        Font Selection Method: <FontFamilyUI />\n      </div>\n      <div>\n        Font: <FontFamily/> \n      </div>\n      <div>\n        Add Local Font to Menu: <AddLocalFont buttonLabel=\"Add To List\" /> (You will then need to select it from the menu)\n      </div>\n      <h4>Math Font</h4>\n      <div style={{justifyItems: 'right'}}>\n        <MathFontSettings />\n      </div>\n      <h4>Preview</h4>\n      <div style={{display: 'flex', flexDirection: 'row', '--doc-font-size': '11pt'}}>\n        <TextPreview wrapperElement='div' defaultValue={previewtext} style={{input: {height: '100%'}, output: {height: '100%'}}}/>      \n      </div>\n    </>\n  )\n}\n\nexport default FontSettings","import React from 'react'\nimport { RenderElement } from '../../renderMethods'\nimport { TextPreview } from '../Settings/Font'\nimport styles from './styles.module.css'\n\nconst latexfmt = (...a) => String.raw(...a).replace('\\\\`', '`');\n\nconst examples = [\n  'Text can be _italic_, __bold__, or ___both___.',\n  'Or, *asterisks* will **accomplish** the ***same thing***.',\n  latexfmt`f: x --> x^3^ - 3x^2^ + 9x - 8 doesn't look as nice as $$f: x \\mapsto x^3 - 3x^2 + 9x - 8$$`,\n  latexfmt`**Markdown:** a~n~ = a~n-1~ + 2n - 1 , **LaTeX:** $$a_n = a_{n-1} + 2n - 1$$`,\n  latexfmt`There are two ways to write a fraction: $$\\frac{24}{18} = {4 \\over 3}$$`,\n  latexfmt`$$V = \\frac{4}{3}\\pi r^3$$`,\n  latexfmt`Use the quadratic formula to solve for $$x$$: $$$x = { -b \\pm \\sqrt{b^2 - 4ac} \\over 2a }$$$`,\n  latexfmt`Determine the measure of $$\\angle{ABC}$$.`,\n  latexfmt`$$\\overline{AB}$$ is a line segment. $$\\overleftrightarrow{CD}$$ is a line. $$\\overrightarrow{EF}$$ is a ray.`,\n  latexfmt`Prove that $$\\triangle{ABC} \\cong \\triangle{DEF}$$.`,\n  latexfmt`Given $$\\vec{u} = \\langle 3,5 \\rangle$$ and $$\\vec{v} = \\langle -4, 9 \\rangle$$, calculate $$\\vec{u} \\cdot \\vec{v}$$.`,\n  latexfmt`Remember that $$re^{i\\theta} = r(\\cos\\theta + i\\sin\\theta)$$`,\n  latexfmt`$$$\\int_a^b f'(x)dx = f(b) - f(a)$$$`,\n  latexfmt`$$$\\sum_{n=0}^{\\infty}\\frac{f^{(n)}(a)}{n!}(x-a)^n$$$`,\n  latexfmt`$$\\lnot (p \\land q) \\iff (\\lnot p \\lor \\lnot q)$$`,\n\n  latexfmt`$$$\na_{n+1} = \\left\\{\\begin{array}{r l}\n  3a_n + 1 & \\text{if $a_n$ is odd} \\\\\n  a_n \\div 2 & \\text{if $a_n$ is even} \\\\\n\\end{array}\\right.\n$$$`,\n\n  latexfmt`$$$\n\\left[\\begin{array}{r r r}\n   1 &   4 &  -9 \\\\\n  16 & -25 &  66 \\\\\n  49 &  64 & -81 \\\\\n\\end{array}\\right]\n$$$`,\n\n  latexfmt`$$\\forall\\ \\epsilon > 0, x \\in \\mathbb{R},\\ \\exists\\ \\delta > 0 \\text{ such that } 0 < |x-c| < \\delta \\implies |f(x) - L| < \\epsilon$$`,\n\n]\n\n/*\nconst RenderExample = ({text}) => {\n  return (\n    <>\n    <pre style={{\n      backgroundColor: 'rgba(255,255,200,0.5)',\n      border: '1px solid black',\n      padding: '0.5rem',\n      overflowX: 'scroll',\n    }}>{text}</pre>\n    <span className='document' \n      style={{\n      paddingLeft: '0.5rem',\n      fontSize: '1em',\n    }}>\n      <RenderElement content={{type: 'text', data: text}}/>\n    </span>\n    </>\n  )\n}\n*/\n\nconst RenderExample = ({text}) => (\n  <tr>\n    <TextPreview wrapperElement='td' defaultValue={text} />\n  </tr>\n)\n\nconst LatexExamples = (props) => {\n  return (\n    <div style={{padding: '3mm 0 3mm 0'}}>\n    <div>\n      <span>Examples:</span>\n      <button onClick={props.onRequestClose}>Close</button>\n    </div>\n    <table className={styles.LatexExamples}>\n      <tbody>\n      {examples.map((s, i) => (\n          <RenderExample key={`render-example-${i}`} text={s} />\n      ))}\n      </tbody>\n    </table>\n    <div>\n      <button onClick={props.onRequestClose}>Close</button>\n    </div>\n    </div>\n  )\n}\n\nexport default LatexExamples","import React from 'react'\nimport { RenderElement } from '../../renderMethods'\nimport styles from './styles.module.css'\nimport math from 'mathjs'\n\n\nconst round = function(v, n) {\n  const d = Math.pow(10,n)\n  return Math.floor(d*v) / d\n}\n\nfunction calcParametric(x, y, domain, step) {\n  const f = (t) => ({x: round(x(t), 6), y: round(y(t), 6)})\n  let paths = []\n  let points = []\n  let t = domain[0]\n  while (t < domain[1]) {\n    try {\n      const pt = f(t)\n      if (points.length > 0 && Math.abs(pt.y - points[points.length-1].y) > 100) {\n        paths.push(points)\n        points = [pt]\n      } else {\n        points.push(pt)\n      }\n    } catch(e) {\n      if (points.length > 0) {\n        paths.push(points)\n        points = []\n      }\n    }\n    t += step\n  }\n  try {\n    points.push(f(domain[1]))\n  } catch(e) {}\n  if (points.length > 0) paths.push(points)\n  return paths\n}\n\nfunction parseFunction(str) {\n  try {\n    const nodes = math.parse(str)\n    const func = nodes.compile()\n    return scope => func.eval(scope)\n  } catch(e) {\n    console.error(e)\n  }\n}\n\n\n\nclass GraphMaker extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      mode: 'standard',\n      standard: 'x',\n      inverse: 'y',\n      parametricX: 't',\n      parametricY: 't',\n      x0: -10,\n      x1: 10,\n      y0: -10,\n      y1: 10,\n      t0: -10,\n      t1: 10,\n      step: 0.1,\n      height: 1.5,\n      autoDomain: 'auto',\n      autoSize: 'auto',\n    }\n  }\n\n  updateMode = evt => this.setState({mode: evt.target.value})\n  updateStandard = evt => this.setState({standard: evt.target.value})\n  updateInverse = evt => this.setState({inverse: evt.target.value})\n  updateParametricX = evt => this.setState({parametricX: evt.target.value})\n  updateParametricY = evt => this.setState({parametricY: evt.target.value})\n  updateX0 = evt => this.setState({x0: evt.target.value})\n  updateX1 = evt => this.setState({x1: evt.target.value})\n  updateY0 = evt => this.setState({y0: evt.target.value})\n  updateY1 = evt => this.setState({y1: evt.target.value})\n  updateT0 = evt => this.setState({t0: evt.target.value})\n  updateT1 = evt => this.setState({t1: evt.target.value})\n  updateStep = evt => this.setState({step: evt.target.value})\n  updateHeight = evt => this.setState({height: evt.target.value})\n  updateAutoDomain = evt => this.setState({autoDomain: evt.target.value})\n  updateAutoSize = evt => this.setState({autoSize: evt.target.value})\n\n  renderMode() {\n    return (\n      <select value={this.state.mode}\n        onChange={this.updateMode}\n      >\n        <option value='standard' title=\"y is a function of x\">Standard</option>\n        <option value='inverse' title=\"x is a function of y\">Inverse</option>\n        <option value='parametric' title=\"x and y are functions of t\">Parametric</option>\n      </select>\n    )\n  }\n\n  renderGridInputs() {\n    return (\n      <>\n      <table>\n        <tbody>\n          <tr>\n            <th /><th>Min</th><th>Max</th>\n          </tr>\n          <tr>\n            <td>x</td>\n            <td><input type=\"number\" value={this.state.x0} onChange={this.updateX0} /></td>\n            <td><input type=\"number\" value={this.state.x1} onChange={this.updateX1} /></td>\n          </tr>\n          <tr>\n            <td>y</td>\n            <td><input type=\"number\" value={this.state.y0} onChange={this.updateY0} /></td>\n            <td><input type=\"number\" value={this.state.y1} onChange={this.updateY1} /></td>\n          </tr>\n        </tbody>\n      </table>\n      </>\n    )\n  }\n\n  renderInputs() {\n    if (this.state.mode === 'standard') {\n      return (\n        <table>\n          <tbody>\n            <tr>\n              <td>y=</td>\n              <td><textarea value={this.state.standard} onChange={this.updateStandard}/></td> \n            </tr>\n          </tbody>\n        </table>\n      )\n    }\n    if (this.state.mode === 'inverse') {\n      return (\n        <table>\n          <tbody>\n            <tr>\n              <td>x=</td>\n              <td><textarea value={this.state.inverse} onChange={this.updateInverse}/></td> \n            </tr>\n          </tbody>\n        </table>\n      )\n    }\n    if (this.state.mode === 'parametric') {\n      return (\n        <table>\n          <tbody>\n            <tr>\n              <td>x=</td>\n              <td><textarea value={this.state.parametricX} onChange={this.updateParametricX}/></td>\n            </tr>\n            <tr>\n              <td>y=</td>\n              <td><textarea value={this.state.parametricY} onChange={this.updateParametricY}/></td>\n            </tr>\n          </tbody>\n        </table>\n      )\n    }\n  }\n\n\n  renderDomainInput() {\n    return (\n      <>\n      Step:\n      <input type=\"number\" \n        step={0.01}\n        value={this.state.step} \n        onChange={this.updateStep}\n        min={0}\n      /><br/>\n        Domain: \n        {this.state.mode !== 'parametric' ? (\n          <select value={this.state.autoDomain} onChange={this.updateAutoDomain}>\n            <option value='auto'>Auto</option>\n            <option value='custom'>Custom</option>\n          </select>\n        ) : <br/>}\n        {(this.state.autoDomain === 'custom' || this.state.mode === 'parametric') ? (\n          <div>\n          <input type=\"number\" value={this.state.t0} onChange={this.updateT0} />\n          to \n          <input type=\"number\" value={this.state.t1} onChange={this.updateT1} />\n          </div>\n        ) : null }        \n      </>\n    )\n  }\n\n  renderHeightInput() {\n    return (\n      <>\n      Height:\n      <select value={this.state.autoSize} onChange={this.updateAutoSize}>\n        <option value='auto'>Default</option>\n        <option value='custom'>Custom</option>\n      </select>\n      {this.state.autoSize === 'custom' ? (\n        <>\n          <br/>\n          Inches:\n          <input type=\"number\"\n            step={0.1}\n            value={this.state.height}\n            onChange={this.updateHeight}\n            min={0}\n          />\n        </>\n      ) : null}\n      </>\n    )\n  }\n\n  graphSize() {\n    return {\n      span: [\n        +this.state.x0, \n        +this.state.y0, \n        +this.state.x1, \n        +this.state.y1\n      ],\n    }\n  }\n\n  getDomain() {\n    if (this.state.mode === 'parametric' || this.state.autoDomain === 'custom') {\n      return [+this.state.t0, +this.state.t1]\n    }\n    if (this.state.mode === 'standard') {\n      return [+this.state.x0, +this.state.x1]\n    }\n    if (this.state.mode === 'inverse') {\n      return [+this.state.y0, +this.state.y1]\n    }\n  }\n\n  getFunction() {\n    const step = this.state.step > 0 ? +this.state.step : 0.002\n    const domain = this.getDomain()\n    switch(this.state.mode) {\n      case 'standard':\n        const ymap = parseFunction(this.state.standard)\n        if (ymap) {\n          const paths = calcParametric(t=>t, x=>ymap({x}), domain, step)\n          return paths.map(p => ['Path', {points: p}])\n        }\n        return null\n\n      case 'inverse':\n        const xmap = parseFunction(this.state.inverse)\n        if (xmap) {\n          const paths = calcParametric(y=>xmap({y}), t=>t, domain, step)\n          return paths.map(p => ['Path', {points: p}])\n        }\n        return null\n      case 'parametric':\n        const xpmap = parseFunction(this.state.parametricX)\n        const ypmap = parseFunction(this.state.parametricY)\n        if (xpmap && ypmap) {\n          const paths = calcParametric(t=>xpmap({t}), t=>ypmap({t}), domain, step)\n          return paths.map(p => ['Path', {points: p}])\n        }\n        return null\n      default:\n        return null\n    }\n  }\n\n  getData() {\n    let props = {\n      ...this.graphSize(), \n      autogrid: true,\n    }\n    if (this.state.autoSize === 'custom') {\n      props.height = this.state.height + 'in'\n    } else {\n      props.height = '2in'\n    }\n    const paths = this.getFunction()\n    if (paths) {\n      return ['CartesianPlane', props, ...paths]\n    }\n    return ['CartesianPlane', props]\n  }\n\n  onSubmit = () => {\n    this.props.onSubmit({type: 'vectorgraphic', data: this.getData()})\n    this.props.onRequestClose()\n  }\n\n  render() {\n    return (\n      <div className={styles.GraphMaker}>\n        <div className={styles.GraphMakerHeading}>\n          <button onClick={this.onSubmit}>Apply</button>\n          <button onClick={this.props.onRequestClose}>Cancel</button>\n        </div>\n        <div className={styles.GraphMakerBody}>\n          <div className={styles.GraphMakerInput}>\n            <div style={{margin: '3mm'}}>\n              Graphing Mode {this.renderMode()}\n              {this.renderInputs()}\n            </div>\n            <div style={{margin: '3mm'}}>\n            {this.renderDomainInput()}\n            </div>\n            <div style={{margin: '3mm'}}>\n              {this.renderGridInputs()}\n            </div>\n            <div>\n              {this.renderHeightInput()}\n            </div>\n          </div>\n          <div className={styles.GraphMakerPreview}>\n            <div className='document preview-area'>\n              <RenderElement content={{type: 'vectorgraphic', data: this.getData()}} />\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport default GraphMaker","import React from 'react'\nimport { connect } from 'react-redux'\nimport { RenderElement } from '../../renderMethods'\nimport { addToDocument } from '../../actions/document'\nimport LatexExamples from './LatexExamples'\nimport GraphMaker from './GraphMaker'\nimport ReactModal from 'react-modal'\n\nconst tabsize = 2;\n\nfunction onKeyDown(evt) {\n  if (evt.keyCode === 9) { // handle tab\n    let target = evt.target;\n    const start = target.selectionStart;\n    const end = target.selectionEnd;\n    const value = target.value;\n    target.value = value.substring(0,start) + Array(tabsize).fill(' ').join('') + value.substring(end);\n    target.selectionStart = start + tabsize;\n    target.selectionEnd = end + tabsize;\n    evt.preventDefault();\n  } else if (evt.keyCode === 8) { // handle backspace\n    let target = evt.target;\n    const start = target.selectionStart;\n    if (start === target.selectionEnd) {\n      const value = target.value;\n      if (value.substring(start-tabsize, start) === Array(tabsize).fill(' ').join('')) {\n        target.value = value.substring(0,start-tabsize) + value.substring(start);\n        target.selectionStart = start - tabsize;\n        target.selectionEnd = start - tabsize;\n        evt.preventDefault();\n      }\n    }\n  }\n}\n\n\nclass CustomQuestion extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      inputType: 'manual',\n      instructions: '',\n      question: '',\n      answer: '',\n      diagram: '',\n      json: '',\n      modal: 'none',\n    }\n    this.inputType = React.createRef()\n    this.instructions = React.createRef()\n    this.question = React.createRef()\n    this.answer = React.createRef()\n    this.json = React.createRef()\n  }\n\n  openExamples = () => this.setState({ modal: 'examples' })\n  openGraphMaker = () => this.setState({modal: 'graph'})\n  closeModal = () => this.setState({ modal: 'none' })\n\n  updateInstructions = (evt) => {\n    this.setState({ instructions: evt.target.value })\n  }\n  updateQuestion = (evt) => {\n    this.setState({ question: evt.target.value })\n  }\n  updateDiagram = (diagram) => {\n    this.setState({diagram})\n  }\n  updateAnswer = (evt) => {\n    this.setState({ answer: {...this.state.answer, correct: evt.target.value }})\n  }\n  updateJSON = (evt) => {\n    this.setState({ json: evt.target.value })\n  }\n\n  updateInputType = (evt) => {\n    const inputType = evt.target.value\n    const data = this.getDataFromState()\n    if (data) {\n      if (inputType === 'json') {\n        const json = JSON.stringify(data,null,2)\n        if (json.length <= 2) {\n          this.setState({inputType, json: ''})\n        } else {\n          this.setState({inputType, json})\n        }\n      } else {\n        const newstate = {}\n        for (const k of ['instructions', 'question', 'answer']) {\n          if (data[k]) {\n            if (typeof data[k] === 'string') newstate[k] = data[k];\n            else if (data[k].type === 'text') newstate[k] = data[k].data;\n            else newstate[k] = '';\n          } else {\n            newstate[k] = '';\n          }\n        }\n        this.setState({ inputType, ...newstate })\n      }\n    } else {\n      this.setState({inputType})\n    }\n  }\n\n  getDataFromState() {\n    if (this.state.inputType === 'manual') {\n      let data = {}\n      for (const k of ['instructions', 'question', 'answer']) {\n        if (this.state[k]) {\n          data[k] = this.state[k]\n        }\n      }\n      if (this.state.diagram) {\n        data.diagram = this.state.diagram\n      }\n      return data\n    } else if (this.state.inputType === 'json') {\n      try {\n        const data = JSON.parse(this.state.json)\n        return data\n      } catch(e) {\n      }\n    }\n  }\n\n  addQuestion = () => {\n    const data = this.getDataFromState()\n    this.props.addToDocument({type: 'question', data})\n    this.props.onRequestClose()\n  }\n\n  renderInputs() {\n    if (this.state.inputType === 'manual') {\n      const inputStyle = {width:'30rem'}\n      return (\n        <div >\n          <p>\n            Tip: Text surrounded with $$ ... $$ will be treated as a math formula.\n          </p>\n          <button onClick={this.openExamples}>See Examples</button>\n          <p>Instructions:</p>\n          <textarea \n            value={this.state.instructions}\n            onChange={this.updateInstructions}\n            style={inputStyle}\n            ></textarea>\n\n          <p>Question:</p>\n          <textarea \n            value={this.state.question}\n            onChange={this.updateQuestion}\n            style={inputStyle}\n          ></textarea>\n\n          <p>Diagram:</p>\n          <button onClick={this.openGraphMaker}>Add Graph</button>\n          \n          <p>Answer:</p>\n          <textarea \n            value={this.state.answer.correct}\n            onChange={this.updateAnswer}\n            style={inputStyle}\n          ></textarea>\n        </div>\n      )\n    } else {\n      return (\n        <>\n          <p>Enter JSON:</p>\n          <textarea \n            value={this.state.json}\n            onChange={this.updateJSON}\n            onKeyDown={onKeyDown}\n            spellCheck={false}\n            style={{width:'30rem', height: '10rem', fontSize: '0.9em'}}\n          />\n          <br/>\n        </>\n      )\n    }\n  }\n\n  renderPreview() {\n    const data = this.getDataFromState()\n    const previewStyle = {\n      margin: '2mm',\n      width: 'fit-content',\n      fontSize: '1.2em',\n      minWidth: '3in',\n    }\n\n    return (\n      <>\n      <p>Question</p>\n      <div className='document preview-area' style={previewStyle}>\n        {data ? <RenderElement content={{type: 'question-nonumber', data}} /> : null}\n      </div>\n      <p>Answer</p>\n      <div className='document preview-area' style={previewStyle}>\n        {data ? <RenderElement content={{type: 'answerkey',  data}} /> : null}\n      </div>\n      </>\n    )\n  }\n\n  render() {\n    const divstyle = {\n      width: 'auto',\n      padding: '0',\n      margin: '0',\n      display: 'grid',\n      gridTemplateAreas: '\"inputs preview\"',\n      gridTemplateColumns: 'auto auto',\n    }\n    return (\n      <>\n      <div style={divstyle}>\n        <div style={{gridArea: 'inputs'}}>\n          <h4 style={{gridArea: 'title'}}>Custom Question</h4>\n          <select ref={this.inputType} onChange={this.updateInputType}>\n            <option value=\"manual\">Manual</option>\n            <option value='json'>JSON</option>\n          </select>\n          {this.renderInputs()}\n        </div>\n        <div style={{gridArea: 'preview'}}>\n          <h4>Preview</h4>\n          {this.renderPreview()}\n        </div>\n      </div>\n      <button onClick={this.addQuestion}>Add to Assignment</button>\n\n\n      <ReactModal isOpen={this.state.modal === 'examples'}\n        onRequestClose={this.closeModal}\n        style={{\n          content: {\n            backgroundColor: 'white',\n            //top: '0',\n            //bottom: '0',\n            //borderTop: 'none',\n            //borderBottom: 'none',\n            //left: '50px',\n            //right: '50px',\n          }\n        }}\n      >\n        <LatexExamples onRequestClose={this.closeModal}/>\n      </ReactModal>\n\n      <ReactModal isOpen={this.state.modal === 'graph'}\n        onRequestClose={this.closeModal}\n      >\n        <GraphMaker onRequestClose={this.closeModal} onSubmit={this.updateDiagram}/>\n      </ReactModal>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: (q) => dispatch(addToDocument(q))\n})\n\nexport default connect(null, mapDispatchToProps)(CustomQuestion)","import { connect } from 'react-redux'\nimport CustomQuestion from './CustomQuestion'\nimport {\n  addToDocument\n} from '../../actions/document'\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: (thing) => dispatch(addToDocument(thing))\n})\n\nexport default connect(null, mapDispatchToProps)(CustomQuestion)","import React from 'react'\n\n\nconst Notes = (props) => {\n\n  return (\n    <>\n    <span style={{fontWeight: 'bold', fontSize: '1em'}}>\n      <span style={{marginRight: '3mm'}}>Notes</span>\n      <button onClick={props.onRequestClose}>Close</button>\n    </span>\n    <div>\n      <p>Double-click on the document to edit an element.</p>\n      <p>Create a PDF by selecting \"Save to PDF\" when printing.</p>\n      <p>Make sure the scale is set to 100% when printing.</p>\n      <p>\n        Changing the font size or deleting questions from the middle of the\n        document can cause the calculated page breaks to no longer be \n        appropriate. Use the 'Fix Pagination' button to quickly recalculate \n        all page breaks.\n      </p>\n\n      <h4>Issues</h4>\n      <p>\n        In some browsers only the first page prints.\n      </p>\n\n    </div>\n    </>\n  )\n}\n\nexport default Notes","import React from 'react'\nimport { connect } from 'react-redux'\n\nclass CheckStateButton extends React.Component {\n\n  logState = () => {console.log(this.props.state)}\n\n  render() {\n    return <button onClick={this.logState}>{this.props.children}</button>\n  }\n}\n\nconst mapStateToProps = state => ({\n  state: state,\n})\n\nexport default connect(mapStateToProps)(CheckStateButton)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { kebabCase } from 'lodash'\nimport { updateGraphStyle } from '../../../actions/style'\n\nfunction setCss(k, v) {\n  document.body.style.setProperty(k, v)\n}\n\nclass GraphStyle extends React.Component {\n  static propTypes = {\n    updateGraphStyle: PropTypes.func.isRequired,\n    propertyName: PropTypes.string.isRequired,\n    current: PropTypes.string.isRequired,\n  }\n\n  constructor(props) {\n    super(props)\n    this.cssName = `--vg-${kebabCase(props.propertyName)}`\n  }\n\n  componentDidMount() {\n    setCss(this.cssName, this.props.current)\n  }\n\n  componentDidUpdate() {\n    setCss(this.cssName, this.props.current)\n  }\n\n  setValue(value) {\n    this.props.updateGraphStyle({[this.props.propertyName]: value})\n  }\n\n  onChange = (evt) => {\n    this.setValue(evt.target.value)\n  }\n\n}\n\nclass Color extends GraphStyle {\n  render() {\n    return (\n      <input type='color'\n        value={this.props.current}\n        onChange={this.onChange}\n      />\n    )\n  }\n}\n\nclass Width extends GraphStyle {\n  onChange = (evt) => {\n    this.setValue(evt.target.value + 'mm')\n  }\n  render() {\n    return (\n      <input type='range'\n        value={this.props.current.slice(0,-2)}\n        onChange={this.onChange}\n        min='0'\n        max='1'\n        step='0.01'\n      />\n    )\n  }\n}\n\nclass Opacity extends GraphStyle {\n  render() {\n    return (\n      <input type='range'\n        value={this.props.current}\n        onChange={this.onChange}\n        min='0'\n        max='1'\n        step='0.01'\n      />\n    )\n  }\n}\n\n\nconst mapDispatchToProps = dispatch => ({\n  updateGraphStyle: (props) => dispatch(updateGraphStyle(props))\n})\n\nfunction createComponent(base, propertyName) {\n  class StyleSettingComponent extends base {\n    static defaultProps = ({propertyName: propertyName})\n  }\n  \n  return connect(\n    state => ({current: state.style.graph[propertyName]}), \n    mapDispatchToProps\n  )(StyleSettingComponent)\n}\n\n\nexport const PlotPathColor = createComponent(Color, 'plotPathColor')\nexport const PlotPathWidth = createComponent(Width, 'plotPathWidth')\nexport const Plot2PathColor = createComponent(Color, 'plot2PathColor')\nexport const GeomPathColor = createComponent(Color, 'geomPathColor')\nexport const GeomPathWidth = createComponent(Width, 'geomPathWidth')\nexport const AsymptoteColor = createComponent(Color, 'asymptoteColor')\nexport const AsymptoteWidth = createComponent(Width, 'asymptoteWidth')\nexport const AxisColor = createComponent(Color, 'axisColor')\nexport const AxisWidth = createComponent(Width, 'axisWidth')\nexport const GridColor = createComponent(Color, 'gridColor')\nexport const GridWidth = createComponent(Width, 'gridWidth')\nexport const ShadedRegionOpacity = createComponent(Opacity, 'shadedRegionOpacity')\n\n\n\n\nclass SwapButton extends React.Component {\n  static propTypes = {\n    current1: PropTypes.string.isRequired,\n    current2: PropTypes.string.isRequired,\n    propertyName1: PropTypes.string.isRequired,\n    propertyName2: PropTypes.string.isRequired,\n    updateGraphStyle: PropTypes.func.isRequired,\n  }\n\n  constructor(props) {\n    super(props)\n    this.cssName1 = `--vg-${kebabCase(props.propertyName1)}`\n    this.cssName2 = `--vg-${kebabCase(props.propertyName2)}`\n  }\n\n  doSwap = () => {\n    setCss(this.cssName1, this.current2)\n    setCss(this.cssName2, this.current1)\n    this.props.updateGraphStyle({\n      [this.props.propertyName1]: this.props.current2,\n      [this.props.propertyName2]: this.props.current1,\n    })\n  }\n\n  render() {\n    return (\n      <button onClick={this.doSwap}>{this.props.children}</button>\n    )\n  }\n}\n\nexport const PlotColorSwap = connect(\n  state => ({\n    current1: state.style.graph.plotPathColor, \n    current2: state.style.graph.plot2PathColor,\n    propertyName1: 'plotPathColor',\n    propertyName2: 'plot2PathColor'\n  }),\n  dispatch => ({\n    updateGraphStyle: updates => dispatch(updateGraphStyle(updates)),\n  })\n)(SwapButton)","import React from 'react'\nimport { \n  CartesianPlane, Path,\n  Asymptote, Point, Hole, ShadedRegion,\n  RationalFunction, Transforms,\n\n  Circle, Polygon, GeomRay, GeomLine, GeomSegment,\n} from '../../../renderMethods/primaryTypes/VG'\n\n\nexport const PreviewXYPlot = () => {\n  \n  \n  const vasymptotes = [-3]\n  const holes = [-5]\n  const hasymptotes = [2]\n\n\n  const g = (x) => (x+2)*(x-8)/2 + (x+2)/5 + 5\n\n  const f = x => 2*Math.sin(x*Math.PI/4) + 7\n\n  const regionTop = []\n  const regionBottom = []\n  const fpoints = []\n  const gpoints = []\n  const step = 0.3\n\n  let x = -11\n  while (x <= -2) {\n    const fpt = ({x, y: f(x)})\n    const gpt = ({x, y: g(x)})\n    fpoints.push(fpt)\n    gpoints.push(gpt)\n    x += step\n  }\n\n  x = -2\n  while (x <= 8) {\n    const fpt = ({x, y: f(x)})\n    const gpt = ({x, y: g(x)})\n    fpoints.push(fpt)\n    gpoints.push(gpt)\n    regionTop.push(fpt)\n    regionBottom.push(gpt)\n    x += step\n  }\n\n  x = 8\n  while (x <= 11) {\n    const fpt = ({x, y: f(x)})\n    const gpt = ({x, y: g(x)})\n    fpoints.push(fpt)\n    gpoints.push(gpt)\n    x += step\n  }\n\n  \n\n  const region = [...regionBottom, ...regionTop.reverse()]\n\n  return (\n    <CartesianPlane span={[-10,-10,10,10]} autogrid={true} width=\"3in\">\n      {vasymptotes.map(p => <Asymptote key={`va-${p}`} points={[{x: p, y: -12}, {x: p, y: 12}]} />)}\n      {hasymptotes.map(p => <Asymptote key={`ha-${p}`} points={[{x: -12, y: p}, {x: 12, y: p}]} />)}\n      <Transforms list={[{type: 'translate', params: {x: 0, y: 2}}]}>\n        <RationalFunction \n          style={'xyplot2'}\n          numerLC={2}\n          asymptotes={vasymptotes} \n          holes={holes} \n          domain={[-11,-3]} renderAsymptotes={false}\n        />\n      </Transforms>\n      <ShadedRegion points={region} />\n      <Path points={fpoints} />\n      <Path points={gpoints} />\n      <Point coords={[-2,5]} />\n      <Point coords={[8,7]} />\n    </CartesianPlane>\n  )\n}\n\nexport const PreviewGeom = () => {\n\n  const poly= [\n    [13,11], [17,12], [18,16], [15,18], [11,14]\n  ]\n  const ray = [[2,12], [7,13]]\n  const line = [[8,17], [2,18]]\n  const seg = [[7,15], [2,15]]\n  const circ = ({cx: 4, cy: 7, r: 2})\n\n  return (\n    <CartesianPlane span={[0,0,20,20]} style='geom' autogrid={true} width='3in'>\n      <Polygon vertices={poly} />\n      <Circle {...circ} />\n      <GeomRay points={ray} />\n      <GeomLine points={line} />\n      <GeomSegment points={seg} />\n    </CartesianPlane>\n  )\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { resetGraphStyle } from '../../../actions/style'\nimport {\n  PlotPathColor, PlotPathWidth, Plot2PathColor, PlotColorSwap,\n  GeomPathColor, GeomPathWidth,\n  AsymptoteColor, AsymptoteWidth,\n  AxisColor, AxisWidth,\n  GridColor, GridWidth,\n  ShadedRegionOpacity,\n} from './GraphStyle'\nimport { PreviewXYPlot, PreviewGeom } from './GraphPreview'\n\nimport styles from './styles.module.css'\n\n\nclass GraphSettings extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {style: 'xy-plot'}\n  }\n\n  changeStyle = evt => {\n    this.setState({style: evt.target.value})\n  }\n\n  resetToDefaults = () => {\n   this.props.resetGraphStyle()\n  }\n\n  renderPreview() {\n    if (this.state.style === 'geom') {\n      return <PreviewGeom />\n    }\n    return <PreviewXYPlot />\n  }\n\n  renderStyleSettings() {\n    if (this.state.style === 'xy-plot') {\n      return (\n        <>\n          <tr>\n            <td>Primary</td>\n            <td><PlotPathColor/></td>\n            <td><PlotPathWidth/></td>\n          </tr>\n          <tr>\n            <td>Secondary</td>\n            <td><Plot2PathColor/></td>\n            <td><PlotColorSwap>Swap Colors</PlotColorSwap></td>\n          </tr>\n          <tr>\n            <td>Asymptote</td>\n            <td><AsymptoteColor/></td>\n            <td><AsymptoteWidth/></td>\n          </tr>\n          <tr>\n            <td colSpan='2'>Fill</td>\n            <td><ShadedRegionOpacity /></td>\n          </tr>\n        </>\n      )\n    }\n    if (this.state.style === 'geom') {\n      return (\n        <>\n          <tr>\n            <td>Path</td>\n            <td><GeomPathColor/></td>\n            <td><GeomPathWidth/></td>\n          </tr>\n        </>\n      )\n    }\n    return null\n  }\n\n  render() {\n    return (\n      <div className={styles.Layout}>\n        <div className={styles.Settings}>\n          <h3>Graph Style</h3>\n          <button onClick={this.resetToDefaults}>Reset to Defaults</button>\n          \n          <table className={styles.SettingTable}>\n\n            <thead>\n              <tr>\n                <th></th>\n                <th>Color</th>\n                <th>Thickness</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>Axis</td>\n                <td><AxisColor/></td>\n                <td><AxisWidth/></td>\n              </tr>\n\n              <tr>\n                <td>Grid</td>\n                <td><GridColor/></td>\n                <td><GridWidth/></td>\n              </tr>\n              <tr>\n                <td colSpan='3' >\n                  <div style={{margin: '5mm 0'}}>\n                    <span>Editing style for </span>\n                    <select onChange={this.changeStyle} value={this.state.style}>\n                      <option value='geom'>geometry</option>\n                      <option value='xy-plot'>xy-plot</option>\n                    </select>\n                  </div>\n                </td>\n              </tr>\n\n              {this.renderStyleSettings()}\n            </tbody>\n\n          </table>\n        </div>\n        <div className={styles.Preview}>\n          <div className='document preview-area'>\n            {this.renderPreview()}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  resetGraphStyle: () => dispatch(resetGraphStyle()),\n})\n\nexport default connect(null, mapDispatchToProps)(GraphSettings)","import GraphSettings from './GraphSettings'\n\nexport default GraphSettings","import React from 'react'\nimport FontSettings from './Font'\nimport GraphSettings from './Graph'\nimport styles from './styles.module.css'\n\n\nclass SettingsPage extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {showing: 'font'}\n  }\n\n  showFontSettings = () => {\n    this.setState({showing: 'font'})\n  }\n  showGraphSettings = () => {\n    this.setState({showing: 'graph'})\n  }\n\n  renderSettings() {\n    switch (this.state.showing) {\n      case 'font': return <FontSettings/>\n      case 'graph': return <GraphSettings/>\n      default: return null\n    }\n  }\n\n  render() {\n    return (\n      <div className={styles.SettingPage}>\n\n        <div className={styles.LeftBar}>\n          <div>\n            <span className={styles.Title}>Settings</span>\n          </div>\n          \n          <div className={styles.NavArea}>\n            <button\n              className={styles.NavButton}\n              onClick={this.showFontSettings}\n              disabled={this.state.showing === 'font'}\n            >Fonts</button>\n            <button\n              className={styles.NavButton}\n              onClick={this.showGraphSettings}\n              disabled={this.state.showing === 'graph'}\n            >Graphs</button>\n          </div>\n\n          <div>\n            <button onClick={this.props.onRequestClose}>Close</button>\n          </div>\n          \n        </div>\n        \n        <div className={styles.SettingSection}>\n          {this.renderSettings()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default SettingsPage","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setAllowEditing } from '../../actions/config'\n\nclass AllowEditing extends React.Component {\n  static propTypes = {\n    current: PropTypes.bool.isRequired,\n    setAllowEditing: PropTypes.func.isRequired,\n  }\n\n  toggle = (evt) => {\n    if (evt.target.checked) {\n      this.props.setAllowEditing(true)\n    } else {\n      this.props.setAllowEditing(false)\n    }\n  }\n\n  render() {\n    return (\n      <input\n        onChange={this.toggle}\n        type='checkbox' \n        checked={this.props.current}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.config.allowEditing,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setAllowEditing: (b) => dispatch(setAllowEditing(b)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AllowEditing)","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { setShowAnswerKey } from '../../actions/config'\n\n\nclass AnswerKeyToggle extends React.Component {\n  static propTypes = {\n    current: PropTypes.bool.isRequired,\n    setShowAnswerKey: PropTypes.func.isRequired,\n  }\n\n  toggle = (evt) => {\n    if (evt.target.checked) {\n      this.props.setShowAnswerKey(true)\n    } else {\n      this.props.setShowAnswerKey(false)\n    }\n  }\n\n  render() {\n    return (\n      <input\n        onChange={this.toggle}\n        type='checkbox' \n        checked={this.props.current}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.config.showAnswerKey,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setShowAnswerKey: (bool) => dispatch(setShowAnswerKey(bool)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AnswerKeyToggle)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setHiddenCount } from '../../actions/config'\nimport { clearPageBreaks } from '../../actions/document'\n\nclass FixPagination extends React.Component {\n  static propTypes = {\n    hidden: PropTypes.number.isRequired,\n    setHiddenCount: PropTypes.func.isRequired,\n  }\n\n  reset = () => {\n    this.props.clearPageBreaks()\n    this.props.setHiddenCount(this.props.total)\n  }\n\n  check() {\n    setTimeout(() => {\n      if (this.props.hidden > 0) {\n        this.props.setHiddenCount(this.props.hidden-1)\n      }\n    }, 20)\n  }\n\n  componentDidMount() {\n    this.check()\n  }\n\n  componentDidUpdate() {\n    this.check()\n  }\n\n  render() {\n    return (\n      <button onClick={this.reset}>Fix Pagination</button>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  hidden: state.config.numberHidden,\n  total: state.document.order.length,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setHiddenCount: n => dispatch(setHiddenCount(n)),\n  clearPageBreaks: () => dispatch(clearPageBreaks()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FixPagination)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setPageMargin } from '../../actions/style'\n\nconst MarginOptions = [\n  '5mm',\n  '10mm',\n  '15mm',\n  '20mm',\n]\n\nclass SetPageMargin extends React.Component {\n\n  static propTypes = {\n    current: PropTypes.string.isRequired,\n    setPageMargin: PropTypes.func.isRequired,\n  }\n\n  setPageMargin(margin) {\n    this.props.setPageMargin(margin)\n  }\n\n  updateFromSelection = (evt) => {\n    const m = evt.target.value\n    this.setPageMargin(m)\n  }\n\n  render() {\n    return (\n      <select\n        onChange={this.updateFromSelection}\n        value={this.props.current}\n      >\n        {MarginOptions.map((m) => (\n          <option key={m} value={`${m} ${m} ${m} ${m}`}>{m}</option>\n        ))}\n      </select>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.style.pageMargin,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setPageMargin: (m) => dispatch(setPageMargin(m))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SetPageMargin)","import React from 'react'\nimport PropTypes from 'prop-types'\n\nclass PreviewZoom extends React.Component {\n  static propTypes = { type: PropTypes.string.isRequired }\n\n  static defaultProps = { type: 'selection' }\n\n  constructor(props) {\n    super(props)\n    this.selection = React.createRef()\n    this.default = 110\n    this.setPreviewZoom(this.default)\n  }\n\n  setPreviewZoom(perc) {\n    const scale = perc / 100.0\n    \n    const transform = `matrix(${[scale, 0, 0, scale, 0, 0].join(',')})`\n    document.body.style.setProperty('--previewInnerTransform', transform)\n  }\n\n  setFromInput = () => {\n    const magnification = +this.selection.current.value\n    this.setPreviewZoom(magnification)\n  }\n\n  render() {\n    if (this.props.type === 'input') {\n      return (\n        <input\n          ref={this.selection} \n          type=\"number\"\n          min=\"70\"\n          max=\"150\"\n          step=\"5\"\n          defaultValue={this.default}\n          onChange={this.setFromInput}\n        ></input>\n      )\n    } else {\n      const options = [70, 80, 90, 100, 110, 120, 130, 140, 150]\n      return (\n        <select\n          ref={this.selection}\n          defaultValue={this.default}\n          onChange={this.setFromInput}>\n          {options.map((z) => <option key={`zoom-option-${z}`} value={z}>{z}</option>)}\n        </select>\n      )\n    }\n  }\n}\n\nexport default PreviewZoom","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setDocumentStartNumbering } from '../../actions/document'\n\nclass StartNumbering extends React.Component {\n  constructor(props) {\n    super(props)\n    this.input = React.createRef()\n  }\n\n  setCSSVariable(n) {\n    document.body.style.setProperty('--doc-startnumber', n-1)\n  }\n\n  setNumbering = () => {\n    const startat = this.input.current.value\n    if (startat) {\n      this.setCSSVariable(startat)\n      this.props.setDocumentStartNumbering(startat)\n    }\n  }\n\n  render() {\n    if (this.props.applyButton) {\n      return (\n        <>\n          <input \n            type='number' \n            min='1' \n            ref={this.input} \n            style={{width: '2rem'}}></input>\n          <button onClick={this.setNumbering}>Apply</button>\n        </>\n      )\n    } else {\n      return (\n        <>\n          <input \n            onChange={this.setNumbering}\n            type='number' \n            defaultValue='1'\n            min='1' \n            ref={this.input} \n            style={{width: '2rem'}}></input>\n        </>\n      )\n    }\n  }\n}\n\n\nconst mapDispatchToProps = dispatch => ({\n  setDocumentStartNumbering: (n) => dispatch(setDocumentStartNumbering(n)),\n})\n\nexport default connect(null, mapDispatchToProps)(StartNumbering)","import SettingsPage from './SettingsPage'\n\nimport { FontFamily, FontSize, AddLocalFont, FontFamilyUI } from './Font'\nimport AllowEditingToggle from './AllowEditing'\nimport AnswerKeyToggle from './AnswerKeyToggle'\nimport FixPagination from './FixPagination'\nimport PageMargin from './PageMargin'\nimport PreviewZoom from './PreviewZoom'\nimport StartNumbering from './StartNumbering'\n\nexport {\n  AddLocalFont,\n  AllowEditingToggle,\n  AnswerKeyToggle,\n  FixPagination,\n  FontFamily,\n  FontFamilyUI,\n  FontSize,\n  PageMargin,\n  PreviewZoom,\n  StartNumbering,\n}\n\nexport default SettingsPage","import {\n  range as mathjsrange \n} from 'mathjs'\n\nexport const range = function(start, stop, inclusive=false) {\n  return mathjsrange(start, stop, inclusive)._data\n}\n\nexport const gcd = function(a, b) {\n  if (a > b) {\n    return gcd(b, a)\n  } else if (a === 0) {\n    return b\n  } else {\n    return gcd(b % a, a)\n  }\n}\n\nexport const divrem = function(n, p) {\n  let r = n\n  let d = 0\n  while (r % p === 0) {\n    r = r / p\n    d += 1\n  }\n  return [d, r]\n}\n\nexport const primeFactorization = function(n) {\n  let result = {}\n  let r = n\n  let d\n  let p = 2\n  if (r % p === 0) {\n    [d, r] = divrem(r, p)\n    result[p] = d\n  }\n  p = 3\n  if (r % p === 0) {\n    [d, r] = divrem(r, p)\n    result[p] = d\n  }\n  p = 5\n  while (p * p <= r) {\n    if (r % p === 0) {\n      [d, r] = divrem(r, p)\n      result[p] = d\n    }\n    if (r === 1) {\n      return result\n    }\n    p += 2\n    if (r % p === 0) {\n      [d, r] = divrem(r, p)\n      result[p] = d\n    }\n    if (r === 1) {\n      return result\n    }\n    p += 4\n  }\n  if (r !== 1) {\n    result[r] = 1\n  }\n  return result\n}\n\nexport const listFactors = function(n, {include1=false, includeN=false}) {\n  let result = []\n  const start = include1 ? 1 : 2\n  const stop = includeN ? n : n-1\n  for (let i = start; i <= stop; i++) {\n    if (n % i === 0) {\n      result.push(i)\n    } \n  }\n  return result\n}\n","import Random from 'random-js'\n\nexport class Randomizer {\n  constructor(seed=null) {\n    this.seed = seed\n    this.engine = Random.engines.mt19937()\n    this.reset()\n  }\n\n  reset() {\n    if (this.seed !== null) {\n      this.engine.seed(this.seed)\n    } else {\n      this.engine.autoSeed()\n    }\n  }\n\n  randint(min, max) {\n    return Random.integer(min, max)(this.engine)\n  }\n\n  real(min, max, inclusive=false) {\n    return Random.real(min, max, inclusive)(this.engine)\n  }\n\n  random(max=1.0) {\n    return this.real(0, max, false)\n  }\n\n  shuffle(array, first) {\n    if (first !== undefined) {\n      let shuffled = Random.shuffle(this.engine, array.slice(1))\n      return [...shuffled.slice(0,first), array[0], ...shuffled.slice(first)]\n    } else {\n      return Random.shuffle(this.engine, array)\n    }\n  }\n\n  shuffleRange(start, end) {\n    let range = []\n    for (let i = start; i <= end; i++) range.push(i);\n    return this.shuffle(range)\n  }\n\n  choice(array) {\n    return Random.pick(this.engine, array)\n  }\n\n  sample(pop, size) {\n    return Random.sample(this.engine, pop, size)\n  }\n\n  sampleRange(start, end, size) {\n    let range = []\n    for (let i = start; i <= end; i++) range.push(i);\n    return this.sample(range, size)\n  }\n\n  poprandom(array) {\n    const i = this.randint(0,array.length-1)\n    return array.splice(i,1)[0]\n  }\n}\n\n","//import math from 'mathjs'\nimport { Randomizer } from './tools/random_randomjs'\nimport { defaultsDeep } from 'lodash'\n\nlet randomSeedGenerator = new Randomizer()\n\nclass QGen {\n  constructor(props={}) {\n    this.params = props.params || {}\n    //this.randomSeed = props.randomSeed || math.randomInt(0, math.pow(2,32))\n    this.randomSeed = props.randomSeed || randomSeedGenerator.randint(0, Math.pow(2, 32)-1)\n    this.random = new Randomizer(this.randomSeed)\n  }\n\n  static register() {\n    let result = {name: this.name}\n    return {...result, ...this.info}\n  }\n\n  getOptions() {\n    return this.constructor.options\n  }\n\n  _specialCaseValues(k, v) {\n    if (Array.isArray(v)) {\n      if (k === 'answer') {\n        return {type: 'answerchoices', data: v}\n      }\n      return {type: 'list', data: {items: v}}  \n    }\n    return v\n  }\n\n  _specialCaseKeys(k, v) {\n    //if (k === 'answer') return '_answer'\n    return k\n  }\n\n  setRandomSeed(seed) {\n    this.randomizer.seed(seed)\n  }\n\n  _getParams() {\n    let result = ({})\n    for (const k in this.constructor.params) {\n      if (this.params[k] !== undefined) {\n        result[k] = this.params[k]\n      } else {\n        result[k] = this.constructor.params[k].default\n      }\n    }\n    return result\n  }\n\n  output() {\n    const out = this.generate(this._getParams())\n    let content = {}\n    for (const k in out) {\n      content[this._specialCaseKeys(k)] = this._specialCaseValues(k, out[k])\n    }\n    return {\n      type: 'question',\n      data: content,\n      options: this.getOptions(),\n    }\n  }\n}\n\nexport default QGen","import math from 'mathjs'\nimport Polynomial from 'polynomial'\nimport fraction from 'fraction.js'\nimport { range, gcd, listFactors } from './tools/handystuff'\nimport QGen from './QGen'\nimport _ from 'lodash'\n\n\n/***** Handy Things *********/\n\nfunction randomPolynomialCoefficients({degree, maxCoefficient=12, terms='auto'}={}) {\n\tconst rd = this.random\n\tif (terms === 'auto') {\n\t\tterms = degree + 1\n\t}\n\tlet p = {}\n\tconst whichterms = rd.sample(range(0,degree), terms-1)\n\tp[degree] = rd.randint(1, maxCoefficient)\n\n\tfor (const d of whichterms) {\n\t\tp[d] = rd.randint(1, maxCoefficient) * rd.choice([-1,1])\n\t}\n\treturn p\n}\n\nfunction randomPolynomial(props={}) {\n\tconst p = randomPolynomialCoefficients.call(this, props)\n\treturn new Polynomial(p)\n}\n\n\nclass TransformTracker {\n\t// y = a * f( (x - h)/b ) + k\n\tconstructor(parent) {\n\t\tthis.parent = parent\n\t\tthis.a = fraction(1)\n\t\tthis.b = fraction(1)\n\t\tthis.h = 0\n\t\tthis.k = 0\n\t}\n\n\ttranslateX(n) { this.h += n }\n\ttranslateY(n) { this.k += n }\n\tscaleX(n) { this.b = this.b.mul(n) }\n\tscaleY(n) { this.a = this.a.mul(n) }\n\t\n\tshiftH(n) { this.translateX(n) }\n\tshiftV(n) { this.translateY(n) }\n\tstretchH(n) { this.scaleX(n) }\n\tstretchV(n) { this.scaleY(n) }\n\tcompressH(n) { this.scaleX(fraction(1,n)) }\n\tcompressV(n) { this.scaleY(fraction(1,n)) }\n\treflectH() { this.b = -this.b }\n\treflectV() { this.a = -this.a }\n\n\tf() {\n\t\tconst parent = {\n\t\t\t'abs': x => Math.abs(x),\n\t\t\t'cubic': x => x*x*x,\n\t\t\t'exp2': x => Math.pow(2,x),\n\t\t\t'log2': x => Math.log2(x),\n\t\t\t'quad': x => x*x,\n\t\t\t'sqrt': x => Math.sqrt(x),\n\t\t}[this.parent]\n\t\tconst {a, b, h, k} = this\n\t\treturn x => a * parent(x/b - h/b) + k \n\t}\n\n\ttoLatex() {\n\t\tPolynomial.setField('Q')\n\t\tconst {parent, a, b, h, k} = this\n\t\tconst inner = new Polynomial([fraction(-h).div(b), fraction(1).div(b)]).toLatex()\n\t\tconst kStr = k === 0 ? '' : k < 0 ? k.toString() : '+' + k.toString()\n\t\tconst aStr = a == 1 ? '' : a == -1 ? '-' : a.toString()\n\t\tif (parent === 'sqrt') {\n\t\t\treturn `${aStr}\\\\sqrt{${inner}}${kStr}`\n\t\t}\n\t\tif (parent === 'quad') {\n\t\t\tif (b == 1 && h === 0) {\n\t\t\t\treturn `${aStr}x^2${kStr}`\n\t\t\t}\n\t\t\treturn `${aStr}(${inner})^2${kStr}`\n\t\t}\n\t\tif (parent === 'cubic') {\n\t\t\tif (b == 1 && h === 0) {\n\t\t\t\treturn `${aStr}x^3${kStr}`\n\t\t\t}\n\t\t\treturn `${aStr}(${inner})^3${kStr}`\n\t\t}\n\t\tif (parent === 'abs') {\n\t\t\treturn `${aStr}|${inner}|${kStr}`\n\t\t}\n\t\tif (parent === 'exp2') {\n\t\t\tif (aStr) {\n\t\t\t\treturn `${aStr} \\\\cdot 2^{${inner}}${kStr}`\n\t\t\t}\n\t\t\treturn `${aStr}2^{${inner}}${kStr}`\n\t\t}\n\t\tif (parent === 'log2') {\n\t\t\treturn `${aStr}\\\\log_{2}(${inner})${kStr}`\n\t\t}\n\t}\n}\n\n\n\n\n/***********************\n\n\nQuestion Generators \n\n\n************************/\n\n\nexport class SolveQuadratic extends QGen {\n\tstatic info = {\n\t\tname: 'Solve Quadratic',\n\t\tdescription: 'Solve a quadratic equation with integer solutions.'\n\t}\n\n\tstatic options = {\n\t\tlayout: [['instructions', 'question'], ['answer', 'diagram']]\n\t}\n\n\n\tgenerate(props) {\n\t\tconst rd = this.random\n\t\tconst [r1, r2] = rd.sample(range(-12,13), 2)\n\n\t\tconst a = 1\n\t\tconst b = -(r1 + r2)\n\t\tconst c = r1 * r2\n\n\t\tconst poly = new Polynomial({2: a, 1: b, 0: c})\n\t\tconst rand = randomPolynomial.call(this, {degree: 2, maxCoefficient: 7, terms: 2})\n\t\t\n\t\tconst [left, right] = rd.random() < 0.5 ? [poly.add(rand), rand] : [rand, poly.add(rand)]\n\n\t\tfunction fmtAns(ans) {\n\t\t\treturn'$$x = ' + ans.sort((a, b) => a > b).join(', ') + '$$'\n\t\t}\n\n\t\treturn {\n\t\t\tinstructions: 'Determine the values of $$x$$ that satisfy the equation:',\n\t\t\tquestion: '$$' + left.toLatex() + ' = ' + right.toLatex() +'$$',\n\t\t\tanswer: fmtAns([r1, r2]),\n\t\t}\n\t}\n}\n\nexport class FactorQuadraticHard extends QGen {\n\tstatic info = {\n\t\tname: 'Factor Quadratic (Hard)',\n\t\tdescription: 'Factor a quadratic using AC method.'\n\t}\n\n\tstatic options = {\n\t\tlayout: [['instructions', 'question'], ['answer', 'diagram']],\n\t}\n\n\tgenerate(params) {\n\t\tlet rd = this.random\n\n\t\tconst a1 = rd.randint(2,5)\n\t\tconst a2 = rd.randint(2,8-a1)\n\n\t\tlet b1 = rd.randint(1,14-a2)\n\t\twhile (gcd(a1, b1) !== 1) {\n\t\t\tb1 = rd.randint(1,14-a2)\n\t\t}\n\t\tb1 *= rd.choice([-1,1])\n\n\t\t\n\t\tlet b2 = rd.randint(2, 14-a1)\n\t\twhile (gcd(a2, b2) !== 1) {\n\t\t\tb2 = rd.randint(1,14-a1)\n\t\t}\n\t\tb2 *= rd.choice([-1,1])\n\n\t\t// prevent difference of squares\n\t\twhile ((a1 === a2 && b1 === -b2) || (a1 === -a2 && b1 === b2)) {\n\t\t\tb2 = rd.randint(2, 14-a1)\n\t\t\twhile (gcd(a2, b2) !== 1) {\n\t\t\t\tb2 = rd.randint(1,14-a1)\n\t\t\t}\n\t\t\tb2 *= rd.choice([-1,1])\n\t\t}\n\n\t\tconst p1 = new Polynomial({1: a1, 0: b1})\n\t\tconst p2 = new Polynomial({1: a2, 0: b2})\n\n\t\tconst a = a1 * a2\n\t\tconst b = a1 * b2 + a2 * b1\n\t\tconst c = b1 * b2\n\n\t\tconst poly = new Polynomial({2: a, 1: b, 0: c})\n\n\t\tconst answer = `$$(${p1.toLatex()})(${p2.toLatex()})$$`\n\n\t\treturn {\n\t\t\tinstructions: 'Rewrite as the product of linear factors:',\n\t\t\tquestion: `$$${poly.toLatex()}$$`,\n\t\t\tanswer: answer,\n\t\t}\n\t}\n}\n\n\nexport class RationalGraph extends QGen {\n\tstatic info = {\n\t\tname: 'Rational Graph',\n\t\tdescription: 'Determine the equation from the graph of a rational function'\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\n\t\tconst makeFunction = (top, bottom) => {\n\t\t\tlet f = function(x) {\n\t\t\t\tlet n = 1\n\t\t\t\tlet d = 1\n\t\t\t\tfor (const r of top) {\n\t\t\t\t\tn *= (x - r)\n\t\t\t\t}\n\t\t\t\tfor (const r of bottom) {\n\t\t\t\t\td *= (x - r)\n\t\t\t\t}\n\t\t\t\treturn n / d\n\t\t\t}\n\t\t\treturn f\n\t\t}\n\n\t\tfunction generateValues() {\n\t\t\tlet vals = rd.sample(range(1, 9), 4).map(v => rd.random() < 0.5 ? v : -v)\n\t\t\tlet roots = [vals[0]]\n\t\t\tlet holes = [vals[1]]\n\t\t\tlet asymptotes = [vals[2]]\n\t\t\tif (rd.random() < 0.5) {\n\t\t\t\tasymptotes.push(vals[3])\n\t\t\t} else if (rd.random() < 0.8) {\n\t\t\t\tholes.push(vals[3])\n\t\t\t}\n\t\t\treturn ({roots, holes, asymptotes})\n\t\t}\n\n\t\tfunction allHolesInRange(holes, f) {\n\t\t\tfor (const r of holes) {\n\t\t\t\tif (f(r) <= -10 || f(r) >= 10) {\n\t\t\t\t\treturn false\n\t\t\t\t} \n\t\t\t}\n\t\t\treturn true\n\t\t}\n\n\t\tlet roots, holes, asymptotes, f\n\t\tlet isGood = false\n\n\t\twhile (!isGood) {\n\t\t\t({roots, holes, asymptotes} = generateValues())\n\t\t\tf = makeFunction(roots, asymptotes)\n\t\t\tisGood = allHolesInRange(holes, f)\n\t\t}\n\t\t\n\n\t\tconst graph = [\n\t\t\t'CartesianPlane',\n\t\t\t{span: [-10,-10,10,10], autogrid: true, height: '2.2in'},\n\t\t\t[\n\t\t\t\t'RationalFunction',\n\t\t\t\t{\n\t\t\t\t\tdomain: [-12,12],\n\t\t\t\t\trange: [-12,12],\n\t\t\t\t\troots, holes, asymptotes,\n\t\t\t\t}\n\t\t\t]\n\t\t]\n\n\n\t\tfunction fmtAns(ans) {\n\t\t\tlet numer = ''\n\t\t\tfor (const r of ans.top.sort((a,b) => b-a)) {\n\t\t\t\tnumer += '(' + math.simplify(`x - ${r}`).toString() + ')'\n\t\t\t}\n\t\t\tlet denom = ''\n\t\t\tfor (const r of ans.bottom.sort((a,b) => b-a)) {\n\t\t\t\tdenom += '(' + math.simplify(`x - ${r}`).toString() + ')'\n\t\t\t}\n\t\t\treturn `$$y = \\\\displaystyle\\\\frac{ ${numer} }{ ${denom} }$$`\n\t\t}\n\n\t\tconst answer = {top: [...roots, ...holes], bottom: [...holes, ...asymptotes]}\n\n\t\tconst wrongs = [\n\t\t\t{top: [...holes, ...asymptotes], bottom: [...holes, ...roots]},\n\t\t\t{top: [...roots], bottom: [...holes, ...asymptotes]},\n\t\t\t{top: [...roots, ...holes].map(r => -r), bottom: [...holes, ...asymptotes].map(r => -r)},\n\t\t\t{top: [...holes, ...asymptotes].map(r => -r), bottom: [...holes, ...roots].map(r => -r)},\n\t\t]\n\n\t\tconst i = rd.randint(0,wrongs.length)\n\t\tconst choices = rd.shuffle([answer, ...wrongs].map(fmtAns), i)\n\n\t\treturn {\n\t\t\tinstructions: 'Choose the equation that best describes the graph shown.',\n\t\t\tfreeResponse: {\n\t\t\t\tinstructions: 'Write the equation that best describes the graph shown.'\n\t\t\t},\n\t\t\tdiagram: {\n\t\t\t\ttype: 'vectorgraphic',\n\t\t\t\tdata: graph,\n\t\t\t},\n\t\t\tanswer: {\n\t\t\t\tcorrect: fmtAns(answer),\n\t\t\t\tchoices: choices,\n\t\t\t\tcorrectIndex: i,\n\t\t\t\tprompt: [{label: '$$y = $$', height: '8em', width: '20em'}],\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n\nexport class FindIntervals extends QGen {\n\tstatic info = {\n\t\tname: 'Intervals - Either',\n\t\tdescription: 'Identify intervals over which a graph is increasing or decreasing'\n\t}\n\n\tstatic params = {\n\t\ttoFind: {\n\t\t\tlabel: 'Type of interval to find',\n\t\t\ttype: 'multipleselect',\n\t\t\toptions: [\n\t\t\t\t{value: 'inc', label: 'increasing'}, \n\t\t\t\t{value: 'dev', label: 'decreasing'}\n\t\t\t],\n\t\t\tdefault: ['inc', 'dec'],\n\t\t},\n\t\tstyle: {\n\t\t\tlabel: 'Graph style',\n\t\t\ttype: 'select',\n\t\t\toptions: ['jagged', 'smooth'],\n\t\t\tdefault: 'smooth'\n\t\t},\n\t\tpoints: {\n\t\t\tlabel: 'Mark points',\n\t\t\ttype: 'bool',\n\t\t\tdefault: false,\n\t\t}\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\n\t\tconst toFind = rd.choice(params.toFind)\n\n\t\tconst xs = [-10]\n\t\tlet prev = -10\n\t\twhile (prev < 7) {\n\t\t\tconst next = rd.randint(prev+3, prev+5)\n\t\t\tif (next > 7) {\n\t\t\t\txs.push(8)\n\t\t\t} else {\n\t\t\t\txs.push(next)\n\t\t\t}\n\t\t\tprev = xs[xs.length-1]\n\t\t}\n\t\txs.push(10)\n\n\t\tconst yRange = [-4,4]\n\t\tconst ys = [rd.randint(...yRange)]\n\n\t\tlet maxConstantIntervals = 2\n\t\tlet which\n\t\twhile (ys.length < xs.length) {\n\t\t\tlet possible = []\n\t\t\tconst prev = ys[ys.length-1]\n\t\t\tif (which !== 'dec' & prev >= yRange[0]+2) {\n\t\t\t\tpossible.push('dec')\n\t\t\t}\n\t\t\tif (which !== 'inc' & prev <= yRange[1]-2) {\n\t\t\t\tpossible.push('inc')\n\t\t\t}\n\t\t\tif (which !== 'const' & maxConstantIntervals > 0) {\n\t\t\t\tpossible.push('const')\n\t\t\t\tmaxConstantIntervals -= 1\n\t\t\t}\n\t\t\twhich = rd.choice(possible)\n\t\t\tif (which === 'dec') {\n\t\t\t\tys.push(rd.randint(Math.max(yRange[0], prev-7), prev-2))\n\t\t\t} else if (which === 'inc') {\n\t\t\t\tys.push(rd.randint(prev+2, Math.min(yRange[1], prev+7)))\n\t\t\t} else {\n\t\t\t\tys.push(prev)\n\t\t\t}\n\t\t}\n\n\t\tif (rd.random() < 0.5) {\n\t\t\tys.reverse()\n\t\t}\n\n\t\tconst intervals = []\n\t\tfor (let i = 1; i < ys.length; i++) {\n\t\t\tif (ys[i-1] < ys[i]) {\n\t\t\t\tintervals.push('inc')\n\t\t\t} else if (ys[i-1] === ys[i]) {\n\t\t\t\tintervals.push('const')\n\t\t\t} else {\n\t\t\t\tintervals.push('dec')\n\t\t\t}\n\t\t}\n\n\t\tlet answer = []\n\t\tlet wrongAnswer1 = []  // ys insteas of xs\n\t\tlet wrongAnswer2 = []  // points instead of xs\n\t\tlet wrongAnswer3 = []  // switch dec/inc\n\t\tlet wrongAnswer4 = []  // switch dec/inc, ys instead of xs\n\n\t\tlet points = [\n\t\t\t{x: xs[0], y: ys[0]},\n\t\t]\n\t\tfor (let i=0; i < intervals.length; i++) {\n\t\t\tpoints.push({x: xs[i+1], y: ys[i+1]})\n\t\t\tif (intervals[i] === toFind) {\n\t\t\t\tanswer.push({start: xs[i], stop: xs[i+1]})\n\t\t\t\twrongAnswer1.push({start: ys[i], stop: ys[i+1]})\n\t\t\t\twrongAnswer2.push({start: xs[i], stop: ys[i]})\n\t\t\t\twrongAnswer2.push({start: xs[i+1], stop: ys[i+1]})\n\t\t\t} else if (intervals[i] === {'inc': 'dec', 'dec': 'inc'}[toFind]) {\n\t\t\t\twrongAnswer3.push({start: xs[i], stop: xs[i+1]})\n\t\t\t\twrongAnswer4.push({start: ys[i], stop: ys[i+1]})\n\t\t\t}\n\t\t}\n\n\t\tconst effects = params.style === 'smooth' ? {interpolate: 'cubic-h'} : {}\n\t\tconst markers = params.points ? {mid: 'point'} : undefined\n\t\t\n\t\tconst diagram = [\n\t\t\t\"CartesianPlane\",\n\t\t\t{\n\t\t\t\tspan: [-10,yRange[0]-1,10,yRange[1]+1], \n\t\t\t\tautogrid: true,\n\t\t\t\theight: '1.3in', \n\t\t\t},\n\t\t\t[\"Path\", { points, effects, markers }]\n\t\t]\n\t\t\n\t\tconst fullName = {inc: 'increasing', dec: 'decreasing'}[toFind]\n\n\t\tfunction fmtAns(ans) {\n\t\t\tif (ans.length === 0) {\n\t\t\t\treturn 'None'\n\t\t\t}\n\t\t\treturn '$$' + ans.map((int) => `(${int.start}, ${int.stop})`).join(', ') + '$$'\n\t\t}\n\n\t\tconst wrongs = [wrongAnswer1, wrongAnswer2, wrongAnswer3, wrongAnswer4]\n\t\tconst answerIndex = rd.randint(0, wrongs.length)\n\t\tconst choices = rd.shuffle([answer, ...wrongs], answerIndex).map(fmtAns)\n\n\t\treturn ({\n\t\t\tquestion: `Determine the intervals over which the function is ***${fullName}***.`,\n\t\t\tdiagram: {\n\t\t\t\ttype: 'vectorgraphic',\n\t\t\t\tdata: diagram,\n\t\t\t},\n\t\t\tanswer: {\n\t\t\t\tcorrect: fmtAns(answer),\n\t\t\t\tchoices: choices,\n\t\t\t\tcorrectIndex: answerIndex,\n\t\t\t\tprompt: [{width: '2in'}]\n\t\t\t}\n\t\t})\n\t}\n}\n\nexport class IncreasingIntervals extends FindIntervals {\n\tstatic info = {\n\t\tname: 'Intervals - Increasing',\n\t\tdescription: 'Identify intervals over which a graph is increasing',\n\t}\n\n\tstatic params = {\n\t\ttoFind: {\n\t\t\tlabel: 'Type of interval to find',\n\t\t\ttype: 'multipleselect',\n\t\t\toptions: [\n\t\t\t\t{value: 'inc', label: 'increasing'}, \n\t\t\t\t{value: 'dev', label: 'decreasing'}\n\t\t\t],\n\t\t\tdefault: ['inc'],\n\t\t},\n\t\tstyle: {\n\t\t\tlabel: 'Graph style',\n\t\t\ttype: 'select',\n\t\t\toptions: ['jagged', 'smooth'],\n\t\t\tdefault: 'smooth'\n\t\t},\n\t\tpoints: {\n\t\t\tlabel: 'Mark points',\n\t\t\ttype: 'bool',\n\t\t\tdefault: false,\n\t\t}\n\t}\n}\n\nexport class DecreasingIntervals extends FindIntervals {\n\tstatic info = {\n\t\tname: 'Intervals - Decreasing',\n\t\tdescription: 'Identify intervals over which a graph is decreasing',\n\t}\n\n\tstatic params = {\n\t\ttoFind: {\n\t\t\tlabel: 'Type of interval to find',\n\t\t\ttype: 'multipleselect',\n\t\t\toptions: [\n\t\t\t\t{value: 'inc', label: 'increasing'}, \n\t\t\t\t{value: 'dev', label: 'decreasing'}\n\t\t\t],\n\t\t\tdefault: ['dec'],\n\t\t},\n\t\tstyle: {\n\t\t\tlabel: 'Graph style',\n\t\t\ttype: 'select',\n\t\t\toptions: ['jagged', 'smooth'],\n\t\t\tdefault: 'smooth'\n\t\t},\n\t\tpoints: {\n\t\t\tlabel: 'Mark points',\n\t\t\ttype: 'bool',\n\t\t\tdefault: false,\n\t\t}\n\t}\n}\n\n\nclass AngleMeasure extends QGen {\n\tstatic info = {\n\t\tname: 'Angle Measure',\n\t\tdescription: '',\n\t}\n\n\tgenerate(params) {\n\n\t\tconst translate = (a, b) => [a[0] + b[0], a[1]+ b[1]]\n\t\tconst difference = (a, b) => [a[0] - b[0], a[1] - b[1]]\n\t\t//const complexMult = (a, b) => [a[0] * b[0] - a[1] * b[1], a[1] * b[0] + a[0] * b[1]]\n\t\t/*\n\t\tconst rotate = (pt, angle, center=[0,0]) => {\n\t\t\tconst radians = angle * Math.PI / 180\n\t\t\tconst rotator = [Math.cos(radians), Math.sin(radians)]\n\t\t\tconst recenter = difference(pt, center)\n\t\t\treturn translate(complexMult(recenter, rotator), center)\n\t\t}\n\t\t*/\n\n\t\tconst rd = this.random\n\n\t\tconst angle1 = rd.randint(35, 145)\n\n\t\tconst rotateBy = rd.randint(0, 359)\n\t\t//let diagram = new Canvas(-20, -20, 20, 20, {height: '1.5in'})\n\t\t//let graph = new PlotElement('g', {transform: `rotate(${rotateBy})`})\n\n\t\tconst intersect1 = [-5,0]\n\t\tconst r = 10\n\t\tconst pp = [r * Math.cos(angle1 * Math.PI / 180), r * Math.sin(angle1 * Math.PI / 180)]\n\t\tconst top1 = translate(intersect1, pp)\n\t\tconst bottom1 = difference(intersect1, pp)\n\n\t\tconst intersect2 = [intersect1[0] + r, intersect1[1]]\n\t\tconst top2 = [top1[0] + r, top1[1]]\n\t\tconst bottom2 = [bottom1[0] + r, bottom1[1]]\n\n\t\tconst left = [intersect1[0] - r, intersect1[1]]\n\t\tconst right = [intersect2[0] + r, intersect2[1]]\n\n\t\t\n\t\tconst diagram = [\n\t\t\t'CartesianPlane',\n\t\t\t{span: [-20,-20,20,20], height: '3in', autogrid: false, style: 'geom'},\n\t\t\t[\n\t\t\t\t'Rotate', \n\t\t\t\t{degrees: rotateBy},\n\t\t\t\t['GeomLine', {points: [left, right]}],\n\t\t\t\t['GeomLine', {points: [top1, bottom1]}],\n\t\t\t\t['GeomLine', {points: [top2, bottom2]}],\n\t\t\t\t['Point', {coords: intersect1}],\n\t\t\t\t['Point', {coords: intersect2}]\n\t\t\t]\n\t\t]\n\n\n\t\treturn {\n\t\t\tinstructions: 'Work in progress',\n\t\t\tdiagram: {\n\t\t\t\t'type': 'vectorgraphic',\n\t\t\t\t'data': diagram,\n\t\t\t}\n\t\t}\n\n\t}\n}\n\nexport class RationalZeroTheorem extends QGen {\n\tstatic info = {\n\t\tname: 'Rational Zero Theorem',\n\t\tdescription: 'State possible rational zeros for a polynomial function.'\n\t}\n\n\tstatic options = {\n\t\tanswerchoices: {\n\t\t\tlistDirection: 'horizontal'\n\t\t}\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\t\tlet primes = rd.sample([1, 2, 3, 5, 7, 11], 4)\n\t\tfor (const i in primes) {\n\t\t\tif (primes[i] === 1) {\n\t\t\t\tif (i === 0 | i === 2) {\n\t\t\t\t\tprimes[i+1] = Math.pow(primes[i+1], rd.randint(1,2))\n\t\t\t\t} else {\n\t\t\t\t\tprimes[i-1] = Math.pow(primes[i-1], rd.randint(1,2))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (const i in primes) {\n\t\t\tif (primes[i] === 2 | primes[i] === 3) {\n\t\t\t\tprimes[i] = Math.pow(primes[i], rd.randint(1,2))\n\t\t\t}\n\t\t}\n\t\tconst leading_coeff = primes[0] * primes[1]\n\t\tconst trailing_coeff = primes[2] * primes[3]\n\t\tconst degree = rd.randint(3,6)\n\t\tconst num_coeffs = rd.randint(3,degree)\n\t\tlet poly = randomPolynomialCoefficients.call(this, {degree: degree, terms: num_coeffs})\n\t\tpoly[0] = trailing_coeff\n\t\tpoly[degree] = leading_coeff\n\t\tconst f = new Polynomial(poly)\n\n\t\tconst question = '$$f(x) = ' + f.toLatex() + '$$'\n\t\t\n\t\tconst correctNumerators = listFactors(trailing_coeff, {include1: true, includeN: true})\n\t\tconst correctDenominators = listFactors(leading_coeff, {include1: true, includeN: true})\n\t\t\n\t\tconst allPossibleZeros = []\n\t\tfor (const a of correctNumerators) {\n\t\t\tfor (const b of correctDenominators) {\n\t\t\t\tallPossibleZeros.push(`${a}/${b}`)\n\t\t\t}\n\t\t}\n\n\t\tconst numCorrect = rd.choice([0,1,1,2,2,2,2,3,3,4])\n\t\tconst correctAnswers = []\n\t\twhile (correctAnswers.length < numCorrect) {\n\t\t\tconst [a, b] = [rd.choice(correctNumerators), rd.choice(correctDenominators)]\n\t\t\tconst s = `${a}/${b}`\n\t\t\tif (!_.includes(correctAnswers, s)) {\n\t\t\t\tcorrectAnswers.push(s)\n\t\t\t}\n\t\t}\n\n\t\tconst wrongAnswers = []\n\t\twhile (wrongAnswers.length < 4-numCorrect) {\n\t\t\tconst [a,b] = [rd.choice(correctDenominators), rd.choice(correctNumerators)]\n\t\t\tconst s = `${a}/${b}`\n\t\t\tif (!(s == '1/1') && !_.includes(wrongAnswers, s)) {\n\t\t\t\twrongAnswers.push(s)\n\t\t\t}\n\t\t}\n\n\t\tconst allChoices = [...correctAnswers, ...wrongAnswers]\n\t\tconst shuffled = []\n\t\tconst correctIndex = numCorrect ? [] : 4\n\t\tfor (let i = 0; i < 4; i++) {\n\t\t\tconst a = rd.poprandom(allChoices)\n\t\t\tif (_.includes(correctAnswers, a)) {\n\t\t\t\tcorrectIndex.push(i)\n\t\t\t}\n\t\t\tshuffled.push(a)\n\t\t}\n\n\t\treturn {\n\t\t\tinstructions: \"Which of the following are possible zeros of the function according to the _Rational Zero Theorem_? Choose ***all*** that apply.\",\n\t\t\tquestion: question,\n\t\t\tanswer: {\n\t\t\t\tcorrect: allPossibleZeros.map(s => `$$${fraction(s).toLatex()}$$`).join(', '),\n\t\t\t\tchoices: [...shuffled.map(s => `$$\\\\displaystyle ${fraction(s).toLatex()}$$`), 'None of these'],\n\t\t\t\tcorrectIndex: correctIndex,\n\t\t\t},\n\t\t\tfreeResponse: {\n\t\t\t\tinstructions: \"List all possible rational zeros of the function (according to the _Rational Zero Theorem_).\"\n\t\t\t}\n\t\t}\n\t}\n}\n\n\nexport class MatchTransformations extends QGen {\n\tstatic info = {\n\t\tname: 'Match Transformations',\n\t\tdescription: 'Match equations with graphs'\n\t}\n\n\tstatic params = {\n\t\tparents: {\n\t\t\tlabel: 'Allowed Parent Functions',\n\t\t\ttype: 'multipleselect',\n\t\t\toptions: [\n\t\t\t\t{value: 'sqrt', label: 'Square root'},\n\t\t\t\t{value: 'quad', label: 'Quadratic'},\n\t\t\t\t{value: 'abs', label: 'Absolute value'},\n\t\t\t\t{value: 'cubic', label: 'Cubic'},\n\t\t\t\t{value: 'exp2', label: 'Exponential'},\n\t\t\t\t{value: 'log2', label: 'Logarithm'},\n\t\t\t],\n\t\t\tdefault: ['sqrt', 'quad', 'abs', 'cubic', 'exp2', 'log2'],\n\t\t}\n\t}\n\n\tstatic options = {\n\t\tlayout: ['instructions', 'question', ['answer', 'diagram']]\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\n\t\t/*\n\t\tconst parents = params.parents ? params.parents : [\n\t\t\t'abs', 'quad', 'sqrt', 'cubic',\n\t\t\t'exp2', \n\t\t\t'log2',\n\t\t]\n\t\t*/\n\t\tconst parent = rd.choice(params.parents)\n\n\t\tconst transforms = ['up', 'down', 'left', 'right', 'flipDown', 'flipLR']\n\t\t\n\t\tlet eqns = []\n\t\tlet paths = []\n\n\t\tconst v = rd.randint(2,5)\n\t\tfor (const t of transforms) {\n\t\t\tconst func = new TransformTracker(parent)\n\n\t\t\tif (t === 'up') func.shiftV(v)\n\t\t\telse if (t === 'down') func.shiftV(-v)\n\t\t\telse if (t === 'left') func.shiftH(-v)\n\t\t\telse if (t === 'right') func.shiftH(v)\n\t\t\telse if (t === 'stretchV') func.stretchV(v)\n\t\t\telse if (t === 'flipDown') func.stretchV(-v)\n\t\t\telse if (t === 'stretchH') func.stretchH(v)\n\t\t\telse if (t === 'flipLR') func.compressH(-v)\n\n\t\t\tconst eqn = func.toLatex()\n\t\t\teqns.push(`$$y = ${eqn}$$`)\n\t\t\tconst f = func.f()\n\t\t\tconst points = []\n\t\t\tlet start, stop\n\t\t\tconst {a, b, h, k} = func\n\t\t\tif (func.parent === 'sqrt') {\n\t\t\t\t[start, stop] = b < 0 ? [-10, h*b] : [h*b, 10]\n\t\t\t}\n\t\t\telse if (func.parent === 'log2') {\n\t\t\t\tif (b < 0) {\n\t\t\t\t\t[start, stop] = [-10, h*b-0.01]\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t[start, stop] = [h*b+0.01, 10]\n\t\t\t\t\tpoints.push({x: h*b, y: -a*1000})\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t[start, stop] = [-10, 10]\n\t\t\t}\n\t\t\tlet x = start\n\t\t\twhile (x <= stop) {\n\t\t\t\tconst y = f(x)\n\t\t\t\tpoints.push({x, y})\n\t\t\t\tx += 0.2\n\t\t\t}\n\t\t\tif (func.parent === 'log2' && b < 0) {\n\t\t\t\tpoints.push({x: h*b, y: -a*1000})\n\t\t\t}\n\t\t\tpaths.push(points)\n\t\t}\n\n\t\tconst graphPoints = points => ({\n\t\t\ttype: 'vectorgraphic',\n\t\t\tdata: [\n\t\t\t\t'CartesianPlane', \n\t\t\t\t{ span: [-7,-7,7,7], autogrid: true, height: '1.2in' },\n\t\t\t\t['Path', { points }]\n\t\t\t]\n\t\t})\n\n\t\tconst eqnScramble = rd.shuffleRange(0, 5)\n\t\tconst graphScramble = rd.shuffleRange(0, 5)\n\n\t\tconst letters = 'ABCDEF'\n\t\tconst diagrams = [\n\t\t\t'div', {style: {\n\t\t\t\tdisplay: 'grid', \n\t\t\t\tgridTemplateColumns: '1fr 1fr 1fr',\n\t\t\t\tgridTemplateRows: '1fr 1r',\n\t\t\t}},\n\t\t\t...graphScramble.map((p, i) => [\n\t\t\t\t'div', {style: {\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\talignItems: 'center',\n\t\t\t\t}}, \n\t\t\t\t['div', {style: {marginLeft: '5mm'}}, letters[i] + ') '], \n\t\t\t\tgraphPoints(paths[p])\n\t\t\t])\n\t\t]\n\n\t\tconst eqnTable = {\n\t\t\ttype: 'table',\n\t\t\tdata: {\n\t\t\t\theadings: ['Equation', 'Graph'],\n\t\t\t\trows: [\n\t\t\t\t\t...eqnScramble.map(i => [\n\t\t\t\t\t\teqns[i], \n\t\t\t\t\t\t{type: 'emptyspace', data: {height: '7mm', width: '7mm'}},\n\t\t\t\t\t])\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\n\t\tconst answer = eqnScramble.map(i => letters[graphScramble.indexOf(i)]).join(', ')\n\n\t\treturn {\n\t\t\tinstructions: 'Fill in the table to match each equation to its graph.',\n\t\t\tdiagram: {\n\t\t\t\ttype: 'jsonml',\n\t\t\t\tdata: diagrams,\n\t\t\t},\n\t\t\tanswer: {\n\t\t\t\tprompt: eqnTable,\n\t\t\t\tcorrect: answer,\n\t\t\t}\n\t\t}\n\n\t}\n}\n","\n\nconst test = function(f, x, y) {\n  const r = f({x: x, y: y})\n  if (r > 0) { return 'gt' }\n  if (r < 0) { return 'lt'}\n  return 'eq'\n}\n\nconst contourPresent = function(f, x, y, d) {\n  const p = d / 30\n  let q, r, s, t\n  try {\n    q = test(f, x, y)\n  } catch(e) {\n    q = test(f, x+p, y+p)\n  }\n  \n  try {\n    r = test(f, x+d, y)\n  } catch(e) {\n    r = test(f, x+d-p, y+p)\n  }\n  if (r !== q) return true\n\n  try {\n    s = test(f, x+d, y+d)\n  } catch(e) {\n    s = test(f, x+d-p, y+d-p)\n  }\n  if (s !== q) return true\n\n  try {\n    t = test(f, x, y+d)\n  } catch(e) {\n    t = test(f, x+p, y+d-p)\n  }\n  if (t !== q) return true\n\n  return false\n}\n\n\nconst subdivide = function(f, x, y, d, depth, searchDepth) {\n  const hd = d / 2\n  const props = [hd, depth-1, searchDepth-1]\n  return [\n    ...createTree(f, x, y, ...props),\n    ...createTree(f, x+hd, y, ...props),\n    ...createTree(f, x+hd, y+hd, ...props),\n    ...createTree(f, x, y+hd, ...props)\n  ]\n}\n\nconst createTree = function(f, x, y, d, depth, searchDepth) {\n  if (searchDepth > 0) {\n    return subdivide(f, x, y, d, depth, searchDepth)\n  } else {\n    if (contourPresent(f, x, y, d)) {\n      if (depth > 0) {\n        return subdivide(f, x, y, d, depth, searchDepth)\n      } else {\n        return [{x: x+d/2, y: y+d/2}]\n      }\n    } else {\n      return []\n    }\n  }\n}\n\n\nclass QuadTree {\n\tconstructor({left, right, x=-10, y=-10, d=20, depth=10, searchDepth=6}) {\n    this.f = p => left(p) - right(p)\n\t\tthis.x = x\n\t\tthis.y = y\n\t\tthis.d = d\n\t\tthis.depth = depth\n\t\tthis.searchDepth = searchDepth\n\t}\n\n\tcalcPoints() {\n\t\treturn createTree(this.f, this.x, this.y, this.d, this.depth, this.searchDepth)\n\t}\n}\n\nexport {\n  QuadTree,\n  createTree,\n}","import { createTree } from './QuadTree'\n\n\nexport function makesrange(min, max, step=1, anchor) {\n\tif (anchor === undefined) {\n\t\tanchor = min;\n\t} else if (anchor < min) {\n\t\tanchor = min;\n\t} else if (anchor > max) {\n\t\tanchor = max;\n\t}\n\tlet r = [anchor,];\n\tlet v = anchor - step;\n\twhile (v >= min) {\n\t\t\tr.splice(0, 0, v);\n\t\t\tv -= step;\n\t}\n\tv = anchor + step;\n\twhile (v <= max) {\n\t\t\tr.push(v);\n\t\t\tv += step;\n\t}\n\treturn r;\n}\n\nexport function round(n, d) {\n\treturn Math.round(d * Math.pow(10,d)) / Math.pow(10,d)\n}\n\nconst clipdef = ({span, padX, padY, clipID}) => {\n\tconst [x0, y0, x1, y1] = span\n\tconst w = x1 - x0, h = y1 - y0\n\treturn (\n\t\t[\n\t\t\t'defs'\n\t\t\t[\n\t\t\t\t'clipPath', {id: `clip-path-${clipID}`},\n\t\t\t\t[\n\t\t\t\t\t'rect', {x: x0-padX, y: y0-padY, width: w+2*padX, height: h+2*padY}\n\t\t\t\t]\n\t\t\t]\n\t\t]\n\t)\n}\n\nlet clipCounter = 0\n\nexport const cartesianPlane = function(props, ...children) {\n\tconst {span, autogrid=false, padding, ...otherprops} = props\n  const [x0, y0, x1, y1] = span\n  const xpad = (x1 - x0) * .1\n  const ypad = (y1 - y0) * .1\n  const clipPadX = padding === undefined ? (x1 - x0) * .005 : padding\n  const clipPadY = padding === undefined ? (y1 - y0) * .005 : padding\n  const w = x1 - x0\n  const h = y1 - y0\n  const viewBox = `${x0-xpad} ${-y1-ypad} ${w+2*xpad} ${h+2*ypad}`\n\n  const clipID = ++clipCounter\n\n  return (\n\t\t[\n\t\t\t'svg', {viewBox, className: 'plot-cartesian-plane', ...otherprops},\n\t\t\tclipdef({span, padX: clipPadX, padY: clipPadY, clipID}),\n\t\t\t[\n\t\t\t\t'g', {style: {transform: 'scale(1,-1)'}},\n\t\t\t\t(autogrid ? grid({x: {start: x0, end: x1}, y: {start: y0, end: y1}}) : null),\n\t\t\t\t[\n\t\t\t\t\t'g', {clipPath: `url(#clip-path-${clipID})`},\n\t\t\t\t\t...children,\n\t\t\t\t]\n\t\t\t]\n\t\t]\n\t)\n}\n\n\nexport const grid = function(props) {\n\tconst x = {step: 1, axis: 0}\n  const y = {step: 1, axis: 0}\n  Object.assign(x, props.x)\n  Object.assign(y, props.y)\n\n\tlet t\n  const xvals = []\n  if (x.step) {\n    t = x.start\n    while (t <= x.end) {\n      xvals.push(t);\n      t += x.step\n    }\n  }\n\n  const yvals = []\n  if (y.step) {\n    t = y.start\n    while (t <= y.end) {\n      yvals.push(t);\n      t += y.step\n    }\n\t}\n\n\tconst xmap = v => ['path', {\n\t\tclassName: 'plot-grid-line', \n\t\td: `M${v},${y.start}V${y.end}`,\n\t\tvectorEffect: 'non-scaling-stroke',\n\t}]\n\n\tconst ymap = v => ['path', {\n\t\tclassName: 'plot-grid-line',\n\t\td: `M${x.start},${v}H${x.end}`,\n\t\tvectorEffect: 'non-scaling-stroke',\n\t}]\n\t\n\treturn ['g', \n\t\t...xvals.map(xmap),\n\t\t...yvals.map(ymap),\n\t\t['path', {className: 'plot-axis', d: `M${x.axis},${y.start}V${y.end}`, vectorEffect: 'non-scaling-stroke'}],\n\t\t['path', {className: 'plot-axis', d: `M${x.start},${y.axis}H${x.end}`, vectorEffect: 'non-scaling-stroke'}],\n\t]\n}\n\nexport const point = (props) => {\n\tconst {x, y, coords, ...otherprops} = props\n\tconst pt = coords ? `${coords[0]},${coords[1]}` : `${x},${y}`\n  const d = `M${pt}L${pt}z`\n  return [\n\t\t'path', \n\t\t{d, className: 'plot-path-point', vectorEffect: 'non-scaling-stroke'},\n\t]\n}\n\nexport const hole = (props) => {\n  const {x, y, coords, inner, outer} = props\n  const d = `M${coords ? `${coords[0]},${coords[1]}` : `${x},${y}`}z`\n  return [\n\t\t'path',\n\t\t{d, className: 'plot-hole', vectorEffect: 'non-scaling-slope'},\n\t]\n}\n\n\nconst defaultMarker = p => ['circle', {cx: p.x, cy: p.y, r: '0.05'}]\n\nexport const quadTreePlot = function(\n\tquadtreeprops, \n\t{marker=defaultMarker, style={fill: 'rgba(200,0,100,0.6)'}}={}\n) {\n\tconst {f, x, y, d, depth, searchDepth} = quadtreeprops\n\tconst points = createTree(f, x, y, d, depth, searchDepth)\n\treturn [\n\t\t'g', {style: style},\n\t\t...points.map(marker),\n\t]\n}\n","import QGen from './QGen'\nimport * as svg from './tools/svgplot'\nimport { createTree } from './tools/QuadTree'\n\n\nexport class RationalPlot extends QGen {\n  static info = {\n    name: 'RationalFunction',\n    description: 'test vectorgraphic RationalFunction'\n  }\n\n  generate(params) {\n    const rd = this.random\n\n    const inv = rd.choice([true, false])\n\n    const numRoots = rd.randint(0,2)\n    const numAsymptotes = rd.randint(1,3)\n    const numHoles = rd.randint(0,2)\n    const total = numRoots + numAsymptotes + numHoles\n    const values = rd.sampleRange(-9,9,total)\n    const roots = values.slice(0,numRoots)\n    const asymptotes = values.slice(numRoots, numRoots+numAsymptotes)\n    const holes = values.slice(numRoots+numAsymptotes)\n    const domain = [-11,11]\n\n    const [x, y] = inv ? ['y', 'x'] : ['x', 'y']\n\n    let num = ''\n    let den = ''\n\n    for (const r of [...roots, ...holes].sort((a,b) => b-a)) {\n      if (r === 0) {\n        num = `${x}${num}`\n      } else if (r > 0) {\n        num = `${num}(${x}-${r})`\n      } else {\n        num = `${num}(${x}+${-r})`\n      }\n    }\n\n    for (const r of [...asymptotes, ...holes].sort((a,b) => b-a)) {\n      if (r === 0) {\n        den = `${x}${den}`\n      } else if (r > 0) {\n        den = `${den}(${x}-${r})`\n      } else {\n        den = `${den}(${x}+${-r})`\n      }\n    }\n\n    if (num === '') num = '1'\n    if (den === '') den = '1'\n\n    const graph = {\n      type: 'vectorgraphic',\n      data: [\n        'CartesianPlane',\n        {span: [-10,-10,10,10], autogrid: true, height: '2in'},\n        [\n          'Transforms',\n          {list: [inv ? 'invertXY' : 'none']},\n          [\n            'RationalFunction',\n            {roots, holes, asymptotes, domain}\n          ]\n        ]\n      ]\n    }\n\n    return {\n      question: `The graph of $$\\\\displaystyle ${y} = \\\\frac{${num}}{${den}}$$`,\n      diagram: graph,\n    }\n\n\n  }\n}\n\nexport class PolynomialPlot extends QGen {\n  static info = {\n    name: 'PolynomialFunction',\n    description: 'test vectorgraphic PolynomialFunction'\n  }\n\n  generate(params) {\n    const rd = this.random\n\n    const deg = rd.randint(2,7)\n    const inv = rd.choice([true, false])\n    let coeffs = rd.sample([-5,-4,-3,-2,-1,0,1,2,3,4,5], deg+1)\n    const denom = rd.randint(2, 21)\n    \n    if (coeffs[coeffs.length-1] === 0) {\n      coeffs = coeffs.slice(0,-1)\n    }\n    const [v, w] = inv ? ['y', 'x'] : ['x', 'y']\n    let tex = ''\n    for (let i = coeffs.length-1; i >= 0; i--) {\n      const c = coeffs[i]\n      const x = i === 0 ? '' : `${v}^{${i}}`\n      if (c > 0) {\n        if (i < coeffs.length-1) tex += '+';\n        if (c !== 1 || i === 0) tex += c;\n        tex += x\n      } else if (c < 0) {\n        if (c !== -1 || i === 0) {\n          tex += c\n        } else {\n          tex += '-'\n        }\n        tex += x\n      }\n    }\n\n    const transform = inv ? 'invertXY' : 'none'\n\n    const graph = [\n      'CartesianPlane',\n      {span: [-10,-10,10,10], autogrid: true, width: '2in'},\n      [\n        'Transforms',\n        {list: [transform]},\n        [\n          'PolynomialFunction',\n          {coefficients: coeffs.map(c => c/denom), domain: [-11,11]}\n        ]\n      ]\n    ]\n\n    const question = `The graph of a $$\\\\displaystyle ${w} = \\\\frac{1}{${denom}}(${tex})$$`\n\n    return {\n      question: question,\n      diagram: {\n        type: 'vectorgraphic',\n        data: graph,\n      },\n      answer: {\n        prompt: null,\n      }\n    }\n  }\n}\n\nexport class PlotStyling extends QGen {\n  static info = {\n    name: 'Plot Style',\n    description: 'test applying custom styling to vectorgraphic'\n  }\n\n  generate(params) {\n    const x = t => 9*Math.sin(t)\n    const y = t => 9*Math.sin(1.17*t)\n    const step = 0.1\n    let path1 = []\n    let path2 = []\n    let path3 = []\n    let path4 = []\n\n    let t = -36\n\n    while (t <= -18) {\n      path1.push([x(t), y(t)])\n      t += step\n    }\n    path1.push([x(t), y(t)])\n\n    while (t <= 0) {\n      path2.push([x(t), y(t)])\n      t += step\n    }\n    path2.push([x(t), y(t)])\n\n    while (t <= 18) {\n      path3.push([x(t), y(t)])\n      t += step\n    }\n    path3.push([x(t), y(t)])\n\n\n    while (t <= 36) {\n      path4.push([x(t), y(t)])\n      t += step\n    }\n    path4.push([x(t), y(t)])\n\n\n    return {\n      answer: {prompt: null},\n      question: 'The graph of $$(x,y) = (9\\\\sin(t), 9\\\\cos(1.17t))$$ for $$-36 \\\\leq t \\\\leq 36$$:',\n      diagram: {\n        type: 'vectorgraphic', \n        data: [\n          'CartesianPlane', \n          {\n            span: [-10,-10,10,10], \n            autogrid: false,\n            height: '3in',\n          },\n          [\n            'Layer', {},\n            [\n              'Layer',\n              {style: {'--vg-path-color': 'hsl(340,70%,60%)'}},\n              ['Path', {points: path4}],\n            ],\n            [\n              'Layer',\n              {style: {'--vg-path-color': 'hsl(30,90%,50%)'}},\n              ['Path', {points: path3}],\n            ],\n            [\n              'Layer',\n              {style: {'--vg-path-color': 'hsl(80,90%,40%)'}},\n              ['Path', {points: path2}],\n            ],\n            [\n              'Layer',\n              {style: {'--vg-path-color': 'hsl(170,90%,40%)'}},\n              ['Path', {points: path1}],\n            ]\n          ]\n        ]\n      }\n    }\n  }\n}\n\n\nexport class FontTest extends QGen {\n  static info = {\n    name: \"Font Test\"\n  }\n\n  generate(params) {\n    \n    const text = 'the quick brown fox jumps over the lazy dog 1234567890'\n\n    let lines = []\n\n    for (const chars of [text, text.toUpperCase()]) {\n      for (const x of ['', '_', '__', '___']) {\n        lines.push(`${x}${chars}${x}`)\n      }\n    }\n\n    lines.push('$$\\\\text{' + text + '}$$ (LaTeX)')\n\n    const dontConfuse = ['IJl1']\n\n    for (const d of dontConfuse) {\n      let line = []\n      for (let i = 0; i < d.length-1; i++) {\n        for (let j = i+1; j < d.length; j++) {\n          line.push(d[i] + d[j])\n        }\n      }\n      for (const x of ['', '_', '__', '___']) {\n        lines.push(`${x}${line.join(' ')}${x}`)\n      }\n    }\n\n    const question = [\n      '_y = ax^2^ + bx +c_', \n      '$$y = ax^2 + bx + c$$',\n    ].join('  \\n')\n\n    return {\n      instructions: lines.join('  \\n'),\n      question: question,\n    }\n  }\n}\n\nexport class QuadTreePlotTest extends QGen {\n  static info = {\n    name: 'QuadTree Plot Test',\n    description: 'Test alternate graphing algorithm'\n  }\n\n  generate(params) {\n    const f1 = ({x, y}) => Math.pow(Math.sin(x*x), 1)\n    const f2 = ({x, y}) => Math.pow(Math.cos(y*y), 1)\n    //const f3 = ({x, y}) => Math.pow(Math.sin(y*y), 1)\n    //const f4 = ({x, y}) => Math.pow(Math.cos(x*x), 1)\n\n    \n    let points = createTree(pt => f1(pt) - f2(pt), -7, -7, 14, 8, 7)\n\n    /*\n    const marker = ({x, y}) => ['circle', {cx: x, cy: y, r: '0.1'}]\n\n    const graph = svg.cartesianPlane(\n      {span: [-7,-7,7,7], autogrid: true, height: '5in', width: '5in'},\n      [\n        'g', {style: {fill: 'rgba(200,0,100,0.3)'}},\n        ...points.map(marker),\n      ]\n    )\n    */\n   const graph = [\n     'CartesianPlane',\n     {span: [-7,-7,7,7], autogrid: true, width: '2.5in'},\n     [\n       'ScatterPlot',\n       { points }\n     ]\n   ]\n\n\n\n    return {\n      answer: null,\n      question: \"The graph of $$\\\\sin(x^2) = \\\\cos(y^2)$$:\",\n      diagram: {\n        type: 'vectorgraphic',\n        data: graph,\n      }\n    }\n  }\n}\n\nclass MdTest extends QGen {\n\n  static info = {\n    name: 'Formatting Test',\n    description: 'Test markdown/latex'\n  }\n\n  generate(params) {\n\n    const mdtest = `# Heading\n\nRegular, _Italic_, __Bold__, ___Both___, ~sub~script, ^super^script,  \\`monospaced\\`,  \narrows: --> <-- ==> <== <--> <==>\n\nThe formula $$x = \\\\frac{-b \\\\pm \\\\sqrt{b^2 - 4ac}}{2a}$$\nis used to solve quadratic equations.\n\nThe Collatz Function:\n$$$f(n) = \\\\left\\\\{ \\\\begin{array}{rl}\n  n \\\\div 2 & \\\\text{ if $n$ is even} \\\\\\\\\n  3n+1 & \\\\text{ if $n$ is odd}\n\\\\end{array}\\\\right.$$$\n\n- Thing A\n  - Thing A.1\n  - Thing A.2\n- Thing B\n\ninput ($$x$$) | output ($$y$$)\n:-: | :-:\n-3  | 3\n-2  | -2 \n-1  | -5\n 0  | -6\n\n> All summations have a beginning, all effect has a  \n> story, all kindness begins with the sown seed.  \n> Thought buds toward radiance. The gospel of  \n> light is the crossroads of -- indolence, or action.  \n> \n> Be ignited, or be gone.\n\n[Hyperlink](https://npr.org)\n\n${'```'}python\ndef gcd(a, b):\n    if a == b or b == 0:\n        return a\n    elif a == 0:\n        return b\n    else:\n      return gcd(a, a-b) if a > b else gcd(b, b-a)\n${'```'}\n`\n\n    return ({\n      answer: null,\n      question: {\n        type: 'markdown',\n        data: mdtest,\n      },\n    })\n  }\n\n}\n\n\n\nexport class VegaLite extends QGen {\n  static info = {\n    name: 'Vega Lite',\n    description: 'test vega-lite render type'\n  }\n\n  generate(params) {\n    let points = []\n\n    const f = x => ({x: x, y: 6*x - x*x, function: 'f'})\n    const g = x => ({x: x, y: 5*Math.sin(x), function: 'g'})\n\n    let t = 0\n    while (t <= 7) {\n      points.push(f(t))\n      points.push(g(t))\n      t += 0.2\n    }\n\n    const diagram2 = {\n      data: { values: points },\n      mark: {\n        type: 'line', \n        interpolate: 'monotone',\n      },\n      \"encoding\": {\n        x: {\n          field: 'x', \n          type: 'quantitative',\n        },\n        y: {\n          field: 'y', \n          type: 'quantitative',\n        },\n        color: {\n          field: 'function',\n          type: 'nominal'\n        }\n      },\n    }\n\n    return {\n      answer: null,\n      instructions: 'The graphs of $$f(x) = - x^2 + 6x$$ and $$g(x) = 5\\\\sin(x)$$',\n      diagram: {\n        type: 'vega-lite',\n        data: diagram2,\n      }\n    }\n  }\n}\n\nclass VegaTest extends QGen {\n  static info = {\n    name: 'Vega Test',\n    description: 'Test Vega rendering'\n  }\n\n  generate(params) {\n    return {\n      answer: null,\n      instructions: \"Rendered with Vega:\",\n      diagram: {\n        type: 'vega',\n        data: {\n          \"$schema\": \"https://vega.github.io/schema/vega/v4.json\",\n          \"width\": 500,\n          \"height\": 200,\n          \"padding\": 5,\n        \n          \"signals\": [\n            {\n              \"name\": \"interpolate\",\n              \"value\": \"linear\",\n              \"bind\": {\n                \"input\": \"select\",\n                \"options\": [\n                  \"basis\",\n                  \"cardinal\",\n                  \"catmull-rom\",\n                  \"linear\",\n                  \"monotone\",\n                  \"natural\",\n                  \"step\",\n                  \"step-after\",\n                  \"step-before\"\n                ]\n              }\n            }\n          ],\n        \n          \"data\": [\n            {\n              \"name\": \"table\",\n              \"values\": [\n                {\"x\": 0, \"y\": 28, \"c\":0}, {\"x\": 0, \"y\": 20, \"c\":1},\n                {\"x\": 1, \"y\": 43, \"c\":0}, {\"x\": 1, \"y\": 35, \"c\":1},\n                {\"x\": 2, \"y\": 81, \"c\":0}, {\"x\": 2, \"y\": 10, \"c\":1},\n                {\"x\": 3, \"y\": 19, \"c\":0}, {\"x\": 3, \"y\": 15, \"c\":1},\n                {\"x\": 4, \"y\": 52, \"c\":0}, {\"x\": 4, \"y\": 48, \"c\":1},\n                {\"x\": 5, \"y\": 24, \"c\":0}, {\"x\": 5, \"y\": 28, \"c\":1},\n                {\"x\": 6, \"y\": 87, \"c\":0}, {\"x\": 6, \"y\": 66, \"c\":1},\n                {\"x\": 7, \"y\": 17, \"c\":0}, {\"x\": 7, \"y\": 27, \"c\":1},\n                {\"x\": 8, \"y\": 68, \"c\":0}, {\"x\": 8, \"y\": 16, \"c\":1},\n                {\"x\": 9, \"y\": 49, \"c\":0}, {\"x\": 9, \"y\": 25, \"c\":1}\n              ]\n            }\n          ],\n        \n          \"scales\": [\n            {\n              \"name\": \"x\",\n              \"type\": \"point\",\n              \"range\": \"width\",\n              \"domain\": {\"data\": \"table\", \"field\": \"x\"}\n            },\n            {\n              \"name\": \"y\",\n              \"type\": \"linear\",\n              \"range\": \"height\",\n              \"nice\": true,\n              \"zero\": true,\n              \"domain\": {\"data\": \"table\", \"field\": \"y\"}\n            },\n            {\n              \"name\": \"color\",\n              \"type\": \"ordinal\",\n              \"range\": \"category\",\n              \"domain\": {\"data\": \"table\", \"field\": \"c\"}\n            }\n          ],\n        \n          \"axes\": [\n            {\"orient\": \"bottom\", \"scale\": \"x\", 'titleFont': 'Zilla Slab'},\n            {\"orient\": \"left\", \"scale\": \"y\"}\n          ],\n        \n          \"marks\": [\n            {\n              \"type\": \"group\",\n              \"from\": {\n                \"facet\": {\n                  \"name\": \"series\",\n                  \"data\": \"table\",\n                  \"groupby\": \"c\"\n                }\n              },\n              \"marks\": [\n                {\n                  \"type\": \"line\",\n                  \"from\": {\"data\": \"series\"},\n                  \"encode\": {\n                    \"enter\": {\n                      \"x\": {\"scale\": \"x\", \"field\": \"x\"},\n                      \"y\": {\"scale\": \"y\", \"field\": \"y\"},\n                      \"stroke\": {\"scale\": \"color\", \"field\": \"c\"},\n                      \"strokeWidth\": {\"value\": 2}\n                    },\n                    \"update\": {\n                      \"interpolate\": {\"signal\": \"interpolate\"},\n                      \"fillOpacity\": {\"value\": 1}\n                    },\n                    \"hover\": {\n                      \"fillOpacity\": {\"value\": 0.5}\n                    }\n                  }\n                }\n              ]\n            }\n          ]\n        }\n        \n      }\n    }\n  }\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport ReactModal from 'react-modal';\nimport {\n  Preview,\n  SideBar,\n  StatusBar,\n  TopBar,\n  Wrapper,\n} from '../components'\nimport Document from './Document/Document'\nimport CustomQuestion from './CustomQuestion'\nimport Notes from './Notes'\nimport { CheckStateButton } from './Debug'\nimport SettingsPage, {\n  AllowEditingToggle,\n  AnswerKeyToggle,\n  FixPagination,\n  FontFamily,\n  FontSize,\n  PageMargin,\n  PreviewZoom,\n  StartNumbering\n} from './Settings'\n\n\nimport '../stylesheets/styles.global.css'\n\nimport {\n  addToDocument,\n  removeLast,\n  clearAll,\n} from '../actions/document'\n\nimport {\n  examplequestions, demogenerators\n} from '../questions'\n\n\nlet questionBank = {}\nfor (const q in examplequestions) {\n  const n = examplequestions[q].register().name\n  questionBank[n] = examplequestions[q]\n}\nfor (const q in demogenerators) {\n  const n = `_ ${demogenerators[q].register().name}`\n  questionBank[n] = demogenerators[q]\n}\n\n\nReactModal.setAppElement('#root')\nObject.assign(ReactModal.defaultStyles.content, {\n  borderRadius: '4px',\n  borderColor: '#999',\n  background: '#eee',\n  padding: '5mm',\n  top: '10px',\n  left: '10px',\n  right: '10px',\n  bottom: '10px',\n})\nObject.assign(ReactModal.defaultStyles.overlay, {\n  background: 'rgba(100,100,100,0.2)',\n})\n\n\n//let questionID = 0;\n\nclass AppWrapper extends React.Component {\n  constructor(props) {\n    super(props)\n    this.questionTypeSelect = React.createRef()\n    this.state = {\n      modal: 'none',\n    }\n  }\n\n  addToDoc = (elem) => {\n    this.props.addToDocument(elem)\n  }\n\n  generateAndAdd = () => {\n    const questionType = this.questionTypeSelect.current.value\n    if (questionType !== '__NONE__') {\n      console.log(`Generating ${questionType}`)\n      try {\n        const qtype = this.props.questionTypes[questionType]\n        const question = new qtype()\n        this.addToDoc(question.output())\n      } catch(e) {\n        console.log('failed')\n        console.log(e)\n      }\n    }\n  }\n\n  closeModal = () => this.setState({modal: 'none'})\n  openRpcTest = () => this.setState({modal: 'RpcTest'})\n  openCustomQuestion = () => this.setState({modal: 'CustomQuestion'})\n  openSettings = () => this.setState({modal: 'Settings'})\n  \n  renderQuestionList() {\n    const sortfunc = (a, b) => {\n      const A = a.toUpperCase(), B = b.toUpperCase()\n      if (A > B) return 1\n      if (A < B) return -1\n      return 0\n    }\n\n    return Object.keys(this.props.questionTypes).sort(sortfunc).map(k => {\n      const register = this.props.questionTypes[k].register()\n      return (\n        <option key={`qtype${k}`} \n          title={register.description}\n          value={k} >\n          {k}\n        </option>\n      )\n    })\n  }\n\n  render() {\n    const toplabel = {margin: '0 0 0 0.5em'}\n    return (\n      <Wrapper >\n        {/* customTitleBar ? <TitleBar /> : null */}\n        <TopBar>\n          <button onClick={window.print}>Print / PDF</button>\n          <button onClick={this.openSettings}>Settings</button>\n          <span style={toplabel}>Answer Key:</span><AnswerKeyToggle />\n          <span style={toplabel}>Start Numbering At:</span><StartNumbering />\n          <span style={toplabel}>Font:</span><FontFamily/><FontSize />\n          <span style={toplabel}>Margins:</span><PageMargin />\n          <span style={toplabel}>Zoom:</span><PreviewZoom />\n          <span style={toplabel}>Allow Editing:</span><AllowEditingToggle />\n          <div style={{width: '3mm'}} />\n          <FixPagination/>\n        </TopBar>\n        <Preview>\n          <Document/>\n        </Preview>\n        <SideBar>\n          <select ref={this.questionTypeSelect} defaultValue='__NONE__'>\n            <option value='__NONE__' disabled>Question Type</option>\n            <option value='__NONE__' disabled>-------</option>\n            {this.renderQuestionList()}\n          </select>\n          <button onClick={this.generateAndAdd}>Add</button>\n          <button onClick={this.openCustomQuestion}>Custom Question</button>\n          <button onClick={this.props.removeLast}>Remove Last</button>\n          <button onClick={this.props.clearAll}>Clear All</button>\n          <div style={{height: '1in'}}></div>\n          <button onClick={() => this.setState({modal: 'Notes'})}>Notes</button>\n          <CheckStateButton>Log State</CheckStateButton>\n        </SideBar>\n        { this.props.statusBar ? <StatusBar><span>{this.props.statusBar}</span></StatusBar> : null }\n\n        <ReactModal\n          isOpen={this.state.modal === 'Settings'}\n          onRequestClose={this.closeModal}\n          style={{\n            content: {\n              top: 0,\n              bottom: 0,\n              left: 0,\n              right: 0,\n              padding: 0,\n            },\n          }}\n        >\n          <SettingsPage onRequestClose={this.closeModal}/>\n        </ReactModal>\n\n        <ReactModal\n          isOpen={this.state.modal === 'CustomQuestion'}\n          onRequestClose={this.closeModal}\n        >\n          <CustomQuestion onRequestClose={this.closeModal}/>\n          <button onClick={this.closeModal}>Close</button>\n        </ReactModal>\n\n        <ReactModal\n          isOpen={this.state.modal === 'Notes'}\n          onRequestClose={this.closeModal}\n          style={{\n            content: {\n              width: '4in',\n              top: '1in',\n              left: '1in',\n              right: 'unset',\n              bottom: 'unset',\n              backgroundColor: 'white',\n            }\n          }}\n        >\n          <Notes onRequestClose={this.closeModal} />\n        </ReactModal>\n\n      </Wrapper>\n    )\n\n  }\n}\n\nconst mapStateToProps = state => ({\n  questionTypes: questionBank,\n  statusBar: \"\",\n  fontFamilyUI: state.config.fontFamilyUI,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: q => dispatch(addToDocument(q)),\n  removeLast: () => dispatch(removeLast()),\n  clearAll: () => dispatch(clearAll()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AppWrapper)","import React from 'react';\nimport { Provider } from 'react-redux';\nimport App from './App'\n\n\nexport default class Root extends React.Component {\n  render() {\n    const { store } = this.props;\n    return (\n      <Provider store={store}>\n        <App />\n      </Provider>\n    )\n  }\n}\n","import {\n  ADD_TO_DOCUMENT,\n  CLEAR_ALL,\n  REMOVE_LAST,\n  UPDATE_ELEMENT,\n  SET_DOCUMENT_STARTNUMBERING,\n  ADD_PAGEBREAK_BEFORE,\n  DELETE_ELEMENT,\n  CLEAR_PAGEBREAKS,\n} from '../actions/document'\n\n\n\nconst initialState = {\n  content: {},\n  order: [],\n  headers: {\n    1: {\n      type: 'header',\n      data: [\n        {left: 'Assignment', right: 'Name ___'},\n        {right: 'Date __ Class _'},\n      ],\n    },\n    default: {type: 'header', data: []},\n  },\n  footers: {},\n  pagebreaks: [],\n  startNumbering: 1,\n}\n\nconst document = function(state=initialState, action) {\n  switch (action.type) {\n    // content\n    case ADD_TO_DOCUMENT:\n      return {\n        ...state, \n        content: {...state.content, [action.payload.id]: action.payload.element},\n        order: [...state.order, action.payload.id]\n      }\n    case CLEAR_ALL:\n      return {\n        ...state, \n        content: {},\n        order: [], \n        pagebreaks: [],\n      }\n    case REMOVE_LAST:\n      return {\n        ...state, \n        order: state.order.slice(0,-1), \n        pagebreaks: state.pagebreaks.filter(n => n < state.order.length),\n      }\n    case DELETE_ELEMENT:\n      if (typeof action.payload === 'string') {\n        if (action.payload.split('.')[0] === 'header') {\n          return {\n            ...state, headers: {...state.headers, [action.payload.split('.')[1]]: {type: 'header', data: []}}\n          }\n        }\n\n      }\n      //Note that this does not remove the element from 'content', only from 'order'\n      return {\n        ...state, \n        order: state.order.filter(id => id !== action.payload),\n        pagebreaks: state.pagebreaks.filter(n => n < state.order.length),\n      }\n    case UPDATE_ELEMENT:\n      if (typeof action.payload.id === 'string') {\n        if (action.payload.id.split('.')[0] === 'header') {\n          return {\n            ...state, \n            headers: {...state.headers, [action.payload.id.split('.')[1]]: action.payload.element}}\n        }\n      }\n      return {\n        ...state, \n        content: {...state.content, [action.payload.id]: action.payload.element}\n      }\n\n\n    // settings\n    case SET_DOCUMENT_STARTNUMBERING:\n      return {...state, startNumbering: action.payload}\n\n\n\n    // view\n    case ADD_PAGEBREAK_BEFORE:\n      for (const i in state.order) {\n        if (state.order[i] === action.payload) {\n          return {...state, pagebreaks: [...state.pagebreaks, i]}\n        }\n      }\n      return state\n    case CLEAR_PAGEBREAKS:\n      return {...state, pagebreaks: []}\n      \n    \n    default:\n      return state\n  }\n}\n\nexport default document\n\n","import {\n  ADD_LOCAL_FONT,\n  SET_ALLOW_EDITING,\n  SET_FONTFAMILY_UI,\n  SET_SHOW_ANSWERKEY,\n  SET_HIDDEN_COUNT,\n} from '../actions/config'\n\nconst initialState = {\n  //titleBarStyle: 'default',\n  localFonts: [],\n  fontFamilyUI: 'select',\n  showAnswerKey: true,\n  allowEditing: true,\n  numberHidden: 0,\n}\n\nconst config = function(state=initialState, action) {\n  switch(action.type) {\n    case ADD_LOCAL_FONT:\n      return {...state, localFonts: [...state.localFonts, action.payload]}\n    case SET_ALLOW_EDITING:\n      return {...state, allowEditing: action.payload}\n    case SET_FONTFAMILY_UI:\n      return {...state, fontFamilyUI: action.payload}\n    case SET_SHOW_ANSWERKEY:\n      return {...state, showAnswerKey: action.payload}\n    case SET_HIDDEN_COUNT:\n      return {...state, numberHidden: action.payload}\n    default:\n      return state\n  }\n}\n\nexport default config","import {\n  SET_DOCUMENT_FONTFAMILY,\n  SET_DOCUMENT_FONTSIZE,\n  SET_MATH_FONTSIZE,\n  SET_MATH_FONTWEIGHT,\n  SET_PAGE_MARGIN,\n  UPDATE_GRAPHSTYLE,\n  RESET_GRAPHSTYLE,\n} from '../actions/style'\n\n\nconst initialState = {\n  fontFamily: 'serif',\n  fontSize: '8pt',\n  mathFontSize: '0.9em',\n  mathFontWeight: 'normal',\n  pageSize: 'letter',\n  pageOrientation: 'portrait',\n  pageMargin: '10mm 10mm 10mm 10mm',\n  graph: {\n    asymptoteColor: '#777777',\n    asymptoteWidth: '0.7mm',\n    axisColor: '#222222',\n    axisWidth: '0.3mm',\n    gridColor: '#888888',\n    gridWidth: '0.1mm',\n    plotPathColor: '#ff2600',\n    plot2PathColor: '#0044cc',\n    plotPathWidth: '0.5mm',\n    geomPathColor: '#009955',\n    geomPathWidth: '0.5mm',\n    shadedRegionOpacity: '0.3',\n  },\n}\n\nconst style = function(state=initialState, action) {\n  switch(action.type) {\n    // Fonts\n    case SET_DOCUMENT_FONTFAMILY:\n      return {...state, fontFamily: action.payload}\n    case SET_DOCUMENT_FONTSIZE:\n      return {...state, fontSize: action.payload}\n    case SET_MATH_FONTSIZE:\n      return {...state, mathFontSize: action.payload}\n    case SET_MATH_FONTWEIGHT:\n      return {...state, mathFontWeight: action.payload}\n\n    // Page Layout\n    case SET_PAGE_MARGIN:\n      return {...state, pageMargin: action.payload}\n\n    // Graph Style\n    case UPDATE_GRAPHSTYLE:\n      return {...state, graph: {...state.graph, ...action.payload}}\n    case RESET_GRAPHSTYLE:\n      return {...state, graph: {...initialState.graph}}\n\n    default:\n      return state\n  }\n}\n\nexport default style","import { combineReducers } from 'redux'\nimport document from './document'\nimport config from './config'\nimport style from './style'\n\nconst rootReducer = combineReducers({\n  config, document, style\n})\n\nexport default rootReducer","import React from 'react';\nimport Root from './containers/Root';\nimport { createStore } from 'redux';\nimport rootReducer from './reducers';\n\nconst store = createStore(rootReducer);\n\nconst App = () => <Root store={store} />\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n"],"sourceRoot":""}