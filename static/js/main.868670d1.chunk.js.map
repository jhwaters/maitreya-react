{"version":3,"sources":["containers/Document/testing/scratch.module.css","containers/AppLayout/Preview.js","containers/AppLayout/SideBar.js","containers/AppLayout/StatusBar.js","containers/AppLayout/TitleBar.js","containers/AppLayout/TopBar.js","containers/AppLayout/Wrapper.js","actions/document.js","rendering/renderTypes/VectorGraphics/react-svgplot/Style.js","rendering/renderTypes/VectorGraphics/react-svgplot/Overlay.js","rendering/renderTypes/VectorGraphics/react-svgplot/Canvas.js","rendering/renderTypes/VectorGraphics/react-svgplot/Grid.js","rendering/renderTypes/VectorGraphics/react-svgplot/Label.js","rendering/renderTypes/VectorGraphics/react-svgplot/Shapes.js","rendering/renderTypes/VectorGraphics/react-svgplot/Transform.js","rendering/renderTypes/VectorGraphics/AngleMark.js","rendering/renderTypes/VectorGraphics/Clip.js","rendering/renderTypes/VectorGraphics/CoordinatePlane.js","rendering/renderTypes/VectorGraphics/Grid.js","rendering/renderTypes/VectorGraphics/Layer.js","rendering/renderTypes/VectorGraphics/funcs.js","rendering/renderTypes/VectorGraphics/Path.js","rendering/renderTypes/VectorGraphics/Functions.js","rendering/renderTypes/VectorGraphics/constants.js","rendering/renderTypes/VectorGraphics/Shapes.js","rendering/renderTypes/VectorGraphics/Style.js","rendering/renderTypes/VectorGraphics/index.js","rendering/renderTypes/EmptySpace.js","rendering/renderTypes/katexMath.js","rendering/renderTypes/Markdown.js","rendering/renderTypes/Math.js","rendering/renderTypes/PageHeader.js","rendering/renderTypes/Question.js","rendering/renderTypes/Table.js","rendering/renderTypes/Text.js","rendering/renderTypes/vegaconfig.js","rendering/renderTypes/Vega.js","rendering/renderTypes/VegaPlot.js","rendering/renderTypes/index.js","rendering/renderTypes/AnswerSpace.js","rendering/renderTypes/Container.js","rendering/renderTypes/List.js","rendering/renderTypes/RenderError.js","rendering/renderObject.js","rendering/editObject/DefaultEditor.js","rendering/editObject/EditPageHeader.js","rendering/editObject/EditQuestion.js","rendering/editObject/index.js","rendering/editObject/EditText.js","rendering/index.js","actions/style.js","actions/config.js","containers/Modals/AddFontPopup.js","containers/Settings/Font/AddLocalFont.js","containers/Settings/Font/FontFamilyUI.js","containers/Settings/Font/FontFamilyInput.js","containers/Settings/Font/FontFamilySelect.js","containers/Settings/Font/FontFamily.js","containers/Settings/Font/FontSize.js","containers/Settings/Font/FontLoader.js","containers/Settings/Font/MathFontSettings.js","containers/Settings/Font/TextPreview.js","containers/Settings/Font/index.js","containers/Settings/Font/FontSettings.js","containers/CustomQuestion/LatexExamples.js","containers/CustomQuestion/GraphMaker.js","containers/CustomQuestion/CustomQuestion.js","containers/CustomQuestion/index.js","containers/Modals/CustomQuestionModal.js","containers/Modals/EditElementModal.js","reducers/document.js","initialize/setstyle.js","reducers/style.js","containers/Modals/ImportModal.js","containers/Modals/NotesModal.js","containers/Presentation/SingleQuestionView.js","containers/Presentation/SlideView.js","containers/Presentation/PresentationView.js","containers/Presentation/PracticeMode.js","containers/Modals/PracticeModal.js","containers/Modals/PresentationModal.js","containers/Modals/SavePopup.js","containers/Settings/Graph/GraphStyle.js","containers/Settings/Graph/GraphPreview.js","containers/Settings/Graph/GraphSettings.js","containers/Settings/Graph/index.js","containers/Settings/Page/PageMargin.js","containers/Settings/Page/PageSize.js","containers/Settings/Page/PageMargins.js","containers/Settings/Page/index.js","containers/Settings/Page/PageSettings.js","containers/Settings/UI/GUImode.js","containers/Settings/UI/PreviewZoom.js","containers/Settings/UI/UITheme.js","containers/Settings/UI/index.js","containers/Settings/UI/UISettings.js","containers/Settings/SettingsPage.js","containers/Settings/AllowEditing.js","containers/Settings/AnswerKeyToggle.js","containers/Settings/FixPagination.js","containers/Settings/StartNumbering.js","containers/Settings/index.js","containers/Modals/SettingsModal.js","actions/generators.js","containers/GeneratorMenu/SetGeneratorParams.js","containers/Modals/SetGeneratorDefaultsPopup.js","containers/Modals/modalsetup.js","containers/Modals/index.js","actions/uistate.js","containers/Document/TopLevelElement.js","containers/Document/pagesize.js","containers/Document/MeasuredPage.js","containers/Document/Page.js","containers/Document/AnswerKey.js","containers/Document/testing/vegagraph.js","questions/tools/logic/evaluate.js","questions/tools/logic/analyze.js","questions/tools/logic/truthtable.js","questions/tools/logic/latex.js","questions/tools/logic/simplify.js","questions/tools/logic/circuits.js","questions/tools/logic/index.js","containers/Document/testing/scratchpage.js","containers/Document/Document.js","containers/Debug/CheckState.js","containers/GeneratorMenu/QuestionSearch.js","containers/GeneratorMenu/AddButton.js","containers/App.js","containers/Root.js","reducers/config.js","reducers/generators.js","reducers/uistate.js","reducers/index.js","initialize/loadfonts.js","initialize/settheme.js","questions/tools/random_randomjs.js","questions/QGen.js","questions/tools/geom2d.js","questions/tools/handystuff.js","questions/geometry.js","questions/picofermi.js","questions/polynomials.js","questions/transformations.js","questions/trigonometry.js","questions/othergenerators.js","questions/tools/saynumber.js","questions/bonusquestions.js","questions/simpleexamples.js","questions/tools/QuadTree.js","questions/generatortests.js","questions/logic.js","initialize/generators.js","App.js","initialize/index.js","serviceWorker.js","index.js","containers/Settings/Graph/styles.module.css","rendering/renderTypes/styles.module.css","containers/Presentation/styles.module.css","containers/Modals/styles.module.css","containers/AppLayout/styles.module.css","containers/GeneratorMenu/styles.module.css","containers/CustomQuestion/styles.module.css","containers/Settings/styles.module.css"],"names":["module","exports","FO","Div1","Div2","Previewer","react_default","a","createElement","className","styles","PreviewOuter","PreviewInner","this","props","children","React","Component","SideBar","StatusBar","TitleBar","TopBar","Wrapper","classNames","statusBar","push","join","elemID","addToDocument","elem","type","payload","element","id","axisArrow","MarkerSymbols","viewBox","refX","refY","cx","cy","r","d","points","transform","MarkerDefs","_ref","stylename","markerW","markerH","Fragment","concat","markerWidth","markerHeight","markerUnits","orient","xlinkHref","x","y","height","width","FillPatternDefs","_ref2","patternUnits","patternTransform","StyleDefs","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","ref","createRef","CTM","current","getCTM","setState","checkSize","w","h","_this$state$CTM","b","c","s","Math","max","abs","Style_MarkerDefs","Style_FillPatternDefs","styleCount","Style","name","color","styleprops","objectWithoutProperties","uniquename","style","objectSpread","_arr","_i","length","shape","_arr2","_i2","pattern","vectorEffect","Style_StyleDefs","OverlayPosition","x1","y1","x2","y2","_props$cartesian","cartesian","position","left","top","overflow","Overlay","rotate","anchor","displacement","innerstyle","transformOrigin","_E$NE$N$NW$W$SW$S$SE$","slicedToArray","E","NE","N","NW","W","SW","S","SE","center","initialTransform","undefined","constructor","dx","parseFloat","dy","ux","replace","uy","angle","radius","u","round","cos","PI","sin","angles","rotateAngle","Canvas","preserveAspectRatio","_props$border","border","wrapperprops","display","padding","svgprops","margin","gprops","Children","toArray","svgchildren","filter","overlays","assign","Style_MarkerSymbols","map","o","i","Overlay_OverlayPosition","key","Grid","_props$xStep","xStep","_props$yStep","yStep","xvals","yvals","t","v","Label","ctm","_this$props$anchor","anglemap","right","anchorAngle","outerstyle","fontSize","xmlns","Circle","Ellipse","Rect","updatePropsWithMarkers","markerProps","positions","markers","Line","Polygon","Polyline","Path","Point","coords","_props$marker","marker","pathprops","Shapes_Path","matrix","params","e","f","Array","isArray","_params3","_params3$","_params3$2","_params3$3","_params3$4","_params3$5","_params3$6","_params$a","_params$b","_params$c","_params$d","_params$e","_params$f","makeTransform","_params4","_params4$","_params4$2","_params$x3","_params$y3","_params2","_params2$","_params2$2","_params$x2","_params$y2","scale","_params","_params$","_params$2","_params$x","_params$y","translate","Transform","list","layerprops","transforms","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","value","ty","_ref2$","str","err","return","determineRadius","minRadius","maxRadius","angleSize","terminal","initial","parseCoords","coord","_coord$split$map","split","n","_coord$split$map2","_coord","determineVertex","vertex","parseAngleSide","side","degrees","radians","includes","_side$split$map","_side$split$map2","atan2","_parseCoords","determineAngles","measure","term","measureDeg","initDeg","init","termDeg","RightAngleMark","_determineVertex","_determineAngles","vec1","vec2","clipPoints","VectorGraphics_Clip","react_svgplot_Transform","VectorGraphics_Shapes_Rect","styleName","RoundAngleMark","_determineVertex2","_determineAngles2","arcStart","arcEnd","VectorGraphics_Shapes_Circle","CongruentAngleMarks","_determineVertex3","_determineAngles3","congruent","apply","toConsumableArray","radii","VectorGraphics_Style","slice","AngleMark","square","clipCount","Clip","Elem","_props$id","shapeprops","clipPath","toMM","convertToMM","val","unit","Clipper","clip","Styler","connect","scaleFactor","graph","span","_span","s1","_s1$0$split","_s1$0$split2","_s1$0$split3","_s1$0$split4","_s1$1$split","_s1$1$split2","_s","parseSpan","console","error","_props$margin","_props$grid","grid","_props$axis","axis","_props$style","_props$clip","_props$scaleFactor","canvas","clipper","styler","marg","log","vbmarg","react_svgplot_Canvas","VectorGraphics_Grid","exactname","VectorGraphics_Path","CoordinatePlane_Clipper","CoordinatePlane_Styler","_props$step","step","react_svgplot_Style","react_svgplot_Grid","Shapes_Line","Layer","polylineFromPoints","p","renderPath","fill","_props$connect","Shapes_Polygon","Shapes_Polyline","rest","calcPath","domain","arguments","path","otherprops","Shapes_Circle","Shapes_Rect","stylenames","VectorGraphics","Asymptote","Path_Path","CoordinatePlane","Shapes_Ellipse","PolynomialFunction","coefficients","roots","_props$leadingCoeffic","leadingCoefficient","warn","ans","deg","pow","RationalFunction","_domainPts","_props$roots","_props$holes","holes","_props$asymptotes","asymptotes","_props$numerLC","numerLC","_props$denomLC","denomLC","_props$step2","_props$range","range","_props$renderAsymptot","renderAsymptotes","_props$renderRoots","renderRoots","_props$renderHoles","renderHoles","num","den","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","domainPts","defineProperty","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","domains","dp","keys","sort","v1","v2","def","paths","dom","ha","vas","Shapes_Point","ScatterPlot","parseBorder","formulaToKatex","formula","options","katex","renderToString","ParseError","defaultOptions","renderMath","mdSuperscript","mdSubscript","mdSmartarrows","mathDelimiters","inline","InlineMarkdown","data","opts","defaultsDeep","md","MarkdownIt","use","mdsub","mdsup","mdsmartarrows","mdmath","inlineRenderer","formulaToHtml","blockRenderer","displayMode","inlineOpen","inlineClose","blockOpen","blockClose","dangerouslySetInnerHTML","__html","renderInline","Markdown","render","html","DisplayMath","renderHeaderElement","text","parts","result","isBlank","blankSize","nextChar","size","parseHeader","defaultLayout","layoutAnswerRight","QuestionLayout","content","layout","_ref$direction","direction","newDirection","row","column","useLayout","answer","area","renderObject","determineVariant","variant","choices","variants","multipleChoice","determineContent","othercontent","usecontent","variantContent","listDirection","prompt","determineAnswerSpace","correct","parseAnswer","Question","Question_QuestionLayout","markdown","ParseMath","delimiters","delimiter","splitAtDelimiters","splitWithDelimiters","Markdown_InlineMarkdown","Text_Plain","Math_DisplayMath","Math_Math","Plain","Text","RenderMethod","fontFamily","makeConfig","strokeWidth","fillOpacity","line","gridColor","gridWidth","gridOpacity","bandPosition","labelOverlap","labelPadding","labelSeparation","primary","stroke","functionStroke1","secondary","functionStroke2","tertiary","functionStroke3","asymptote","asymptoteColor","asymptoteWidth","strokeOpacity","asymptoteOpacity","strokeDash","dashed","strokeDashOffset","function","functionStrokeWidth","geometry","geometryStrokeWidth","colors","black","grey","blue","green","orange","pink","purple","red","k","makeColors","mapStateToProps","config","vegaconfig","Vega","spec","_ref$renderer","renderer","react_vega_min_default","VegaLite","_ref2$renderer","react_vega_lite_min_default","makeGrid","values","start","end","reverse","anchoredRange","ticks","labels","makeAxis","axisColor","axisOpacity","axisWidth","makeLabels","title","_props$labels","tickColor","tickWidth","marksDef","_ref3","clip_","encode","enter","field","defaultStyle","_props$domain","_props$width","_props$height","_props$padding","_props$plots","plots","_props$labels2","_props$renderer","plotstyle","scales","zero","axes","xTitle","yTitle","_ref$xLabels","xLabels","_ref$yLabels","yLabels","_ref$axis","_ref$grid","makeAxes","$schema","autosize","_ref5","marks","_ref6","from","wrapperstyle","OverlayWrapper","nonTerminal","AnswerBlanks","minWidth","minHeight","box","AnswerChoices","Container","_props$direction","alignItems","_props$wrap","justifyItems","wrap","divstyle","flexDirection","flexWrap","List","Table","headIndex","header","tableprops","borderCollapse","align","alignment","colStyles","blocks","block","j","char","colStyle","textAlign","borderLeft","borderRight","parseAlignment","cssvar","TRow","_props$header","rowprops","borderBottom","borderTop","elemstyle","VegaPlot","childless","AnswerKey","letters","correctIndex","isEqual","determineAnswerKey","EmptySpace","PageHeader","rows","_row","NumberedQuestion","Question_Question","RenderError","JSON","stringify","parseObject","object","_object","others","_others","_parseObject","Text_Text","toString","DefaultEditor","updateAndClose","onUpdateElement","getStateData","onRequestClose","deleteAndClose","onDeleteElement","revertChanges","rendering_RenderComponent","gridTemplateColumns","onClick","justifySelf","renderEditor","renderPreview","EditPageHeader","headingAddRow","headingRemoveRow","lr","newrow","_this2","inputStyle","onChange","evt","headingUpdate","target","variantNames","freeResponse","parseAndSetVariant","_parseObject$props","_props$content","_props$options","newState","updateVariant","updateInstructions","updateContent","updateInstructionsMC","updateInstructionsFR","updateQuestion","updateQuestionMC","updateQuestionFR","updated","fieldname","overrides","updaters","instructions","default","question","cols","placeholder","renderVariantSelect","renderInstructionsOrQuestionInputs","fontWeight","renderTypes","EditQuestion","updateChild","el","renderChildEditor","dispatch","idstr","_idstr$split","_idstr$split2","updateElement","_idstr$split3","_idstr$split4","deleteElement","RenderType","DefaultEditor_DefaultEditor","RenderComponent","setDocumentFontFamily","family","setPageMargin","margins","updateGraphStyle","addFontFamily","font","setAutoPagination","bool","setUITheme","theme","document","documentElement","removeAttribute","setAttribute","setPresentationZoom","zoom","AddFontPopup","close","input","setFromPrompt","setFontFamily","handleKeyPress","lib_default","Popup","isOpen","autoFocus","onKeyPress","PopupButtons","defaultProps","AddLocalFont","addFont","spellCheck","buttonLabel","FontFamilyUI","setFontFamilyUI","fontFamilyUI","inputtype","FontFamilyInput","SortToEnd","fontLabels","__CUSTOM__","cmu_bright","cmu_concrete","cmu_sansserif","cmu_serif","katex_sansserif","katex_main","sans-serif","serif","fontSort","indexOf","aName","toUpperCase","bName","fontSortByName","FontFamilySelect","fontList","fontFamilies","openPopup","label","disabled","renderFontOption","openModal","Font_FontFamilyInput","Font_FontFamilySelect","FontSizeSelect","setDocFontSize","setDocumentFontSize","renderSizeOptions","googleFonts","fontStyles","BioRhyme","Merriweather","FontLoader","updateInput","updateSelection","selection","loadFont","request","WebFont","load","google","families","fontactive","addAndSetFont","fontinactive","loadAll","toAdd","loadInputFont","loadSelectedFont","currentFontFamilies","setFont","renderButton","renderInput","renderSelect","MathFontSettings","onChangeSize","setSize","onChangeWeight","checked","setWeight","onChangeFamily","setFamily","setMathFontSize","weight","setMathFontWeight","setMathFontFamily","currentFamily","currentSize","min","htmlFor","bold","currentWeight","mathFontSize","mathFontWeight","mathFontFamily","tabsize","onKeyDown","keyCode","selectionStart","selectionEnd","substring","preventDefault","TextPreview","updatePreview","outputStyle","output","defaultValue","renderType","parse","wrapperElement","FontSettings","Font_FontFamilyUI","Font_FontFamily","Font_FontLoader","Font_MathFontSettings","--doc-font-size","Font_TextPreview","latexfmt","String","raw","examples","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_templateObject10","_templateObject11","_templateObject12","_templateObject13","_templateObject14","_templateObject15","_templateObject16","RenderExample","LatexExamples","LatexExamples_RenderExample","floor","calcParametric","pt","parseFunction","func","math","compile","scope","eval","GraphMaker","updateMode","mode","updateStandard","standard","updateInverse","inverse","updateParametricX","parametricX","updateParametricY","parametricY","updateX0","x0","updateX1","updateY0","y0","updateY1","updateT0","t0","updateT1","t1","updateStep","updateHeight","updateAutoDomain","autoDomain","updateAutoSize","autoSize","onSubmit","getData","getDomain","ymap","xmap","xpmap","ypmap","graphSize","autogrid","getFunction","GraphMakerHeading","GraphMakerBody","GraphMakerInput","renderMode","renderInputs","renderDomainInput","renderGridInputs","renderHeightInput","GraphMakerPreview","jsonExample","CustomQuestion","openExamples","modal","openGraphMaker","closeModal","updateDiagram","diagram","updateAnswer","updateJSON","json","updateInputType","inputType","addQuestion","getDataFromState","setJsonExample","previewStyle","CustomQuestionMaker","gridTemplateAreas","gridArea","backgroundColor","CustomQuestion_LatexExamples","CustomQuestion_GraphMaker","q","thing","CustomQuestionModal","FullModal","containers_CustomQuestion","uistate","selectedElement","get","editObject","initialState","generationInfo","order","0","1","footer","pagebreaks","startNumbering","numberHidden","action","omit","where","setStyle","setProperty","removeProperty","kebabCase","columns","pageSize","pageOrientation","pageMargin","anglemarkColor","anglemarkFillOpacity","geomStroke1","geomStroke2","geomStrokeWidth","geomMarkerColor","labelFontSize","newstyle","ImportModal","setImportMode","importMode","filename","validFilename","message","dragOver","handleDragEnter","stopPropagation","handleDragLeave","handleDragOver","dataTransfer","dropEffect","handleDrop","file","files","readFile","selectFile","canLoad","loadJson","loadDocument","loadStyle","fixPagination","appendContent","reader","FileReader","onload","checkData","readAsText","dataString","_unused","toLoad","initialDocumentState","initialStyleState","bottom","borderRadius","Import","ImportDragbox","ImportDragboxDragover","onDrop","onDragOver","onDragEnter","onDragLeave","doc","ids","append","_ref$where","updateOrder","NotesModal","marginRight","SingleQuestionView","--vg-transform","--vg-label-font-size","--doc-startnumber","number","questionContent","showAnswer","marginBottom","KEYMAP","collapse","previous","incZoom","decZoom","SlideView","setPresentationScaleFactor","setGraphScaleFactor","hideAnswer","toggleAnswer","changeScaleFactor","setScaleFactor","trynext","tryprevious","increaseScaleFactor","decreaseScaleFactor","toggleCollapse","collapsed","focus","unCollapse","canGoForward","canGoBack","getElementById","NavButton","backClassNames","ArrowButton","ArrowButtonLeft","fwdClassNames","ArrowButtonRight","ArrowButtonDisabled","ArrowButtonContainer","Slide","Collapse","CollapseButton","problemNumber","Nav","renderNumber","marginTop","renderNavArrows","renderAnswerButton","renderScaleInput","PresentationView","Collapsed","tabIndex","renderNav","renderCollapse","renderSlide","currentIndex","Presentation_SingleQuestionView","propTypes","PropTypes","arrayOf","isRequired","graphScaleFactor","presentationZoom","STORED_QUESTIONS","PracticeMode","clearProblems","generated","generate","index","_this$props","generator","defaultParams","openOptions","closeOptions","onChangeOptions","setTimeout","count","Modals_SetGeneratorDefaultsPopup","generators","generatorSelection","PracticeModal","Presentation_PracticeMode","PresentationModal","Presentation_PresentationView","filterUnusedElements","SaveFilePopup","setFilename","toggleIncludeStyle","includeStyle","setSpacing","spacing","download","downloadAs","defaultFilename","onFocus","encodeURIComponent","dlanchor","body","appendChild","click","remove","titleparts","GraphStyle","setValue","propertyName","Color","Width","Opacity","RelativeFontSize","_this3","mapDispatchToProps","createComponent","base","StyleSettingComponent","_base","inherits","FunctionColor1","FunctionColor2","FunctionWidth","GeomColor1","GeomColor2","GeomWidth","GeomMarkerColor","AnglemarkColor","AnglemarkFillOpacity","AsymptoteColor","AsymptoteWidth","AxisColor","AxisWidth","GridColor","GridWidth","FillOpacity","LabelFontSize","SwapButton","doSwap","_this4$props$updateGr","_this4","propertyName1","current2","propertyName2","current1","createSwapper","prop1","prop2","Swapper","_SwapButton","updates","FunctionColorSwap","GeomColorSwap","PreviewXYPlot","vasymptotes","g","fpoints","gpoints","fpt","gpt","PreviewGeom","poly","parallelogram","parAngles","2","3","GraphSettings","changeStyle","resetToDefaults","resetGraphStyle","GraphPreview_PreviewGeom","GraphPreview_PreviewXYPlot","colSpan","Layout","Settings","SettingTable","renderStyleSettings","Preview","MarginOptions","SetPageMargin","updateFromSelection","m","PageSize","setPageSize","inputProps","units","unitProps","convert","to","fromMM","convertStr","PageMargins","setMargins","_this$state$m","setUnits","newValues","rounder","setTop","setRight","setBottom","setLeft","_margins","_margins2","PageSettings","Page_PageSize","Page_PageMargins","GUImode","update","debugView","setDebugView","PreviewZoom","updateState","zoomIn","zoomOut","setZoom","z","renderButtons","UIThemeSetter","setTheme","uiTheme","UISettings","UITheme","SettingsPage","showFontSettings","showing","showGraphSettings","showPageSettings","showUISettings","Font","Graph","Settings_Page","UI","SettingPage","LeftBar","Title","NavArea","status","SettingSection","renderSettings","AllowEditing","toggle","setAllowEditing","allowEditing","AnswerKeyToggle","setShowAnswerKey","showAnswerKey","FixPagination","hidden","decreaseHiddenCount","check","StartNumbering","setNumbering","startat","setCSSVariable","setDocumentStartNumbering","SettingsModal","addGenerator","info","SetGeneratorParams","submit","updateGeneratorDefaults","_this$props$params$k$","minSelections","opt","paramLabel","currentValue","Param","ParamSelect","setParam","ParamBoolean","ParamMultipleSelect","optId","ParamMultipleSelectOption","paramKeys","ParamSetter","renderParamSetter","SetGeneratorDefaultsPopup","overflowY","maxHeight","GeneratorMenu_SetGeneratorParams","ReactModal","setAppElement","defaultStyles","borderColor","background","overlay","modalsetup","modalMap","customQuestion","editor","EditElementModal","import","notes","save","SavePopup","settings","practice","presentation","popupMap","generatorParams","currentModal","currentPopup","popup","closePopup","Modal","OPEN_MODAL","OPEN_POPUP","CLOSE_MODAL","CLOSE_POPUP","UPDATE_GENERATOR_SELECTION","SET_SELECTED_ELEMENT","canEdit","openEditor","setSelectedElement","divprops","onDoubleClick","elemprops","singleColumn","portrait","A3","A4","A5","letter","legal","landscape","MeasuredPage","innerH","inner","clientHeight","outerH","outer","overflows","oldstate","newstate","onOverflow","forceUpdate","autoPaginate","addPageBreakBefore","contentIDs","_this$getPageSize","getPageSize","pageNumber","outerclassname","getOuterStyle","getInnerStyle","headerID","getHeaderID","Document_TopLevelElement","contentID","orientation","outerStyle","innerStyle","Document_Page","tickCount","tickOpacity","makePath","_ref4","_props$paths","_ref$axisColor","_ref$axisWidth","_ref$gridColor","_ref$gridWidth","pathId","thepaths","pathstyle","evaluate","logic","vars","_logic","op","args","reduce","variableList","_ref2$sort","getVariables","addVariableCombos","prev","operationList","_ref3$sort","ops","getOperations","nodePathList","_logic2","node","truthTable","_ref$empty","empty","allValueCombos","l","latex","_ref$group","group","argmap","joiner","And","Or","doubleNegative","_logic$","deMorgans","_logic2$","or","not","and","ifThenToOr","_logic3","iffToOr","_logic4","combineAnd","_logic5","combineOr","_logic6","applyRecursively","operation","_result","applyRepeatedly","simplify","ifThen","iff","VGAP","HGAP","NODERADIUS","simplifyCircuit","requiredSpace","above","below","req","drawCircuit","_len","_key","_len2","_key2","circuit","draw","simp","_requiredSpace","_ref$start","availableWidth","_start$x","_start$y","extra","between","connections","extraW","lines","ys","req2","len","visibleIDs","slices","pages","Document_MeasuredPage","Document_AnswerKey","CheckStateButton","logState","hasKwd","item","kwd","tags","toLowerCase","sortQuestionType","prefix","QuestionSearch","clearSearch","kwds","updateSearch","generateAndAdd","currentSelection","updateGeneratorSelection","results","checkForKwds","ResultContainer","SearchResult","Selected","setSelection","description","SearchResultNone","renderResults","GenerateAndAddButton","AppWrapper","addToDoc","newDoc","resetDocument","resetStyle","openCustomQuestion","openSettings","openImport","openSave","openPresentation","openPractice","openNotes","openGeneratorParams","toplabel","AppLayout_Wrapper","titleBar","AppLayout_TitleBar","AppLayout_StatusBar","AppLayout_TopBar","window","print","Settings_AnswerKeyToggle","Settings_StartNumbering","FontSize","UI_PreviewZoom","Settings_AllowEditing","Settings_FixPagination","containers_Document_Document","AppLayout_SideBar","GeneratorMenu_QuestionSearch","AddButton","removeLast","hasContent","clearAll","generatorSelected","UI_GUImode","CheckState","Modals","generatorId","Root","store","es","containers_App","date","Date","setTime","getTime","cookie","toUTCString","rootReducer","combineReducers","loadFonts","custom","urls","fvd","_c$split","_c$split2","setFromCookie","getState","Random","require","Randomizer","seed","engine","MersenneTwister19937","autoSeed","createClass","integer","inclusive","real","array","first","shuffled","shuffle","pick","pop","sample","randint","splice","randomSeedGenerator","QGen","randomSeed","random","randomizer","defaults","out","_getParams","getOptions","_specialCaseKeys","_specialCaseValues","_this$info","_this$info$name","match","roundTo","bisectAngle","_ref$degrees","fullCircle","a2","Coordinate","_this$coords","_this$coords2","_this$coords3","Cartesian","sqrt","abs2","_ref3$positive","positive","_ref3$degrees","other","_other$x","_other$y","add","_other$x2","_other$y2","_a$x","_a$y","_ref4$degrees","_ref4$center","subtract","currentAngle","Polar","ratio","partition","_Coordinate","Vector","toObject","_Coordinate2","_ref5$initial","point","vector","det","diffs","inv","Segment","fromPoints","_ref6$markers","distance","_ref7","_ref7$ratio","_ref7$degrees","segAngle","passOptions","plotLabel","labelprops","parseInt","_this$a$partition$add","_this$a$partition","vertices","getVertex","_ref8","_ref8$markers","labelVertices","_ref9","_ref9$distance","_ref9$round","_ref9$clockwise","clockwise","_vertex$add$toObject","_this$center$toObject","stop","_data","capitalize","charAt","gcd","lcm","listFactors","_ref$include","include1","_ref$includeN","includeN","lineThroughPoints","congruentOrSupplementary","rd","_rd$sampleRange","sampleRange","_rd$sampleRange2","leadingCoeff1","leadingCoeff2","_rd$sampleRange3","_rd$sampleRange4","congruentVal","supplementaryVal","Polynomial","toLatex","solution","supplementary","TransversalNames","_QGen","possibleRelations","choice","angle1","rotateBy","intersect1","pp","top1","bottom1","intersect2","top2","bottom2","angleMark","transversal","relations","alternate exterior","alternate interior","consecutive exterior","consecutive interior","corresponding","linear","vertical","_anglesToMark$split","_anglesToMark$split2","a1","scramble","digitmap","slotmap","PicoFermi","template","Templates","shuffleRange","clues","blank","gap","PicoFermiSet","_QGen2","versions","answers","times","Easy01","2637","0018","0123","1034","3352","Easy02","5704","5607","5109","6972","Easy03","1670","4567","1245","1376","Easy04","4312","6543","4129","4230","Easy05","0660","0386","2030","Easy06","3773","2790","7243","8467","Easy07","5809","3899","5593","Hard01","9120","7573","2450","5320","8685","Hard02","3210","5409","4608","1064","Hard03","4989","2954","9724","6139","NoFour","4563","4615","4652","NoEight","4786","8547","0843","9289","8965","AllPicos","2486","7867","4573","5608","9310","VeryHard","9372","1047","0235","3627","4753","randomPolynomialCoefficients","degree","_ref$maxCoefficient","maxCoefficient","_ref$terms","terms","whichterms","randomPolynomial","setField","Quadratic","_ref2$d","_ref2$rt","rt","_ref2$im","im","afrac","fraction","bfrac","denom","mul","_ref3$leadingCoeffici","_this$params","coeff","neg","div","rational","_this$params2","sub","_this$params3","r1","r2","_ref5$im","SolveQuadratic","complexSolution","xEquals","solutionType","solutionTypes","callImaginaryRoots","complexSolutions","imaginary","givenForm","simplifySquareRoot","yes","no","simplifyFraction","allowDifferenceOfSquares","allowDoubleRoot","allowZeroRoot","quad","polynomial","rootsToLatex","isValid","rand","expr","irrational","oneside","bothsides","FactorQuadraticHard","b1","b2","p1","p2","RationalZeroTheorem","_QGen3","primes","leading_coeff","trailing_coeff","num_coeffs","correctNumerators","correctDenominators","allPossibleZeros","numCorrect","correctAnswers","wrongAnswers","_ref10","allChoices","poprandom","FactorQuadratic","_QGen4","maxRoot","_quadratic$factors","fromRationalRoots","factors","_quadratic$factors2","factor1","factor2","_i3","TransformTracker","parent","translateX","translateY","scaleX","scaleY","cubic","exp2","log2","valueOf","kStr","equals","aStr","MatchTransformations","parents","eqns","shiftV","shiftH","stretchV","stretchH","compressH","eqn","eqnScramble","graphScramble","latexpifraction","numer","ConvertAngle","conversion","degrees to radians","radians to degrees","either","negative","rotations","numers","IdentifyQuadrant","_ineq","functions","tan","quadrant","4","ineq","funcChoices","funcKeys","funcs","clue","csc","sec","cot","SolveRightTriangle","givens","given","A","B","ceil","atan","C","giveninfo","answerblanks","verts","triangle","AB","AC","BC","labelAt","segLabels","plot","HL","LL","HA","LA","RationalGraph","makeFunction","generateValues","vals","allHolesInRange","isGood","_generateValues","fmtAns","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","wrongs","IncreasingIntervals","pts","toFind","increasing","decreasing","xs","which","yRange","maxConstantIntervals","possible","intervals","wrongAnswer1","wrongAnswer2","wrongAnswer3","wrongAnswer4","inc","dec","interpolatePath","fullName","int","answerIndex","GraphLinearInequalities","rotation","_rd$shuffle","_rd$shuffle2","line1","xInt","yInt","line2","latexeqn","clips","_loop","dict19","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","dictTens","dictPowers","21","24","27","30","33","36","39","42","45","48","51","54","57","60","63","divmod","sayinteger","_divmod","_divmod2","_divmod3","_divmod4","_divmod5","_divmod6","saynth","replacer","one","two","three","five","eight","nine","twelve","words","lastword","ending","Josephus","josephus","FinalDigit","exponent","exampleExponent","exampleResult","exampleAnswer","Triangle2","_letters","D","EightCircles","smallRadius","bigRadius","numberOfCircles","graphR","diffR","unitCircle","smallCircles","small radius","HiddenIsosceles","_QGen5","_rd$choice","_rd$choice2","F","G","angleFAE","vecCA","vecBE","vecBA","angleB1","midpoint","lineAB","lineAC","intersection","ad","be","dg","toLine","labelF","seg","KissingCircles","_QGen6","_ABC2","sqrtb","sqrta","ax","bx","ptA","ptB","ptC","circleA","circleB","circleC","MinimalGenerator","EasySum","SimpleGraph","AnswerPrompt","rise","run","slope","PolynomialLibrary","lin1","lin2","quadratic","Parameters","symbol","_this$random$sampleRa","_this$random$sampleRa2","RandomFunction","_QGen7","_randomSlope$call","_ref$allowInteger","allowInteger","_this$random$sampleRa3","_this$random$sampleRa4","_this$random$sampleRa5","_this$random$sampleRa6","BarGraph","_QGen8","_Array$fill$map","_Array$fill$map2","perc","grade","students","mark","cornerRadius","encoding","test","subdivide","depth","searchDepth","hd","createTree","contourPresent","TestQuadratic","Q","RationalPlot","numRoots","numAsymptotes","total","PolynomialPlot","coeffs","tex","PlotStyling","path1","path2","path3","path4","FontTest","Ix","Iy","Jx","Jy","diagram1","_rd$sample","_rd$sample2","inter","FontDisplay","chars","QuadTreePlotTest","f1","f2","MdTest","_QGen9","scheme","VegaTest","_QGen10","signals","bind","nice","labelFont","facet","groupby","interpolate","signal","hover","VegaPlotTest","_QGen11","randomCircuit","_ref$simplifyRate","simplifyRate","_ref$nonTrivial","nonTrivial","_ref$operations","operations","topass","recursive","WriteCircuit","numberOfNodes","DrawCircuit","useIfThen","useEquiv","goodToGo","used","todraw","complicate","_ref2$count","_ref2$operations","letters_","toPass","numArgs","Not","Then","Equiv","newArgs","CircuitTruthTable","numberOfVariables","complexity","logic1","cloneDeep","nodes","toChange","set","truthtable","TruthTable","allowIfThen","allowEquiv","modules","polynomials","othergenerators","transformations","trigonometry","picofermi","sorting","bonusquestions","generatortests","simpleexamples","addGenerators","_ref2$prefix","register","_generator$register","initializeGenerators","createStore","loadfonts","settheme","setstyle","App","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","navigator","serviceWorker","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","src_App","URL","process","href","origin","addEventListener","fetch","response","contentType","headers","ready","unregister","reload","checkValidServiceWorker","StyleSetting","Answer","Wrapper-TitleBar-StatusBar","Wrapper-TopBar","Wrapper-TopBar-StatusBar"],"mappings":"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","file":"static/js/main.868670d1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"FO\":\"scratch_FO__1lJvG\",\"Div1\":\"scratch_Div1__YR1Dj\",\"Div2\":\"scratch_Div2__1zuCJ\"};","import React from 'react'\nimport styles from './styles.module.css'\n\nclass Previewer extends React.Component {\n  render() {\n    \n\n    return (\n      <div className={styles.PreviewOuter}>\n        <div className={styles.PreviewInner}>\n          {this.props.children}\n        </div>\n      </div>\n    )\n\n  }\n}\n\nexport default Previewer","import React from 'react'\nimport styles from './styles.module.css'\n\nclass SideBar extends React.Component {\n  render() {\n    return (\n      <div className={styles.SideBar}>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport default SideBar","import React from 'react'\nimport styles from './styles.module.css'\n\nconst StatusBar = (props) => {\n  return (\n    <div className={styles.StatusBar}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default StatusBar","import React from 'react'\nimport styles from './styles.module.css'\n\nconst TitleBar = () => {\n  return (\n    <div className={styles.TitleBar}>\n      TitleBar\n    </div>\n  )\n}\n\nexport default TitleBar","import React from 'react'\nimport styles from './styles.module.css'\n\nconst TopBar = (props) => {\n  return (\n    <div className={styles.TopBar}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default TopBar","import React from 'react'\nimport styles from './styles.module.css'\n\nclass Wrapper extends React.Component {\n  \n  render() {\n    let classNames = [styles.Wrapper, styles['Wrapper-TopBar']]\n    if (this.props.statusBar) {\n      classNames.push(styles['Wrapper-TopBar-StatusBar'])\n    }\n\n    return (\n      <div className={classNames.join(' ')}>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport default Wrapper","export const ADD_TO_DOCUMENT = 'ADD_TO_DOCUMENT'\nexport const CLEAR_ALL = 'CLEAR_ALL'\nexport const REMOVE_LAST = 'REMOVE_LAST'\nexport const UPDATE_CONTENT = 'UPDATE_CONTENT'\nexport const UPDATE_HEADER = 'UPDATE_HEADER'\nexport const DELETE_CONTENT = 'DELETE_CONTENT'\nexport const DELETE_HEADER = 'DELETE_HEADER'\nexport const SET_DOCUMENT_STARTNUMBERING = 'SET_DOCUMENT_STARTNUMBERING'\nexport const ADD_PAGEBREAK_BEFORE = 'ADD_PAGEBREAK_BEFORE'\nexport const CLEAR_PAGEBREAKS = 'CLEAR_PAGEBREAKS'\nexport const LOAD_DOCUMENT = 'LOAD_DOCUMENT'\nexport const SET_HIDDEN_COUNT = 'SET_HIDDEN_COUNT'\nexport const FIX_PAGINATION = 'FIX_PAGINATION'\nexport const DECREASE_HIDDEN_COUNT = 'DECREASE_HIDDEN_COUNT'\nexport const APPEND_CONTENT = 'APPEND_CONTENT'\nexport const RESET_DOCUMENT = 'RESET_DOCUMENT'\n\nlet elemID = 0\n\n// Document content\n\nexport const addToDocument = (elem) => ({\n  type: ADD_TO_DOCUMENT,\n  payload: {element: elem, id: ++elemID}\n})\n\nexport const clearAll = () => {\n  elemID = 0\n  return ({\n    type: CLEAR_ALL\n  })\n}\n\nexport const removeLast = () => ({\n  type: REMOVE_LAST,\n})\n\nexport const updateElement = (idstr, data) => {\n  const [type, id] = idstr.split('.')\n  if (type === 'header') {\n    return { type: UPDATE_HEADER, payload: {id: +id, data} }\n  }\n  if (type === 'content') {\n    return { type: UPDATE_CONTENT, payload: {id: +id, data} }\n  }\n}\n\nexport const deleteElement = (idstr) => {\n  const [type, id] = idstr.split('.')\n  if (type === 'header') {\n    return { type: DELETE_HEADER, payload: +id }\n  }\n  if (type === 'content') {\n    return { type: DELETE_CONTENT, payload: +id }\n  }\n}\n\nexport const deleteHeader = (id) => ({\n  type: DELETE_HEADER,\n  payload: +id,\n})\n\nexport const loadDocument = doc => {\n  const ids = Object.keys(doc.content).map(k => +k).sort((a,b) => a-b)\n  elemID = ids[ids.length-1]\n  return ({\n    type: LOAD_DOCUMENT,\n    payload: doc\n  })\n}\n\nexport const resetDocument = () => {\n  elemID = 0\n  return ({\n    type: RESET_DOCUMENT\n  })\n}\n\nexport const appendContent = ({content, order, where='end'}) => {\n  const updateOrder = []\n  const updateContent = {}\n  for (const o of order) {\n    const id = ++elemID\n    updateOrder.push(id)\n    updateContent[id] = content[o]\n  }\n  return ({\n    type: APPEND_CONTENT,\n    payload: {content: updateContent, order: updateOrder, where}\n  })\n}\n\n// Document settings\n\nexport const setDocumentStartNumbering = (n) => ({\n  type: SET_DOCUMENT_STARTNUMBERING,\n  payload: n\n})\n\n// Document view\n\nexport const addPageBreakBefore = (id) => ({\n  type: ADD_PAGEBREAK_BEFORE,\n  payload: id\n})\n\nexport const clearPageBreaks = () => ({\n  type: CLEAR_PAGEBREAKS\n})\n\nexport const setHiddenCount = n => ({\n  type: SET_HIDDEN_COUNT,\n  payload: n\n})\n\nexport const decreaseHiddenCount = () => ({\n  type: DECREASE_HIDDEN_COUNT,\n})\n\nexport const fixPagination = () => ({\n  type: FIX_PAGINATION\n})\n\n\n","import React from 'react'\n\n//const axisArrow = \"M 0,0 Q -4,4 -4,12 Q 0,4 6,0 Q 0,-4 -4,-12 Q -4,-4 0,0\"\n//const axisArrow = \"M 0,0 Q -2,-6 -1,-12 Q 2,-3 6,0 Q 2,3 -1,12 Q -2,6 0,0\"\nconst axisArrow = 'M 0,0 L 0,2 Q 5,3 10,2 L 10,0 Q 5,1 0,0'\n\nexport const MarkerSymbols = props => {\n  return (\n    <defs>\n      <symbol id=\"svgplot-symbol-point\" viewBox=\"-12 -12 24 24\" refX=\"0\" refY=\"0\">\n        <circle cx=\"0\" cy=\"0\" r=\"3\"/>\n      </symbol>\n      <symbol id=\"svgplot-symbol-hole\" viewBox=\"-12 -12 24 24\" refX=\"0\" refY=\"0\">\n        <circle cx=\"0\" cy=\"0\" r=\"4.5\"/>\n        <circle cx=\"0\" cy=\"0\" r=\"2.8\"className=\"svgplot-marker-hole\"/>\n      </symbol>\n      <symbol id=\"svgplot-symbol-arrow\" viewBox=\"-12 -12 24 24\" refX=\"0\" refY=\"0\">\n        <path d=\"M -2,0 L -5,-6 L 6,0 L -5,6 z\"/>\n      </symbol>\n      <symbol id=\"svgplot-symbol-axisarrow\" viewBox=\"-12 -12 24 24\" refX=\"0\" refY=\"0\">\n        <polygon points=\"0,1 .5,1 .5,-1 0,-1\"/>\n        <path d={axisArrow} transform=\"translate(2,0) rotate(120)\"/>\n        <path d={axisArrow} transform=\"scale(1,-1) translate(2,0) rotate(120)\"/>\n      </symbol>\n    </defs>\n  )\n}\n\n\nconst MarkerDefs = ({stylename, markerW, markerH}) => {\n\n  return (\n    <>\n      <marker id={`${stylename}-marker-arrowfwd`} viewBox=\"-6 -6 12 12\" refX=\"0\" refY=\"0\"\n        markerWidth={markerW} markerHeight={markerH}\n        markerUnits=\"strokeWidth\"\n        orient=\"auto\">\n        <use xlinkHref='#svgplot-symbol-arrow' \n          x='-6' y='-6' height='12' width='12' \n          className='svgplot-marker'/>\n      </marker>\n      <marker id={`${stylename}-marker-arrowrev`} viewBox=\"-6 -6 12 12\" refX=\"0\" refY=\"0\"\n        markerWidth={markerW} markerHeight={markerH}\n        markerUnits=\"strokeWidth\"\n        orient=\"auto\">\n        <use xlinkHref='#svgplot-symbol-arrow' \n          x='-6' y='-6' height='12' width='12' \n          transform='scale(-1,1)'\n          className='svgplot-marker'/>\n      </marker>\n      <marker id={`${stylename}-marker-axisarrow`} viewBox=\"-6 -6 12 12\" refX=\"0\" refY=\"0\"\n        markerWidth={markerW} markerHeight={markerH}\n        markerUnits=\"strokeWidth\"\n        orient=\"auto-start-reverse\">\n        <use xlinkHref='#svgplot-symbol-axisarrow' \n          x='-6' y='-6' height='12' width='12'\n          className='svgplot-marker'/>\n      </marker>\n      <marker id={`${stylename}-marker-point`} viewBox=\"-6 -6 12 12\" refX=\"0\" refY=\"0\"\n        markerWidth={markerW} markerHeight={markerH}\n        markerUnits=\"strokeWidth\"\n        orient=\"auto\">\n        <use xlinkHref='#svgplot-symbol-point' \n          x='-6' y='-6' height='12' width='12' \n          className='svgplot-marker'/>\n      </marker>\n      <marker id={`${stylename}-marker-hole`} viewBox=\"-5 -5 10 10\" refX=\"0\" refY=\"0\"\n        markerWidth={markerW} markerHeight={markerH}\n        markerUnits=\"strokeWidth\"\n        orient=\"auto\">\n        <use xlinkHref='#svgplot-symbol-hole' \n          x='-5' y='-5' height='10' width='10' \n          className='svgplot-marker'/>\n      </marker>\n    </>\n  )\n}\n\n\n\nconst FillPatternDefs = ({stylename, width, height}) => {\n  return (\n    <>\n      <pattern id={`${stylename}-fillpattern-dots1`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternUnits='userSpaceOnUse'>\n        <circle cx='3' cy='3' r='3' className='svgplot-fillpattern'/>\n        <circle cx='9' cy='9' r='3' className='svgplot-fillpattern'/>\n      </pattern>\n      <pattern id={`${stylename}-fillpattern-dots2`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternUnits='userSpaceOnUse'>\n        <circle cx='3' cy='9' r='3' className='svgplot-fillpattern'/>\n        <circle cx='9' cy='3' r='3' className='svgplot-fillpattern'/>\n      </pattern>\n      <pattern id={`${stylename}-fillpattern-diagonal1`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternUnits='userSpaceOnUse'>\n        <polygon points='0,0 6,0 12,6 12,12' className='svgplot-fillpattern' />\n        <polygon points='0,6 0,12 6,12' className='svgplot-fillpattern' />\n      </pattern>\n      <pattern id={`${stylename}-fillpattern-diagonal2`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternTransform='scale(-1,-1)'\n        patternUnits='userSpaceOnUse'>\n        <polygon points='0,0 6,0 12,6 12,12' className='svgplot-fillpattern'/>\n        <polygon points='0,6 0,12 6,12' className='svgplot-fillpattern'/>\n      </pattern>\n      <pattern id={`${stylename}-fillpattern-zigzag1`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternTransform='scale(-1,-1)'\n        patternUnits='userSpaceOnUse'>\n        <polygon points='0,0 0,6 3,12 6,12' className='svgplot-fillpattern'/>\n        <polygon points='12,0 12,6 9,12 6,12' className='svgplot-fillpattern'/>\n        <polygon points='3,0 6,6 9,0' className='svgplot-fillpattern'/>\n      </pattern>\n      <pattern id={`${stylename}-fillpattern-zigzag2`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternTransform='scale(-1,-1)'\n        patternUnits='userSpaceOnUse'>\n        <polygon points='0,6 0,12 3,12' className='svgplot-fillpattern'/>\n        <polygon points='12,6 12,12 9,12' className='svgplot-fillpattern'/>\n        <polygon points='0,0 6,12 12,0 9,0 6,6 3,0' className='svgplot-fillpattern'/>\n      </pattern>\n    </>\n  )\n}\n\nclass StyleDefs extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {}\n    this.ref = React.createRef()\n  }\n\n  checkSize() {\n    const CTM = this.ref.current.getCTM()\n    this.setState({CTM})\n  }\n\n  componentDidMount() {\n    this.checkSize()\n  }\n\n  render() {\n    const { stylename } = this.props\n\n    let w = 12, h = 12\n\n    if (this.state.CTM) {\n      const {a, b, c, d} = this.state.CTM\n      const s = Math.max(Math.abs(a)+Math.abs(c),Math.abs(b)+Math.abs(d))\n      w /= s\n      h /= s\n    }\n\n    return (\n      <defs ref={this.ref}>\n        <MarkerDefs stylename={stylename} markerW={w} markerH={h}/>\n        <FillPatternDefs stylename={stylename} width={w/3} height={h/3}/>\n      </defs>\n    )\n  }\n}\n\n\n\nlet styleCount = 0\n\nconst Style = props => {\n  const { name, color, ...styleprops } = props\n  const uniquename = `styleID-${++styleCount}`\n  \n  const style = {...styleprops}\n  for (const shape of ['arrowfwd', 'arrowrev', 'axisarrow', 'point', 'hole']) {\n    style[`--svgplot-marker-${shape}`] = `url(#${uniquename}-marker-${shape})`\n  }\n\n  for (const pattern of ['dots1', 'dots2', 'diagonal1', 'diagonal2', 'zigzag1', 'zigzag2']) {\n    style[`--svgplot-fillpattern-${pattern}`] = `url(#${uniquename}-fillpattern-${pattern})`\n  }\n\n  if (color) {\n    style.color = color\n  }\n\n  return (\n    <g className={name} style={style} vectorEffect=\"inherit\">\n      <StyleDefs stylename={uniquename}/>\n      {props.children}\n    </g>\n  )\n}\n\nexport default Style","import React from 'react'\n\n\nexport const OverlayPosition = props => {\n  const {x, y, x1, y1, x2, y2, cartesian=true} = props\n  const xPerc = 100 * (x - x1) / (x2 - x1)\n  const yPerc = cartesian ? 100 * (y2 - y) / (y2 - y1) : (y - y1) / (y2 - y1)\n\n  const style = {\n    position: 'absolute',\n    left: xPerc + '%',\n    top: yPerc + '%',\n    height: '0px',\n    width: '0px',\n    overflow: 'visible',\n  }\n\n  return (\n    <div style={style}>\n      {props.children}\n    </div>\n  )\n}\n\nconst Overlay = props => {\n  const {\n    rotate,\n    anchor,\n    displacement,\n  } = props\n\n\n  const innerstyle = {\n    position: 'absolute',\n    transformOrigin: 'center center',\n    transform: 'translate(-50%,-50%)',\n  }\n\n  if (anchor) {\n    const [transformOrigin, initialTransform] = {\n      E: ['right center', 'translate(-100%,-50%)'],\n      NE: ['right top', 'translate(-100%,0)'],\n      N: ['center top', 'translate(-50%,0)'],\n      NW: ['left top', 'translate(0,0)'],\n      W: ['left center', 'translate(0,-50%)'],\n      SW: ['left bottom', 'translate(0,-100%)'],\n      S: ['center bottom', 'translate(-50%,-100%)'],\n      SE: ['right bottom', 'translate(-100%,-100%)'],\n      center: ['center center', 'translate(-50%,-50%)'],\n    }[anchor]\n  \n    innerstyle.transformOrigin = transformOrigin\n    innerstyle.transform = initialTransform\n  }\n    \n  if (displacement !== undefined) {\n    if (displacement.constructor.name === 'Object') {\n      if (displacement.x !== undefined || displacement.y !== undefined) {\n        const dx = parseFloat(displacement.x) || 0\n        const dy = parseFloat(displacement.y) || 0\n        const ux = (displacement.x || '').replace(dx, '')\n        const uy = (displacement.y || '').replace(dy, '')\n        innerstyle.transform += ` translate(${dx}${ux},${-dy}${uy})`\n      } else if (displacement.angle && displacement.radius) {\n        const r = parseFloat(displacement.radius)\n        const u = displacement.radius.replace(r, '')\n        const a = parseFloat(displacement.angle)\n        const dx = Math.round(Math.cos(a * Math.PI / 180) * r) + u\n        const dy = Math.round(-Math.sin(a * Math.PI / 180) * r) + u\n        innerstyle.transform += ` translate(${dx},${dy})`\n      }\n    } else if (anchor) {\n      const angles = {\n        E: 0, NE: 45, N: 90, NW: 135, \n        W: 180, SW: 225, S: 270, SE: 315,\n      }\n      if (angles[anchor] !== undefined) {\n        const a = ((rotate ? +rotate : 0) + (+angles[anchor] + 180)) % 360\n        const r = parseFloat(displacement)\n        const u = displacement.replace(r, '')\n        const dx = Math.round(Math.cos(a * Math.PI / 180) * r) + u\n        const dy = Math.round(-Math.sin(a * Math.PI / 180) * r) + u\n        innerstyle.transform += ` translate(${dx},${dy})`\n      }\n    }\n  }\n\n  if (rotate) {\n    const rotateAngle = parseFloat(rotate)\n    innerstyle.transform += ` rotate(${-rotateAngle}deg)`\n  }\n\n  //console.log({innerstyle, outerstyle})\n  \n  return (\n    <div className=\"svgplot-label\" style={innerstyle}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default Overlay","import React from 'react'\nimport { MarkerSymbols } from './Style'\nimport Overlay, { OverlayPosition } from './Overlay'\n\nfunction convertToPx(val, unit) {\n  if (unit === 'px') return val\n  if (unit === 'in') return (val * 96)\n  if (unit === 'mm') return convertToPx(val/25.4, 'in')\n  if (unit === 'cm') return convertToPx(val/2.54, 'in')\n  if (unit === 'pt') return convertToPx(val/72, 'in')\n  if (unit === 'pc') return convertToPx(val/12, 'pt')\n}\n\nclass Canvas extends React.Component {\n\n  render() {\n    const props = this.props\n    const {\n      cartesian=true, x1, x2, y1, y2, \n      width, \n      height, \n      preserveAspectRatio,\n      border=false\n    } = props\n\n\n    const wrapperprops = {\n      style: {\n        display: 'inline-block',\n        position: 'relative', \n        padding: 0,\n        width, height,\n      },\n    }\n\n    if (border) {\n      wrapperprops.style.border = '1px solid black'\n    }\n\n    const svgprops = {  \n      width, height, \n      preserveAspectRatio, \n      style: {\n        position: 'relative', \n        margin: 0,\n        top: 0, left: 0,\n      }\n    }\n    const gprops = {ref: this.ref, vectorEffect: 'non-scaling-stroke'}\n\n    if (cartesian && cartesian !== \"false\") {\n      gprops.transform = 'scale(1,-1)'\n      svgprops.viewBox = `${x1} ${-y2} ${x2-x1} ${y2-y1}`\n    } else {\n      svgprops.viewBox = `${x1} ${y1} ${x2-x1} ${y2-y1}`\n    }\n  \n    const children = React.Children.toArray(props.children)\n    const svgchildren = children.filter(c => c.type !== Overlay)\n    const overlays = children.filter(c => c.type === Overlay)\n\n    return (\n      <div className='svgplot-canvas' {...wrapperprops}>\n        <svg {...svgprops}>\n          <MarkerSymbols />\n          <g {...gprops}>\n            {svgchildren}\n          </g>\n        </svg>\n        {overlays.length ? (\n          <div className='svgplot-overlay'>\n          {overlays.map((o, i) => (\n            <OverlayPosition key={i} \n              cartesian={cartesian} \n              x1={x1} y1={y1} x2={x2} y2={y2} \n              x={o.props.x} y={o.props.y} \n            >\n              {o}\n            </OverlayPosition>\n          ))}\n          </div>\n        ) : null}\n      </div>\n    )\n  }\n}\n\nexport default Canvas","import React from 'react'\n\nconst Grid = (props) => {\n  const {x1, y1, x2, y2, xStep=1, yStep=1} = props\n\n  const xvals = [], yvals = []\n  if (xStep) {\n    let t = x1\n    while (t <= x2) {\n      xvals.push(t)\n      t += xStep\n    }\n  }\n  if (yStep) {\n    let t = y1\n    while (t <= y2) {\n      yvals.push(t)\n      t += yStep\n    }\n  }\n\n  return (\n    <>\n      {xvals.map(v => (\n        <line key={`x-${v}`}\n          x1={v} x2={v} y1={y1} y2={y2} \n          vectorEffect='inherit'/>\n      ))}\n      {yvals.map(v => (\n        <line key={`y-${v}`}\n          y1={v} y2={v} x1={x1} x2={x2} \n          vectorEffect='inherit'/>\n      ))}\n    </>\n  )\n}\n\nexport default Grid","import React from 'react'\n\n\nexport default class Label extends React.Component {\n  constructor(props) {\n    super(props)\n    this.ref = React.createRef()\n    this.state = {}\n  }\n\n  componentDidMount() {\n    const CTM = this.ref.current.getCTM()\n    this.setState({ctm: CTM})\n  }\n\n  render() {\n    let {anchor=\"W\"} = this.props\n\n    const anglemap = {\n      E: 0,\n      NE: 45,\n      N: 90,\n      NW: 135,\n      W: 180,\n      SW: 225,\n      S: 270,\n      SE: 315,\n      left: 135,\n      right: 0,\n    }\n\n    const anchorAngle = anglemap[anchor] ? anglemap[anchor] : +anchor % 360\n\n    //const tb = anchorAngle === 0 || anchorAngle === 180 ? 'center' : anchorAngle < 180 ? 'top' : 'bottom'\n    const lr = anchorAngle < 90 ? 'right' : anchorAngle <= 270 ? 'left' : 'right'  \n\n    const fobj = {\n      x: 0, y: 0,  // Chrome rounds foreignObject coordinates to integers, so it works better to apply them later \n      width: '100%', height: '100%',\n      style: {overflow: 'visible'}, \n    }\n    const outerstyle = {\n      width: '0', height: '0',\n      margin: '0',\n      padding: '0',\n      transformOrigin: lr + ' center',\n      position: 'relative',\n    }\n    const innerstyle = {\n      position: 'absolute',\n      transformOrigin: 'center center',\n      transform: 'translate(-50%,-50%)',\n      fontSize: '0.1em',\n    }\n  \n    if (anchor) {\n      const [transformOrigin, initialTransform] = {\n        E: ['right center', 'translate(-100%,-50%)'],\n        NE: ['right top', 'translate(-100%,0)'],\n        N: ['center top', 'translate(-50%,0)'],\n        NW: ['left top', 'translate(0,0)'],\n        W: ['left center', 'translate(0,-50%)'],\n        SW: ['left bottom', 'translate(0,-100%)'],\n        S: ['center bottom', 'translate(-50%,-100%)'],\n        SE: ['right bottom', 'translate(-100%,-100%)'],\n        center: ['center center', 'translate(-50%,-50%)'],\n      }[anchor]\n    \n      innerstyle.transformOrigin = transformOrigin\n      innerstyle.transform = initialTransform\n    }\n    \n    return (\n      <foreignObject {...fobj} ref={this.ref} xmlns=\"http://www.w3.org/1999/xhtml\">\n        <div style={outerstyle}>\n          <div className=\"svgplot-label\" style={innerstyle}>\n            {this.props.children}\n          </div>\n        </div>\n\n      </foreignObject>\n    )\n  }\n}","import React from 'react'\n\n\nexport const Circle = props => {\n  return <circle vectorEffect=\"inherit\" {...props}/>\n}\n\nexport const Ellipse = props => {\n  return <ellipse vectorEffect=\"inherit\" {...props}/>\n}\n\nexport const Rect = props => {\n  return <rect vectorEffect=\"inherit\" {...updatePropsWithMarkers(props)}/>\n}\n\nconst markerProps = s => {\n  const positions = ['Start', 'Mid', 'End']\n  const markers = {}\n  if (s && s.length === 3) {\n    for (let i=0; i<3; i++) {\n      const c = s[i]\n      if (c === '>') markers[`marker${positions[i]}`] = 'arrowfwd'\n      else if (c === '<') markers[`marker${positions[i]}`]  = 'arrowrev'\n      else if (c === '.') markers[`marker${positions[i]}`]  = 'point'\n      else if (c === 'o') markers[`marker${positions[i]}`]  = 'hole'\n    }\n  }\n  return markers\n}\n\n\nfunction updatePropsWithMarkers(props) {\n  if (props.markers) {\n    return {...props, ...markerProps(props.markers)}\n  }\n  return props\n}\n\nexport const Line = props => {\n  return <line vectorEffect=\"inherit\" {...updatePropsWithMarkers(props)}/>\n}\n\nexport const Polygon = props => {\n  return <polygon vectorEffect=\"inherit\" {...updatePropsWithMarkers(props)}/>\n}\n\nexport const Polyline = props => {\n  return <polyline vectorEffect=\"inherit\" {...updatePropsWithMarkers(props)}/>\n}\n\nexport const Path = props => {\n  return (\n    <path vectorEffect=\"inherit\" {...updatePropsWithMarkers(props)}/>\n  )\n}\n\nexport const Point = props => {\n  const {x, y, coords, marker=\".\"} = props\n  const pathprops = {}\n  if (coords) {\n    pathprops.d = `M${coords[0]},${coords[1]}Z`\n  } else {\n    pathprops.d = `M${x},${y}Z`\n  }\n  if (marker) {\n    pathprops.markers = `--${marker}`\n  }\n  return <Path {...pathprops} />\n}","import React from 'react'\n\nconst translate = params => {\n  let x, y\n  if (Array.isArray(params)) {\n    [x=0, y=0] = params\n  } else {\n    ({x=0, y=0} = params)\n  }\n  return `translate(${x},${y})`\n}\n\nconst scale = params => {\n  let x, y\n  if (Array.isArray(params)) {\n    [x=1, y=1] = params\n  } else {\n    ({x=1, y=1} = params)\n  }\n  return `scale(${x},${y})`\n}\n\nconst matrix = params => {\n  let a, b, c, d, e, f\n  if (Array.isArray(params)) {\n    [a=1, b=0, c=0, d=1, e=0, f=0] = params\n  } else {\n    ({a=1, b=0, c=0, d=1, e=0, f=0} = params)\n  }\n  return `matrix(${a},${b},${c},${d},${e},${f})`\n}\n\nconst rotate = params => {\n  let a, x, y\n  if (Array.isArray(params)) {\n    [a, x=0, y=0] = params\n  } else {\n    ({a, x=0, y=0} = params)\n  }\n  if ((x !== undefined) && (y !== undefined)) {\n    return `rotate(${a},${x},${y})`\n  }\n  return `rotate(${a})`\n}\n\nconst makeTransform = props => {\n  const {type, params} = props\n  switch(type) {\n    case 'matrix': return matrix(params)\n    case 'rotate': return rotate(params)\n    case 'scale': return scale(params)\n    case 'translate': return translate(params)\n    case 'invertXY': return matrix([0,1,1,0])\n    default: return 'none'\n  }\n}\n\n\nconst Transform = props => {\n  const { type, list, children, ...params } = props\n\n  const layerprops = { vectorEffect: 'inherit' }\n\n  if (list) {\n    const transforms = []\n    for (const t of list) {\n      const [ty, pa={}] = typeof t === 'string' ? [t] : t\n      const str = makeTransform({type: ty, params: pa})\n      if (str !== 'none') {\n        transforms.push(str)\n      }\n    }\n    if (transforms.length > 0) {\n      layerprops.transform = transforms.join(' ')\n    }\n  } else {\n    const str = makeTransform({type, params})\n    if (str && str !== 'none') {\n      layerprops.transform = str\n    }\n  }\n\n  return (\n    <g {...layerprops}>\n      {props.children}\n    </g>\n  ) \n}\n\nexport default Transform","import React from 'react'\nimport { Clip, Circle, Rect, Transform, Style } from '.'\nimport { includes } from 'constants/lodash'\n\n\nfunction determineRadius(props) {\n  let {minRadius, maxRadius} = props\n  if (minRadius === undefined) {\n    minRadius = maxRadius * 0.5\n  }\n  if (maxRadius === undefined) {\n    maxRadius = minRadius * 2\n  }\n  const angleSize = props.terminal - props.initial\n  if (angleSize < 90) {\n    const diff = maxRadius - minRadius\n    return minRadius + diff*(90-angleSize)/90\n  } else {\n    return minRadius\n  }\n}\n\nfunction parseCoords(coord) {\n  if (coord) {\n    if (typeof coord === 'string') {\n      const [x, y] = coord.split(',').map(n => +n)\n      return {x, y}\n    }\n    if (Array.isArray(coord)) {\n      const [x, y] = coord\n      return {x, y}\n    }\n    const {x, y} = coord\n    return {x, y}\n  }\n}\n\nfunction determineVertex(props) {\n  if (props.vertex) return parseCoords(props.vertex)\n  if (props.coords) return parseCoords(props.coords)\n  if ((props.x !== undefined) && (props.y !== undefined)) {\n    const {x, y} = props\n    return {x, y}\n  }\n}\n\nfunction parseAngleSide(vertex, side) {\n  if (typeof side === 'number') {\n    const degrees = side\n    const radians = degrees * Math.PI / 180\n    return {radians, degrees}\n  } else if (typeof side === 'string') {\n    if (includes(side, ',')) {\n      const [x, y] = side.split(',').map(n => +n)\n      const dx = x - vertex.x\n      const dy = y - vertex.y\n      const radians = Math.atan2(dy, dx)\n      const degrees = radians * 180 / Math.PI\n      if (degrees >= 360) {\n        return {\n          degrees: degrees - 360,\n          radians: radians - 2*Math.PI,\n        }\n      } else {\n        return {degrees, radians}\n      }\n    } else {\n      const degrees = parseFloat(side)\n      const radians = degrees * Math.PI / 180\n      return {radians, degrees}\n    }\n  } else {\n    const {x, y} = parseCoords(side)\n    const dx = x - vertex.x\n    const dy = y - vertex.y\n    const radians = Math.atan2(dy, dx)\n    const degrees = radians * 180 / Math.PI\n    if (degrees >= 360) {\n      return {\n        degrees: degrees - 360,\n        radians: radians - 2*Math.PI,\n      }\n    } else {\n      return {degrees, radians}\n    }\n  }\n}\n\nfunction determineAngles(vertex, props) {\n  let {measure, initial, terminal} = props\n  if (initial === undefined) {\n    const term = parseAngleSide(vertex, terminal)\n    const measureDeg = parseFloat(measure)\n    const initDeg = term.degrees - measureDeg\n    const initRad = initDeg * Math.PI / 180\n    return {terminal: term, initial: {degrees: initDeg, radians: initRad}, measure: {degrees: measureDeg}}\n  }\n  if (terminal === undefined) {\n    const init = parseAngleSide(vertex, initial)\n    const measureDeg = parseFloat(measure)\n    const termDeg = init.degrees + measureDeg\n    const termRad = termDeg * Math.PI / 180\n    return {initial: init, terminal: {degrees: termDeg, radians: termRad}, measure: {degrees: measureDeg}}\n  }\n  const init = parseAngleSide(vertex, initial)\n  let term = parseAngleSide(vertex, terminal)\n  if (term.degrees < init.degrees) {\n    term = {degrees: term.degrees + 360, radians: term.radians + 2*Math.PI}\n  }\n  const meas = {degrees: term.degrees - init.degrees}\n  return {initial: init, terminal: term, measure: meas}\n}\n\nconst RightAngleMark = props => {\n  const {x, y} = determineVertex(props)\n  const radius = props.radius || determineRadius(props)\n  const {initial, terminal, measure} = determineAngles({x, y}, props)\n  const rotate = measure.degrees === 90 ? initial.degrees : initial.degrees + (measure.degrees - 90)/2\n  const vec1 = {\n    x: Math.cos(initial.radians) * radius, \n    y: Math.sin(initial.radians) * radius,\n  }\n  const vec2 = {\n    x: Math.cos(terminal.radians) * radius, \n    y: Math.sin(terminal.radians) * radius,\n  }\n  const clipPoints = [\n    [x,y],\n    [x + 2*vec1.x, y + 2*vec1.y],\n    [x + 2*vec1.x + 2*vec2.x, y + 2*vec1.y + 2*vec2.y],\n    [x + 2*vec2.x, y + 2*vec2.y]\n  ]\n\n  return (\n    <Clip shape=\"Path\" points={clipPoints}>\n      <Transform type=\"rotate\" a={rotate} x={x} y={y}>\n        <Rect x={x-radius} y={y-radius} width={2*radius} height={2*radius} styleName=\"anglemark anglemark-right\"/>\n      </Transform>\n    </Clip>\n  )\n}\n\nconst RoundAngleMark = props => {\n  const {x, y} = determineVertex(props)\n  const radius = props.radius || determineRadius(props)\n  const {initial, terminal, measure} = determineAngles({x, y}, props)\n  const arcStart = {\n    x: x + Math.cos(initial.radians) * radius * 2, \n    y: y + Math.sin(initial.radians) * radius * 2,\n  }\n  const arcEnd = {\n    x: x + Math.cos(terminal.radians) * radius * 2,\n    y: y + Math.sin(terminal.radians) * radius * 2,\n  }\n  const d = [\n    `M${x},${y}`,\n    `L ${arcStart.x},${arcStart.y}`,\n    `A ${radius*2} ${radius*2} 0 ${measure.degrees > 180 ? 1 : 0} 1`,\n    `${arcEnd.x},${arcEnd.y} z`,\n  ].join(' ')\n\n  const styleName = 'anglemark'\n\n  return (\n    <Clip shape=\"Path\" d={d}>\n      <Circle cx={x} cy={y} r={radius} styleName={styleName}/>\n    </Clip>\n )\n}\n\nconst CongruentAngleMarks = props => {\n  const {x, y} = determineVertex(props)\n  const {initial, terminal, measure} = determineAngles({x, y}, props)\n  const {radius, congruent} = props\n  const r = Array.isArray(radius) ? Math.max(...radius) : radius\n  const arcStart = {\n    x: x + Math.cos(initial.radians) * r * 2, \n    y: y + Math.sin(initial.radians) * r * 2,\n  }\n  const arcEnd = {\n    x: x + Math.cos(terminal.radians) * r * 2,\n    y: y + Math.sin(terminal.radians) * r * 2,\n  }\n  const d = [\n    `M${x},${y}`,\n    `L ${arcStart.x},${arcStart.y}`,\n    `A ${r*2} ${r*2} 0 ${measure.degrees > 180 ? 1 : 0} 1`,\n    `${arcEnd.x},${arcEnd.y} z`,\n  ].join(' ')\n\n  const radii = Array.isArray(radius) ? radius : [radius]\n\n  const styleName = 'anglemark-congruent'\n  \n  return (\n    <Clip shape=\"Path\" d={d}>\n      <Style name={styleName}>\n        {radii.slice(0,congruent).map(v => <Circle key={v} cx={x} cy={y} r={v}/>)}\n      </Style>\n    </Clip>\n  )\n}\n\nconst AngleMark = props => {\n  if (props.right || props.square) return React.createElement(RightAngleMark, props)\n  if (props.congruent) return React.createElement(CongruentAngleMarks, props)\n  return React.createElement(RoundAngleMark, props)\n}\n\nexport { AngleMark }\nexport default AngleMark","import React from 'react'\nimport { Path } from '.'\n\n\nlet clipCount = 0\n\nconst Clip = props => {\n  const {shape, id=`vg-clip-path-${++clipCount}`, children, ...shapeprops} = props\n  let Elem\n  if (shape === 'Path') {\n    Elem = Path\n  }\n  else if (shape === 'Rect') {\n    Elem = 'rect'\n  }\n\n  if (Elem) {\n    return (\n      <>\n        <clipPath id={id}>\n          {React.createElement(Elem, shapeprops)}\n        </clipPath>\n        <g clipPath={`url(#${id})`} vectorEffect=\"inherit\">\n          {props.children}\n        </g>\n      </>\n    )\n  }\n  return props.children\n}\n\nexport default Clip","import React from 'react'\nimport { Clip, Style, Grid, Path } from '.'\nimport Overlay from './react-svgplot/Overlay'\nimport { MarkerSymbols } from './react-svgplot/Style'\nimport { Canvas } from './react-svgplot'\nimport { connect } from 'react-redux'\n\nfunction parseSpan(span) {\n  if (Array.isArray(span)) {\n    const [x1, y1, x2, y2] = span\n    return {x1: +x1, y1: +y1, x2: +x2, y2: +y2}\n  }\n  if (typeof span === 'string') {\n    const s1 = span.split(' ')\n    if (s1.length === 1) {\n      const [x1, y1, x2, y2] = s1[0].split(',')\n      return {x1: +x1, y1: +y1, x2: +x2, y2: +y2}\n    }\n    if (s1.length === 2) {\n      const [x1, y1] = s1[0].split(',')\n      const [x2, y2] = s1[1].split(',')\n      return {x1: +x1, y1: +y1, x2: +x2, y2: +y2}\n    } else if (s1.length === 4) {\n      const [x1, y1, x2, y2] = s1\n      return {x1: +x1, y1: +y1, x2: +x2, y2: +y2}\n    }\n  }\n  return null\n}\n\nfunction convertToMM(val, unit) {\n  if (unit === 'mm') return val\n  if (unit === 'cm') return val*10\n  if (unit === 'in') return (val * 25.4)\n  if (unit === 'pt') return convertToMM(val/72, 'in')\n  if (unit === 'pc') return convertToMM(val/12, 'pt')\n}\n\nfunction toMM(s) {\n  // return in\n  const v = +s.slice(0,-2)\n  const u = s.slice(-2)\n  return convertToMM(v, u)\n}\n\n\nconst Clipper = ({x1, y1, x2, y2, clip, children}) => {\n  if (clip) {\n    return (\n      <Clip shape=\"Rect\" x={x1} y={y1} width={x2-x1} height={y2-y1}>\n        {children}\n      </Clip>\n    )\n  } else {\n    return children\n  }\n}\n\nconst Styler = ({style, children}) => {\n  if (style && style !== 'none') {\n    return (\n      <Style name={style}>\n        {children}\n      </Style>\n    )\n  } else {\n    return children\n  }\n}\n\nexport const CoordinatePlane = props => {\n\n  const span = parseSpan(props.span)\n  if (span === null) {\n    console.error(\"CoordinatePlane: span is null\")\n    return null\n  }\n  const {x1, y1, x2, y2} = span\n  const w = x2 - x1\n  const h = y2 - y1\n\n  const {\n    preserveAspectRatio=true, \n    margin='2mm',\n    grid=true, \n    axis=true, \n    style=\"function\", \n    clip=true,\n    border=false,\n    scaleFactor=1,\n  } = props\n\n  const canvas = { border }\n\n  const clipper = {x1, y1, x2, y2, clip}\n  const styler = {style}\n\n  const marg = toMM(margin)\n  \n  if (props.preserveAspectRatio === false) {\n    // TODO\n  } else {\n    if (props.width && props.height) {\n      console.log('WIDTH AND HEIGHT')\n      // TODO \n      /*\n      const width = toMM(props.width)\n      canvas.width = width + marg*2 + 'mm'\n      const vbmarg = w * marg / width\n      canvas.x1 = x1 - vbmarg\n      canvas.y1 = y1 - vbmarg\n      canvas.x2 = x2 + vbmarg\n      canvas.y2 = y2 + vbmarg\n\n      const height = toMM(props.height)\n      canvas.height = height + marg*2 + 'mm'\n      const vbmarg = h * marg / height\n      canvas.x1 = x1 - vbmarg\n      canvas.y1 = y1 - vbmarg\n      canvas.x2 = x2 + vbmarg\n      canvas.y2 = y2 + vbmarg\n      */\n\n    } else if (props.width) {\n      const width = toMM(props.width)\n      canvas.width = scaleFactor * width + marg*2 + 'mm'\n      const vbmarg = w * marg / width\n      canvas.x1 = x1 - vbmarg\n      canvas.y1 = y1 - vbmarg\n      canvas.x2 = x2 + vbmarg\n      canvas.y2 = y2 + vbmarg\n\n    } else if (props.height) {\n      const height = toMM(props.height)\n      canvas.height = scaleFactor * height + marg*2 + 'mm'\n      const vbmarg = h * marg / height\n      canvas.x1 = x1 - vbmarg\n      canvas.y1 = y1 - vbmarg\n      canvas.x2 = x2 + vbmarg\n      canvas.y2 = y2 + vbmarg\n    } else {\n\n    }\n  }\n  \n  const children = React.Children.toArray(props.children)\n  const svgchildren = children.filter(c => c.type !== Overlay)\n  const overlays = children.filter(c => c.type === Overlay)\n\n  return (\n    <Canvas {...canvas}>\n      <MarkerSymbols />\n      {grid ? (\n        <Grid span={[x1, y1, x2, y2]} axis={axis}/>\n      ) : axis ? (\n      <Style exactname=\"svgplot-axis\">\n        <Path points={[[0,y1], [0,y2]]} markers=\"-->\"/>\n        <Path points={[[x1,0], [x2,0]]} markers=\"-->\"/>\n      </Style>\n      ) : null}\n      <Clipper {...clipper}>\n        <Styler {...styler}>\n          {svgchildren}\n        </Styler>\n      </Clipper>\n      {overlays}\n    </Canvas>\n  )\n}\n\nconst mapStateToProps = state => ({\n  scaleFactor: state.style.graph.scaleFactor\n})\n\nexport default connect(mapStateToProps)(CoordinatePlane)","import React from 'react'\nimport { Grid as SvgPlotGrid, Line, Style } from './react-svgplot'\n\n\nconst Grid = props => {\n  const { span, step=[1,1], axis=true } = props\n  const [x1, y1, x2, y2] = span\n  const [xStep, yStep] = step\n\n  return (\n    <>\n    <Style name=\"svgplot-grid\">\n      <SvgPlotGrid {...{x1, y1, x2, y2, xStep, yStep}} />\n    </Style>\n    {axis ? (\n      <Style name=\"svgplot-axis\">\n        <Line x1={x1} y1={0} x2={x2} y2={0} markers=\"-->\" />\n        <Line x1={0} y1={y1} x2={0} y2={y2} markers=\"-->\" />\n      </Style>\n    ) : null}\n    </>\n  )\n}\n\nexport default Grid","import React from 'react'\n\n// just for testing purposes\n// use Clip, Style, or Transform instead\n\nconst Layer = props => <g {...props}>{props.children}</g>\n\nexport default Layer","export function makesrange(min, max, step=1, anchor=0) {\n\tif (anchor === undefined) {\n\t\tanchor = min;\n\t} else if (anchor < min) {\n\t\tanchor = min;\n\t} else if (anchor > max) {\n\t\tanchor = max;\n\t}\n\tlet r = [anchor,];\n\tlet v = anchor - step;\n\twhile (v >= min) {\n\t\t\tr.splice(0, 0, v);\n\t\t\tv -= step;\n\t}\n\tv = anchor + step;\n\twhile (v <= max) {\n\t\t\tr.push(v);\n\t\t\tv += step;\n\t}\n\treturn r;\n}\n\nexport function polylineFromPoints(points) {\n\tif (typeof points === 'string') {\n\t\treturn points\n\t}\n\tif (typeof points[0] === 'string') {\n\t\treturn points.join(' ')\n\t}\n\tif (Array.isArray(points[0])) {\n    return points.map(p => `${p[0]},${p[1]}`).join(' ')\n  }\n  return points.map(p => `${p.x},${p.y}`).join(' ')\n}\n\nexport function pathFromPoints(points) {\n  if (Array.isArray(points[0])) {\n    return `M${points.map(p => `${p[0]},${p[1]}`).join('L')}`\n  }\n  return `M${points.map(p => `${p.x},${p.y}`).join('L')}`\n}\n\nexport function interpolatePathCubicH(points) {\n  const pts = Array.isArray(points[0]) ? points.map(p => ({x: p[0], y: p[1]})) : points\n  let d = `${pts[0].x},${pts[0].y}`\n  let prev = pts[0]\n  for (let i = 1; i < pts.length; i++) {\n    const p = pts[i]\n    const x1 = (2*prev.x + p.x) / 3\n    const x2 = (prev.x + 2*p.x) / 3\n    d += ` C ${x1},${prev.y} ${x2},${p.y} ${p.x},${p.y}`\n    prev = p\n  }\n  return d\n}","import React from 'react'\nimport { Path as SPath, Polyline, Polygon as SPolygon } from './react-svgplot'\nimport { polylineFromPoints } from './funcs'\nimport { Style } from '.'\n\n\nconst renderPath = props => {\n  const {d, points, markers, fill, connect=false} = props\n  if (d) {\n    return <SPath d={d} markers={markers} fill={fill} />\n  }\n  else if (points) {\n    if (connect) {\n      return <SPolygon points={polylineFromPoints(points)} markers={markers} fill={fill} />\n    }\n    return <Polyline points={polylineFromPoints(points)} markers={markers} fill={fill} />\n  }\n  return null\n}\n\nexport const Path = props => {\n  const {styleName, ...rest} = props\n  if (styleName) {\n    return <Style name={styleName}>{renderPath(rest)}</Style>\n  }\n  return renderPath(props)\n}\n\nexport default Path\nexport const Asymptote = props => <Path styleName=\"asymptote\" {...props}/>\nexport const ScatterPlot = props => <Path styleName=\"scatterplot\" {...props}/>\nexport const Polygon = props => <Path connect={true} {...props}/>\n","import React from 'react'\nimport { round } from 'constants/lodash'\nimport { ROUND_TO } from './constants'\nimport { Path, Style, Point } from '.'\n\nconst calcPath = function(f, domain, step=0.1) {\n  let path = []\n  let x = domain[0]\n  while (x < domain[1]) {\n    path.push({x, y: round(f(x), ROUND_TO)})\n    x += step\n  }\n  path.push(({x: domain[1], y: round(f(domain[1]), ROUND_TO)}))\n  return path\n}\n\nexport const PolynomialFunction = (props) => {\n  const { \n    coefficients, \n    roots, leadingCoefficient=1,\n    domain, \n    step=0.2,\n    ...otherprops\n  } = props\n\n  if (domain === undefined) {\n    console.error(\"no domain provided for PolynomialFunction\")\n    return null\n  }\n  if (coefficients && roots) {\n    console.warn(\"PolynomialFunction roots are ignored when coefficients are provided\")\n  }\n\n  let f\n  if (coefficients) {\n    f = x => {\n      let ans = 0\n      for (const deg in coefficients) {\n        ans += coefficients[deg] * Math.pow(x,deg)\n      }\n      return ans\n    }\n  } else if (roots) {\n    f = x => {\n      let ans = leadingCoefficient\n      for (const r of roots) {\n        ans *= (x - r)\n      }\n      return ans\n    }\n  }\n\n  return <Path points={calcPath(f, domain, step)} {...otherprops}/>\n}\n\nexport const RationalFunction = (props) => {\n  const {\n    roots=[], holes=[], asymptotes=[], numerLC=1, denomLC=1, \n    domain, step=0.2, range=[-1000,1000], \n    renderAsymptotes=true, renderRoots=true, renderHoles=true,\n    style, fill,\n  } = props\n\n  if (domain === undefined) {\n    console.error(\"no domain provided for RationalFunction\")\n    return null\n  }\n\n  const f = (x) => {\n    let num = numerLC\n    let den = denomLC\n    for (const r of roots) {\n      num *= (x - r)\n    }\n    for (const r of asymptotes) {\n      den *= (x - r)\n    }\n    return num / den\n  }\n\n  const domainPts = {\n    [+domain[0]] : true,\n    [+domain[1]] : true,\n  }\n\n  for (const r of asymptotes.filter(r => r >= domain[0] && r <= domain[1])) {\n    domainPts[+r] = false\n  }\n\n  const domains = []\n  const dp = Object.keys(domainPts).sort((a,b) => a-b)\n  for (let i = 1; i<dp.length; i++) {\n    const [v1, v2] = [dp[i-1], dp[i]]\n    domains.push([\n      {val: v1, def: domainPts[v1]},\n      {val: v2, def: domainPts[v2]}, \n    ])\n  }\n  \n  const paths = []\n  for (const d of domains) {\n    \n    const dom = [\n      d[0].def ? +d[0].val : +d[0].val + step,\n      d[1].def ? +d[1].val : +d[1].val - step,\n    ]\n    let path = calcPath(f, dom, step)\n    if (!d[0].def) {\n      let p = path[0]\n      while (p.y > range[0] && p.y < range[1]) {\n        const x = (3*d[0].val + p.x) / 4\n        p = {x, y: f(x)}\n        path = [p, ...path]\n      }\n    }\n    if (!d[1].def) {\n      let p = path[path.length-1]\n      while (p.y > range[0] && p.y < range[1]) {\n        const x = (3*d[1].val + p.x) / 4\n        p = {x, y: f(x)}\n        path.push(p)\n      }\n    }\n    paths.push(path)\n  }\n\n  const vas = asymptotes.map(x => [{x: x, y: range[0]}, {x: x, y: range[1]}])\n  let ha\n  if (asymptotes.length > roots.length) {\n    ha = [{x: domain[0], y: 0}, {x: domain[1], y: 0}]\n  } else if (asymptotes.length === roots.length) {\n    ha = [{x: domain[0], y: numerLC/denomLC}, {x: domain[1], y: numerLC/denomLC}]\n  }\n\n\n\n\n  return (\n    <>\n      {renderAsymptotes ? (\n        <Style name='asymptote'>\n          {ha ? <Path key='hasym' points={ha} /> : null}\n          {vas.map(p => <Path key={`asym${p[0].x}`} points={p} />)}\n        </Style>\n      ) : null}\n      {style ? (\n        <Style name={style}>\n          {paths.map(p => <Path key={`path${p[0].x}`} points={p} fill={fill}/>)}\n          {renderRoots ? roots.map(x => <Point key={`root${x}`} x={x} y={f(x)} />): null}\n          {renderHoles ? holes.map(x => <Point key={`hole${x}`} x={x} y={f(x)} marker=\"o\"/>) : null}\n        </Style>\n      ) : (\n        <>\n          {paths.map(p => <Path key={`path${p[0].x}`} points={p} fill={fill}/>)}\n          {renderRoots ? roots.map(x => <Point key={`root${x}`} x={x} y={f(x)} />): null}\n          {renderHoles ? holes.map(x => <Point key={`hole${x}`} x={x} y={f(x)} marker=\"o\"/>) : null}        \n        </>\n      )}    \n      \n    </>\n  )\n}\n","export const ROUND_TO = 6","import React from 'react'\nimport { Circle as SCircle, Rect as SRect, Ellipse as SEllipse } from './react-svgplot'\nimport { Style } from '.'\n\nexport const Circle = props => {\n  const {styleName, ...otherprops} = props\n  if (styleName) {\n    return (\n      <Style name={styleName}><SCircle {...otherprops}/></Style>\n    )\n  }\n  return <SCircle {...otherprops}/>\n}\n\nexport const Rect = props => {\n  const {styleName, ...otherprops} = props\n  if (styleName) {\n    return (\n      <Style name={styleName}><SRect {...otherprops}/></Style>\n    )\n  }\n  return <SRect {...otherprops}/>\n}\n\nexport const Ellipse = props => {\n  const {styleName, ...otherprops} = props\n  if (styleName) {\n    return (\n      <Style name={styleName}><SEllipse {...otherprops}/></Style>\n    )\n  }\n  return <SEllipse {...otherprops}/>\n}","import React from 'react'\nimport { Style as SPStyle } from './react-svgplot'\n\nconst Style = props => {\n  const {name, exactname, color} = props\n\n  let stylenames = []\n  if (name) {\n    stylenames = stylenames.concat(name.split(' ').map(s => `vg-style-${s}`))\n  }\n  if (exactname) {\n    stylenames = stylenames.concat(exactname.split(' '))\n  }\n\n  const styleprops = {}\n  if (color) styleprops.color = color\n  if (stylenames.length) styleprops.name = stylenames.join(' ')\n\n  return (\n    <SPStyle {...styleprops}>\n      {props.children}\n    </SPStyle>\n  )\n}\n\nexport default Style","import {\n  Canvas,\n  Label,\n  Overlay,\n  Point,\n  Transform,\n} from './react-svgplot'\n\nimport AngleMark from './AngleMark'\nimport Clip from './Clip'\nimport CoordinatePlane from './CoordinatePlane'\nimport Grid from './Grid'\nimport Layer from './Layer'\nimport Path, { Asymptote, ScatterPlot, Polygon } from './Path'\nimport { PolynomialFunction, RationalFunction } from './Functions'\nimport { Circle, Ellipse, Rect } from './Shapes'\nimport Style from './Style'\n\nimport './vgstyles.global.css'\n\nexport {\n  AngleMark,\n  Asymptote,\n  Circle,\n  Clip,\n  CoordinatePlane,\n  Ellipse,\n  Grid,\n  Label,\n  Layer,\n  Overlay,\n  Path,\n  Point,\n  Polygon,\n  Rect,\n  ScatterPlot,\n  Style,\n  Transform,\n}\n\nconst VectorGraphics = {\n  AngleMark,\n  Asymptote,\n  Canvas,\n  Circle,\n  Clip,\n  CoordinatePlane,\n  Ellipse,\n  Grid,\n  Label,\n  Layer,\n  Overlay,\n  Path,\n  Point,\n  Polygon,\n  PolynomialFunction,\n  RationalFunction,\n  Rect,\n  ScatterPlot,\n  Style,\n  Transform,\n}\n\nexport default VectorGraphics","import React from 'react'\n\n\nfunction parseBorder(border) {\n  if (border === 'top') return 'borderTop'\n  if (border === 'bottom') return 'borderBottom'\n  if (border === 'left') return 'borderLeft'\n  if (border === 'right') return 'borderRight'\n}\n\n\nexport const EmptySpace = props => {\n  const {width=\"2cm\", height=\"2cm\", border} = props\n  const style = {margin: '0'}\n  if (width) style.width = width\n  if (height) style.height = height\n  if (border) {\n    if (Array.isArray(border)) {\n      for (const b of border) {\n        if (parseBorder(b)) {\n          style[parseBorder(b)] = '1px solid black'\n        }\n      }\n    }\n    if (typeof border === 'string') {\n      if (parseBorder(border)) {\n        style[parseBorder(border)] = '1px solid black'\n      }\n      if (border === true) {\n        style.border = '1px solid black'\n      }\n    }\n  }\n  return (\n    <div style={style} />\n  )\n}","import katex from 'katex'\n\nexport const formulaToKatex = (formula, options) => {\n  try {\n    return katex.renderToString(formula, options);\n  } catch (e) {\n    if (!(e instanceof katex.ParseError)) {\n      throw e;\n    }\n    console.error(\n      \"KaTeX auto-render: Failed to parse `\" + formula + \"` with \", e\n    );\n  }\n  return null\n}","import React from 'react'\nimport { defaultsDeep } from 'constants/lodash'\nimport { formulaToKatex as formulaToHtml } from './katexMath'\nimport MarkdownIt from 'markdown-it'\nimport mdsup from 'markdown-it-sup'\nimport mdsub from 'markdown-it-sub'\nimport mdsmartarrows from 'markdown-it-smartarrows'\nimport mdmath from 'markdown-it-math'\nimport styles from './styles.module.css'\n\nconst defaultOptions = {\n  renderMath: true,\n  \n  mdSuperscript: true,\n  mdSubscript: true,\n  mdSmartarrows: true,\n\n  mathDelimiters: {\n    display: {left: '$$$', right: '$$$'},\n    inline: {left: '$$', right: '$$'},\n  }\n};\n\nexport const InlineMarkdown = ({data, options}) => {\n  const opts = defaultsDeep({}, options, defaultOptions)\n  let md = new MarkdownIt()\n  if (opts.mdSubscript) { md = md.use(mdsub); }\n  if (opts.mdSuperscript) { md = md.use(mdsup); }\n  if (opts.mdSmartarrows) { md = md.use(mdsmartarrows); }\n  if (opts.renderMath) {\n    md = md.use(mdmath, {\n      inlineRenderer: (str) => formulaToHtml(str),\n      blockRenderer: (str) => formulaToHtml(str, {displayMode: true}),\n      inlineOpen: opts.mathDelimiters.inline.left,\n      inlineClose: opts.mathDelimiters.inline.right,\n      blockOpen: opts.mathDelimiters.display.left,\n      blockClose: opts.mathDelimiters.display.right,\n    })\n  }\n  return <span dangerouslySetInnerHTML={{__html: md.renderInline(data)}} />\n}\n\nexport const Markdown = ({data, options}) => {\n  const opts = defaultsDeep({}, options, defaultOptions)\n  let md = new MarkdownIt()\n  if (opts.mdSubscript) { md = md.use(mdsub); }\n  if (opts.mdSuperscript) { md = md.use(mdsup); }\n  if (opts.mdSmartarrows) { md = md.use(mdsmartarrows); }\n  if (opts.renderMath) {\n    md = md.use(mdmath, {\n      inlineRenderer: (str) => formulaToHtml(str),\n      blockRenderer: (str) => formulaToHtml(str, {displayMode: true}),\n      inlineOpen: opts.mathDelimiters.inline.left,\n      inlineClose: opts.mathDelimiters.inline.right,\n      blockOpen: opts.mathDelimiters.display.left,\n      blockClose: opts.mathDelimiters.display.right,\n    })\n  }\n  return (\n    <span className={styles.Markdown} dangerouslySetInnerHTML={{__html: md.render(data)}} ></span> \n  )\n}","import React from 'react'\nimport { formulaToKatex as formulaToHtml } from './katexMath'\n\n\nexport const Math = props => {\n  const html = formulaToHtml(props.data, props.options);\n  return <span dangerouslySetInnerHTML={{__html: html}} />\n}\n\nexport const DisplayMath = props => {\n  const options = {displayMode: true, ...props.options}\n  const html = formulaToHtml(props.data, options);\n  return <span dangerouslySetInnerHTML={{__html: html}} />\n}\n","import React from 'react'\n\nconst parseHeader = (text) => {\n  let result = []\n  let current = ''\n  let isBlank = false\n  let i = 0\n  let blankSize = 0\n  while (i < text.length) {\n    const nextChar = text[i]\n    if (isBlank) {\n      if (nextChar === '_') {\n        blankSize += 1\n      } else {\n        result.push({type: 'blank', size: blankSize})\n        current = nextChar\n        isBlank = false\n        blankSize = 0\n      }\n    } else {\n      if (nextChar === '_') {\n        if (current !== '') {\n          result.push({type: 'text', text: current})\n          current = ''\n        }\n        isBlank = true\n        blankSize = 1\n      } else {\n        current += nextChar\n      }\n    }\n    i += 1\n  }\n  if (isBlank) {\n    if (blankSize > 0) {\n      result.push({type: 'blank', size: blankSize})\n    }\n  } else {\n    if (current !== '') {\n      result.push({type: 'text', text: current})\n    }\n  }\n  return result\n}\n\nconst renderHeaderElement = (text) => {\n  const parts = parseHeader(text)\n  return (\n    <>\n      {parts.map((p, i) => {\n        if (p.type === 'text') {\n          return (\n            <div key={i} style={{display: 'inline-block'}}>{p.text}</div>\n          )\n        } else {\n          const w = `${1 + 3*(p.size - 1)}cm`\n          return (\n            <div key={i} className='blank-underline blank-underline-page-header' style={{width: w}} />\n          )\n        }\n      })}\n    </>\n  )\n}\n\nexport const PageHeader = props => {\n\n  if (props.rows.length === 0) {\n    return <div className='page-header page-header-empty' />\n  } else {\n    return (\n      <table className='page-header'>\n        <tbody>\n          {props.rows.map((row, i) => {\n            const [left, right] = row\n            return (\n              <tr key={i}>\n                <td>\n                  {renderHeaderElement(left || '')}\n                </td>\n                <td>\n                  {renderHeaderElement(right || '')}\n                </td>\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n    )\n  }\n}","import React from 'react'\nimport { renderObject } from '..'\nimport { isEqual } from 'constants/lodash'\n\n\nconst defaultLayout = ['instructions', 'question', ['answer', 'diagram']]\n//const defaultLayout = [[['instructions', 'question', 'answer'], 'diagram']]\nconst layoutAnswerRight = ['instructions', 'question', ['diagram', 'answer']]\n\nconst QuestionLayout = ({\n  content,\n  layout,\n  direction='column',\n}={}) => {\n\n  const className = `question-layout question-layout-${direction}`\n  const newDirection = {row: 'column', column: 'row'}[direction]\n  //const useLayout = layout || defaultLayout\n  const useLayout = layout || (content.answer && content.answer[0] === 'EmptySpace' ? layoutAnswerRight : defaultLayout)\n\n  return (\n    <div className={className}>\n      {useLayout.map((area, i) => {\n        if (Array.isArray(area)) {\n          return (\n            <QuestionLayout key={`region-${i}`} \n              content={content}\n              layout={area} \n              direction={newDirection} \n            />\n          )\n        } else {\n          if (content[area]) {\n            const classNames = ['question-area', `question-area-${area}`]\n            return (\n              <div key={area} className={classNames.join(' ')}>\n                {renderObject(content[area])}\n              </div>\n            )\n          }\n        }\n        return null\n      })}\n    </div>\n  )\n}\n\n\nfunction parseAnswer(answer) {\n  if (answer) {\n    if (answer.constructor.name === 'Object') {\n      return answer\n    } else {\n      return {correct: answer}\n    }\n  }\n}\n\nexport function determineVariant(content={}, options={}) {\n  if (options.variant) {\n    return options.variant\n  }\n  if (content.answer && content.answer.choices) {\n    return 'multipleChoice'\n  }\n  if (content.variants && content.variants.multipleChoice) {\n    return 'multipleChoice'\n  }\n  return 'freeResponse'\n}\n\nfunction determineAnswerSpace(answer, variant) {\n  if (answer) {\n    if (variant === 'multipleChoice' && answer.choices) {\n      const listDirection = answer.listDirection\n      return ['AnswerChoices', {listDirection}, ...answer.choices]\n    } else if (answer.prompt !== undefined) {\n      if (answer.prompt === null) {\n        return null\n      }\n      if (typeof answer.prompt === 'string') {\n        return ['AnswerBlanks', null, answer.prompt]\n      } else if (Array.isArray(answer.prompt)) {\n        return answer.prompt\n      }\n    }\n  }\n  return ['EmptySpace', {width: '1cm', height: '1cm'}]\n}\n\nfunction determineContent(content, variant) {\n  const {variants, ...othercontent} = content\n  const usecontent = Object.assign({}, othercontent)\n  if (variants) {\n    const variantContent = variants[variant]\n    Object.assign(usecontent, variantContent)\n  }\n  return {\n    ...usecontent,\n    answer: determineAnswerSpace(parseAnswer(usecontent.answer), variant)\n  }\n}\n\nfunction determineAnswerKey(answer={}, variant='freeResponse', letters='abcdef') {\n  if (answer) {\n    if (variant === 'multipleChoice') {\n      if (answer.correctIndex !== undefined) {\n        if (Array.isArray(answer.correctIndex)) {\n          return answer.correctIndex.map(i => letters[i]).join(', ')\n        } else {\n          return letters[answer.correctIndex]\n        }\n      }\n      if (answer.correct !== undefined) {\n        for (let i = 0; i < answer.choices.length; i++) {\n          if (isEqual(answer.choices[i], answer.correct)) {\n            return letters[i]\n          }\n        }\n      }\n    }\n    if (answer !== null) {\n      if (answer.correct) {\n        return answer.correct\n      }\n      if (Array.isArray(answer) ||  typeof answer === 'string' || typeof answer === 'number') {\n        return answer\n      }\n    }\n    if (answer.choices && answer.correctIndex !== undefined) {\n      return answer.choices[answer.correctIndex]\n    }\n  }\n}\n\n\nexport const Question = (props) => {\n  const options = props.options || {}\n  const variant = determineVariant(props.content, props.options)\n  const content = determineContent(props.content, variant)\n\n  const layout = content.layout || options.layout\n  return (\n    <div className='question-wrapper'>\n      <QuestionLayout content={content} layout={layout}/>\n    </div>\n  )\n}\n\n\nexport const NumberedQuestion = props => {\n  return (\n    <div className='question-number'>\n      <Question {...props} />\n    </div>\n  )\n}\n\n\nexport const AnswerKey = props => {\n  const letters = 'abcdefg'\n  const { options } = props\n  const variant = determineVariant(props.content, options)\n  const answer = determineAnswerKey(props.content.answer, variant, letters)\n  return renderObject(answer)\n}\n","import React from 'react'\n\nfunction parseAlignment(align) {\n  // latex-style, e.g. r|ccc|l\n  const colStyles = []\n\n  const blocks = align.split('|')\n  for (const i in blocks) {\n    const block = blocks[i]\n    for (const j in block) {\n      const char = block[j]\n      const colStyle = {}\n      if (char === 'l') colStyle.textAlign = 'left'\n      if (char === 'c') colStyle.textAlign = 'center'\n      if (char === 'r') colStyle.textAlign = 'right'\n      if (+j === 0 && i > 0) {\n        colStyle.borderLeft = '1px solid black'\n      }\n      if (+j === block.length-1 && i < blocks.length-1) {\n        colStyle.borderRight = '1px solid black'\n      }\n      colStyles.push(colStyle)\n    }\n  }\n  return colStyles\n}\n\n\nexport const TRow = props => {\n  const { header=false, border=false } = props\n  const rowprops = {style: {border: 'none'}}\n  if (border) {\n    if (border === 'bottom') {\n      rowprops.style.borderBottom = '1px solid black'\n    } else if (border === 'top') {\n      rowprops.style.borderTop = '1px solid black'\n    } else if (border === true || border === 'both') {\n      rowprops.style.borderTop = '1px solid black'\n      rowprops.style.borderBottom = '1px solid black'\n    }\n  }\n\n  const defaultBorderLeft = i => 'none'\n  const defaultBorderRight = i => 'none'\n  const defaultTextAlign = i => 'center'\n\n  const elemstyle = i => ({\n    border: 'none',\n    borderLeft: `var(--table-col-${i}-borderLeft, ${defaultBorderLeft(i)})`,\n    borderRight: `var(--table-col-${i}-borderRight, ${defaultBorderRight(i)})`,\n    textAlign: `var(--table-col-${i}-textAlign, ${defaultTextAlign(i)})`,\n  })\n\n  //console.log(entryprops)\n  return (\n    <tr {...rowprops}>\n      {header ? (\n        React.Children.toArray(props.children).map((c,i) => (\n          <th key={i} style={elemstyle(+i+1)}>{c}</th>\n        ))\n      ) : (\n        React.Children.toArray(props.children).map((c,i) => (\n          <td key={i} style={elemstyle(+i+1)}>{c}</td>\n        ))\n      )}\n    </tr>\n  )\n}\n\nexport const Table = props => {\n  const children = React.Children.toArray(props.children)\n\n  let headIndex = 0\n  while (headIndex < children.length \n    && children[headIndex].type.name === 'TRow' \n    && children[headIndex].props.header) {\n    headIndex += 1\n  }\n\n  const tableprops = {style: {borderCollapse: 'collapse'}}\n  if (props.border) {\n    tableprops.style.border = '1px solid black'\n  }\n  if (props.align) {\n    const alignment = parseAlignment(props.align)\n    for (const i in alignment) {\n      for (const k in alignment[i]) {\n        const cssvar = `--table-col-${+i+1}-${k}`\n        const value = alignment[i][k]\n        tableprops.style[cssvar] = value\n      }\n    }\n  }\n\n  return (\n    <table {...tableprops}>\n      {headIndex > 0 ? (\n        <thead>\n          {children.slice(0,headIndex)}\n        </thead>\n      ) : null}\n      {headIndex < children.length ? (\n        <tbody>\n          {children.slice(headIndex)}\n        </tbody>\n      ) : null}\n    </table>\n  )\n}","/*\nThis renders math in text using markdown, and simple markdown using\nmarkdown-it's inline renderer. For more complicated markdown, use\nthe 'markdown' type, which will be passed to the 'renderMarkdown' function\n*/\n\nimport React from 'react'\nimport splitAtDelimiters  from 'katex/contrib/auto-render/splitAtDelimiters'\nimport { defaultsDeep } from 'constants/lodash'\nimport { Math, DisplayMath } from './Math'\nimport { Markdown, InlineMarkdown } from './Markdown'\n\nconst defaultOptions = {\n  renderMath: true,\n  markdown: 'inline',\n  mathDelimiters: {\n    display: {left: '$$$', right: '$$$'},\n    inline: {left: '$$', right: '$$'},\n  }\n};\n\n\n// from katex:\nconst splitWithDelimiters = function(text, delimiters) {\n  let data = [{type: \"text\", data: text}];\n  for (let i = 0; i < delimiters.length; i++) {\n    const delimiter = delimiters[i];\n    data = splitAtDelimiters(\n      data, delimiter.left, delimiter.right,\n      delimiter.display || false);\n  }\n  return data;\n};\n\nconst ParseMath = ({data, options}) => {\n  const delimiters = [\n    {left: options.mathDelimiters.display.left, right: options.mathDelimiters.display.right, display: true},\n    {left: options.mathDelimiters.inline.left, right: options.mathDelimiters.inline.right, display: false},\n  ]\n\n  return (\n    <span>\n      {splitWithDelimiters(data, delimiters).map((c,i) => {\n        if (c.type === 'text') {\n          if (options.markdown) {\n            return <InlineMarkdown key={i} data={c.data} options={options}/>\n          } else {\n            return <Plain key={i} data={c.data} options={options}/>\n          }\n        } else {\n          if (c.display) {\n            return <DisplayMath key={i} data={c.data}/>\n          } else {\n            return <Math key={i} data={c.data}/>\n          }\n        }\n      })}\n    </span>\n  )\n}\n\nexport const Plain = props => {\n  return <span>{props.data}</span>\n}\n\n\nexport const Text = props => {\n  const {\n    data, fontFamily, fontSize, color,\n    ...otherprops\n  } = props\n  const opts = defaultsDeep({}, otherprops, defaultOptions)\n  const style = {fontFamily, fontSize, color}\n  let RenderMethod\n  if (opts.markdown === true || opts.markdown === 'full') {\n    RenderMethod = Markdown\n  } else if (opts.renderMath) {\n    RenderMethod = ParseMath\n  } else if (opts.markdown === 'inline') {\n    RenderMethod = InlineMarkdown\n  } else {\n    RenderMethod = Plain\n  }\n\n  return (\n    <span style={style}>\n      <RenderMethod data={data} options={opts}/>\n    </span>\n  )\n}\n\n/*\nconst defaultDelimiters = {\n  display: {left: '$$$', right: '$$$'},\n  inline: {left: '$$', right: '$$'},\n}\n\nconst replaceMathDelimiters = function(text, options, delimiters=defaultDelimiters) {\n  let optionsCopy = {...options.katex}\n  const data = splitWithDelimiters(text, optionsCopy.delimiters)\n  let result = \"\"\n  for (let i = 0; i < data.length; i++) {\n    if (data[i].type === \"text\") {\n      result += data[i].data\n    } else if (data[i].display) {\n      result += `${delimiters.display.left}${data[i].data}${delimiters.display.right}`\n    } else {\n      result += `${delimiters.inline.left}${data[i].data}${delimiters.inline.right}`\n    }\n  }\n  return result\n}\n*/\n","const makeColors = () => {\n  const colors = {\n    black: '#000000',\n    grey: '#999999',\n    blue: '#0080d9',\n    green: '#44aa66',\n    orange: '#f58518',\n    pink: '#f87199',\n    purple: '#cc66aa',\n    red: '#ff3600',\n  }\n  const result = {}\n  for (const k in colors) {\n    result[k] = {stroke: colors[k], fill: colors[k]}\n  }\n  return result\n}\n\n\nconst makeConfig = style => ({\n  area: {\n    strokeWidth: 0,\n    fillOpacity: style.fillOpacity,\n  },\n  line: {\n    fillOpacity: 0,\n    clip: true,\n  },\n  axis: {\n    gridColor: style.gridColor,\n    gridWidth: style.gridWidth,\n    gridOpacity: style.gridOpacity,\n    bandPosition: 0.5,\n    labelOverlap: 'parity',\n    labelPadding: 5,\n    labelSeparation: 50,\n  },\n  style: {\n    primary: {\n      stroke: style.functionStroke1,\n      fill: style.functionStroke1,\n    },\n    secondary: {\n      stroke: style.functionStroke2,\n      fill: style.functionStroke2,\n    },\n    tertiary: {\n      stroke: style.functionStroke3,\n      fill: style.functionStroke3,\n    },\n    asymptote: {\n      stroke: style.asymptoteColor,\n      strokeWidth: style.asymptoteWidth,\n      strokeOpacity: style.asymptoteOpacity,\n      strokeDash: [4, 3],\n    },\n    dashed: {\n      strokeDash: [5, 3],\n      strokeDashOffset: 0,\n    },\n    function: {\n      strokeWidth: style.functionStrokeWidth,\n    },\n    geometry: {\n      strokeWidth: style.geometryStrokeWidth,\n    },\n    ...makeColors(),\n  },\n})\n\nexport default makeConfig","import React from 'react'\nimport ReactVega from 'react-vega'\nimport ReactVegaLite from 'react-vega-lite'\nimport { connect } from 'react-redux'\nimport vegaconfig from './vegaconfig'\n\nconst Vega_ = ({spec, config, renderer='svg'}) => {\n  return (\n    <ReactVega spec={{config, ...spec}} renderer={renderer}/>\n  )\n}\n\nconst VegaLite_ = ({spec, config, renderer='svg'}) => {\n  return (\n    <ReactVegaLite spec={{config, ...spec}} renderer={renderer}/>\n  )\n}\n\nconst mapStateToProps = state => ({\n  config: vegaconfig(state.style.graph)\n})\n\nexport const Vega = connect(mapStateToProps)(Vega_)\nexport const VegaLite = connect(mapStateToProps)(VegaLite_)","import React from 'react';\nimport { Vega } from './Vega';\nimport { connect } from 'react-redux';\nimport { range } from 'constants/lodash';\nimport styles from './styles.module.css';\n\nfunction anchoredRange(start, end, step, anchor=0) {\n  if (start < anchor && end > anchor) {\n    return [...range(-anchor-step, -start+step, step).map(n => -n).reverse(), ...range(anchor, end+step, step)]\n  }\n  if (anchor < start) {\n    return range(anchor, end+step, step).filter(n => n >= start)\n  }\n  if (anchor > end) {\n    return range(-anchor, -start+step).reverse().map(n => -n).filter(n => n <= end)\n  }\n}\n\nfunction makeGrid(props) {\n  const { scale, domain, values, step=1 } = props\n  \n  return {\n    scale,\n    orient: {x: 'bottom', y: 'left'}[scale],\n    domain: false,\n    values: values ? values : step ? anchoredRange(domain[0], domain[1], step, 0) : undefined,\n    ticks: false,\n    labels: false,\n    grid: true,\n  }\n}\n\nfunction makeAxis(props) {\n  const { scale, style } = props\n  return {\n    scale,\n    orient: scale === 'x' ? 'bottom' : 'left',\n    domain: false,\n    labels: false,\n    ticks: false,\n    values: [0],\n    grid: true,\n    gridColor: style.axisColor,\n    gridOpacity: style.axisOpacity,\n    gridWidth: style.axisWidth,\n  }\n}\n\nfunction makeLabels(props) {\n  const { scale, title, labels=false, style } = props\n  return {\n    scale,\n    orient: scale === 'x' ? 'bottom' : 'left',\n    title,\n    ...(labels ? {\n      labels: true,\n      ticks: true,\n      tickColor: style.gridColor,\n      tickWidth: style.gridWidth,\n      domain: false,\n    } : {labels: false, ticks: false})\n  }\n}\n\nfunction makeAxes({\n  domain,\n  range,\n  xTitle,\n  yTitle,\n  xLabels=false,\n  yLabels=false,\n  axis=true,\n  grid=true,\n  style,\n}) {\n\n  let result = []\n  if (grid) {\n    result.push(makeGrid({scale: 'x', domain: domain}))\n    result.push(makeGrid({scale: 'y', domain: range}))\n  }\n  if (axis) {\n    result.push(makeAxis({scale: 'x', style}))\n    result.push(makeAxis({scale: 'y', style}))\n  }\n  if (xLabels || xTitle) {\n    result.push(makeLabels({scale: 'x', labels: xLabels, title: xTitle, style}))\n  }\n  if (yLabels || yTitle) {\n    result.push(makeLabels({scale: 'y', labels: yLabels, title: yTitle, style}))\n  }\n  return result\n}\n\nfunction makeScales({domain, range}) {\n  return [\n    {\n      name: \"x\",\n      type: \"linear\",\n      domain: domain,\n      range: 'width',\n      zero: true,\n    },\n    {\n      name: \"y\",\n      type: \"linear\",\n      domain: range,\n      range: 'height',\n      zero: true,\n    },\n  ]\n}\n\nfunction marksDef({type, domain, range, clip}) {\n  const clip_ = clip || `${domain[0]},${range[0]} ${domain[0]},${range[1]} ${domain[1]},${range[1]} ${domain[1]},${range[0]}`\n  switch(type) {\n    case \"area-below\": return {\n      type: 'area',\n      clip: clip_,\n      encode: {\n        enter: {\n          x: {scale: 'x', field: 'x'},\n          y: {scale: 'y', value: range[0]},\n          y2: {scale: 'y', field: 'y'},\n        }\n      }\n    }\n    case \"area-above\": return {\n      type: 'area',\n      clip: clip_,\n      encode: {\n        enter: {\n          x: {scale: 'x', field: 'x'},\n          y: {scale: 'y', field: 'y'},\n          y2: {scale: 'y', value: range[1]},\n        }\n      }\n    }\n    default: return {\n      type: 'line',\n      clip: clip_,\n      encode: {\n        enter: {\n          x: {scale: 'x', field: 'x'},\n          y: {scale: 'y', field: 'y'},\n        }\n      }\n    }\n  }\n}\n\n\nconst plotData = ({values, style, type, domain, range}, i) => ({\n  data: {\n    name: i, \n    values\n  },\n  marks: {\n    style,\n    from: ({data: i}),\n    ...marksDef(({type, domain, range})),\n  }\n})\n\n/////////////////////////////////////////////////////////////\n/////////////////////////////////////////////////////////////\n/////////////////////////////////////////////////////////////\n\nconst VegaPlot = props => {\n  const {\n    domain=[-10,10], \n    range=[-10,10], \n    width=180, \n    height=180, \n    padding=10,\n    plots=[],\n    labels=false,\n    renderer=\"svg\",\n  } = props\n  const plotstyle = {...props.defaultStyle, ...props.style}\n  const scales = makeScales({domain, range})\n  const axes = makeAxes({domain, range, xLabels: labels, yLabels: labels, style: plotstyle})\n\n  const spec = {\n    \"$schema\": \"https://vega.github.io/schema/vega/v4.json\",\n    height,\n    width,\n    padding,\n    autosize: 'fit',\n  \n    data: plots.map(({values}, i) => ({name: i, values})),\n\n    scales: scales,\n    axes: axes,\n\n    marks: plots.map(({style, type}, i) => ({\n        style,\n        from: {data: i},\n        ...marksDef({type, domain, range})\n    })),\n  }\n\n  const wrapperstyle = {\n    width: width + 2*padding,\n    height: height + 2*padding,\n  }\n\n  return (\n    <div className={styles.OverlayWrapper} style={wrapperstyle}>\n      <Vega spec={spec} renderer={renderer}/>\n      {props.children}\n    </div>\n  )\n}\n\nexport default connect(\n  state => ({ defaultStyle: state.style.graph })\n)(VegaPlot)","import VectorGraphics from './VectorGraphics'\nimport { AnswerChoices, AnswerBlanks } from './AnswerSpace'\nimport { Container } from './Container'\nimport { EmptySpace } from './EmptySpace'\nimport { Markdown, InlineMarkdown } from './Markdown'\nimport { Math, DisplayMath } from './Math'\nimport { List } from './List'\nimport { PageHeader } from './PageHeader'\nimport { Question, NumberedQuestion, AnswerKey } from './Question'\nimport { RenderError } from './RenderError'\nimport { Table, TRow } from './Table'\nimport { Text, Plain } from './Text'\nimport { Vega, VegaLite } from './Vega'\nimport VegaPlot from './VegaPlot'\n\n// nonTerminal types will have their children rendered with renderJson\nconst nonTerminal = {\n  AnswerBlanks,\n  AnswerChoices,\n  Container, \n  List,\n  Table, \n  TRow,\n  VegaPlot,\n  ...VectorGraphics,\n}\n\n\n\n/* terminal types are responsible for rendering their own children\n * children are joined (by newlines) into a single string and passed \n * as the 'data' prop, e.g.\n * \n * ['Math', '\\\\frac{2}{3}', '\\\\sqrt{3}'] => <Math data={\"\\\\frac{2}{3}\\n\\\\sqrt{3}\"}/>\n * \n */\nconst terminal = {\n  Plain, \n  Text, \n  Math, \n  DisplayMath, \n  Markdown, \n  InlineMarkdown,\n}\n\n\n\n// childless types will ignore children\n// many of these may be tweaked to become nonTerminal or terminal\nconst childless = {\n  AnswerKey,\n  EmptySpace, \n  PageHeader,\n  NumberedQuestion,\n  Plain, \n  Question, \n  RenderError,\n  Vega,\n  VegaLite,\n}\n\nexport {nonTerminal, terminal, childless}","import React from 'react'\n\nexport const AnswerChoices = props => {\n\n  const classNames = ['answerchoice-list']\n  if (props.listDirection && props.listDirection === 'horizontal') {\n    classNames.push('answerchoice-list-horizontal')\n  }\n  return (\n    <ol className={classNames.join(' ')} type='a'>\n      {React.Children.map(props.children, (c,i) => (\n        <li key={`choice-${i}`}\n          className='answerchoice-item'>\n          {c}\n        </li>\n      ))}\n    </ol>\n  )\n}\n\nexport const AnswerBlanks = props => {\n  const style = {margin: 0}\n  if (props.width !== undefined) {\n    style.minWidth = props.width\n  }\n  if (props.height !== undefined) {\n    style.minHeight = props.height\n  }\n  const classNames = ['answerspot']\n  if (props.box) {\n    classNames.push('answerbox')\n  } else {\n    classNames.push('answerblank')\n  }\n  return (\n    <table className='answerblanks'>\n      <tbody>\n        {React.Children.map(props.children, (c,i) => (\n          <tr key={i}>\n            <td>{c}</td>\n            <td><div className={classNames.join(' ')} style={style}/></td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  )\n}","import React from 'react'\n\nexport const Container = props => {\n  const {direction='row', border=false, alignItems, justifyItems, wrap=true} = props\n  const divstyle = {\n    display: 'flex',\n    flexDirection: direction,\n    flexWrap: wrap ? 'wrap' : 'nowrap',\n    border: border ? '1px solid black' : 'none',\n  }\n  if (direction === 'row') {\n    if (alignItems === 'bottom') {\n      divstyle.alignItems = 'flex-end'\n    } else if (alignItems === 'top') {\n      divstyle.alignItems = 'flex-start'\n    } else if (alignItems === 'center') {\n      divstyle.alignItems = 'center'\n    }\n  }\n\n  return (\n    <div style={divstyle}>\n      {props.children}\n    </div>\n  )\n}","import React from 'react'\n\nexport const List = props => {\n  const {type} = props\n  return (\n    <ol type={type}>\n      {React.Children.map(props.children, c => <li>{c}</li>)}\n    </ol>\n  )\n}","import React from 'react'\n\nexport const RenderError = props => {\n  return (\n    <>\n      {props.children.map((c,i) => <code key={i} className='render-error'>{JSON.stringify(c)}</code>)}\n    </>\n  )\n}","import React from 'react'\nimport { nonTerminal, terminal, childless } from './renderTypes'\nimport { Text, Plain } from './renderTypes/Text'\n\nexport const parseObject = function(object) {\n  const [ type, ...others ] = object\n  if (others.length) {\n    if (others[0].constructor.name === 'Object') {\n      const [props, ...children] = others\n      return { type, props, children }\n    } else {\n      return { type, props: {}, children: others }\n    }\n  }\n  return { type , props: {}, children: [] }\n}\n\nconst isArray = Array.isArray\n\nexport const renderObject = function(data, {key}={}) {\n  if (isArray(data)) {\n    const {type, props, children} = parseObject(data)\n\n    if (isArray(type)) {\n      return React.createElement(React.Fragment, null, ...data.map(c => renderObject(c)))\n    }\n    if (childless[type]) {\n      return React.createElement(childless[type], {key, ...props})\n    }\n    if (terminal[type]) {\n      return React.createElement(terminal[type], {key,...props, data: children.join('\\n')})\n    }\n    if (nonTerminal[type]) {\n      return React.createElement(nonTerminal[type], {key, ...props}, ...children.map(c => renderObject(c)))\n    }\n  }\n  else if (typeof data === 'string') {\n    return <Text data={data} />\n  }\n  else if (typeof data === 'number') {\n    return <Plain data={data.toString()} />\n  }\n  else if (typeof data === 'boolean') {\n    return <Plain data={data.toString()} />\n  }\n  else if (data === null || data === undefined) {\n    return null\n  }\n  console.error(`cannot render ${JSON.stringify(data)}`)\n  return null\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { RenderComponent, parseObject } from '..'\n\nexport default class DefaultEditor extends React.Component {\n  static propTypes = {\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n    data: PropTypes.array,\n    onUpdateElement: PropTypes.func.isRequired,\n    onDeleteElement: PropTypes.func.isRequired,\n    onRequestClose: PropTypes.func,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = parseObject(props.data)\n  }\n\n  getStateData() {\n    return [this.state.type, this.state.props, ...this.state.children]\n  }\n\n  updateAndClose = () => {\n    this.props.onUpdateElement(this.props.id, this.getStateData())\n    this.props.onRequestClose()\n  }\n\n  deleteAndClose = () => {\n    this.props.onDeleteElement(this.props.id)\n    this.props.onRequestClose()\n  }\n\n  revertChanges = () => {\n    this.setState(parseObject(this.props.data))\n  }\n\n  renderEditor() {\n    return <div>Editing is not yet implemented for this type of element.</div>\n  }\n\n  renderPreview() {\n    const data = [...this.getStateData()]\n    return (\n      <div className='document preview-area' style={{margin: '3mm 1mm'}}>\n        <RenderComponent data={data} />\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <div style={{padding: '1em'}}>\n        <div style={{\n          width: '100%',\n          display: 'grid', \n          gridTemplateColumns: 'auto auto auto 1fr auto',\n          margin: '0 0 5mm 0',\n        }}>\n          <button onClick={this.updateAndClose}>Apply Changes</button>\n          <button onClick={this.revertChanges}>Revert Changes</button>\n          <button onClick={this.props.onRequestClose}>Cancel</button>\n          <span />\n          <button onClick={this.deleteAndClose} style={{justifySelf: 'right'}}>Delete</button>\n        </div>\n        {this.renderEditor()}\n        {this.renderPreview()}\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\n\n\nexport default class EditPageHeader extends DefaultEditor {\n\n  headingUpdate(row, lr, text) {\n    const newrow = [...this.state.props.rows[row]]\n    newrow[lr] = text\n    const rows = [...this.state.props.rows]\n    rows[row] = newrow\n    this.setState({props: {...this.state.props, rows}})\n  }\n\n  headingAddRow = () => {\n    const rows = [...this.state.props.rows, ['', '']]\n    this.setState({ props: {...this.state.props, rows} })\n  }\n\n  headingRemoveRow = () => {\n    const rows = this.state.props.rows.slice(0,-1)\n    this.setState({props: {...this.state.props, rows}})\n  }\n\n  renderEditor() {\n    const rows = this.state.props.rows\n    const inputStyle = {\n      width: '100%',\n      fontSize: '1.1em',\n      fontFamily: 'var(--doc-font-family, monospace)',\n      margin: '1mm',\n      padding: '1mm',\n    }\n    return (\n      <div>\n      <p>\n        Underscores will be translated into a blank underlined space.\n      </p>\n      <table className='header'>\n        <tbody>\n          {rows.map((row, i) => {\n            const [left, right] = row\n            return (\n              <tr key={i} >\n                <td style={{border: 'none', padding: '0 1em 0 0'}}>\n                  <input type=\"text\"\n                    onChange={(evt) => this.headingUpdate(i, 0, evt.target.value)}\n                    value={left || ''} \n                    style={inputStyle}\n                  />\n                </td>\n                <td style={{border: 'none', padding: '0 1em 0 0'}}>\n                  <input type=\"text\"\n                    onChange={(evt) => this.headingUpdate(i, 1, evt.target.value)}\n                    value={right || ''} \n                    style={inputStyle}\n                  />\n                </td>\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n      <button onClick={this.headingRemoveRow}>-</button>\n      <button onClick={this.headingAddRow}>+</button>\n      </div>\n    )\n  }\n\n}","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\nimport { RenderComponent, parseObject } from '..'\nimport { determineVariant } from '../renderTypes/Question'\n\nconst variantNames = {\n  freeResponse: 'free response',\n  multipleChoice: 'multiple choice',\n}\n\nfunction parseAndSetVariant(data) {\n  const {type, props={}} = parseObject(data)\n  const {content={}, options={}} = props\n  if (!options.variant) {\n    options.variant = determineVariant(content)\n  }\n  if (!options.variants) {\n    if (content.answer && content.answer.choices) {\n      options.variants = ['multipleChoice', 'freeResponse']\n    } else {\n      options.variants = ['freeResponse']\n    }\n  }\n  return {type, content, options}\n}\n\nexport default class Question extends DefaultEditor {\n  constructor(props) {\n    super(props)\n    this.state = parseAndSetVariant(props.data)\n  }\n\n  getStateData() {\n    return [this.state.type, {content: this.state.content, options: this.state.options}]\n  }\n\n  revertChanges = () => {\n    const newState = parseAndSetVariant(this.props.data)\n    this.setState(newState)\n  }\n\n  updateVariant = evt => {\n    this.setState({options: {...this.state.options, variant: evt.target.value}})\n  }\n\n  updateContent(k, v, variant) {\n    if (variant) {\n      const variants = this.state.variants || {}\n      const updated = variants[variant] || {}\n      if (v === '') {\n        delete updated[k]\n      } else {\n        updated[k] = v\n      }\n      variants[variant] = updated\n      this.setState({\n        content: {\n          ...this.state.content, \n          variants,\n        }\n      })\n    } else {\n      this.setState({\n        content: {\n          ...this.state.content,\n          [k]: v\n        }\n      })\n    }\n  }\n\n  updateInstructions = evt => this.updateContent('instructions', evt.target.value)\n  updateInstructionsMC = evt => this.updateContent('instructions', evt.target.value, 'multipleChoice')\n  updateInstructionsFR = evt => this.updateContent('instructions', evt.target.value, 'freeResponse')\n\n  updateQuestion = evt => this.updateContent('question', evt.target.value)\n  updateQuestionMC = evt => this.updateContent('question', evt.target.value, 'multipleChoice')\n  updateQuestionFR = evt => this.updateContent('question', evt.target.value, 'freeResponse')\n\n  renderInstructionsOrQuestionInputs(fieldname) {\n    const overrides = (this.state.content.variants || {})[this.state.options.variant] || {}\n    const updaters = {\n      instructions: {\n        default: this.updateInstructions,\n        multipleChoice: this.updateInstructionsMC,\n        freeResponse: this.updateInstructionsFR,\n      },\n      question: {\n        default: this.updateQuestion,\n        multipleChoice: this.updateQuestionMC,\n        freeResponse: this.updateQuestionFR,\n      }\n    }[fieldname]\n    return (\n      <>\n      <td>\n        <textarea value={this.state.content[fieldname]} \n          onChange={updaters.default}\n          cols=\"40\"\n          rows=\"4\"\n        />\n      </td>\n      <td>\n        <textarea value={overrides[fieldname] || ''} \n          onChange={updaters[this.state.options.variant]}\n          cols=\"40\"\n          rows=\"4\"\n          placeholder={this.state.content[fieldname]}\n        />\n      </td>\n      </>\n    )\n  }\n\n\n  renderDiagram() {\n    return null\n  }\n\n  renderVariantSelect() {\n    return (\n      <>\n        Variant:\n        <select value={this.state.options.variant}\n          onChange={this.updateVariant}\n        >\n          {this.state.options.variants.map(v => (\n            <option key={v} value={v}>{variantNames[v]}</option>\n          ))}\n        </select>\n      </>\n    )\n  }\n\n  renderEditor() {\n    return (\n      <div>\n        <table>\n          <tbody>\n            <tr>\n              <td></td>\n              <td style={{textAlign: 'center'}}>Default</td>\n              <td style={{textAlign: 'center'}}>{this.renderVariantSelect()}</td>\n            </tr>\n            <tr>\n              <td>Instructions</td>\n              {this.renderInstructionsOrQuestionInputs('instructions')}\n            </tr>\n            <tr>\n              <td>Question</td>\n              {this.renderInstructionsOrQuestionInputs('question')}\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n\n\n  renderPreview() {\n    const data = this.getStateData().slice(1)\n    return (\n      <div>\n        <div style={{fontWeight: 'bold'}}>Preview:</div>\n        <div className='document preview-area' style={{margin: '3mm 1mm'}}>\n          <RenderComponent data={['Question', ...data]} />\n        </div>\n        <div style={{fontWeight: 'bold'}}>Answer:</div>\n        <div className='document preview-area' style={{margin: '3mm 1mm'}}>\n          <RenderComponent data={['AnswerKey', ...data]} />\n        </div>\n      </div>\n    )\n  }\n\n}","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\nimport EditPageHeader from './EditPageHeader'\nimport EditQuestion from './EditQuestion'\nimport EditText from './EditText'\nimport { parseObject } from '..'\nimport { connect } from 'react-redux'\nimport { updateElement, deleteElement } from '../../actions/document'\n\nconst renderTypes = ({\n  NumberedQuestion: EditQuestion,\n  Question: EditQuestion,\n  PageHeader: EditPageHeader,\n  Text: EditText,\n})\n\nconst EditComponent = props => {\n  const { type } = parseObject(props.data)\n  const RenderType = renderTypes[type]\n  if (RenderType) {\n    return <RenderType {...props}/>\n  }\n  return <DefaultEditor {...props}/>\n}\n\nconst mapDispatchToProps = dispatch => ({\n  onUpdateElement: (id, elem) => dispatch(updateElement(id, elem)),\n  onDeleteElement: (id) => dispatch(deleteElement(id)),\n})\n\nexport default connect(null, mapDispatchToProps)(EditComponent)","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\n\n\nexport default class EditText extends DefaultEditor {\n\n  updateChild(i, val) {\n    const children = [...this.state.children]\n    children[i] = val\n    this.setState({ children })\n  }\n\n  renderChildEditor(i) {\n    return (\n      <textarea key={i} value={this.state.children[i]}\n        onChange={evt => this.updateChild(i, evt.target.value)}\n        rows='12'\n        cols='80'\n        style={{width: 'fit-content'}}\n      />\n    )\n  }\n\n  renderEditor() {\n    return (\n      <>\n        {this.state.children.map((el, i) => this.renderChildEditor(i))}\n      </>\n    )\n  }\n}","import { parseObject, renderObject } from './renderObject'\nimport EditComponent from './editObject'\n\nconst RenderComponent = props => {\n  return renderObject(props.data)\n}\n\nexport {\n  parseObject, \n  renderObject, \n  RenderComponent,\n  EditComponent,\n}","export const SET_DOCUMENT_FONTFAMILY = 'SET_DOCUMENT_FONTFAMILY'\nexport const SET_DOCUMENT_FONTSIZE = 'SET_DOCUMENT_FONTSIZE'\nexport const SET_MATH_FONTSIZE = 'SET_MATH_FONTSIZE'\nexport const SET_MATH_FONTWEIGHT = 'SET_MATH_FONTWEIGHT'\nexport const SET_MATH_FONTFAMILY = 'SET_MATH_FONTFAMILY'\nexport const SET_PAGE_MARGIN = 'SET_PAGE_MARGIN'\nexport const SET_PAGE_SIZE = 'SET_PAGE_SIZE'\nexport const UPDATE_GRAPHSTYLE = 'UPDATE_GRAPHSTYLE'\nexport const RESET_GRAPHSTYLE = 'RESET_GRAPHSTYLE'\nexport const LOAD_STYLE = 'LOAD_STYLE'\nexport const RESET_STYLE = 'RESET_STYLE'\n\n// Document font\nexport const setDocumentFontFamily = (family) => {\n  return ({\n    type: SET_DOCUMENT_FONTFAMILY,\n    payload: family\n  })\n}\nexport const setDocumentFontSize = (size) => {\n  return ({\n    type: SET_DOCUMENT_FONTSIZE,\n    payload: size\n  })\n}\n\n// Document Math Font\nexport const setMathFontSize = (size) => {\n  return ({\n    type: SET_MATH_FONTSIZE,\n    payload: size\n  })\n}\nexport const setMathFontWeight = (weight) => {\n  return ({\n    type: SET_MATH_FONTWEIGHT,\n    payload: weight\n  })\n}\nexport const setMathFontFamily = family => {\n  return ({\n    type: SET_MATH_FONTFAMILY,\n    payload: family,\n  })\n}\n\n// Page Layout\nexport const setPageSize = size => ({\n  type: SET_PAGE_SIZE,\n  payload: size,\n})\nexport const setPageMargin = margins => ({\n  type: SET_PAGE_MARGIN,\n  payload: margins\n})\n\n// Graph Style\nexport const updateGraphStyle = (props) => {\n  return ({\n    type: UPDATE_GRAPHSTYLE,\n    payload: props,\n  })\n}\n\nexport const resetGraphStyle = () => ({\n  type: RESET_GRAPHSTYLE,\n})\n\nexport const loadStyle = style => ({\n  type: LOAD_STYLE,\n  payload: style\n})\n\nexport const resetStyle = () => ({\n  type: RESET_STYLE\n})","export const ADD_FONTFAMILY = 'ADD_FONTFAMILY'\nexport const SET_ALLOW_EDITING = 'SET_ALLOW_EDITING'\nexport const SET_FONTFAMILY_UI = 'SET_FONTFAMILY_UI'\nexport const SET_SHOW_ANSWERKEY = 'SET_SHOW_ANSWERKEY'\nexport const SET_UI_THEME = 'SET_UI_THEME'\nexport const SET_DEBUG_VIEW = 'SET_DEBUG_VIEW'\nexport const SET_FILENAME = 'SET_FILENAME'\nexport const SET_AUTO_PAGINATION = 'SET_AUTO_PAGINATION'\nexport const SET_PRESENTATION_ZOOM = 'SET_PRESENTATION_ZOOM'\n\nexport const addFontFamily = font => ({\n  type: ADD_FONTFAMILY,\n  payload: font,\n})\n\nexport const setAllowEditing = bool => ({\n  type: SET_ALLOW_EDITING,\n  payload: bool,\n})\n\nexport const setFontFamilyUI = inputType => ({\n  type: SET_FONTFAMILY_UI,\n  payload: inputType,\n})\n\nexport const setShowAnswerKey = bool => ({\n  type: SET_SHOW_ANSWERKEY,\n  payload: bool,\n})\n\nexport const setAutoPagination = bool => ({\n  type: SET_AUTO_PAGINATION,\n  payload: bool\n})\n\nexport const setUITheme = theme => {\n  if (theme === 'none') {\n    document.documentElement.removeAttribute('ui-theme')\n  } else {\n    document.documentElement.setAttribute('ui-theme', theme)\n  }\n  return ({\n    type: SET_UI_THEME,\n    payload: theme,\n  })\n}\n\nexport const setDebugView = bool => ({\n  type: SET_DEBUG_VIEW,\n  payload: bool\n})\n\nexport const setFilename = filename => ({\n  type: SET_FILENAME,\n  payload: filename\n})\n\nexport const setPresentationZoom = zoom => ({\n  type: SET_PRESENTATION_ZOOM,\n  payload: zoom\n})\n\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { setDocumentFontFamily } from 'actions/style'\nimport { addFontFamily } from 'actions/config'\nimport ReactModal from 'react-modal'\nimport styles from './styles.module.css'\n\nclass AddFontPopup extends React.Component {\n  static propTypes = {\n    isOpen: PropTypes.bool.isRequired,\n    onRequestClose: PropTypes.func,\n    setDocumentFontFamily: PropTypes.func.isRequired,\n  }\n\n  static defaultProps = {\n    isOpen: false\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {input: ''}\n  }\n\n  close = () => {\n    this.setState({input: ''})\n    this.props.onRequestClose()\n  }\n\n  onChange = evt => this.setState({input: evt.target.value})\n\n  setFontFamily(fontFamily) {\n    this.props.setDocumentFontFamily(fontFamily)\n  }\n\n  setFromPrompt = () => {\n    const family = this.state.input\n    if (family) {\n      this.props.addFontFamily(family)\n      this.setFontFamily(family)\n    }\n    this.close()\n  }\n\n  handleKeyPress = evt => {\n    if (evt.key === 'Enter') {\n      this.setFromPrompt()\n    }\n  }\n\n  render() {\n    return (\n      <ReactModal \n        className={styles.Popup}\n        isOpen={this.props.isOpen}\n        onRequestClose={this.close}\n      >\n      <div>\n        <span>\n          This should be the name of a font already installed on your computer.\n        </span>\n        <br/>\n        <input\n          type=\"text\"\n          placeholder=\"Enter Font Name\"\n          autoFocus\n          onChange={this.onChange}\n          onKeyPress={this.handleKeyPress}\n          style={{width: '30em', margin: '2mm 0'}}\n        />\n        <div className={styles.PopupButtons}>\n          <button onClick={this.setFromPrompt}>Accept</button>\n          <button onClick={this.close}>Cancel</button>\n        </div>\n      </div>\n      </ReactModal>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addFontFamily: f => dispatch(addFontFamily(f)),\n  setDocumentFontFamily: (family) => dispatch(setDocumentFontFamily(family)),\n})\n\nexport default connect(null, mapDispatchToProps)(AddFontPopup)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { addFontFamily } from 'actions/config'\n\nclass AddLocalFont extends React.Component {\n  static propTypes = {\n    addFontFamily: PropTypes.func.isRequired,\n    buttonLabel: PropTypes.string.isRequired,\n  }\n\n  static defaultProps = {\n    buttonLabel: 'Add'\n  }\n\n  constructor(props) {\n    super(props)\n    this.input = React.createRef()\n  }\n\n  addFont = () => {\n    const fontFamily = this.input.current.value\n    this.props.addFontFamily(fontFamily)\n  }\n\n  render() {\n    return (\n      <>\n      <input ref={this.input} spellCheck={false} />\n      <button onClick={this.addFont}>{this.props.buttonLabel}</button>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addFontFamily: f => dispatch(addFontFamily(f)),\n})\n\nexport default connect(null, mapDispatchToProps)(AddLocalFont)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setFontFamilyUI } from 'actions/config'\n\nclass FontFamilyUI extends React.Component {\n  static propTypes = {\n    current: PropTypes.string,\n    setFontFamilyUI: PropTypes.func.isRequired\n  }\n\n  setFontFamilyUI = (evt) => {\n    this.props.setFontFamilyUI(evt.target.value)\n  }\n\n  render() {\n    return (\n      <select onChange={this.setFontFamilyUI} value={this.props.current}>\n        <option value='input'>Input</option>\n        <option value='select'>Menu</option>\n      </select>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.config.fontFamilyUI\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setFontFamilyUI: (inputtype) => dispatch(setFontFamilyUI(inputtype)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontFamilyUI)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setDocumentFontFamily } from 'actions/style'\n\n\nclass FontFamilyInput extends React.Component {\n  static propTypes = {\n    current: PropTypes.string,\n    setDocumentFontFamily: PropTypes.func,\n  }\n\n  onChange = evt => {\n    const fontFamily = evt.target.value\n    this.props.setDocumentFontFamily(fontFamily)\n  }\n\n  render() {\n    return (\n      <input type=\"text\"\n        value={this.props.current}\n        spellCheck={false}\n        onChange={this.onChange}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.style.fontFamily,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setDocumentFontFamily: (family) => dispatch(setDocumentFontFamily(family)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontFamilyInput)","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { includes, indexOf } from 'constants/lodash'\nimport { setDocumentFontFamily } from 'actions/style'\nimport { openModal } from 'actions/uistate'\n\nconst DefaultFonts = [\n  /*\n  'Alegreya',\n  'Alegreya Sans',\n  'Arima Madurai',\n  'BioRhyme',\n  'EB Garamond',\n  'Fira Sans',\n  //'Gentium Basic',\n  //'Handlee',\n  'IBM Plex Sans',\n  'IBM Plex Serif',\n  //'Inconsolata',\n  //'Jura',\n  'Lora',\n  //'Merriweather',\n  //'Noticia Text',\n  //'Noto Sans',\n  'Noto Serif',\n  'Old Standard TT',\n  'Raleway',\n  'Roboto',\n  'Roboto Slab',\n  'Signika',\n  'Source Serif Pro',\n  'Ubuntu',*/\n  'sans-serif', \n  'serif'\n]\n\nconst SortToEnd = [\n  'sans-serif',\n  'serif',\n  '__CUSTOM__',\n]\n\nconst fontLabels = {\n  '__CUSTOM__': 'other',\n  'cmu_bright': 'CMU Bright',\n  'cmu_concrete': 'CMU Concrete',\n  'cmu_sansserif': 'CMU Sans',\n  'cmu_serif': 'CMU Serif',\n  'katex_sansserif': 'KaTeX Sans',\n  'katex_main': 'KaTeX Serif',\n  'sans-serif': 'sans-serif (browser)',\n  'serif': 'serif (browser)'\n}\n\nfunction fontSortByName(a, b) {\n  const aName = (fontLabels[a] || a).toUpperCase()\n  const bName = (fontLabels[b] || b).toUpperCase()\n  if (aName < bName) { return -1 }\n  if (aName > bName) { return 1}\n  return 0\n}\n\nfunction fontSort(a, b) {\n  if (includes(SortToEnd, a)) {\n    if (includes(SortToEnd, b)) {\n      return indexOf(SortToEnd, a) - indexOf(SortToEnd, b)\n    }\n    return 1\n  }\n  if (includes(SortToEnd, b)) {\n    return -1\n  }\n  return fontSortByName(a, b)\n}\n\nfunction renderFontOption(family) {\n  if (family) {\n    const label = fontLabels[family] || family\n    return (\n      <option key={`font-${family}`}\n        value={family}\n        title={family === '__CUSTOM__' ? 'Choose a font not on this list' : ''}\n        >{label}</option>\n    )\n  }\n  return <option key={0} value=\"0\" disabled={true}>---</option>\n}\n\n\n//////////////////////////////\n//\n// COMPONENT\n//\n////////////////////////////\n\n\nclass FontFamilySelect extends React.Component {\n  static propTypes = {\n    current: PropTypes.string,\n    fontFamilies: PropTypes.arrayOf(PropTypes.string).isRequired,\n    setDocumentFontFamily: PropTypes.func.isRequired,\n  }\n\n  static defaultProps = {\n    fontFamilies: DefaultFonts,\n  }\n\n  fontList = () => [\n    ...this.props.fontFamilies,\n    '__CUSTOM__'\n  ].sort(fontSort)\n\n  setFontFamily(fontFamily) {\n    this.props.setDocumentFontFamily(fontFamily)\n  }\n\n  onChange = (evt) => {\n    const value = evt.target.value\n    if (value === '__CUSTOM__') {\n      this.props.openPopup()\n    } else {\n      this.setFontFamily(value)\n    }\n  }\n\n  render() {\n    return (\n      <select\n        value={this.props.current}\n        onChange={this.onChange}\n        placeholder=\"Select Font\"\n      >\n        {this.fontList().map((f) => renderFontOption(f))}\n      </select>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.style.fontFamily,\n  fontFamilies: [...state.config.fontFamilies],\n})\n\nconst mapDispatchToProps = dispatch => ({\n  openPopup: () => dispatch(openModal('addFont')),\n  setDocumentFontFamily: (family) => dispatch(setDocumentFontFamily(family)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontFamilySelect)","import React from 'react'\nimport { connect } from 'react-redux'\nimport FontFamilyInput from './FontFamilyInput'\nimport FontFamilySelect from './FontFamilySelect'\n\nconst FontFamily = ({fontFamilyUI}) => (\n  fontFamilyUI === 'input' ? <FontFamilyInput/> : <FontFamilySelect/>\n)\n\nconst mapStateToProps = state => ({fontFamilyUI: state.config.fontFamilyUI})\n\nexport default connect(mapStateToProps)(FontFamily)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setDocumentFontSize } from 'actions/style'\n\n\nclass FontSizeSelect extends React.Component {\n\n  static propTypes = {\n    current: PropTypes.string.isRequired,\n    setDocumentFontSize: PropTypes.func.isRequired,\n  }\n\n  setDocFontSize(size) {\n    this.props.setDocumentFontSize(size)\n  }\n\n  onChange = (evt) => {\n    this.setDocFontSize(evt.target.value)\n  }  \n\n  renderSizeOptions() {\n    const options = [6, 7, 8, 9, 10, 11, 12]\n    return (\n      <>\n      {options.map((s) => {\n        const size = `${s}pt`\n        return (\n          <option \n            value={size}\n            key={s}\n          >{size}</option>\n        )\n      })}\n      </>\n    )\n  }\n\n  render() {\n    return (\n      <>\n        <select \n          value={this.props.current}\n          onChange={this.onChange}\n        >\n          {this.renderSizeOptions()}\n        </select>\n      </>\n    )\n  }\n}\n\n\nconst mapStateToProps = state => ({\n  current: state.style.fontSize,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setDocumentFontSize: (size) => dispatch(setDocumentFontSize(size)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontSizeSelect)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport WebFont from 'webfontloader'\nimport { connect } from 'react-redux'\nimport { addFontFamily } from 'actions/config'\nimport { setDocumentFontFamily } from 'actions/style'\nimport { includes } from 'constants/lodash'\n\n\nconst googleFonts = [\n  'ABeeZee',\n  //'Alegreya',\n  //'Alegreya Sans',\n  'Arima Madurai',\n  //'BioRhyme',\n  //'Cormorant',\n  'EB Garamond',\n  'Fira Sans',\n  'Gentium Basic',\n  //'Handlee',\n  'IBM Plex Sans',\n  'IBM Plex Serif',\n  //'Inconsolata',\n  //'Jura',\n  //'Lora',\n  //'Merriweather',\n  //'Neuton',\n  //'Noticia Text',\n  //'Noto Sans',\n  //'Noto Serif',\n  'Old Standard TT',\n  //'Raleway',\n  'Roboto',\n  'Roboto Slab',\n  'Signika',\n  'Source Sans Pro',\n  'Source Serif Pro',\n  'Ubuntu',\n  //'Zilla Slab',\n].sort()\n\nconst fontStyles = {\n  default: '400,400i,700,700i',\n  //'Jura': '500,700',\n  //'Signika': '300,700',\n  //'Ubuntu': '300,300i,700,700i',\n  'BioRhyme': '300,700',\n  'Merriweather': '300,300i,700,700i',\n}\n\nclass FontLoader extends React.Component {\n  static propTypes = {\n    addFontFamily: PropTypes.func.isRequired,\n    type: PropTypes.string.isRequired,\n  }\n\n  static defaultProps = {\n    type: 'button'\n  }\n\n  constructor(props) {\n    super(props)\n    const toAdd = googleFonts.filter(f => !includes(this.props.currentFontFamilies, f))\n    \n    this.state = {\n      input: '',\n      selection: toAdd[0],\n      toAdd,\n    }\n  }\n\n  updateInput = evt => {\n    this.setState({input: evt.target.value})\n  }\n\n  updateSelection = evt => {\n    this.setState({selection: evt.target.value})\n  }\n\n  setFont(family) {\n    this.props.setDocumentFontFamily(family)\n  }\n\n  addFont(family) {\n    //this.props.setDocumentFontFamily(family)\n    this.props.addFontFamily(family)\n    const toAdd = this.state.toAdd.filter(f => f !== family)\n    this.setState({toAdd, selection: toAdd[0]})\n  }\n\n  addAndSetFont(family) {\n    this.addFont(family)\n    this.setFont(family)\n  }\n\n  loadFont = (family) => {\n    const request = `${family}:${fontStyles[family] || fontStyles.default}`\n    WebFont.load({\n      google: {\n        families: [request]\n      },\n      fontactive: () => this.addAndSetFont(family),\n      fontinactive: () => console.error(`Could not load font ${family}`),\n    })\n  }\n\n  loadAll = () => {\n    if (this.state.toAdd.length === 1) {\n      return null\n    }\n    WebFont.load({\n      google: {\n        families: this.state.toAdd.map(f => `${f}:${fontStyles[f] || fontStyles.default}`)\n      },\n      fontactive: (family) => this.addFont(family),\n      fontinactive: (family) => console.error(`Could not load font ${family}`),\n    })\n  }\n\n  loadInputFont = () => {\n    const family = this.state.input\n    if (family) {\n      this.loadFont(family)\n    }\n  }\n\n  loadSelectedFont = () => {\n    const family = this.state.selection\n    if (family) {\n      if (family === '__LOAD_ALL_WEB_FONTS__') {\n        this.loadAll()\n      } else {\n        this.loadFont(family)\n      }\n    }\n  }\n\n  renderButton() {\n    return (\n      <button onClick={this.loadAll}\n      >{this.props.children}</button>\n    )\n  }\n\n  renderInput() {\n    return (\n      <>\n      <input type=\"text\" \n        onChange={this.updateInput} \n        value={this.state.input}\n        placeholder=\"Enter Font Name\"\n        \n      ></input>\n      <button onClick={this.loadInputFont}\n        title=\"Load from Google Fonts\"\n      >{this.props.children}</button>\n      </>\n    )\n  }\n\n  renderSelect() {\n    return (\n      <>\n      <select \n        value={this.state.selection}\n        onChange={this.updateSelection}\n      >\n        {this.state.toAdd.map(f => <option key={`ff-${f}`} value={f}>{f}</option>)}\n        <option value=\"__LOAD_ALL_WEB_FONTS__\">Load All Web Fonts</option>\n      </select>\n      <button onClick={this.loadSelectedFont}>Load</button>\n      </>\n    )\n  }\n\n  render() {\n    if (this.props.type === 'button') {\n      return this.renderButton()\n    }\n    if (this.props.type === 'input') {\n      return this.renderInput()\n    }\n    if (this.props.type === 'select') {\n      return this.renderSelect()\n    }\n  }\n}\n\nconst mapStateToProps = state => ({\n  currentFontFamilies: state.config.fontFamilies,\n})\nconst mapDispatchToProps = dispatch => ({\n  addFontFamily: f => dispatch(addFontFamily(f)),\n  setDocumentFontFamily: f => dispatch(setDocumentFontFamily(f)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontLoader)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setMathFontSize, setMathFontWeight, setMathFontFamily } from 'actions/style'\n\nclass MathFontSettings extends React.Component {\n  static propTypes = {\n    currentSize: PropTypes.string,\n    currentWeight: PropTypes.string,\n    currentFamily: PropTypes.string,\n    setMathFontSize: PropTypes.func.isRequired,\n    setMathFontWeight: PropTypes.func.isRequired,\n    setMathFontFamily: PropTypes.func.isRequired,\n  }\n\n  setSize(size) {\n    this.props.setMathFontSize(size)\n  }\n\n  setWeight(weight) {\n    this.props.setMathFontWeight(weight)\n  }\n  setFamily(family) {\n    this.props.setMathFontFamily(family)\n  }\n\n  onChangeSize = evt => {\n    this.setSize(evt.target.value + 'em')\n  }\n\n  onChangeWeight = evt => {\n    if (evt.target.checked) {\n      this.setWeight('bold')\n    } else {\n      this.setWeight('normal')\n    }\n  }\n\n  onChangeFamily = evt => {\n    this.setFamily(evt.target.value)\n  }\n\n  render() {\n    return (\n      <>\n        <span>Font: </span>\n        <select\n          onChange={this.onChangeFamily}\n          value={this.props.currentFamily}\n        >\n          <option value=\"__DEFAULT__\">Default (KaTeX)</option>\n          <option value=\"__MATCH__\">Match Document Font</option>\n        </select>\n        <br/>\n        <span>Relative Size:</span>\n        <input\n          type=\"number\"\n          onChange={this.onChangeSize}\n          value={this.props.currentSize.slice(0,-2)}\n          min=\"0.7\"\n          max=\"2.0\"\n          step=\"0.1\"/>\n        <br/>\n        <label htmlFor=\"math-font-bold\">Bold:</label>\n        <input id=\"math-font-bold\"\n          ref={this.bold} \n          onChange={this.onChangeWeight}\n          type=\"checkbox\"\n          checked={this.props.currentWeight === 'bold'}\n        />\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  currentSize: state.style.mathFontSize,\n  currentWeight: state.style.mathFontWeight,\n  currentFamily: state.style.mathFontFamily,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setMathFontFamily: (family) => dispatch(setMathFontFamily(family)),\n  setMathFontSize: (size) => dispatch(setMathFontSize(size)),\n  setMathFontWeight: (weight) => dispatch(setMathFontWeight(weight)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MathFontSettings)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { RenderComponent } from 'rendering'\n\n\nconst tabsize = 2;\n\nfunction onKeyDown(evt) {\n  if (evt.keyCode === 9) { // handle tab\n    let target = evt.target;\n    const start = target.selectionStart;\n    const end = target.selectionEnd;\n    const value = target.value;\n    target.value = value.substring(0,start) + Array(tabsize).fill(' ').join('') + value.substring(end);\n    target.selectionStart = start + tabsize;\n    target.selectionEnd = end + tabsize;\n    evt.preventDefault();\n  } else if (evt.keyCode === 8) { // handle backspace\n    let target = evt.target;\n    const start = target.selectionStart;\n    if (start === target.selectionEnd) {\n      const value = target.value;\n      if (value.substring(start-tabsize, start) === Array(tabsize).fill(' ').join('')) {\n        target.value = value.substring(0,start-tabsize) + value.substring(start);\n        target.selectionStart = start - tabsize;\n        target.selectionEnd = start - tabsize;\n        evt.preventDefault();\n      }\n    }\n  }\n}\n\nclass TextPreview extends React.Component {\n  static propTypes = {\n    defaultValue: PropTypes.string,\n    renderType: PropTypes.string.isRequired\n  }\n\n  static defaultProps = {\n    renderType: 'text',\n    wrapperElement: 'div',\n  }\n\n  constructor(props) {\n    super(props)\n    const style = this.props.style || {}\n    this.inputStyle = style.input || {}\n    this.outputStyle = style.output || {}\n    this.input = React.createRef()\n    this.state = { text: props.defaultValue || '' }\n  }\n\n  updatePreview = (evt) => {\n    this.setState({ text: evt.target.value })\n  }\n\n  renderPreview() {\n    if (this.props.renderType === 'text') {\n      return this.state.text.split('\\n\\n').map((t,i) => (\n        <RenderComponent key={i} data={['Text', t]} />\n      ))\n    } else if (this.props.renderType === 'json') {\n      try {\n        const data = JSON.parse(this.state.text)\n        return <RenderComponent data={data} />\n      } catch(e) {\n        return \"Failed to render\"\n      }\n    }\n  }\n\n  render() {\n    return (\n      <>\n      <this.props.wrapperElement className='text-preview-input' >\n        <textarea \n          style={this.inputStyle}\n          onChange={this.updatePreview}\n          onKeyDown={onKeyDown}\n          value={this.state.text}\n        />\n      </this.props.wrapperElement>\n      <this.props.wrapperElement className='text-preview-output' >\n        <div className='document' style={this.outputStyle}>\n          {this.renderPreview()}\n        </div>\n      </this.props.wrapperElement>\n      </>\n    )\n  }\n}\n\nexport default TextPreview","import AddLocalFont from './AddLocalFont'\nimport FontFamilyUI from './FontFamilyUI'\nimport FontFamily from './FontFamily'\nimport FontSize from './FontSize'\nimport FontSettings from './FontSettings'\nimport TextPreview from './TextPreview'\n\nexport {\n  FontFamily,\n  FontSize,\n  AddLocalFont,\n  FontFamilyUI,\n  FontSettings,\n  TextPreview\n}\n\nexport default FontSettings","import React from 'react'\nimport FontFamily from './FontFamily'\nimport FontLoader from './FontLoader'\nimport MathFontSettings from './MathFontSettings'\nimport FontFamilyUI from './FontFamilyUI'\nimport TextPreview from './TextPreview'\n\nconst previewtext = `To solve an equation of the form $$ax^2 + bx + c = 0$$, use the *quadratic formula*:\n\n$$$x = \\\\frac{-b \\\\pm \\\\sqrt{b^2 - 4ac}}{2a}$$$\n\nThe angles of $$\\\\triangle{ABC}$$ add to $$180\\\\degree$$.\n\nThe **volume** of a sphere is $$\\\\frac{4}{3}\\\\pi r^3$$.\n\n***Remember*** that $$e^{i\\\\theta} = \\\\cos\\\\theta + i\\\\sin\\\\theta$$.\n\nIt can be difficult to distinguish between J I l 1.`\n\n\nconst FontSettings = () => {\n  return (\n    <>\n      <h4>Document Font</h4>\n      <div>\n        Font Selection Method: <FontFamilyUI />\n      </div>\n      <div>\n        Font: <FontFamily/> \n      </div>\n      <h4>Web Fonts</h4>\n      <div>\n        <FontLoader type=\"input\">Load</FontLoader>\n        <br/>\n        <FontLoader type=\"button\">Load Suggested Fonts</FontLoader>\n      </div>\n      <h4>Math Font</h4>\n      <div style={{justifyItems: 'right'}}>\n        <MathFontSettings />\n      </div>\n      <h4>Preview</h4>\n      <div style={{display: 'flex', flexDirection: 'row', '--doc-font-size': '11pt'}}>\n        <TextPreview wrapperElement='div' defaultValue={previewtext} style={{input: {height: '110%'}, output: {height: '110%'}}}/>      \n      </div>\n    </>\n  )\n}\n\nexport default FontSettings","import React from 'react'\nimport { TextPreview } from '../Settings/Font'\nimport styles from './styles.module.css'\n\nconst latexfmt = (...a) => String.raw(...a).replace('\\\\`', '`');\n\nconst examples = [\n  'Text can be _italic_, __bold__, or ___both___.',\n  'Or, *asterisks* will **accomplish** the ***same thing***.',\n  latexfmt`f: x --> x^3^ - 3x^2^ + 9x - 8 doesn't look as nice as $$f: x \\mapsto x^3 - 3x^2 + 9x - 8$$`,\n  latexfmt`**Markdown:** a~n~ = a~n-1~ + 2n - 1 , **LaTeX:** $$a_n = a_{n-1} + 2n - 1$$`,\n  latexfmt`There are two ways to write a fraction: $$\\frac{24}{18} = {4 \\over 3}$$`,\n  latexfmt`$$V = \\frac{4}{3}\\pi r^3$$`,\n  latexfmt`Use the quadratic formula to solve for $$x$$: $$$x = { -b \\pm \\sqrt{b^2 - 4ac} \\over 2a }$$$`,\n  latexfmt`$$m\\angle{ABC} = 45\\degree$$`,\n  latexfmt`$$\\overline{AB}$$ is a line segment. $$\\overleftrightarrow{CD}$$ is a line. $$\\overrightarrow{EF}$$ is a ray.`,\n  latexfmt`Prove that $$\\triangle{ABC} \\cong \\triangle{DEF}$$.`,\n  latexfmt`Given $$\\vec{u} = \\langle 3,5 \\rangle$$ and $$\\vec{v} = \\langle -4, 9 \\rangle$$, calculate $$\\vec{u} \\cdot \\vec{v}$$.`,\n  latexfmt`Remember that $$re^{i\\theta} = r(\\cos\\theta + i\\sin\\theta)$$`,\n  latexfmt`$$$\\int_a^b f'(x)dx = f(b) - f(a)$$$`,\n  latexfmt`$$$\\sum_{n=0}^{\\infty}\\frac{f^{(n)}(a)}{n!}(x-a)^n$$$`,\n  latexfmt`$$\\lnot (p \\land q) \\iff (\\lnot p \\lor \\lnot q)$$`,\n\n  latexfmt`$$$\na_{n+1} = \\left\\{\\begin{array}{r l}\n  3a_n + 1 & \\text{if $a_n$ is odd} \\\\\n  a_n \\div 2 & \\text{if $a_n$ is even} \\\\\n\\end{array}\\right.\n$$$`,\n\n  latexfmt`$$$\n\\left[\\begin{array}{r r r}\n   1 &   4 &  -9 \\\\\n  16 & -25 &  66 \\\\\n  49 &  64 & -81 \\\\\n\\end{array}\\right]\n$$$`,\n\n  latexfmt`$$\\forall\\ \\epsilon > 0, x \\in \\mathbb{R},\\ \\exists\\ \\delta > 0 \\text{ such that } 0 < |x-c| < \\delta \\implies |f(x) - L| < \\epsilon$$`,\n\n]\n\n/*\nconst RenderExample = ({text}) => {\n  return (\n    <>\n    <pre style={{\n      backgroundColor: 'rgba(255,255,200,0.5)',\n      border: '1px solid black',\n      padding: '0.5rem',\n      overflowX: 'scroll',\n    }}>{text}</pre>\n    <span className='document' \n      style={{\n      paddingLeft: '0.5rem',\n      fontSize: '1em',\n    }}>\n      <RenderElement content={{type: 'text', data: text}}/>\n    </span>\n    </>\n  )\n}\n*/\n\nconst RenderExample = ({text}) => (\n  <tr>\n    <TextPreview wrapperElement='td' defaultValue={text} />\n  </tr>\n)\n\nconst LatexExamples = (props) => {\n  return (\n    <div style={{padding: '3mm 0 3mm 0'}}>\n    <div>\n      <span>Examples:</span>\n      <button onClick={props.onRequestClose}>Close</button>\n    </div>\n    <table className={styles.LatexExamples}>\n      <tbody>\n      {examples.map((s, i) => (\n          <RenderExample key={`render-example-${i}`} text={s} />\n      ))}\n      </tbody>\n    </table>\n    <div>\n      <button onClick={props.onRequestClose}>Close</button>\n    </div>\n    </div>\n  )\n}\n\nexport default LatexExamples","import React from 'react'\nimport { RenderComponent } from 'rendering'\nimport styles from './styles.module.css'\nimport math from 'mathjs'\n\n\nconst round = function(v, n) {\n  const d = Math.pow(10,n)\n  return Math.floor(d*v) / d\n}\n\nfunction calcParametric(x, y, domain, step) {\n  const f = (t) => ({x: round(x(t), 6), y: round(y(t), 6)})\n  let paths = []\n  let points = []\n  let t = domain[0]\n  while (t < domain[1]) {\n    try {\n      const pt = f(t)\n      if (points.length > 0 && Math.abs(pt.y - points[points.length-1].y) > 100) {\n        paths.push(points)\n        points = [pt]\n      } else {\n        points.push(pt)\n      }\n    } catch(e) {\n      if (points.length > 0) {\n        paths.push(points)\n        points = []\n      }\n    }\n    t += step\n  }\n  try {\n    points.push(f(domain[1]))\n  } catch(e) {}\n  if (points.length > 0) paths.push(points)\n  return paths\n}\n\nfunction parseFunction(str) {\n  try {\n    const nodes = math.parse(str)\n    const func = nodes.compile()\n    return scope => func.eval(scope)\n  } catch(e) {\n    console.error(e)\n  }\n}\n\n\n\nclass GraphMaker extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      mode: 'standard',\n      standard: 'x',\n      inverse: 'y',\n      parametricX: 't',\n      parametricY: 't',\n      x0: -10,\n      x1: 10,\n      y0: -10,\n      y1: 10,\n      t0: -10,\n      t1: 10,\n      step: 0.1,\n      height: 1.5,\n      autoDomain: 'auto',\n      autoSize: 'auto',\n    }\n  }\n\n  updateMode = evt => this.setState({mode: evt.target.value})\n  updateStandard = evt => this.setState({standard: evt.target.value})\n  updateInverse = evt => this.setState({inverse: evt.target.value})\n  updateParametricX = evt => this.setState({parametricX: evt.target.value})\n  updateParametricY = evt => this.setState({parametricY: evt.target.value})\n  updateX0 = evt => this.setState({x0: evt.target.value})\n  updateX1 = evt => this.setState({x1: evt.target.value})\n  updateY0 = evt => this.setState({y0: evt.target.value})\n  updateY1 = evt => this.setState({y1: evt.target.value})\n  updateT0 = evt => this.setState({t0: evt.target.value})\n  updateT1 = evt => this.setState({t1: evt.target.value})\n  updateStep = evt => this.setState({step: evt.target.value})\n  updateHeight = evt => this.setState({height: evt.target.value})\n  updateAutoDomain = evt => this.setState({autoDomain: evt.target.value})\n  updateAutoSize = evt => this.setState({autoSize: evt.target.value})\n\n  renderMode() {\n    return (\n      <select value={this.state.mode}\n        onChange={this.updateMode}\n      >\n        <option value='standard' title=\"y is a function of x\">Standard</option>\n        <option value='inverse' title=\"x is a function of y\">Inverse</option>\n        <option value='parametric' title=\"x and y are functions of t\">Parametric</option>\n      </select>\n    )\n  }\n\n  renderGridInputs() {\n    return (\n      <>\n      <table>\n        <tbody>\n          <tr>\n            <th /><th>Min</th><th>Max</th>\n          </tr>\n          <tr>\n            <td>x</td>\n            <td><input type=\"number\" value={this.state.x0} onChange={this.updateX0} /></td>\n            <td><input type=\"number\" value={this.state.x1} onChange={this.updateX1} /></td>\n          </tr>\n          <tr>\n            <td>y</td>\n            <td><input type=\"number\" value={this.state.y0} onChange={this.updateY0} /></td>\n            <td><input type=\"number\" value={this.state.y1} onChange={this.updateY1} /></td>\n          </tr>\n        </tbody>\n      </table>\n      </>\n    )\n  }\n\n  renderInputs() {\n    if (this.state.mode === 'standard') {\n      return (\n        <table>\n          <tbody>\n            <tr>\n              <td>y=</td>\n              <td><textarea value={this.state.standard} onChange={this.updateStandard}/></td> \n            </tr>\n          </tbody>\n        </table>\n      )\n    }\n    if (this.state.mode === 'inverse') {\n      return (\n        <table>\n          <tbody>\n            <tr>\n              <td>x=</td>\n              <td><textarea value={this.state.inverse} onChange={this.updateInverse}/></td> \n            </tr>\n          </tbody>\n        </table>\n      )\n    }\n    if (this.state.mode === 'parametric') {\n      return (\n        <table>\n          <tbody>\n            <tr>\n              <td>x=</td>\n              <td><textarea value={this.state.parametricX} onChange={this.updateParametricX}/></td>\n            </tr>\n            <tr>\n              <td>y=</td>\n              <td><textarea value={this.state.parametricY} onChange={this.updateParametricY}/></td>\n            </tr>\n          </tbody>\n        </table>\n      )\n    }\n  }\n\n\n  renderDomainInput() {\n    return (\n      <>\n      Step:\n      <input type=\"number\" \n        step={0.01}\n        value={this.state.step} \n        onChange={this.updateStep}\n        min={0}\n      /><br/>\n        Domain: \n        {this.state.mode !== 'parametric' ? (\n          <select value={this.state.autoDomain} onChange={this.updateAutoDomain}>\n            <option value='auto'>Auto</option>\n            <option value='custom'>Custom</option>\n          </select>\n        ) : <br/>}\n        {(this.state.autoDomain === 'custom' || this.state.mode === 'parametric') ? (\n          <div>\n          <input type=\"number\" value={this.state.t0} onChange={this.updateT0} />\n          to \n          <input type=\"number\" value={this.state.t1} onChange={this.updateT1} />\n          </div>\n        ) : null }        \n      </>\n    )\n  }\n\n  renderHeightInput() {\n    return (\n      <>\n      Height:\n      <select value={this.state.autoSize} onChange={this.updateAutoSize}>\n        <option value='auto'>Default</option>\n        <option value='custom'>Custom</option>\n      </select>\n      {this.state.autoSize === 'custom' ? (\n        <>\n          <br/>\n          Inches:\n          <input type=\"number\"\n            step={0.1}\n            value={this.state.height}\n            onChange={this.updateHeight}\n            min={0}\n          />\n        </>\n      ) : null}\n      </>\n    )\n  }\n\n  graphSize() {\n    return {\n      span: [\n        +this.state.x0, \n        +this.state.y0, \n        +this.state.x1, \n        +this.state.y1\n      ],\n    }\n  }\n\n  getDomain() {\n    if (this.state.mode === 'parametric' || this.state.autoDomain === 'custom') {\n      return [+this.state.t0, +this.state.t1]\n    }\n    if (this.state.mode === 'standard') {\n      return [+this.state.x0, +this.state.x1]\n    }\n    if (this.state.mode === 'inverse') {\n      return [+this.state.y0, +this.state.y1]\n    }\n  }\n\n  getFunction() {\n    const step = this.state.step > 0 ? +this.state.step : 0.002\n    const domain = this.getDomain()\n    switch(this.state.mode) {\n      case 'standard':\n        const ymap = parseFunction(this.state.standard)\n        if (ymap) {\n          const paths = calcParametric(t=>t, x=>ymap({x}), domain, step)\n          return paths.map(p => ['Path', {points: p}])\n        }\n        return null\n\n      case 'inverse':\n        const xmap = parseFunction(this.state.inverse)\n        if (xmap) {\n          const paths = calcParametric(y=>xmap({y}), t=>t, domain, step)\n          return paths.map(p => ['Path', {points: p}])\n        }\n        return null\n      case 'parametric':\n        const xpmap = parseFunction(this.state.parametricX)\n        const ypmap = parseFunction(this.state.parametricY)\n        if (xpmap && ypmap) {\n          const paths = calcParametric(t=>xpmap({t}), t=>ypmap({t}), domain, step)\n          return paths.map(p => ['Path', {points: p}])\n        }\n        return null\n      default:\n        return null\n    }\n  }\n\n  getData() {\n    let props = {\n      ...this.graphSize(), \n      autogrid: true,\n    }\n    if (this.state.autoSize === 'custom') {\n      props.height = this.state.height + 'in'\n    } else {\n      props.height = '2in'\n    }\n    const paths = this.getFunction()\n    if (paths) {\n      return ['CoordinatePlane', props, ...paths]\n    }\n    return ['CoordinatePlane', props]\n  }\n\n  onSubmit = () => {\n    this.props.onSubmit(this.getData())\n    this.props.onRequestClose()\n  }\n\n  render() {\n    return (\n      <div className={styles.GraphMaker}>\n        <div className={styles.GraphMakerHeading}>\n          <button onClick={this.onSubmit}>Apply</button>\n          <button onClick={this.props.onRequestClose}>Cancel</button>\n        </div>\n        <div className={styles.GraphMakerBody}>\n          <div className={styles.GraphMakerInput}>\n            <div style={{margin: '3mm'}}>\n              Graphing Mode {this.renderMode()}\n              {this.renderInputs()}\n            </div>\n            <div style={{margin: '3mm'}}>\n            {this.renderDomainInput()}\n            </div>\n            <div style={{margin: '3mm'}}>\n              {this.renderGridInputs()}\n            </div>\n            <div>\n              {this.renderHeightInput()}\n            </div>\n          </div>\n          <div className={styles.GraphMakerPreview}>\n            <div className='document preview-area'>\n              <RenderComponent data={this.getData()} />\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport default GraphMaker","import React from 'react'\nimport { connect } from 'react-redux'\nimport { RenderComponent } from 'rendering'\nimport { addToDocument } from 'actions/document'\nimport LatexExamples from './LatexExamples'\nimport GraphMaker from './GraphMaker'\nimport ReactModal from 'react-modal'\nimport styles from './styles.module.css'\n\nconst tabsize = 2;\n\nfunction onKeyDown(evt) {\n  if (evt.keyCode === 9) { // handle tab\n    let target = evt.target;\n    const start = target.selectionStart;\n    const end = target.selectionEnd;\n    const value = target.value;\n    target.value = value.substring(0,start) + Array(tabsize).fill(' ').join('') + value.substring(end);\n    target.selectionStart = start + tabsize;\n    target.selectionEnd = end + tabsize;\n    evt.preventDefault();\n  } else if (evt.keyCode === 8) { // handle backspace\n    let target = evt.target;\n    const start = target.selectionStart;\n    if (start === target.selectionEnd) {\n      const value = target.value;\n      if (value.substring(start-tabsize, start) === Array(tabsize).fill(' ').join('')) {\n        target.value = value.substring(0,start-tabsize) + value.substring(start);\n        target.selectionStart = start - tabsize;\n        target.selectionEnd = start - tabsize;\n        evt.preventDefault();\n      }\n    }\n  }\n}\n\n/*\nconst jsonExample = `{\n  \"instructions\": \"Use the Pythagorean Theorem: $$a^2 + b^2 = c^2$$\",\n  \"question\": \"Which is closest to the length of $$\\\\\\\\overline{XY}$$?\",\n  \"answer\": {\n    \"choices\": [6, 8, 10, 12, 14],\n    \"correct\": 10\n  },\n  \"diagram\": [\n    \"CoordinatePlane\", \n    {\n      \"span\": \"-5,-5 5,5\", \n      \"axis\": false, \n      \"height\": \"1.5in\",\n      \"style\": \"green dashed\"\n    },\n    [\"Path\", {\"points\": \"-4,3 4,-3\", \"markers\": \".-.\"}],\n    [\"Overlay\", {\"x\": -4, \"y\": 3, \"anchor\": \"S\"}, \"$$X$$\"],\n    [\"Overlay\", {\"x\": 4, \"y\": -3, \"anchor\": \"N\"}, \"$$Y$$\"]\n  ]\n}`\n*/\n\nconst jsonExample = `{\n  \"instructions\": \"Use the Pythagorean Theorem: $$a^2 + b^2 = c^2$$\",\n  \"question\": \"Which is closest to the length of $$\\\\\\\\overline{XY}$$?\",\n  \"answer\": {\n    \"choices\": [6, 8, 10, 12, 14],\n    \"correct\": 10\n  },\n  \"diagram\": [\n    \"VegaPlot\", \n    {\n      \"domain\": [-5,5], \n      \"range\": [-5,5], \n      \"height\": 200,\n      \"width\": 200,\n      \"paths\": [\n        {\n          \"style\": [\"green\", \"dashed\"],\n          \"values\": [\n            {\"x\": -4, \"y\": 3}, \n            {\"x\": 4, \"y\": -3}\n          ]\n        }\n      ]\n    }\n  ]\n}`\n\n\nclass CustomQuestion extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      inputType: 'manual',\n      instructions: '',\n      question: '',\n      answer: '',\n      diagram: '',\n      json: '',\n      modal: 'none',\n    }\n    //this.inputType = React.createRef()\n    //this.instructions = React.createRef()\n    //this.question = React.createRef()\n    //this.answer = React.createRef()\n    //this.json = React.createRef()\n  }\n\n  openExamples = () => this.setState({ modal: 'examples' })\n  openGraphMaker = () => this.setState({modal: 'graph'})\n  closeModal = () => this.setState({ modal: 'none' })\n\n  updateInstructions = (evt) => {\n    this.setState({ instructions: evt.target.value })\n  }\n  updateQuestion = (evt) => {\n    this.setState({ question: evt.target.value })\n  }\n  updateDiagram = (diagram) => {\n    this.setState({diagram})\n  }\n  updateAnswer = (evt) => {\n    this.setState({ answer: {...this.state.answer, correct: evt.target.value }})\n  }\n  updateJSON = (evt) => {\n    this.setState({ json: evt.target.value })\n  }\n\n  updateInputType = (evt) => {\n    this.setState({inputType: evt.target.value})\n  }\n\n  getDataFromState() {\n    if (this.state.inputType === 'manual') {\n      const content = {}\n      for (const k of ['instructions', 'question', 'answer']) {\n        if (this.state[k]) {\n          content[k] = this.state[k]\n        }\n      }\n      if (this.state.diagram) {\n        content.diagram = this.state.diagram\n      }\n      return content\n    } else if (this.state.inputType === 'json') {\n      try {\n        const content = JSON.parse(this.state.json)\n        return content\n      } catch(e) {\n      }\n    }\n  }\n\n  addQuestion = () => {\n    const props = {content: this.getDataFromState()}\n    this.props.addToDocument(['NumberedQuestion', props])\n    this.props.onRequestClose()\n  }\n\n  renderInputs() {\n    if (this.state.inputType === 'manual') {\n      const inputStyle = {width:'30rem'}\n      return (\n        <div >\n          <p>\n            Tip: Text surrounded with $$ ... $$ will be treated as a math formula.\n          </p>\n          <button onClick={this.openExamples}>See Examples</button>\n          <p>Instructions:</p>\n          <textarea \n            value={this.state.instructions}\n            onChange={this.updateInstructions}\n            style={inputStyle}\n            ></textarea>\n\n          <p>Question:</p>\n          <textarea \n            value={this.state.question}\n            onChange={this.updateQuestion}\n            style={inputStyle}\n          ></textarea>\n\n          <p>Diagram:</p>\n          <button onClick={this.openGraphMaker}>Add Graph</button>\n          \n          <p>Answer:</p>\n          <textarea \n            value={this.state.answer.correct}\n            onChange={this.updateAnswer}\n            style={inputStyle}\n          ></textarea>\n        </div>\n      )\n    } else {\n      return (\n        <>\n          <button onClick={this.setJsonExample}>See example</button>\n          <br/>\n          <textarea \n            value={this.state.json}\n            onChange={this.updateJSON}\n            onKeyDown={onKeyDown}\n            spellCheck={false}\n            style={{width:'30rem', height: '18rem', fontSize: '0.9em'}}\n          />\n          <br/>\n        </>\n      )\n    }\n  }\n\n  setJsonExample = () => {\n    const json = jsonExample\n    this.setState({ json })\n  }\n\n  renderPreview() {\n    const content = this.getDataFromState()\n    const previewStyle = {\n      margin: '2mm',\n      width: 'fit-content',\n      fontSize: '1.2em',\n      minWidth: '3in',\n    }\n    const props = { content }\n    return (\n      <>\n      <p>Question</p>\n      <div className='document preview-area' style={previewStyle}>\n        {content ? <RenderComponent data={['Question', props]} /> : null}\n      </div>\n      <p>Answer</p>\n      <div className='document preview-area' style={previewStyle}>\n        {content ? <RenderComponent data={['AnswerKey', props]} /> : null}\n      </div>\n      </>\n    )\n  }\n\n  render() {\n    const divstyle = {\n      display: 'grid',\n      gridTemplateAreas: '\"inputs preview\"',\n      gridTemplateColumns: 'auto auto',\n    }\n    return (\n      <div className={styles.CustomQuestionMaker}>\n        <button onClick={this.props.onRequestClose}>Close</button>\n      <div style={divstyle}>\n        <div style={{gridArea: 'inputs'}}>\n          <h4 style={{gridArea: 'title'}}>Custom Question</h4>\n          <select ref={this.inputType} onChange={this.updateInputType}>\n            <option value=\"manual\">Manual</option>\n            <option value='json'>JSON</option>\n          </select>\n          {this.renderInputs()}\n          <button onClick={this.addQuestion}>Add to Assignment</button>\n        </div>\n        <div style={{gridArea: 'preview'}}>\n          <h4>Preview</h4>\n          {this.renderPreview()}\n        </div>\n      </div>\n      \n\n      <ReactModal isOpen={this.state.modal === 'examples'}\n        onRequestClose={this.closeModal}\n        style={{\n          content: {\n            backgroundColor: 'var(--ui-page, white)',\n            color: 'black',\n          }\n        }}\n      >\n        <LatexExamples onRequestClose={this.closeModal}/>\n      </ReactModal>\n\n      <ReactModal isOpen={this.state.modal === 'graph'}\n        onRequestClose={this.closeModal}\n      >\n        <GraphMaker onRequestClose={this.closeModal} onSubmit={this.updateDiagram}/>\n      </ReactModal>\n\n      </div>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: (q) => dispatch(addToDocument(q))\n})\n\nexport default connect(null, mapDispatchToProps)(CustomQuestion)","import { connect } from 'react-redux'\nimport CustomQuestion from './CustomQuestion'\nimport { addToDocument } from 'actions/document'\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: (thing) => dispatch(addToDocument(thing))\n})\n\nexport default connect(null, mapDispatchToProps)(CustomQuestion)","import React from 'react'\nimport ReactModal from 'react-modal'\nimport CustomQuestion from '../CustomQuestion'\nimport styles from './styles.module.css'\n\nexport const CustomQuestionModal = props => (\n  <ReactModal\n    className={styles.FullModal}\n    isOpen={props.isOpen}\n    onRequestClose={props.onRequestClose}\n  >\n    <CustomQuestion onRequestClose={props.onRequestClose}/>\n  </ReactModal>\n)\n\nexport default CustomQuestionModal","import React from 'react'\nimport ReactModal from 'react-modal'\nimport { connect } from 'react-redux'\nimport { EditComponent } from 'rendering'\nimport { get } from 'constants/lodash'\nimport styles from './styles.module.css'\n\nexport const EditElementModal = props => {\n  if (props.data) {\n    return (\n      <ReactModal\n        className={styles.FullModal}\n        isOpen={props.isOpen}\n        onRequestClose={props.onRequestClose}\n      >\n        <EditComponent\n          onRequestClose={props.onRequestClose}\n          id={props.id}\n          data={props.data}\n        />\n      </ReactModal>\n    )\n  }\n  return null\n}\n\nconst mapStateToProps = state => {\n  const id = state.uistate.selectedElement\n  const data = get(state.document, id, null)\n  return ({ id, data })\n}\n\nexport default connect(mapStateToProps)(EditElementModal)","import { omit } from 'constants/lodash';\nimport {\n  ADD_TO_DOCUMENT,\n  ADD_PAGEBREAK_BEFORE,\n  APPEND_CONTENT,\n  CLEAR_ALL,\n  CLEAR_PAGEBREAKS,\n  DECREASE_HIDDEN_COUNT,\n  DELETE_HEADER,\n  DELETE_CONTENT,\n  FIX_PAGINATION,\n  LOAD_DOCUMENT,\n  REMOVE_LAST,\n  RESET_DOCUMENT,\n  SET_DOCUMENT_STARTNUMBERING,\n  SET_HIDDEN_COUNT,\n  UPDATE_CONTENT,\n  UPDATE_HEADER,\n} from 'actions/document'\n\nexport const initialState = {\n  content: {},\n  generationInfo: {},\n  order: [],\n  header: {\n    '0': ['PageHeader', {rows: []}],\n    '1': [\n      'PageHeader', {\n        rows: [\n          ['Assignment', 'Name ___'],\n          [null, 'Date __ Class _'],\n        ]\n      }\n    ],\n  },\n  footer: {},\n  pagebreaks: [],\n  startNumbering: 1,\n  numberHidden: 0,\n}\n\nconst document = function(state=initialState, action) {\n  switch (action.type) {\n    // content\n    case ADD_TO_DOCUMENT:\n      return {\n        ...state, \n        content: {\n          ...state.content, \n          [+action.payload.id]: action.payload.element\n        },\n        order: [...state.order, +action.payload.id]\n      }\n    case CLEAR_ALL:\n      return {\n        ...state, \n        content: {},\n        order: [], \n        pagebreaks: [],\n      }\n    case REMOVE_LAST:\n      return {\n        ...state, \n        content: omit(state.content, [state.order[state.order.length-1]]),\n        order: state.order.slice(0,-1), \n        pagebreaks: state.pagebreaks.filter(n => n < state.order.length-1),\n      }\n    case DELETE_HEADER:\n      const header = {...state.header}\n      if (+action.payload === 0 || +action.payload === 1) {\n        header[+action.payload] = ['PageHeader', {rows: []}]\n        return {...state, header}\n      } else {\n        delete header[+action.payload]\n        return {...state, header}\n      }\n    case DELETE_CONTENT:\n      //Note that this does not remove the element from 'content', only from 'order'\n      return {\n        ...state,\n        content: omit(state.content, [+action.payload]),\n        order: state.order.filter(id => id !== +action.payload),\n        pagebreaks: state.pagebreaks.filter(n => n < state.order.length-1),\n      }\n    case UPDATE_HEADER:\n      return {\n        ...state, \n        header: {...state.header, [+action.payload.id]: action.payload.data}\n      }\n    case UPDATE_CONTENT:\n      return {\n        ...state, \n        content: {...state.content, [+action.payload.id]: action.payload.data}\n      }\n    case APPEND_CONTENT:\n      if (action.payload.where === 'start') {\n        return {\n          ...state,\n          content: {...state.content, ...action.payload.content},\n          order: [...action.payload.order, ...state.order],\n          numberHidden: action.payload.order.length + state.order.length,\n        }\n      } else {\n        return {\n          ...state,\n          content: {...state.content, ...action.payload.content},\n          order: [...state.order, ...action.payload.order],\n          numberHidden: action.payload.order.length,\n        }\n      }\n\n\n    // settings\n    case SET_DOCUMENT_STARTNUMBERING:\n      return {...state, startNumbering: action.payload}\n\n\n    // view\n    case ADD_PAGEBREAK_BEFORE:\n      for (const i in state.order) {\n        if (state.order[i] === action.payload) {\n          return {...state, pagebreaks: [...state.pagebreaks, i]}\n        }\n      }\n      return state\n    case CLEAR_PAGEBREAKS:\n      return {...state, pagebreaks: []}\n    case SET_HIDDEN_COUNT:\n      return {...state, numberHidden: action.payload}\n    case DECREASE_HIDDEN_COUNT:\n      return {...state, numberHidden: Math.max(0, state.numberHidden-1)}\n    case FIX_PAGINATION:\n      return {...state, numberHidden: state.order.length, pagebreaks: []}\n\n\n    case LOAD_DOCUMENT:\n      return {...action.payload}\n    case RESET_DOCUMENT:\n      return {...initialState}\n    \n    default:\n      return state\n  }\n}\n\nexport default document\n\n","import { kebabCase } from 'constants/lodash'\n\nfunction setStyle(style) {\n  document.documentElement.style.setProperty('--doc-font-family', style.fontFamily)\n  document.documentElement.style.setProperty('--doc-font-size', style.fontSize)\n  document.documentElement.style.setProperty('--doc-math-font-size', style.mathFontSize)\n  document.documentElement.style.setProperty('--doc-math-font-weight', style.mathFontWeight)\n  const mathFontFamily = style.mathFontFamily\n  if (mathFontFamily === '__MATCH__') {\n    document.documentElement.style.setProperty('--doc-math-font-family', 'var(--doc-font-family)')\n  } else if (mathFontFamily === '__DEFAULT__') {\n    document.documentElement.style.removeProperty('--doc-math-font-family')\n  } else {\n    document.documentElement.style.setProperty('--doc-math-font-family', mathFontFamily)\n  }\n  for (const k in style.graph) {\n    document.documentElement.style.setProperty(`--vg-${kebabCase(k)}`, style.graph[k])\n  }\n}\n\nexport default setStyle","import { defaultsDeep, kebabCase } from 'constants/lodash'\nimport setStyle from 'initialize/setstyle'\nimport {\n  SET_DOCUMENT_FONTFAMILY,\n  SET_DOCUMENT_FONTSIZE,\n  SET_MATH_FONTSIZE,\n  SET_MATH_FONTWEIGHT,\n  SET_MATH_FONTFAMILY,\n  SET_PAGE_MARGIN,\n  SET_PAGE_SIZE,\n  UPDATE_GRAPHSTYLE,\n  RESET_GRAPHSTYLE,\n  LOAD_STYLE,\n  RESET_STYLE\n} from 'actions/style'\n\nexport const initialState = {\n  columns: true,\n  fontFamily: 'cmu_sansserif',\n  fontSize: '9pt',\n  mathFontFamily: '__DEFAULT__',\n  mathFontSize: '1.1em',\n  mathFontWeight: 'normal',\n  pageSize: 'letter',\n  pageOrientation: 'portrait',\n  pageMargin: '.5in',\n  graph: {\n    scaleFactor: 1,\n    asymptoteColor: '#888888',\n    asymptoteWidth: 1.5,\n    axisColor: '#111111',\n    axisWidth: 1,\n    anglemarkColor: '#ff4444',//'#ff0036',\n    anglemarkFillOpacity: '0.1',\n    fillOpacity: '0.2',\n    functionStroke1: '#ff3600',\n    functionStroke2: '#0080d9',\n    functionStroke3: '#70cc3e',\n    functionStrokeWidth: 1.5,\n    geomStroke1: '#000000',\n    geomStroke2: '#0055cc',\n    geomStrokeWidth: 1,\n    geomMarkerColor: '#000000',\n    gridColor: '#888888',\n    gridWidth: .5,\n    labelFontSize: '1em',\n  },\n}\n\nconst style = function(state=initialState, action) {\n  switch(action.type) {\n    // Fonts\n    case SET_DOCUMENT_FONTFAMILY:\n      document.documentElement.style.setProperty('--doc-font-family', action.payload)\n      return {...state, fontFamily: action.payload}\n    case SET_DOCUMENT_FONTSIZE:\n      document.documentElement.style.setProperty('--doc-font-size', action.payload)\n      return {...state, fontSize: action.payload}\n    case SET_MATH_FONTSIZE:\n      document.documentElement.style.setProperty('--doc-math-font-size', action.payload)\n      return {...state, mathFontSize: action.payload}\n    case SET_MATH_FONTWEIGHT:\n      document.documentElement.style.setProperty('--doc-math-font-weight', action.payload)\n      return {...state, mathFontWeight: action.payload}\n    case SET_MATH_FONTFAMILY:\n      if (action.payload === '__MATCH__') {\n        document.documentElement.style.setProperty('--doc-math-font-family', 'var(--doc-font-family)')\n        //document.documentElement.style.setProperty('--doc-math-font-spacing', '.03em')\n      } else if (action.payload === '__DEFAULT__') {\n        document.documentElement.style.removeProperty('--doc-math-font-family')\n        //document.documentElement.style.removeProperty('--doc-math-font-spacing')\n      } else {\n        document.documentElement.style.setProperty('--doc-math-font-family', action.payload)\n        //document.documentElement.style.setProperty('--doc-math-font-spacing', '.03em')\n      }\n      return {...state, mathFontFamily: action.payload}\n\n    // Page Layout\n    case SET_PAGE_SIZE:\n      return {...state, pageSize: action.payload}\n    case SET_PAGE_MARGIN:\n      return {...state, pageMargin: action.payload}\n\n    // Graph Style\n    case UPDATE_GRAPHSTYLE:\n      for (const k in action.payload) {\n        document.documentElement.style.setProperty(`--vg-${kebabCase(k)}`, action.payload[k])\n      }\n      return {...state, graph: {...state.graph, ...action.payload}}\n    case RESET_GRAPHSTYLE:\n      for (const k in initialState.graph) {\n        document.documentElement.style.setProperty(`--vg-${kebabCase(k)}`, initialState.graph[k])\n      }\n      return {...state, graph: {...initialState.graph}}\n    \n    case LOAD_STYLE:\n      const newstyle = defaultsDeep({}, action.payload, state)\n      setStyle(newstyle)\n      return newstyle\n    case RESET_STYLE:\n      setStyle(initialState)\n      return initialState\n\n    default:\n      return state\n  }\n}\n\nexport default style","import React from 'react';\nimport { connect } from 'react-redux'\nimport ReactModal from 'react-modal'\nimport { appendContent, loadDocument, fixPagination } from 'actions/document'\nimport { loadStyle } from 'actions/style'\nimport { initialState as initialDocumentState } from 'reducers/document'\nimport { initialState as initialStyleState } from 'reducers/style'\nimport styles from './styles.module.css'\n\n\nclass ImportModal extends React.Component {\n  static defaultProps = {\n    isOpen: false,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      importMode: 'new',\n      filename: null, \n      validFilename: null, \n      message: null,\n      document: null,\n      style: null,\n    }\n  }\n\n  setImportMode = evt => this.setState({importMode: evt.target.value})\n\n  close = () => {\n    this.setState({\n      filename: null, \n      validFilename: null, \n      message: null,\n      document: null,\n      style: null,\n      dragOver: false,\n    })\n    this.props.onRequestClose()\n  }\n\n  handleDragEnter = evt => {\n    evt.stopPropagation()\n    evt.preventDefault()\n    this.setState({dragOver: true})\n  }\n\n  handleDragLeave = evt => {\n    evt.stopPropagation()\n    evt.preventDefault()\n    this.setState({dragOver: false})\n  }\n\n  handleDragOver = evt => {\n    evt.stopPropagation()\n    evt.preventDefault()\n    evt.dataTransfer.dropEffect = 'copy'\n  }\n\n  handleDrop = evt => {\n    evt.stopPropagation()\n    evt.preventDefault()\n    const file = evt.dataTransfer.files[0]\n    this.setState({filename: file.name, dragOver: false})\n    this.readFile(file)\n    return false\n  }\n\n  selectFile = evt => {\n    const file = evt.target.files[0]\n    this.setState({filename: file.name})\n    this.readFile(file)\n  }\n\n  readFile(file) {\n    if (file) {\n      const reader = new FileReader()\n      reader.onload = evt => this.checkData(evt.target.result)\n      reader.readAsText(file)\n    }\n  }\n\n  checkData(dataString) {\n    let data\n    try {\n      data = JSON.parse(dataString)\n    } catch {\n      this.setState({message: 'File is not valid JSON'})\n      return\n    }\n    try {\n      let toLoad = {document: null, style: null}\n      if (data.document) {\n        const document = Object.assign({}, initialDocumentState)\n        for (const k in initialDocumentState) {\n          if (data.document[k] !== undefined) {\n            document[k] = data.document[k]\n          }\n        }\n        toLoad.document = document\n      }\n      if (data.style) {\n        const style = {}\n        for (const k in initialStyleState) {\n          if (data.style[k] !== undefined) {\n            style[k] = data.style[k]\n          }\n        }\n        toLoad.style = style\n      }\n      this.setState({\n        message: '', \n        validFilename: this.state.filename,\n        ...toLoad\n      })\n    } catch(e) {\n      console.error(e)\n      this.setState({message: 'Error: Unable to load file.', document: null, style: null})\n    }\n  }\n\n  canLoad = () => {\n    if (this.state.importMode === 'new' && (this.state.document || this.state.style)) {\n      return true\n    }\n    if (this.state.importMode === 'append-end' && this.state.document) {\n      return true\n    }\n    if (this.state.importMode === 'append-start' && this.state.document) {\n      return true\n    }\n    if (this.state.importMode === 'style' && this.state.style) {\n      return true\n    }\n    return false\n  }\n\n  loadJson = () => {\n    if (this.canLoad()) {\n      if (this.state.importMode === 'new') {\n        if (this.state.document) {\n          this.props.loadDocument(this.state.document)\n        }\n        if (this.state.style) {\n          this.props.loadStyle(this.state.style || {})\n        } else {\n          this.props.fixPagination()\n        }\n        this.close()\n      } \n      else if (this.state.importMode === 'append-end') {\n        this.props.appendContent({...this.state.document, where: 'end'})\n        this.close()\n      }\n      else if (this.state.importMode === 'append-start') {\n        this.props.appendContent({...this.state.document, where: 'start'})\n        this.close()\n      }\n      else if (this.state.importMode === 'style') {\n        this.props.loadStyle(this.state.style)\n        this.close()\n      }\n    } else {\n      this.setState({message: 'No valid file selected'})\n    }\n  }\n\n  load = () => {\n    this.loadJson()\n  }\n\n  render() {\n    return (\n      <ReactModal\n        isOpen={this.props.isOpen}\n        onRequestClose={this.close}\n        style={{\n          content: {\n            //background: 'none',\n            top: '0',\n            bottom: '0',\n            left: '0',\n            right: '0',\n            borderRadius: 0,\n            //margin: '5mm',\n            padding: '5mm',\n          },\n        }}\n      >\n        <div className={styles.Import}>\n          <div>\n            <select value={this.state.importMode} onChange={this.setImportMode}>\n              <option value=\"new\">Import as new assignment</option>\n              <option value=\"append-end\">Import questions only (add to end)</option>\n              <option value=\"append-start\">Import questions only (add to beginning)</option>\n              <option value=\"style\">Import style only</option>\n            </select>\n            <div style={{height: '5mm'}}/>\n            <button onClick={this.load} disabled={!this.canLoad()}>Import</button>\n            <button onClick={this.close}>Cancel</button>\n            <div style={{height: '5mm'}}/>\n          </div>\n          <div \n            className={this.state.dragOver \n              ? styles.ImportDragbox + ' ' + styles.ImportDragboxDragover \n              : styles.ImportDragbox\n            }\n            onDrop={this.handleDrop}\n            onDragOver={this.handleDragOver}\n            onDragEnter={this.handleDragEnter}\n            onDragLeave={this.handleDragLeave}\n            //onClick={this.close}\n          >\n\n              <span style={{\n                fontSize: '2em', \n                fontWeight: 'bold', \n              }}>Drop File Here</span>\n              <div style={{height: '1em'}}/>\n              <span>{this.state.filename}</span>\n              <div style={{height: '1em'}}/>\n              <span style={{color: 'red', fontWeight: 'bold', fontSize: '1.5em'}}>{this.state.message || ''}</span>\n              <div style={{height: '1em'}}/>\n\n          </div>\n        </div>\n      </ReactModal>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  fixPagination: () => dispatch(fixPagination()),\n  loadDocument: doc => dispatch(loadDocument(doc)),\n  loadStyle: style => dispatch(loadStyle(style)),\n  appendContent: append => dispatch(appendContent(append)),\n})\n\nexport default connect(null, mapDispatchToProps)(ImportModal)","import React from 'react'\nimport ReactModal from 'react-modal'\n\nconst NotesModal = props => (\n  <ReactModal\n    isOpen={props.isOpen}\n    onRequestClose={props.onRequestClose}\n    style={{\n      content: {\n        width: '5in',\n        bottom: '.5in',\n        left: '.5in',\n        right: 'unset',\n        top: 'unset',\n        color: 'black',\n        backgroundColor: 'var(--ui-page, white)',\n      }\n    }}\n  >\n    <span style={{fontWeight: 'bold', fontSize: '1em'}} onClick={props.onRequestClose}>\n      <span style={{marginRight: '3mm'}}>Notes</span>      \n    </span>\n    <div onClick={props.onRequestClose}>\n      <p>Work in progress: Lots of things will change and break.</p>\n      <p>Double-click on the document to edit an element.</p>\n      <p>Create a PDF by selecting \"Save to PDF\" when printing.</p>\n      <p>Make sure the scale is set to 100% when printing.</p>\n      <p>\n        Changing the font size or deleting questions from the middle of the\n        document can cause the calculated page breaks to no longer be \n        appropriate. Use the 'Fix Pagination' button to quickly recalculate \n        all page breaks.\n      </p>\n      <p>\n        Using Firefox or Chrome is recommended. \n        Not much testing has been done for other browsers.\n      </p>\n      <p>The answer key can't be over one page long.</p>\n      <p>Printing doesn't always work right with page sizes other than \"letter\".</p>\n      <p>Some inputs do not work in Safari.</p>\n      <button onClick={props.onRequestClose}>Close</button>\n    </div>\n  </ReactModal>\n)\n\nexport default NotesModal","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { renderObject } from 'rendering'\nimport styles from './styles.module.css'\n\nclass SingleQuestionView extends React.Component {\n  static propTypes = {\n    content: PropTypes.array.isRequired,\n    showAnswer: PropTypes.bool.isRequired,\n    scaleFactor: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    number: PropTypes.number,\n  }\n\n  static defaultProps = {\n    showAnswer: false,\n    scaleFactor: 1,\n  }\n  \n  render() {\n    const style = {\n      '--vg-transform': `scale(${this.props.scaleFactor})`,\n      '--vg-label-font-size': (1/this.props.scaleFactor) + 'em',\n      '--doc-startnumber': this.props.number - 1,\n      fontSize: this.props.scaleFactor + 'em',\n    }\n    const questionContent = this.props.content.slice(1)\n    const renderType = this.props.number !== undefined ? 'NumberedQuestion' : 'Question'\n    return (\n      <div className={styles.SingleQuestionView}>\n        {this.props.showAnswer ? (\n          <div className=\"document\" style={style} >\n            <div style={{fontSize: 'var(--ui-font-size)', marginBottom: '1em'}}>\n              <span style={{fontSize: '2em', fontWeight: 'bold'}}>Answer</span>\n            </div>\n            {renderObject(['AnswerKey', ...questionContent])}\n          </div>\n        ) : (\n          <div className=\"document\" style={style}>\n            {renderObject([renderType, ...questionContent])}\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n\nexport default SingleQuestionView","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styles from './styles.module.css'\nimport { round } from 'constants/lodash'\n\n\nconst KEYMAP = {\n  answer: 'Tab',\n  collapse: '\\\\',\n  next: 'ArrowRight',\n  previous: 'ArrowLeft',\n  incZoom: 'ArrowUp',\n  decZoom: 'ArrowDown',\n}\n\nclass SlideView extends React.Component {\n  static propTypes = {\n    updateGraphStyle: PropTypes.func,\n    setAutoPagination: PropTypes.func,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      showAnswer: false,\n      scaleFactor: props.scaleFactor || 1.2,\n      collapsed: false,\n    }\n  }\n\n  componentDidMount() {\n    this.props.setAutoPagination(false)\n    this.setScaleFactor(this.state.scaleFactor)\n    this.focus()\n  }\n  componentWillUnmount() {\n    this.props.setPresentationScaleFactor(this.state.scaleFactor)\n  }\n  close = () => {\n    this.props.setPresentationScaleFactor(this.state.scaleFactor)\n    this.props.setGraphScaleFactor(1)\n    this.props.setAutoPagination(true)\n    this.props.onRequestClose()\n  }\n\n  showAnswer = () => this.setState({showAnswer: true})\n  hideAnswer = () => this.setState({showAnswer: false})\n  toggleAnswer = () => this.setState({showAnswer: !this.state.showAnswer})\n  setScaleFactor(scaleFactor) {\n    this.props.setGraphScaleFactor(scaleFactor)\n    this.setState({scaleFactor})\n  }\n  changeScaleFactor = evt => this.setScaleFactor(evt.target.value)\n  increaseScaleFactor() {\n    const scaleFactor = round(this.state.scaleFactor + .2, 1)\n    this.setScaleFactor(scaleFactor)\n  }\n  decreaseScaleFactor() {\n    const scaleFactor = Math.max(.2, round(this.state.scaleFactor - .2, 1))\n    this.setScaleFactor(scaleFactor)\n  }\n\n  onKeyDown = evt => {\n    //evt.preventDefault()\n    switch(evt.key) {\n      case KEYMAP.next: this.trynext(); evt.preventDefault(); return;\n      case KEYMAP.previous: this.tryprevious(); evt.preventDefault(); return;\n      case KEYMAP.incZoom: this.increaseScaleFactor(); evt.preventDefault(); return;\n      case KEYMAP.decZoom: this.decreaseScaleFactor(); evt.preventDefault(); return;\n      case KEYMAP.collapse: this.toggleCollapse(); evt.preventDefault(); return;\n      case KEYMAP.answer: this.toggleAnswer(); evt.preventDefault(); return;\n      default: return false;\n    }\n  }\n\n  focus() { document.getElementById('slideshow-view').focus() }\n\n  toggleCollapse = () => {\n    this.setState({collapsed: !this.state.collapsed})\n    this.focus()\n  }\n  unCollapse = () => this.state.collapsed ? this.toggleCollapse() : null\n  \n  renderAnswerButton() {\n    if (this.state.showAnswer) {\n      return (\n        <button className={styles.NavButton} \n          title={`shortcut: ${KEYMAP.answer}`}\n          onClick={this.hideAnswer}>\n          Show Question\n        </button>\n      )\n    } else {\n      return (\n        <button className={styles.NavButton} \n          title={`shortcut: ${KEYMAP.answer}`}\n          onClick={this.showAnswer}>\n          Show Answer\n        </button>\n      )\n    }\n  }\n\n  canGoForward = () => true;\n  canGoBack = () => true;\n  trynext = () => {\n    if (this.canGoForward()) {\n      this.next()\n    }\n  }\n  tryprevious = () => {\n    if (this.canGoBack()) {\n      this.previous()\n    }\n  }\n\n  renderNavArrows() {\n    const backClassNames = [styles.ArrowButton, styles.ArrowButtonLeft]\n    const fwdClassNames = [styles.ArrowButton, styles.ArrowButtonRight]\n    if (!this.canGoBack()) {\n      backClassNames.push(styles.ArrowButtonDisabled)\n    }\n    if (!this.canGoForward()) {\n      fwdClassNames.push(styles.ArrowButtonDisabled)\n    }\n    return (\n      <div className={styles.ArrowButtonContainer}>\n        <a className={backClassNames.join(' ')}\n          title={`shortcut: ${KEYMAP.previous}`}\n          onClick={this.tryprevious}/>\n        <a className={fwdClassNames.join(' ')}\n          title={`shortcut: ${KEYMAP.next}`}\n          onClick={this.trynext}/>\n      </div> \n    )\n  }\n\n  renderScaleInput() {\n    return (\n      <div>\n        Scale: \n        <input type=\"number\" min=\".2\" step=\".2\"\n          value={this.state.scaleFactor} \n          autoFocus={true}\n          title={`shortcut: ${KEYMAP.decZoom} / ${KEYMAP.incZoom}`}\n          onChange={this.changeScaleFactor}/>     \n      </div>\n    )\n  }\n\n  renderSlide() {\n    return <div className={styles.Slide}/>\n  }\n\n  renderCollapse() {\n    return (\n      <div className={styles.Collapse}\n        title={`shortcut: ${KEYMAP.collapse}`}\n        onClick={this.toggleCollapse}>\n        <a className={styles.ArrowButton + ' ' + styles.CollapseButton}\n          title={`shortcut: ${KEYMAP.collapse}`}\n          onClick={this.toggleCollapse}/>\n      </div>\n    )\n  }\n\n  renderNumber() {\n    if (this.problemNumber) {\n      return (\n        <div style={{fontSize: '3em', fontWeight: 'bold', textAlign: 'center'}}>\n          {this.problemNumber()}\n        </div>\n      )\n    }\n    return null\n  }\n\n  renderNav() {\n    return (\n      <div className={styles.Nav}>\n        {this.renderNumber()}\n        <div style={{marginTop: 'auto'}}/>\n        {this.renderNavArrows()}\n        {this.renderAnswerButton()}\n        {this.renderScaleInput()}\n        <button className={styles.NavButton} \n          onClick={this.close}\n          title=\"shortcut: Esc\"\n        >Close</button>\n      </div>\n    )\n  }\n\n  render() {\n    const className = this.state.collapsed\n      ? styles.PresentationView + ' ' + styles.Collapsed\n      : styles.PresentationView\n    return (\n      <div className={className}\n        tabIndex=\"0\"\n        id=\"slideshow-view\"\n        onKeyDown={this.onKeyDown}\n      >\n        {this.renderNav()}\n        {this.renderCollapse()}\n        {this.renderSlide()}\n      </div>\n    )\n  }\n}\n\nexport default SlideView\n\n/*\nconst mapStateToProps = state => ({\n  //generator: state.generators.generator[state.uistate.generatorSelection],\n  //defaultParams: state.generators.defaultParams[state.uistate.generatorSelection],\n  //graphScaleFactor: state.style.graph.scaleFactor,\n  scaleFactor: state.config.presentationZoom / 100,\n})\nconst mapDispatchToProps = dispatch => ({\n  setAutoPagination: bool => dispatch(setAutoPagination(bool)),\n  setGraphScaleFactor: scaleFactor => dispatch(updateGraphStyle({scaleFactor})),\n  openOptions: () => dispatch(openModal('generatorParams')),\n  setPresentationScaleFactor: scaleFactor => dispatch(setPresentationZoom(scaleFactor*100)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SlideView)\n*/","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport styles from './styles.module.css'\nimport { updateGraphStyle } from 'actions/style'\nimport { setAutoPagination, setPresentationZoom } from 'actions/config'\nimport SingleQuestionView from './SingleQuestionView'\nimport SlideView from './SlideView'\n\nclass PresentationView extends SlideView {\n  static propTypes = {\n    order: PropTypes.arrayOf(PropTypes.number).isRequired,\n    content: PropTypes.object.isRequired,\n    updateGraphStyle: PropTypes.func,\n    setAutoPagination: PropTypes.func,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      currentIndex: 0,\n      showAnswer: false,\n      scaleFactor: props.scaleFactor || 1.2,\n    }\n  }\n\n  canGoBack = () => {\n    if (this.state.currentIndex > 0) {\n      return true\n    }\n    return false\n  }\n  canGoForward = () => {\n    if (this.state.currentIndex < this.props.order.length-1) {\n      return true\n    }\n    return false\n  }\n\n  problemNumber() {\n    return +this.props.startNumbering + this.state.currentIndex\n  }\n\n  next = () => {\n    let currentIndex = this.state.currentIndex + 1\n    if (currentIndex >= this.props.order.length) {\n      currentIndex -= this.props.order.length\n    }\n    this.setState({ currentIndex, showAnswer: false })\n  }\n  previous = () => {\n    let currentIndex = this.state.currentIndex - 1\n    if (currentIndex < 0) {\n      currentIndex += this.props.order.length\n    }\n    this.setState({ currentIndex, showAnswer: false })\n  }\n\n  renderSlide() {\n    return (\n      <div className={styles.Slide}>\n        {this.props.order.length ? (\n          <SingleQuestionView \n            content={this.props.content[this.props.order[this.state.currentIndex]]}\n            scaleFactor={this.state.scaleFactor}\n            showAnswer={this.state.showAnswer}\n            number={this.state.collapsed \n              ? this.problemNumber() \n              : undefined}\n          />\n        ) : null}\n      </div>\n    )\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  order: state.document.order,\n  content: state.document.content,\n  startNumbering: state.document.startNumbering,\n  graphScaleFactor: state.style.graph.scaleFactor,\n  scaleFactor: state.config.presentationZoom / 100,\n})\nconst mapDispatchToProps = dispatch => ({\n  setAutoPagination: bool => dispatch(setAutoPagination(bool)),\n  setGraphScaleFactor: scaleFactor => dispatch(updateGraphStyle({scaleFactor})),\n  setPresentationScaleFactor: scaleFactor => dispatch(setPresentationZoom(scaleFactor*100)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PresentationView)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport styles from './styles.module.css'\nimport { updateGraphStyle } from 'actions/style'\nimport { setAutoPagination, setPresentationZoom } from 'actions/config'\nimport { openModal } from 'actions/uistate'\nimport SingleQuestionView from './SingleQuestionView'\nimport { SetGeneratorDefaultsPopup } from '../Modals'\nimport SlideView from './SlideView'\n\nconst STORED_QUESTIONS = 50\n\nclass PracticeMode extends SlideView {\n  static propTypes = {\n    generator: PropTypes.func.isRequired,\n    updateGraphStyle: PropTypes.func,\n    setAutoPagination: PropTypes.func,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      count: 0,\n      index: 0,\n      generated: [],\n      showAnswer: false,\n      scaleFactor: props.scaleFactor || 1.2,\n      collapsed: false,\n      defaultParams: props.defaultParams,\n      modal: 'none'\n    }\n  }\n\n  componentDidMount() {\n    this.props.setAutoPagination(false)\n    this.setScaleFactor(this.state.scaleFactor)\n    this.clearProblems()\n    this.focus()\n  }\n\n  clearProblems = () => {\n    this.setState({generated: [this.generate()], index: 0})\n  }\n\n  generate = () => {\n    this.setState({showAnswer: false})\n    try {\n      const {generator, defaultParams} = this.props\n      const question = new generator(defaultParams)\n      return question.output()\n    } catch(e) {\n      console.error(e)\n    }\n  }\n\n  openOptions = () => this.setState({modal: 'options'})\n  closeOptions = () => this.setState({modal: 'none'})\n  onChangeOptions = () => {\n    setTimeout(() => {\n      this.setState({index: this.state.generated.length-1})\n      this.next()\n    }, 20)\n  }\n\n  problemNumber = () => 1 + this.state.index + this.state.count\n\n  current() {\n    return this.state.generated[this.state.index]\n  }\n\n  next = () => {\n    let index = this.state.index + 1\n    let count = this.state.count\n    let generated = [...this.state.generated]\n    while (index >= generated.length) {\n      generated = [...generated, this.generate()]\n    }\n    while (generated.length > STORED_QUESTIONS) {\n      index -= 1\n      count += 1\n      generated = generated.slice(1)\n    }\n    this.setState({index, count, generated, showAnswer: false})\n  }\n\n  previous = () => {\n    this.setState({index: Math.max(0, this.state.index-1)})\n  }\n\n  canGoBack = () => {\n    if (this.state.index > 0) return true;\n    return false;\n  }\n\n  renderSlide() {\n    const content = this.current()\n    return (\n      <div className={styles.Slide}>\n        {content ? (\n          <SingleQuestionView \n            content={content}\n            scaleFactor={this.state.scaleFactor}\n            showAnswer={this.state.showAnswer}\n          />\n        ) : null}\n      </div>\n    )\n  }\n\n  renderNav() {\n    return (\n      <div className={styles.Nav}>\n        {this.renderNumber()}\n        \n        <div style={{marginTop: 'auto'}}/>\n\n        {this.renderNavArrows()}\n        {this.renderAnswerButton()}\n        <button className={styles.NavButton} \n          onClick={this.openOptions} \n          disabled={!this.props.defaultParams}\n        >Options</button>\n        {this.renderScaleInput()}\n        <button \n          className={styles.NavButton} \n          onClick={this.close}\n          title=\"shortcut: Esc\"\n        >Close</button>\n        <SetGeneratorDefaultsPopup \n          isOpen={this.state.modal === 'options'}\n          onRequestClose={this.closeOptions}\n          onChange={this.onChangeOptions}\n        />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  generator: state.generators.generators[state.uistate.generatorSelection],\n  defaultParams: state.generators.defaultParams[state.uistate.generatorSelection],\n  //graphScaleFactor: state.style.graph.scaleFactor,\n  scaleFactor: state.config.presentationZoom / 100,\n})\nconst mapDispatchToProps = dispatch => ({\n  setAutoPagination: bool => dispatch(setAutoPagination(bool)),\n  setGraphScaleFactor: scaleFactor => dispatch(updateGraphStyle({scaleFactor})),\n  openOptions: () => dispatch(openModal('generatorParams')),\n  setPresentationScaleFactor: scaleFactor => dispatch(setPresentationZoom(scaleFactor*100)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PracticeMode)","import React from 'react'\nimport ReactModal from 'react-modal'\nimport { PracticeMode } from '../Presentation'\nimport styles from './styles.module.css'\n\n\nconst PracticeModal = props => (\n  <ReactModal\n    className={styles.FullModal}\n    isOpen={props.isOpen}\n    onRequestClose={props.onRequestClose}\n  >\n    <PracticeMode {...props}/>\n  </ReactModal>\n)\n\nexport default PracticeModal\n\n/*\nconst mapStateToProps = state => {\n  const id = state.uistate.generatorSelection\n  return ({\n    generator: state.generators.generators[id],\n    defaultParams: state.generators.defaultParams[id],\n  })\n}\n\nexport default connect(mapStateToProps)(PracticeModal)\n*/","import React from 'react'\nimport ReactModal from 'react-modal'\nimport { PresentationView } from '../Presentation'\nimport styles from './styles.module.css'\n\nconst PresentationModal = props => (\n  <ReactModal\n    className={styles.FullModal}\n    isOpen={props.isOpen}\n    onRequestClose={props.onRequestClose}\n  >\n    <PresentationView onRequestClose={props.onRequestClose}/>\n  </ReactModal>\n)\n\n\nexport default PresentationModal","import React from 'react';\nimport { connect } from 'react-redux'\nimport ReactModal from 'react-modal'\nimport styles from './styles.module.css'\n\nfunction filterUnusedElements(document) {\n  const result = {...document, content: {}}\n  for (const k of document.order) {\n    result.content[k] = document.content[k]\n  }\n  return result\n}\n\n// Download document as JSON\nclass SaveFilePopup extends React.Component {\n  static defaultProps = {\n    isOpen: false,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      includeStyle: true,\n      filename: null,\n      spacing: 'none',\n    }\n  }\n\n  close= () => {\n    this.setState({filename: null})\n    this.props.onRequestClose()\n  }\n  setFilename = evt => this.setState({filename: evt.target.value})\n  toggleIncludeStyle = evt => this.setState({includeStyle: evt.target.checked})\n  setSpacing = evt => this.setState({spacing: evt.target.value})\n\n  downloadAs(filename) {\n    const data = this.state.includeStyle\n      ? {document: filterUnusedElements(this.props.document), style: this.props.style}\n      : {document: filterUnusedElements(this.props.document)}\n    const dataString = \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(data, null, this.state.spacing === 'none' ? null : +this.state.spacing));\n    const dlanchor = document.createElement('a')\n    dlanchor.setAttribute('href', dataString)\n    dlanchor.setAttribute('download', filename)\n    document.body.appendChild(dlanchor)\n    dlanchor.click()\n    dlanchor.remove()\n  }\n\n  download = () => {\n    this.downloadAs(this.state.filename || defaultFilename(this.props.document) + '.json')\n    this.close()\n  }\n\n  handleKeyPress = evt => {\n    if (evt.key === 'Enter') {\n      this.download()\n    }\n  }\n\n  onFocus = evt => {\n    evt.target.selectionStart = 0;\n    evt.target.selectionEnd = evt.target.value.length-5;\n  }\n\n  render() {\n    return (\n      <ReactModal \n        className={styles.Popup}\n        isOpen={this.props.isOpen}\n        onRequestClose={this.close}\n      >\n        <div>\n          <span style={{fontWeight: 'bold'}}>Save as: </span>\n          <br/>\n          <input \n            type=\"text\" \n            style={{width: '30em', margin: '2mm 0'}}\n            value={this.state.filename || defaultFilename(this.props.document) + '.json'} \n            onChange={this.setFilename}\n            spellCheck={false}\n            autoFocus\n            onKeyPress={this.handleKeyPress}\n            onFocus={this.onFocus}\n          />\n          <br/>\n          <input \n            id=\"save-style-with-document-checkbox\"\n            type=\"checkbox\"\n            checked={this.state.includeStyle}\n            onChange={this.toggleIncludeStyle}\n          />\n          <label htmlFor=\"save-style-with-document-checkbox\">\n            Save style with document\n          </label>\n          <div>\n            Spacing:\n            <select value={this.state.spacing}\n              onChange={this.setSpacing}\n            >\n              <option value=\"none\">None</option>\n              <option value=\"2\">2</option>\n            </select>\n          </div>\n          <div className={styles.PopupButtons}>\n            <button onClick={this.download}>Save</button>\n            <button onClick={this.close}>Cancel</button>\n          </div>\n          <div style={{fontSize: '.8em', marginTop: '5mm'}}>\n            Note that this is very much a work-in-progress and saved<br/>\n            JSON files will likely be incompatible with future versions.\n          </div>\n        </div>\n      </ReactModal>\n    )\n  }\n}\n\nfunction defaultFilename(document) {\n  if (document.header && document.header[1]) {\n    const {rows} = document.header[1][1]\n    if (rows) {\n      const titleparts = []\n      for (const r of rows) {\n        if (r[0]) {\n          titleparts.push(r[0].replace(/ /g, ''))\n        }\n      }\n      if (titleparts.length) {\n        return titleparts.join('_')\n      }\n    }\n  }\n  return 'assignment'\n}\n\nconst mapStateToProps = state => ({\n  filename: defaultFilename(state.document) + '.json',\n  document: state.document,\n  style: state.style,\n})\n\nexport default connect(mapStateToProps)(SaveFilePopup)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { updateGraphStyle } from 'actions/style'\n\n\nclass GraphStyle extends React.Component {\n  static propTypes = {\n    updateGraphStyle: PropTypes.func.isRequired,\n    propertyName: PropTypes.string.isRequired,\n  }\n\n  setValue(value) {\n    this.props.updateGraphStyle({[this.props.propertyName]: value})\n  }\n\n  onChange = (evt) => {\n    this.setValue(evt.target.value)\n  }\n\n}\n\nclass Color extends GraphStyle {\n  render() {\n    return (\n      <input type='color'\n        value={this.props.current}\n        onChange={this.onChange}\n      />\n    )\n  }\n}\n\nclass Width extends GraphStyle {\n  onChange = (evt) => {\n    this.setValue(+evt.target.value)\n  }\n  render() {\n    return (\n      <input type='range'\n        value={this.props.current}\n        onChange={this.onChange}\n        min='0'\n        max='6'\n        step='0.1'\n      />\n    )\n  }\n}\n\nclass Opacity extends GraphStyle {\n  render() {\n    return (\n      <input type='range'\n        value={this.props.current}\n        onChange={this.onChange}\n        min='0'\n        max='1'\n        step='0.01'\n      />\n    )\n  }\n}\n\nclass RelativeFontSize extends GraphStyle {\n  onChange = (evt) => {\n    this.setValue(evt.target.value + 'em')\n  }\n  render() {\n    return (\n      <input type='range'\n        value={this.props.current.slice(0,-2)}\n        onChange={this.onChange}\n        min='0.1'\n        max='3'\n        step='0.05'\n      />\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  updateGraphStyle: (props) => dispatch(updateGraphStyle(props))\n})\n\nfunction createComponent(base, propertyName) {\n  class StyleSettingComponent extends base {\n    static defaultProps = ({propertyName: propertyName})\n  }\n  \n  return connect(\n    state => ({current: state.style.graph[propertyName]}), \n    mapDispatchToProps\n  )(StyleSettingComponent)\n}\n\nexport const FunctionColor1 = createComponent(Color, 'functionStroke1')\nexport const FunctionColor2 = createComponent(Color, 'functionStroke2')\nexport const FunctionWidth = createComponent(Width, 'functionStrokeWidth')\nexport const GeomColor1 = createComponent(Color, 'geomStroke1')\nexport const GeomColor2 = createComponent(Color, 'geomStroke2')\nexport const GeomWidth = createComponent(Width, 'geomStrokeWidth')\nexport const GeomMarkerColor = createComponent(Color, 'geomMarkerColor')\nexport const AnglemarkColor = createComponent(Color, 'anglemarkColor')\nexport const AnglemarkFillOpacity = createComponent(Opacity, 'anglemarkFillOpacity')\nexport const AsymptoteColor = createComponent(Color, 'asymptoteColor')\nexport const AsymptoteWidth = createComponent(Width, 'asymptoteWidth')\nexport const AxisColor = createComponent(Color, 'axisColor')\nexport const AxisWidth = createComponent(Width, 'axisWidth')\nexport const GridColor = createComponent(Color, 'gridColor')\nexport const GridWidth = createComponent(Width, 'gridWidth')\nexport const FillOpacity = createComponent(Opacity, 'fillOpacity')\nexport const LabelFontSize = createComponent(RelativeFontSize, 'labelFontSize')\n\n\nclass SwapButton extends React.Component {\n  static propTypes = {\n    current1: PropTypes.string.isRequired,\n    current2: PropTypes.string.isRequired,\n    propertyName1: PropTypes.string.isRequired,\n    propertyName2: PropTypes.string.isRequired,\n    updateGraphStyle: PropTypes.func.isRequired,\n  }\n\n  doSwap = () => {\n    this.props.updateGraphStyle({\n      [this.props.propertyName1]: this.props.current2,\n      [this.props.propertyName2]: this.props.current1,\n    })\n  }\n\n  render() {\n    return (\n      <button onClick={this.doSwap}>{this.props.children}</button>\n    )\n  }\n}\n\nfunction createSwapper(prop1, prop2) {\n  class Swapper extends SwapButton {\n    static defaultProps = {propertyName1: prop1, propertyName2: prop2}\n  }\n  return connect(\n    state => ({\n      current1: state.style.graph[prop1], \n      current2: state.style.graph[prop2],\n    }),\n    dispatch => ({\n      updateGraphStyle: updates => dispatch(updateGraphStyle(updates)),\n    })\n  )(Swapper)\n}\n\nexport const FunctionColorSwap = createSwapper('functionStroke1', 'functionStroke2')\nexport const GeomColorSwap = createSwapper('geomStroke1', 'geomStroke2')\n\n","import { renderObject } from 'rendering'\n\nexport const PreviewXYPlot = () => {\n  \n  const vasymptotes = [-3]\n  const holes = [-5]\n  const hasymptotes = [2]\n\n  //const f = x => 2*Math.sin(x*Math.PI/4) + 7\n  //const g = x => (x+2)*(x-8)/2 + (x+2)/5 + 5\n\n  const f = x => (x-2)*(x-7) - 3 + (x/3)\n  const g = x => -(x-2)*(x-7) - 3 + (x/3)\n\n  const fpoints = []\n  const gpoints = []\n  const step = 0.5\n\n  let x = -5\n  while (x <= 3) {\n    const fpt = ({x, y: f(x)})\n    const gpt = ({x, y: g(x)})\n    fpoints.push(fpt)\n    gpoints.push(gpt)\n    x += step\n  }\n\n  while (x <= 6) {\n    const fpt = ({x, y: f(x)})\n    const gpt = ({x, y: g(x)})\n    fpoints.push(fpt)\n    gpoints.push(gpt)\n    x += 0.02\n  }\n\n  while (x <= 11) {\n    const fpt = ({x, y: f(x)})\n    const gpt = ({x, y: g(x)})\n    fpoints.push(fpt)\n    gpoints.push(gpt)\n    x += step\n  }\n\n  const data = [\n    'CoordinatePlane', {span: [-10,-10,10,10], height: '3in', style: 'none'},\n    [\n      'Style', {name: 'asymptote'},\n      ...vasymptotes.map(v => ['Path', {points: [[v, -12], [v, 12]]}]),\n      ...hasymptotes.map(v => ['Path', {points: [[-12, v], [12, v]]}])\n    ],\n    [\n      'Style', {name: 'function primary'},\n      ['Path', {points: fpoints, fill: 'solid'}],\n      [\n        'Transform', {type: 'translate', y: 2},\n        [\n          'RationalFunction', {\n            numerLC: 2,\n            asymptotes: vasymptotes,\n            holes: holes,\n            domain: [-11,-3],\n            renderAsymptotes: false,\n          }\n        ],\n      ],\n      ['Point', {x: -4, y: 0}],\n    ],\n    ['Overlay', {x: -9, y: 7, anchor: 'W'}, '$$f(x) = \\\\frac{1}{x-2}+2$$'],\n    [\n      'Style', {name: 'function secondary'},\n      ['Path', {points: gpoints, fill: 'solid'}],\n      \n      ['Point', {x: 2, y: f(2)}],\n      ['Point', {x: 7, y: f(7)}],\n      \n    ]\n  ]\n  return renderObject(data)\n}\n\nexport const PreviewGeom = () => {\n\n  const poly= [\n    [8,1], [18,1], [18,8], [14,8]\n  ]\n  const ray = [[2,12], [7,13]]\n  const line = [[8,17], [2,18]]\n  const seg = [[7,15], [2,15]]\n  const parallelogram = [[11,18], [17,19], [15,13], [9,12]]\n  const parAngles = {\n    0: {\n      vertex: parallelogram[0],\n      initial: parallelogram[3],\n      terminal: parallelogram[1],\n    },\n    1: {\n      vertex: parallelogram[1],\n      initial: parallelogram[0],\n      terminal: parallelogram[2],\n    },\n    2: {\n      vertex: parallelogram[2],\n      initial: parallelogram[1],\n      terminal: parallelogram[3],\n    },\n    3: {\n      vertex: parallelogram[3],\n      initial: parallelogram[2],\n      terminal: parallelogram[0],\n    },\n  }\n\n  const data = [\n    'CoordinatePlane', {span: [0,0,20,20], height: '3in', style: 'geometry'},\n    //['AngleMark', {right: true, vertex: poly[1], initial: poly[2], terminal: poly[0], radius: 1.5}],\n    ['Path', {points: ray, markers: \".->\"}],\n    ['Path', {points: line, markers: \"<->\"}],\n    ['Path', {points: seg, markers: \".-.\"}],\n    ['AngleMark', {right: true, vertex: poly[2], initial: poly[3], terminal: poly[1], radius: 1.5}],\n    ['Polygon', {points: poly, markers: \"...\"}],\n    ['AngleMark', {...parAngles[0], radius: [.5, .8, 1.1], congruent: 2}],\n    ['AngleMark', {...parAngles[2], radius: [.5, .8, 1.1], congruent: 2}],\n    ['AngleMark', {...parAngles[1], radius: [.5, .8, 1.1], congruent: 3}],\n    ['AngleMark', {...parAngles[3], radius: [.5, .8, 1.1], congruent: 3}],\n    ['Polygon', {points: parallelogram, markers: \"...\"}],\n  ]\n\n  return renderObject(data)\n\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { resetGraphStyle } from 'actions/style'\nimport {\n  FunctionColor1, FunctionColor2, FunctionWidth, FunctionColorSwap,\n  GeomColor1, GeomColor2, GeomWidth, GeomMarkerColor, GeomColorSwap,\n  AnglemarkColor, AnglemarkFillOpacity,\n  AsymptoteColor, AsymptoteWidth,\n  AxisColor, AxisWidth,\n  GridColor, GridWidth,\n  FillOpacity,\n  LabelFontSize,\n} from './GraphStyle'\nimport { PreviewXYPlot, PreviewGeom } from './GraphPreview'\n\nimport styles from './styles.module.css'\n\n\nclass GraphSettings extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {style: 'xy-plot'}\n  }\n\n  changeStyle = evt => {\n    this.setState({style: evt.target.value})\n  }\n\n  resetToDefaults = () => {\n   this.props.resetGraphStyle()\n  }\n\n  renderPreview() {\n    if (this.state.style === 'geom') {\n      return <PreviewGeom />\n    }\n    return <PreviewXYPlot />\n  }\n\n  renderStyleSettings() {\n    if (this.state.style === 'xy-plot') {\n      return (\n        <>\n          <tr>\n            <td>Primary</td>\n            <td><FunctionColor1/></td>\n            <td><FunctionWidth/></td>\n          </tr>\n          <tr>\n            <td>Secondary</td>\n            <td><FunctionColor2/></td>\n            <td><FunctionColorSwap>Swap</FunctionColorSwap></td>\n          </tr>\n          <tr>\n            <td>Asymptote</td>\n            <td><AsymptoteColor/></td>\n            <td><AsymptoteWidth/></td>\n          </tr>\n          <tr>\n            <td colSpan='2'>Fill</td>\n            <td><FillOpacity /></td>\n          </tr>\n        </>\n      )\n    }\n    if (this.state.style === 'geom') {\n      return (\n        <>\n          <tr>\n            <td>Primary</td>\n            <td><GeomColor1/></td>\n            <td><GeomWidth/></td>\n          </tr>\n          <tr>\n            <td>Secondary</td>\n            <td><GeomColor2/></td>\n            <td><GeomColorSwap>Swap</GeomColorSwap></td>\n          </tr>\n          <tr>\n            <td>Marks</td>\n            <td><GeomMarkerColor/></td>\n          </tr>\n          <tr>\n            <td>Angles</td>\n            <td><AnglemarkColor/></td>\n            <td><AnglemarkFillOpacity/></td>\n          </tr>\n        </>\n      )\n    }\n    return null\n  }\n\n  render() {\n    return (\n      <div className={styles.Layout}>\n        <div className={styles.Settings}>\n          <h3>Graph Style</h3>\n          <button onClick={this.resetToDefaults}>Reset to Defaults</button>\n          \n          <table className={styles.SettingTable}>\n\n            <thead>\n              <tr>\n                <th></th>\n                <th>Color</th>\n                <th>Thickness</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>Axis</td>\n                <td><AxisColor/></td>\n                <td><AxisWidth/></td>\n              </tr>\n\n              <tr>\n                <td>Grid</td>\n                <td><GridColor/></td>\n                <td><GridWidth/></td>\n              </tr>\n\n              <tr>\n                <td colSpan=\"2\">Label Font Size</td>\n                <td><LabelFontSize /></td>\n              </tr>\n\n              <tr>\n                <td colSpan='3' >\n                  <div style={{margin: '5mm 0'}}>\n                    <span>Editing style for </span>\n                    <select onChange={this.changeStyle} value={this.state.style}>\n                      <option value='geom'>geometry</option>\n                      <option value='xy-plot'>xy-plot</option>\n                    </select>\n                  </div>\n                </td>\n              </tr>\n\n              {this.renderStyleSettings()}\n\n              \n            </tbody>\n\n          </table>\n        </div>\n        <div className={styles.Preview}>\n          <div className='document preview-area'>\n            {this.renderPreview()}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  resetGraphStyle: () => dispatch(resetGraphStyle()),\n})\n\nexport default connect(null, mapDispatchToProps)(GraphSettings)","import GraphSettings from './GraphSettings'\n\nexport default GraphSettings","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setPageMargin } from 'actions/style'\n\nconst MarginOptions = [\n  '.25',\n  '.5',\n  '.75',\n  '1.0',\n]\n\nclass SetPageMargin extends React.Component {\n  static defaultProps = {\n    unit: 'in',\n  }\n\n  static propTypes = {\n    current: PropTypes.string.isRequired,\n    setPageMargin: PropTypes.func.isRequired,\n  }\n\n  setPageMargin(margin) {\n    this.props.setPageMargin(margin)\n  }\n\n  updateFromSelection = (evt) => {\n    const m = evt.target.value + this.props.unit\n    this.setPageMargin(m)\n  }\n\n  render() {\n    return (\n      <select\n        onChange={this.updateFromSelection}\n        value={parseFloat(this.props.current)}\n      >\n        {MarginOptions.map((m) => (\n          <option key={m} value={parseFloat(m)}>{m} {this.props.unit}</option>\n        ))}\n      </select>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.style.pageMargin,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setPageMargin: (m) => dispatch(setPageMargin(m))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SetPageMargin)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setPageSize } from 'actions/style'\n\nclass PageSize extends React.Component {\n\n  setPageSize = evt => {\n    const pageSize = evt.target.value\n    this.props.setPageSize(pageSize)\n  }\n\n  render() {\n    return (\n      <select\n        value={this.props.current}\n        onChange={this.setPageSize}\n      >\n      {['A3', 'A4', 'A5', 'legal', 'letter'].map(p => (\n        <option key={p} value={p}>{p}</option>\n      ))}\n      </select>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({current: state.style.pageSize})\nconst mapDispatchToProps = dispatch => ({setPageSize: size => dispatch(setPageSize(size))})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PageSize)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setPageMargin } from 'actions/style'\n\n\nfunction unitProps(units) {\n  if (units === 'in') return {max: 1.5, step: 0.01}\n  if (units === 'cm') return {max: 3.5, step: 0.01}\n  if (units === 'mm') return {max: 35, step: 0.1}\n}\n\nfunction inputProps(units) {\n  return Object.assign({\n    min: 0, \n    style: {minWidth: '5em'}, \n  }, unitProps(units))\n}\n\nfunction fromMM(value, units) {\n  if (units === 'cm') return value / 10\n  if (units === 'in') return value / 25.4\n  if (units === 'mm') return value\n}\n\nfunction toMM(value, units) {\n  if (units === 'cm') return value * 10\n  if (units === 'in') return value * 25.4\n  if (units === 'mm') return value\n}\n\nfunction convert(value, from, to) {\n  if (from === to) return value\n  return fromMM(toMM(value, from), to)\n}\n\nfunction convertStr(s, to) {\n  const units = s.slice(-2)\n  return convert(parseFloat(s), units, to)\n}\n\n\nclass PageMargins extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {...this.props}\n  }\n\n  setMargins = (m={}) => {\n    const {top, right, bottom, left, units} = {...this.state, ...m}\n    const pageMargin = [top+units, right+units, bottom+units, left+units].join(' ')\n    this.props.setPageMargin(pageMargin)\n    this.setState({top, right, bottom, left, units})\n  }\n  setUnits = evt => {\n    const from = this.state.units\n    const units = evt.target.value\n    const newValues = {}\n    for (const m of ['top', 'right', 'bottom', 'left']) {\n      const v = parseFloat(this.state[m])\n      const rounder = units === 'mm' ? 10 : 100\n      newValues[m] = Math.round(rounder * convert(v, from, units)) / rounder\n    }\n    this.setState({units, ...newValues})\n  }\n  setTop = evt => {\n    const top = evt.target.value\n    this.setMargins({top})\n  }\n  setRight = evt => {\n    const right = evt.target.value\n    this.setMargins({right})\n  }\n  setBottom = evt => {\n    const bottom = evt.target.value\n    this.setMargins({bottom})\n  }\n  setLeft = evt => {\n    const left = evt.target.value\n    this.setMargins({left})\n  }\n\n  render() {\n    return (\n      <>\n      <span>Units: </span>\n      <select value={this.state.units} onChange={this.setUnits}>\n        <option value=\"mm\">millimeters</option>\n        <option value=\"cm\">centimeters</option>\n        <option value=\"in\">inches</option>\n      </select>\n      <table>\n        <tbody>\n          <tr>\n            <td/>\n            <td>\n              Top\n              <br/>\n              <input type=\"number\" \n                value={this.state.top} \n                onChange={this.setTop} \n                {...inputProps(this.state.units)}\n              />\n              </td>\n            <td/>\n          </tr>\n          <tr>\n            <td>\n              Left\n              <br/>\n              <input type=\"number\" \n                value={this.state.left} \n                onChange={this.setLeft}\n                {...inputProps(this.state.units)}\n              />\n            </td>\n            <td/>\n            <td>\n              Right\n              <br/>\n              <input type=\"number\" \n                value={this.state.right} \n                onChange={this.setRight}\n                {...inputProps(this.state.units)}\n              />\n            </td>\n          </tr>\n          <tr>\n            <td/>\n            <td>\n              Bottom\n              <br/>\n              <input type=\"number\" \n                value={this.state.bottom} \n                onChange={this.setBottom}\n                {...inputProps(this.state.units)}\n              />\n            </td>\n            <td/>\n          </tr>\n        </tbody>\n      </table>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  const margins = state.style.pageMargin.split(' ')\n  let top, right, bottom, left\n  if (margins.length === 1) {\n    top = margins[0]\n    right = top\n    bottom = top\n    left = top\n  } else if (margins.length === 2) {\n    [top, right] = margins\n    bottom = top\n    left = right\n  } else {\n    [top, right, bottom, left] = margins\n  }\n  const units = left.slice(-2)\n\n  return {\n    top: +convertStr(top, units),\n    right: +convertStr(right, units),\n    bottom: +convertStr(bottom, units),\n    left: +convertStr(left, units),\n    units,\n  }\n}\nconst mapDispatchToProps = dispatch => ({setPageMargin: m => dispatch(setPageMargin(m))})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PageMargins)","import PageMargin from \"./PageMargin\"\nimport PageSettings from './PageSettings'\n\nexport {\n  PageMargin,\n  PageSettings\n}\n\nexport default PageSettings","import React from 'react'\nimport PageSize from './PageSize'\nimport PageMargins from './PageMargins'\n\nconst PageSettings = props => {\n  return (\n    <div>\n      <h4>Page Size</h4>\n      <PageSize/> (printing is buggy for sizes other than letter)\n      <h4>Margins</h4>\n      <PageMargins/>\n    </div>\n  )\n}\n\nexport default PageSettings","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setDebugView } from 'actions/config'\n\nclass GUImode extends React.Component {\n\n  update = evt => {\n    const debugView = evt.target.checked\n    if (debugView !== this.props.debugView) {\n      this.props.setDebugView(debugView)\n    }\n  }\n\n  render() {\n    return (\n      <div style={{fontSize: '0.8em'}}>\n      <div>\n        <input id=\"layout-on-hover-checkbox\"\n          type=\"checkbox\"\n          checked={this.props.debugView}\n          onChange={this.update}/>\n        <label htmlFor=\"layout-on-hover-checkbox\">\n          Layout on Hover\n        </label>\n      </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  debugView: state.config.debugView,\n})\nconst mapDispatchToProps = dispatch => ({\n  setDebugView: b => dispatch(setDebugView(b)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GUImode)","import React from 'react'\nimport PropTypes from 'prop-types'\n\nclass PreviewZoom extends React.Component {\n  static propTypes = {\n    defaultValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    values: PropTypes.arrayOf(PropTypes.number),\n    type: PropTypes.string.isRequired,\n    min: PropTypes.number,\n    max: PropTypes.number,\n    step: PropTypes.number,\n    options: PropTypes.arrayOf(PropTypes.number),\n  }\n\n  static defaultProps = {\n    defaultValue: 100,\n    type: 'input',\n    min: 30,\n    max: 200,\n    step: 10,\n    options: [25, 50, 75, 100, 125, 150, 175, 200],\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = { zoom: props.defaultValue }\n  }\n\n  setZoom() {\n    const perc = this.state.zoom\n    const scale = perc / 100.0\n    const transform = `matrix(${[scale, 0, 0, scale, 0, 0].join(',')})`\n    document.documentElement.style.setProperty('--previewInnerTransform', transform)\n  }\n\n  updateState = evt => {\n    const zoom = +evt.target.value\n    this.setState({ zoom })\n  }\n\n  zoomIn = () => {\n    const zoom = Math.min(+this.state.zoom + this.props.step, this.props.max)\n    this.setState({ zoom })\n  }\n\n  zoomOut = () => {\n    const zoom = Math.max(+this.state.zoom - this.props.step, this.props.min)\n    this.setState({ zoom })\n  }\n\n  componentDidMount() {\n    this.setZoom()\n  }\n\n  componentDidUpdate() {\n    this.setZoom()\n  }\n\n  renderInput() {\n    return (\n      <input\n        type=\"number\"\n        min={this.props.min}\n        max={this.props.max}\n        step={this.props.step}\n        value={this.state.zoom}\n        onChange={this.updateState}\n      ></input>\n    )\n  }\n\n  renderSelect() {\n    return (\n      <select\n        value={this.state.zoom}\n        onChange={this.updateState}>\n        {this.props.options.map((z) => <option key={`zoom-option-${z}`} value={z}>{z}</option>)}\n      </select>\n    )\n  }\n\n  renderButtons() {\n    return (\n      <>\n        <button onClick={this.zoomOut}>-</button>\n        <button onClick={this.zoomIn}>+</button>\n      </>\n    )\n  }\n\n  render() {\n    if (this.props.type === 'input') {\n      return this.renderInput()\n    }\n    if (this.props.type === 'select') {\n      return this.renderSelect()\n    }\n    if (this.props.type === 'buttons') {\n      return this.renderButtons()\n    }\n  }\n}\n\nexport default PreviewZoom","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setUITheme } from 'actions/config'\n\nclass UIThemeSetter extends React.Component {\n\n  setTheme = evt => {\n    const theme = evt.target.value\n    this.props.setUITheme(theme)\n  }\n\n  render() {\n    return (\n      <select value={this.props.theme}\n        onChange={this.setTheme}\n      >\n        <option value=\"none\">None</option>\n        <option value=\"dark\">Dark</option>\n        <option value=\"light\">Light</option>\n      </select>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  theme: state.config.uiTheme,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setUITheme: theme => dispatch(setUITheme(theme)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UIThemeSetter)","import GUImode from './GUImode'\nimport PreviewZoom from './PreviewZoom'\nimport UITheme from './UITheme'\nimport UISettings from './UISettings'\n\nexport {\n  GUImode,\n  PreviewZoom,\n  UISettings,\n  UITheme,\n}\n\nexport default UISettings","import React from 'react'\nimport UITheme from './UITheme'\n\nclass UISettings extends React.Component {\n\n  render() {\n    return (\n      <>\n        <span>Theme: </span><UITheme/>\n      </>\n    )\n  }\n}\n\nexport default UISettings","import React from 'react'\nimport FontSettings from './Font'\nimport GraphSettings from './Graph'\nimport PageSettings from './Page'\nimport UISettings from './UI'\nimport styles from './styles.module.css'\n\n\nclass SettingsPage extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {showing: 'font'}\n  }\n\n  showFontSettings = () => this.setState({showing: 'font'})\n  showGraphSettings = () => this.setState({showing: 'graph'})\n  showPageSettings = () => this.setState({showing: 'page'})\n  showUISettings = () => this.setState({showing: 'ui'})\n\n  renderSettings() {\n    switch (this.state.showing) {\n      case 'font': return <FontSettings/>\n      case 'graph': return <GraphSettings/>\n      case 'page': return <PageSettings/>\n      case 'ui': return <UISettings />\n      default: return null\n    }\n  }\n\n  render() {\n    return (\n      <div className={styles.SettingPage}>\n        <div className={styles.LeftBar}>\n          <div>\n            <span className={styles.Title}>Settings</span>\n          </div>\n          \n          <div className={styles.NavArea}>\n            <div\n              className={styles.NavButton}\n              onClick={this.showFontSettings}\n              status={this.state.showing === 'font' ? 'active' : undefined}\n            >Fonts</div>\n            <div\n              className={styles.NavButton}\n              onClick={this.showGraphSettings}\n              status={this.state.showing === 'graph' ? 'active' : undefined}\n            >Graphs</div>\n            <div\n              className={styles.NavButton}\n              onClick={this.showUISettings}\n              status={this.state.showing === 'ui' ? 'active' : undefined}\n            >Interface</div>\n            <div\n              className={styles.NavButton}\n              onClick={this.showPageSettings}\n              status={this.state.showing === 'page' ? 'active' : undefined}\n            >Page</div>\n          </div>\n\n          <div>\n            <button onClick={this.props.onRequestClose}>Close</button>\n          </div>\n          \n        </div>\n        \n        <div className={styles.SettingSection}>\n          {this.renderSettings()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default SettingsPage","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setAllowEditing } from 'actions/config'\n\nclass AllowEditing extends React.Component {\n  static propTypes = {\n    current: PropTypes.bool.isRequired,\n    setAllowEditing: PropTypes.func.isRequired,\n  }\n\n  toggle = (evt) => {\n    if (evt.target.checked) {\n      this.props.setAllowEditing(true)\n    } else {\n      this.props.setAllowEditing(false)\n    }\n  }\n\n  render() {\n    return (\n      <input\n        id=\"allow-editing-checkbox\"\n        onChange={this.toggle}\n        type='checkbox' \n        checked={this.props.current}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.config.allowEditing,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setAllowEditing: (b) => dispatch(setAllowEditing(b)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AllowEditing)","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { setShowAnswerKey } from 'actions/config'\n\n\nclass AnswerKeyToggle extends React.Component {\n  static propTypes = {\n    current: PropTypes.bool.isRequired,\n    setShowAnswerKey: PropTypes.func.isRequired,\n  }\n\n  toggle = (evt) => {\n    if (evt.target.checked) {\n      this.props.setShowAnswerKey(true)\n    } else {\n      this.props.setShowAnswerKey(false)\n    }\n  }\n\n  render() {\n    return (\n      <input\n        id=\"show-answer-key-checkbox\"\n        onChange={this.toggle}\n        type='checkbox' \n        checked={this.props.current}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.config.showAnswerKey,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setShowAnswerKey: (bool) => dispatch(setShowAnswerKey(bool)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AnswerKeyToggle)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { fixPagination, decreaseHiddenCount } from 'actions/document'\n\nclass FixPagination extends React.Component {\n  static propTypes = {\n    hidden: PropTypes.number.isRequired,\n    decreaseHiddenCount: PropTypes.func.isRequired,\n    fixPagination: PropTypes.func.isRequired,\n  }\n\n  check() {\n    setTimeout(() => {\n      if (this.props.hidden > 0) {\n        this.props.decreaseHiddenCount()\n      }\n    }, 20)\n  }\n\n  componentDidMount() {\n    this.check()\n  }\n\n  componentDidUpdate() {\n    this.check()\n  }\n\n  render() {\n    return (\n      <button onClick={this.props.fixPagination}>Fix Pagination</button>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  hidden: state.document.numberHidden,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  decreaseHiddenCount: () => dispatch(decreaseHiddenCount()),\n  fixPagination: () => dispatch(fixPagination()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FixPagination)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setDocumentStartNumbering } from 'actions/document'\n\nclass StartNumbering extends React.Component {\n\n  setCSSVariable(n) {\n    document.body.style.setProperty('--doc-startnumber', n-1)\n  }\n\n  setNumbering = evt => {\n    const startat = evt.target.value\n    if (startat) {\n      this.setCSSVariable(startat)\n      this.props.setDocumentStartNumbering(startat)\n    }\n  }\n\n  render() {\n    return (\n      <input \n        onChange={this.setNumbering}\n        type='number' \n        min='1'\n        value={this.props.current}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.document.startNumbering,\n})\nconst mapDispatchToProps = dispatch => ({\n  setDocumentStartNumbering: (n) => dispatch(setDocumentStartNumbering(n)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StartNumbering)","import SettingsPage from './SettingsPage'\n\nimport { FontFamily, FontSize, AddLocalFont, FontFamilyUI } from './Font'\nimport AllowEditingToggle from './AllowEditing'\nimport AnswerKeyToggle from './AnswerKeyToggle'\nimport FixPagination from './FixPagination'\nimport { GUImode, PreviewZoom } from './UI'\nimport { PageMargin } from './Page'\nimport StartNumbering from './StartNumbering'\n\nexport {\n  AddLocalFont,\n  AllowEditingToggle,\n  AnswerKeyToggle,\n  FixPagination,\n  FontFamily,\n  FontFamilyUI,\n  FontSize,\n  GUImode,\n  PageMargin,\n  PreviewZoom,\n  StartNumbering,\n}\n\nexport default SettingsPage","import React from 'react'\nimport ReactModal from 'react-modal'\nimport SettingsPage from '../Settings'\nimport styles from './styles.module.css'\n\nconst SettingsModal = props => (\n  <ReactModal\n    className={styles.FullModal}\n    isOpen={props.isOpen}\n    onRequestClose={props.onRequestClose}\n  >\n    <SettingsPage onRequestClose={props.onRequestClose}/>\n  </ReactModal>\n)\n\nexport default SettingsModal","export const ADD_GENERATOR = 'ADD_GENERATOR'\nexport const UPDATE_GENERATOR_DEFAULTS = 'UPDATE_GENERATOR_DEFAULTS'\n\nexport const addGenerator = ({id, generator, info, params, defaultParams}) => ({\n  type: ADD_GENERATOR,\n  payload: {id, generator, info, params, defaultParams}\n})\n\nexport const updateGeneratorDefaults = ({id, defaultParams}) => ({\n  type: UPDATE_GENERATOR_DEFAULTS,\n  payload: {id, defaultParams}\n})","import React from 'react'\nimport { connect } from 'react-redux'\nimport { isEqual } from 'constants/lodash'\nimport { updateGeneratorDefaults } from 'actions/generators'\nimport styles from './styles.module.css'\n\nclass SetGeneratorParams extends React.Component {\n  static defaultProps = {\n    onChange: () => null,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {defaultParams: props.defaultParams}\n    //if (!props.params) {\n    //  console.log(\"There are no options to set for this type of question\")\n    //  props.onRequestClose()\n    //}\n  }\n\n  setParam(k, v) {\n    const { type } = this.props.params[k]\n    if (type === 'multiple-select') {\n      const {val, checked} = v\n      if (!checked) {\n        const {minSelections=0} = this.props.params[k]\n        let count = 0\n        for (const opt in this.state.defaultParams[k]) {\n          if (this.state.defaultParams[k][opt]) {\n            count += 1\n          }\n        }\n        if (count <= minSelections) {\n          console.log(`${k} must have at least ${minSelections} options selected`)\n          return\n        }\n      }\n      this.setState({\n        defaultParams: {\n          ...this.state.defaultParams, \n          [k]: {\n            ...this.state.defaultParams[k],\n            [val]: checked,\n          }\n        }\n      })\n    }\n    else {\n      this.setState({defaultParams: {...this.state.defaultParams, [k]: v}})\n    }\n  }\n\n  renderParamSetter(k) {\n    const props = this.props.params[k]\n    const paramLabel = props.label === undefined ? k : props.label\n    const key = `set-default-parameter-${k}`\n    const currentValue = this.state.defaultParams[k]\n    if (props.type === 'select') {\n      return (\n        <div key={key} className={styles.Param + ' ' + styles.ParamSelect}>\n          <label htmlFor={key} >{paramLabel}</label>\n          <select id={key} value={currentValue}\n            onChange={evt => this.setParam(k, evt.target.value)}\n          >\n            {props.options.map(o => {\n              const value = o.value === undefined ? o : o.value\n              const label = o.label === undefined ? o : o.label\n              return <option key={value} value={value}>{label}</option>\n            })}\n          </select>\n        </div>\n      )\n    }\n    if (props.type === 'boolean') {\n      return (\n        <div key={key} className={styles.Param + ' ' + styles.ParamBoolean}>\n          <label htmlFor={key}>{paramLabel}</label>\n          <input id={key} type=\"checkbox\" checked={currentValue}\n            onChange={evt => this.setParam(k, evt.target.checked)}\n          />\n        </div>\n      )\n    }\n    if (props.type === 'multiple-select') {\n      return (\n        <div key={key} className={styles.Param + ' ' + styles.ParamMultipleSelect}>\n          <label htmlFor={key}>{paramLabel}</label>\n          {props.options.map(o => {\n            const value = o.value === undefined ? o : o.value\n            const label = o.label === undefined ? o : o.label\n            const current = currentValue[value]\n            const optId = `${key}.${value}`\n            return (\n              <div key={value} className={styles.ParamMultipleSelectOption}>\n                <input type=\"checkbox\" id={optId}\n                  checked={current}\n                  onChange={evt => this.setParam(k, {val: value, checked: evt.target.checked})}\n                />\n                <label htmlFor={optId}>{label}</label>\n              </div>\n            )\n          })}\n        </div>\n      )\n    }\n  }\n\n  submit = () => {\n    const didChange = !(isEqual(this.state.defaultParams, this.props.defaultParams))\n    if (didChange) {\n      this.props.onChange()\n      this.props.updateGeneratorDefaults({\n        id: this.props.id, \n        defaultParams: this.state.defaultParams\n      })\n    }\n    this.props.onRequestClose()\n  }\n\n  render() {\n    const paramKeys = []\n    for (const k in this.props.params) {\n      paramKeys.push(k)\n    }\n    return (\n      <div className={styles.ParamSetter}>\n        {paramKeys.map(k => this.renderParamSetter(k))}\n        <button onClick={this.submit}>Apply</button>\n        <button onClick={this.props.onRequestClose}>Cancel</button>\n      </div>\n    )\n  }\n}\n\n\nconst mapStateToProps = state => {\n  const id = state.uistate.generatorSelection\n  return ({\n    id: id,\n    params: state.generators.params[id],\n    defaultParams: state.generators.defaultParams[id],\n  })\n}\nconst mapDispatchToProps = dispatch => ({\n  updateGeneratorDefaults: ({id, defaultParams}) => dispatch(updateGeneratorDefaults({id, defaultParams})),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SetGeneratorParams)","import React from 'react'\nimport SetGeneratorParams from '../GeneratorMenu/SetGeneratorParams'\nimport ReactModal from 'react-modal'\nimport styles from './styles.module.css'\n\nconst SetGeneratorDefaultsPopup = props => {\n  return (\n    <ReactModal \n      className={styles.Popup}\n      isOpen={props.isOpen}\n      onRequestClose={props.onRequestClose}\n    >\n    <div style={{\n      margin: '0',\n      overflowY: 'scroll',\n      padding: '1em',\n      maxHeight: '90vh',\n    }}>\n      <SetGeneratorParams \n        onRequestClose={props.onRequestClose}\n        onChange={props.onChange}\n      />\n    </div>\n    </ReactModal>\n  )\n}\n\nexport default SetGeneratorDefaultsPopup","import ReactModal from 'react-modal'\n\nfunction setstyle()  {\n  ReactModal.setAppElement('#root')\n  Object.assign(ReactModal.defaultStyles.content, {\n    borderRadius: '4px',\n    borderColor: 'var(--ui-border-1, #999)',\n    background: 'var(--ui-bg-1, #eee)',\n    padding: '5mm',\n    top: '10px',\n    left: '10px',\n    right: '10px',\n    bottom: '10px',\n  })\n  Object.assign(ReactModal.defaultStyles.overlay, {\n    background: 'rgba(10,10,10,0.3)',\n  })\n}\n\nexport default setstyle","import React from 'react'\nimport { connect } from 'react-redux'\nimport { closeModal, closePopup } from 'actions/uistate'\nimport AddFontPopup from './AddFontPopup'\nimport CustomQuestionModal from './CustomQuestionModal'\nimport EditElementModal from './EditElementModal'\nimport ImportModal from './ImportModal'\nimport NotesModal from './NotesModal'\nimport PracticeModal from './PracticeModal'\nimport PresentationModal from './PresentationModal'\nimport SavePopup from './SavePopup'\nimport SettingsModal from './SettingsModal'\nimport SetGeneratorDefaultsPopup from './SetGeneratorDefaultsPopup'\nimport modalsetup from './modalsetup'\n\nmodalsetup()\n\nexport {\n  AddFontPopup,\n  CustomQuestionModal,\n  EditElementModal,\n  ImportModal,\n  NotesModal,\n  PracticeModal,\n  PresentationModal,\n  SavePopup,\n  SetGeneratorDefaultsPopup,\n  SettingsModal,\n}\n\n// There are two layers - popups will show up on top of modals\n\nexport const modalMap = {\n  customQuestion: CustomQuestionModal,\n  editor: EditElementModal,\n  import: ImportModal,\n  notes: NotesModal,\n  save: SavePopup,\n  settings: SettingsModal,\n  practice: PracticeModal,\n  presentation: PresentationModal,\n}\n\nexport const popupMap = {\n  addFont: AddFontPopup,\n  generatorParams: SetGeneratorDefaultsPopup,\n}\n\nexport const AppModals = props => {\n  const {currentModal, currentPopup, closeModal, closePopup} = props\n  return (\n    <>\n      {Object.keys(modalMap).map(k => {\n        const Modal = modalMap[k]\n        return (\n          <Modal key={k} isOpen={currentModal === k} onRequestClose={closeModal}/>\n      )})}\n      {Object.keys(popupMap).map(k => {\n        const Modal = popupMap[k]\n        return (\n          <Modal key={k} isOpen={currentPopup === k} onRequestClose={closePopup}/>\n      )})}\n    </>\n  )\n}\n\nconst mapStateToProps = state => ({\n  currentModal: state.uistate.modal,\n  currentPopup: state.uistate.popup,\n})\nconst mapDispatchToProps = dispatch => ({\n  closeModal: () => dispatch(closeModal()),\n  closePopup: () => dispatch(closePopup()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AppModals)","import { modalMap, popupMap } from 'containers/Modals'\n\nexport const OPEN_MODAL = 'OPEN_MODAL'\nexport const OPEN_POPUP = 'OPEN_POPUP'\nexport const CLOSE_MODAL = 'CLOSE_MODAL'\nexport const CLOSE_POPUP = 'CLOSE_POPUP'\nexport const UPDATE_GENERATOR_SELECTION = 'UPDATE_GENERATOR_SELECTION'\nexport const SET_SELECTED_ELEMENT = 'SET_SELECTED_ELEMENT'\n\n\nexport const openModal = modal => {\n  if (modalMap[modal]) {\n    return ({\n      type: OPEN_MODAL,\n      payload: modal\n    })\n  }\n  if (popupMap[modal]) {\n    return ({\n      type: OPEN_POPUP,\n      payload: modal\n    })\n  }\n}\nexport const openPopup = popup => {\n  if (popupMap[popup]) {\n    return ({\n      type: OPEN_POPUP,\n      payload: popup\n    })\n  }\n}\nexport const closeModal = () => ({type: CLOSE_MODAL})\nexport const closePopup = () => ({type: CLOSE_POPUP})\n\nexport const updateGeneratorSelection = id => ({\n  type: UPDATE_GENERATOR_SELECTION,\n  payload: id\n})\n\nexport const setSelectedElement = id => ({\n  type: SET_SELECTED_ELEMENT,\n  payload: id,\n})","import React from 'react'\nimport { connect } from 'react-redux'\nimport { renderObject, parseObject } from 'rendering'\nimport { openModal, setSelectedElement } from 'actions/uistate'\n\n\nconst TopLevelElement = props => {\n\n  const divprops = {}\n  const classNames = []\n  if (props.canEdit) {\n    classNames.push('editable')\n    divprops.onDoubleClick = () => {\n      props.setSelectedElement(props.id);\n      props.openEditor()\n    }\n  }\n  if (props.columns) {\n    const elemprops = parseObject(props.data).props\n    if (elemprops.options && elemprops.options.singleColumn) {\n      classNames.push('single-column')\n    }\n  }\n\n  if (classNames.length) {\n    divprops.className = classNames.join(' ')\n  }\n  return (\n    <div {...divprops}>\n      {renderObject(props.data)}\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  canEdit: state.config.allowEditing,\n  columns: state.style.columns,\n})\nconst mapDispatchToProps = dispatch => ({\n  openEditor: () => dispatch(openModal('editor')),\n  setSelectedElement: id => dispatch(setSelectedElement(id)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TopLevelElement)","// Sizes from papercss, measurements in mm\n\nexport const portrait = {\n  A3: { width: 297, height: 419 },\n  A4: { width: 210, height: 296 },\n  A5: { width: 148, height: 209 },\n  letter: { width: 216, height: 279 },\n  //letter: { width: 216, height: 130 },\n  legal: { width: 216, height: 356 },\n}\n\nexport const landscape = {\n  A3: { width: 420, height: 296 },\n  A4: { width: 297, height: 209 },\n  A5: { width: 210, height: 147 },\n  letter: { width: 280, height: 215 },\n  legal: { width: 357, height: 215 },\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { addPageBreakBefore } from '../../actions/document'\nimport TopLevelElement from './TopLevelElement'\nimport { portrait, landscape } from './pagesize'\n\n\n\nclass MeasuredPage extends React.Component {\n  static propTypes = {\n    headerID: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    footerID: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    contentIDs: PropTypes.array.isRequired,\n    content: PropTypes.object.isRequired,\n    pageSize: PropTypes.string.isRequired,\n    pageOrientation: PropTypes.string.isRequired,\n    pageMargin: PropTypes.string.isRequired,\n    addPageBreakBefore: PropTypes.func.isRequired,\n    pageNumber: PropTypes.number,\n  }\n\n  static defaultProps = {\n    contentIDs: [],\n    pageSize: 'letter',\n    pageOrientation: 'portrait',\n    pageMargin: '10mm 10mm 10mm 10mm',\n  }\n\n  constructor(props) {\n    super(props)\n    this.inner = React.createRef()\n    this.outer = React.createRef()\n    this.state = {overflows: false}\n  }\n\n  innerH = () => this.inner.current.clientHeight\n  outerH = () => this.outer.current.clientHeight\n  overflows = () => this.innerH() > this.outerH()\n\n  componentDidUpdate() {\n    const oldstate = this.state.overflows\n    const newstate = this.overflows()\n    if (oldstate !== newstate) {\n      if (newstate) {\n        this.onOverflow()\n      }\n      this.setState({overflows: newstate})\n      this.forceUpdate()\n    }\n  }\n\n  onOverflow() {\n    if (this.props.autoPaginate) {\n      this.props.addPageBreakBefore(+this.props.contentIDs[this.props.contentIDs.length-1].split('.')[1])\n    }\n  }\n\n  getPageSize()  {\n    if (this.props.pageOrientation === 'landscape') {\n      return landscape[this.props.pageSize]\n    } else {\n      return portrait[this.props.pageSize]\n    }\n  }\n\n  getOuterStyle() {\n    const {width, height} = this.getPageSize()\n    return {width: `${width}mm`, height: `${height}mm`}\n  }\n\n  getInnerStyle() {\n    return {\n      height: 'fit-content',\n      margin: '0',\n      padding: this.props.pageMargin,\n    }\n  }\n\n  getHeaderID() {\n    if (this.props.pageNumber in this.props.header) {\n      return this.props.pageNumber\n    }\n    return 0\n  }\n\n  render() {\n    let outerclassname = (\n      this.state.overflows \n      ? 'page-outer page-overflowing' \n      : 'page-outer'\n    )\n\n    const outerstyle = this.getOuterStyle()\n    const innerstyle = this.getInnerStyle()\n    const headerID = this.getHeaderID()\n\n    return (\n      <div className={outerclassname} ref={this.outer} style={outerstyle}>\n        <div className='page-inner' ref={this.inner} style={innerstyle}>\n          <TopLevelElement key={headerID}\n            id={`header.${headerID}`}\n            data={this.props.header[headerID]}\n          />\n          <div className='page-content'>\n            {this.props.contentIDs.map((id) => {\n              const contentID = id.split('.')[1]\n              const data = this.props.content[+contentID]\n              return (\n                <TopLevelElement key={id}\n                  data={data}\n                  id={id}\n                />\n              )\n            })}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  header: state.document.header,\n  footer: state.document.footer,\n  content: state.document.content,\n  pageSize: state.style.pageSize,\n  pageOrientation: state.style.pageOrientation,\n  pageMargin: state.style.pageMargin,\n  autoPaginate: state.config.autoPaginate,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  addPageBreakBefore: (id) => dispatch(addPageBreakBefore(id)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MeasuredPage)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { portrait, landscape } from './pagesize'\n\nconst Page = props => {\n  const {width, height} = props.orientation === 'landscape'\n    ? landscape[props.size]\n    : portrait[props.size]\n  const outerStyle = {\n    width: `${width}mm`, \n    height: `${height}mm`,\n    //padding: '0',\n  }\n  const innerStyle = {\n    margin: '0',\n    height: '100%',\n    padding: props.margin,\n    overflow: 'hidden',\n  }\n\n  return (\n    <div className='page-outer' style={outerStyle}>\n      <div className='page-inner' style={innerStyle}>\n        {props.children}\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  size: state.style.pageSize,\n  orientation: state.style.pageOrientation,\n  margin: state.style.pageMargin,\n})\n\nexport default connect(mapStateToProps)(Page)","import React from 'react'\nimport { connect } from 'react-redux'\nimport Page from './Page'\nimport { RenderComponent } from 'rendering'\n\n\nconst AnswerKey = (props) => {\n  return (\n    <Page>\n      <h3>Answer Key</h3>\n      <div className='answerkey'>\n        {props.contentIDs.map(id => {\n          const element = props.content[id]\n          if (element[0] === 'NumberedQuestion') {\n            return (\n              <div key={`answer-${id}`} className='answerkey-item'>\n                <RenderComponent data={['AnswerKey', ...element.slice(1)]} />\n              </div>\n            )\n          } else {\n            return null\n          }\n        })}\n      </div>\n    </Page>\n  )\n}\n\nconst mapStateToProps = state => ({\n  contentIDs: state.document.order,\n  content: state.document.content\n})\n\nexport default connect(mapStateToProps)(AnswerKey)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { round, range } from 'constants/lodash'\nimport { RenderComponent, renderObject } from 'rendering'\n\nfunction anchoredRange(start, end, step, anchor=0) {\n  if (start < anchor && end > anchor) {\n    return [...range(-anchor-step, -start+step, step).map(n => -n).reverse(), ...range(anchor, end+step, step)]\n  }\n  if (anchor < start) {\n    return range(anchor, end+step, step).filter(n => n >= start)\n  }\n  if (anchor > end) {\n    return range(-anchor, -start+step).reverse().map(n => -n).filter(n => n <= end)\n  }\n}\n\n\nfunction makeGrid(props) {\n  const { scale, domain, values, step, gridColor, gridOpacity, gridWidth } = props\n  \n  return {\n    scale,\n    orient: {x: 'bottom', y: 'left'}[scale],\n    domain: false,\n    values: values ? values : step ? anchoredRange(domain[0], domain[1], step, 0) : undefined,\n    labels: false,\n    ticks: false,\n    tickCount: domain[1] - domain[0] + 1,\n    grid: true,\n    gridColor,\n    gridOpacity,\n    gridWidth,\n  }\n}\n\nfunction makeAxis(props) {\n  const { scale, axisColor, axisOpacity, axisWidth } = props\n  return {\n    scale,\n    orient: scale === 'x' ? 'bottom' : 'left',\n    domain: false,\n    labels: false,\n    ticks: false,\n    values: [0],\n    grid: true,\n    gridColor: axisColor,\n    gridOpacity: axisOpacity,\n    gridWidth: axisWidth,\n  }\n}\n\nfunction makeLabels(props) {\n  const { scale, orient, title, labels=false, gridColor, gridOpacity } = props\n  return {\n    scale,\n    orient,\n    title,\n    ...(labels ? {\n      labels: true,\n      labelOverlap: 'parity',\n      labelPadding: 5,\n      labelSeparation: 50,\n      tickColor: gridColor,\n      tickOpacity: gridOpacity,\n    } : {labels: false, ticks: false})\n  }\n}\n\nfunction makeAxes({\n  domain,\n  range,\n  xTitle,\n  yTitle,\n  xLabels=false,\n  yLabels=false,\n  axis=true,\n  grid=true,\n  axisColor='black',\n  axisOpacity,\n  axisWidth=1,\n  gridColor='#888',\n  gridOpacity,\n  gridWidth=1,\n}) {\n\n  let result = []\n  if (grid) {\n    result.push(makeGrid({scale: 'x', domain: domain, gridColor, gridOpacity, gridWidth}))\n    result.push(makeGrid({scale: 'y', domain: range, gridColor, gridOpacity, gridWidth}))\n  }\n  if (axis) {\n    result.push(makeAxis({scale: 'x', domain: domain, axisColor, axisOpacity, axisWidth}))\n    result.push(makeAxis({scale: 'y', domain: range, axisColor, axisOpacity, axisWidth}))\n  }\n  if (xLabels || xTitle) {\n    result.push(makeLabels({scale: 'x', labels: xLabels, title: xTitle}))\n  }\n  if (yLabels || yTitle) {\n    result.push(makeLabels({scale: 'y', labels: yLabels, title: yTitle}))\n  }\n  return result\n}\n\nfunction makeScales({domain, range}) {\n  return [\n    {\n      name: \"x\",\n      type: \"linear\",\n      domain: domain,\n      range: 'width',\n      zero: true,\n    },\n    {\n      name: \"y\",\n      type: \"linear\",\n      domain: range,\n      range: 'height',\n      zero: true,\n    },\n  ]\n}\n\nfunction makePath(points) {\n  const result = []\n  for (const p of points) {\n    const [x, y] = isArray(p) ? p : [p.x, p.y]\n    result.push({x, y})\n  }\n  return result\n}\n\nconst isArray = Array.isArray\n\nconst VegaTest = props => {\n\n  const {domain=[-10,10], range=[-10,10], width=150, height=150, paths=[]} = props\n  const style = {...props.defaultStyle, ...props.style}\n  const scales = makeScales({domain, range})\n  const axes = makeAxes({...style, domain, range})\n\n  let pathId = 0\n  const thepaths = []\n  for (const path of paths) {\n    const values = makePath(path.points)\n    thepaths.push({id: ++pathId, values, style: path.style})\n  }\n\n  const data = {\n    \"$schema\": \"https://vega.github.io/schema/vega/v4.json\",\n    height,\n    width,\n    padding: 10,\n    data: thepaths.map(p => ({name: p.id, values: p.values})),\n    scales: scales,\n    axes: axes,\n    marks: thepaths.map(p => {\n      const pathstyle = {}\n      for (const k in p.style) {\n        pathstyle[k] = {value: p.style[k]}\n      }\n      return ({\n        type: 'line',\n        from: {data: p.id},\n        encode: {\n          enter: {\n            x: {scale: 'x', field: 'x'},\n            y: {scale: 'y', field: 'y'},\n            ...pathstyle,\n          }\n        }\n      })\n    }),\n  }\n\n  return <RenderComponent data={['Vega', data]} />\n}\n\n\n\nexport default connect(\n  state => ({defaultStyle: state.style.graph})\n)(VegaTest)","import { reduce } from 'constants/lodash'\n\nfunction evaluate(logic, vars) {\n  if (typeof logic === 'string') {\n    return vars[logic]\n  }\n  if (Array.isArray(logic)) {\n    const [op, ...args] = logic\n    if (op === 'Not') {\n      return !evaluate(args[0], vars)\n    }\n    if (op === 'And') {\n      return reduce(args, (a,b) => evaluate(a, vars) && evaluate(b, vars))\n    } \n    if (op === 'Or') {\n      return reduce(args, (a,b) => evaluate(a, vars) || evaluate(b, vars))\n    }\n    if (op === 'Then') {\n      if (evaluate(args[0], vars) && !evaluate(args[1], vars)) {\n        return false\n      }\n      return true\n    }\n    if (op === 'Equiv') {\n      return evaluate(args[0], vars) === evaluate(args[1], vars)\n    }\n    return undefined\n  }\n}\n\nexport default evaluate","const isArray = Array.isArray\n\nfunction getVariables(logic) {\n  if (typeof logic === 'string') {\n    return {[logic]: logic}\n  }\n  if (Array.isArray(logic)) {\n    const args = logic.slice(1)\n    const result = {}\n    for (const x of args) {\n      for (const k in getVariables(x)) {\n        result[k] = k\n      }\n    }\n    return result\n  }\n  return {}\n}\n\nfunction variableList(logic, {sort=true}={}) {\n  const vars = Object.keys(getVariables(logic))\n  if (sort) {\n    return vars.sort()\n  }\n  return vars\n}\n\nfunction addVariableCombos(v, prev=[{}]) {\n  return [\n    ...prev.map(p => ({...p, [v]: true})),\n    ...prev.map(p => ({...p, [v]: false}))\n  ]\n}\n\nfunction allValueCombos(logic) {\n  let result = [{}]\n  for (const v of variableList(logic).reverse()) {\n    result = addVariableCombos(v, result)\n  }\n  return result\n}\n\nfunction getOperations(logic) {\n  if (typeof logic === 'string') {\n    return {}\n  }\n  if (isArray(logic)) {\n    const [op, ...args] = logic\n    const result = {[op]: op}\n    for (const x of args) {\n      for (const k in getOperations(x)) {\n        result[k] = k\n      }\n    }\n    return result\n  }\n}\n\nfunction operationList(logic, {sort=true}={}) {\n  const ops = Object.keys(getOperations(logic))\n  if (sort) return ops.sort()\n  return ops\n}\n\nfunction nodePathList(logic, path=[]) {\n  if (typeof logic === 'string') {\n    return [{path: path.join('.'), logic}]\n  }\n  if (isArray(logic)) {\n    const [op, ...args] = logic\n    if (op === 'Not' && (typeof args[0] === 'string')) {\n      return [{path: path.join('.'), node: logic}]\n    } else {\n      let result = []\n      for (const i in args) {\n        result = result.concat(nodePathList(args[i], [...path, +i+1]))\n      }\n      return result\n    }\n  }\n  return []\n}\n\nexport {\n  allValueCombos,\n  variableList,\n  operationList,\n  nodePathList,\n}","import evaluate from './evaluate'\nimport { allValueCombos, variableList } from './analyze'\n\nfunction truthTable(logic, {empty=false}={}) {\n  const rows = allValueCombos(logic)\n  const letters = variableList(logic, {sort: true})\n  return [\n    'Table', {border: true, align: new Array(letters.length+1).fill('c').join('|')},\n    ['TRow', {header: true}, ...letters.map(l => '$$' + l + '$$'), 'T/F'],\n    ...rows.map(r => {\n      const t = evaluate(logic, r)\n      return [\n        'TRow', {border: 'top'}, \n        ...letters.map(l => r[l] ? 'T' : 'F'),\n        empty ? ['EmptySpace', {height: '7mm', width: '7mm'}] : (t ? 'T' : 'F')\n      ]\n    })\n  ]\n}\n\nexport default truthTable","function latex(logic, {group=false}={}) {\n  if (typeof logic === 'string') {\n    return logic\n  }\n  if (Array.isArray(logic)) {\n    const [op, ...args] = logic\n    if (group && op !== 'Not') {\n      return '\\\\left(' + latex(logic, {group: false}) + '\\\\right)' \n    }\n    const argmap = a => latex(a, {group: true})\n    if (op === 'Not') {\n      return '\\\\lnot ' + argmap(args[0])\n    }\n    if (op === 'And' || op === 'Or') {\n      const joiner = {And: ' \\\\land ', Or: ' \\\\lor '}[op]\n      return args.map(argmap).join(joiner)\n    }\n    if (op === 'Then') {\n      return argmap(args[0]) + ' \\\\implies ' + argmap(args[1])\n    }\n    if (op === 'Equiv') {\n      return argmap(args[0]) + ' \\\\iff ' + argmap(args[1])\n    }\n    console.error('No latex method for ' + logic)\n    return ' ??? '\n  }\n}\n\nexport default latex","import { isEqual } from 'constants/lodash'\nimport { and, or, not } from '.'\nconst isArray = Array.isArray\n\nfunction doubleNegative(logic) {\n  // ~~A >> A\n  try {\n    const [a, [b, c]] = logic\n    if (a === 'Not' && b === 'Not') {\n      return c\n    }\n  } catch(e) {}\n  return logic\n}\n\nfunction deMorgans(logic) {\n  // ~(A & B) >> ~A | ~B\n  // ~(A | B) >> ~A & ~B\n  try {\n    const [a, [b, ...c]] = logic\n    if (a === 'Not') {\n      if (b === 'And') {\n        return or(...c.map(not))\n      }\n      if (b === 'Or') {\n        return and(...c.map(not))\n      }\n    }\n  } catch(e) {}\n  return logic\n}\n\nfunction ifThenToOr(logic) {\n  // A -> B >> ~A | B\n  try {\n    const [a, b, c] = logic\n    if (a === 'Then') {\n      return or(not(b), c)\n    }\n  } catch(e) {}\n  return logic\n}\n\nfunction iffToOr(logic) {\n  // A <=> B >> (A & B) | (~A & ~B)\n  try {\n    const [a, ...b] = logic\n    if (a === 'Equiv') {\n      return or(and(...b), and(...b.map(not)))\n    }\n  } catch(e) {}\n  return logic\n}\n\nfunction combineAnd(logic) {\n  // A & (B & C) => A & B & C\n  try {\n    const [a, ...b] = logic\n    if (a === 'And') {\n      let args = []\n      for (const c of b) {\n        if (isArray(c) && c[0] === 'And') {\n          args = args.concat(c.slice(1))\n        } else {\n          args.push(c)\n        }\n      }\n      return and(...args)\n    }\n  } catch(e) {}\n  return logic\n}\n\nfunction combineOr(logic) {\n  // A | (B | C) >> A | B | C\n  try {\n    const [a, ...b] = logic\n    if (a === 'Or') {\n      let args = []\n      for (const c of b) {\n        if (isArray(c) && c[0] === 'Or') {\n          args = args.concat(c.slice(1))\n        } else {\n          args.push(c)\n        }\n      }\n      return or(...args)\n    }\n  } catch(e) {}\n  return logic\n}\n\nfunction applyRecursively(logic, operation) {\n  const result = operation(logic)\n  if (typeof result === 'string') {\n    return result\n  }\n  if (isArray(result)) {\n    const [op, ...args] = result\n    return [op, ...args.map(a => applyRecursively(a, operation))]\n  }\n}\n\nfunction applyRepeatedly(logic, operation) {\n  let prev\n  let result = logic\n  while (!isEqual(prev, result)) {\n    prev = result\n    result = applyRecursively(result, operation)\n  }\n  return result\n}\n\nfunction simplify(logic, ops={doubleNegative: true, combineAnd: true}) {\n  let prev, result = logic\n  while (!isEqual(prev, result)) {\n    prev = result\n    if (ops.doubleNegative) result = applyRepeatedly(result, doubleNegative)\n    if (ops.ifThen) result = applyRepeatedly(result, ifThenToOr)\n    if (ops.iff) result = applyRepeatedly(result, iffToOr)\n    if (ops.deMorgans) result = applyRepeatedly(result, deMorgans)\n    if (ops.combineAnd) result = applyRepeatedly(result, combineAnd)\n    if (ops.combineOr) result = applyRepeatedly(result, combineOr)\n  }\n  return result\n}\n\nexport default simplify\nexport {\n  deMorgans,\n  doubleNegative,\n  combineAnd,\n  combineOr,\n  iffToOr,\n  ifThenToOr,\n}","import { simplify } from '.'\n\nconst VGAP = 1\nconst HGAP = 1\nconst NODERADIUS = 1.5\nconst isArray = Array.isArray\n/*\nfunction simplifyCircuit(logic) {\n  // simplifies logic to use operations that can be represented with a circuit\n  if (typeof logic === 'string') {\n    return logic\n  }\n  if (isArray(logic)) {\n    const [op, ...args] = logic\n    if (op === 'Not') {\n      const arg = args[0]\n      if (typeof arg === 'string') {\n        return logic\n      }\n      if (isArray(arg)) {\n        const [o, ...a] = arg\n        // De Morgans\n        if (o === 'And') {\n          return simplifyCircuit(or(...a.map(not)))\n        }\n        if (o === 'Or') {\n          return simplifyCircuit(and(...a.map(not)))\n        }\n        if (o === 'Not') {\n          return simplifyCircuit(a[0])\n        }\n        return simplifyCircuit(not(simplifyCircuit(a[0])))\n      }\n    }\n    if (op === 'Then') {\n      return simplifyCircuit(or(not(args[0]), args[1]))\n    }\n    if (op === 'Equiv') {\n      return simplifyCircuit(\n        or(\n          and(...args), \n          and(...args.map(not))\n        )\n      )\n    }\n    return [op, ...args.map(simplifyCircuit)]\n  }\n}\n*/\n\nconst simplifyCircuit = (logic, ops) => simplify(logic, {\n  ifThen: true,\n  iff: true,\n  deMorgans: true,\n  doubleNegative: true,\n  combineAnd: true,\n  combineOr: false,\n  ...ops\n})\n\nfunction requiredSpace(log) {\n  const logic = simplifyCircuit(log)\n  if (typeof logic === 'string') {\n    return {\n      width: 2*NODERADIUS + 2*HGAP, \n      height: 2*NODERADIUS + 2*VGAP, \n      above: NODERADIUS + VGAP, \n      below: NODERADIUS + HGAP,\n    }\n  }\n  if (isArray(logic)) {\n    const [op, ...args] = logic\n    if (op === 'Not') {\n      return {\n        width: 2*NODERADIUS + 2*HGAP, \n        height: 2*NODERADIUS + 2*VGAP, \n        above: NODERADIUS + VGAP, \n        below: NODERADIUS + HGAP,\n      }\n    }\n    if (op === 'And') {\n      let w = 0, a = 0, b = 0, h = 0\n      for (const x of args) {\n        const req = requiredSpace(x)\n        w += req.width\n        if (req.height > h) {\n          h = req.height\n        }\n        if (req.above > a) {\n          a = req.above\n        }\n        if (req.below > b) {\n          b = req.below\n        }\n      }\n      return {width: w, height: h, above: a, below: b}\n    }\n    if (op === 'Or') {\n      let w = 0, h = 0\n      for (const x of args) {\n        const req = requiredSpace(x)\n        if (req.width > w) {\n          w = req.width\n        }\n        h += req.height\n      }\n      w += 2*HGAP\n      //h += (this.args.length - 1)*VGAP\n      return {width: w, height: h, above: h/2, below: h/2}\n    }\n  }\n}\n\nfunction draw(logic, {start={x: 0, y: 0}, availableWidth}={}) {\n  if (typeof logic === 'string') {\n    const {x=0, y=0} = start\n    const extra = availableWidth ? (availableWidth - requiredSpace(logic).width)/2 : 0\n    const cx = x + HGAP + NODERADIUS + extra\n    return [\n      ['Path', {points: `${x},${y} ${cx-NODERADIUS},${y}`}],\n      ['Circle', {cx, cy: y, r: NODERADIUS}],\n      ['Path', {points: `${cx+NODERADIUS},${y} ${x+2*HGAP+2*NODERADIUS+2*extra},${y}`}],\n      ['Overlay', {x: cx, y: .1+y}, '$$' + logic + '$$'],\n    ]\n  }\n  if (isArray(logic)) {\n    const [op, ...args] = logic\n    if (op === 'Not') {\n      if (args.length === 1 && typeof args[0] === 'string') {\n        return draw('\\\\lnot ' + args[0], {start, availableWidth})\n      }\n    }\n    if (op === 'And') {\n      let {x, y} = start\n      const extra = availableWidth ? availableWidth - requiredSpace(logic).width : 0\n      const between = extra / (args.length+1)\n      const connections = [\n        ['Path', {points: [[x, y], [x+between, y]]}]\n      ]\n      x += between\n      let parts = []\n      for (const a of args) {\n        parts = parts.concat(draw(a, {start: {x, y}}))\n        x += requiredSpace(a).width\n        connections.push(['Path', {points: [[x,y], [x+between, y]]}])\n        x += between\n      }\n      return [...connections, ...parts]\n    }\n    if (op === 'Or') {\n      let {x, y} = start\n      const req = requiredSpace(logic)\n      const width = availableWidth ? availableWidth : req.width\n      const extraW = HGAP + (width - req.width)/2\n      const lines = [\n        ['Path', {points: `${x},${y} ${x+extraW},${y}`}],\n        ['Path', {points: `${x+width-extraW},${y} ${x+width},${y}`}]\n      ]\n      x += extraW\n\n      const ys = []\n      y += req.above\n      for (const a of args) {\n        const req2 = requiredSpace(a)\n        y -= req2.above\n        ys.push(y)\n        y -= req2.below\n        //y -= VGAP\n      }\n      lines.push(['Path', {\n          points: [\n            [x, ys[0]], \n            [x, ys[ys.length-1]],\n          ],\n      }])\n      let parts = []\n      for (let i = 0; i < args.length; i++) {\n        parts = parts.concat(draw(args[i], {\n          start: {x, y: ys[i]}, \n          availableWidth: width - 2*extraW\n        }))\n      }\n      x += width - 2*extraW\n      lines.push(['Path', {\n        points: [\n          [x, ys[0]], \n          [x, ys[ys.length-1]],\n        ],\n      }])\n\n      return [...lines, ...parts]\n    }\n  }\n  console.log(logic)\n  console.error('Cannot render circuit')\n  return []\n}\n\n\nfunction drawCircuit(logic, options={}) {\n  const simp = simplifyCircuit(logic)\n  const {width, above, below} = requiredSpace(simp)\n  return [\n    'CoordinatePlane', \n    {\n      span: [-HGAP, -below-VGAP, +width+HGAP, +above+VGAP], \n      axis: false, \n      grid: false, \n      style: 'circuit',\n      ...options,\n    },\n    ['Point', {x: 0, y: 0}],\n    ...draw(simp, {start: {x:0,y:0}}),\n    ['Point', {x: width, y: 0}]\n  ]\n}\n\nexport default drawCircuit\n\nexport {\n  requiredSpace,\n  simplifyCircuit,\n}","import evaluate from './evaluate'\nimport truthtable from './truthtable'\nimport latex from './latex'\nimport simplify from './simplify'\nimport drawCircuit, { requiredSpace, simplifyCircuit } from './circuits'\nimport { variableList, operationList, nodePathList, allValueCombos } from './analyze'\n\nconst and = (...args) => ['And', ...args]\nconst or = (...args) => ['Or', ...args]\nconst not = (a) => ['Not', a]\nconst then = (a, b) => ['Then', a, b]\nconst iff = (a, b) => ['Equiv', a, b]\n\nconst circuit = {\n  draw: drawCircuit,\n  simplify: simplifyCircuit,\n  requiredSpace,\n}\n\nexport {\n  and, \n  or, \n  then,\n  not,\n  iff,\n  simplify,\n  latex, \n  evaluate, \n  truthtable,\n  circuit,\n  allValueCombos,\n  variableList,\n  operationList,\n  nodePathList,\n}","import React from 'react'\nimport Page from '../Page'\nimport Vegagraph from './vegagraph'\nimport * as _ from 'constants/lodash'\nimport { renderObject, RenderComponent } from 'rendering'\nimport { and, or, not, then, iff, simplify, circuit } from 'questions/tools/logic'\n\nimport styles from './scratch.module.css'\n\n\nfunction makecircuit() {\n  const logic = not(not('a'))\n  return circuit.draw(logic, {width: '2in'})\n}\n\n\n\n/*\nconst data = [\n  'VegaLite', {\n    data: {\n      values: [\n        {x: 1, count: 3},\n        {x: 2, count: 4},\n        {x: 3, count: 8},\n        {x: 4, count: 9},\n        {x: 5, count: 3},\n        {x: 6, count: 7},\n        {x: 7, count: 5},\n        {x: 8, count: 1},\n        {x: 9, count: 2},\n        {x: 10, count: 1},\n      ]\n    },\n    mark: {\n      type: 'bar', \n    },\n    \"encoding\": {\n      x: {\n        //bin: 'true',\n        field: 'x', \n        type: 'quantitative',\n      },\n      y: {\n        field: 'count', \n        type: 'quantitative',\n      },\n    },\n  }\n]\n*/\n\n\nconst Scratch = () => {\n  //const torender = renderObject(data)\n\n  const paths = [\n    {points: [[-5,-5], [5,5], [4,-2]], style: {stroke: 'green'}}\n  ]\n  \n  return (\n    <Page>\n      <div className=\"page-content\">\n        <Vegagraph paths={paths}/>\n      </div>\n    </Page>\n  )\n}\n\nexport default Scratch","import React from 'react'\n//import Page from './Page'\nimport MeasuredPage from './MeasuredPage'\nimport AnswerKey from './AnswerKey'\nimport { connect } from 'react-redux'\n\n\nimport Scratch from './testing/scratchpage'\n\n\nconst Document = (props) => {\n  const len = props.contentIDs.length - props.hidden\n  const visibleIDs = props.contentIDs.slice(0,len)\n  let prev = 0\n  let slices = []\n  for (const i of props.pagebreaks) {\n    if (i < len) {\n      slices.push([prev, i])\n      prev = i\n    }\n  }\n  slices.push([prev])\n  const pages = slices.map(s => visibleIDs.slice(...s))\n  const className = props.debugView ? 'document debug-view' : 'document'\n\n  //return <div className={className}><Scratch/></div>\n\n  return (\n    <div className={className}>\n      {(\n        pages.length > 0 \n        ? pages.map((ids,i) => (\n          <MeasuredPage key={`page-${i+1}`} \n            pageNumber={i+1}\n            contentIDs={ids.map(i => `content.${i}`)}\n          />\n        )) : null\n      )}\n      {props.showAnswerKey ? <AnswerKey /> : null}\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  contentIDs: state.document.order,\n  pagebreaks: state.document.pagebreaks,\n  showAnswerKey: state.config.showAnswerKey,\n  style: state.style,\n  hidden: state.document.numberHidden,\n  debugView: state.config.debugView,\n})\n\nexport default connect(mapStateToProps)(Document)","import React from 'react'\nimport { connect } from 'react-redux'\n\nclass CheckStateButton extends React.Component {\n\n  logState = () => {console.log(this.props.state)}\n\n  render() {\n    return <button onClick={this.logState}>{this.props.children}</button>\n  }\n}\n\nconst mapStateToProps = state => ({\n  state: state,\n})\n\nexport default connect(mapStateToProps)(CheckStateButton)","import React from 'react'\nimport { connect } from 'react-redux'\n//import questionbank from './questionbank'\nimport { includes } from 'constants/lodash'\nimport styles from './styles.module.css'\nimport { addToDocument } from 'actions/document'\nimport { updateGeneratorSelection } from 'actions/uistate'\n\n\nfunction hasKwd(item, kwd) {\n  for (const v of [...item.name.split(' '), ...(item.tags || [])].map(t => t.toLowerCase())) {\n    if (includes(v, kwd.replace(',', ''))) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction checkForKwds(item, kwds=[]) {\n  for (const k of kwds.map(k => k.toLowerCase())) {\n    if (!hasKwd(item, k)) {\n      return false\n    }\n  }\n  // item contains all keywords\n  return true\n}\n\nfunction sortQuestionType(a, b) {\n  if ((a.sort || 0) < (b.sort || 0)) return -1\n  if ((a.sort || 0) > (b.sort || 0)) return 1\n  if (a.prefix < b.prefix) return -1\n  if (a.prefix > b.prefix) return 1\n  if (a.name < b.name) return -1\n  if (a.name > b.name) return 1\n  return 0\n}\n\nclass QuestionSearch extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      input: '',\n      kwds: [],\n      selection: null,\n      modal: 'none',\n    }\n  }\n\n  clearSearch = () => {\n    this.setState({ input: '', kwds: [], selection: null})\n  }\n\n  updateSearch = evt => {\n    const input = evt.target.value\n    const kwds = input.split(' ').map(k => k.toLowerCase())\n    this.setState({ input, kwds, selection: null })\n  }\n\n  setSelection(id) {\n    this.props.updateGeneratorSelection(id)\n  }\n\n  generateAndAdd = () => {\n    const {currentSelection, generator, defaultParams} = this.props\n    if (generator) {\n      console.log(`Generating ${currentSelection}`)\n      try {\n        const result = new generator(defaultParams).output()\n        this.props.addToDocument(result)\n      } catch(e) {\n        console.log('failed')\n        console.log(e)\n      }\n    }\n  }\n\n  renderResults() {\n    const results = (\n      Object.keys(this.props.info)\n        .map(k => ({id: k, ...this.props.info[k]}))\n        .filter(q => checkForKwds(q, this.state.kwds))\n        .sort(sortQuestionType)\n    )\n    const className = styles.ResultContainer + ' ui-input'\n    if (results.length) {\n      return (\n        <div className={className}>\n          {results.map(r => (\n            <div key={r.id} \n              className={styles.SearchResult + (r.id === this.props.currentSelection ? ' ' + styles.Selected : '')}\n              onClick={() => this.setSelection(r.id)}\n              onDoubleClick={this.generateAndAdd}\n              title={r.name + (r.description ? `\\n${r.description}` : '')}\n            >\n              {(r.prefix || '') + r.name}\n            </div>\n          ))}\n        </div>\n      )\n    } else {\n      return (\n        <div className={className}>\n          <span className={styles.SearchResultNone + ' ' + styles.SearchResult}>No results</span>\n        </div>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <input type=\"search\"\n          onChange={this.updateSearch}\n          value={this.state.input}\n          onDoubleClick={this.clearSearch}\n          placeholder=\"filter\"\n        />\n        {this.renderResults()}\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  const currentSelection = state.uistate.generatorSelection\n  return ({\n    currentSelection,\n    info: state.generators.info,\n    generator: state.generators.generators[currentSelection],\n    defaultParams: state.generators.defaultParams[currentSelection],\n  })\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: q => dispatch(addToDocument(q)),\n  updateGeneratorSelection: id => dispatch(updateGeneratorSelection(id)),\n})\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(QuestionSearch)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { addToDocument } from 'actions/document'\n\nclass GenerateAndAddButton extends React.Component {\n\n  generateAndAdd = () => {\n    const {id, generator, defaultParams} = this.props\n    if (generator) {\n      console.log(`Generating ${id}`)\n      try {\n        const result = new generator(defaultParams).output()\n        this.props.addToDocument(result)\n      } catch(e) {\n        console.log('failed')\n        console.log(e)\n      }\n    }\n  }\n\n  render() {\n    return (\n      <button\n        disabled={this.props.generator === undefined}\n        onClick={this.generateAndAdd}\n      >{this.props.children}</button>\n    )\n  }\n}\n\n\nconst mapStateToProps = state => ({\n  id: state.uistate.generatorSelection,\n  generator: state.generators.generators[state.uistate.generatorSelection],\n  defaultParams: state.generators.defaultParams[state.uistate.generatorSelection],\n})\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: elem => dispatch(addToDocument(elem))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GenerateAndAddButton)","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Preview, SideBar, StatusBar, TitleBar, TopBar, Wrapper } from './AppLayout'\nimport Document from './Document/Document'\nimport AppModals from './Modals'\nimport { openModal, closeModal } from 'actions/uistate'\nimport { CheckStateButton } from './Debug'\nimport {\n  AllowEditingToggle,\n  AnswerKeyToggle,\n  FixPagination,\n  FontFamily,\n  FontSize,\n  GUImode,\n  PreviewZoom,\n  StartNumbering\n} from './Settings'\nimport {\n  removeLast,\n  clearAll,\n  resetDocument,\n} from 'actions/document'\nimport { resetStyle } from 'actions/style'\nimport {\n  AddButton,\n  QuestionSearch,\n} from './GeneratorMenu'\n\nimport 'stylesheets/styles.global.css'\n\n\n\nclass AppWrapper extends React.Component {\n  static defaultParams = {\n    statusBar: false,\n    titleBar: false,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      modal: 'none',\n    }\n  }\n\n  addToDoc = elem => this.props.addToDocument(elem)\n\n  newDoc = () => {\n    this.props.resetDocument()\n    this.props.resetStyle()\n  }\n\n  closeModal = () => this.props.closeModal()\n  openCustomQuestion = () => this.props.openModal('customQuestion')\n  openSettings = () => this.props.openModal('settings')\n  openImport = () => this.props.openModal('import')\n  openSave = () => this.props.openModal('save')\n  openPresentation = () => this.props.openModal('presentation')\n  openPractice = () => this.props.openModal('practice')\n  openNotes = () => this.props.openModal('notes')\n  openGeneratorParams = () => this.props.openModal('generatorParams')\n\n  render() {\n    const toplabel = {margin: '0 0 0 0.5em'}\n    return (\n      <Wrapper statusBar={this.props.statusBar ? true : false} titleBar={false}>\n        {this.props.titleBar ? (\n          <TitleBar />\n        ) : null}\n        {this.props.statusBar ? (\n          <StatusBar><span>{this.props.statusBar}</span></StatusBar>\n        ) : null }\n        <TopBar>\n          <button onClick={this.newDoc}>New</button>\n          <button onClick={this.openImport}>Import</button>\n          <button onClick={this.openSave}>Save</button>\n          <button onClick={window.print}>Print/PDF</button>\n          <button onClick={this.openSettings}>Settings</button>\n          <label htmlFor=\"show-answer-key-checkbox\" style={toplabel}>Answer Key:</label><AnswerKeyToggle />\n          <span style={toplabel}>Start Numbering:</span><StartNumbering />\n          <span style={toplabel}>Font:</span><FontFamily/><FontSize />\n          <span style={toplabel}>Zoom:</span><PreviewZoom defaultValue=\"100\"/>\n          <label htmlFor=\"allow-editing-checkbox\" style={toplabel}>Allow Editing:</label><AllowEditingToggle />\n          <div style={{width: '3mm'}} />\n          <FixPagination/>\n        </TopBar>\n        <Preview>\n          <Document/>\n        </Preview>\n        <SideBar>\n          <QuestionSearch/>\n          <AddButton>Add</AddButton>\n          <button onClick={this.openGeneratorParams} \n            disabled={!this.props.generatorParams}>Change Options</button>\n          <button onClick={this.props.removeLast} \n            disabled={!this.props.hasContent}>Remove Last</button>\n          <button onClick={this.props.clearAll} \n            disabled={!this.props.hasContent}>Clear All</button>\n          <div style={{height: '3mm'}}/>\n          <button onClick={this.openCustomQuestion}>Custom Question</button>\n          <div style={{height: '3mm'}}/>\n          <button onClick={this.openPresentation} \n            disabled={!this.props.hasContent}>Slide View</button>\n          <button onClick={this.openPractice} \n            disabled={!this.props.generatorSelected}>Practice</button>\n          \n          <div style={{margin: 'auto'}}></div>\n\n          <GUImode/>\n          <button onClick={this.openNotes}>Notes</button>\n          <CheckStateButton>Log State</CheckStateButton>\n        </SideBar>\n\n        <AppModals />\n      </Wrapper>\n    )\n\n  }\n}\n\nconst mapStateToProps = state => {\n  const generatorId = state.uistate.generatorSelection\n  let generatorSelected = false, generatorParams = false\n  if (generatorId) {\n    generatorSelected = true\n    if (state.generators.params[generatorId]) {\n      generatorParams = true\n    }\n  }\n  return ({\n    fontFamilyUI: state.config.fontFamilyUI,\n    hasContent: state.document.order.length > 0,\n    generatorSelected,\n    generatorParams,\n  })\n}\n\nconst mapDispatchToProps = dispatch => ({\n  removeLast: () => dispatch(removeLast()),\n  clearAll: () => dispatch(clearAll()),\n  resetDocument: () => dispatch(resetDocument()),\n  resetStyle: () => dispatch(resetStyle()),\n  openModal: modal => dispatch(openModal(modal)),\n  closeModal: () => dispatch(closeModal()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AppWrapper)","import React from 'react';\nimport { Provider } from 'react-redux';\nimport App from './App'\n\n\nexport default class Root extends React.Component {\n  render() {\n    const { store } = this.props;\n    return (\n      <Provider store={store}>\n        <App />\n      </Provider>\n    )\n  }\n}\n","import {\n  ADD_FONTFAMILY,\n  SET_ALLOW_EDITING,\n  SET_FONTFAMILY_UI,\n  SET_SHOW_ANSWERKEY,\n  SET_UI_THEME,\n  SET_DEBUG_VIEW,\n  SET_FILENAME,\n  SET_AUTO_PAGINATION,\n  SET_PRESENTATION_ZOOM,\n} from 'actions/config'\n\nconst initialState = {\n  //titleBarStyle: 'default',\n  fontFamilies: ['sans-serif', 'serif'],\n  fontFamilyUI: 'select',\n  showAnswerKey: true,\n  allowEditing: true,\n  uiTheme: 'light',\n  debugView: false,\n  autoPaginate: true,\n  presentationZoom: 120,\n}\n\nconst config = function(state=initialState, action) {\n  switch(action.type) {\n    case ADD_FONTFAMILY:\n      return {\n        ...state, \n        fontFamilies: [...state.fontFamilies.filter(f => f !== action.payload), action.payload],\n      }\n    case SET_ALLOW_EDITING:\n      return {...state, allowEditing: action.payload}\n    case SET_FONTFAMILY_UI:\n      return {...state, fontFamilyUI: action.payload}\n    case SET_SHOW_ANSWERKEY:\n      return {...state, showAnswerKey: action.payload}\n    case SET_UI_THEME:\n      let date = new Date()\n      date.setTime(date.getTime() + 1000 * 3600)\n      document.cookie = `ui-theme=${action.payload};expires=${date.toUTCString()}`\n      return {...state, uiTheme: action.payload}\n    case SET_DEBUG_VIEW:\n      return {...state, debugView: action.payload}\n    case SET_FILENAME:\n      return {...state, filename: action.payload}\n    case SET_AUTO_PAGINATION:\n      return {...state, autoPaginate: action.payload}\n    case SET_PRESENTATION_ZOOM:\n      return {...state, presentationZoom: action.payload}\n    default:\n      return state\n  }\n}\n\nexport default config","import {\n  ADD_GENERATOR,\n  UPDATE_GENERATOR_DEFAULTS,\n} from 'actions/generators'\n\nconst initialState = {\n  generators: {},\n  info: {},\n  params: {},\n  defaultParams: {},\n}\n\nconst generators = function(state=initialState, action) {\n  switch(action.type) {\n    case ADD_GENERATOR:\n      return {\n        ...state, \n        generators: {...state.generators, [action.payload.id]: action.payload.generator},\n        info: {...state.info, [action.payload.id]: action.payload.info},\n        params: {...state.params, [action.payload.id]: action.payload.params},\n        defaultParams: {...state.defaultParams, [action.payload.id]: action.payload.defaultParams}\n      }\n    case UPDATE_GENERATOR_DEFAULTS:\n      return {\n        ...state, \n        defaultParams: {\n          ...state.defaultParams, \n          [action.payload.id]: {\n            ...state.defaultParams[action.payload.id], \n            ...action.payload.defaultParams,\n          },\n        }\n      }\n    default: return state\n  }\n}\n\nexport default generators","import {\n  OPEN_MODAL,\n  CLOSE_MODAL,\n  OPEN_POPUP,\n  CLOSE_POPUP,\n  SET_SELECTED_ELEMENT,\n  UPDATE_GENERATOR_SELECTION,\n} from 'actions/uistate'\n\nconst initialState = {\n  generatorSelection: null,\n  modal: null,\n  popup: null,\n  selectedElement: null,\n}\n\nfunction uistate(state=initialState, action) {\n  switch (action.type) {\n    case OPEN_MODAL:\n      return {...state, modal: action.payload}\n    case CLOSE_MODAL:\n      return {...state, modal: null}\n    case OPEN_POPUP:\n      return {...state, popup: action.payload}\n    case CLOSE_POPUP:\n      return {...state, popup: null}\n    case UPDATE_GENERATOR_SELECTION:\n      return {...state, generatorSelection: action.payload}\n    case SET_SELECTED_ELEMENT:\n      return {...state, selectedElement: action.payload}\n    default: return state\n  }\n}\n\nexport default uistate","import { combineReducers } from 'redux'\nimport document from './document'\nimport config from './config'\nimport style from './style'\nimport generators from './generators'\nimport uistate from './uistate'\n\nconst rootReducer = combineReducers({\n  config, \n  document, \n  generators, \n  style, \n  uistate,\n})\n\nexport default rootReducer\n\nexport {\n  config,\n  document,\n  style,\n  generators,\n  uistate,\n}","import WebFont from 'webfontloader'\nimport { addFontFamily } from 'actions/config'\nimport { includes } from 'constants/lodash'\n\nfunction loadFonts(store) {\n  const toLoad = {\n    custom: [\n      'katex_ams',\n      'katex_caligraphic',\n      'katex_fraktur',\n      'katex_main',\n      'katex_math',\n      'katex_sansserif',\n      'katex_script',\n      'katex_size1',\n      'katex_size2',\n      'katex_size3',\n      'katex_size4',\n      'katex_typewriter',\n      'cmu_bright',\n      'cmu_concrete',\n      'cmu_sansserif',\n      'cmu_serif',\n    ],\n    google: [\n      'IBM Plex Serif', \n      'IBM Plex Sans',\n    ],\n  }\n  const toAdd = [\n    'cmu_sansserif', \n    'cmu_serif', \n    'cmu_bright', \n    'IBM Plex Serif',\n    'IBM Plex Sans',\n  ]\n\n  WebFont.load({\n    custom: {\n      families: toLoad.custom.map(f => `${f}:n4,i4,n7,i7`),\n      urls: ['../stylesheets/styles.global.css']\n    },\n    google: {families: toLoad.google.map(f => f + ':n4,i4,n7,i7')},\n    fontactive: (family, fvd) => {\n      if (includes(toAdd, family)) {\n        //console.log(`added font ${family}:${fvd}`)\n        store.dispatch(addFontFamily(family))\n      }\n    },\n    fontinactive: (family) => console.error(`load font ${family} failed`),\n  })\n}\n\nexport default loadFonts","import { setUITheme } from 'actions/config'\n\nfunction setFromCookie(store) {\n  const cookie = document.cookie\n  if (cookie) {\n    for (const c of cookie.split(';')) {\n      const [k, v] = c.split('=')\n      if (k === 'ui-theme') {\n        console.log(`ui-theme set to '${v}'`)\n        store.dispatch(setUITheme(v))\n        return true\n      }\n    }\n  }\n  return false\n}\n\nfunction setTheme(store) {\n  if (!setFromCookie(store)) {\n    store.dispatch(setUITheme(store.getState().config.uiTheme))\n  }\n}\n\nexport default setTheme","const Random = require('random-js')\n\nexport class Randomizer {\n  constructor(seed=null) {\n    this.seed = seed\n    if (seed !== null) {\n      this.engine = Random.MersenneTwister19937.seed(seed)\n    } else {\n      this.engine = Random.MersenneTwister19937.autoSeed()\n    }\n  }\n\n  reset() {\n    if (this.seed !== null) {\n      this.engine.seed(this.seed);\n    } else {\n      this.engine.autoSeed();\n    }\n  }\n\n  randint(min, max) {\n    return Random.integer(min, max)(this.engine);\n  }\n\n  real(min, max, inclusive=false) {\n    return Random.real(min, max, inclusive)(this.engine);\n  }\n\n  random(max=1.0) {\n    return this.real(0, max, false);\n  }\n\n  shuffle(array, first) {\n    if (first !== undefined) {\n      let shuffled = Random.shuffle(this.engine, array.slice(1));\n      return [...shuffled.slice(0,first), array[0], ...shuffled.slice(first)];\n    } else {\n      return Random.shuffle(this.engine, array);\n    }\n  }\n\n  shuffleRange(start, end) {\n    let range = [];\n    for (let i = start; i <= end; i++) range.push(i);\n    return this.shuffle(range);\n  }\n\n  bool() {\n    return Random.pick(this.engine, [true, false]);\n  }\n\n  choice(array) {\n    return Random.pick(this.engine, array);\n  }\n\n  sample(pop, size) {\n    return Random.sample(this.engine, pop, size);\n  }\n\n  sampleRange(start, end, size) {\n    let range = [];\n    for (let i = start; i <= end; i++) range.push(i);\n    return this.sample(range, size);\n  }\n\n  poprandom(array) {\n    const i = this.randint(0,array.length-1);\n    return array.splice(i,1)[0];\n  }\n}\n\n","//import math from 'mathjs'\nimport { Randomizer } from './tools/random_randomjs'\n\nlet randomSeedGenerator = new Randomizer()\n\nclass QGen {\n  constructor(params={}) {\n    this.params = params\n    //this.randomSeed = props.randomSeed || math.randomInt(0, math.pow(2,32))\n    this.randomSeed = params.randomSeed || randomSeedGenerator.randint(0, Math.pow(2, 32)-1)\n    this.random = new Randomizer(this.randomSeed)\n  }\n\n  static register() {\n    const {name=this.toString().match(/ (\\w+)/)[1], description, tags} = this.info\n    const params = this.params\n    const defaultParams = this.defaultParams\n    const options = this.options\n    return {name, description, tags, params, defaultParams, options}\n  }\n\n  getOptions() {\n    return this.constructor.options\n  }\n\n  _specialCaseValues(k, v) {\n    return v\n  }\n\n  _specialCaseKeys(k, v) {\n    //if (k === 'answer') return '_answer'\n    return k\n  }\n\n  setRandomSeed(seed) {\n    this.randomizer.seed(seed)\n  }\n\n  _getParams() {\n    let result = ({})\n    const defaults = this.constructor.defaultParams || {}\n    for (const k in this.constructor.params) {\n      if (this.params[k] !== undefined) {\n        result[k] = this.params[k]\n      } else if (defaults[k] !== undefined) {\n        result[k] = defaults[k]\n      }\n    }\n    return result\n  }\n\n  output() {\n    const out = this.generate(this._getParams())\n    let options = this.getOptions()\n    let content = {}\n    for (const k in out) {\n      if (k === 'options') {\n        options = {...options, ...out[k]}\n      } else {\n        content[this._specialCaseKeys(k)] = this._specialCaseValues(k, out[k])\n      }\n    }\n    return [\n      'NumberedQuestion',\n      { content, options },\n    ]\n  }\n}\n\nexport default QGen","const roundTo = (n, d) => {\n  const f = Math.pow(10, d)\n  return Math.round(n*f) / f\n}\n\nexport function bisectAngle(a, b, {degrees=false}={}) {\n  const fullCircle = degrees ? 360 : 2*Math.PI\n  let a2 = b\n  while (a2 < a) {\n    a2 += fullCircle\n  }\n  return (a + a2) / 2\n}\n\nclass Coordinate {\n  constructor(x, y) {\n    this.x = x\n    this.y = y\n  }\n\n  static Polar(angle, radius=1, options={degrees: false}) {\n    const x = Math.cos(options.degrees ? angle*Math.PI/180 : angle) * radius\n    const y = Math.sin(options.degrees ? angle*Math.PI/180 : angle) * radius\n    return new this(x, y)\n  }\n\n  static Cartesian(x, y) {\n    return new this(x, y)\n  }\n\n  static XY(x, y) {\n    return new this(x, y)\n  }\n\n  coords({round}={}) {\n    if (round !== undefined) {\n      return {\n        x: roundTo(this.x, round), \n        y: roundTo(this.y, round)\n      }\n    }\n    return {x: this.x, y: this.y}\n  }\n\n  toObject(options) {\n    return this.coords(options)\n  }\n\n  toArray(options) {\n    const {x, y} = this.coords(options)\n    return [x, y]\n  }\n\n  toString(options) {\n    const {x, y} = this.coords(options)\n    return `${x},${y}`\n  }\n\n  copy(options) {\n    const {x, y} = this.coords(options)\n    return this.constructor.Cartesian(x, y)\n  }\n\n  abs2() {\n    return this.x * this.x + this.y * this.y\n  }\n\n  abs() {\n    return Math.sqrt(this.abs2())\n  }\n\n  atan2({positive=false, degrees=false}={}) {\n    let result = degrees \n      ? Math.atan2(this.y, this.x) * 180 / Math.PI \n      : Math.atan2(this.y, this.x)\n    if (positive && result < 0) {\n      const fullCircle = degrees ? 360 : 2 * Math.PI\n      while (result < 0) {\n        result += fullCircle\n      }\n    }\n    return result\n  }\n\n  unit() {\n    const a = this.abs()\n    return this.scale(1/a)\n  }\n\n  add(other) {\n    const {x=0, y=0} = other\n    return this.constructor.Cartesian(this.x + x, this.y + y)\n  }\n\n  translate(other) {\n    return this.add(other)\n  }\n\n  subtract(other) {\n    const {x=0, y=0} = other\n    return this.add({x: -x, y: -y})\n  }\n\n  neg() {\n    return this.constructor.Cartesian(-this.x, -this.y)\n  }\n\n  scale(a) {\n    if (typeof a === 'number') {\n      return this.constructor.Cartesian(this.x * a, this.y * a)\n    } else {\n      const {x=1, y=1} = a\n      return this.constructor.Cartesian(this.x * x, this.y * y)\n    }\n  }\n\n  rotate(angle, {degrees=false, center=Point.Cartesian(0, 0)}) {\n    if (center.x !== 0 || center.y !== 0) {\n      return this.subtract(center).rotate(angle, {degrees}).add(center)\n    }\n    const radius = this.abs()\n    const currentAngle = this.atan2()\n    const rotateAngle = degrees ? angle * Math.PI / 180 : angle\n    return this.constructor.Polar(currentAngle+rotateAngle, radius)\n  }\n\n  multiply(other) {\n    // Complex multiplication\n    return this.constructor.Cartesian(this.x * other.x - this.y * other.y, this.x * other.y + this.y * other.x)\n  }\n\n  distance2(other) {\n    return other.subtract(this).abs2()\n  }\n  \n  distance(other) {\n    return other.subtract(this).abs()\n  }\n\n  partition(other, ratio) {\n    const x = this.x * (1-ratio) + other.x * ratio\n    const y = this.y * (1-ratio) + other.y * ratio\n    return this.constructor.Cartesian(x, y)\n  }\n\n  midpoint(other) {\n    return this.partition(other, 0.5)\n  }\n\n  latex() {\n    return '\\\\left(' + this.toString() + '\\\\right)'\n  }\n}\n\nexport class Point extends Coordinate {\n  toVector() {\n    return new Vector(this.x, this.y)\n  }\n  latex() {\n    return '\\\\left(' + this.toString() + '\\\\right)'\n  }\n  plot(options) {\n    return ['Point', this.toObject(options)]\n  }\n}\n\nexport class Vector extends Coordinate {\n  toPoint() {\n    return new Point(this.x, this.y)\n  }\n  latex() {\n    return '\\\\langle ' + this.toString() + '\\\\rangle '\n  }\n  plot({initial={x: 0, y: 0}, ...options}) {\n    const terminal = this.add(initial)\n    return ['Path', {points: `${initial.x},${initial.y} ${terminal.x},${terminal.y}`, marks: '-->'}]\n  }\n}\n\nexport class Line {\n  constructor(point, vector) {\n    this.point = point\n    this.vector = vector\n  }\n\n  static fromPoints(a, b) {\n    const vector = b.subtract(a)\n    return new this(a, vector)\n  }\n\n  intersection(other) {\n    const det = -this.vector.x * other.vector.y + this.vector.y * other.vector.x\n    if (det !== 0) { // if det = 0, intersection is infinite or none\n      const diffs = [other.point.x - this.point.x, other.point.y - this.point.y]\n      const inv = [\n        [-other.vector.y, other.vector.x],\n        [-this.vector.y, this.vector.x]\n      ]\n      const a = (1.0/det) * (inv[0][0]*diffs[0] + inv[0][1]*diffs[1])\n      return this.point.add(this.vector.scale(a))\n\n      // const b = (1/det) * (inv[1][0]*diffs[0] + inv[1][1]*diffs[1])\n      // return other.point.add(other.vector.scale(b))\n    }\n  }\n}\n\nexport class Segment {\n  constructor(a,b) {\n    this.a = a\n    this.b = b\n  }\n\n  toLine() {\n    return Line.fromPoints(this.a, this.b)\n  }\n\n  length() {\n    return this.b.subtract(this.a).abs()\n  }\n\n  atan2(opts) {\n    return this.b.subtract(this.a).atan2(opts)\n  }\n\n  plot({markers='.-.', round, labels, distance}={}) {\n    return [\n      [\n        'Path', \n        {points: `${this.a.toString({round})},${this.b.toString({round})}`, markers}\n      ],\n    ]\n  }\n\n  plotLabel(label, {where, ratio=.5, angle, distance, round, rotate, anchor, degrees=true}={}) {\n    if (where) {\n      const segAngle = this.b.subtract(this.a).atan2({degrees: true, positive: true})\n      const dist = distance === undefined ? .5 : distance\n      const passOptions = {ratio, round, degrees, rotate, anchor, distance: dist}\n      if (where === 'above') {\n        if (segAngle <= 90 || segAngle > 270) {\n          return this.plotLabel(label, {angle: segAngle+90, ...passOptions})\n        } else {\n          return this.plotLabel(label, {angle: segAngle-90, ...passOptions})\n        }\n      } else if (where === 'below') {\n        if (segAngle <= 90 || segAngle > 270) {\n          return this.plotLabel(label, {angle: segAngle-90, ...passOptions})\n        } else {\n          return this.plotLabel(label, {angle: segAngle+90, ...passOptions})\n        }\n      } else if (where === 'left') {\n        if (segAngle < 180) {\n          return this.plotLabel(label, {angle: segAngle+90, ...passOptions})\n        } else {\n          return this.plotLabel(label, {angle: segAngle-90, ...passOptions})\n        }\n      } else if (where === 'right') {\n        if (segAngle < 180) {\n          return this.plotLabel(label, {angle: segAngle-90, ...passOptions})\n        } else {\n          return this.plotLabel(label, {angle: segAngle+90, ...passOptions})\n        }\n      }\n    }\n    \n    const labelprops = {anchor}\n    if (rotate !== undefined) {\n      labelprops.rotate = rotate === 'auto'\n        ? this.atan2({degrees: true}) % 180\n        : parseInt(rotate)\n    }\n    if (distance && (angle !== undefined)) {\n      const {x, y} = this.a.partition(this.b, ratio).add(Point.Polar(angle, distance, {degrees}))\n      return ['Overlay', {x, y, ...labelprops}, label]\n    } else {\n      const {x, y} = this.a.partition(this.b, ratio)\n      return ['Overlay', {x, y, ...labelprops}, label]\n    }\n  }\n}\n\nexport class Polygon {\n  constructor(...vertices) {\n    this.vertices = vertices\n  }\n\n  getVertex(i) {\n    if (+i < 0) {\n      return this.getVertex(+i + this.vertices.length)\n    }\n    if (+i >= this.vertices.length) {\n      return this.getVertex(+i - this.vertices.length)\n    }\n    return this.vertices[+i]\n  }\n\n  plot({markers='-..', round, labels, distance}={}) {\n    return [\n      [\n        'Polygon', \n        {points: this.vertices.map(p => p.toString({round})).join(' '), markers}\n      ],\n      ...(labels ? this.labelVertices(labels, {round, distance}) : [])\n    ]\n  }\n\n  centroid() {\n    let x = 0\n    let y = 0\n    for (const v of this.vertices) {\n      x += v.x\n      y += v.y\n    }\n    return new Point(x/this.vertices.length, y/this.vertices.length)\n  }\n\n  labelVertices(labels, {distance=.5, round=3, clockwise=false}={}) {\n    const result = []\n    for (const i in labels) {\n      const prev = this.getVertex(+i-1)\n      const vertex = this.getVertex(+i)\n      const next = this.getVertex(+i+1)\n      const radians = clockwise \n        ? bisectAngle(next.subtract(vertex).atan2(), prev.subtract(vertex).atan2())\n        : bisectAngle(prev.subtract(vertex).atan2(), next.subtract(vertex).atan2())\n      const {x, y} = vertex.add(Point.Polar(radians, distance, {degrees: false})).toObject({round})\n      result.push(['Overlay', {x, y}, labels[i]])\n    }\n    return result\n  }\n}\n\nexport class Circle {\n  constructor(center, radius) {\n    this.center = center\n    this.radius = radius\n  }\n\n  plot({round}={}) {\n    const {x, y} = this.center.toObject({round})\n    const radius = round === undefined\n      ? this.radius\n      : roundTo(this.radius, round)\n    return ['Circle', {cx: x, cy: y, r: radius}]\n  }\n}","import math from 'mathjs'\nimport { round , startCase, includes } from 'constants/lodash'\n\nexport { round, startCase, includes }\n\nexport const range = function(start, stop, inclusive=false) {\n  if (inclusive) {\n    return math.range(start, stop+1)._data\n  }\n  return math.range(start, stop)._data\n}\n\n//export const roundTo = (n, d) => round(n, d) \n\nexport const capitalize = s => s.charAt(0).toUpperCase() + s.slice(1)\n\nexport const gcd = (a, b) => math.gcd(a, b)\nexport const lcm = (a, b) => math.lcm(a, b)\n\nexport const divrem = function(n, p) {\n  let r = n\n  let d = 0\n  while (r % p === 0) {\n    r = r / p\n    d += 1\n  }\n  return [d, r]\n}\n\nexport const primeFactorization = function(n) {\n  let result = {}\n  let r = n\n  let d\n  let p = 2\n  if (r % p === 0) {\n    [d, r] = divrem(r, p)\n    result[p] = d\n  }\n  p = 3\n  if (r % p === 0) {\n    [d, r] = divrem(r, p)\n    result[p] = d\n  }\n  p = 5\n  while (p * p <= r) {\n    if (r % p === 0) {\n      [d, r] = divrem(r, p)\n      result[p] = d\n    }\n    if (r === 1) {\n      return result\n    }\n    p += 2\n    if (r % p === 0) {\n      [d, r] = divrem(r, p)\n      result[p] = d\n    }\n    if (r === 1) {\n      return result\n    }\n    p += 4\n  }\n  if (r !== 1) {\n    result[r] = 1\n  }\n  return result\n}\n\nexport const listFactors = function(n, {include1=false, includeN=false}) {\n  let result = []\n  const start = include1 ? 1 : 2\n  const stop = includeN ? n : n-1\n  for (let i = start; i <= stop; i++) {\n    if (n % i === 0) {\n      result.push(i)\n    } \n  }\n  return result\n}\n","import QGen from './QGen'\nimport Polynomial from 'polynomial'\nimport { Point } from './tools/geom2d'\nimport { includes } from './tools/handystuff'\n\nfunction lineThroughPoints(a, b) {\n  /** returns polynomial coefficients */\n  const m = (b[1] - a[1]) / (b[0] - a[0])\n  return [a[1] - m*a[0], m]\n}\n\nexport function congruentOrSupplementary() {\n  const rd = this.random;\n  \n  let [leadingCoeff1, leadingCoeff2] = rd.sampleRange(2,8,2);\n  while (Math.abs(leadingCoeff1 - leadingCoeff2) < 2) {\n    [leadingCoeff1, leadingCoeff2] = rd.sampleRange(2,8,2);\n  }\n\n  const congruentVal = rd.randint(3,12);\n  const dx = ((leadingCoeff1 % 2) === (leadingCoeff2 % 2)) ? rd.randint(4,12) : 2*rd.randint(1,6)\n  const l = (180 - leadingCoeff1*dx - leadingCoeff2*dx) / 2\n\n  const supplementaryVal = congruentVal + dx\n  const f = lineThroughPoints([congruentVal, l], [supplementaryVal, leadingCoeff1*dx+l])\n  const g = lineThroughPoints([congruentVal, l], [supplementaryVal, 180 - (f[0] + f[1]*supplementaryVal)])\n\n  return {\n    f: new Polynomial(f).toLatex(),\n    g: new Polynomial(g).toLatex(),\n    solution: {\n      congruent: congruentVal,\n      supplementary: supplementaryVal,\n    }\n  }\n}\n\nexport class TransversalNames extends QGen {\n\tstatic info = {\n\t\tname: 'Transversal Relations',\n\t\tdescription: 'Name the relation of two angles',\n\t}\n\n\tstatic params = {\n\t\tpossibleRelations: {\n\t\t\tlabel: 'Possible relations',\n\t\t\ttype: 'multiple-select',\n\t\t\toptions: [\n\t\t\t\t'alternate exterior',\n\t\t\t\t'alternate interior',\n\t\t\t\t//'consecutive exterior',\n\t\t\t\t'consecutive interior',\n\t\t\t\t'corresponding',\n\t\t\t\t'linear',\n\t\t\t\t'vertical', \n\t\t\t],\n\t\t}\n\t}\n\n\tstatic defaultParams = {\n\t\tpossibleRelations: {\n\t\t\t'alternate exterior': true,\n\t\t\t'alternate interior': true,\n\t\t\t'consecutive exterior': false,\n\t\t\t'consecutive interior': true,\n\t\t\t'corresponding': true,\n\t\t\t'linear': true,\n\t\t\t'vertical': true,\n\t\t}\n\t}\n\n\tgenerate(params) {\n\n\t\tconst rd = this.random\n\t\tconst possibleRelations = Object.keys(params.possibleRelations).filter(k => params.possibleRelations[k])\n\t\tconst answer = rd.choice(possibleRelations)\n\n\t\tconst angle1 = rd.randint(45, 135)\n\n\t\tconst rotateBy = rd.randint(-25,25)\n\n\t\tconst r1 = 8\n\t\tconst r2 = 5\n\t\tconst intersect1 = Point.Cartesian(-r1/2,0)\n\t\tconst pp = {\n\t\t\tx: r2 * Math.cos(angle1 * Math.PI / 180), \n\t\t\ty: r2 * Math.sin(angle1 * Math.PI / 180)\n\t\t}\n\t\tconst top1 = intersect1.add(pp)\n\t\tconst bottom1 = intersect1.subtract(pp)\n\n\t\tconst intersect2 = intersect1.scale({x: -1})\n\t\tconst top2 = top1.translate({x: r1})\n\t\tconst bottom2 = bottom1.translate({x: r1})\n\n\t\tconst left = intersect1.translate({x: -r2})\n\t\tconst right = intersect2.translate({x: r2})\n\n\t\tfunction angleMark(transversal, position, linear=false) {\n\t\t\t// transversal: 1 or 2 \n\t\t\t// position: 'a', 'b', 'c', or 'd'\n\n\t\t\tconst result = linear \n\t\t\t\t? {radius: 1.8} \n\t\t\t\t: {minRadius: 1.6};\n\n\t\t\tif (transversal === 1) {\n\t\t\t\tresult.vertex = intersect1;\n\t\t\t} else {\n\t\t\t\tresult.vertex = intersect2;\n\t\t\t}\n\t\t\tif (position === 'a') {\n\t\t\t\tresult.initial = 0;\n\t\t\t\tresult.terminal = angle1;\n\t\t\t} else if (position === 'b') {\n\t\t\t\tresult.initial = angle1;\n\t\t\t\tresult.terminal = 180;\n\t\t\t} else if (position === 'c') {\n\t\t\t\tresult.initial = 180;\n\t\t\t\tresult.terminal = 180 + angle1;\n\t\t\t} else {\n\t\t\t\tresult.initial = 180 + angle1;\n\t\t\t\tresult.terminal = 360;\n\t\t\t}\n\t\t\treturn result\n\t\t}\n\n\t\tconst relations = {\n\t\t\t'alternate exterior': ['1b:2d', '1c:2a'],\n\t\t\t'alternate interior': ['1a:2c', '1d:2b'],\n\t\t\t'consecutive exterior': ['1b:2a', '1c:2d'],\n\t\t\t'consecutive interior': ['1a:2b', '1d:2c'],\n\t\t\t'corresponding': ['1a:2a', '1b:2b', '1c:2c', '1d:2d'],\n\t\t\t'linear': [\n\t\t\t\t'1a:1b', '1b:1c', '1c:1d', '1d:1a',\n\t\t\t\t'2a:2b', '2b:2c', '2c:2d', '2d:2a',\n\t\t\t],\n\t\t\t'vertical': ['1a:1c', '1b:1d', '2a:2c', '2b:2d'], \n\t\t}\n\n\t\tconst choices = (\n\t\t\tpossibleRelations.length > 5 \n\t\t\t? [answer, ...rd.sample(possibleRelations.filter(k => k !== answer), 4)] \n\t\t\t: [...possibleRelations]\n\t\t)\n\t\twhile (choices.length < 5) {\n\t\t\tconst k = rd.choice(Object.keys(relations))\n\t\t\tif (!includes(choices, k)) {\n\t\t\t\tchoices.push(k)\n\t\t\t}\n\t\t}\n\n\t\tconst anglesToMark = rd.choice(relations[answer])\n\t\tconst [a1, a2] = anglesToMark.split(':')\n\n\t\tconst angleMark1 = angleMark(+a1[0], a1[1], answer === 'linear')\n\t\tconst angleMark2 = angleMark(+a2[0], a2[1], answer === 'linear')\n\t\t\n\t\tconst pt = p => p.coords({round: 2})\n\t\tconst diagram = [\n\t\t\t'CoordinatePlane',\n\t\t\t{\n\t\t\t\tspan: \"-11,-8 11,8\", margin: '0mm', width: '2.5in', \n\t\t\t\tgrid: false, axis: false, style: 'geometry',\n\t\t\t},\n\t\t\t[\n\t\t\t\t'Transform', \n\t\t\t\t{type: 'rotate', a: rotateBy, x: 0, y: 0},\n\t\t\t\t['AngleMark', angleMark1],\n\t\t\t\t['AngleMark', angleMark2],\n\t\t\t\t['Path', {points: [left, right].map(pt), markers: '<->'}],\n\t\t\t\t['Path', {points: [top1, bottom1].map(pt), markers: '<->'}],\n\t\t\t\t['Path', {points: [top2, bottom2].map(pt), markers: '<->'}],\n\t\t\t\t['Point', pt(intersect1)],\n\t\t\t\t['Point', pt(intersect2)]\n\t\t\t]\n\t\t]\n\n\n\t\treturn {\n\t\t\tinstructions: 'The indicated angles are best described as ...',\n\t\t\tdiagram: diagram,\n\t\t\tanswer: {\n\t\t\t\tcorrect: answer,\n\t\t\t\tchoices: rd.shuffle(choices),\n\t\t\t},\n\t\t\tlayout: [[['instructions', 'question', 'answer'], 'diagram', ]],\n\t\t}\n\n\t}\n}\n","import { times } from 'constants/lodash'\nimport QGen from './QGen'\n\nconst scramble = function(str, digitmap, slotmap) {\n  return slotmap.map(s => digitmap[+str[s]]).join('')\n}\n\n/*\nclass PicoFermiInstructions {\n  static register() {\n    return {\n      type: 'Text',\n      name: 'Pico-fermi instructions',\n      description: 'How to play pico-fermi'\n    }\n  }\n\n  output() {\n    return ['Text', null, [\n      'In the game _Pico Fermi_, players try to guess a secret 4-digit number.',\n      'Each of the digits can be from 0 to 9 (leading zeros are allowed,',\n      \"such as 0083). After each guess, players are given a hint. A _fermi_ (f)\",\n      'is given for each number in the guess that is in the correct position,',\n      \"and a _pico_ (p) is given for each number in the guess that is correct but\",\n      'in the wrong position. For example, if the secret number was 7751 and',\n      \"the guess was 1734, the player would be told _pico fermi_, because the\",\n      \"1 was correct but in the wrong position (_pico_), and the 7 was both\",\n      \"correct and in the correct position (_fermi_). Based on the number of\",\n      \"_picos_ and _fermis_ received after each guess, a skilled player will soon\",\n      \"narrow down the possibilities to the correct one.\",\n    ].join(' ')]\n  }\n}\n*/\n\nexport class PicoFermi extends QGen {\n  static info = {\n    name: 'Pico-fermi',\n    description: 'A logic puzzle'\n  }\n\n  static options = {\n    singleColumn: true,\n  }\n\n  generate(params) {\n    const rd = this.random\n    const template = Templates[rd.choice(Object.keys(Templates))]\n    const slotmap = rd.shuffleRange(0,3)\n    const digitmap = rd.shuffleRange(0,9)\n    const answer = scramble(template.answer, digitmap, slotmap)\n    const clues = rd.shuffle(Object.keys(template.clues)).map(c => [\n      scramble(c, digitmap, slotmap), template.clues[c]\n    ])\n\n    const puzzle = [\n      'Table', {align: 'r|l'},\n      //['TRow', {header: true, align: 'rl'}, 'Guess', 'Clue'],\n      ...clues.map((c, i) => (\n        ['TRow', {border: false}, c[0], c[1]]\n      ))\n    ]\n\n    const blank = ['EmptySpace', {width: '2.5em', height: '2em', border: 'bottom'}]\n    const gap = ['EmptySpace', {width: '.5em'}]\n\n    return {\n      instructions: 'The following game of _Pico Fermi_ has only one possible solution. What is it?',\n      question: puzzle,\n      answer: {\n        correct: answer,\n        prompt: [\n          'Container', {direction: 'row', wrap: false}, \n          blank, gap, blank, gap, blank, gap, blank\n        ],\n      },\n      layout: ['instructions', 'question', 'diagram', 'answer'],\n    }\n    \n  }\n}\n\nexport class PicoFermiSet extends QGen {\n  static info = {\n    name: 'Pico-fermi set',\n    description: 'A set of puzzles of similar difficulty'\n  }\n\n  generate(params) {\n    const rd = this.random\n    const template = Templates[rd.choice(Object.keys(Templates))]\n    \n    const versions = []\n    const answers = []\n    times(10, () => {\n      const slotmap = rd.shuffleRange(0,3)\n      const digitmap = rd.shuffleRange(0,9)\n      const clues = rd.shuffle(Object.keys(template.clues)).map(c => [\n        scramble(c, digitmap, slotmap),\n        template.clues[c]\n      ])\n      versions.push(clues)\n      answers.push(scramble(template.answer, digitmap, slotmap))\n    })\n    \n    const answer = answers.join(', ')\n\n    const makeTable = clues => [\n      'Table', {border: false, align: 'r|l'},\n      ['TRow', {header: true, border: 'bottom'}, 'Guess', 'Clue'],\n      ...clues.map((c, i) => (\n        ['TRow', {align: 'r|l', border: false}, c[0], c[1]]\n      ))\n    ]\n    \n    const question = ['Container', {direction: 'row'}]\n    for (const v of versions) {\n      question.push(['EmptySpace', {width: '5mm'}])\n      question.push(makeTable(v))\n    }\n\n    return ({\n      instructions: [\n        'These puzzles are equivalent, but the order of their clues have',\n        'been scrambled and their digits have been remapped in order',\n        'to make them appear different.'\n      ].join(' '),\n      question, \n      answer: {\n        correct: answer,\n        prompt: null,\n      },\n      layout: ['instructions', 'diagram', 'question', 'answer'],\n    })\n  }\n}\n\n\n\nconst Templates = {\n  Easy01: {\n    \"answer\": \"1295\", \n    \"clues\": {\n      \"2637\": \"p\", \n      \"0018\": \"p\", \n      \"0123\": \"pp\", \n      \"1034\": \"f\", \n      \"3352\": \"pp\"\n    }\n  },\n\n  Easy02: {\n    \"answer\": \"6779\", \n    \"clues\": {\n      \"5704\": \"f\", \n      \"5607\": \"pp\", \n      \"5109\": \"f\", \n      \"6972\": \"pff\"\n    }\n  },\n  \n\n  Easy03: {\n    \"answer\": \"3276\", \n    \"clues\": {\n      \"1670\": \"pf\", \n      \"4567\": \"pp\", \n      \"0123\": \"pp\", \n      \"1245\": \"f\", \n      \"1376\": \"pff\"\n    }\n  },\n\n  Easy04: {\n    \"answer\": \"5132\", \n    \"clues\": {\n      \"4312\": \"ppf\", \n      \"6543\": \"pp\", \n      \"4129\": \"pf\", \n      \"4230\": \"pf\"\n    }\n  },\n\n  Easy05: {\n    \"answer\": \"3606\", \n    \"clues\": {\n      \"0660\": \"ppf\", \n      \"0386\": \"ppf\", \n      \"2030\": \"pp\"\n    }\n  },\n\n  Easy06: {\n    \"answer\": \"3423\", \n    \"clues\": {\n      \"3773\": \"ff\", \n      \"2790\": \"p\", \n      \"7243\": \"ppf\", \n      \"8467\": \"f\"\n    }\n  },\n\n  Easy07: {\n    \"answer\": \"5938\", \n    \"clues\": {\n      \"5809\": \"ppf\", \n      \"3899\": \"ppp\", \n      \"7243\": \"p\", \n      \"5593\": \"ppf\"\n    }\n  },\n\n  Hard01: {\n    \"answer\": \"7225\", \n    \"clues\": {\n      \"9120\": \"f\", \n      \"7573\": \"pf\", \n      \"2450\": \"pp\", \n      \"5320\": \"pf\", \n      \"8685\": \"f\"\n    }\n  },\n\n  Hard02: {\n    \"answer\": \"2664\", \n    \"clues\": {\n      \"4567\": \"pf\", \n      \"3210\": \"p\", \n      \"5409\": \"p\", \n      \"4608\": \"pf\", \n      \"1064\": \"ff\"\n    }\n  },\n\n  Hard03: {\n    \"answer\": \"6974\", \n    \"clues\": {\n      \"4989\": \"pf\", \n      \"2954\": \"ff\", \n      \"9724\": \"ppf\", \n      \"6139\": \"pf\", \n      \"7243\": \"pp\"\n    }\n  },\n\n  NoFour: {\n    \"answer\": \"2653\", \n    \"clues\": {\n      \"4563\": \"ppf\", \n      \"4615\": \"pf\", \n      \"4652\": \"pff\"\n    }\n  },\n\n  NoEight: {\n    \"answer\": \"2497\", \n    \"clues\": {\n      \"4786\": \"pp\", \n      \"8547\": \"pf\", \n      \"0843\": \"p\", \n      \"9289\": \"pp\", \n      \"8965\": \"p\"\n    }\n  },\n\n  AllPicos: {\n    \"answer\": \"0722\", \n    \"clues\": {\n      \"2486\": \"p\", \n      \"7867\": \"p\", \n      \"4573\": \"p\", \n      \"5608\": \"p\", \n      \"9310\": \"p\"\n    }\n  },\n\n  VeryHard: {\n    \"answer\": \"7583\", \n    \"clues\": {\n      \"9372\": \"pp\", \n      \"1047\": \"p\", \n      \"0235\": \"pp\", \n      \"3627\": \"pp\", \n      \"4753\": \"ppf\"\n    }\n  }\n}","import Polynomial from 'polynomial'\nimport fraction from 'fraction.js'\nimport { range, gcd, lcm, listFactors, includes } from './tools/handystuff'\nimport QGen from './QGen'\n\n// HANDY THINGS\n\nPolynomial.setField('Q')\n\nfunction randomPolynomialCoefficients({degree, maxCoefficient=12, terms='auto'}={}) {\n\tconst rd = this.random\n\tif (terms === 'auto') {\n\t\tterms = degree + 1\n\t}\n\tlet p = {}\n\tconst whichterms = rd.sample(range(0,degree), terms-1)\n\tp[degree] = rd.randint(1, maxCoefficient)\n\n\tfor (const d of whichterms) {\n\t\tp[d] = rd.randint(1, maxCoefficient) * rd.choice([-1,1])\n\t}\n\treturn p\n}\n\nfunction randomPolynomial(props={}) {\n\tconst p = randomPolynomialCoefficients.call(this, props)\n\treturn new Polynomial(p)\n}\n\nexport class Quadratic {\n  /*\n  quadratic with integer coefficients and roots at\n  x = (a +- b*sqrt(rt))/d (if im = false)\n  or\n  x = (a +- b*sqrt(rt)*i)/d (if im = true)\n  */\n\n  constructor(a, b, {d=1, rt=1, im=false}={}) {\n    const afrac = fraction(a, d)\n    const bfrac = fraction(b, d)\n    const denom = lcm(afrac.d, bfrac.d)\n    this.params = {\n      a: afrac.mul(denom), \n      b: bfrac.mul(denom).abs(), \n      d: fraction(denom).mul(d).abs(),\n      rt: fraction(rt).abs(),\n      im: im || rt < 0\n    }\n  }\n\n  static fromRationalRoots(r1, r2, {im=false}={}) {\n    const a = fraction(fraction(r1).add(fraction(r2)), 2)\n    const b = fraction(r1).sub(a).abs()\n    const d = lcm(a.sub(b).d, a.add(b).d)\n    return new this(a.mul(d), b.mul(d), {d, rt:1, im})\n  }\n\n  polynomial({leadingCoefficient='auto'}={}) {\n    const {a, b, d, rt, im} = this.params\n    const coeff = {\n      0: a.pow(2).add(im ?  b.pow(2).mul(rt) : b.pow(2).mul(rt).neg()),\n      1: a.mul(d).mul(-2),\n      2: d.pow(2)\n    }\n    if (leadingCoefficient === 'auto') {\n      return new Polynomial(coeff);\n    } else {\n      return new Polynomial(coeff).mul(leadingCoefficient).div(d.pow(2))\n    }\n  }\n\n  factors({rational=true}={}) {\n    // TODO: not complete\n    const {a, b, d} = this.params\n    return [\n      fraction(a.sub(b),d),\n      fraction(a.add(b),d)\n    ].map(r => new Polynomial([r.n * -r.s, r.d]))\n  }\n\n  rootsToLatex() {\n    const {a, b, d, rt, im} = this.params\n    if (b.n === 0) {\n      return a.div(d).toLatex()\n    }\n    if ((rt.n === rt.d) && (im === false)) {\n      return [a.sub(b).div(d), a.add(b).div(d)].map(r => r.toLatex()).join(', ')\n    }\n    return [\n      a.n === 0 ? '' : a.div(d).toLatex(),\n      '\\\\pm',\n      (b.n === d.n && b.d === d.d) ? '' : b.div(d).toLatex(),\n      rt.d === rt.n ? '' : `\\\\sqrt{${rt.toLatex()}}`,\n      im ? 'i' : '',\n    ].join(' ')\n  }\n}\n\n\n// GENERATORS\n\nexport class SolveQuadratic extends QGen {\n\tstatic info = {\n\t\tname: 'Solve Quadratic',\n\t\tdescription: 'Solve a quadratic equation'\n  }\n  \n  static params = {\n    solutionTypes: {\n      label: 'Solutions can be...',\n      type: 'multiple-select',\n      minSelections: 1,\n      options: [\n        'integer',\n        'rational',\n        'irrational',\n      ]\n    },\n    complexSolutions: {\n      label: 'Solutions can be...',\n      type: 'multiple-select',\n      minSelections: 1,\n      options: ['real', 'imaginary']\n    },\n    callImaginaryRoots: {\n      label: 'Non-real solutions',\n      type: 'select',\n      options: [\n        {value: 'a+bi', label: 'a + bi'},\n        {value: 'nosolution', label: 'no real solutions'}\n      ]\n    },\n    givenForm: {\n      label: 'Given form can be...',\n      type: 'multiple-select',\n      minSelections: 1,\n      options: [\n        {value: 'standard', label: 'standard form'}, \n        {value: 'oneside', label: 'one side of equation, need to combine like terms'},\n        {value: 'bothsides', label: 'terms on both sides of equation'}\n      ]\n    },\n    simplifySquareRoot: {\n      label: 'Square roots will need to be simplified',\n      type: 'select',\n      options: ['yes', 'no', 'sometimes']\n    },\n    simplifyFraction: {\n      label: 'Fractions will need to be simplified',\n      type: 'select',\n      options: ['yes', 'no', 'sometimes']\n    },\n    allowDifferenceOfSquares: {\n      label: 'Allow b term = 0',\n      type: 'boolean',\n    },\n    allowDoubleRoot: {\n      label: 'Allow double roots',\n      type: 'boolean',\n    },\n    allowZeroRoot: {\n      label: 'Allow solution of x = 0',\n      type: 'boolean',\n    }\n  }\n\n  static defaultParams = {\n    solutionTypes: {\n      integer: true, \n      rational: true, \n      irrational: true,\n    },\n    complexSolutions: {\n      real: true, \n      imaginary: true,\n    },\n    givenForm: {\n      standard: true,\n      oneside: true,\n      bothsides: true,\n    },\n    simplifySquareRoot: 'sometimes',\n    simplifyFraction: 'sometimes',\n    allowDifferenceOfSquares: true,\n    allowDoubleRoot: true,\n    allowZeroRoot: true,\n    callImaginaryRoots: 'a + bi'\n  }\n\n\tstatic options = {\n\t\tsingleColumn: true,\n\t}\n\n\tgenerate(params) {\n    const rd = this.random\n    \n    const solutionType = rd.choice(Object.keys(params.solutionTypes).filter(k => params.solutionTypes[k]))\n    \n    let complexSolution\n    if (params.callImaginaryRoots === 'nosolution' \n        && params.complexSolutions.real \n        && params.complexSolutions.imaginary) {\n      if (rd.random() < 0.8) {\n        complexSolution = 'real'\n      } else {\n        complexSolution = 'imaginary'\n      }\n    } else {\n      complexSolution = rd.choice(Object.keys(params.complexSolutions).filter(k => params.complexSolutions[k]))\n    }\n    const im = complexSolution === 'imaginary'\n\n    const givenForm = rd.choice(Object.keys(params.givenForm).filter(k => params.givenForm[k]))\n    const simplifySquareRoot = params.simplifySquareRoot === 'sometimes'\n      ? rd.bool()\n      : {'yes': true, 'no': false}[params.simplifySquareRoot]\n    const {simplifyFraction, allowDifferenceOfSquares} = params\n    const allowDoubleRoot = solutionType === 'irrational' || complexSolution === 'imaginary' ? false : params.allowDoubleRoot\n    const allowZeroRoot = solutionType === 'irrational' || complexSolution === 'imaginary' ? false : params.allowZeroRoot\n\n    let poly, xEquals\n    \n    if (solutionType === 'integer') {\n      let a = allowDifferenceOfSquares ? rd.randint(0,11) : rd.randint(1,11)\n      let b = allowDoubleRoot ? rd.randint(0,12-a) : rd.randint(1,12-a)\n      if (allowZeroRoot) {\n        while (a === b) {\n          a = allowDifferenceOfSquares ? rd.randint(0,11) : rd.randint(1,11)\n          b = allowDoubleRoot ? rd.randint(0,12-a) : rd.randint(1,12-a)\n        }\n      }\n      if (rd.bool()) {\n        a = -a\n      }\n      const quad = new Quadratic(a, b, {im})\n      poly = quad.polynomial()\n      xEquals = 'x = ' + quad.rootsToLatex()\n    }\n    else if (solutionType === 'rational') {\n      let a, b, d\n      let isValid = false\n      while (!isValid) {\n        isValid = true\n\n        d = rd.choice([2,3,4])\n        a = allowDifferenceOfSquares ? rd.randint(0,11) : rd.randint(1,11)\n        b = allowDoubleRoot ? rd.randint(0,12-a) : rd.randint(1,12-a)\n\n        if ((a+b) % d === 0 && (a-b) % d === 0) {\n          // both roots will be integers\n          isValid = false; continue;\n        }\n        if (!allowZeroRoot && a === b) {\n          isValid = false; continue;\n        }\n        if (simplifyFraction === 'yes') {\n          // ensure both fractions can't be simplified just by dividing\n          // out the GCF at the beginning\n          if (gcd(a+b, d) === gcd(a-b, d)) {\n            isValid = false; continue;\n          }\n        } else if (simplifyFraction === 'no') {\n          // ensure that neither fraction can simplify\n          if (gcd(a+b, d) !== 1 || gcd(a-b, d) !== 1) {\n            isValid = false; continue;\n          }\n        }\n      }\n\n      if (rd.bool()) {\n        a = -a\n      }\n      const quad = new Quadratic(a, b, {d, im})\n      poly = quad.polynomial()\n      xEquals = 'x = ' + quad.rootsToLatex()\n    }\n    else if (solutionType === 'irrational') {\n      let a, b, d, rt\n      let isValid = false\n      while (!isValid) {\n        isValid = true\n\n        d = rd.choice([2,3,4])\n        if (simplifySquareRoot) {\n          b = rd.randint(2,7)\n          rt = rd.choice([2,3,5,6])\n        } else {\n          b = 1\n          rt = rd.choice([2,3,5,6,7,10,11])\n        }\n\n        a = allowDifferenceOfSquares ? rd.randint(0,12-b) : rd.randint(1,12-b)\n\n        if (simplifyFraction === 'yes') {\n          // ensure both fractions can't be simplified just by dividing\n          // out the GCF at the beginning\n          if (gcd(a+b, d) === gcd(a-b, d)) {\n            isValid = false; continue;\n          }\n        } else if (simplifyFraction === 'no') {\n          // ensure that neither fraction can simplify\n          if (gcd(a+b, d) !== 1 || gcd(a-b, d) !== 1) {\n            isValid = false; continue;\n          }\n        }\n      }\n      const quad = new Quadratic(a, b, {d, rt, im})\n      poly = quad.polynomial()\n      xEquals = 'x = ' + quad.rootsToLatex()\n    }\n\n    let question\n\n    const answer = ((params.callImaginaryRoots === 'nosolution') && (complexSolution === 'imaginary'))\n      ? 'no real solutions'\n      : '$$' + xEquals + '$$'\n\n    if (givenForm === 'standard') {\n      question = rd.bool() ? poly.toLatex() + '= 0' : '0 =' + poly.toLatex()\n    }\n    else if (givenForm === 'oneside') {\n      const deg = rd.choice([1,2])\n      const rand = randomPolynomial.call(this, {degree: deg, maxCoefficient: 7, terms: rd.choice([2, deg+1])})\n      const expr = rd.bool() \n        ? `${poly.sub(rand).toLatex()} + ${rand.toLatex()}`\n        : `${rand.mul(-1).toLatex()} + ${poly.add(rand).toLatex()}`\n      if (rd.bool()) {\n        question = expr + '= 0'\n      } else {\n        question = '0 =' + expr\n      }\n    }\n    else if (givenForm === 'bothsides') {\n      const deg = rd.choice([1,2])\n      const rand = randomPolynomial.call(this, {degree: deg, maxCoefficient: 11, terms: rd.choice([2,deg+1])})\n      let [left, right] = rd.random() < 0.5 ? [poly.add(rand), rand] : [rand, poly.add(rand)]\n      if (rd.bool()) {\n        [left, right] = [right, left]\n      }\n      question = `${left.toLatex()} = ${right.toLatex()}`\n    }\n\n\t\treturn {\n\t\t\tinstructions: 'Determine the values of $$x$$ that satisfy the equation:',\n\t\t\tquestion: '$$' + question + '$$',\n\t\t\tanswer\n\t\t}\n\t}\n}\n\n\n\nexport class FactorQuadraticHard extends QGen {\n\tstatic info = {\n\t\tname: 'Factor Quadratic (Hard)',\n\t\tdescription: 'Factor a quadratic using AC method.'\n\t}\n\n\tstatic options = {\n\t\tsingleColumn: true,\n  }\n\n\tgenerate(params) {\n    const rd = this.random\n    \n    //let a1, a2, b1, b2\n\n\t\tconst a1 = rd.randint(2,5)\n\t\tconst a2 = rd.randint(2,8-a1)\n\n\t\tlet b1 = rd.randint(1,14-a2)\n\t\twhile (gcd(a1, b1) !== 1) {\n\t\t\tb1 = rd.randint(1,14-a2)\n\t\t}\n\t\tb1 *= rd.choice([-1,1])\n\n\t\t\n\t\tlet b2 = rd.randint(2, 14-a1)\n\t\twhile (gcd(a2, b2) !== 1) {\n\t\t\tb2 = rd.randint(1,14-a1)\n\t\t}\n\t\tb2 *= rd.choice([-1,1])\n\n\t\t// prevent difference of squares and perfect square\n\t\twhile (Math.abs(a1) === Math.abs(a2) && Math.abs(b1) === Math.abs(b2)) {\n\t\t\tb2 = rd.randint(2, 14-a1)\n\t\t\twhile (gcd(a2, b2) !== 1) {\n\t\t\t\tb2 = rd.randint(1,14-a1)\n\t\t\t}\n\t\t\tb2 *= rd.choice([-1,1])\n\t\t}\n\n\t\tconst p1 = new Polynomial({1: a1, 0: b1})\n\t\tconst p2 = new Polynomial({1: a2, 0: b2})\n\n\t\tconst a = a1 * a2\n\t\tconst b = a1 * b2 + a2 * b1\n\t\tconst c = b1 * b2\n\n\t\tconst poly = new Polynomial({2: a, 1: b, 0: c})\n\n\t\tconst answer = `$$(${p1.toLatex()})(${p2.toLatex()})$$`\n\n\t\treturn {\n\t\t\tinstructions: 'Rewrite as the product of linear factors:',\n\t\t\tquestion: `$$${poly.toLatex()}$$`,\n\t\t\tanswer: answer,\n\t\t}\n\t}\n}\n\n\n\nexport class RationalZeroTheorem extends QGen {\n\tstatic info = {\n\t\tname: 'Rational Zero Theorem',\n\t\tdescription: 'State possible rational zeros for a polynomial function.'\n  }\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\t\tlet primes = rd.sample([1, 2, 3, 5, 7, 11], 4)\n\t\tfor (const i in primes) {\n\t\t\tif (primes[i] === 1) {\n\t\t\t\tif (i === 0 | i === 2) {\n\t\t\t\t\tprimes[i+1] = Math.pow(primes[i+1], rd.randint(1,2))\n\t\t\t\t} else {\n\t\t\t\t\tprimes[i-1] = Math.pow(primes[i-1], rd.randint(1,2))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (const i in primes) {\n\t\t\tif (primes[i] === 2 | primes[i] === 3) {\n\t\t\t\tprimes[i] = Math.pow(primes[i], rd.randint(1,2))\n\t\t\t}\n\t\t}\n\t\tconst leading_coeff = primes[0] * primes[1]\n\t\tconst trailing_coeff = primes[2] * primes[3]\n\t\tconst degree = rd.randint(3,6)\n\t\tconst num_coeffs = rd.randint(3,degree)\n\t\tlet poly = randomPolynomialCoefficients.call(this, {degree: degree, terms: num_coeffs})\n\t\tpoly[0] = trailing_coeff\n\t\tpoly[degree] = leading_coeff\n\t\tconst f = new Polynomial(poly)\n\n\t\tconst question = '$$f(x) = ' + f.toLatex() + '$$'\n\t\t\n\t\tconst correctNumerators = listFactors(trailing_coeff, {include1: true, includeN: true})\n\t\tconst correctDenominators = listFactors(leading_coeff, {include1: true, includeN: true})\n\t\t\n\t\tconst allPossibleZeros = []\n\t\tfor (const a of correctNumerators) {\n\t\t\tfor (const b of correctDenominators) {\n\t\t\t\tallPossibleZeros.push(`${a}/${b}`)\n\t\t\t}\n\t\t}\n\n\t\tconst numCorrect = rd.choice([0,1,1,2,2,2,2,2,2,3,3,4])\n\t\tconst correctAnswers = []\n\t\twhile (correctAnswers.length < numCorrect) {\n\t\t\tconst [a, b] = [rd.choice(correctNumerators), rd.choice(correctDenominators)]\n\t\t\tconst s = `${a}/${b}`\n\t\t\tif (!includes(correctAnswers, s)) {\n\t\t\t\tcorrectAnswers.push(s)\n\t\t\t}\n\t\t}\n\n\t\tconst wrongAnswers = []\n\t\twhile (wrongAnswers.length < 4-numCorrect) {\n\t\t\tconst [a,b] = [rd.choice(correctDenominators), rd.choice(correctNumerators)]\n\t\t\tconst s = `${a}/${b}`\n\t\t\tif (!(s === '1/1') && !includes(wrongAnswers, s)) {\n\t\t\t\twrongAnswers.push(s)\n\t\t\t}\n\t\t}\n\n\t\tconst allChoices = [...correctAnswers, ...wrongAnswers]\n\t\tconst shuffled = []\n\t\tconst correctIndex = numCorrect ? [] : 4\n\t\tfor (let i = 0; i < 4; i++) {\n\t\t\tconst a = rd.poprandom(allChoices)\n\t\t\tif (includes(correctAnswers, a)) {\n\t\t\t\tcorrectIndex.push(i)\n\t\t\t}\n\t\t\tshuffled.push(a)\n\t\t}\n\n\t\treturn {\n\t\t\tinstructions: \"Which of the following are _possible_ zeros of the function according to the _Rational Zero Theorem_? Choose ***all*** that apply.\",\n\t\t\tquestion: question,\n\t\t\tanswer: {\n\t\t\t\tcorrect: allPossibleZeros.map(s => `$$${fraction(s).toLatex()}$$`).join(', '),\n\t\t\t\tchoices: [...shuffled.map(s => `$$\\\\displaystyle ${fraction(s).toLatex()}$$`), 'None of these'],\n\t\t\t\tcorrectIndex: correctIndex,\n\t\t\t\tlistDirection: 'horizontal',\n\t\t\t},\n      variants: {\n        freeResponse: {\n          instructions: \"List all possible rational zeros of the function (according to the _Rational Zero Theorem_).\"\n        }\n      }\n\t\t}\n\t}\n}\n\n\nexport class FactorQuadratic extends QGen {\n  static info = {\n    name: 'Factor Quadratic (Easy)',\n    description: 'Factor a quadratic with two integer solutions'\n  }\n\n  static options = {\n    singleColumn: true\n  }\n\n  static params = {\n    maxRoot: {\n      label: 'maximum root magnitude',\n      type: 'select',\n      options: [6,8,10,12,14,16]\n    }\n  }\n\n  static defaultParams = {\n    maxRoot: 12\n  }\n\n  generate(params) {\n    let a = 0, b = 0\n    const {maxRoot} = params\n    while (a === 0 && b === 0) {\n      a = this.random.randint(-maxRoot,maxRoot)\n      b = this.random.randint(-maxRoot,maxRoot)\n    }\n    const quadratic = Quadratic.fromRationalRoots(a, b)\n    const [factor1, factor2] = quadratic.factors()\n\n    let answer = ''\n    if (a === b) {\n      if (a === 0) {\n        answer = 'x^2'\n      } else {\n        answer = '(' + factor1.toLatex() + ')^2'\n      }\n    } else {\n      for (const f of [factor1, factor2]) {\n        console.log(f)\n        if (!f.coeff[0] || f.coeff[0].n === 0) {\n          answer = 'x' + answer\n        } else {\n          answer += '(' + f.toLatex() + ')'\n        }\n      }\n      //answer = '(' + factor1.toLatex() + ')(' + factor2.toLatex() + ')'\n    }\n    return {\n      instructions: 'Factor the quadratic expression:',\n      question: '$$' + factor1.mul(factor2).toLatex() + '$$',\n      answer: '$$' + answer + '$$'\n    }\n  }\n}","import Polynomial from 'polynomial'\nimport fraction from 'fraction.js'\nimport { round } from './tools/handystuff'\n\nimport QGen from './QGen'\n\n\n\nclass TransformTracker {\n\t// y = a * f((x - h)/b) + k\n\tconstructor(parent) {\n\t\tthis.parent = parent\n\t\tthis.a = fraction(1)\n\t\tthis.b = fraction(1)\n\t\tthis.h = fraction(0)\n\t\tthis.k = fraction(0)\n\t}\n\n  translate(x,y) { this.h += x; this.k += y }\n  scale(x,y) { this.b = this.b.mul(x); this.a = this.a.mul(y) }\n\ttranslateX(n) { this.h = this.h.add(n) }\n\ttranslateY(n) { this.k = this.k.add(n) }\n\tscaleX(n) { this.b = this.b.mul(n) }\n\tscaleY(n) { this.a = this.a.mul(n) }\n\t\n\tshiftH(n) { this.translateX(n) }\n\tshiftV(n) { this.translateY(n) }\n\tstretchH(n) { this.scaleX(n) }\n\tstretchV(n) { this.scaleY(n) }\n\tcompressH(n) { this.scaleX(fraction(1,n)) }\n\tcompressV(n) { this.scaleY(fraction(1,n)) }\n\treflectH() { this.b = -this.b }\n  reflectV() { this.a = -this.a }\n  up(n) { this.translateY(n) }\n  down(n) { this.translateY(-n) }\n\n\tf() {\n\t\tconst parent = {\n\t\t\t'abs': x => Math.abs(x),\n\t\t\t'cubic': x => x*x*x,\n\t\t\t'exp2': x => Math.pow(2,x),\n\t\t\t'log2': x => Math.log2(x),\n\t\t\t'quad': x => x*x,\n\t\t\t'sqrt': x => Math.sqrt(x),\n\t\t}[this.parent]\n\t\tconst {a, b, h, k} = this\n\t\treturn x => a * parent((x - h)/b) + k \n  }\n  \n  vgTransform() {\n    return ({type: 'matrix', params: [this.b.valueOf(), 0, 0, this.a.valueOf(), this.h, this.k]})\n  }\n\n\ttoLatex() {\n\t\tPolynomial.setField('Q')\n\t\tconst {parent, a, b, h, k} = this\n\t\tconst inner = new Polynomial([h.neg().div(b), fraction(1).div(b)]).toLatex()\n\t\tconst kStr = k.equals(0) ? '' : k < 0 ? k.toLatex() : '+' + k.toLatex()\n\t\tconst aStr = a.equals(1) ? '' : a.equals(-1) ? '-' : a.toLatex()\n\t\tif (parent === 'sqrt') {\n\t\t\treturn `${aStr}\\\\sqrt{${inner}}${kStr}`\n\t\t}\n\t\tif (parent === 'quad') {\n\t\t\tif (b.equals(1) && h.equals(0)) {\n\t\t\t\treturn `${aStr}x^2${kStr}`\n\t\t\t}\n\t\t\treturn `${aStr}(${inner})^2${kStr}`\n\t\t}\n\t\tif (parent === 'cubic') {\n\t\t\tif (b.equals(1) && h.equals(0)) {\n\t\t\t\treturn `${aStr}x^3${kStr}`\n\t\t\t}\n\t\t\treturn `${aStr}(${inner})^3${kStr}`\n\t\t}\n\t\tif (parent === 'abs') {\n\t\t\treturn `${aStr}|${inner}|${kStr}`\n\t\t}\n\t\tif (parent === 'exp2') {\n\t\t\tif (aStr) {\n\t\t\t\treturn `${aStr} \\\\cdot 2^{${inner}}${kStr}`\n\t\t\t}\n\t\t\treturn `${aStr}2^{${inner}}${kStr}`\n\t\t}\n\t\tif (parent === 'log2') {\n\t\t\treturn `${aStr}\\\\log_{2}(${inner})${kStr}`\n\t\t}\n\t}\n}\n\n\n\n\n\n\nexport class MatchTransformations extends QGen {\n\tstatic info = {\n\t\tname: 'Match Transformations',\n\t\tdescription: 'Match equations with graphs'\n\t}\n\n\tstatic params = {\n\t\tparents: {\n\t\t\tlabel: 'Allowed parent functions',\n\t\t\ttype: 'multiple-select',\n\t\t\tminSelections: 1,\n\t\t\toptions: [\n\t\t\t\t{value: 'sqrt', label: 'Square root'},\n\t\t\t\t{value: 'quad', label: 'Quadratic'},\n\t\t\t\t{value: 'abs', label: 'Absolute value'},\n\t\t\t\t{value: 'cubic', label: 'Cubic'}, // cubic is problematic because reflections are ambiguous\n\t\t\t\t{value: 'exp2', label: 'Exponential'},\n\t\t\t\t{value: 'log2', label: 'Logarithm'},\n\t\t\t],\n\t\t}\n\t}\n\n\tstatic defaultParams = {\n\t\tparents: {\n\t\t\tsqrt: true,\n\t\t\tquad: true,\n\t\t\tabs: true,\n\t\t\texp2: true,\n\t\t\tlog2: true,\n\t\t\tcubic: false,\n\t\t}\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\n\t\tconst parent = rd.choice(Object.keys(params.parents).filter(k => params.parents[k]))\n\n\t\tconst transforms = (\n\t\t\tparent === 'cubic' \n\t\t\t? ['up', 'down', 'left', 'right', 'stretchV', rd.choice(['flipLR', 'flipDown'])]\n\t\t\t: ['up', 'down', 'left', 'right', 'flipDown', 'flipLR']\n\t\t)\n\t\t\n\t\tlet eqns = []\n\t\tlet paths = []\n\n\t\tconst v = rd.randint(2,5)\n\t\tfor (const t of transforms) {\n\t\t\tconst func = new TransformTracker(parent)\n\n\t\t\tif (t === 'up') func.shiftV(v)\n\t\t\telse if (t === 'down') func.shiftV(-v)\n\t\t\telse if (t === 'left') func.shiftH(-v)\n\t\t\telse if (t === 'right') func.shiftH(v)\n\t\t\telse if (t === 'stretchV') func.stretchV(v)\n\t\t\telse if (t === 'flipDown') func.stretchV(-v)\n\t\t\telse if (t === 'stretchH') func.stretchH(v)\n\t\t\telse if (t === 'flipLR') func.compressH(-v)\n\n\t\t\tconst eqn = func.toLatex()\n      eqns.push(`$$y = ${eqn}$$`)\n\n\t\t\tconst f = func.f()\n\t\t\tconst points = []\n\t\t\tlet start, stop\n\t\t\tconst {a, b, h} = func\n\t\t\tif (func.parent === 'sqrt') {\n\t\t\t\t[start, stop] = b < 0 ? [-10, h*b] : [h*b, 10]\n\t\t\t}\n\t\t\telse if (func.parent === 'log2') {\n\t\t\t\tif (b < 0) {\n\t\t\t\t\t[start, stop] = [-10, h*b-0.01]\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t[start, stop] = [h*b+0.01, 10]\n\t\t\t\t\tpoints.push({x: h*b, y: -a*1000})\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t[start, stop] = [-10, 10]\n\t\t\t}\n\t\t\tlet x = start\n\t\t\twhile (x <= stop) {\n\t\t\t\tconst y = f(x)\n\t\t\t\tif (Math.abs(y) < 1000) {\n\t\t\t\t\tpoints.push({x: round(x, 3), y: round(y, 3)})\n\t\t\t\t}\n\t\t\t\tx += 0.2\n\t\t\t}\n\t\t\tif (func.parent === 'log2' && b < 0) {\n\t\t\t\tpoints.push({x: h*b, y: -a*1000})\n\t\t\t}\n      paths.push(points)\n\t\t}\n\n\t\tconst graphPoints = points => [\n\t\t\t'VegaPlot', {\n\t\t\t\theight: 120,\n\t\t\t\twidth: 120,\n\t\t\t\tdomain: [-7,7],\n\t\t\t\trange: [-7,7],\n\t\t\t\tplots: [\n\t\t\t\t\t{values: points, style: ['function', 'primary']}\n\t\t\t\t]\n\t\t\t}\n\t\t\t/*\n\t\t\t'CoordinatePlane', \n\t\t\t{ span: '-7,-7 7,7', height: '1.1in'},\n\t\t\t['Path', { points }]\n\t\t\t*/\n\t\t]\n\n\t\tconst eqnScramble = rd.shuffleRange(0, 5)\n\t\tconst graphScramble = rd.shuffleRange(0, 5)\n\n\t\tconst letters = 'ABCDEF'\n\n\t\tconst makebox = i => [\n\t\t\t'Container', \n\t\t\t{direction: 'row', alignItems: 'center', wrap: false}, \n\t\t\tletters[i] + ')',\n\t\t\tgraphPoints(paths[graphScramble[i]])\n\t\t]\n\n\t\tconst diagrams = [\n\t\t\t'Container',\n\t\t\t{direction: 'row', wrap: true},\n\t\t\t...[0,1,2,3,4,5].map(makebox)\n\t\t]\n\n\t\tconst eqnTable = [\n\t\t\t'Table', {border: true, align: 'c|c'},\n\t\t\t['TRow', {header: true, border: true}, 'Equation', 'Graph'],\n\t\t\t...eqnScramble.map(i => (\n\t\t\t\t['TRow', {border: true}, eqns[i], ['EmptySpace', {height: '7mm', width: '7mm'}]]\n\t\t\t))\n\t\t]\n\n\n\t\tconst answer = eqnScramble.map(i => letters[graphScramble.indexOf(i)]).join(', ')\n\n\t\treturn {\n\t\t\tinstructions: 'Fill in the table to match each equation to its graph.',\n\t\t\tdiagram: diagrams,\n\t\t\tanswer: {\n\t\t\t\tprompt: eqnTable,\n\t\t\t\tcorrect: answer,\n\t\t\t},\n\t\t}\n\n\t}\n}\n","import QGen from './QGen'\nimport fraction from 'fraction.js'\nimport math from 'mathjs'\nimport { range, round, includes } from './tools/handystuff'\nimport { Point, Polygon, Segment } from './tools/geom2d'\n\nfunction latexpifraction({n, d, s}) {\n  if (n === 0) {\n    return '0'\n  }\n  if (d < 0) {\n    return latexpifraction({n: -n, d: -d})\n  }\n  let numer\n  if (n === 1) {\n    numer = '\\\\pi'\n  } else {\n    numer = `${n}\\\\pi`\n  }\n  if (s === -1) {\n    numer = '-' + numer\n  }\n  if (d === 1) {\n    return numer\n  } else {\n    return `\\\\frac{${numer}}{${d}}`\n  }\n}\n\n/*\nconst pythagoreanTriples = [\n  [3, 4, 5],\n  [5, 12, 13],\n  [8, 15, 17],\n  [7, 24, 25],\n  [20, 21, 29],\n  [12, 35, 37],\n  [9, 40, 41],\n  [28, 45, 53],\n  [33, 56, 65],\n  [48, 55, 73],\n  [36, 77, 85],\n  [65, 72, 97],\n]\n*/\n\nexport class ConvertAngle extends QGen {\n  static info = {\n    name: 'Convert Angle',\n    description: 'Convert between degrees and radians'\n  }\n\n  static params = {\n    conversion: {\n      label: 'Convert',\n      type: 'select',\n      options: ['degrees to radians', 'radians to degrees', 'either'],\n    },\n    negative: {\n      label: 'Negative angles',\n      type: 'select',\n      options: ['yes', 'no', 'random'],\n    }\n  }\n\n  static defaultParams = {\n    conversion: 'either',\n    negative: 'random'\n  }\n\n  static options = {\n    singleColumn: true\n  }\n\n  generate(params) {\n    const rd = this.random\n    const conversion = rd.choice({\n      'degrees to radians': ['d2r'],\n      'radians to degrees': ['r2d'],\n      'either': ['d2r', 'r2d'],\n    }[params.conversion])\n    const neg = rd.choice({\n      yes: [true],\n      no: [false],\n      random: [true, false],\n    }[params.negative])\n    const rotations = rd.choice([0,1,2])\n    \n    const denom = rd.choice([5,10,10,12,12])\n    const numers = range(1, 2*denom-1, true).filter(n => math.gcd(denom, n) === 1)\n    \n    let numer = rd.choice(numers)\n    if (rotations) {\n      numer += denom * 2 * rotations\n    }\n\n    // don't freak students out with 666\n    while (denom === 10 && numer === 37) {\n      numer = rd.choice(numers)\n      if (rotations) {\n        numer += denom * 2 * rotations\n      }\n    }\n    \n    const radians = fraction(neg ? -numer : numer, denom)\n    const degrees = 180 * radians.s * radians.n / radians.d\n\n    let instructions, question, answer\n    if (conversion === 'r2d') {\n      instructions = 'Convert the angle from radians to degrees:'\n      question = `$$\\\\displaystyle ${latexpifraction(radians)}$$`\n      answer = `$$${degrees}\\\\degree$$`\n    } else {\n      instructions = 'Convert the angle from degrees to radians:'\n      question = `$$${degrees}\\\\degree$$`\n      answer = `$$${latexpifraction(radians)}$$`\n    }\n\n    return {\n      instructions,\n      question,\n      answer,\n      //layout: [['instructions', 'question'], ['answer', 'diagram']]\n    }\n\n  }\n}\n\n\nexport class IdentifyQuadrant extends QGen {\n  static info = {\n    name: 'Identify Quadrant',\n    description: 'Identify the quadrant of an angle given the sign of two trig functions'\n  }\n\n  static params = {\n    functions: {\n      label: 'Functions to use',\n      type: 'multiple-select',\n      minSelections: 2,\n      options: ['sin', 'cos', 'tan', 'csc', 'sec', 'cot'],\n    },\n    quadrant: {\n      label: 'Allowed quadrants',\n      type: 'multiple-select',\n      minSelections: 1,\n      options: [1, 2, 3, 4],\n    }\n  }\n\n  static defaultParams = {\n    functions: {sin: true, cos: true, tan: true, csc: true, sec: true, cot: true},\n    quadrant: {1: true, 2: true, 3: true, 4: true},\n  }\n\n  static options = {\n    singleColumn: true\n  }\n\n  generate(params) {\n    const rd = this.random\n    \n    const functions = {\n      // funcs  Q1  Q2  Q3  Q4\n      sin: [[], 1,  1, -1, -1],\n      cos: [[], 1, -1, -1,  1],\n      tan: [[], 1, -1,  1, -1],\n    }\n    for (const f in params.functions) {\n      if (params.functions[f]) {\n        if (f === 'sin' || f === 'csc') {\n          functions.sin[0].push(f)\n        } else if (f === 'cos' || f === 'sec') {\n          functions.cos[0].push(f)\n        } else if (f === 'tan' || f === 'cot') {\n          functions.tan[0].push(f)\n        }\n      }\n    }\n\n    const quadrant = rd.choice(Object.keys(params.quadrant).filter(k => params.quadrant[k]))\n    const answer = {1: 'I', 2: 'II', 3: 'III', 4: 'IV'}[quadrant]\n    const ineq = {[-1]: '< 0', 1: '> 0'}\n    const angle = rd.choice(['theta', 'omega', 'alpha', 'beta'])\n\n    const funcChoices = Object.keys(functions).filter(f => functions[f][0].length > 0)\n    const funcKeys = rd.sample(funcChoices, 2)\n    const funcs = funcKeys.map(f => rd.choice(functions[f][0]))\n  \n    const clue = i => `\\\\${funcs[i]}\\\\${angle} ${ineq[functions[funcKeys[i]][quadrant]]}`\n    const question = `If $$${clue(0)}$$ and $$${clue(1)}$$, which quadrant is $$\\\\${angle}$$ in?`\n\n    return {\n      question,\n      answer: {\n        correct: answer,\n        choices: ['I', 'II', 'III', 'IV'],\n        correctIndex: quadrant-1,\n        listDirection: 'horizontal',\n      }\n    }\n  }\n}\n\nexport class SolveRightTriangle extends QGen {\n  static info = {\n    name: 'Solve Right Triangle',\n    description: 'Find all missing side and angle measures for a right triangle'\n  }\n\n  static params = {\n    given: {\n      label: 'Givens can be:',\n      type: 'multiple-select',\n      minSelections: 1,\n      options: [\n        {value: 'HL', label: 'Hypotenuse-Leg'},\n        {value: 'LL', label: 'Leg-Leg'},\n        {value: 'HA', label: 'Hypotenuse-Angle'}, \n        {value: 'LA', label: 'Leg-Angle'},\n      ],\n    },\n  }\n\n  static defaultParams = {\n    given: {HL: true, LL: true, HA: true, 'LA': true}\n  }\n\n  generate(params) {\n    const rd = this.random\n    const given = rd.choice(Object.keys(params.given).filter(k => params.given[k]))\n    \n    // Determine givens\n    let givens\n    if (given === 'HL') {\n      if (rd.bool()) {\n        givens = ['a', 'c']\n      } else {\n        givens = ['b', 'c']\n      }\n    }\n\n    else if (given === 'LL') {\n      givens = ['a', 'b']\n    }\n\n    else if (given === 'HA') {\n      if (rd.bool()) {\n        givens = ['c', 'A']\n      } else {\n        givens = ['c', 'B']\n      }\n    }\n\n    else if (given === 'LA') {\n      if (rd.bool()) {\n        if (rd.bool()) {\n          givens = ['a', 'A']\n        } else {\n          givens = ['b', 'B']\n        }\n      } else {\n        if (rd.bool()) {\n          givens = ['a', 'B']\n        } else {\n          givens = ['b', 'A']\n        }\n      }\n    }\n\n    // Generate triangle\n    const C = 90\n    let a, b, c, A, B\n\n    // Use integer angles\n    A = rd.randint(8, 42)\n    while (includes([30, 45, 60, 69, 21], A)) {\n      A = rd.randint(8, 42)\n    }\n    B = 90 - A\n    if (rd.bool()) {\n      A = B\n      B = 90 - A\n    }\n\n    c = rd.randint(8, 90)\n    a = Math.sin(A * Math.PI / 180) * c\n    b = Math.sin(B * Math.PI / 180) * c\n\n\n    // Make sure all givens are integers\n    if (given === 'HA') {\n      c = Math.ceil(c)\n      a = Math.sin(A * Math.PI / 180) * c\n      b = Math.sin(B * Math.PI / 180) * c\n    } else if (given === 'LA') {\n      if (includes(givens, 'a')) {\n        a = Math.ceil(a)\n        c = a / Math.sin(A * Math.PI / 180)\n        b = a / Math.tan(A * Math.PI / 180)\n      } else {\n        b = Math.ceil(a)\n        c = b / Math.sin(B * Math.PI / 180)\n        a = b / Math.tan(B * Math.PI / 180)\n      }\n    } else if (given === 'LL') {\n      a = Math.round(a)\n      b = Math.round(b)\n      c = Math.sqrt(a*a + b*b)\n      A = Math.atan(b/a) * 180 / Math.PI\n      B = 90 - A\n    } else if (given === 'HL') {\n      if (includes(givens, 'a')) {\n        a = Math.floor(a)\n        c = Math.ceil(c)\n        b = Math.sqrt(c*c - a*a)\n      } else if (includes(givens, 'b')) {\n        b = Math.floor(b)\n        c = Math.ceil(c)\n        a = Math.sqrt(c*c - b*b)\n      }\n      A = Math.atan(b/a) * 180 / Math.PI\n      B = 90 - A\n    }\n\n    //const units = rd.choice(['cm', 'km', 'in', 'ft', 'm'])\n    \n    const values = {\n      a: round(a, 2),\n      b: round(b, 2),\n      c: round(c, 2),\n      A: round(A, 1) + '\\\\degree',\n      B: round(B, 1) + '\\\\degree',\n      C: round(C, 1) + '\\\\degree'\n    }\n    \n\n    const labels = {C: 'C'}\n\n    let giveninfo = []\n    let answer = []\n    let answerblanks = []\n    for (const k of ['A', 'B', 'C']) {\n      if (k === 'C' || includes(givens, k)) {\n        giveninfo.push(`$$m\\\\angle{${k}} = ${values[k]}$$`)\n        labels[k] = '$$' + values[k] + '$$'\n      } else {\n        answerblanks.push(`$$m\\\\angle{${k}}$$ =`)\n        answer.push(`$$${k} = ${values[k]}$$`)\n        labels[k] = '$$?$$'\n      }\n    }\n    for (const k of ['a', 'b', 'c']) {\n      if (includes(givens, k)) {\n        giveninfo.push(`$$${k} = ${values[k]}$$`)\n        labels[k] = '$$' + values[k] + '$$'\n      } else {\n        answerblanks.push(`length $$${k}$$ =`)\n        answer.push(`$$${k} = ${values[k]}$$`)\n        labels[k] = '$$' + k + '$$'\n      }\n    }\n\n    const question = [\n      `Given that ${giveninfo.slice(0,-1).join(', ')} and ${giveninfo[giveninfo.length-1]},`,\n      \"determine the measure of all other sides and angles for triangle $$ABC$$.\",\n      \"The diagram is __not__ to scale.\",\n    ].join(' ')\n\n    const verts = {\n      A: Point.Cartesian(0,0),\n      B: Point.Cartesian(4,3),\n      C: Point.Cartesian(4,0)\n    }\n    const triangle = new Polygon(verts.A, verts.C, verts.B)\n    const opts = {\n      round: 2, \n      markers: '...', \n      labels: ['A', 'C', 'B'].map(l => '$$' + l + '$$'),\n      distance: .3\n    }\n    const AB = new Segment(verts.A, verts.B)\n    const AC = new Segment(verts.A, verts.C)\n    const BC = new Segment(verts.B, verts.C)\n    const labelAt = {\n      A: verts.A.add({x: 1, y: .3}),\n      B: verts.B.add({x: -.35, y: -.8}),\n    }\n    const segLabels = [\n      BC.plotLabel(labels.a, {where: 'right', distance: .1, anchor: 'W'}),\n      AC.plotLabel(labels.b, {where: 'below', distance: .1, anchor: 'N'}),\n      AB.plotLabel(labels.c, {where: 'above', distance: .1, anchor: 'S', rotate: 'auto'})\n    ]\n\n    const diagram = [\n      'CoordinatePlane', {span: \"0,0 4,3\", axis: false, grid: false, clip: false, height: '1.5in', style: 'geometry'},\n      //['Grid', {span: [0,0, 4,3], step: [.25,.25], axis: false}],\n      ['AngleMark', {right: true, x: 4, y: 0, initial: \"90deg\", terminal: \"180deg\", radius: .4}],\n      ...triangle.plot(opts),\n      ...segLabels,\n      ['Overlay', labelAt.A.toObject(opts), labels.A],\n      ['Overlay', labelAt.B.toObject(opts), labels.B],\n    ]\n\n    return {\n      question,\n      diagram,\n      answer: {\n        correct: answer.join(', '),\n        prompt: [\n          'AnswerBlanks', {box: true},\n          ...answerblanks\n        ]\n      },\n    }\n  }\n}","import math from 'mathjs'\nimport { round } from './tools/handystuff'\nimport QGen from './QGen'\n\n\nexport class RationalGraph extends QGen {\n\tstatic info = {\n\t\tname: 'Rational Graph',\n\t\tdescription: 'Determine the equation from the graph of a rational function',\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\n\t\tconst variant = params.variant\n\n\t\tconst makeFunction = (top, bottom) => {\n\t\t\tlet f = function(x) {\n\t\t\t\tlet n = 1\n\t\t\t\tlet d = 1\n\t\t\t\tfor (const r of top) {\n\t\t\t\t\tn *= (x - r)\n\t\t\t\t}\n\t\t\t\tfor (const r of bottom) {\n\t\t\t\t\td *= (x - r)\n\t\t\t\t}\n\t\t\t\treturn n / d\n\t\t\t}\n\t\t\treturn f\n\t\t}\n\n\t\tfunction generateValues() {\n\t\t\tlet vals = rd.sampleRange(1, 8, 4).map(v => rd.bool() ? v : -v)\n\t\t\tlet roots = [vals[0]]\n\t\t\tlet holes = [vals[1]]\n\t\t\tlet asymptotes = [vals[2]]\n\t\t\tif (rd.random() < 0.5) {\n\t\t\t\tasymptotes.push(vals[3])\n\t\t\t} else if (rd.random() < 0.8) {\n\t\t\t\tholes.push(vals[3])\n\t\t\t}\n\t\t\treturn ({roots, holes, asymptotes})\n\t\t}\n\n\t\tfunction allHolesInRange(holes, f) {\n\t\t\tfor (const r of holes) {\n\t\t\t\tif (f(r) <= -8 || f(r) >= 8) {\n\t\t\t\t\treturn false\n\t\t\t\t} \n\t\t\t}\n\t\t\treturn true\n\t\t}\n\n\t\tlet roots, holes, asymptotes, f\n\t\tlet isGood = false\n\n\t\twhile (!isGood) {\n\t\t\t({roots, holes, asymptotes} = generateValues())\n\t\t\tf = makeFunction(roots, asymptotes)\n\t\t\tisGood = allHolesInRange(holes, f)\n\t\t}\n\t\t\n\t\tconst graph = [\n\t\t\t'CoordinatePlane',\n\t\t\t{span: \"-10,-8 10,8\", height: '1.8in'},\n\t\t\t[\n\t\t\t\t'RationalFunction',\n\t\t\t\t{\n\t\t\t\t\tdomain: [-12,12],\n\t\t\t\t\trange: [-10,10],\n\t\t\t\t\troots, holes, asymptotes,\n\t\t\t\t}\n\t\t\t]\n\t\t]\n\n\t\tfunction fmtAns(ans) {\n\t\t\tlet numer = ''\n\t\t\tfor (const r of ans.top.sort((a,b) => b-a)) {\n\t\t\t\tnumer += '(' + math.simplify(`x - ${r}`).toString() + ')'\n\t\t\t}\n\t\t\tlet denom = ''\n\t\t\tfor (const r of ans.bottom.sort((a,b) => b-a)) {\n\t\t\t\tdenom += '(' + math.simplify(`x - ${r}`).toString() + ')'\n\t\t\t}\n\t\t\treturn `$$\\\\displaystyle y = \\\\frac{ ${numer} }{ ${denom} }$$`\n\t\t}\n\n\t\tconst answer = {top: [...roots, ...holes], bottom: [...holes, ...asymptotes]}\n\n\t\tconst wrongs = [\n\t\t\t{top: [...holes, ...asymptotes], bottom: [...holes, ...roots]},\n\t\t\t{top: [...roots], bottom: [...holes, ...asymptotes]},\n\t\t\t{top: [...roots, ...holes].map(r => -r), bottom: [...holes, ...asymptotes].map(r => -r)},\n\t\t\t{top: [...holes, ...asymptotes].map(r => -r), bottom: [...holes, ...roots].map(r => -r)},\n\t\t]\n\n\t\tconst i = rd.randint(0,wrongs.length)\n\t\tconst choices = rd.shuffle([answer, ...wrongs].map(fmtAns), i)\n\n\t\treturn {\n\t\t\tinstructions: 'Choose the equation that best describes the graph shown.',\n\t\t\tdiagram: graph,\n\t\t\tanswer: {\n\t\t\t\tcorrect: fmtAns(answer),\n\t\t\t\tchoices: choices,\n\t\t\t\tcorrectIndex: i,\n\t\t\t\tprompt: [\n\t\t\t\t\t'AnswerBlanks',\n\t\t\t\t\t{height: '8em', width: '20em'},\n\t\t\t\t\t'$$y = $$', \n\t\t\t\t],\n\t\t\t},\n\t\t\toptions: { variant },\n\t\t\tvariants: {\n\t\t\t\tfreeResponse: {\n\t\t\t\t\tinstructions: 'Write the equation that best describes the graph shown.',\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n\nexport class IncreasingIntervals extends QGen {\n\tstatic info = {\n\t\tname: 'Increasing Intervals',\n\t\tdescription: 'Identify intervals over which a graph is increasing'\n\t}\n\n\tstatic params = {\n\t\ttoFind: {\n\t\t\tlabel: 'type of interval to find',\n\t\t\ttype: 'select',\n\t\t\toptions: ['increasing', 'decreasing', 'either'],\n\t\t},\n\t\tstyle: {\n\t\t\tlabel: 'graph style',\n\t\t\ttype: 'select',\n\t\t\toptions: ['jagged', 'smooth'],\n\t\t},\n\t\tpoints: {\n\t\t\tlabel: 'emphasize key points',\n\t\t\ttype: 'boolean',\n\t\t}\n\t}\n\n\tstatic defaultParams = {\n\t\ttoFind: 'increasing',\n\t\tstyle: 'smooth',\n\t\tpoints: false,\n\t}\n\n\tinterpolatePath(points) {\n\t\t// smooths path so that 1st deriv = 0 at each point\n\t\tconst pts = Array.isArray(points[0]) ? points.map(p => ({x: p[0], y: p[1]})) : points\n\t\tlet d = `M${pts[0].x},${pts[0].y}`\n\t\tlet prev = pts[0]\n\t\tfor (let i = 1; i < pts.length; i++) {\n\t\t\tconst p = pts[i]\n\t\t\tconst x1 = round((2*prev.x + p.x) / 3, 3)\n\t\t\tconst x2 = round((prev.x + 2*p.x) / 3, 3)\n\t\t\td += ` C ${x1},${prev.y} ${x2},${p.y} ${p.x},${p.y}`\n\t\t\tprev = p\n\t\t}\n\t\treturn d\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\n\t\tconst toFind = rd.choice({\n\t\t\tincreasing: ['inc'],\n\t\t\tdecreasing: ['dec'],\n\t\t\teither: ['inc', 'dec']\n\t\t}[params.toFind])\n\n\t\tconst xs = [-10]\n\t\tlet prev = -10\n\t\twhile (prev < 7) {\n\t\t\tconst next = rd.randint(prev+3, prev+5)\n\t\t\tif (next > 7) {\n\t\t\t\txs.push(8)\n\t\t\t} else {\n\t\t\t\txs.push(next)\n\t\t\t}\n\t\t\tprev = xs[xs.length-1]\n\t\t}\n\t\txs.push(10)\n\n\t\tconst yRange = [-4,4]\n\t\tconst ys = [rd.randint(...yRange)]\n\n\t\tlet maxConstantIntervals = 2\n\t\tlet which\n\t\twhile (ys.length < xs.length) {\n\t\t\tlet possible = []\n\t\t\tconst prev = ys[ys.length-1]\n\t\t\tif (which !== 'dec' & prev >= yRange[0]+2) {\n\t\t\t\tpossible.push('dec')\n\t\t\t}\n\t\t\tif (which !== 'inc' & prev <= yRange[1]-2) {\n\t\t\t\tpossible.push('inc')\n\t\t\t}\n\t\t\tif (which !== 'const' & maxConstantIntervals > 0) {\n\t\t\t\tpossible.push('const')\n\t\t\t\tmaxConstantIntervals -= 1\n\t\t\t}\n\t\t\twhich = rd.choice(possible)\n\t\t\tif (which === 'dec') {\n\t\t\t\tys.push(rd.randint(Math.max(yRange[0], prev-7), prev-2))\n\t\t\t} else if (which === 'inc') {\n\t\t\t\tys.push(rd.randint(prev+2, Math.min(yRange[1], prev+7)))\n\t\t\t} else {\n\t\t\t\tys.push(prev)\n\t\t\t}\n\t\t}\n\n\t\tif (rd.random() < 0.5) {\n\t\t\tys.reverse()\n\t\t}\n\n\t\tconst intervals = []\n\t\tfor (let i = 1; i < ys.length; i++) {\n\t\t\tif (ys[i-1] < ys[i]) {\n\t\t\t\tintervals.push('inc')\n\t\t\t} else if (ys[i-1] === ys[i]) {\n\t\t\t\tintervals.push('const')\n\t\t\t} else {\n\t\t\t\tintervals.push('dec')\n\t\t\t}\n\t\t}\n\n\t\tlet answer = []\n\t\tlet wrongAnswer1 = []  // ys insteas of xs\n\t\tlet wrongAnswer2 = []  // points instead of xs\n\t\tlet wrongAnswer3 = []  // switch dec/inc\n\t\tlet wrongAnswer4 = []  // switch dec/inc, ys instead of xs\n\n\t\tlet points = [\n\t\t\t{x: xs[0], y: ys[0]},\n\t\t]\n\t\tfor (let i=0; i < intervals.length; i++) {\n\t\t\tpoints.push({x: xs[i+1], y: ys[i+1]})\n\t\t\tif (intervals[i] === toFind) {\n\t\t\t\tanswer.push({start: xs[i], stop: xs[i+1]})\n\t\t\t\twrongAnswer1.push({start: ys[i], stop: ys[i+1]})\n\t\t\t\twrongAnswer2.push({start: xs[i], stop: ys[i]})\n\t\t\t\twrongAnswer2.push({start: xs[i+1], stop: ys[i+1]})\n\t\t\t} else if (intervals[i] === {'inc': 'dec', 'dec': 'inc'}[toFind]) {\n\t\t\t\twrongAnswer3.push({start: xs[i], stop: xs[i+1]})\n\t\t\t\twrongAnswer4.push({start: ys[i], stop: ys[i+1]})\n\t\t\t}\n\t\t}\n\n\t\tconst path = params.style === 'smooth' ? {d: this.interpolatePath(points)} : {points}\n\t\tif (params.points) {\n\t\t\tpath.markers = '...'\n\t\t}\n\t\t\n\t\tconst diagram = [\n\t\t\t'CoordinatePlane', {span: `-10,${yRange[0]-1} 10,${yRange[1]+1}`, height: '1.4in', clip: false},\n\t\t\t['Path', path]\n\t\t]\n\t\t\n\t\tconst fullName = {inc: 'increasing', dec: 'decreasing'}[toFind]\n\n\t\tfunction fmtAns(ans) {\n\t\t\tif (ans.length === 0) {\n\t\t\t\treturn 'None'\n\t\t\t}\n\t\t\treturn ans.map((int) => `$$(${int.start}, ${int.stop})$$`).join(', ')\n\t\t}\n\n\t\tconst wrongs = [wrongAnswer1, wrongAnswer2, wrongAnswer3, wrongAnswer4]\n\t\tconst answerIndex = rd.randint(0, wrongs.length)\n\t\tconst choices = rd.shuffle([answer, ...wrongs], answerIndex).map(fmtAns)\n\n\t\treturn ({\n\t\t\tinstructions: `Determine the intervals over which the function is ***${fullName}***.`,\n\t\t\tdiagram: diagram,\n\t\t\tanswer: {\n\t\t\t\tcorrect: fmtAns(answer),\n\t\t\t\tchoices: choices,\n\t\t\t\tcorrectIndex: answerIndex,\n\t\t\t\tprompt: ['EmptySpace', {width: '2in'}]\n\t\t\t}\n\t\t})\n\t}\n}\n\n\nexport class GraphLinearInequalities extends QGen {\n\tstatic info = {\n\t\tname: 'Graph Inequalities',\n\t\tdescription: 'Graph the solution to a system of two linear inequalities',\n\t}\n\n\n\tstatic options = {\n\t\tsingleColumn: true,\n\t\tvariants: ['freeResponse'],\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\t\t\n\t\tlet [x1, y1, y2] = rd.sampleRange(2,7,3)\n\t\tlet x2 = rd.randint(-7,-2)\n\t\tconst rotation = rd.randint(0,3)\n\t\tfor (let i = 0; i < rotation; i++) {\n\t\t\t[x1, y1, x2, y2] = [-y1, x1, -y2, x2]\n\t\t}\n\t\tif (x1 > 0 && x2 > 0) {\n\t\t\t[x1, y1, x2, y2] = [-y1, x1, -y2, x2]\n\t\t}\n\n\t\tconst [ineq1, ineq2] = rd.shuffle([rd.choice(['<', '>']), rd.choice(['<=', '>='])])\n\n\t\tconst line1 = {a: y1, b: x1, c: x1*y1, ineq: ineq1, xInt: x1, yInt: y1}\n\t\tconst line2 = {a: y2, b: x2, c: x2*y2, ineq: ineq2, xInt: x2, yInt: y2}\n\n\t\tconst withsign = n => n < 0 ? n : '+' + n\n\t\tconst latexineq = ineq => {\n\t\t\tif (ineq === '<=') return '\\\\leq'\n\t\t\tif (ineq === '>=') return '\\\\geq'\n\t\t\treturn ineq\n\t\t}\n\n\t\tconst latexeqn = f => `${f.a}x ${withsign(f.b)}y &${latexineq(f.ineq)} ${f.c}`\n\n\t\tconst question = `$$\\\\displaystyle\\\\left\\\\{\\\\begin{aligned}\\n${latexeqn(line1)} \\\\\\\\\\n${latexeqn(line2)}\\n\\\\end{aligned}\\\\right.$$`\n\n\t\tconst blankgraph = ['CoordinatePlane', {span: \"-10,-10 10,10\", height: \"1.8in\"}]\n\n\t\tconst correct = {\n\t\t\tlines: [], \n\t\t\tclips: [],\n\t\t}\n\n\t\tfor (const f of [line1, line2]) {\n\t\t\tconst func = x => (f.c - x*f.a) / f.b\n\t\t\tconst points = [[-11, func(-11)], [11, func(11)]]\n\n\t\t\tif (f.ineq === '<' || f.ineq === '>') {\n\t\t\t\tcorrect.lines.push(['Path', {points, styleName: 'dashed'}])\n\t\t\t} else {\n\t\t\t\tcorrect.lines.push(['Path', {points}])\n\t\t\t}\n\n\t\t\tlet whichside\n\t\t\tif (f.ineq === '<' || f.ineq === '<=') {\n\t\t\t\tif (f.b > 0) {\n\t\t\t\t\twhichside = 'below'\n\t\t\t\t}\telse {\n\t\t\t\t\twhichside = 'above'\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (f.b > 0) {\n\t\t\t\t\twhichside = 'above'\n\t\t\t\t} else {\n\t\t\t\t\twhichside = 'below'\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (whichside === 'above') {\n\t\t\t\tcorrect.clips.push([...points, [11,11], [-11, 11]])\n\t\t\t} else {\n\t\t\t\tcorrect.clips.push([...points, [11,-11], [-11, -11]])\n\t\t\t}\n\t\t}\n\n\t\tconst plotAnswer = a => (\n\t\t\t[\n\t\t\t\t'CoordinatePlane', {span: \"-10,-10 10,10\", height: '1in', margin: '0.5mm'},\n\t\t\t\t[\n\t\t\t\t\t'Clip', {shape: 'Path', points: a.clips[0]}, [\n\t\t\t\t\t\t'Clip', {shape: 'Path', points: a.clips[1]},\n\t\t\t\t\t\t['Rect', {x: \"-11\", y: \"-11\", width: \"22\", height: \"22\", fill: \"solid\"}]\n\t\t\t\t]],\n\t\t\t\t['Style', {name: 'grey'}, ...a.lines],\n\t\t\t\t['Clip', {shape: 'Path', points: a.clips[1]}, a.lines[0] ],\n\t\t\t\t['Clip', {shape: 'Path', points: a.clips[0]}, a.lines[1] ],\n\t\t\t]\n\t\t)\n\n\n\t\treturn {\n\t\t\tinstructions: 'Graph the solution to the system of inequalities.',\n\t\t\tquestion: question,\n\t\t\tanswer: {\n\t\t\t\tprompt: blankgraph,\n\t\t\t\tcorrect: plotAnswer(correct),\n\t\t\t},\n\t\t}\n\t}\n}\n\n/*\nfunction eqnFromPoints(p1, p2) {\n\tconst m = fraction(p2[1] - p1[1], p2[0] - p1[0])\n\tconst b = p1[1] - m*p1[0]\n\tconst f = x => m*x + b\n\tPolynomial.setField('Q')\n\tconst latex = new Polynomial([b, m]).toLatex()\n\treturn ({f, latex})\n}\n\n\nclass WritePiecewise extends QGen {\n\tstatic info = {\n\t\tname: 'Write Piecewise Function',\n\t\tdescription: 'Write the equation for a piecewise function from its graph.'\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\n\t\tconst domain = [-9,9]\n\t\tconst range = [-10,10]\n\n\t\tconst order = rd.sample(['inc', 'dec', 'const'], 3)\n\n\n\n\t\tconst eqns = []\n\n\t\tconst pieces = []\n\t\tconst xs = [domain[0], -3, 3, domain[1]]\n\n\n\t\tconst left = [rd.bool(), rd.bool()] // does the function go with the left at the domain break?\n\n\t\tconst markers = [\n\t\t\t['<', '.', '.'], \n\t\t\t['.', '.', '.'], \n\t\t\t['.', '.', '>'], \n\t\t]\n\n\t\tconst domainIneqs = [\n\t\t\t['\\\\leq', '\\\\leq'],\n\t\t\t['\\\\leq', '\\\\leq'],\n\t\t\t['\\\\leq', '\\\\leq'],\n\t\t]\n\n\t\tif (left[0]) {\n\t\t\tmarkers[1][0] = 'o'\n\t\t\tdomainIneqs[1][0] = '<'\n\t\t} else {\n\t\t\tmarkers[0][2] = 'o'\n\t\t\tdomainIneqs[0][1] = '<'\n\t\t}\n\t\tif (left[1]) {\n\t\t\tmarkers[2][0] = 'o'\n\t\t\tdomainIneqs[2][0] = '<'\n\t\t} else {\n\t\t\tmarkers[1][2] = 'o'\n\t\t\tdomainIneqs[1][1] = '<'\n\t\t}\n\n\t\tconst answer = `$$y = \\\\left\\\\{\\\\begin{array}{r l r}\n\t${eqns[0].latex} & \\\\text{ for } & -\\\\infty ${domainIneqs[0][0]} x ${domainIneqs[0][1]} ${xs[1]} \\\\\\\\\n\t${eqns[1].latex} & \\\\text{ for } & ${xs[1]} ${domainIneqs[1][0]} x ${domainIneqs[1][1]} ${xs[2]} \\\\\\\\\n\t${eqns[2].latex} & \\\\text{ for } & ${xs[2]} ${domainIneqs[2][0]} x ${domainIneqs[2][1]} \\\\infty \\\\\\\\\n\\\\end{array}\\\\right.$$`\n\n\t\tconst paths = [\n\t\t\t['Path', {points: [pieces[0]], markers: markers[0].join('')}],\n\t\t\t['Path', {points: [pieces[1]], markers: markers[1].join('')}],\n\t\t\t['Path', {points: [pieces[2]], markers: markers[2].join('')}],\n\t\t]\n\n\t\tconst diagram = [\n\t\t\t'CoordinatePlane', {\n\t\t\t\tspan: [domain[0]-1, range[0], domain[1]+1, range[1]], \n\t\t\t\tclip: false,\n\t\t\t\theight: '2in',\n\t\t\t},\n\t\t\t...paths\n\t\t]\n\n\t\treturn {\n\t\t\tinstructions: 'Write the equation for the piecewise function shown.',\n\t\t\tdiagram,\n\t\t\tanswer,\n\t\t}\n\t}\n}\n*/","const dict19 = {\n  0: 'zero',\n  1: 'one',\n  2: 'two',\n  3: 'three',\n  4: 'four',\n  5: 'five',\n  6: 'six',\n  7: 'seven',\n  8: 'eight',\n  9: 'nine',\n  10: 'ten',\n  11: 'eleven',\n  12: 'twelve',\n  13: 'thirteen',\n  14: 'fourteen',\n  15: 'fifteen',\n  16: 'sixteen',\n  17: 'seventeen',\n  18: 'eighteen',\n  19: 'nineteen',\n}\n\nconst dictTens = {\n  2: 'twenty',\n  3: 'thirty',\n  4: 'fourty',\n  5: 'fifty',\n  6: 'sixty',\n  7: 'seventy',\n  8: 'eighty',\n  9: 'ninety',\n}\n\nconst dictPowers = {\n  3:'thousand',\n  6:'million',\n  9:'billion',\n  12:'trillion',\n  15:'quadrillion',\n  18:'quintillion',\n  21:'sextillion',\n  24:'septillion',\n  27:'octillion',\n  30:'nonillion',\n  33:'decillion',\n  36:'undecillion',\n  39:'duodecillion',\n  42:'tredecillion',\n  45:'quattuordecillion',\n  48:'quindecillion',\n  51:'sexdecillion',\n  54:'septendecillion',\n  57:'octodecillion',\n  60:'novemdecillion',\n  63:'vigintillion',\n}\n\nfunction divmod(n, d) {\n  return [Math.floor(n/d), n % d]\n}\n\nexport function sayinteger(n) {\n  if (n < 0) {\n    return 'negative ' + sayinteger(-n)\n  } else if (n < 20) {\n    return dict19[n]\n  } else if (n < 100) {\n    const [a, b] = divmod(n, 10)\n    if (b === 0) {\n      return dictTens[a]\n    } else {\n      return dictTens[a] + '-' + dict19[b]\n    }\n  } else if (n < 1000) {\n    const [a, b] = divmod(n, 100)\n    if (b === 0) {\n      return dict19[a] + ' hundred'\n    } else {\n      return dict19[a] + ' hundred ' + sayinteger(b)\n    }\n  }\n  for (const k of Object.keys(dictPowers).sort((a,b) => a-b)) {\n    if (n < Math.pow(10,k+3)) {\n      const [a, b] = divmod(n, Math.pow(10,k))\n      if (b === 0) {\n        return sayinteger(a) + ' ' + dictPowers[k]\n      } else {\n        return sayinteger(a) + ' ' + dictPowers[k] + ', ' + sayinteger(b)\n      }\n    }\n  }\n  return n.toString()\n}\n\nexport function saynth(n) {\n  const replacer = {\n    one: 'first',\n    two: 'second',\n    three: 'third',\n    five: 'fifth',\n    eight: 'eighth',\n    nine: 'ninth',\n    twelve: 'twelfth',\n  }\n  for (const ten of [20, 30, 40, 50, 60, 70, 80, 90]) {\n    const s = sayinteger(ten)\n    replacer[s] = s.replace('ty', 'tieth')\n  }\n  if (n === 0) {\n    return 'zeroeth'\n  }\n  let words = sayinteger(n).split(' ')\n  let lastword = words[words.length-1].split('-')\n  let ending = lastword[lastword.length-1]\n  if (replacer[ending]) {\n    ending = replacer[ending]\n  } else {\n    ending += 'th'\n  }\n  lastword[lastword.length-1] = ending\n  words[words.length-1] = lastword.join('-')\n  return words.join(' ')\n}\n","import QGen from './QGen'\nimport fraction from 'fraction.js'\nimport { sayinteger, saynth } from './tools/saynumber'\nimport { round, capitalize } from './tools/handystuff'\nimport { Point, Vector, Line, Segment, Polygon, Circle, bisectAngle } from './tools/geom2d'\n\nfunction josephus(n, k) {\n  if (n === 1) {\n    return 1\n  } else {\n    return (k + josephus(n-1, k) - 1) % n + 1\n  }\n}\n\nexport class Josephus extends QGen {\n  static info = {\n    name: 'Josephus',\n    description: 'A somewhat morbid counting puzzle.'\n  }\n\n  generate() {\n    const rd = this.random\n    const n = rd.randint(17, 29) // number of prisoners\n    const k = rd.randint(7, 14) // kill every kth prisoner\n    return {\n      instructions: [ \n        `**${capitalize(sayinteger(n))}** prisoners are forced to stand in a line.`,\n        'Their captor, a disgraced number theorist, announces that he will begin counting the prisoners beginning at the front of the line.',\n        `Each time he reaches the number **${sayinteger(k)}**, he will execute that prisoner and then restart his count with the next prisoner in line.`,\n        'When he reaches the end of the line he will move back to the front of the line and continue counting where he left off.',\n        `He will continue to do this, each time executing the ${saynth(k)} prisoner, until only one prisoner remains.`,\n        'This last remaining prisoner will be set free.',\n      ].join(' '),\n      question: [\n        '*You are one of the prisoners.*',\n        'Before he begins counting, your captor gives you a chance to rearrange yourselves.',\n        'Where should you stand to make sure you will survive?',\n      ].join(' '),\n      answer: saynth(josephus(n, k)),\n    }\n  }\n}\n\nexport class FinalDigit extends QGen {\n  static info = {\n    name: 'Final Digit',\n  }\n\n  static options = {\n    singleColumn: true,\n  }\n\n  generate() {\n    const rd = this.random\n    const base = rd.choice([2,3,7,8])\n    const exponent = rd.randint(300000,3000000)\n\n    const answer = {\n      2: [6, 2, 4, 8],\n      3: [1, 3, 9, 7],\n      7: [1, 7, 9, 3],\n      8: [6, 8, 4, 2],\n    }[base][exponent % 4]\n\n    const exampleExponent = rd.choice({\n      2: [4,5,6],\n      3: [3,4],\n      7: [2,3],\n      8: [2,3],\n     }[base])\n    const exampleResult = Math.pow(base, exampleExponent)\n    const exampleAnswer = exampleResult % 10\n    const instructions = `The final digit of $$${base}^{${exampleExponent}}=${exampleResult}$$ is $$${exampleAnswer}$$.`\n    const question = `What is the final digit of $$${base}^{${exponent}}$$?`\n    return {instructions, question, answer}\n  }\n}\n\nexport class Triangle2 extends QGen {\n  static info = {\n    name: 'Triangle Problem 2',\n    description: 'Easy to answer, hard to prove'\n  }\n  \n  generate() {\n    const rd = this.random\n    const letters = rd.choice(['ABCD', 'FGHJ', 'JKLM', 'PQRS', 'WXYZ'])\n    const [A, B, C, D] = letters\n    const question = `Suppose $$${D}$$ is a point on side $$\\\\overline{${B}${C}}$$ of $$\\\\triangle{${A}${B}${C}}$$ such that $$${D}${C} = 2${B}${D}$$, $$\\\\angle{${B}${C}${A}} \\\\cong \\\\angle{${B}${A}${D}}$$, and $$m\\\\angle{${C}${A}${D}} = 30\\\\degree$$. Determine the measure of $$\\\\angle{${A}${B}${C}}$$ and justify your answer.`\n    const answer = \"$$90\\\\degree$$\"\n    return {question, answer}\n  }\n}\n\nexport class EightCircles extends QGen {\n  static info = {\n    name: 'Eight Circles',\n    description: 'Hard geometry problem, less hard trigonometry problem'\n  }\n\n  static params = {\n    numberOfCircles: {\n      label: 'number of circles',\n      type: 'multiple-select',\n      minSelections: 1,\n      options: [4,5,6,7,8,9,10]\n    },\n    given: {\n      label: 'given',\n      type: 'multiple-select',\n      options: ['small radius', 'large radius']\n    }\n  }\n  static defaultParams = {\n    numberOfCircles: {8: true},\n    given: {'small radius': true}\n  }\n\n  generate(params) {\n    const rd = this.random\n    const n = rd.choice(Object.keys(params.numberOfCircles).filter(k => params.numberOfCircles[k]))\n    const given = rd.choice(Object.keys(params.given).filter(k => params.given[k]))\n    const radians = 2*Math.PI/n\n    const f = 2 * Math.sin((Math.PI - radians)/2) / Math.sin(radians) + 1\n    let smallRadius, bigRadius\n    if (given === 'small radius') {\n      smallRadius = rd.randint(2,9)\n      bigRadius = f * smallRadius\n    } else {\n      bigRadius = rd.randint(4,35)\n      smallRadius = bigRadius / f\n    }\n\n    let question = `${capitalize(sayinteger(n))} congruent circles are inscribed in a larger circle, as shown in the diagram. Each circle intersects any other circle that it touches at exactly one point.`\n    let answer\n    if (given === 'small radius') {\n      question += ` Given that the radius of each of the smaller circles is ${smallRadius} units, determine the radius of the large circle. Round your answer to four decimal places.`\n      answer = round(bigRadius, 4)\n    } else {\n      question += ` Given that the radius of the large circle is ${bigRadius} units, determine the radius of each of the smaller circles. Round your answer to four decimal places.`\n      answer = round(smallRadius, 4)\n    }\n\n    // make diagram\n    const graphr = 1\n    const graphR = f\n    const diffR = f - 1\n    const graphSize = round(f * 1.05, 2)\n    const span = [-graphSize, -graphSize, graphSize, graphSize].map(n => round(n,2)).join(' ')\n    \n    const unitCircle = []\n    for (let i = 0; i < n; i++) {\n      const angle = i*radians\n      const x = Math.cos(angle)\n      const y = Math.sin(angle)\n      unitCircle.push({x, y})\n    }\n    const smallCircles = unitCircle.map(({x, y}) => [\n      'Circle', {\n        cx: round(diffR*x,4), \n        cy: round(diffR*y,4), \n        r: round(graphr,4)\n      }\n    ])\n    const points = unitCircle.map(({x, y}) => [\n      'Point', {x: round(x*graphR,4), y: round(y*graphR,4)}\n    ])\n    for (let i = 0; i < unitCircle.length; i++) {\n      const p1 = unitCircle[i]\n      const p2 = unitCircle[(i+1)%unitCircle.length]\n      const x = diffR*(p1.x + p2.x)/2\n      const y = diffR*(p1.y + p2.y)/2\n      points.push(['Point', {x: round(x,4), y: round(y,4)}])\n    }\n\n    \n    const rotate = rd.randint(0,359)\n    const diagram = [\n      'CoordinatePlane', {\n        span, \n        grid: false, \n        axis: false,\n        height: '1.7in', \n        style: 'geometry',\n      },\n      [\n        'Transform', {type: 'rotate', a: rotate},\n        ['Circle', {cx: 0, cy: 0, r: round(graphR,4)}],\n        ...smallCircles,\n        ...points\n      ]\n    ]\n    \n    return {\n      question,\n      diagram,\n      answer,\n    }\n  }\n}\n\nexport class HiddenIsosceles extends QGen {\n  static info = {\n    name: 'Triangle Problem 1',\n    description: 'Requires no trigonometry'\n  }\n\n  generate() {\n    const rd = this.random\n\n    let [A, B, C, D, E, F, G] = rd.choice(['ABCDEFG', 'MNOPQRS', 'TUVWXYZ'])\n    const r = rd.random()\n\n    if (r < 1/3) {\n      [B, C, D, E, F, G] = [F, D, E, B, G, C]\n    } else if (r < 2/3) {\n      [A, B, D, F, G] = [F, A, B, G, D]\n    }\n    const angleFAE = rd.randint(41, 62)\n\n    const question = [\n      `Given that $$${[B,D].sort().join('')} = ${[C,D].sort().join('')}$$,`,\n      `$$${[B,E].sort().join('')} = 2${[A,D].sort().join('')}$$,`,\n      `and $$m\\\\angle{${F}${A}${E}} = ${angleFAE}\\\\degree$$, determine`,\n      `$$m\\\\angle{${F}${E}${A}}$$.`\n    ].join(' ')\n\n    \n    const angleC = 65//rd.randint(60,70)\n    const angleB1 = 22//rd.randint(20, 30)\n    const angleB2 = 15//rd.randint(12, 18)\n    const vecCA = Vector.Polar(180-angleC, 1, {degrees: true})\n    const vecBE = Vector.Polar(angleB1, 1, {degrees: true})\n    const vecBA = Vector.Polar(angleB1 + angleB2, 1, {degrees: true})\n\n    const b = new Point(0,0)\n    const c = new Point(12,0)\n    const d = b.midpoint(c)\n    const lineAB = new Line(b, vecBA)\n    const lineAC = new Line(c, vecCA)\n\n    const a = lineAB.intersection(lineAC)\n    const e = new Line(b, vecBE).intersection(lineAC)\n    const g = new Line(d, vecBE).intersection(lineAC)\n    const ad = new Segment(a, d)\n    const be = new Segment(b, e)\n    const dg = new Segment(d, g)\n    const f = ad.toLine().intersection(be.toLine())\n    const triangle = new Polygon(a, b, d, c, g, e)\n\n    const span = [b.x - 1, b.y - 1, c.x + 1, a.y + 1].map(n => round(n,2)).join(' ')\n\n    const opts = {\n      round: 2, \n      degrees: true, \n      markers: '---',\n      labels: [A, B, D, C, G, E].map(l => '$$' + l + '$$'),\n      distance: 1\n    }\n    const labelF = f.add(Point.Polar(\n      bisectAngle(a.subtract(d).atan2(), b.subtract(e).atan2()),\n      opts.distance, \n      {degrees: false}\n    )).toObject(opts)\n\n    const diagram = [\n      'CoordinatePlane', \n      {\n        span, \n        grid: false, axis: false, \n        style: 'geometry', \n        height: '1.5in'\n      },\n      ...triangle.plot(opts),\n      ...[ad, be, dg].map(seg => seg.plot(opts)),\n      ...[a, b, c, d, e, f, g].map(p => p.plot(opts)),\n      ['Overlay', labelF, '$$' + F + '$$']\n    ]\n\n    return {\n      question,\n      diagram,\n      answer: `$$${angleFAE}\\\\degree$$`\n    }\n  }\n}\n\n\nexport class KissingCircles extends QGen {\n  static info = {\n    name: 'Kissing Circles',\n  }\n\n  generate() {\n    const [A, B, C] = 'ABC'\n    const f = this.random.randint(1,2)\n    const sqrtb = this.random.choice([2, 3]) * f\n    const sqrta = this.random.randint(sqrtb+1, 5) * f\n    const a = sqrta*sqrta\n    const b = sqrtb*sqrtb\n    const c = fraction(a * b, a + 2 * sqrta*sqrtb + b)\n    const question = [\n      `Circles $$${A}$$, $$${B}$$, and $$${C}$$ all lie tangent to the same`,\n      'line and to each other, as shown in the diagram.',\n      `The radius of circle $$${A}$$ is $$${a}$$,`,\n      `and the radius of circle $$${B}$$ is $$${b}$$.`,\n      `Determine the radius of circle $$${C}$$.`\n    ].join(' ')\n    const answer = `$$${c.toLatex()}$$`\n\n    const graph = {a: 7, b: 4}\n    graph.c = (({a, b}) => (a * b) / (a + 2 * Math.sqrt(a * b) + b))(graph)\n    graph.ax = 0\n    graph.bx = (({a, b}) => Math.sqrt((a+b)*(a+b) - (a-b)*(a-b)))(graph)\n    graph.cx = (({a, c}) => Math.sqrt((a+c)*(a+c) - (a-c)*(a-c)))(graph)\n\n    const ptA = new Point(graph.ax, graph.a)\n    const ptB = new Point(graph.bx, graph.b)\n    const ptC = new Point(graph.cx, graph.c)\n    const circleA = new Circle(ptA, graph.a)\n    const circleB = new Circle(ptB, graph.b)\n    const circleC = new Circle(ptC, graph.c)\n    const span = [graph.ax-graph.a - 1, -1, graph.bx+graph.b+1, 2*graph.a+1].map(n => round(n,2))\n\n\n    const opts = {round: 2}\n    const diagram = [\n      'CoordinatePlane',\n      {span: span.join(' '), axis: false, grid: false, style: 'geometry', height: '1.5in'},\n      ['Path', {points: `${span[0]},0 ${span[2]},0`}],\n      ...[circleA, circleB, circleC].map(c => c.plot(opts)),\n      ['Overlay', {...ptA.toObject(opts)}, '$$' + A + '$$'],\n      ['Overlay', {...ptB.toObject(opts)}, '$$' + B + '$$'],\n      ['Overlay', {...ptC.toObject(opts)}, '$$' + C + '$$'],\n    ]\n\n    return { question, diagram, answer }\n\n  }\n}","/*\nEvery \n```\nexport class ... extends QGen {\n  static info = {\n    ...\n  }\n\n  generate() {\n    ...\n  }\n}\n```\nis a question generator. The `generate()` method describes how the question\nis generated and returns an object that looks something like: \n```\n{\n  instructions: ...,\n  question: ...,\n  diagram: ...,\n  answer: ...\n}\n```\nAny of the four fields (instructions, question, diagram, and answer) can be\nleft out if not needed.\n*/\n\n\nimport QGen from './QGen'\nimport fraction from 'fraction.js'\nimport Polynomial from 'polynomial'\nimport { round } from './tools/handystuff'\n\n\nexport class MinimalGenerator extends QGen {\n\n  static info = { name: 'Minimal Generator' }\n\n  generate() {\n    return {\n      instructions: 'instructions here',\n      question: 'question here',\n      diagram: 'diagram here',\n      answer: 'answer here',\n    }\n  }\n}\n\n\nexport class EasySum extends QGen {\n  static info = {\n    name: 'Easy Sum',\n    description: 'Pick two random integers and add them together'\n  }\n\n  static options = {\n    // this question takes only half the width of the page\n    singleColumn: true, \n  }\n\n  generate() {\n    /* \n    You can generate random numbers in other ways, but this.random has \n    the seed set correctly and has several handy methods built in.\n    Look in ./tools/random_randomjs.js to see available methods.\n    Below, randint(m, n) generates a random integer between m and n (inclusive)\n    */\n    const a = this.random.randint(1,9)\n    const b = this.random.randint(1,9)\n\n    return {\n      instructions: 'Calculate the sum:',\n      question: `${a} + ${b} = ?`, \n      answer: a + b,\n    }\n  }\n}\n\n\nexport class SimpleGraph extends QGen {\n  static info = {\n    name: 'Simple Graph',\n    description: 'Coordinate plane with two points plotted.',\n  }\n\n  static options = {\n    singleColumn: true,\n  }\n\n  generate() {\n    const rd = this.random\n\n    let x1, x2, y1, y2\n    while (x1 === x2 && y1 === y2) {\n      // pick 4 numbers at random, each from -5 to 5 (inclusive)\n      // and regenerate if the two points are identical\n      x1 = rd.randint(-5,5)\n      x2 = rd.randint(-5,5)\n      y1 = rd.randint(-5,5)\n      y2 = rd.randint(-5,5) \n    }\n\n    const answer = x1 === x2\n      ? 'undefined'\n      : '$$' + fraction(y2-y1, x2-x1).toLatex() + '$$'\n    // using the fraction.js library will simplify the fraction \n    // (if necessary) and give us the latex formula\n\n    return {\n      instructions: 'Calculate the slope between the two points shown on the graph.',\n      answer,\n      diagram: [\n        /*\n        'VegaPlot', {\n          domain: [-5,5],\n          range: [-5,5],\n          paths: [\n            {values: [{x: x1, y: y1}, {x: x2, y: y2}], style: 'primary'}\n          ]\n        }\n        */\n        'CoordinatePlane',\n        {\n          span: [-6,-6,6,6], // left, bottom, right, top; can also be a string, e.g. \"-6,-6 6,6\"\n          height: '1.5in', // height on the page - you need to provide either height or width\n          axis: true,  // whether to show the axis; default is true\n          grid: true,  // whether to show the grid; default is true\n          clip: false, // whether to clip elements on the graph to the grid (rather than grid+margins); default is true\n        },\n        [\n          'Path', \n          {\n            points: [[x1, y1], [x2, y2]], \n            style: 'dashed',  // make the path dashed rather than solid\n            markers: '.-.',  // place a point mark at the two endpoints\n          },\n        ],\n      ]\n    }\n  }\n}\n\n\nexport class AnswerPrompt extends QGen {\n  static info = {\n    name: 'Answer Prompt',\n  }\n\n  static options = {\n    singleColumn: true,\n  }\n\n  generate() {\n    const rd = this.random\n\n    // This question will also ask for slope, but without a graph\n    // We'll generate it the same way as the last one\n    let x1, x2, y1, y2\n    while (x1 === x2 && y1 === y2) {\n      x1 = rd.randint(-5,5)\n      x2 = rd.randint(-5,5)\n      y1 = rd.randint(-5,5)\n      y2 = rd.randint(-5,5) \n    }\n\n    const rise = y2 - y1\n    const run = x2 - x1\n    const slope = run === 0 ? 'undefined' : '$$' + fraction(rise, run).toLatex() + '$$'\n    const answer = `rise: $$${rise}$$, run: $$${run}$$, slope: ${slope}`\n\n    return {\n      instructions: 'Calculate the slope between the two points:',\n      question: `$$(${x1},${y1})$$ and $$(${x2},${y2})$$`,\n      answer: {\n        prompt: ['AnswerBlanks', 'rise = ', 'run = ', 'slope = '],\n        correct: answer,\n      }\n    }\n  }\n}\n\n\nexport class PolynomialLibrary extends QGen {\n\tstatic info = {\n\t\tname: 'Solve Quadratic',\n\t\tdescription: 'Create a factorable quadratic using polynomial.js library'\n  }\n  \n  static options = {\n    singleColumn: true\n  }\n\n\tgenerate() {\n\t\tconst rd = this.random\n\n\t\t// generate two integers to be the roots of the quadratic:\n\t\tconst a = rd.randint(-12,12)\n\t\tconst b = rd.randint(-12,12)\n\n\t\t// first linear factor: x - a\n\t\tconst lin1 = new Polynomial({\n\t\t\t1: 1, // coefficient of x^1\n\t\t\t0: -a, // coefficient of x^0 (constant term)\n\t\t})\n\n\t\t// second linear factor: x - b\n\t\tconst lin2 = new Polynomial({1: 1, 0: -b})\n\n    // multiply the two factors together\n\t\tconst quadratic = lin1.mul(lin2)\n\n\t\treturn {\n\t\t\tinstructions: 'Solve the quadratic equation:',\n\t\t\tquestion: `$$${quadratic.toLatex()} = 0$$`,\n\t\t\tanswer: `$$x = ${a}, ${b}$$`,\n\t\t}\n\t}\n}\n\nexport class Parameters extends QGen {\n  static info = {\n    name: 'Parameters',\n  }\n\n  // Passing parameters parameters from the GUI has not yet been implemented\n\n  static params = {\n    operation: {\n      label: 'operation',\n      type: 'select',\n      options: ['addition', 'subtraction', 'multiplication', 'division']\n    }\n  }\n\n  static defaultParams = {\n    operation: 'addition'\n  }\n\n  static options = { singleColumn: true }\n\n  generate(params) {\n    const operation = params.operation\n    const [a, b] = this.random.sampleRange(2,12,2)\n    let answer, symbol\n    if (operation === 'addition') { answer = a + b; symbol = '+' }\n    else if (operation === 'subtraction') { answer = a - b; symbol = '-' }\n    else if (operation === 'multiplication') { answer = a * b; symbol = '\\\\cdot' }\n    else if (operation === 'division') { answer = a / b; symbol = '\\\\div' }\n\n    return {\n      question: `Calculate $$${a} ${symbol} ${b}$$`,\n      answer: `$$${answer}$$`,\n    }\n\n  }\n}\n\n\nfunction randomSlope({allowInteger=true}={}) {\n  let [x1, x2, y1, y2] = this.random.sampleRange(-10,10,4)\n  if (!allowInteger) {\n    while ((y2 - y1) % (x2 - x1) === 0) {\n      [x1, y1, x2, y2] = this.random.sampleRange(-10,10,4)\n    }\n  }\n  return {x1, y1, x2, y2, m: fraction(y2-y1, x2-x1)}\n}\n\nexport class RandomFunction extends QGen {\n  static info = {\n    name: 'Random Seed',\n    description: \"Use an externally defined function with the generator's random seed\"\n  }\n\n  static options = { singleColumn: true }\n\n  generate() {\n    const {x1, y1, x2, y2, m} = randomSlope.call(this, {allowInteger: false})\n    return {\n      instructions: 'Calculate the slope between the two points:',\n      question: `$$(${x1},${y1})$$ and $$(${x2},${y2})$$`,\n      answer: '$$' + m.toLatex() + '$$'\n    }\n  }\n}\n\nexport class BarGraph extends QGen {\n  static info = {\n    name: 'Bar Graph',\n    description: 'Bar graph using Vega-Lite'\n  }\n\n  static options = { singleColumn: true }\n\n  generate() {\n    const rd = this.random\n    const [A, B, C, D, F] = Array(5).fill().map(() => rd.randint(5,15))\n    const total = A + B + C + D + F\n    const perc = 100 * (A + B + C) / total\n\n    const spec = {\n      height: 250,\n      width: 150,\n      data: {\n        values: [\n          {grade: 'A', students: A},\n          {grade: 'B', students: B},\n          {grade: 'C', students: C},\n          {grade: 'D', students: D},\n          {grade: 'F', students: F}\n        ]\n      },\n      mark: { type: 'bar', cornerRadius: 2 },\n      encoding: {\n        x: { \n          field: 'grade',\n          type: 'nominal',\n          axis: { labels: false, title: false, ticks: false },\n        },\n        y: {\n          field: 'students',\n          type: 'quantitative',\n          axis: { title: 'number of students' }\n        },\n        color: { field: 'grade', type: 'nominal' },\n      },\n    }\n\n    return {\n      question: 'Students must have a C or better in order to participate in an upcoming field trip. Based on the graph, what percentage of the students will be attending the trip?',\n      answer: round(perc, 1) + '%',\n      diagram: ['VegaLite', {spec}],\n    }\n  }\n}","\n\nconst test = function(f, x, y) {\n  const r = f({x: x, y: y})\n  if (r > 0) { return 'gt' }\n  if (r < 0) { return 'lt'}\n  return 'eq'\n}\n\nconst contourPresent = function(f, x, y, d) {\n  const p = d / 30\n  let q, r, s, t\n  try {\n    q = test(f, x, y)\n  } catch(e) {\n    q = test(f, x+p, y+p)\n  }\n  \n  try {\n    r = test(f, x+d, y)\n  } catch(e) {\n    r = test(f, x+d-p, y+p)\n  }\n  if (r !== q) return true\n\n  try {\n    s = test(f, x+d, y+d)\n  } catch(e) {\n    s = test(f, x+d-p, y+d-p)\n  }\n  if (s !== q) return true\n\n  try {\n    t = test(f, x, y+d)\n  } catch(e) {\n    t = test(f, x+p, y+d-p)\n  }\n  if (t !== q) return true\n\n  return false\n}\n\n\nconst subdivide = function(f, x, y, d, depth, searchDepth) {\n  const hd = d / 2\n  const props = [hd, depth-1, searchDepth-1]\n  return [\n    ...createTree(f, x, y, ...props),\n    ...createTree(f, x+hd, y, ...props),\n    ...createTree(f, x+hd, y+hd, ...props),\n    ...createTree(f, x, y+hd, ...props)\n  ]\n}\n\nconst createTree = function(f, x, y, d, depth, searchDepth) {\n  if (searchDepth > 0) {\n    return subdivide(f, x, y, d, depth, searchDepth)\n  } else {\n    if (contourPresent(f, x, y, d)) {\n      if (depth > 0) {\n        return subdivide(f, x, y, d, depth, searchDepth)\n      } else {\n        return [{x: x+d/2, y: y+d/2}]\n      }\n    } else {\n      return []\n    }\n  }\n}\n\n\nclass QuadTree {\n\tconstructor({left, right, x=-10, y=-10, d=20, depth=10, searchDepth=6}) {\n    this.f = p => left(p) - right(p)\n\t\tthis.x = x\n\t\tthis.y = y\n\t\tthis.d = d\n\t\tthis.depth = depth\n\t\tthis.searchDepth = searchDepth\n\t}\n\n\tcalcPoints() {\n\t\treturn createTree(this.f, this.x, this.y, this.d, this.depth, this.searchDepth)\n\t}\n}\n\nexport {\n  QuadTree,\n  createTree,\n}","import QGen from './QGen'\nimport { createTree } from './tools/QuadTree'\nimport { Quadratic } from './polynomials'\nimport { round } from './tools/handystuff'\n\nexport class TestQuadratic extends QGen {\n  static info = {name: 'Test Quadratic'}\n\n\n  generate(params) {\n\n    const leadingCoefficient = 3\n\n    const Q = Quadratic.fromRationalRoots(3, -2)\n\n    return {\n      //instructions: JSON.stringify(p),\n      question: `$$${Q.polynomial({leadingCoefficient}).toLatex()}$$ ==> $$${Q.rootsToLatex()}$$`\n    }\n  }\n}\n\nexport class RationalPlot extends QGen {\n  static info = {\n    name: 'RationalFunction',\n    description: 'test vectorgraphic RationalFunction'\n  }\n\n  generate(params) {\n    const rd = this.random\n\n    const inv = rd.choice([true, false])\n\n    const numRoots = rd.randint(0,2)\n    const numAsymptotes = rd.randint(1,3)\n    const numHoles = rd.randint(0,2)\n    const total = numRoots + numAsymptotes + numHoles\n    const values = rd.sampleRange(-9,9,total)\n    const roots = values.slice(0,numRoots)\n    const asymptotes = values.slice(numRoots, numRoots+numAsymptotes)\n    const holes = values.slice(numRoots+numAsymptotes)\n    const domain = [-11,11]\n\n    const [x, y] = inv ? ['y', 'x'] : ['x', 'y']\n\n    let num = ''\n    let den = ''\n\n    for (const r of [...roots, ...holes].sort((a,b) => b-a)) {\n      if (r === 0) {\n        num = `${x}${num}`\n      } else if (r > 0) {\n        num = `${num}(${x}-${r})`\n      } else {\n        num = `${num}(${x}+${-r})`\n      }\n    }\n\n    for (const r of [...asymptotes, ...holes].sort((a,b) => b-a)) {\n      if (r === 0) {\n        den = `${x}${den}`\n      } else if (r > 0) {\n        den = `${den}(${x}-${r})`\n      } else {\n        den = `${den}(${x}+${-r})`\n      }\n    }\n\n    if (num === '') num = '1'\n    if (den === '') den = '1'\n\n    const transform = inv ? 'invertXY' : 'none'\n\n    const graph = [\n      'CoordinatePlane',\n      {span: [-10,-10,10,10], height: '2in'},\n      [\n        'Transform', { type: transform },\n        [\n          'RationalFunction',\n          {roots, holes, asymptotes, domain}\n        ]\n      ]\n    ]\n\n    return {\n      question: `The graph of $$ ${y} = \\\\displaystyle\\\\frac{${num}}{${den}} $$`,\n      diagram: graph,\n    }\n\n\n  }\n}\n\nexport class PolynomialPlot extends QGen {\n  static info = {\n    name: 'PolynomialFunction',\n    description: 'test vectorgraphic PolynomialFunction'\n  }\n\n  generate(params) {\n    const rd = this.random\n\n    const deg = rd.randint(2,7)\n    const inv = rd.choice([true, false])\n    let coeffs = rd.sample([-5,-4,-3,-2,-1,0,1,2,3,4,5], deg+1)\n    const denom = rd.randint(2, 21)\n    \n    if (coeffs[coeffs.length-1] === 0) {\n      coeffs = coeffs.slice(0,-1)\n    }\n    const [v, w] = inv ? ['y', 'x'] : ['x', 'y']\n    let tex = ''\n    for (let i = coeffs.length-1; i >= 0; i--) {\n      const c = coeffs[i]\n      const x = i === 0 ? '' : `${v}^{${i}}`\n      if (c > 0) {\n        if (i < coeffs.length-1) tex += '+';\n        if (c !== 1 || i === 0) tex += c;\n        tex += x\n      } else if (c < 0) {\n        if (c !== -1 || i === 0) {\n          tex += c\n        } else {\n          tex += '-'\n        }\n        tex += x\n      }\n    }\n\n    const transform = inv ? 'invertXY' : 'none'\n\n    const graph = [\n      'CoordinatePlane', {span: [-10,-10,10,10], width: '2in'},\n      [\n        'Transform', { type: transform },\n        [\n          'PolynomialFunction',\n          {coefficients: coeffs.map(c => c/denom), domain: [-11,11]}\n        ]\n      ]\n    ]\n\n    const question = `The graph of $$${w} = \\\\displaystyle\\\\frac{1}{${denom}}(${tex})$$`\n\n    return {\n      question: question,\n      diagram: graph,\n    }\n  }\n}\n\nexport class PlotStyling extends QGen {\n  static info = {\n    name: 'Plot Style',\n    description: 'test applying custom styling to vectorgraphic'\n  }\n\n  generate(params) {\n    const x = t => 9*Math.sin(t)\n    const y = t => 9*Math.sin(1.17*t)\n    const step = 0.1\n    let path1 = []\n    let path2 = []\n    let path3 = []\n    let path4 = []\n\n    let t = -36\n\n    while (t <= -18) {\n      path1.push([x(t), y(t)])\n      t += step\n    }\n    path1.push([x(t), y(t)])\n\n    while (t <= 0) {\n      path2.push([x(t), y(t)])\n      t += step\n    }\n    path2.push([x(t), y(t)])\n\n    while (t <= 18) {\n      path3.push([x(t), y(t)])\n      t += step\n    }\n    path3.push([x(t), y(t)])\n\n\n    while (t <= 36) {\n      path4.push([x(t), y(t)])\n      t += step\n    }\n    path4.push([x(t), y(t)])\n\n\n    return {\n      answer: {prompt: null},\n      question: 'The graph of $$(x,y) = (9\\\\sin(t), 9\\\\cos(1.17t))$$ for $$-36 \\\\leq t \\\\leq 36$$:',\n      diagram: [\n        'CoordinatePlane', { span: [-10,-10,10,10], height: '3in'},\n        [\n          'Style', {color: 'hsl(340,70%,60%)'},\n          ['Path', {points: path4}],\n        ],\n        [\n          'Style', {color: 'hsl(30,90%,50%)'},\n          ['Path', {points: path3}],\n        ],\n        [\n          'Style', {color: 'hsl(80,90%,40%)'},\n          ['Path', {points: path2}],\n        ],\n        [\n          'Style', {color: 'hsl(170,90%,40%)'},\n          ['Path', {points: path1}],\n        ]\n      ]\n    }\n  }\n}\n\nexport class FontTest extends QGen {\n  static info = {\n    name: 'Font Test',\n    description: 'how do 1, l, I, J look?',\n  }\n\n  generate(params) {\n    const rd = this.random\n    const b = 1\n    const [Ix, Iy, Jx, Jy] = rd.sampleRange(2,8,4)\n    const diagram1 = [\n      'CoordinatePlane', {span: [-2,-2,10,10], height: '1.4in'},\n      ['Point', {x: Ix, y: Iy}],\n      ['Point', {x: Jx, y: Jy}],\n      ['Overlay', {x: Ix, y: Iy, anchor: 'NW'}, '_I_'],\n      ['Overlay', {x: Jx, y: Jy, anchor: 'NW'}, '_J_'],\n    ]\n\n    const wrongs = []\n    for (let i = 0; i < 4; i++) {\n      const [rise, run] = rd.sample([2,3,4,5,6,7,8,9],2)\n      const inter = rd.randint(1,10)\n      const s = rd.choice(['+', '-'])\n      wrongs.push(`$$y = \\\\frac{${rise}}{${run}}x ${s} ${inter}$$`)\n    }\n\n    return {\n      instructions: [\n        'Text',\n        '**Remember**, point-slope form:',\n        '$$y - y_1 = m(x - x_1)$$,',\n        'and $$m = \\\\frac{\\\\Delta y}{\\\\Delta x}$$.',\n      ],\n      question: [\n        'Text',\n        `Given that line _l_ has a _y-intercept_ of ${b} and`,\n        '_l_ $$\\\\perp$$ _IJ_, determine the equation in',\n        '***slope-intercept*** form (_y = mx + b_) for _l_.',\n      ],\n      diagram: diagram1,\n      answer: {\n        prompt: ['AnswerBlanks', {width: '2in'}, 'equation: _y =_'],\n        //choices: choices,\n      }\n    }\n  }\n}\n\n\nexport class FontDisplay extends QGen {\n  static info = {\n    name: \"Font Sample\"\n  }\n\n  generate(params) {\n    \n    const text = 'the quick brown fox jumps over the lazy dog 1234567890'\n\n    let lines = []\n\n    for (const chars of [text, text.toUpperCase()]) {\n      for (const x of ['', '_', '__', '___']) {\n        lines.push(`${x}${chars}${x}`)\n      }\n    }\n\n    lines.push('$$\\\\text{' + text + '}$$ (LaTeX)')\n    lines.push('$$\\\\text{\\\\textit{' + text + '}}$$ (LaTeX)')\n    lines.push('$$\\\\text{' + text.toUpperCase() + '}$$ (LaTeX)')\n    lines.push('$$\\\\text{\\\\textit{' + text.toUpperCase() + '}}$$ (LaTeX)')\n\n    return {\n      question: lines.join('  \\n'),\n    }\n  }\n}\n\nexport class QuadTreePlotTest extends QGen {\n  static info = {\n    name: 'QuadTree Plot Test',\n    description: 'Test alternate graphing algorithm'\n  }\n\n  generate(params) {\n    const f1 = ({x, y}) => Math.pow(Math.sin(x*x), 1)\n    const f2 = ({x, y}) => Math.pow(Math.cos(y*y), 1)\n    //const f3 = ({x, y}) => Math.pow(Math.sin(y*y), 1)\n    //const f4 = ({x, y}) => Math.pow(Math.cos(x*x), 1)\n\n    \n    let points = createTree(pt => f1(pt) - f2(pt), -5, -5, 10, 8, 6)\n\n    const graph = [\n      'CoordinatePlane',{span: [-5,-5,5,5], height: '3in'},\n      ['ScatterPlot', { points }]\n   ]\n\n\n\n    return {\n      question: \"The graph of $$\\\\sin(x^2) = \\\\cos(y^2)$$:\",\n      diagram: graph,\n    }\n  }\n}\n\nexport class MdTest extends QGen {\n\n  static info = {\n    name: 'Markdown Test',\n    description: 'Test markdown/latex'\n  }\n\n  generate(params) {\n\n    const mdtest = `# Heading\n\nRegular, _Italic_, __Bold__, ___Both___, ~sub~script, ^super^script,  \\`monospaced\\`,  \narrows: --> <-- ==> <== <--> <==>\n\nThe formula $$x = \\\\frac{-b \\\\pm \\\\sqrt{b^2 - 4ac}}{2a}$$\nis used to solve quadratic equations.\n\nThe Collatz Function:\n$$$f(n) = \\\\left\\\\{ \\\\begin{array}{rl}\n  n \\\\div 2 & \\\\text{ if $n$ is even} \\\\\\\\\n  3n+1 & \\\\text{ if $n$ is odd}\n\\\\end{array}\\\\right.$$$\n\n- Thing A\n  - Thing A.1\n  - Thing A.2\n- Thing B\n\ninput ($$x$$) | output ($$y$$)\n:-: | :-:\n-3  | 3\n-2  | -2 \n-1  | -5\n 0  | -6\n\n> All summations have a beginning, all effect has a  \n> story, all kindness begins with the sown seed.  \n> Thought buds toward radiance. The gospel of  \n> light is the crossroads of -- indolence, or action.  \n> \n> Be ignited, or be gone.\n\n[Hyperlink](https://npr.org)\n\n${'```'}python\ndef gcd(a, b):\n    if a == b or b == 0:\n        return a\n    elif a == 0:\n        return b\n    else:\n      return gcd(a, a-b) if a > b else gcd(b, b-a)\n${'```'}\n`\n\n    return {\n      question: ['Markdown', mdtest]\n    }\n  }\n\n}\n\n\n\nexport class VegaLite extends QGen {\n  static info = {\n    name: 'Vega Lite',\n    description: 'test vega-lite render type'\n  }\n\n  generate(params) {\n    let fpoints = []\n    let gpoints = []\n\n    const f = x => ({x: x, y: round(6*x - x*x,2), function: 'f'})\n    const g = x => ({x: x, y: round(5*Math.sin(x),2), function: 'g'})\n\n    let t = 0\n    while (t <= 7) {\n      fpoints.push(f(t))\n      gpoints.push(g(t))\n      t += 0.2\n    }\n\n    const spec = {\n      data: {values: [...fpoints, ...gpoints]},\n      mark: {\n        type: 'line',\n      },\n      encoding: {\n        x: {field: 'x', type: 'quantitative'},\n        y: {field: 'y', type: 'quantitative'},\n        color: {\n          field: 'function', \n          type: 'nominal',\n          scale: {\n            scheme: 'rainbow',\n            //domain: ['f', 'g'],\n            //range: ['blue', 'green'],\n          }\n        },\n      },\n    }\n\n    return {\n      instructions: 'The graphs of $$f(x) = - x^2 + 6x$$ and $$g(x) = 5\\\\sin(x)$$',\n      diagram: ['VegaLite', {spec}],\n    }\n  }\n}\n\nexport class VegaTest extends QGen {\n  static info = {\n    name: 'Vega Test',\n    description: 'Test Vega rendering'\n  }\n\n  generate(params) {\n    return {\n      answer: null,\n      instructions: \"Rendered with Vega:\",\n      diagram: ['Vega', {\n        spec: {\n          \"$schema\": \"https://vega.github.io/schema/vega/v4.json\",\n          \"width\": 500,\n          \"height\": 200,\n          \"padding\": 5,\n        \n          \"signals\": [\n            {\n              \"name\": \"interpolate\",\n              \"value\": \"linear\",\n              \"bind\": {\n                \"input\": \"select\",\n                \"options\": [\n                  \"basis\",\n                  \"cardinal\",\n                  \"catmull-rom\",\n                  \"linear\",\n                  \"monotone\",\n                  \"natural\",\n                  \"step\",\n                  \"step-after\",\n                  \"step-before\"\n                ]\n              }\n            }\n          ],\n        \n          \"data\": [\n            {\n              \"name\": \"table\",\n              \"values\": [\n                {\"x\": 0, \"y\": 28, \"c\":0}, {\"x\": 0, \"y\": 20, \"c\":1},\n                {\"x\": 1, \"y\": 43, \"c\":0}, {\"x\": 1, \"y\": 35, \"c\":1},\n                {\"x\": 2, \"y\": 81, \"c\":0}, {\"x\": 2, \"y\": 10, \"c\":1},\n                {\"x\": 3, \"y\": 19, \"c\":0}, {\"x\": 3, \"y\": 15, \"c\":1},\n                {\"x\": 4, \"y\": 52, \"c\":0}, {\"x\": 4, \"y\": 48, \"c\":1},\n                {\"x\": 5, \"y\": 24, \"c\":0}, {\"x\": 5, \"y\": 28, \"c\":1},\n                {\"x\": 6, \"y\": 87, \"c\":0}, {\"x\": 6, \"y\": 66, \"c\":1},\n                {\"x\": 7, \"y\": 17, \"c\":0}, {\"x\": 7, \"y\": 27, \"c\":1},\n                {\"x\": 8, \"y\": 68, \"c\":0}, {\"x\": 8, \"y\": 16, \"c\":1},\n                {\"x\": 9, \"y\": 49, \"c\":0}, {\"x\": 9, \"y\": 25, \"c\":1}\n              ]\n            }\n          ],\n        \n          \"scales\": [\n            {\n              \"name\": \"x\",\n              \"type\": \"point\",\n              \"range\": \"width\",\n              \"domain\": {\"data\": \"table\", \"field\": \"x\"}\n            },\n            {\n              \"name\": \"y\",\n              \"type\": \"linear\",\n              \"range\": \"height\",\n              \"nice\": true,\n              \"zero\": true,\n              \"domain\": {\"data\": \"table\", \"field\": \"y\"}\n            },\n            {\n              \"name\": \"color\",\n              \"type\": \"ordinal\",\n              \"range\": \"category\",\n              \"domain\": {\"data\": \"table\", \"field\": \"c\"}\n            }\n          ],\n        \n          \"axes\": [\n            {\n              \"scale\": \"x\",\n              \"labelFont\": 'Zilla Slab',\n              \"orient\": \"bottom\", \n            },\n            {\"orient\": \"left\", \"scale\": \"y\"}\n          ],\n        \n          \"marks\": [\n            {\n              \"type\": \"group\",\n              \"from\": {\n                \"facet\": {\n                  \"name\": \"series\",\n                  \"data\": \"table\",\n                  \"groupby\": \"c\"\n                }\n              },\n              \"marks\": [\n                {\n                  \"type\": \"line\",\n                  \"from\": {\"data\": \"series\"},\n                  \"encode\": {\n                    \"enter\": {\n                      \"x\": {\"scale\": \"x\", \"field\": \"x\"},\n                      \"y\": {\"scale\": \"y\", \"field\": \"y\"},\n                      \"stroke\": {\"scale\": \"color\", \"field\": \"c\"},\n                      \"strokeWidth\": {\"value\": 2}\n                    },\n                    \"update\": {\n                      \"interpolate\": {\"signal\": \"interpolate\"},\n                      \"fillOpacity\": {\"value\": 1}\n                    },\n                    \"hover\": {\n                      \"fillOpacity\": {\"value\": 0.5}\n                    }\n                  }\n                }\n              ]\n            }\n          ]\n        }\n      }]\n    }\n  }\n}\n\nexport class VegaPlotTest extends QGen {\n  static info = {\n    name: 'VegaPlot Test',\n    description: 'VegaPlot render type'\n  }\n\n  generate() {\n    const domain = [-2,10]\n    const range = [-6,6]\n    let t = domain[0]-1\n    const xvals = []\n    while (t < domain[1]+1) {\n      xvals.push(t)\n      t += .2\n    }\n\n    const f = x => 3*Math.sin(x)\n    const g = x => Math.log2(x)\n\n    const fpt = x => ({x: round(x, 2), y: round(f(x), 2)})\n    const gpt = x => ({x: round(x, 2), y: round(g(x), 2)})\n\n    const plots = [\n      {values: xvals.map(fpt), style: ['primary'], type: 'area-below'},\n      {values: xvals.map(fpt), style: ['function', 'primary', 'dashed']},\n      {values: xvals.filter(x => x > 0).map(gpt), style: 'secondary', type: 'area-above'},\n      {values: xvals.filter(x => x > 0).map(gpt), style: ['function', 'secondary']},\n    ]\n    const diagram = [\n      'VegaPlot', {\n        plots,\n        domain,\n        range,\n        padding: 5,\n        labels: true,\n        width: 200,\n        height: 200,\n      },\n      ['Text', '$$y = mx + b$$'],\n    ]\n\n\n    return {\n      question: 'VegaPlot',\n      diagram,\n    }\n  }\n}","import QGen from './QGen'\nimport { cloneDeep, includes, set, times } from 'constants/lodash'\nimport { \n  and, or, not,\n  simplify, \n  truthtable, \n  latex,\n  circuit,\n  variableList,\n  operationList,\n  nodePathList,\n} from './tools/logic'\n\nfunction randomCircuit(vars, {simplifyRate=0, nonTrivial=true, operations=['And', 'Or']}={}) {\n  const rd = this.random\n  if (nonTrivial && vars.length > 2) {\n    const result = randomCircuit.call(this, vars, {simplifyRate, operations, nonTrivial: false})\n    if ((operationList(result).length === 1) && (operations.length > 1)) {\n      const [op, ...args] = result\n      if (op === 'And' || op === 'Or') {\n        return [{And: 'Or', Or: 'And'}[op], ...args]\n      }\n      if (op === 'Equiv') {\n        return [rd.choice(operations.filter(o => o !== op)), ...args]\n      }\n    }\n    return result\n  }\n\n  const l = vars.length\n  if (l === 1) {\n    return vars[0]\n  }\n  const op = rd.choice(operations)\n  if (l === 2) {\n    return [op, ...vars]\n  }\n  const i = rd.randint(1,l-1)\n  const topass = {simplifyRate, operations}\n  const left = randomCircuit.call(this, vars.slice(0,i), topass)\n  const right = randomCircuit.call(this, vars.slice(i), topass)\n  \n  const args = simplifyRate\n    ? [left, right].map(x => rd.random() < simplifyRate ? simplify(x, {recursive: false}) : x)\n    : [left, right]\n  return [op, ...args]\n}\n\nexport class WriteCircuit extends QGen {\n  static info = {\n    name: 'Circuit Formula',\n    description: 'Write the formula for a circuit',\n    tags: ['logic'],\n  }\n\n  static options = {\n    singleColumn: true,\n  }\n\n  static params = {\n    numberOfNodes: {\n      type: 'select',\n      label: 'Number of variables',\n      options: [4, 5, 6, 7, 8, 9, 10, 11]\n    }\n  }\n\n  static defaultParams = {\n    numberOfNodes: 5\n  }\n\n  generate(params) {\n    const numberOfNodes = params.numberOfNodes\n    let letters = [\n      ...(numberOfNodes > 11\n        ? 'abcdefghijklmnopqrstuvwxyz'\n        : this.random.choice(['abcdefghijk', 'pqrstuvwxyz'])\n      ).slice(0,numberOfNodes)\n    ]\n    if (this.random.bool()) {\n      letters = letters.reverse()\n    }\n    times(this.random.randint(0,5), () => {\n      const i = this.random.randint(1,numberOfNodes-1)\n      letters = [...letters.slice(i), ...letters.slice(0,i)]\n    })\n    const logic = randomCircuit.call(this, letters, {simplifyRate: .5})\n    \n    const answer = latex(simplify(logic))\n    const w = circuit.requiredSpace(logic).width / 10\n    const options = w > 2.5 ? {singleColumn: false} : {}\n    return {\n      instructions: 'Write a logical expression to represent the circuit.',\n      answer: '$$' + answer + '$$',\n      diagram: circuit.draw(logic, {width: w + 'in'}),\n      options,\n    }\n  }\n}\n\nexport class DrawCircuit extends QGen {\n  static info = {\n    name: 'Draw Circuit',\n    description: 'Draw the circuit for a logic formula',\n    tags: ['logic'],\n  }\n\n  static options = {\n    singleColumn: true,\n  }\n\n  static params = {\n    numberOfNodes: {\n      type: 'select',\n      label: 'Number of variables',\n      options: [3, 4, 5, 6, 7, 8, 9, 10, 11]\n    },\n    useIfThen: {\n      type: 'select',\n      label: 'Use if ... then ... ',\n      options: ['never', 'sometimes', 'always']\n    },\n    useEquiv: {\n      type: 'select',\n      label: 'Use if and only if',\n      options: ['never', 'sometimes', 'always']\n    }\n  }\n\n  static defaultParams = {\n    numberOfNodes: 4,\n    useIfThen: 'never',\n    useEquiv: 'never',\n  }\n\n  generate(params) {\n    const {numberOfNodes, useIfThen, useEquiv} = params\n    let letters = [\n      ...(numberOfNodes > 11\n        ? 'abcdefghijklmnopqrstuvwxyz'\n        : this.random.choice(['abcdefghijk', 'pqrstuvwxyz'])\n      ).slice(0,numberOfNodes)\n    ]\n    if (this.random.bool()) {\n      letters = letters.reverse()\n    }\n    times(this.random.randint(0,5), () => {\n      const i = this.random.randint(1,numberOfNodes-1)\n      letters = [...letters.slice(i), ...letters.slice(0,i)]\n    })\n    const operations = ['And', 'Or']\n    if (useIfThen !== 'never') {\n      operations.push('Then')\n    }\n    if (useEquiv !== 'never') {\n      operations.push('Equiv')\n    }\n\n    let logic\n    let goodToGo = false\n    while (!goodToGo) {\n      logic = simplify(randomCircuit.call(this, letters, {simplifyRate: 1, operations}))\n      goodToGo = true\n      const used = operationList(logic)\n      if (useIfThen === 'always' && !includes(used, 'Then')) {\n        goodToGo = false\n        continue\n      }\n      if (useEquiv === 'always' && !includes(used, 'Equiv')) {\n        goodToGo = false\n        continue\n      }\n    }\n\n    const todraw = circuit.simplify(logic, {combineOr: true})\n    const w = circuit.requiredSpace(todraw).width / 10\n\n    const options = numberOfNodes > 7 ? {singleColumn: false} : {}\n    return {\n      instructions: 'Sketch a circuit to represent the logical expression.',\n      question: '$$' + latex(logic) + '$$',\n      answer: {\n        prompt: ['EmptySpace', {height: '1.5in', width: '1.5in'}],\n        correct: circuit.draw(todraw, {width: w + 'in'}),\n      },\n      options\n    }\n  }\n}\n\n\nfunction complicate(logic, {letters, count=1, operations=['And', 'Or']}={}) {\n  if (+count === 0) {\n    return logic\n  }\n  if (+count > 1) {\n    const result = complicate.call(this, logic, {letters, operations})\n    return complicate.call(this, result, {letters, operations, count: +count-1})\n  }\n\n  const rd = this.random\n  const letters_ = letters || variableList(logic)\n  const toPass = {letters: letters_, operations}\n\n  if (typeof logic === 'string') {\n    const op = rd.choice(operations)\n    const numArgs = {\n      And: rd.randint(2,letters.length),\n      Or: rd.randint(2,letters.length),\n      Not: 1,\n      Then: 2,\n      Equiv: 2,\n    }[op]\n    const args = rd.shuffle([\n      logic, \n      ...rd.sample(letters_.filter(l => l !== logic), numArgs-1)\n    ])\n    return complicate.call(this, [op, ...args], toPass)\n  }\n  const [op, ...args] = logic\n  const j = rd.randint(0,args.length-1)\n  const newArgs = args.map((x, i) => {\n    if (i === j) {\n      if (typeof x === 'string') {\n        const o = rd.choice(operations.filter(o => o !== op))\n        const numArgs = {\n          And: rd.randint(2,letters_.length-1),\n          Or: rd.randint(2,letters_.length-1),\n          Not: 1,\n          Then: 2,\n          Equiv: 2,\n        }[o]\n        let a = [x]\n        if (numArgs > 1) {\n          a = a.concat(rd.sample(letters_.filter(l => l !== x), numArgs-1))\n        }\n\n        return [o, ...rd.shuffle(a)] \n      } else {\n        return complicate.call(this, x, toPass)\n      }\n    } else {\n      return x\n    }\n  })\n  return [op, ...newArgs]\n}\n\nfunction applyNots(logic, number) {\n  const rd = this.random\n  let result = cloneDeep(logic)\n  let k = number\n  while (k > 0) {\n    k -= 1\n    const nodes = nodePathList(result).filter(n => typeof n.logic === 'string')\n    if (nodes.length) {\n      const toChange = rd.choice(nodes)\n      result = set(result, toChange.path, not(toChange.logic))\n    }\n  }\n  return result\n}\n\n\nexport class CircuitTruthTable extends QGen {\n  static info = {\n    name: 'Circuit Truth Table',\n    description: 'Create the truth table for a circuit',\n    tags: ['logic'],\n  }\n\n  static options = {\n    singleColumn: false,\n  }\n\n  static params = {\n    numberOfVariables: {\n      type: 'select',\n      label: 'Number of variables',\n      options: [2, 3, 4]\n    },\n    complexity: {\n      type: 'select',\n      label: 'Complexity',\n      options: [0,1,2,3,4,5,6,7]\n    }\n  }\n\n  static defaultParams = {\n    numberOfVariables: 2,\n    complexity: 3,\n  }\n\n  generate(params) {\n    const {numberOfVariables, complexity} = params\n    let letters = [...this.random.choice([\n      'abcd',\n      'fghj',\n      'pqrs',\n      'wxyz'\n    ]).slice(0,numberOfVariables)]\n    \n    const start = randomCircuit.call(this, letters)\n    const logic1 = complicate.call(this, start, {\n      letters, \n      operations: ['And', 'Or'], \n      count: complexity,\n    })\n    const logic = applyNots.call(this, logic1, this.random.randint(1,nodePathList(circuit.simplify(logic1)).length-1)) \n    const w = circuit.requiredSpace(logic).width / 8\n\n    return {\n      instructions: 'Complete the truth table for the circuit shown.',\n      diagram: circuit.draw(logic, {width: w + 'in'}),\n      answer: {\n        prompt: truthtable(logic, {empty: true}),\n        correct: truthtable(logic, {empty: false})\n      },\n    }\n  }\n}\n\nexport class TruthTable extends QGen {\n  static info = {\n    name: 'Truth Table',\n    description: 'Complete the truth table for a logic expression',\n    tags: ['logic'],\n  }\n\n  static options = { singleColumn: true }\n\n  static params = {\n    numberOfVariables: {\n      type: 'select',\n      label: 'Number of variables',\n      options: [2,3,4]\n    },\n    complexity: {\n      type: 'select',\n      label: 'Complexity',\n      options: [0,1,2,3,4,5,6,7]\n    },\n    allowIfThen: {\n      type: 'boolean',\n      label: 'Allow if ... then ... '\n    },\n    allowEquiv: {\n      type: 'boolean',\n      label: 'Allow if and only if',\n    }\n  }\n\n  static defaultParams = {\n    numberOfVariables: 2,\n    complexity: 1,\n    allowIfThen: true,\n    allowEquiv: true,\n  }\n\n  generate(params) {\n    const rd = this.random\n    const { numberOfVariables, complexity, allowIfThen, allowEquiv } = params\n    const letters = [...rd.choice([\n      'abcde', 'pqrst'\n    ])].slice(0,numberOfVariables)\n    const operations = ['And', 'Or']\n    if (allowIfThen) {\n      operations.push('Then')\n    }\n    if (allowEquiv) {\n      operations.push('Equiv')\n    }\n\n    const start = randomCircuit.call(this, letters, {operations})\n    const logic = complicate.call(this, start, {operations, count: complexity})\n    return {\n      instructions: 'Complete the truth-table for the logical expression.',\n      question: '$$' + latex(logic) + '$$',\n      answer: {\n        prompt: truthtable(logic, {empty: true}),\n        correct: truthtable(logic, {empty: false})\n      }\n    }\n  } \n}","import { addGenerator } from 'actions/generators'\nimport {\n  geometry, \n  logic,\n  polynomials,\n  othergenerators, \n  transformations,\n  trigonometry,\n  picofermi,\n  //bonusquestions,\n  //generatortests,\n  //simpleexamples,\n} from 'questions'\n\n\nconst modules = {\n  geometry,\n  logic,\n  polynomials,\n  othergenerators,\n  transformations,\n  trigonometry,\n  picofermi,\n  //bonusquestions,\n  //generatortests,\n  //simpleexamples,\n}\n\nconst sorting = {\n  picofermi: {sort: 1, prefix: '* '},\n  bonusquestions: {sort: 1, prefix: 'Bonus: '},\n  generatortests: {sort: 2, prefix: 'Test: '},\n  simpleexamples: {sort: 2, prefix: 'Example: '},\n}\n\nexport function addGenerators(store, {modules}) {\n  for (const m in modules) {\n    const {sort=0, prefix=''} = sorting[m] || {}\n    if (sort >= 0) {\n      for (const g in modules[m]) {\n        const generator = modules[m][g]\n        const id = `${m}.${g}`\n        if (generator.register) {\n          const {name, description, tags, params, defaultParams} = generator.register()\n          //result[id] = {id, generator, name, description, tags, params, defaultParams}\n          store.dispatch(addGenerator({\n            id, generator, \n            info: {name, description, tags, sort, prefix}, \n            params, defaultParams,\n          }))\n        }\n      }\n    }\n  }\n}\n\nfunction initializeGenerators(store) {\n  addGenerators(store, {modules})\n}\n\nexport default initializeGenerators","import React from 'react';\nimport Root from './containers/Root';\nimport { createStore } from 'redux';\nimport rootReducer from './reducers';\nimport initialize from './initialize'\n\nconst store = initialize(createStore(rootReducer));\n\nconst App = () => React.createElement(Root, {store})\n\nexport default App;","import loadfonts from './loadfonts'\nimport setstyle from './setstyle'\nimport settheme from './settheme'\nimport generators from './generators'\nimport initializeDev from './initialize-dev'\n\nexport default function initialize(store) {\n  loadfonts(store)\n  settheme(store)\n  setstyle(store.getState().style)\n  generators(store)\n  //initializeDev(store)\n  return store\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Layout\":\"styles_Layout__2DVPj\",\"SettingTable\":\"styles_SettingTable__37d46\",\"StyleSetting\":\"styles_StyleSetting__3Xjp4\",\"Preview\":\"styles_Preview__x9yKo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Markdown\":\"styles_Markdown__frwXO\",\"OverlayWrapper\":\"styles_OverlayWrapper__1CfAu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SingleQuestionView\":\"styles_SingleQuestionView__36kLO\",\"PresentationView\":\"styles_PresentationView__3_NZ0\",\"Nav\":\"styles_Nav__3PZDG\",\"NavButton\":\"styles_NavButton__1S5qI\",\"Slide\":\"styles_Slide__3wwUC\",\"Answer\":\"styles_Answer__1iKT6\",\"ArrowButtonContainer\":\"styles_ArrowButtonContainer__1jbHP\",\"ArrowButton\":\"styles_ArrowButton__3cAfo\",\"ArrowButtonDisabled\":\"styles_ArrowButtonDisabled__iEXqi\",\"ArrowButtonLeft\":\"styles_ArrowButtonLeft__qXUqK\",\"ArrowButtonRight\":\"styles_ArrowButtonRight__ocZAT\",\"Collapsed\":\"styles_Collapsed__2SR1w\",\"Collapse\":\"styles_Collapse__1z-Dr\",\"CollapseButton\":\"styles_CollapseButton__27clq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FullModal\":\"styles_FullModal__fZDoM\",\"Popup\":\"styles_Popup__1PaGo\",\"PopupButtons\":\"styles_PopupButtons__3BnkF\",\"Import\":\"styles_Import__zmWHf\",\"ImportDragbox\":\"styles_ImportDragbox__14TZF\",\"ImportDragboxDragover\":\"styles_ImportDragboxDragover__L2i-_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"styles_Wrapper__2T_ZG\",\"Wrapper-TitleBar-StatusBar\":\"styles_Wrapper-TitleBar-StatusBar__2fuc-\",\"Wrapper-TopBar\":\"styles_Wrapper-TopBar__1I9IF\",\"Wrapper-TopBar-StatusBar\":\"styles_Wrapper-TopBar-StatusBar__1XAVu\",\"SideBar\":\"styles_SideBar__2l_xh\",\"StatusBar\":\"styles_StatusBar__3qYL6\",\"TitleBar\":\"styles_TitleBar__2YJPM\",\"TopBar\":\"styles_TopBar__38-39\",\"PreviewOuter\":\"styles_PreviewOuter__1RGls\",\"PreviewInner\":\"styles_PreviewInner__1bCVr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ResultContainer\":\"styles_ResultContainer__1O4qk\",\"SearchResult\":\"styles_SearchResult__15uqq\",\"Selected\":\"styles_Selected__1Yl6M\",\"SearchResultNone\":\"styles_SearchResultNone__2yip4\",\"Param\":\"styles_Param__1zjJJ\",\"ParamMultipleSelect\":\"styles_ParamMultipleSelect__315u_\",\"ParamMultipleSelectOption\":\"styles_ParamMultipleSelectOption__9p5md\",\"ParamBoolean\":\"styles_ParamBoolean__yDFNr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CustomQuestionMaker\":\"styles_CustomQuestionMaker__3GLhZ\",\"GraphMakerBody\":\"styles_GraphMakerBody__11R3v\",\"GraphMakerInput\":\"styles_GraphMakerInput__3qT0d\",\"GraphMakerPreview\":\"styles_GraphMakerPreview__2opkG\",\"LatexExamples\":\"styles_LatexExamples__1VuMU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SettingPage\":\"styles_SettingPage__2u-qK\",\"Title\":\"styles_Title__3GTDx\",\"SettingSection\":\"styles_SettingSection__2TB1w\",\"LeftBar\":\"styles_LeftBar__3l1eD\",\"NavArea\":\"styles_NavArea__1p8EW\",\"NavButton\":\"styles_NavButton__2-ksX\"};"],"sourceRoot":""}