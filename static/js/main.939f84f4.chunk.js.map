{"version":3,"sources":["containers/GeneratorMenu/styles.module.css","containers/Settings/Graph/styles.module.css","renderJson/renderTypes/styles.module.css","containers/AppLayout/styles.module.css","containers/Document/testing/scratch.module.css","containers/Modals/styles.module.css","containers/Settings/styles.module.css","containers/CustomQuestion/styles.module.css","containers/AppLayout/Preview.js","containers/AppLayout/SideBar.js","containers/AppLayout/StatusBar.js","containers/AppLayout/TopBar.js","containers/AppLayout/Wrapper.js","actions/document.js","renderJson/renderTypes/VectorGraphics/react-svgplot/Style.js","renderJson/renderTypes/VectorGraphics/react-svgplot/Overlay.js","renderJson/renderTypes/VectorGraphics/react-svgplot/Canvas.js","renderJson/renderTypes/VectorGraphics/react-svgplot/Grid.js","renderJson/renderTypes/VectorGraphics/react-svgplot/Label.js","renderJson/renderTypes/VectorGraphics/react-svgplot/Shapes.js","renderJson/renderTypes/VectorGraphics/react-svgplot/Transform.js","renderJson/renderTypes/VectorGraphics/AngleMark.js","renderJson/renderTypes/VectorGraphics/Clip.js","renderJson/renderTypes/VectorGraphics/CoordinatePlane.js","renderJson/renderTypes/VectorGraphics/Grid.js","renderJson/renderTypes/VectorGraphics/Layer.js","renderJson/renderTypes/VectorGraphics/funcs.js","renderJson/renderTypes/VectorGraphics/Path.js","renderJson/renderTypes/VectorGraphics/Functions.js","renderJson/renderTypes/VectorGraphics/Shapes.js","renderJson/renderTypes/VectorGraphics/Style.js","renderJson/renderTypes/VectorGraphics/index.js","renderJson/renderTypes/EmptySpace.js","renderJson/renderTypes/katexMath.js","renderJson/renderTypes/Markdown.js","renderJson/renderTypes/Math.js","renderJson/renderTypes/PageHeader.js","renderJson/renderTypes/Question.js","renderJson/renderTypes/Table.js","renderJson/renderTypes/Text.js","renderJson/renderTypes/index.js","renderJson/renderTypes/AnswerSpace.js","renderJson/renderTypes/Container.js","renderJson/renderTypes/List.js","renderJson/renderTypes/RenderError.js","renderJson/renderTypes/VegaLite.js","renderJson/renderJson.js","renderJson/editJson/DefaultEditor.js","renderJson/editJson/EditPageHeader.js","renderJson/editJson/EditQuestion.js","renderJson/editJson/index.js","renderJson/editJson/EditText.js","renderJson/index.js","containers/Document/TopLevelElement.js","containers/Document/pagesize.js","containers/Document/MeasuredPage.js","containers/Document/Page.js","containers/Document/AnswerKey.js","questions/circuits.js","containers/Document/Document.js","containers/Document/testing/scratchpage.js","actions/config.js","containers/Settings/Font/AddLocalFont.js","containers/Settings/Font/FontFamilyUI.js","actions/style.js","containers/Settings/Font/FontFamilyInput.js","containers/Modals/AddFontPopup.js","containers/Modals/NotesModal.js","containers/Modals/SavePopup.js","containers/Settings/Graph/GraphStyle.js","containers/Settings/Graph/GraphPreview.js","containers/Settings/Graph/GraphSettings.js","containers/Settings/Graph/index.js","containers/Settings/Page/PageMargin.js","containers/Settings/Page/PageSize.js","containers/Settings/Page/PageMargins.js","containers/Settings/Page/index.js","containers/Settings/Page/PageSettings.js","containers/Settings/UI/GUImode.js","containers/Settings/UI/PreviewZoom.js","containers/Settings/UI/UITheme.js","containers/Settings/UI/index.js","containers/Settings/UI/UISettings.js","containers/Settings/SettingsPage.js","containers/Settings/AllowEditing.js","containers/Settings/AnswerKeyToggle.js","containers/Settings/FixPagination.js","containers/Settings/StartNumbering.js","containers/Settings/index.js","containers/Modals/SettingsModal.js","reducers/document.js","stylesetter.js","reducers/style.js","containers/Modals/ImportModal.js","containers/Settings/Font/FontFamilySelect.js","containers/Settings/Font/FontFamily.js","containers/Settings/Font/FontSize.js","containers/Settings/Font/FontLoader.js","containers/Settings/Font/MathFontSettings.js","containers/Settings/Font/TextPreview.js","containers/Settings/Font/index.js","containers/Settings/Font/FontSettings.js","containers/CustomQuestion/LatexExamples.js","containers/CustomQuestion/GraphMaker.js","containers/CustomQuestion/CustomQuestion.js","containers/CustomQuestion/index.js","containers/Debug/CheckState.js","questions/tools/random_randomjs.js","questions/QGen.js","questions/geometry.js","questions/picofermi.js","questions/tools/handystuff.js","questions/polynomials.js","questions/transformations.js","questions/trigonometry.js","questions/othergenerators.js","questions/tools/saynumber.js","questions/bonusquestions.js","questions/simpleexamples.js","questions/tools/QuadTree.js","questions/generatortests.js","questions/index.js","containers/GeneratorMenu/questionbank.js","containers/GeneratorMenu/QuestionSearch.js","containers/App.js","containers/Root.js","reducers/config.js","reducers/index.js","App.js","initialize.js","serviceWorker.js","index.js"],"names":["module","exports","ResultContainer","SearchResult","Selected","SearchResultNone","Layout","SettingTable","StyleSetting","Preview","Markdown","Wrapper","Wrapper-TitleBar-StatusBar","Wrapper-TopBar","Wrapper-TopBar-StatusBar","SideBar","StatusBar","TitleBar","TopBar","PreviewOuter","PreviewInner","FO","Div1","Div2","Popup","PopupButtons","Import","ImportDragbox","ImportDragboxDragover","SettingPage","Title","SettingSection","LeftBar","NavArea","NavButton","GraphMakerBody","GraphMakerInput","GraphMakerPreview","LatexExamples","Previewer","react_default","a","createElement","className","styles","this","props","children","React","Component","classNames","join","elemID","addToDocument","elem","type","payload","element","id","axisArrow","MarkerSymbols","viewBox","refX","refY","cx","cy","r","d","points","transform","MarkerDefs","_ref","stylename","markerW","markerH","Fragment","concat","markerWidth","markerHeight","markerUnits","orient","xlinkHref","x","y","height","width","FillPatternDefs","_ref2","patternUnits","patternTransform","StyleDefs","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","ref","createRef","CTM","current","getCTM","setState","checkSize","w","h","_this$state$CTM","b","c","s","Math","max","abs","Style_MarkerDefs","Style_FillPatternDefs","styleCount","Style","name","color","styleprops","objectWithoutProperties","uniquename","style","objectSpread","_arr","_i","length","shape","_arr2","_i2","pattern","stroke","vectorEffect","Style_StyleDefs","OverlayPosition","x1","y1","x2","y2","_props$cartesian","cartesian","position","left","top","overflow","Overlay","rotate","anchor","displacement","innerstyle","transformOrigin","_E$NE$N$NW$W$SW$S$SE$","slicedToArray","E","NE","N","NW","W","SW","S","SE","center","initialTransform","undefined","constructor","dx","parseFloat","dy","ux","replace","uy","angle","radius","u","round","cos","PI","sin","angles","rotateAngle","Canvas","preserveAspectRatio","_props$border","border","wrapperprops","display","padding","svgprops","margin","gprops","Children","toArray","svgchildren","filter","overlays","assign","Style_MarkerSymbols","map","o","i","Overlay_OverlayPosition","key","Grid","_props$xStep","xStep","_props$yStep","yStep","xvals","yvals","t","push","v","Label","ctm","_style","_this$props","_this$props$anchor","distance","anglemap","right","anchorAngle","tb","lr","div1","div2","defineProperty","units","padX","padY","marginTop","marginBottom","marginLeft","marginRight","useragent","navigator","userAgent","toLowerCase","test","_this$state$ctm$inver","inverse","inv","m1","multiply","e","f","m2","resultmatrix","console","log","xmlns","Circle","Ellipse","Rect","updatePropsWithMarkers","markerProps","positions","markers","Line","Polygon","Polyline","Path","Point","coords","_props$marker","marker","pathprops","Shapes_Path","matrix","params","Array","isArray","_params3","_params3$","_params3$2","_params3$3","_params3$4","_params3$5","_params3$6","_params$a","_params$b","_params$c","_params$d","_params$e","_params$f","makeTransform","_params4","_params4$","_params4$2","_params$x3","_params$y3","_params2","_params2$","_params2$2","_params$x2","_params$y2","scale","_params","_params$","_params$2","_params$x","_params$y","translate","Transform","list","layerprops","transforms","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","value","ty","_ref2$","str","err","return","determineRadius","minRadius","maxRadius","angleSize","terminal","initial","parseCoords","coord","_coord$split$map","split","n","_coord$split$map2","_coord","determineVertex","vertex","parseAngleSide","side","degrees","radians","includes","_side$split$map","_side$split$map2","atan2","_parseCoords","determineAngles","measure","term","measureDeg","initDeg","init","termDeg","RightAngleMark","_determineVertex","_determineAngles","vec1","vec2","clipPoints","VectorGraphics_Clip","react_svgplot_Transform","VectorGraphics_Shapes_Rect","RoundAngleMark","_determineVertex2","_determineAngles2","arcStart","arcEnd","congruent","VectorGraphics_Shapes_Circle","AngleMark","square","clipCount","Clip","Elem","_props$id","shapeprops","clipPath","toMM","convertToMM","val","unit","slice","Clipper","clip","Styler","VectorGraphics_Style","CoordinatePlane","span","_span","s1","_s1$0$split","_s1$0$split2","_s1$0$split3","_s1$0$split4","_s1$1$split","_s1$1$split2","_s","parseSpan","_props$margin","_props$grid","grid","_props$axis","axis","_props$style","_props$clip","canvas","clipper","styler","marg","vbmarg","react_svgplot_Canvas","VectorGraphics_Grid","exactname","VectorGraphics_Path","CoordinatePlane_Clipper","CoordinatePlane_Styler","_props$step","step","react_svgplot_Style","react_svgplot_Grid","Shapes_Line","Layer","polylineFromPoints","p","renderPath","fill","_props$connect","connect","Shapes_Polygon","Shapes_Polyline","calcPath","domain","arguments","path","otherprops","Shapes_Circle","Shapes_Rect","stylenames","VectorGraphics","Asymptote","Path_Path","Shapes_Ellipse","PolynomialFunction","coefficients","error","ans","deg","pow","RationalFunction","_domainPts","_props$roots","roots","_props$holes","holes","_props$asymptotes","asymptotes","_props$numerLC","numerLC","_props$denomLC","denomLC","_props$step2","_props$range","range","_props$renderAsymptot","renderAsymptotes","_props$renderRoots","renderRoots","_props$renderHoles","renderHoles","num","den","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","domainPts","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","domains","dp","keys","sort","v1","v2","def","paths","dom","toConsumableArray","ha","vas","Shapes_Point","ScatterPlot","parseBorder","formulaToKatex","formula","options","katex","renderToString","ParseError","defaultOptions","renderMath","mdSuperscript","mdSubscript","mdSmartarrows","mathDelimiters","inline","InlineMarkdown","data","opts","defaultsDeep","md","MarkdownIt","use","mdsub","mdsup","mdsmartarrows","mdmath","inlineRenderer","formulaToHtml","blockRenderer","displayMode","inlineOpen","inlineClose","blockOpen","blockClose","dangerouslySetInnerHTML","__html","renderInline","render","html","DisplayMath","renderHeaderElement","text","parts","result","isBlank","blankSize","nextChar","size","parseHeader","defaultLayout","layoutAnswerRight","QuestionLayout","content","layout","_ref$direction","direction","newDirection","row","column","useLayout","answer","area","renderJson","determineVariant","variant","choices","variants","multipleChoice","determineContent","othercontent","usecontent","variantContent","listDirection","prompt","determineAnswerSpace","correct","parseAnswer","Question","Question_QuestionLayout","markdown","ParseMath","delimiters","delimiter","splitAtDelimiters","splitWithDelimiters","Markdown_InlineMarkdown","Text_Plain","Math_DisplayMath","Math_Math","Plain","Text","RenderMethod","fontFamily","fontSize","nonTerminal","AnswerBlanks","minWidth","minHeight","box","AnswerChoices","Container","_props$direction","alignItems","_props$wrap","justifyItems","wrap","divstyle","flexDirection","flexWrap","List","Table","headIndex","header","tableprops","borderCollapse","align","alignment","colStyles","blocks","block","j","char","colStyle","textAlign","borderLeft","borderRight","parseAlignment","k","cssvar","TRow","_props$header","rowprops","borderBottom","borderTop","elemstyle","childless","AnswerKey","letters","correctIndex","determineAnswerKey","EmptySpace","_props$width","_props$height","PageHeader","rows","_row","NumberedQuestion","Question_Question","RenderError","JSON","stringify","VegaLite","react_vega_lite_min_default","spec","parseJson","json","_json","_parseJson","apply","Text_Text","toString","DefaultEditor","updateAndClose","onUpdateElement","stateToJson","onRequestClose","deleteAndClose","onDeleteElement","revertChanges","renderJson_RenderJson","gridTemplateColumns","onClick","justifySelf","renderEditor","renderPreview","EditPageHeader","headingAddRow","headingRemoveRow","newrow","_this2","inputStyle","onChange","evt","headingUpdate","target","variantNames","freeResponse","parseAndSetVariant","_parseJson$props","_props$content","_props$options","newState","updateVariant","updateInstructions","updateContent","updateInstructionsMC","updateInstructionsFR","updateQuestion","updateQuestionMC","updateQuestionFR","updated","fieldname","overrides","updaters","instructions","default","question","cols","placeholder","renderVariantSelect","renderInstructionsOrQuestionInputs","renderTypes","EditQuestion","updateChild","el","renderChildEditor","dispatch","idstr","_idstr$split","_idstr$split2","updateElement","_idstr$split3","_idstr$split4","deleteElement","RenderType","DefaultEditor_DefaultEditor","RenderJson","TopLevelElement","openEditor","modal","closeModal","divprops","canEdit","onDoubleClick","columns","elemprops","singleColumn","lib_default","isOpen","editJson","defaultProps","config","allowEditing","portrait","A3","A4","A5","letter","legal","landscape","MeasuredPage","innerH","inner","clientHeight","outerH","outer","overflows","oldstate","newstate","onOverflow","forceUpdate","addPageBreakBefore","contentIDs","pageOrientation","pageSize","_this$getPageSize","getPageSize","pageMargin","pageNumber","headers","outerclassname","outerstyle","getOuterStyle","getInnerStyle","headerID","getHeaderID","Document_TopLevelElement","contentID","document","footers","orientation","outerStyle","innerStyle","order","Document_Page","Node","label","createClass","above","below","_ref$start","start","availableWidth","extra","requiredSpace","And","_len","args","_key","req","_ref2$start","between","lines","draw","Or","_len2","_key2","_ref3","_ref3$start","ys","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","circuit","_circuit$requiredSpac","drawCircuit","pagebreaks","showAnswerKey","hidden","numberHidden","debugView","len","visibleIDs","prev","slices","pages","ids","Document_MeasuredPage","Document_AnswerKey","addFontFamily","font","setUITheme","theme","body","removeAttribute","setAttribute","AddLocalFont","addFont","input","spellCheck","buttonLabel","FontFamilyUI","setFontFamilyUI","fontFamilyUI","inputtype","setDocumentFontFamily","family","setPageMargin","margins","updateGraphStyle","FontFamilyInput","AddFontPopup","close","setFontFamily","handleKeyPress","autoFocus","onKeyPress","setFromPrompt","NotesModal","bottom","backgroundColor","fontWeight","filterUnusedElements","SaveFilePopup","filename","setFilename","toggleIncludeStyle","includeStyle","checked","setSpacing","spacing","download","downloadAs","defaultFilename","onFocus","selectionStart","selectionEnd","dataString","encodeURIComponent","dlanchor","appendChild","click","remove","htmlFor","_document$headers$","titleparts","GraphStyle","setValue","propertyName","Color","Width","min","Opacity","RelativeFontSize","_this3","mapDispatchToProps","createComponent","base","StyleSettingComponent","_base","inherits","graph","FunctionColor1","FunctionColor2","FunctionWidth","GeomColor1","GeomWidth","GeomMarkerColor","AnglemarkColor","AnglemarkFillOpacity","AsymptoteColor","AsymptoteWidth","AxisColor","AxisWidth","GridColor","GridWidth","FillOpacity","LabelFontSize","SwapButton","doSwap","_this4$props$updateGr","_this4","propertyName1","current2","propertyName2","current1","createSwapper","prop1","prop2","Swapper","_SwapButton","updates","FunctionColorSwap","PreviewXYPlot","vasymptotes","g","fpoints","gpoints","fpt","gpt","PreviewGeom","poly","parallelogram","parAngle0","parAngle2","GraphSettings","changeStyle","resetToDefaults","resetGraphStyle","GraphPreview_PreviewGeom","GraphPreview_PreviewXYPlot","colSpan","Settings","renderStyleSettings","MarginOptions","SetPageMargin","updateFromSelection","m","PageSize","setPageSize","inputProps","unitProps","convert","from","to","fromMM","convertStr","PageMargins","setMargins","_this$state$m","setUnits","newValues","rounder","setTop","setRight","setBottom","setLeft","_margins","_margins2","PageSettings","Page_PageSize","Page_PageMargins","GUImode","update","setDebugView","PreviewZoom","updateState","zoom","zoomIn","zoomOut","defaultValue","setProperty","setZoom","z","renderInput","renderSelect","renderButtons","UIThemeSetter","setTheme","uiTheme","UISettings","UITheme","SettingsPage","showFontSettings","showing","showGraphSettings","showPageSettings","showUISettings","Font","Graph","Settings_Page","UI","status","renderSettings","AllowEditing","toggle","setAllowEditing","AnswerKeyToggle","setShowAnswerKey","bool","FixPagination","setTimeout","decreaseHiddenCount","check","fixPagination","StartNumbering","setNumbering","startat","setCSSVariable","setDocumentStartNumbering","startNumbering","SettingsModal","overlay","background","initialState","0","1","action","where","setStyle","documentElement","mathFontSize","mathFontWeight","mathFontFamily","removeProperty","kebabCase","asymptoteColor","asymptoteWidth","axisColor","axisWidth","anglemarkColor","anglemarkFillOpacity","fillOpacity","functionStroke1","functionStroke2","functionStrokeWidth","geomStroke1","geomStroke2","geomStrokeWidth","geomMarkerColor","gridColor","gridWidth","labelFontSize","newstyle","ImportModal","setImportMode","importMode","validFilename","message","dragOver","handleDragEnter","stopPropagation","preventDefault","handleDragLeave","handleDragOver","dataTransfer","dropEffect","handleDrop","file","files","readFile","selectFile","canLoad","loadJson","loadDocument","loadStyle","appendContent","load","reader","FileReader","onload","checkData","readAsText","parse","_unused","toLoad","initialDocumentState","initialStyleState","borderRadius","disabled","onDrop","onDragOver","onDragEnter","onDragLeave","doc","append","_ref$where","updateOrder","DefaultFonts","BrowserFonts","fontLabels","__CUSTOM__","cmu_bright","cmu_concrete","cmu_sansserif","cmu_serif","katex_sansserif","katex_main","sans-serif","serif","fontSort","aName","toUpperCase","bName","FontFamilySelect","openFontInput","fontList","localFonts","title","renderFontOption","Modals_AddFontPopup","Font_FontFamilyInput","Font_FontFamilySelect","FontSizeSelect","setDocFontSize","setDocumentFontSize","renderSizeOptions","googleFonts","fontStyles","BioRhyme","Merriweather","FontLoader","updateInput","updateSelection","selection","loadFont","request","WebFont","google","families","fontactive","fontinactive","loadAll","toAdd","loadInputFont","loadSelectedFont","renderButton","MathFontSettings","onChangeSize","setSize","onChangeWeight","setWeight","onChangeFamily","setFamily","setMathFontSize","weight","setMathFontWeight","setMathFontFamily","currentFamily","currentSize","bold","currentWeight","tabsize","onKeyDown","keyCode","end","substring","TextPreview","updatePreview","outputStyle","output","renderType","wrapperElement","FontSettings","Font_FontFamilyUI","Font_FontFamily","Font_FontLoader","Font_MathFontSettings","--doc-font-size","Font_TextPreview","latexfmt","String","raw","examples","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_templateObject10","_templateObject11","_templateObject12","_templateObject13","_templateObject14","_templateObject15","_templateObject16","RenderExample","LatexExamples_RenderExample","floor","calcParametric","pt","parseFunction","func","math","compile","scope","eval","GraphMaker","updateMode","mode","updateStandard","standard","updateInverse","updateParametricX","parametricX","updateParametricY","parametricY","updateX0","x0","updateX1","updateY0","y0","updateY1","updateT0","t0","updateT1","t1","updateStep","updateHeight","updateAutoDomain","autoDomain","updateAutoSize","autoSize","onSubmit","getData","getDomain","ymap","xmap","xpmap","ypmap","graphSize","autogrid","getFunction","GraphMakerHeading","renderMode","renderInputs","renderDomainInput","renderGridInputs","renderHeightInput","jsonExample","CustomQuestion","openExamples","openGraphMaker","updateDiagram","diagram","updateAnswer","updateJSON","updateInputType","inputType","addQuestion","getDataFromState","setJsonExample","previewStyle","gridTemplateAreas","gridArea","CustomQuestion_LatexExamples","CustomQuestion_GraphMaker","q","thing","CheckStateButton","logState","Random","require","Randomizer","seed","engine","MersenneTwister19937","autoSeed","integer","inclusive","real","array","first","shuffled","shuffle","pick","pop","sample","randint","splice","randomSeedGenerator","QGen","randomSeed","random","randomizer","defaults","defaultParams","out","generate","_getParams","_specialCaseKeys","_specialCaseValues","getOptions","match","info","difference","TransversalNames","_QGen","rd","possibleRelations","choice","angle1","rotateBy","intersect1","pp","top1","bottom1","intersect2","top2","bottom2","angleMark","transversal","relations","alternate exterior","alternate interior","consecutive exterior","consecutive interior","corresponding","linear","vertical","_anglesToMark$split","_anglesToMark$split2","a1","a2","description","scramble","digitmap","slotmap","PicoFermiInstructions","PicoFermi","template","Templates","shuffleRange","clues","puzzle","blank","gap","PicoFermiSet","_QGen2","versions","answers","_loop","Easy01","2637","0018","0123","1034","3352","Easy02","5704","5607","5109","6972","Easy03","1670","4567","1245","1376","Easy04","4312","6543","4129","4230","Easy05","0660","0386","2030","Easy06","3773","2790","7243","8467","Easy07","5809","3899","5593","Hard01","9120","7573","2450","5320","8685","Hard02","3210","5409","4608","1064","Hard03","4989","2954","9724","6139","NoFour","4563","4615","4652","NoEight","4786","8547","0843","9289","8965","AllPicos","2486","7867","4573","5608","9310","VeryHard","9372","1047","0235","3627","4753","stop","_data","roundTo","capitalize","charAt","gcd","listFactors","_ref$include","include1","_ref$includeN","includeN","randomPolynomialCoefficients","degree","_ref$maxCoefficient","maxCoefficient","_ref$terms","terms","whichterms","randomPolynomial","Polynomial","Quadratic","rt","im","_this$params","_this$params2","fraction","toLatex","SolveQuadratic","solutionType","solutionTypes","complexSolution","complexSolutions","givenForm","simplifySquareRoot","yes","no","simplifyFraction","allowDifferenceOfSquares","allowDoubleRoot","allowZeroRoot","quad","polynomial","rootsToLatex","isValid","rand","expr","sub","mul","add","_ref4","minSelections","rational","irrational","imaginary","oneside","bothsides","FactorQuadraticHard","b1","b2","p1","p2","2","RationalZeroTheorem","_QGen3","primes","leading_coeff","trailing_coeff","num_coeffs","correctNumerators","correctDenominators","allPossibleZeros","numCorrect","correctAnswers","_ref5","_","wrongAnswers","_ref6","allChoices","poprandom","TransformTracker","parent","translateX","translateY","scaleX","scaleY","cubic","exp2","log2","sqrt","valueOf","setField","div","kStr","aStr","MatchTransformations","parents","eqns","shiftV","shiftH","stretchV","stretchH","compressH","eqn","eqnScramble","graphScramble","makebox","indexOf","latexpifraction","numer","ConvertAngle","conversion","degrees to radians","radians to degrees","either","neg","negative","rotations","denom","numers","IdentifyQuadrant","_ineq","functions","tan","quadrant","3","4","ineq","funcChoices","funcKeys","funcs","clue","csc","sec","cot","SolveRightTriangle","givens","given","A","B","ceil","atan","values","C","labels","giveninfo","answerblanks","HL","LL","HA","LA","RationalGraph","makeFunction","generateValues","vals","sampleRange","allHolesInRange","isGood","_generateValues","fmtAns","simplify","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","wrongs","IncreasingIntervals","pts","toFind","increasing","decreasing","xs","which","yRange","maxConstantIntervals","possible","reverse","intervals","wrongAnswer1","wrongAnswer2","wrongAnswer3","wrongAnswer4","inc","dec","interpolatePath","fullName","int","answerIndex","GraphLinearInequalities","_rd$sampleRange","_rd$sampleRange2","rotation","_rd$shuffle","_rd$shuffle2","line1","xInt","yInt","line2","latexeqn","clips","pieces","domainIneqs","latex","dict19","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","dictTens","dictPowers","21","24","27","30","33","36","39","42","45","48","51","54","57","60","63","divmod","sayinteger","_divmod","_divmod2","_divmod3","_divmod4","_divmod5","_divmod6","saynth","replacer","one","two","three","five","eight","nine","twelve","words","lastword","ending","josephus","FinalDigit","exponent","exampleExponent","exampleResult","exampleAnswer","_letters","D","EightCircles","_QGen4","smallRadius","bigRadius","numberOfCircles","diffR","smallCircles","small radius","MinimalGenerator","EasySum","SimpleGraph","AnswerPrompt","rise","run","slope","PolynomialLibrary","_QGen5","lin1","lin2","quadratic","subdivide","depth","searchDepth","hd","createTree","contourPresent","RationalPlot","numRoots","numAsymptotes","total","PolynomialPlot","coeffs","tex","PlotStyling","path1","path2","path3","path4","FontTest","Ix","Iy","Jx","Jy","diagram1","_rd$sample","_rd$sample2","inter","FontDisplay","chars","QuadTreePlotTest","_QGen6","f1","f2","_QGen8","function","line","mark","interpolate","encoding","field","$schema","signals","bind","scales","nice","zero","axes","titleFont","marks","facet","groupby","encode","enter","strokeWidth","signal","hover","modules","geometry","polynomials","othergenerators","transformations","trigonometry","picofermi","generatortests","simpleexamples","sorting","prefix","bonusquestions","questions_ref","_ref$sort","_ref$prefix","generators","questionBank","questionTypes","_questionTypes$module","_questionTypes$module2","_questionTypes$module3","_questionTypes$module4","generator","_generator$register","register","tags","hasKwd","item","kwd","sortQuestionType","QuestionSearch","clearSearch","kwds","updateSearch","generateAndAdd","questionType","qtype","results","checkForKwds","setSelection","renderResults","questionbank","ReactModal","setAppElement","defaultStyles","borderColor","AppWrapper","addToDoc","newDoc","resetDocument","resetStyle","openRpcTest","openCustomQuestion","openSettings","openImport","openSave","toplabel","AppLayout_Wrapper","AppLayout_TopBar","window","print","Settings_AnswerKeyToggle","Settings_StartNumbering","FontSize","UI_PreviewZoom","Settings_AllowEditing","Settings_FixPagination","containers_Document_Document","AppLayout_SideBar","GeneratorMenu_QuestionSearch","removeLast","clearAll","UI_GUImode","CheckState","statusBar","AppLayout_StatusBar","containers_CustomQuestion","Modals_SettingsModal","Modals_ImportModal","SavePopup","Modals_NotesModal","Root","store","es","containers_App","date","Date","setTime","getTime","cookie","toUTCString","rootReducer","combineReducers","custom","urls","loadFonts","createStore","getState","themeset","_c$split","_c$split2","checkCookie","App","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","serviceWorker","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","src_App","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","get","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.939f84f4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ResultContainer\":\"styles_ResultContainer__1O4qk\",\"SearchResult\":\"styles_SearchResult__15uqq\",\"Selected\":\"styles_Selected__1Yl6M\",\"SearchResultNone\":\"styles_SearchResultNone__2yip4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Layout\":\"styles_Layout__2DVPj\",\"SettingTable\":\"styles_SettingTable__37d46\",\"StyleSetting\":\"styles_StyleSetting__3Xjp4\",\"Preview\":\"styles_Preview__x9yKo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Markdown\":\"styles_Markdown__3vZID\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"styles_Wrapper__2T_ZG\",\"Wrapper-TitleBar-StatusBar\":\"styles_Wrapper-TitleBar-StatusBar__2fuc-\",\"Wrapper-TopBar\":\"styles_Wrapper-TopBar__1I9IF\",\"Wrapper-TopBar-StatusBar\":\"styles_Wrapper-TopBar-StatusBar__1XAVu\",\"SideBar\":\"styles_SideBar__2l_xh\",\"StatusBar\":\"styles_StatusBar__3qYL6\",\"TitleBar\":\"styles_TitleBar__2YJPM\",\"TopBar\":\"styles_TopBar__38-39\",\"PreviewOuter\":\"styles_PreviewOuter__1RGls\",\"PreviewInner\":\"styles_PreviewInner__1bCVr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FO\":\"scratch_FO__1lJvG\",\"Div1\":\"scratch_Div1__YR1Dj\",\"Div2\":\"scratch_Div2__1zuCJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Popup\":\"styles_Popup__1PaGo\",\"PopupButtons\":\"styles_PopupButtons__3BnkF\",\"Import\":\"styles_Import__zmWHf\",\"ImportDragbox\":\"styles_ImportDragbox__14TZF\",\"ImportDragboxDragover\":\"styles_ImportDragboxDragover__L2i-_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SettingPage\":\"styles_SettingPage__2u-qK\",\"Title\":\"styles_Title__3GTDx\",\"SettingSection\":\"styles_SettingSection__2TB1w\",\"LeftBar\":\"styles_LeftBar__3l1eD\",\"NavArea\":\"styles_NavArea__1p8EW\",\"NavButton\":\"styles_NavButton__2-ksX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GraphMakerBody\":\"styles_GraphMakerBody__11R3v\",\"GraphMakerInput\":\"styles_GraphMakerInput__3qT0d\",\"GraphMakerPreview\":\"styles_GraphMakerPreview__2opkG\",\"LatexExamples\":\"styles_LatexExamples__1VuMU\"};","import React from 'react'\nimport styles from './styles.module.css'\n\nclass Previewer extends React.Component {\n  render() {\n    \n\n    return (\n      <div className={styles.PreviewOuter}>\n        <div className={styles.PreviewInner}>\n          {this.props.children}\n        </div>\n      </div>\n    )\n\n  }\n}\n\nexport default Previewer","import React from 'react'\nimport styles from './styles.module.css'\n\nclass SideBar extends React.Component {\n  render() {\n    return (\n      <div className={styles.SideBar}>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport default SideBar","import React from 'react'\nimport styles from './styles.module.css'\n\nconst StatusBar = (props) => {\n  return (\n    <div className={styles.StatusBar}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default StatusBar","import React from 'react'\nimport styles from './styles.module.css'\n\nconst TopBar = (props) => {\n  return (\n    <div className={styles.TopBar}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default TopBar","import React from 'react'\nimport styles from './styles.module.css'\n\nclass Wrapper extends React.Component {\n  \n  render() {\n    let classNames = [styles.Wrapper, styles['Wrapper-TopBar']]\n\n    return (\n      <div className={classNames.join(' ')}>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport default Wrapper","export const ADD_TO_DOCUMENT = 'ADD_TO_DOCUMENT'\nexport const CLEAR_ALL = 'CLEAR_ALL'\nexport const REMOVE_LAST = 'REMOVE_LAST'\nexport const UPDATE_ELEMENT = 'UPDATE_ELEMENT'\nexport const UPDATE_HEADER = 'UPDATE_HEADER'\nexport const DELETE_ELEMENT = 'DELETE_ELEMENT'\nexport const DELETE_HEADER = 'DELETE_HEADER'\nexport const SET_DOCUMENT_STARTNUMBERING = 'SET_DOCUMENT_STARTNUMBERING'\nexport const ADD_PAGEBREAK_BEFORE = 'ADD_PAGEBREAK_BEFORE' // need to come up with a better way to do this\nexport const CLEAR_PAGEBREAKS = 'CLEAR_PAGEBREAKS'\nexport const LOAD_DOCUMENT = 'LOAD_DOCUMENT'\nexport const SET_HIDDEN_COUNT = 'SET_HIDDEN_COUNT'\nexport const FIX_PAGINATION = 'FIX_PAGINATION'\nexport const DECREASE_HIDDEN_COUNT = 'DECREASE_HIDDEN_COUNT'\nexport const APPEND_CONTENT = 'APPEND_CONTENT'\nexport const RESET_DOCUMENT = 'RESET_DOCUMENT'\n\nlet elemID = 0\n\n// Document content\n\nexport const addToDocument = (elem) => ({\n  type: ADD_TO_DOCUMENT,\n  payload: {element: elem, id: ++elemID}\n})\n\nexport const clearAll = () => {\n  elemID = 0\n  return ({\n    type: CLEAR_ALL\n  })\n}\n\nexport const removeLast = () => ({\n  type: REMOVE_LAST,\n})\n\nexport const updateElement = (idstr, data) => {\n  const [type, id] = idstr.split('.')\n  if (type === 'header') {\n    return { type: UPDATE_HEADER, payload: {id: +id, data} }\n  }\n  if (type === 'content') {\n    return { type: UPDATE_ELEMENT, payload: {id: +id, data} }\n  }\n}\n\nexport const deleteElement = (idstr) => {\n  const [type, id] = idstr.split('.')\n  if (type === 'header') {\n    return { type: DELETE_HEADER, payload: +id }\n  }\n  if (type === 'content') {\n    return { type: DELETE_ELEMENT, payload: +id }\n  }\n}\n\nexport const deleteHeader = (id) => ({\n  type: DELETE_HEADER,\n  payload: +id,\n})\n\nexport const loadDocument = doc => {\n  const ids = Object.keys(doc.content).map(k => +k).sort((a,b) => a-b)\n  elemID = ids[ids.length-1]\n  return ({\n    type: LOAD_DOCUMENT,\n    payload: doc\n  })\n}\n\nexport const resetDocument = () => {\n  elemID = 0\n  return ({\n    type: RESET_DOCUMENT\n  })\n}\n\nexport const appendContent = ({content, order, where='end'}) => {\n  const updateOrder = []\n  const updateContent = {}\n  for (const o of order) {\n    const id = ++elemID\n    updateOrder.push(id)\n    updateContent[id] = content[o]\n  }\n  return ({\n    type: APPEND_CONTENT,\n    payload: {content: updateContent, order: updateOrder, where}\n  })\n}\n\n// Document settings\n\nexport const setDocumentStartNumbering = (n) => ({\n  type: SET_DOCUMENT_STARTNUMBERING,\n  payload: n\n})\n\n// Document view\n\nexport const addPageBreakBefore = (id) => ({\n  type: ADD_PAGEBREAK_BEFORE,\n  payload: id\n})\n\nexport const clearPageBreaks = () => ({\n  type: CLEAR_PAGEBREAKS\n})\n\nexport const setHiddenCount = n => ({\n  type: SET_HIDDEN_COUNT,\n  payload: n\n})\n\nexport const decreaseHiddenCount = () => ({\n  type: DECREASE_HIDDEN_COUNT,\n})\n\nexport const fixPagination = () => ({\n  type: FIX_PAGINATION\n})\n\n\n","import React from 'react'\n\n//const axisArrow = \"M 0,0 Q -4,4 -4,12 Q 0,4 6,0 Q 0,-4 -4,-12 Q -4,-4 0,0\"\n//const axisArrow = \"M 0,0 Q -2,-6 -1,-12 Q 2,-3 6,0 Q 2,3 -1,12 Q -2,6 0,0\"\nconst axisArrow = 'M 0,0 L 0,2 Q 5,3 10,2 L 10,0 Q 5,1 0,0'\n\nexport const MarkerSymbols = props => {\n  return (\n    <defs>\n      <symbol id=\"svgplot-symbol-point\" viewBox=\"-12 -12 24 24\" refX=\"0\" refY=\"0\">\n        <circle cx=\"0\" cy=\"0\" r=\"3\"/>\n      </symbol>\n      <symbol id=\"svgplot-symbol-hole\" viewBox=\"-12 -12 24 24\" refX=\"0\" refY=\"0\">\n        <circle cx=\"0\" cy=\"0\" r=\"4.5\"/>\n        <circle cx=\"0\" cy=\"0\" r=\"2.8\"className=\"svgplot-marker-hole\"/>\n      </symbol>\n      <symbol id=\"svgplot-symbol-arrow\" viewBox=\"-12 -12 24 24\" refX=\"0\" refY=\"0\">\n        <path d=\"M -2,0 L -5,-6 L 6,0 L -5,6 z\"/>\n      </symbol>\n      <symbol id=\"svgplot-symbol-axisarrow\" viewBox=\"-12 -12 24 24\" refX=\"0\" refY=\"0\">\n        <polygon points=\"0,1 .5,1 .5,-1 0,-1\"/>\n        <path d={axisArrow} transform=\"translate(2,0) rotate(120)\"/>\n        <path d={axisArrow} transform=\"scale(1,-1) translate(2,0) rotate(120)\"/>\n      </symbol>\n    </defs>\n  )\n}\n\n\nconst MarkerDefs = ({stylename, markerW, markerH}) => {\n\n  return (\n    <>\n      <marker id={`${stylename}-marker-arrowfwd`} viewBox=\"-6 -6 12 12\" refX=\"0\" refY=\"0\"\n        markerWidth={markerW} markerHeight={markerH}\n        markerUnits=\"strokeWidth\"\n        orient=\"auto\">\n        <use xlinkHref='#svgplot-symbol-arrow' \n          x='-6' y='-6' height='12' width='12' \n          className='svgplot-marker'/>\n      </marker>\n      <marker id={`${stylename}-marker-arrowrev`} viewBox=\"-6 -6 12 12\" refX=\"0\" refY=\"0\"\n        markerWidth={markerW} markerHeight={markerH}\n        markerUnits=\"strokeWidth\"\n        orient=\"auto\">\n        <use xlinkHref='#svgplot-symbol-arrow' \n          x='-6' y='-6' height='12' width='12' \n          transform='scale(-1,1)'\n          className='svgplot-marker'/>\n      </marker>\n      <marker id={`${stylename}-marker-axisarrow`} viewBox=\"-6 -6 12 12\" refX=\"0\" refY=\"0\"\n        markerWidth={markerW} markerHeight={markerH}\n        markerUnits=\"strokeWidth\"\n        orient=\"auto-start-reverse\">\n        <use xlinkHref='#svgplot-symbol-axisarrow' \n          x='-6' y='-6' height='12' width='12'\n          className='svgplot-marker'/>\n      </marker>\n      <marker id={`${stylename}-marker-point`} viewBox=\"-6 -6 12 12\" refX=\"0\" refY=\"0\"\n        markerWidth={markerW} markerHeight={markerH}\n        markerUnits=\"strokeWidth\"\n        orient=\"auto\">\n        <use xlinkHref='#svgplot-symbol-point' \n          x='-6' y='-6' height='12' width='12' \n          className='svgplot-marker'/>\n      </marker>\n      <marker id={`${stylename}-marker-hole`} viewBox=\"-5 -5 10 10\" refX=\"0\" refY=\"0\"\n        markerWidth={markerW} markerHeight={markerH}\n        markerUnits=\"strokeWidth\"\n        orient=\"auto\">\n        <use xlinkHref='#svgplot-symbol-hole' \n          x='-5' y='-5' height='10' width='10' \n          className='svgplot-marker'/>\n      </marker>\n    </>\n  )\n}\n\n\n\nconst FillPatternDefs = ({stylename, width, height}) => {\n  return (\n    <>\n      <pattern id={`${stylename}-fillpattern-dots1`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternUnits='userSpaceOnUse'>\n        <circle cx='3' cy='3' r='3' className='svgplot-fillpattern'/>\n        <circle cx='9' cy='9' r='3' className='svgplot-fillpattern'/>\n      </pattern>\n      <pattern id={`${stylename}-fillpattern-dots2`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternUnits='userSpaceOnUse'>\n        <circle cx='3' cy='9' r='3' className='svgplot-fillpattern'/>\n        <circle cx='9' cy='3' r='3' className='svgplot-fillpattern'/>\n      </pattern>\n      <pattern id={`${stylename}-fillpattern-diagonal1`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternUnits='userSpaceOnUse'>\n        <polygon points='0,0 6,0 12,6 12,12' className='svgplot-fillpattern' />\n        <polygon points='0,6 0,12 6,12' className='svgplot-fillpattern' />\n      </pattern>\n      <pattern id={`${stylename}-fillpattern-diagonal2`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternTransform='scale(-1,-1)'\n        patternUnits='userSpaceOnUse'>\n        <polygon points='0,0 6,0 12,6 12,12' className='svgplot-fillpattern'/>\n        <polygon points='0,6 0,12 6,12' className='svgplot-fillpattern'/>\n      </pattern>\n      <pattern id={`${stylename}-fillpattern-zigzag1`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternTransform='scale(-1,-1)'\n        patternUnits='userSpaceOnUse'>\n        <polygon points='0,0 0,6 3,12 6,12' className='svgplot-fillpattern'/>\n        <polygon points='12,0 12,6 9,12 6,12' className='svgplot-fillpattern'/>\n        <polygon points='3,0 6,6 9,0' className='svgplot-fillpattern'/>\n      </pattern>\n      <pattern id={`${stylename}-fillpattern-zigzag2`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternTransform='scale(-1,-1)'\n        patternUnits='userSpaceOnUse'>\n        <polygon points='0,6 0,12 3,12' className='svgplot-fillpattern'/>\n        <polygon points='12,6 12,12 9,12' className='svgplot-fillpattern'/>\n        <polygon points='0,0 6,12 12,0 9,0 6,6 3,0' className='svgplot-fillpattern'/>\n      </pattern>\n    </>\n  )\n}\n\nclass StyleDefs extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {}\n    this.ref = React.createRef()\n  }\n\n  checkSize() {\n    const CTM = this.ref.current.getCTM()\n    this.setState({CTM})\n  }\n\n  componentDidMount() {\n    this.checkSize()\n  }\n\n  render() {\n    const { stylename } = this.props\n\n    let w = 12, h = 12\n\n    if (this.state.CTM) {\n      const {a, b, c, d} = this.state.CTM\n      const s = Math.max(Math.abs(a)+Math.abs(c),Math.abs(b)+Math.abs(d))\n      w /= s\n      h /= s\n    }\n\n    return (\n      <defs ref={this.ref}>\n        <MarkerDefs stylename={stylename} markerW={w} markerH={h}/>\n        <FillPatternDefs stylename={stylename} width={w/3} height={h/3}/>\n      </defs>\n    )\n  }\n}\n\n\n\nlet styleCount = 0\n\nconst Style = props => {\n  const { name, color, ...styleprops } = props\n  const uniquename = `styleID-${++styleCount}`\n  \n  const style = {...styleprops}\n  for (const shape of ['arrowfwd', 'arrowrev', 'axisarrow', 'point', 'hole']) {\n    style[`--svgplot-marker-${shape}`] = `url(#${uniquename}-marker-${shape})`\n  }\n\n  for (const pattern of ['dots1', 'dots2', 'diagonal1', 'diagonal2', 'zigzag1', 'zigzag2']) {\n    style[`--svgplot-fillpattern-${pattern}`] = `url(#${uniquename}-fillpattern-${pattern})`\n  }\n\n  if (color) {\n    style['--svgplot-color'] = color\n  } else if (style.stroke) {\n    style['--svgplot-color'] = style.stroke\n  }\n\n  return (\n    <g className={name} style={style} vectorEffect=\"inherit\">\n      <StyleDefs stylename={uniquename}/>\n      {props.children}\n    </g>\n  )\n}\n\nexport default Style","import React from 'react'\n\n\nexport const OverlayPosition = props => {\n  const {x, y, x1, y1, x2, y2, cartesian=true} = props\n  const xPerc = 100 * (x - x1) / (x2 - x1)\n  const yPerc = cartesian ? 100 * (y2 - y) / (y2 - y1) : (y - y1) / (y2 - y1)\n\n  const style = {\n    position: 'absolute',\n    left: xPerc + '%',\n    top: yPerc + '%',\n    height: '0px',\n    width: '0px',\n    overflow: 'visible',\n  }\n\n  return (\n    <div style={style}>\n      {props.children}\n    </div>\n  )\n}\n\nconst Overlay = props => {\n  const {\n    rotate,\n    anchor,\n    displacement,\n  } = props\n\n\n  const innerstyle = {\n    position: 'absolute',\n    transformOrigin: 'center center',\n    transform: 'translate(-50%,-50%)',\n  }\n\n  if (anchor) {\n    const [transformOrigin, initialTransform] = {\n      E: ['right center', 'translate(-100%,-50%)'],\n      NE: ['right top', 'translate(-100%,0)'],\n      N: ['center top', 'translate(-50%,0)'],\n      NW: ['left top', 'translate(0,0)'],\n      W: ['left center', 'translate(0,-50%)'],\n      SW: ['left bottom', 'translate(0,-100%)'],\n      S: ['center bottom', 'translate(-50%,-100%)'],\n      SE: ['right bottom', 'translate(-100%,-100%)'],\n      center: ['center center', 'translate(-50%,-50%)'],\n    }[anchor]\n  \n    innerstyle.transformOrigin = transformOrigin\n    innerstyle.transform = initialTransform\n  }\n    \n  if (displacement !== undefined) {\n    if (displacement.constructor.name === 'Object') {\n      if (displacement.x !== undefined || displacement.y !== undefined) {\n        const dx = parseFloat(displacement.x) || 0\n        const dy = parseFloat(displacement.y) || 0\n        const ux = (displacement.x || '').replace(dx, '')\n        const uy = (displacement.y || '').replace(dy, '')\n        innerstyle.transform += ` translate(${dx}${ux},${-dy}${uy})`\n      } else if (displacement.angle && displacement.radius) {\n        const r = parseFloat(displacement.radius)\n        const u = displacement.radius.replace(r, '')\n        const a = parseFloat(displacement.angle)\n        const dx = Math.round(Math.cos(a * Math.PI / 180) * r) + u\n        const dy = Math.round(-Math.sin(a * Math.PI / 180) * r) + u\n        innerstyle.transform += ` translate(${dx},${dy})`\n      }\n    } else if (anchor) {\n      const angles = {\n        E: 0, NE: 45, N: 90, NW: 135, \n        W: 180, SW: 225, S: 270, SE: 315,\n      }\n      if (angles[anchor] !== undefined) {\n        const a = ((rotate ? +rotate : 0) + (+angles[anchor] + 180)) % 360\n        const r = parseFloat(displacement)\n        const u = displacement.replace(r, '')\n        const dx = Math.round(Math.cos(a * Math.PI / 180) * r) + u\n        const dy = Math.round(-Math.sin(a * Math.PI / 180) * r) + u\n        innerstyle.transform += ` translate(${dx},${dy})`\n      }\n    }\n  }\n\n  if (rotate) {\n    const rotateAngle = parseFloat(rotate)\n    innerstyle.transform += ` rotate(${-rotateAngle}deg)`\n  }\n\n  //console.log({innerstyle, outerstyle})\n  \n  return (\n    <div className=\"svgplot-label\" style={innerstyle}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default Overlay","import React from 'react'\nimport { MarkerSymbols } from './Style'\nimport Overlay, { OverlayPosition } from './Overlay'\n\nfunction convertToPx(val, unit) {\n  if (unit === 'px') return val\n  if (unit === 'in') return (val * 96)\n  if (unit === 'mm') return convertToPx(val/25.4, 'in')\n  if (unit === 'cm') return convertToPx(val/2.54, 'in')\n  if (unit === 'pt') return convertToPx(val/72, 'in')\n  if (unit === 'pc') return convertToPx(val/12, 'pt')\n}\n\n\n\nclass Canvas extends React.Component {\n\n  render() {\n    const props = this.props\n    const {\n      cartesian=true, x1, x2, y1, y2, \n      width, height, preserveAspectRatio,\n      border=false\n    } = props\n\n\n    const wrapperprops = {\n      style: {\n        display: 'inline-block',\n        position: 'relative', \n        padding: 0,\n        width, height,\n      },\n    }\n\n    if (border) {\n      wrapperprops.style.border = '1px solid black'\n    }\n\n    const svgprops = {  \n      width, height, \n      preserveAspectRatio, \n      style: {\n        position: 'relative', \n        margin: 0,\n        top: 0, left: 0,\n      }\n    }\n    const gprops = {ref: this.ref, vectorEffect: 'non-scaling-stroke'}\n\n    if (cartesian && cartesian !== \"false\") {\n      gprops.transform = 'scale(1,-1)'\n      svgprops.viewBox = `${x1} ${-y2} ${x2-x1} ${y2-y1}`\n    } else {\n      svgprops.viewBox = `${x1} ${y1} ${x2-x1} ${y2-y1}`\n    }\n  \n    const children = React.Children.toArray(props.children)\n    const svgchildren = children.filter(c => c.type !== Overlay)\n    const overlays = children.filter(c => c.type === Overlay)\n\n    return (\n      <div className='svgplot-canvas' {...wrapperprops}>\n        <svg {...svgprops}>\n          <MarkerSymbols />\n          <g {...gprops}>\n            {svgchildren}\n          </g>\n        </svg>\n        {overlays.length ? (\n          overlays.map((o, i) => (\n            <OverlayPosition key={i} \n              cartesian={cartesian} \n              x1={x1} y1={y1} x2={x2} y2={y2} \n              x={o.props.x} y={o.props.y} \n            >\n              {o}\n            </OverlayPosition>\n          ))\n        ) : null}\n      </div>\n    )\n  }\n}\n\nexport default Canvas","import React from 'react'\n\nconst Grid = (props) => {\n  const {x1, y1, x2, y2, xStep=1, yStep=1} = props\n\n  const xvals = [], yvals = []\n  if (xStep) {\n    let t = x1\n    while (t <= x2) {\n      xvals.push(t)\n      t += xStep\n    }\n  }\n  if (yStep) {\n    let t = y1\n    while (t <= y2) {\n      yvals.push(t)\n      t += yStep\n    }\n  }\n\n  return (\n    <>\n      {xvals.map(v => (\n        <line key={`x-${v}`}\n          x1={v} x2={v} y1={y1} y2={y2} \n          vectorEffect='inherit'/>\n      ))}\n      {yvals.map(v => (\n        <line key={`y-${v}`}\n          y1={v} y2={v} x1={x1} x2={x2} \n          vectorEffect='inherit'/>\n      ))}\n    </>\n  )\n}\n\nexport default Grid","import React from 'react'\n\n\nexport default class Label extends React.Component {\n  constructor(props) {\n    super(props)\n    this.ref = React.createRef()\n    this.state = {}\n  }\n\n  componentDidMount() {\n    const CTM = this.ref.current.getCTM()\n    this.setState({ctm: CTM})\n  }\n\n  render() {\n    let {x, y, anchor=\"W\", distance, rotate} = this.props\n\n    const anglemap = {\n      E: 0,\n      NE: 45,\n      N: 90,\n      NW: 135,\n      W: 180,\n      SW: 225,\n      S: 270,\n      SE: 315,\n      left: 135,\n      right: 0,\n    }\n\n    const anchorAngle = anglemap[anchor] ? anglemap[anchor] : +anchor % 360\n\n    const tb = anchorAngle === 0 || anchorAngle === 180 ? 'center' : anchorAngle < 180 ? 'top' : 'bottom'\n    const lr = anchorAngle < 90 ? 'right' : anchorAngle <= 270 ? 'left' : 'right'  \n\n    const fobj = {\n      x: 0, y: 0,  // Chrome rounds foreignObject coordinates to integers, so it works better to apply them later \n      width: '100%', height: '100%',\n      style: {overflow: 'visible'}, \n    }\n    const div1 = {\n      style: {\n        width: '0', height: '0',\n        margin: '0',\n        padding: '0',\n        transformOrigin: lr + ' center',\n        position: 'relative',\n      }\n    }\n    const div2 = {\n      style: {\n        //border: '1px solid orange',\n        position: 'absolute',\n        [lr]: -Math.abs(Math.sin(anchorAngle * Math.PI / 180) * 0.5) + 'em',\n        [tb === 'center' ? 'top' : tb]: -Math.abs(Math.cos(anchorAngle * Math.PI / 180) * 0.7) + 'em',\n        textAlign: lr,\n        padding: 0,\n        transformOrigin: lr + ' center',\n      }\n    }\n\n    if (distance) {\n      const d = parseFloat(distance)\n      const units = distance.replace(d, '') \n      const padX = Math.abs(Math.cos(anchorAngle * Math.PI / 180) * d) + units\n      const padY = Math.abs(Math.sin(anchorAngle * Math.PI / 180) * d) + units\n\n      if (tb === 'top') {\n        div2.style.marginTop = padY\n      } else if (tb === 'bottom') {\n        div2.style.marginBottom = padY\n      }\n      if (lr === 'left') {\n        div2.style.marginLeft = padX\n      } else if (lr === 'right') {\n        div2.style.marginRight = padX\n      }\n    }\n\n\n    \n    if (this.state.ctm) {\n      const useragent = navigator.userAgent.toLowerCase()\n      if ((/safari/).test(useragent) && !(/firefox/).test(useragent) && !(/chrome/).test(useragent)) {\n        // Safari removes SVG CTM upon applying a transformation to foreignObject\n        // This fixes it (and also allows labels to overflow the SVG bounds)\n        const ctm = this.state.ctm\n        const inv = this.state.ctm.inverse()\n        const m1 = ctm.multiply(inv)\n        m1.e = -x\n        m1.f = -y\n        inv.e = x\n        inv.f = y\n        const m2 = m1.multiply(ctm).multiply(inv)\n        const {a, b, c, d, e, f} = m2\n        const resultmatrix = [a,b,c,d,e,f]\n        div1.style.transform = `matrix(${resultmatrix.join(',')})`\n\n      } else {\n        const {a, b, c, d} = this.state.ctm.inverse()\n        div1.style.transform = `matrix(${[a,b,c,d,x,y].join(',')})`\n      }\n\n      if (rotate) {\n        const rotateAngle = rotate === 'auto' ? (lr === 'right' ? anchorAngle : (180 + anchorAngle) % 360) : rotate\n        div2.style.transform = `rotate(${-rotateAngle}deg)`\n      }\n    }\n    \n    console.log({div1, div2})\n    \n    return (\n      <foreignObject {...fobj} ref={this.ref} xmlns=\"http://www.w3.org/1999/xhtml\">\n        <div {...div1}>\n          <div className=\"svgplot-label\" {...div2} anchor={anchor}>\n            {this.props.children}\n          </div>\n        </div>\n\n      </foreignObject>\n    )\n  }\n}","import React from 'react'\n\n\nexport const Circle = props => {\n  return <circle vectorEffect=\"inherit\" {...props}/>\n}\n\nexport const Ellipse = props => {\n  return <ellipse vectorEffect=\"inherit\" {...props}/>\n}\n\nexport const Rect = props => {\n  return <rect vectorEffect=\"inherit\" {...updatePropsWithMarkers(props)}/>\n}\n\nconst markerProps = s => {\n  const positions = ['Start', 'Mid', 'End']\n  const markers = {}\n  if (s && s.length === 3) {\n    for (let i=0; i<3; i++) {\n      const c = s[i]\n      if (c === '>') markers[`marker${positions[i]}`] = 'arrowfwd'\n      else if (c === '<') markers[`marker${positions[i]}`]  = 'arrowrev'\n      else if (c === '.') markers[`marker${positions[i]}`]  = 'point'\n      else if (c === 'o') markers[`marker${positions[i]}`]  = 'hole'\n    }\n  }\n  return markers\n}\n\n\nfunction updatePropsWithMarkers(props) {\n  if (props.markers) {\n    return {...props, ...markerProps(props.markers)}\n  }\n  return props\n}\n\nexport const Line = props => {\n  return <line vectorEffect=\"inherit\" {...updatePropsWithMarkers(props)}/>\n}\n\nexport const Polygon = props => {\n  return <polygon vectorEffect=\"inherit\" {...updatePropsWithMarkers(props)}/>\n}\n\nexport const Polyline = props => {\n  return <polyline vectorEffect=\"inherit\" {...updatePropsWithMarkers(props)}/>\n}\n\nexport const Path = props => {\n  return (\n    <path vectorEffect=\"inherit\" {...updatePropsWithMarkers(props)}/>\n  )\n}\n\nexport const Point = props => {\n  const {x, y, coords, marker=\".\"} = props\n  const pathprops = {}\n  if (coords) {\n    pathprops.d = `M${coords[0]},${coords[1]}Z`\n  } else {\n    pathprops.d = `M${x},${y}Z`\n  }\n  if (marker) {\n    pathprops.markers = `--${marker}`\n  }\n  return <Path {...pathprops} />\n}","import React from 'react'\n\nconst translate = params => {\n  let x, y\n  if (Array.isArray(params)) {\n    [x=0, y=0] = params\n  } else {\n    ({x=0, y=0} = params)\n  }\n  return `translate(${x},${y})`\n}\n\nconst scale = params => {\n  let x, y\n  if (Array.isArray(params)) {\n    [x=1, y=1] = params\n  } else {\n    ({x=1, y=1} = params)\n  }\n  return `scale(${x},${y})`\n}\n\nconst matrix = params => {\n  let a, b, c, d, e, f\n  if (Array.isArray(params)) {\n    [a=1, b=0, c=0, d=1, e=0, f=0] = params\n  } else {\n    ({a=1, b=0, c=0, d=1, e=0, f=0} = params)\n  }\n  return `matrix(${a},${b},${c},${d},${e},${f})`\n}\n\nconst rotate = params => {\n  let a, x, y\n  if (Array.isArray(params)) {\n    [a, x=0, y=0] = params\n  } else {\n    ({a, x=0, y=0} = params)\n  }\n  if ((x !== undefined) && (y !== undefined)) {\n    return `rotate(${a},${x},${y})`\n  }\n  return `rotate(${a})`\n}\n\nconst makeTransform = props => {\n  const {type, params} = props\n  switch(type) {\n    case 'matrix': return matrix(params)\n    case 'rotate': return rotate(params)\n    case 'scale': return scale(params)\n    case 'translate': return translate(params)\n    case 'invertXY': return matrix([0,1,1,0])\n    default: return 'none'\n  }\n}\n\n\nconst Transform = props => {\n  const { type, list, children, ...params } = props\n\n  const layerprops = { vectorEffect: 'inherit' }\n\n  if (list) {\n    const transforms = []\n    for (const t of list) {\n      const [ty, pa={}] = typeof t === 'string' ? [t] : t\n      const str = makeTransform({type: ty, params: pa})\n      if (str !== 'none') {\n        transforms.push(str)\n      }\n    }\n    if (transforms.length > 0) {\n      layerprops.transform = transforms.join(' ')\n    }\n  } else {\n    const str = makeTransform({type, params})\n    if (str && str !== 'none') {\n      layerprops.transform = str\n    }\n  }\n\n  return (\n    <g {...layerprops}>\n      {props.children}\n    </g>\n  ) \n}\n\nexport default Transform","import React from 'react'\nimport { Clip, Circle, Rect, Transform } from '.'\nimport { includes } from 'lodash'\n\n\n\n\nfunction determineRadius(props) {\n  let {minRadius, maxRadius} = props\n  if (minRadius === undefined) {\n    minRadius = maxRadius * 0.5\n  }\n  if (maxRadius === undefined) {\n    maxRadius = minRadius * 2\n  }\n  const angleSize = props.terminal - props.initial\n  if (angleSize < 90) {\n    const diff = maxRadius - minRadius\n    return minRadius + diff*(90-angleSize)/90\n  } else {\n    return minRadius\n  }\n}\n\nfunction parseCoords(coord) {\n  if (coord) {\n    if (typeof coord === 'string') {\n      const [x, y] = coord.split(',').map(n => +n)\n      return {x, y}\n    }\n    if (Array.isArray(coord)) {\n      const [x, y] = coord\n      return {x, y}\n    }\n    const {x, y} = coord\n    return {x, y}\n  }\n}\n\nfunction determineVertex(props) {\n  if (props.vertex) return parseCoords(props.vertex)\n  if (props.coords) return parseCoords(props.coords)\n  if ((props.x !== undefined) && (props.y !== undefined)) {\n    const {x, y} = props\n    return {x, y}\n  }\n}\n\nfunction parseAngleSide(vertex, side) {\n  if (typeof side === 'number') {\n    const degrees = side\n    const radians = degrees * Math.PI / 180\n    return {radians, degrees}\n  } else if (typeof side === 'string') {\n    if (includes(side, ',')) {\n      const [x, y] = side.split(',').map(n => +n)\n      const dx = x - vertex.x\n      const dy = y - vertex.y\n      const radians = Math.atan2(dy, dx)\n      const degrees = radians * 180 / Math.PI\n      if (degrees >= 360) {\n        return {\n          degrees: degrees - 360,\n          radians: radians - 2*Math.PI,\n        }\n      } else {\n        return {degrees, radians}\n      }\n    } else {\n      const degrees = parseFloat(side)\n      const radians = degrees * Math.PI / 180\n      return {radians, degrees}\n    }\n  } else {\n    const {x, y} = parseCoords(side)\n    const dx = x - vertex.x\n    const dy = y - vertex.y\n    const radians = Math.atan2(dy, dx)\n    const degrees = radians * 180 / Math.PI\n    if (degrees >= 360) {\n      return {\n        degrees: degrees - 360,\n        radians: radians - 2*Math.PI,\n      }\n    } else {\n      return {degrees, radians}\n    }\n  }\n}\n\nfunction determineAngles(vertex, props) {\n  let {measure, initial, terminal} = props\n  if (initial === undefined) {\n    const term = parseAngleSide(vertex, terminal)\n    const measureDeg = parseFloat(measure)\n    const initDeg = term.degrees - measureDeg\n    const initRad = initDeg * Math.PI / 180\n    return {terminal: term, initial: {degrees: initDeg, radians: initRad}, measure: {degrees: measureDeg}}\n  }\n  if (terminal === undefined) {\n    const init = parseAngleSide(vertex, initial)\n    const measureDeg = parseFloat(measure)\n    const termDeg = init.degrees + measureDeg\n    const termRad = termDeg * Math.PI / 180\n    return {initial: init, terminal: {degrees: termDeg, radians: termRad}, measure: {degrees: measureDeg}}\n  }\n  const init = parseAngleSide(vertex, initial)\n  let term = parseAngleSide(vertex, terminal)\n  if (term.degrees < init.degrees) {\n    term = {degrees: term.degrees + 360, radians: term.radians + 2*Math.PI}\n  }\n  const meas = {degrees: term.degrees - init.degrees}\n  return {initial: init, terminal: term, measure: meas}\n}\n\n\nconst RightAngleMark = props => {\n  const {x, y} = determineVertex(props)\n  const radius = props.radius || determineRadius(props)\n  const {initial, terminal, measure} = determineAngles({x, y}, props)\n  const rotate = measure.degrees === 90 ? initial.degrees : initial.degrees + (measure.degrees - 90)/2\n  const vec1 = {\n    x: Math.cos(initial.radians) * radius, \n    y: Math.sin(initial.radians) * radius,\n  }\n  const vec2 = {\n    x: Math.cos(terminal.radians) * radius, \n    y: Math.sin(terminal.radians) * radius,\n  }\n  const clipPoints = [\n    [x,y],\n    [x + 2*vec1.x, y + 2*vec1.y],\n    [x + 2*vec1.x + 2*vec2.x, y + 2*vec1.y + 2*vec2.y],\n    [x + 2*vec2.x, y + 2*vec2.y]\n  ]\n\n  return (\n    <Clip shape=\"Path\" points={clipPoints}>\n      <Transform type=\"rotate\" a={rotate} x={x} y={y}>\n        <Rect x={x-radius} y={y-radius} width={2*radius} height={2*radius} style=\"anglemark anglemark-right\"/>\n      </Transform>\n    </Clip>\n  )\n}\n\n\nconst RoundAngleMark = props => {\n  const {x, y} = determineVertex(props)\n  const radius = props.radius || determineRadius(props)\n  const {initial, terminal, measure} = determineAngles({x, y}, props)\n  console.log({initial, terminal, measure})\n  const arcStart = {\n    x: x + Math.cos(initial.radians) * radius * 2, \n    y: y + Math.sin(initial.radians) * radius * 2,\n  }\n  const arcEnd = {\n    x: x + Math.cos(terminal.radians) * radius * 2,\n    y: y + Math.sin(terminal.radians) * radius * 2,\n  }\n  let d = `M${x},${y}`\n  d += ` L ${arcStart.x},${arcStart.y}`\n  d += ` A ${radius*2} ${radius*2} 0 ${measure.degrees > 180 ? 1 : 0} 1`\n  d += ` ${arcEnd.x},${arcEnd.y} z`\n  \n  /*\n  const vec1 = {\n    x: Math.cos(initial.radians) * radius, \n    y: Math.sin(initial.radians) * radius,\n  }\n  const vec2 = {\n    x: Math.cos(terminal.radians) * radius, \n    y: Math.sin(terminal.radians) * radius,\n  }\n  const clipPoints = [\n    [x,y],\n    [x + 2*vec1.x, y + 2*vec1.y],\n    [x + 2*vec1.x + 2*vec2.x, y + 2*vec1.y + 2*vec2.y],\n    [x + 2*vec2.x, y + 2*vec2.y]\n  ]\n  */\n\n  const style = props.congruent ? 'anglemark-congruent' : 'anglemark'\n\n  return (\n    <Clip shape=\"Path\" d={d}>\n      <Circle cx={x} cy={y} r={radius} style={style}/>\n    </Clip>\n )\n}\n\nconst AngleMark = props => {\n  if (props.right || props.square) return React.createElement(RightAngleMark, props)\n  return React.createElement(RoundAngleMark, props)\n}\n\nexport default AngleMark","import React from 'react'\nimport { Path } from '.'\n\n\nlet clipCount = 0\n\nconst Clip = props => {\n  const {shape, id=`vg-clip-path-${++clipCount}`, children, ...shapeprops} = props\n  let Elem\n  if (shape === 'Path') {\n    Elem = Path\n  }\n  else if (shape === 'Rect') {\n    Elem = 'rect'\n  }\n\n  if (Elem) {\n    return (\n      <>\n        <clipPath id={id}>\n          {React.createElement(Elem, shapeprops)}\n        </clipPath>\n        <g clipPath={`url(#${id})`} vectorEffect=\"inherit\">\n          {props.children}\n        </g>\n      </>\n    )\n  }\n  return props.children\n}\n\nexport default Clip","import React from 'react'\nimport { Clip, Style, Grid, Path } from '.'\nimport Overlay from './react-svgplot/Overlay'\nimport { MarkerSymbols } from './react-svgplot/Style'\nimport { Canvas } from './react-svgplot'\n\nfunction parseSpan(span) {\n  if (Array.isArray(span)) {\n    const [x1, y1, x2, y2] = span\n    return {x1: +x1, y1: +y1, x2: +x2, y2: +y2}\n  }\n  if (typeof span === 'string') {\n    const s1 = span.split(' ')\n    if (s1.length === 1) {\n      const [x1, y1, x2, y2] = s1[0].split(',')\n      return {x1: +x1, y1: +y1, x2: +x2, y2: +y2}\n    }\n    if (s1.length === 2) {\n      const [x1, y1] = s1[0].split(',')\n      const [x2, y2] = s1[1].split(',')\n      return {x1: +x1, y1: +y1, x2: +x2, y2: +y2}\n    } else if (s1.length === 4) {\n      const [x1, y1, x2, y2] = s1\n      return {x1: +x1, y1: +y1, x2: +x2, y2: +y2}\n    }\n  }\n  return null\n}\n\nfunction convertToMM(val, unit) {\n  if (unit === 'mm') return val\n  if (unit === 'cm') return val*10\n  if (unit === 'in') return (val * 25.4)\n  if (unit === 'pt') return convertToMM(val/72, 'in')\n  if (unit === 'pc') return convertToMM(val/12, 'pt')\n}\n\nfunction toMM(s) {\n  // return in\n  const v = +s.slice(0,-2)\n  const u = s.slice(-2)\n  return convertToMM(v, u)\n}\n\n\nconst Clipper = ({x1, y1, x2, y2, clip, children}) => {\n  if (clip) {\n    return (\n      <Clip shape=\"Rect\" x={x1} y={y1} width={x2-x1} height={y2-y1}>\n        {children}\n      </Clip>\n    )\n  } else {\n    return children\n  }\n}\n\nconst Styler = ({style, children}) => {\n  if (style && style !== 'none') {\n    return (\n      <Style name={style}>\n        {children}\n      </Style>\n    )\n  } else {\n    return children\n  }\n}\n\nexport const CoordinatePlane = props => {\n  \n  const span = parseSpan(props.span)\n  if (span === null) {\n    console.log(\"CoordinatePlane: span is null\")\n    return null\n  }\n  const {x1, y1, x2, y2} = span\n  const w = x2 - x1\n  const h = y2 - y1\n  const {\n    preserveAspectRatio=true, \n    margin='2mm',\n    grid=true, axis=true, \n    style=\"primary function\", \n    clip=true,\n    border=false,\n  } = props\n\n  const canvas = { border }\n\n  const clipper = {x1, y1, x2, y2, clip}\n  const styler = {style}\n\n  const marg = toMM(margin)\n\n  if (props.preserveAspectRatio === false) {\n    // TODO\n  } else {\n    if (props.width && props.height) {\n      console.log('WIDTH AND HEIGHT')\n      // TODO \n      /*\n      const width = toMM(props.width)\n      canvas.width = width + marg*2 + 'mm'\n      const vbmarg = w * marg / width\n      canvas.x1 = x1 - vbmarg\n      canvas.y1 = y1 - vbmarg\n      canvas.x2 = x2 + vbmarg\n      canvas.y2 = y2 + vbmarg\n\n      const height = toMM(props.height)\n      canvas.height = height + marg*2 + 'mm'\n      const vbmarg = h * marg / height\n      canvas.x1 = x1 - vbmarg\n      canvas.y1 = y1 - vbmarg\n      canvas.x2 = x2 + vbmarg\n      canvas.y2 = y2 + vbmarg\n      */\n\n    } else if (props.width) {\n      const width = toMM(props.width)\n      canvas.width = width + marg*2 + 'mm'\n      const vbmarg = w * marg / width\n      canvas.x1 = x1 - vbmarg\n      canvas.y1 = y1 - vbmarg\n      canvas.x2 = x2 + vbmarg\n      canvas.y2 = y2 + vbmarg\n\n    } else if (props.height) {\n      const height = toMM(props.height)\n      canvas.height = height + marg*2 + 'mm'\n      const vbmarg = h * marg / height\n      canvas.x1 = x1 - vbmarg\n      canvas.y1 = y1 - vbmarg\n      canvas.x2 = x2 + vbmarg\n      canvas.y2 = y2 + vbmarg\n    } else {\n\n    }\n  }\n  \n  const children = React.Children.toArray(props.children)\n  const svgchildren = children.filter(c => c.type !== Overlay)\n  const overlays = children.filter(c => c.type === Overlay)\n\n  return (\n    <Canvas {...canvas}>\n      <MarkerSymbols />\n      {grid ? (\n        <Grid span={[x1, y1, x2, y2]} axis={axis}/>\n      ) : axis ? (\n      <Style exactname=\"svgplot-axis\">\n        <Path points={[[0,y1], [0,y2]]} markers=\"-->\"/>\n        <Path points={[[x1,0], [x2,0]]} markers=\"-->\"/>\n      </Style>\n      ) : null}\n      <Clipper {...clipper}>\n        <Styler {...styler}>\n          {svgchildren}\n        </Styler>\n      </Clipper>\n      {overlays}\n    </Canvas>\n  )\n\n}\n\nexport default CoordinatePlane\n\n  \n\n/*\nexport class CoordinatePlane2 extends React.Component {\n  static defaultProps = {\n    style: 'primary function',\n    clip: true,\n  }\n\n  constructor(props) {\n    super(props)\n    const span = parseSpan(props.span)\n\n    this.state = { span }\n\n    this.svgref = React.createRef()\n  }\n\n  checkSize() {\n    let a, b, c, d\n    const bbox = this.svgref.current.getBBox()\n    console.log(bbox)\n    try {\n      // Chrome\n      ({a, b, c, d} = this.svgref.current.getCTM())\n    } catch(e) {\n      // Firefox\n      ({a, b, c, d} = this.svgref.current.getScreenCTM())\n    }\n    console.log({a, b, c, d})\n    const xmargin = 0.05*Math.abs(a + c)\n    const ymargin = 0.05*Math.abs(d + b)\n    this.setState({\n      xmargin, ymargin, \n      width: bbox.width / (1.1*Math.abs(a)), height: bbox.height / (1.1*Math.abs(d))\n    })\n  }\n\n  componentDidMount() {\n    this.checkSize()\n  }\n\n  renderClip() {\n    const {x1, y1, x2, y2} = this.state.span\n    if (this.props.clip) {\n      return (\n        <Clip shape=\"Rect\" x={x1} y={y1} width={x2-x1} height={y2-y1}>\n          {this.renderStyle()}\n        </Clip>\n      )\n    }\n    return this.renderStyle()\n  }\n\n  renderStyle() {\n    if (this.props.style && this.props.style !== 'none') {\n      return (\n        <Style name={this.props.style}>\n          {this.props.children}\n        </Style>\n      )\n    }\n    return this.props.children\n  }\n\n  render() {\n    if (!this.state.span) {\n      return null\n    }\n    \n    const {x1, y1, x2, y2} = this.state.span\n    const {grid=true, axis=true} = this.props\n    const height = this.state.height || this.props.height\n    const width = this.state.width || this.props.width\n    const xmargin = this.state.xmargin || 0\n    const ymargin = this.state.ymargin || 0\n\n\n    const vb = [\n      +x1 - xmargin,\n      +y1 - ymargin,\n      +x2 - x1 + 2*xmargin,\n      +y2 - y1 + 2*ymargin\n    ]\n\n    const svgprops = {\n      height, width,\n      viewBox: vb.join(' '),\n      transform: 'scale(1,-1)'\n    }\n\n    return (\n      <>\n      <svg className='svgplot-canvas' {...svgprops} ref={this.svgref}>\n        <MarkerSymbols />\n        {grid ? (\n          <Grid span={[x1, y1, x2, y2]} axis={axis}/>\n         ) : axis ? (\n          <Style exactname=\"svgplot-axis\">\n            <Path points={[[0,y1], [0,y2]]} markers=\"-->\"/>\n            <Path points={[[x1,0], [x2,0]]} markers=\"-->\"/>\n          </Style>\n         ) : null}\n        {this.renderClip()}\n      </svg>\n      </>\n    )\n  }\n}\n*/","import React from 'react'\nimport { Grid as SvgPlotGrid, Line, Style } from './react-svgplot'\n\n\nconst Grid = props => {\n  const { span, step=[1,1], axis=true } = props\n  const [x1, y1, x2, y2] = span\n  const [xStep, yStep] = step\n\n  return (\n    <>\n    <Style name=\"svgplot-grid\">\n      <SvgPlotGrid {...{x1, y1, x2, y2, xStep, yStep}} />\n    </Style>\n    {axis ? (\n      <Style name=\"svgplot-axis\">\n        <Line x1={x1} y1={0} x2={x2} y2={0} markers=\"-->\" />\n        <Line x1={0} y1={y1} x2={0} y2={y2} markers=\"-->\" />\n      </Style>\n    ) : null}\n    </>\n  )\n}\n\nexport default Grid","import React from 'react'\n\n// just for testing purposes\n// use Clip, Style, or Transform instead\n\nconst Layer = props => <g {...props}>{props.children}</g>\n\nexport default Layer","export function makesrange(min, max, step=1, anchor=0) {\n\tif (anchor === undefined) {\n\t\tanchor = min;\n\t} else if (anchor < min) {\n\t\tanchor = min;\n\t} else if (anchor > max) {\n\t\tanchor = max;\n\t}\n\tlet r = [anchor,];\n\tlet v = anchor - step;\n\twhile (v >= min) {\n\t\t\tr.splice(0, 0, v);\n\t\t\tv -= step;\n\t}\n\tv = anchor + step;\n\twhile (v <= max) {\n\t\t\tr.push(v);\n\t\t\tv += step;\n\t}\n\treturn r;\n}\n\nexport function polylineFromPoints(points) {\n\tif (typeof points === 'string') {\n\t\treturn points\n\t}\n\tif (typeof points[0] === 'string') {\n\t\treturn points.join(' ')\n\t}\n\tif (Array.isArray(points[0])) {\n    return points.map(p => `${p[0]},${p[1]}`).join(' ')\n  }\n  return points.map(p => `${p.x},${p.y}`).join(' ')\n}\n\nexport function pathFromPoints(points) {\n  if (Array.isArray(points[0])) {\n    return `M${points.map(p => `${p[0]},${p[1]}`).join('L')}`\n  }\n  return `M${points.map(p => `${p.x},${p.y}`).join('L')}`\n}\n\nexport function interpolatePathCubicH(points) {\n  const pts = Array.isArray(points[0]) ? points.map(p => ({x: p[0], y: p[1]})) : points\n  let d = `${pts[0].x},${pts[0].y}`\n  let prev = pts[0]\n  for (let i = 1; i < pts.length; i++) {\n    const p = pts[i]\n    const x1 = (2*prev.x + p.x) / 3\n    const x2 = (prev.x + 2*p.x) / 3\n    d += ` C ${x1},${prev.y} ${x2},${p.y} ${p.x},${p.y}`\n    prev = p\n  }\n  return d\n}","import React from 'react'\nimport { Path as SPath, Polyline, Polygon as SPolygon } from './react-svgplot'\nimport { polylineFromPoints } from './funcs'\nimport { Style } from '.'\n\n\nconst renderPath = props => {\n  const {d, points, markers, fill, connect=false} = props\n  if (d) {\n    return <SPath d={d} markers={markers} fill={fill} />\n  }\n  else if (points) {\n    if (connect) {\n      return <SPolygon points={polylineFromPoints(points)} markers={markers} fill={fill} />\n    }\n    return <Polyline points={polylineFromPoints(points)} markers={markers} fill={fill} />\n  }\n  return null\n}\n\nexport const Path = props => {\n  const {style} = props\n  if (style) {\n    return <Style name={style}>{renderPath(props)}</Style>\n  }\n  return renderPath(props)\n}\n\nexport default Path\nexport const Asymptote = props => <Path style=\"asymptote\" {...props}/>\nexport const ScatterPlot = props => <Path style=\"scatterplot\" {...props}/>\nexport const Polygon = props => <Path connect={true} {...props}/>\n","import React from 'react'\nimport { Path, Style, Point } from '.'\n\n\nconst calcPath = function(f, domain, step=0.1) {\n  let path = []\n  let x = domain[0]\n  while (x < domain[1]) {\n    path.push({x: x, y: f(x)})\n    x += step\n  }\n  path.push(({x: domain[1], y: f(domain[1])}))\n  return path\n}\n\nexport const PolynomialFunction = (props) => {\n  const { \n    coefficients, domain, step=0.2,\n    ...otherprops\n  } = props\n\n  if (domain === undefined) {\n    console.error(\"no domain provided for PolynomialFunction\")\n    return null\n  }\n\n  const f = (x) => {\n    let ans = 0\n    for (const deg in coefficients) {\n      ans += coefficients[deg] * Math.pow(x,deg)\n    }\n    return ans\n  }\n\n  return <Path points={calcPath(f, domain, step)} {...otherprops}/>\n}\n\nexport const RationalFunction = (props) => {\n  const {\n    roots=[], holes=[], asymptotes=[], numerLC=1, denomLC=1, \n    domain, step=0.2, range=[-1000,1000], \n    renderAsymptotes=true, renderRoots=true, renderHoles=true,\n    style, fill,\n  } = props\n\n  if (domain === undefined) {\n    console.error(\"no domain provided for RationalFunction\")\n    return null\n  }\n\n  const f = (x) => {\n    let num = numerLC\n    let den = denomLC\n    for (const r of roots) {\n      num *= (x - r)\n    }\n    for (const r of asymptotes) {\n      den *= (x - r)\n    }\n    return num / den\n  }\n\n  const domainPts = {\n    [+domain[0]] : true,\n    [+domain[1]] : true,\n  }\n\n  for (const r of asymptotes.filter(r => r >= domain[0] && r <= domain[1])) {\n    domainPts[+r] = false\n  }\n\n  const domains = []\n  const dp = Object.keys(domainPts).sort((a,b) => a-b)\n  for (let i = 1; i<dp.length; i++) {\n    const [v1, v2] = [dp[i-1], dp[i]]\n    domains.push([\n      {val: v1, def: domainPts[v1]},\n      {val: v2, def: domainPts[v2]}, \n    ])\n  }\n  \n  const paths = []\n  for (const d of domains) {\n    \n    const dom = [\n      d[0].def ? +d[0].val : +d[0].val + step,\n      d[1].def ? +d[1].val : +d[1].val - step,\n    ]\n    let path = calcPath(f, dom, step)\n    if (!d[0].def) {\n      let p = path[0]\n      while (p.y > range[0] && p.y < range[1]) {\n        const x = (3*d[0].val + p.x) / 4\n        p = {x, y: f(x)}\n        path = [p, ...path]\n      }\n    }\n    if (!d[1].def) {\n      let p = path[path.length-1]\n      while (p.y > range[0] && p.y < range[1]) {\n        const x = (3*d[1].val + p.x) / 4\n        p = {x, y: f(x)}\n        path.push(p)\n      }\n    }\n    paths.push(path)\n  }\n\n  const vas = asymptotes.map(x => [{x: x, y: range[0]}, {x: x, y: range[1]}])\n  let ha\n  if (asymptotes.length > roots.length) {\n    ha = [{x: domain[0], y: 0}, {x: domain[1], y: 0}]\n  } else if (asymptotes.length === roots.length) {\n    ha = [{x: domain[0], y: numerLC/denomLC}, {x: domain[1], y: numerLC/denomLC}]\n  }\n\n\n\n\n  return (\n    <>\n      {renderAsymptotes ? (\n        <Style name='asymptote'>\n          {ha ? <Path key='hasym' points={ha} /> : null}\n          {vas.map(p => <Path key={`asym${p[0].x}`} points={p} />)}\n        </Style>\n      ) : null}\n      {style ? (\n        <Style name={style}>\n          {paths.map(p => <Path key={`path${p[0].x}`} points={p} fill={fill}/>)}\n          {renderRoots ? roots.map(x => <Point key={`root${x}`} x={x} y={f(x)} />): null}\n          {renderHoles ? holes.map(x => <Point key={`hole${x}`} x={x} y={f(x)} marker=\"o\"/>) : null}\n        </Style>\n      ) : (\n        <>\n          {paths.map(p => <Path key={`path${p[0].x}`} points={p} fill={fill}/>)}\n          {renderRoots ? roots.map(x => <Point key={`root${x}`} x={x} y={f(x)} />): null}\n          {renderHoles ? holes.map(x => <Point key={`hole${x}`} x={x} y={f(x)} marker=\"o\"/>) : null}        \n        </>\n      )}    \n      \n    </>\n  )\n}\n","import React from 'react'\nimport { Circle as SCircle, Rect as SRect, Ellipse as SEllipse } from './react-svgplot'\nimport { Style } from '.'\n\nexport const Circle = props => {\n  const {style, ...otherprops} = props\n  if (style) {\n    return (\n      <Style name={style}><SCircle {...otherprops}/></Style>\n    )\n  }\n  return <SCircle {...otherprops}/>\n}\n\nexport const Rect = props => {\n  const {style, ...otherprops} = props\n  if (style) {\n    return (\n      <Style name={style}><SRect {...otherprops}/></Style>\n    )\n  }\n  return <SRect {...otherprops}/>\n}\n\nexport const Ellipse = props => {\n  const {style, ...otherprops} = props\n  if (style) {\n    return (\n      <Style name={style}><SEllipse {...otherprops}/></Style>\n    )\n  }\n  return <SEllipse {...otherprops}/>\n}","import React from 'react'\nimport { Style as SPStyle } from './react-svgplot'\n\nconst Style = props => {\n  const {name, exactname, color} = props\n\n  let stylenames = []\n  if (name) {\n    stylenames = stylenames.concat(name.split(' ').map(s => `vg-style-${s}`))\n  }\n  if (exactname) {\n    stylenames = stylenames.concat(exactname.split(' '))\n  }\n\n  const styleprops = {}\n  if (color) styleprops.color = color\n  if (stylenames.length) styleprops.name = stylenames.join(' ')\n\n  return (\n    <SPStyle {...styleprops}>\n      {props.children}\n    </SPStyle>\n  )\n}\n\nexport default Style","import {\n  Canvas,\n  Label,\n  Overlay,\n  Point,\n  Transform,\n} from './react-svgplot'\n\nimport AngleMark from './AngleMark'\nimport Clip from './Clip'\nimport CoordinatePlane from './CoordinatePlane'\nimport Grid from './Grid'\nimport Layer from './Layer'\nimport Path, { Asymptote, ScatterPlot, Polygon } from './Path'\nimport { PolynomialFunction, RationalFunction } from './Functions'\nimport { Circle, Ellipse, Rect } from './Shapes'\nimport Style from './Style'\n\nimport './vgstyles.global.css'\n\nexport {\n  AngleMark,\n  Asymptote,\n  Circle,\n  Clip,\n  CoordinatePlane,\n  Ellipse,\n  Grid,\n  Label,\n  Layer,\n  Overlay,\n  Path,\n  Point,\n  Polygon,\n  Rect,\n  ScatterPlot,\n  Style,\n  Transform,\n}\n\nconst VectorGraphics = {\n  AngleMark,\n  Asymptote,\n  Canvas,\n  Circle,\n  Clip,\n  CoordinatePlane,\n  Ellipse,\n  Grid,\n  Label,\n  Layer,\n  Overlay,\n  Path,\n  Point,\n  Polygon,\n  PolynomialFunction,\n  RationalFunction,\n  Rect,\n  ScatterPlot,\n  Style,\n  Transform,\n}\n\nexport default VectorGraphics","import React from 'react'\n\n\nfunction parseBorder(border) {\n  if (border === 'top') return 'borderTop'\n  if (border === 'bottom') return 'borderBottom'\n  if (border === 'left') return 'borderLeft'\n  if (border === 'right') return 'borderRight'\n}\n\n\nexport const EmptySpace = props => {\n  const {width=\"2cm\", height=\"2cm\", border} = props\n  const style = {margin: '0'}\n  if (width) style.width = width\n  if (height) style.height = height\n  if (border) {\n    if (Array.isArray(border)) {\n      for (const b of border) {\n        if (parseBorder(b)) {\n          style[parseBorder(b)] = '1px solid black'\n        }\n      }\n    }\n    if (typeof border === 'string') {\n      if (parseBorder(border)) {\n        style[parseBorder(border)] = '1px solid black'\n      }\n      if (border === true) {\n        style.border = '1px solid black'\n      }\n    }\n  }\n  return (\n    <div style={style} />\n  )\n}","import katex from 'katex'\n\nexport const formulaToKatex = (formula, options) => {\n  try {\n    return katex.renderToString(formula, options);\n  } catch (e) {\n    if (!(e instanceof katex.ParseError)) {\n      throw e;\n    }\n    console.error(\n      \"KaTeX auto-render: Failed to parse `\" + formula + \"` with \", e\n    );\n  }\n  return null\n}","import React from 'react'\nimport { defaultsDeep } from 'lodash'\nimport { formulaToKatex as formulaToHtml } from './katexMath'\nimport MarkdownIt from 'markdown-it'\nimport mdsup from 'markdown-it-sup'\nimport mdsub from 'markdown-it-sub'\nimport mdsmartarrows from 'markdown-it-smartarrows'\nimport mdmath from 'markdown-it-math'\nimport styles from './styles.module.css'\n\nconst defaultOptions = {\n  renderMath: true,\n  \n  mdSuperscript: true,\n  mdSubscript: true,\n  mdSmartarrows: true,\n\n  mathDelimiters: {\n    display: {left: '$$$', right: '$$$'},\n    inline: {left: '$$', right: '$$'},\n  }\n};\n\nexport const InlineMarkdown = ({data, options}) => {\n  const opts = defaultsDeep({}, options, defaultOptions)\n  let md = new MarkdownIt()\n  if (opts.mdSubscript) { md = md.use(mdsub); }\n  if (opts.mdSuperscript) { md = md.use(mdsup); }\n  if (opts.mdSmartarrows) { md = md.use(mdsmartarrows); }\n  if (opts.renderMath) {\n    md = md.use(mdmath, {\n      inlineRenderer: (str) => formulaToHtml(str),\n      blockRenderer: (str) => formulaToHtml(str, {displayMode: true}),\n      inlineOpen: opts.mathDelimiters.inline.left,\n      inlineClose: opts.mathDelimiters.inline.right,\n      blockOpen: opts.mathDelimiters.display.left,\n      blockClose: opts.mathDelimiters.display.right,\n    })\n  }\n  return <span dangerouslySetInnerHTML={{__html: md.renderInline(data)}} />\n}\n\nexport const Markdown = ({data, options}) => {\n  const opts = defaultsDeep({}, options, defaultOptions)\n  let md = new MarkdownIt()\n  if (opts.mdSubscript) { md = md.use(mdsub); }\n  if (opts.mdSuperscript) { md = md.use(mdsup); }\n  if (opts.mdSmartarrows) { md = md.use(mdsmartarrows); }\n  if (opts.renderMath) {\n    md = md.use(mdmath, {\n      inlineRenderer: (str) => formulaToHtml(str),\n      blockRenderer: (str) => formulaToHtml(str, {displayMode: true}),\n      inlineOpen: opts.mathDelimiters.inline.left,\n      inlineClose: opts.mathDelimiters.inline.right,\n      blockOpen: opts.mathDelimiters.display.left,\n      blockClose: opts.mathDelimiters.display.right,\n    })\n  }\n  return (\n    <span className={styles.Markdown} dangerouslySetInnerHTML={{__html: md.render(data)}} ></span> \n  )\n}","import React from 'react'\nimport { formulaToKatex as formulaToHtml } from './katexMath'\n\n\nexport const Math = props => {\n  const html = formulaToHtml(props.data, props.options);\n  return <span dangerouslySetInnerHTML={{__html: html}} />\n}\n\nexport const DisplayMath = props => {\n  const options = {displayMode: true, ...props.options}\n  const html = formulaToHtml(props.data, options);\n  return <span dangerouslySetInnerHTML={{__html: html}} />\n}\n","import React from 'react'\n\nconst parseHeader = (text) => {\n  let result = []\n  let current = ''\n  let isBlank = false\n  let i = 0\n  let blankSize = 0\n  while (i < text.length) {\n    const nextChar = text[i]\n    if (isBlank) {\n      if (nextChar === '_') {\n        blankSize += 1\n      } else {\n        result.push({type: 'blank', size: blankSize})\n        current = nextChar\n        isBlank = false\n        blankSize = 0\n      }\n    } else {\n      if (nextChar === '_') {\n        if (current !== '') {\n          result.push({type: 'text', text: current})\n          current = ''\n        }\n        isBlank = true\n        blankSize = 1\n      } else {\n        current += nextChar\n      }\n    }\n    i += 1\n  }\n  if (isBlank) {\n    if (blankSize > 0) {\n      result.push({type: 'blank', size: blankSize})\n    }\n  } else {\n    if (current !== '') {\n      result.push({type: 'text', text: current})\n    }\n  }\n  return result\n}\n\nconst renderHeaderElement = (text) => {\n  const parts = parseHeader(text)\n  return (\n    <>\n      {parts.map((p, i) => {\n        if (p.type === 'text') {\n          return (\n            <div key={i} style={{display: 'inline-block'}}>{p.text}</div>\n          )\n        } else {\n          const w = `${1 + 3*(p.size - 1)}cm`\n          return (\n            <div key={i} className='blank-underline blank-underline-page-header' style={{width: w}} />\n          )\n        }\n      })}\n    </>\n  )\n}\n\nexport const PageHeader = props => {\n\n  if (props.rows.length === 0) {\n    return <div className='page-header page-header-empty' />\n  } else {\n    return (\n      <table className='page-header'>\n        <tbody>\n          {props.rows.map((row, i) => {\n            const [left, right] = row\n            return (\n              <tr key={i}>\n                <td>\n                  {renderHeaderElement(left || '')}\n                </td>\n                <td>\n                  {renderHeaderElement(right || '')}\n                </td>\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n    )\n  }\n}","import React from 'react'\nimport { renderJson } from '..'\n\n\nconst defaultLayout = ['instructions', 'question', ['answer', 'diagram']]\n//const defaultLayout = [[['instructions', 'question', 'answer'], 'diagram']]\nconst layoutAnswerRight = ['instructions', 'question', ['diagram', 'answer']]\n\nconst QuestionLayout = ({\n  content,\n  layout,\n  direction='column',\n}={}) => {\n\n  const className = `question-layout question-layout-${direction}`\n  const newDirection = {row: 'column', column: 'row'}[direction]\n  //const useLayout = layout || defaultLayout\n  const useLayout = layout || (content.answer && content.answer[0] === 'EmptySpace' ? layoutAnswerRight : defaultLayout)\n\n  return (\n    <div className={className}>\n      {useLayout.map((area, i) => {\n        if (Array.isArray(area)) {\n          return (\n            <QuestionLayout key={`region-${i}`} \n              content={content}\n              layout={area} \n              direction={newDirection} \n            />\n          )\n        } else {\n          if (content[area]) {\n            const classNames = ['question-area', `question-area-${area}`]\n            return (\n              <div key={area} className={classNames.join(' ')}>\n                {renderJson(content[area])}\n              </div>\n            )\n          }\n        }\n        return null\n      })}\n    </div>\n  )\n}\n\n\nfunction parseAnswer(answer) {\n  if (answer) {\n    if (answer.constructor.name === 'Object') {\n      return answer\n    } else {\n      return {correct: answer}\n    }\n  }\n}\n\nexport function determineVariant(content={}, options={}) {\n  if (options.variant) {\n    return options.variant\n  }\n  if (content.answer && content.answer.choices) {\n    return 'multipleChoice'\n  }\n  if (content.variants && content.variants.multipleChoice) {\n    return 'multipleChoice'\n  }\n  return 'freeResponse'\n}\n\nfunction determineAnswerSpace(answer, variant) {\n  if (answer) {\n    if (variant === 'multipleChoice' && answer.choices) {\n      const listDirection = answer.listDirection\n      return ['AnswerChoices', {listDirection}, ...answer.choices]\n    } else if (answer.prompt !== undefined) {\n      if (answer.prompt === null) {\n        return null\n      }\n      if (typeof answer.prompt === 'string') {\n        return ['AnswerBlanks', null, answer.prompt]\n      } else if (Array.isArray(answer.prompt)) {\n        return answer.prompt\n      }\n    }\n  }\n  return ['EmptySpace', {width: '1cm', height: '1cm'}]\n}\n\nfunction determineContent(content, variant) {\n  const {variants, ...othercontent} = content\n  const usecontent = Object.assign({}, othercontent)\n  if (variants) {\n    const variantContent = variants[variant]\n    Object.assign(usecontent, variantContent)\n  }\n  return {\n    ...usecontent,\n    answer: determineAnswerSpace(parseAnswer(usecontent.answer), variant)\n  }\n}\n\nfunction determineAnswerKey(answer={}, variant='freeResponse', letters='abcdef') {\n  if (answer) {\n    if (variant === 'multipleChoice') {\n      if (answer.correctIndex !== undefined) {\n        if (Array.isArray(answer.correctIndex)) {\n          return answer.correctIndex.map(i => letters[i]).join(', ')\n        } else {\n          return letters[answer.correctIndex]\n        }\n      }\n      if (answer.correct !== undefined) {\n        for (let i = 0; i < answer.choices.length; i++) {\n          if (answer.choices[i] == answer.correct) {\n            return letters[i]\n          }\n        }\n      }\n    }\n    if (answer !== null) {\n      if (answer.correct) {\n        return answer.correct\n      }\n      if (Array.isArray(answer) ||  typeof answer === 'string' || typeof answer === 'number') {\n        return answer\n      }\n    }\n    if (answer.choices && answer.correctIndex !== undefined) {\n      return answer.choices[answer.correctIndex]\n    }\n  }\n}\n\n\nexport const Question = (props) => {\n  const options = props.options || {}\n  const variant = determineVariant(props.content, props.options)\n  const content = determineContent(props.content, variant)\n\n  const layout = content.layout || options.layout\n  return (\n    <div className='question-wrapper'>\n      <QuestionLayout content={content} layout={layout}/>\n    </div>\n  )\n}\n\n\nexport const NumberedQuestion = props => {\n  return (\n    <div className='question-number'>\n      <Question {...props} />\n    </div>\n  )\n}\n\n\nexport const AnswerKey = props => {\n  const letters = 'abcdefg'\n  const { options } = props\n  const variant = determineVariant(props.content, options)\n  const answer = determineAnswerKey(props.content.answer, variant, letters)\n  return renderJson(answer)\n}\n","import React from 'react'\n\nfunction parseAlignment(align) {\n  // latex-style, e.g. r|ccc|l\n  const colStyles = []\n\n  const blocks = align.split('|')\n  for (const i in blocks) {\n    const block = blocks[i]\n    for (const j in block) {\n      const char = block[j]\n      const colStyle = {}\n      if (char === 'l') colStyle.textAlign = 'left'\n      if (char === 'c') colStyle.textAlign = 'center'\n      if (char === 'r') colStyle.textAlign = 'right'\n      if (+j === 0 && i > 0) {\n        colStyle.borderLeft = '1px solid black'\n      }\n      if (+j === block.length-1 && i < blocks.length-1) {\n        colStyle.borderRight = '1px solid black'\n      }\n      colStyles.push(colStyle)\n    }\n  }\n  return colStyles\n}\n\n\nexport const TRow = props => {\n  const { header=false, border=false } = props\n  const rowprops = {style: {border: 'none'}}\n  if (border) {\n    if (border === 'bottom') {\n      rowprops.style.borderBottom = '1px solid black'\n    } else if (border === 'top') {\n      rowprops.style.borderTop = '1px solid black'\n    } else if (border === true || border === 'both') {\n      rowprops.style.borderTop = '1px solid black'\n      rowprops.style.borderBottom = '1px solid black'\n    }\n  }\n\n  const defaultBorderLeft = i => 'none'\n  const defaultBorderRight = i => 'none'\n  const defaultTextAlign = i => 'center'\n\n  const elemstyle = i => ({\n    border: 'none',\n    borderLeft: `var(--table-col-${i}-borderLeft, ${defaultBorderLeft(i)})`,\n    borderRight: `var(--table-col-${i}-borderRight, ${defaultBorderRight(i)})`,\n    textAlign: `var(--table-col-${i}-textAlign, ${defaultTextAlign(i)})`,\n  })\n\n  //console.log(entryprops)\n  return (\n    <tr {...rowprops}>\n      {header ? (\n        React.Children.toArray(props.children).map((c,i) => (\n          <th key={i} style={elemstyle(+i+1)}>{c}</th>\n        ))\n      ) : (\n        React.Children.toArray(props.children).map((c,i) => (\n          <td key={i} style={elemstyle(+i+1)}>{c}</td>\n        ))\n      )}\n    </tr>\n  )\n}\n\nexport const Table = props => {\n  const children = React.Children.toArray(props.children)\n\n  let headIndex = 0\n  while (headIndex < children.length \n    && children[headIndex].type.name === 'TRow' \n    && children[headIndex].props.header) {\n    headIndex += 1\n  }\n\n  const tableprops = {style: {borderCollapse: 'collapse'}}\n  if (props.border) {\n    tableprops.style.border = '1px solid black'\n  }\n  if (props.align) {\n    const alignment = parseAlignment(props.align)\n    for (const i in alignment) {\n      for (const k in alignment[i]) {\n        const cssvar = `--table-col-${+i+1}-${k}`\n        const value = alignment[i][k]\n        tableprops.style[cssvar] = value\n      }\n    }\n  }\n\n  return (\n    <table {...tableprops}>\n      {headIndex > 0 ? (\n        <thead>\n          {children.slice(0,headIndex)}\n        </thead>\n      ) : null}\n      {headIndex < children.length ? (\n        <tbody>\n          {children.slice(headIndex)}\n        </tbody>\n      ) : null}\n    </table>\n  )\n}","/*\nThis renders math in text using markdown, and simple markdown using\nmarkdown-it's inline renderer. For more complicated markdown, use\nthe 'markdown' type, which will be passed to the 'renderMarkdown' function\n*/\n\nimport React from 'react'\nimport splitAtDelimiters  from 'katex/contrib/auto-render/splitAtDelimiters'\nimport { defaultsDeep } from 'lodash'\nimport { Math, DisplayMath } from './Math'\nimport { Markdown, InlineMarkdown } from './Markdown'\n\nconst defaultOptions = {\n  renderMath: true,\n  markdown: 'inline',\n  mathDelimiters: {\n    display: {left: '$$$', right: '$$$'},\n    inline: {left: '$$', right: '$$'},\n  }\n};\n\n\n// from katex:\nconst splitWithDelimiters = function(text, delimiters) {\n  let data = [{type: \"text\", data: text}];\n  for (let i = 0; i < delimiters.length; i++) {\n    const delimiter = delimiters[i];\n    data = splitAtDelimiters(\n      data, delimiter.left, delimiter.right,\n      delimiter.display || false);\n  }\n  return data;\n};\n\nconst ParseMath = ({data, options}) => {\n  const delimiters = [\n    {left: options.mathDelimiters.display.left, right: options.mathDelimiters.display.right, display: true},\n    {left: options.mathDelimiters.inline.left, right: options.mathDelimiters.inline.right, display: false},\n  ]\n\n  return (\n    <span>\n      {splitWithDelimiters(data, delimiters).map((c,i) => {\n        if (c.type === 'text') {\n          if (options.markdown) {\n            return <InlineMarkdown key={i} data={c.data} options={options}/>\n          } else {\n            return <Plain key={i} data={c.data} options={options}/>\n          }\n        } else {\n          if (c.display) {\n            return <DisplayMath key={i} data={c.data}/>\n          } else {\n            return <Math key={i} data={c.data}/>\n          }\n        }\n      })}\n    </span>\n  )\n}\n\nexport const Plain = props => {\n  return <span>{props.data}</span>\n}\n\n\nexport const Text = props => {\n  const {\n    data, fontFamily, fontSize, color,\n    ...otherprops\n  } = props\n  const opts = defaultsDeep({}, otherprops, defaultOptions)\n  const style = {fontFamily, fontSize, color}\n  let RenderMethod\n  if (opts.markdown === true || opts.markdown === 'full') {\n    RenderMethod = Markdown\n  } else if (opts.renderMath) {\n    RenderMethod = ParseMath\n  } else if (opts.markdown === 'inline') {\n    RenderMethod = InlineMarkdown\n  } else {\n    RenderMethod = Plain\n  }\n\n  return (\n    <span style={style}>\n      <RenderMethod data={data} options={opts}/>\n    </span>\n  )\n}\n\n/*\nconst defaultDelimiters = {\n  display: {left: '$$$', right: '$$$'},\n  inline: {left: '$$', right: '$$'},\n}\n\nconst replaceMathDelimiters = function(text, options, delimiters=defaultDelimiters) {\n  let optionsCopy = {...options.katex}\n  const data = splitWithDelimiters(text, optionsCopy.delimiters)\n  let result = \"\"\n  for (let i = 0; i < data.length; i++) {\n    if (data[i].type === \"text\") {\n      result += data[i].data\n    } else if (data[i].display) {\n      result += `${delimiters.display.left}${data[i].data}${delimiters.display.right}`\n    } else {\n      result += `${delimiters.inline.left}${data[i].data}${delimiters.inline.right}`\n    }\n  }\n  return result\n}\n*/\n","import VectorGraphics from './VectorGraphics'\nimport { AnswerChoices, AnswerBlanks } from './AnswerSpace'\nimport { Container } from './Container'\nimport { EmptySpace } from './EmptySpace'\nimport { Markdown, InlineMarkdown } from './Markdown'\nimport { Math, DisplayMath } from './Math'\nimport { List } from './List'\nimport { PageHeader } from './PageHeader'\nimport { Question, NumberedQuestion, AnswerKey } from './Question'\nimport { RenderError } from './RenderError'\nimport { Table, TRow } from './Table'\nimport { Text, Plain } from './Text'\nimport { VegaLite } from './VegaLite'\n\n// nonTerminal types will have their children rendered with renderJson\nconst nonTerminal = {\n  AnswerBlanks,\n  AnswerChoices,\n  Container, \n  List,\n  Table, \n  TRow,\n  ...VectorGraphics,\n}\n\n\n\n/* terminal types are responsible for rendering their own children\n * children are joined (by newlines) into a single string and passed \n * as the 'data' prop, e.g.\n * \n * ['Math', '\\\\frac{2}{3}', '\\\\sqrt{3}'] => <Math data={\"\\\\frac{2}{3}\\n\\\\sqrt{3}\"}/>\n * \n */\nconst terminal = {\n  Plain, \n  Text, \n  Math, \n  DisplayMath, \n  Markdown, \n  InlineMarkdown,\n}\n\n\n\n// childless types will ignore children\n// many of these may be tweaked to become nonTerminal or terminal\nconst childless = {\n  AnswerKey,\n  EmptySpace, \n  PageHeader,\n  NumberedQuestion,\n  Plain, \n  Question, \n  RenderError,\n  VegaLite,\n}\n\nexport {nonTerminal, terminal, childless}","import React from 'react'\n\nexport const AnswerChoices = props => {\n\n  const classNames = ['answerchoice-list']\n  if (props.listDirection && props.listDirection === 'horizontal') {\n    classNames.push('answerchoice-list-horizontal')\n  }\n  return (\n    <ol className={classNames.join(' ')} type='a'>\n      {React.Children.map(props.children, (c,i) => (\n        <li key={`choice-${i}`}\n          className='answerchoice-item'>\n          {c}\n        </li>\n      ))}\n    </ol>\n  )\n}\n\nexport const AnswerBlanks = props => {\n  const style = {margin: 0}\n  if (props.width !== undefined) {\n    style.minWidth = props.width\n  }\n  if (props.height !== undefined) {\n    style.minHeight = props.height\n  }\n  const classNames = ['answerspot']\n  if (props.box) {\n    classNames.push('answerbox')\n  } else {\n    classNames.push('answerblank')\n  }\n  return (\n    <table className='answerblanks'>\n      <tbody>\n        {React.Children.map(props.children, (c,i) => (\n          <tr key={i}>\n            <td>{c}</td>\n            <td><div className={classNames.join(' ')} style={style}/></td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  )\n}","import React from 'react'\n\nexport const Container = props => {\n  const {direction='row', border=false, alignItems, justifyItems, wrap=true} = props\n  const divstyle = {\n    display: 'flex',\n    flexDirection: direction,\n    flexWrap: wrap ? 'wrap' : 'nowrap',\n    border: border ? '1px solid black' : 'none',\n  }\n  if (direction === 'row') {\n    if (alignItems === 'bottom') {\n      divstyle.alignItems = 'flex-end'\n    } else if (alignItems === 'top') {\n      divstyle.alignItems = 'flex-start'\n    } else if (alignItems === 'center') {\n      divstyle.alignItems = 'center'\n    }\n  }\n\n  return (\n    <div style={divstyle}>\n      {props.children}\n    </div>\n  )\n}","import React from 'react'\n\nexport const List = props => {\n  const {type} = props\n  return (\n    <ol type={type}>\n      {React.Children.map(props.children, c => <li>{c}</li>)}\n    </ol>\n  )\n}","import React from 'react'\n\nexport const RenderError = props => {\n  return (\n    <>\n      {props.children.map((c,i) => <code key={i} className='render-error'>{JSON.stringify(c)}</code>)}\n    </>\n  )\n}","import React from 'react'\nimport ReactVega from 'react-vega'\nimport ReactVegaLite from 'react-vega-lite'\n\nexport const Vega = data => {\n  return (\n    <ReactVega spec={data} />\n  )\n}\n\nexport const VegaLite = data => {\n  return (\n    <ReactVegaLite spec={data} />\n  )\n}","import React from 'react'\nimport { nonTerminal, terminal, childless } from './renderTypes'\nimport { Text, Plain } from './renderTypes/Text'\n\nexport const parseJson = function(json) {\n  const [ type, props, ...children ] = json\n  if (props) {\n    if (props.constructor.name === 'Object') {\n      return { type, props, children}\n    }\n    return { type, props: {}, children: [ props, ...children ] }\n  }\n  return { type, props: {}, children }\n}\n\nconst isArray = Array.isArray\n\nexport const renderJson = function(json) {\n  if (isArray(json)) {\n    const {type, props, children} = parseJson(json)\n\n    if (isArray(type)) {\n      return React.createElement(React.Fragment, null, ...json.map(c => renderJson(c)))\n    }\n    if (childless[type]) {\n      return React.createElement(childless[type], props)\n    }\n    if (terminal[type]) {\n      return React.createElement(terminal[type], {...props, data: children.join('\\n')})\n    }\n    if (nonTerminal[type]) {\n      return React.createElement(nonTerminal[type], props, ...children.map(c => renderJson(c)))\n    }\n  }\n  else if (typeof json === 'string') {\n    return <Text data={json} />\n  }\n  else if (typeof json === 'number') {\n    return <Plain data={json.toString()} />\n  }\n  else if (typeof json === 'boolean') {\n    return <Plain data={json.toString()} />\n  }\n  else if (json === null || json === undefined) {\n    return null\n  }\n  console.error(`cannot render ${JSON.stringify(json)}`)\n  return null\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { RenderJson, parseJson } from '..'\n\nexport default class DefaultEditor extends React.Component {\n  static propTypes = {\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n    json: PropTypes.array,\n    onUpdateElement: PropTypes.func.isRequired,\n    onDeleteElement: PropTypes.func.isRequired,\n    onRequestClose: PropTypes.func,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = parseJson(props.json)\n  }\n\n  stateToJson() {\n    return [this.state.type, this.state.props, ...this.state.children]\n  }\n\n  updateAndClose = () => {\n    this.props.onUpdateElement(this.props.id, this.stateToJson())\n    this.props.onRequestClose()\n  }\n\n  deleteAndClose = () => {\n    this.props.onDeleteElement(this.props.id)\n    this.props.onRequestClose()\n  }\n\n  revertChanges = () => {\n    this.setState(parseJson(this.props.json))\n  }\n\n  renderEditor() {\n    return <div>Editing is not yet implemented for this type of element.</div>\n  }\n\n  renderPreview() {\n    const json = [...this.stateToJson()]\n    return (\n      <div className='document preview-area' style={{margin: '3mm 1mm'}}>\n        <RenderJson json={json} />\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <>\n        <div style={{\n          width: '100%',\n          display: 'grid', \n          gridTemplateColumns: 'auto auto auto 1fr auto',\n          margin: '0 0 5mm 0',\n        }}>\n          <button onClick={this.updateAndClose}>Apply Changes</button>\n          <button onClick={this.revertChanges}>Revert Changes</button>\n          <button onClick={this.props.onRequestClose}>Cancel</button>\n          <span />\n          <button onClick={this.deleteAndClose} style={{justifySelf: 'right'}}>Delete</button>\n        </div>\n        {this.renderEditor()}\n        {this.renderPreview()}\n      </>\n    )\n  }\n}\n","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\n\n\nexport default class EditPageHeader extends DefaultEditor {\n\n  headingUpdate(row, lr, text) {\n    const newrow = [...this.state.props.rows[row]]\n    newrow[lr] = text\n    const rows = [...this.state.props.rows]\n    rows[row] = newrow\n    this.setState({props: {...this.state.props, rows}})\n  }\n\n  headingAddRow = () => {\n    const rows = [...this.state.props.rows, ['', '']]\n    this.setState({ props: {...this.state.props, rows} })\n  }\n\n  headingRemoveRow = () => {\n    const rows = this.state.props.rows.slice(0,-1)\n    this.setState({props: {...this.state.props, rows}})\n  }\n\n  renderEditor() {\n    const rows = this.state.props.rows\n    const inputStyle = {\n      width: '100%',\n      fontSize: '1.1em',\n      fontFamily: 'var(--doc-font-family, monospace)',\n      margin: '1mm',\n      padding: '1mm',\n    }\n    return (\n      <div>\n      <p>\n        Underscores will be translated into a blank underlined space.\n      </p>\n      <table className='header'>\n        <tbody>\n          {rows.map((row, i) => {\n            const [left, right] = row\n            return (\n              <tr key={i} >\n                <td style={{border: 'none', padding: '0 1em 0 0'}}>\n                  <input type=\"text\"\n                    onChange={(evt) => this.headingUpdate(i, 0, evt.target.value)}\n                    value={left || ''} \n                    style={inputStyle}\n                  />\n                </td>\n                <td style={{border: 'none', padding: '0 1em 0 0'}}>\n                  <input type=\"text\"\n                    onChange={(evt) => this.headingUpdate(i, 1, evt.target.value)}\n                    value={right || ''} \n                    style={inputStyle}\n                  />\n                </td>\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n      <button onClick={this.headingRemoveRow}>-</button>\n      <button onClick={this.headingAddRow}>+</button>\n      </div>\n    )\n  }\n\n}","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\nimport { RenderJson, parseJson } from '..'\nimport { determineVariant } from '../renderTypes/Question'\n\nconst variantNames = {\n  freeResponse: 'free response',\n  multipleChoice: 'multiple choice',\n}\n\nfunction parseAndSetVariant(data) {\n  const {type, props={}} = parseJson(data)\n  const {content={}, options={}} = props\n  if (!options.variant) {\n    options.variant = determineVariant(content)\n  }\n  if (!options.variants) {\n    if (content.answer && content.answer.choices) {\n      options.variants = ['multipleChoice', 'freeResponse']\n    } else {\n      options.variants = ['freeResponse']\n    }\n  }\n  return {type, content, options}\n}\n\nexport default class Question extends DefaultEditor {\n  constructor(props) {\n    super(props)\n    this.state = parseAndSetVariant(props.json)\n  }\n\n  stateToJson() {\n    return [this.state.type, {content: this.state.content, options: this.state.options}]\n  }\n\n  revertChanges = () => {\n    const newState = parseAndSetVariant(this.props.json)\n    this.setState(newState)\n  }\n\n  updateVariant = evt => {\n    this.setState({options: {...this.state.options, variant: evt.target.value}})\n  }\n\n  updateContent(k, v, variant) {\n    if (variant) {\n      const variants = this.state.variants || {}\n      const updated = variants[variant] || {}\n      if (v === '') {\n        delete updated[k]\n      } else {\n        updated[k] = v\n      }\n      variants[variant] = updated\n      this.setState({\n        content: {\n          ...this.state.content, \n          variants,\n        }\n      })\n    } else {\n      this.setState({\n        content: {\n          ...this.state.content,\n          [k]: v\n        }\n      })\n    }\n  }\n\n  updateInstructions = evt => this.updateContent('instructions', evt.target.value)\n  updateInstructionsMC = evt => this.updateContent('instructions', evt.target.value, 'multipleChoice')\n  updateInstructionsFR = evt => this.updateContent('instructions', evt.target.value, 'freeResponse')\n\n  updateQuestion = evt => this.updateContent('question', evt.target.value)\n  updateQuestionMC = evt => this.updateContent('question', evt.target.value, 'multipleChoice')\n  updateQuestionFR = evt => this.updateContent('question', evt.target.value, 'freeResponse')\n\n  renderInstructionsOrQuestionInputs(fieldname) {\n    const overrides = (this.state.content.variants || {})[this.state.options.variant] || {}\n    const updaters = {\n      instructions: {\n        default: this.updateInstructions,\n        multipleChoice: this.updateInstructionsMC,\n        freeResponse: this.updateInstructionsFR,\n      },\n      question: {\n        default: this.updateQuestion,\n        multipleChoice: this.updateQuestionMC,\n        freeResponse: this.updateQuestionFR,\n      }\n    }[fieldname]\n    return (\n      <>\n      <td>\n        <textarea value={this.state.content[fieldname]} \n          onChange={updaters.default}\n          cols=\"40\"\n          rows=\"4\"\n        />\n      </td>\n      <td>\n        <textarea value={overrides[fieldname] || ''} \n          onChange={updaters[this.state.options.variant]}\n          cols=\"40\"\n          rows=\"4\"\n          placeholder={this.state.content[fieldname]}\n        />\n      </td>\n      </>\n    )\n  }\n\n\n  renderDiagram() {\n    return null\n  }\n\n  renderVariantSelect() {\n    return (\n      <>\n        Variant:\n        <select value={this.state.options.variant}\n          onChange={this.updateVariant}\n        >\n          {this.state.options.variants.map(v => (\n            <option key={v} value={v}>{variantNames[v]}</option>\n          ))}\n        </select>\n      </>\n    )\n  }\n\n  renderEditor() {\n    return (\n      <div>\n        <table>\n          <tbody>\n            <tr>\n              <td></td>\n              <td style={{textAlign: 'center'}}>Default</td>\n              <td style={{textAlign: 'center'}}>{this.renderVariantSelect()}</td>\n            </tr>\n            <tr>\n              <td>Instructions</td>\n              {this.renderInstructionsOrQuestionInputs('instructions')}\n            </tr>\n            <tr>\n              <td>Question</td>\n              {this.renderInstructionsOrQuestionInputs('question')}\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n\n\n  renderPreview() {\n    const json = this.stateToJson().slice(1)\n    return (\n      <>\n      <div className='document preview-area' style={{margin: '3mm 1mm'}}>\n        <RenderJson json={['Question', ...json]} />\n      </div>\n      <div className='document preview-area' style={{margin: '3mm 1mm'}}>\n        <RenderJson json={['AnswerKey', ...json]} />\n      </div>\n      </>\n    )\n  }\n\n}","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\nimport EditPageHeader from './EditPageHeader'\nimport EditQuestion from './EditQuestion'\nimport EditText from './EditText'\nimport { parseJson } from '..'\nimport { connect } from 'react-redux'\nimport { updateElement, deleteElement } from '../../actions/document'\n\nconst renderTypes = ({\n  NumberedQuestion: EditQuestion,\n  Question: EditQuestion,\n  PageHeader: EditPageHeader,\n  Text: EditText,\n})\n\nconst EditJson = props => {\n  const { type } = parseJson(props.json)\n  const RenderType = renderTypes[type]\n  if (RenderType) {\n    return <RenderType {...props}/>\n  }\n  return <DefaultEditor {...props}/>\n}\n\nconst mapDispatchToProps = dispatch => ({\n  onUpdateElement: (id, elem) => dispatch(updateElement(id, elem)),\n  onDeleteElement: (id) => dispatch(deleteElement(id)),\n})\n\nexport default connect(null, mapDispatchToProps)(EditJson)","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\nimport { RenderJson, parseJson } from '..'\n\n\nexport default class EditText extends DefaultEditor {\n\n  updateChild(i, val) {\n    const children = [...this.state.children]\n    children[i] = val\n    this.setState({ children })\n  }\n\n  renderChildEditor(i) {\n    return (\n      <textarea key={i} value={this.state.children[i]}\n        onChange={evt => this.updateChild(i, evt.target.value)}\n        rows='12'\n        cols='80'\n        style={{width: 'fit-content'}}\n      />\n    )\n  }\n\n  renderEditor() {\n    return (\n      <>\n        {this.state.children.map((el, i) => this.renderChildEditor(i))}\n      </>\n    )\n  }\n}","import { parseJson, renderJson } from './renderJson'\nimport EditJson from './editJson'\n\nconst RenderJson = props => {\n  return renderJson(props.json)\n}\n\nexport {\n  parseJson, \n  renderJson, \n  RenderJson,\n  EditJson,\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport ReactModal from 'react-modal'\nimport { RenderJson, EditJson, parseJson } from '../../renderJson'\n\n\n\nclass TopLevelElement extends React.Component {\n  static propTypes = {\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n    json: PropTypes.array.isRequired,\n    canEdit: PropTypes.bool.isRequired,\n  }\n\n  static defaultProps = {\n    canEdit: false,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      modal: 'none',\n    }\n  }\n\n  openEditor = () => this.setState({modal: 'edit'})\n  closeModal = () => this.setState({modal: 'none'})\n\n  render() {\n    const divprops = {}\n    const classNames = []\n    if (this.props.canEdit) {\n      classNames.push('editable')\n      divprops.onDoubleClick = this.openEditor\n    }\n    if (this.props.columns) {\n      const elemprops = parseJson(this.props.json).props\n      if (elemprops.options && elemprops.options.singleColumn) {\n        classNames.push('single-column')\n      }\n    }\n\n    if (classNames.length) {\n      divprops.className = classNames.join(' ')\n    }\n    return (\n      <>\n      <div {...divprops}>\n        <RenderJson json={this.props.json} />\n      </div>\n      <ReactModal isOpen={this.state.modal === 'edit'}\n        onRequestClose={this.closeModal}\n      >\n        <EditJson\n          id={this.props.id}\n          json={this.props.json}\n          onRequestClose={this.closeModal}\n        />\n      </ReactModal>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  canEdit: state.config.allowEditing,\n  columns: state.style.columns,\n})\n//const mapDispatchToProps = dispatch => ({\n//})\n\nexport default connect(mapStateToProps)(TopLevelElement)","// Sizes from papercss, measurements in mm\n\nexport const portrait = {\n  A3: { width: 297, height: 419 },\n  A4: { width: 210, height: 296 },\n  A5: { width: 148, height: 209 },\n  letter: { width: 216, height: 279 },\n  //letter: { width: 216, height: 130 },\n  legal: { width: 216, height: 356 },\n}\n\nexport const landscape = {\n  A3: { width: 420, height: 296 },\n  A4: { width: 297, height: 209 },\n  A5: { width: 210, height: 147 },\n  letter: { width: 280, height: 215 },\n  legal: { width: 357, height: 215 },\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { addPageBreakBefore } from '../../actions/document'\nimport TopLevelElement from './TopLevelElement'\nimport { portrait, landscape } from './pagesize'\n\n\n\nclass MeasuredPage extends React.Component {\n  static propTypes = {\n    headerID: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    footerID: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    contentIDs: PropTypes.array.isRequired,\n    content: PropTypes.object.isRequired,\n    pageSize: PropTypes.string.isRequired,\n    pageOrientation: PropTypes.string.isRequired,\n    pageMargin: PropTypes.string.isRequired,\n    addPageBreakBefore: PropTypes.func.isRequired,\n    pageNumber: PropTypes.number,\n  }\n\n  static defaultProps = {\n    contentIDs: [],\n    pageSize: 'letter',\n    pageOrientation: 'portrait',\n    pageMargin: '10mm 10mm 10mm 10mm',\n  }\n\n  constructor(props) {\n    super(props)\n    this.inner = React.createRef()\n    this.outer = React.createRef()\n    this.state = {overflows: false}\n  }\n\n  innerH = () => this.inner.current.clientHeight\n  outerH = () => this.outer.current.clientHeight\n  overflows = () => this.innerH() > this.outerH()\n\n  componentDidUpdate() {\n    const oldstate = this.state.overflows\n    const newstate = this.overflows()\n    if (oldstate !== newstate) {\n      if (newstate) {\n        this.onOverflow()\n      }\n      this.setState({overflows: newstate})\n      this.forceUpdate()\n    }\n  }\n\n  onOverflow() {\n    this.props.addPageBreakBefore(+this.props.contentIDs[this.props.contentIDs.length-1].split('.')[1])\n  }\n\n  getPageSize()  {\n    if (this.props.pageOrientation === 'landscape') {\n      return landscape[this.props.pageSize]\n    } else {\n      return portrait[this.props.pageSize]\n    }\n  }\n\n  getOuterStyle() {\n    const {width, height} = this.getPageSize()\n    return {width: `${width}mm`, height: `${height}mm`}\n  }\n\n  getInnerStyle() {\n    return {\n      height: 'fit-content',\n      margin: '0',\n      padding: this.props.pageMargin,\n    }\n  }\n\n  getHeaderID() {\n    if (this.props.pageNumber in this.props.headers) {\n      return this.props.pageNumber\n    }\n    return 0\n  }\n\n  render() {\n    let outerclassname = (\n      this.state.overflows \n      ? 'page-outer page-overflowing' \n      : 'page-outer'\n    )\n\n    const outerstyle = this.getOuterStyle()\n    const innerstyle = this.getInnerStyle()\n    const headerID = this.getHeaderID()\n\n    return (\n      <div className={outerclassname} ref={this.outer} style={outerstyle}>\n        <div className='page-inner' ref={this.inner} style={innerstyle}>\n          <TopLevelElement key={headerID}\n            id={`header.${headerID}`}\n            json={this.props.headers[headerID]}\n          />\n          <div className='page-content'>\n            {this.props.contentIDs.map((id) => {\n              const contentID = id.split('.')[1]\n              const json = this.props.content[+contentID]\n              return (\n                <TopLevelElement key={id}\n                  json={json}\n                  id={id}\n                />\n              )\n            })}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  headers: state.document.headers,\n  footers: state.document.footers,\n  content: state.document.content,\n  pageSize: state.style.pageSize,\n  pageOrientation: state.style.pageOrientation,\n  pageMargin: state.style.pageMargin,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  addPageBreakBefore: (id) => dispatch(addPageBreakBefore(id)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MeasuredPage)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { portrait, landscape } from './pagesize'\n\nconst Page = props => {\n  const {width, height} = props.orientation === 'landscape'\n    ? landscape[props.size]\n    : portrait[props.size]\n  const outerStyle = {\n    width: `${width}mm`, \n    height: `${height}mm`,\n    padding: '0',\n  }\n  const innerStyle = {\n    margin: '0',\n    height: 'fit-content',\n    padding: props.margin,\n  }\n\n  return (\n    <div className='page-outer' style={outerStyle}>\n      <div className='page-inner' style={innerStyle}>\n        {props.children}\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  size: state.style.pageSize,\n  orientation: state.style.pageOrientation,\n  margin: state.style.pageMargin,\n})\n\nexport default connect(mapStateToProps)(Page)","import React from 'react'\nimport { connect } from 'react-redux'\nimport Page from './Page'\nimport { RenderJson } from '../../renderJson'\n\n\nconst AnswerKey = (props) => {\n  return (\n    <Page>\n      <h3>Answer Key</h3>\n      <div className='answerkey'>\n        {props.contentIDs.map(id => {\n          const element = props.content[id]\n          if (element[0] === 'NumberedQuestion') {\n            return (\n              <div key={`answer-${id}`} className='answerkey-item'>\n                <RenderJson json={['AnswerKey', ...element.slice(1)]} />\n              </div>\n            )\n          } else {\n            return null\n          }\n        })}\n      </div>\n    </Page>\n  )\n}\n\nconst mapStateToProps = state => ({\n  contentIDs: state.document.order,\n  content: state.document.content\n})\n\nexport default connect(mapStateToProps)(AnswerKey)","const VGAP = 1\nconst HGAP = 1\nconst NODERADIUS = 1\n\nexport function drawCircuit(circuit, opts={}) {\n  const {width, height, above, below} = circuit.requiredSpace()\n  return [\n    'CoordinatePlane', \n    {\n      span: [-1, -below-1, width+1, above+1], \n      axis: true, \n      grid: false, \n      ...opts,\n    },\n    ['Point', {x: 0, y: 0}],\n    ...circuit.draw({start: {x:0,y:0}})\n  ]\n}\n\nexport class Node {\n  constructor(label) {\n    this.label = label\n  }\n\n  requiredSpace() {\n    return {\n      width: 2*NODERADIUS, \n      height: 2*NODERADIUS, \n      above: NODERADIUS, \n      below: NODERADIUS,\n    }\n  }\n\n  draw({start={x:0, y:0}, availableWidth}={}) {\n    const {x, y} = start\n    const extra = availableWidth ? (availableWidth - this.requiredSpace().width)/2 : 0\n    if (extra > 0) {\n      return [\n        ['Path', {points: `${x},${y} ${x+extra},${y}`}],\n        ['Circle', {cx:x+extra+NODERADIUS, cy: y, r: NODERADIUS}],\n        ['Path', {points: `${x+extra+2*NODERADIUS},${y} ${x+2*extra+2*NODERADIUS},${y}`}]\n      ]\n    } else {\n      return [['Circle', {cx:x+NODERADIUS, cy: y, r: NODERADIUS}]]\n    }\n  }\n}\n\nexport class And {\n  constructor(...args) {\n    this.args = args\n  }\n\n  requiredSpace() {\n    let w = 0, a = 0, b = 0, h = 0\n    for (const x of this.args) {\n      const req = x.requiredSpace()\n      w += req.width\n      if (req.height > h) {\n        h = req.height\n      }\n      if (req.above > a) {\n        a = req.above\n      }\n      if (req.below > b) {\n        b = req.below\n      }\n    }\n    w += (this.args.length+1)*HGAP\n    return {width: w, height: h, above: a, below: b}\n  }\n\n  draw({start={x:0, y:0}, availableWidth}={}) {\n    let {x, y} = start\n    const extra = availableWidth ? availableWidth - this.requiredSpace().width : 0\n    const between = HGAP + extra / (this.args.length+1)\n\n    const lines = [\n      ['Path', {points: [[x, y], [x+between, y]]}]\n    ]\n    x += between\n\n    let parts = []\n    for (const a of this.args) {\n      parts = parts.concat(a.draw({start: {x, y}}))\n      x += a.requiredSpace().width\n      lines.push(['Path', {points: [[x,y], [x+between, y]]}])\n      x += between\n    }\n\n    return [...lines, ...parts]\n  }\n}\n\nexport class Or {\n  constructor(...args) {\n    this.args = args\n  }\n\n  requiredSpace() {\n    let w = 0, h = 0\n    for (const a of this.args) {\n      const req = a.requiredSpace()\n      if (req.width > w) {\n        w = req.width\n      }\n      h += req.height\n    }\n    h += (this.args.length - 1)*VGAP\n    return {width: w, height: h, above: h/2, below: h/2}\n  }\n\n  draw({start={x: 0, y: 0}, availableWidth}={}) {\n    let {x, y} = start\n\n    const requiredSpace = this.requiredSpace()\n    const ys = []\n    y += requiredSpace.above\n    for (const a of this.args) {\n      const req = a.requiredSpace()\n      y -= req.above\n      ys.push(y)\n      y -= req.below\n      y -= VGAP\n    }\n    const lines = [[\n      ['Path', {\n        points: [\n          [x, ys[0]], \n          [x, ys[ys.length-1]],\n        ],\n      }],\n      ['Path', {\n        points: [\n          [x+requiredSpace.width, ys[0]], \n          [x+requiredSpace.width, ys[ys.length-1]],\n        ],\n      }],\n    ]]\n\n    let parts = []\n    for (let i = 0; i < this.args.length; i++) {\n      parts = parts.concat(this.args[i].draw({start: {x, y: ys[i]}, availableWidth: requiredSpace.width}))\n    }\n\n    return [...lines, ...parts]\n  }\n}","import React from 'react'\n//import Page from './Page'\nimport MeasuredPage from './MeasuredPage'\nimport AnswerKey from './AnswerKey'\nimport { connect } from 'react-redux'\n\n\nimport Scratch from './testing/scratchpage'\n\n\nconst Document = (props) => {\n  const len = props.contentIDs.length - props.hidden\n  const visibleIDs = props.contentIDs.slice(0,len)\n  let prev = 0\n  let slices = []\n  for (const i of props.pagebreaks) {\n    if (i < len) {\n      slices.push([prev, i])\n      prev = i\n    }\n  }\n  slices.push([prev])\n  const pages = slices.map(s => visibleIDs.slice(...s))\n  const className = props.debugView ? 'document debug-view' : 'document'\n\n  //return <div className={className}><Scratch/></div>\n\n  return (\n    <div className={className}>\n      {(\n        pages.length > 0 \n        ? pages.map((ids,i) => (\n          <MeasuredPage key={`page-${i+1}`} \n            pageNumber={i+1}\n            contentIDs={ids.map(i => `content.${i}`)}\n          />\n        )) : null\n      )}\n      {props.showAnswerKey ? <AnswerKey /> : null}\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  contentIDs: state.document.order,\n  pagebreaks: state.document.pagebreaks,\n  showAnswerKey: state.config.showAnswerKey,\n  style: state.style,\n  hidden: state.document.numberHidden,\n  debugView: state.config.debugView,\n})\n\nexport default connect(mapStateToProps)(Document)","import React from 'react'\nimport Page from '../Page'\nimport { renderJson, RenderJson } from '../../../renderJson'\nimport { Math, DisplayMath } from '../../../renderJson/renderTypes/Math'\nimport Text from '../../../renderJson/renderTypes/Text'\nimport {\n  CoordinatePlane, Label, Path, Style, Grid\n} from '../../../renderJson/renderTypes/VectorGraphics'\nimport { includes } from 'lodash'\nimport { FontTest, FontDemo } from './FontTest'\nimport { Node, And, Or, drawCircuit } from '../../../questions/circuits'\n\nimport styles from './scratch.module.css'\n\n\n\n\nconst circuit = new Or(\n  new And(new Node(), new Node()),\n  new Or(new Node(), new Node()),\n)\nconst json = drawCircuit(circuit, {height: '2in'})\n\n\n\nconst Scratch = () => {\n  const torender = renderJson(json)\n  \n\n  return (\n    <Page>\n      <div className=\"page-content\">\n        {torender}    \n      </div>\n    </Page>\n  )\n}\n\nexport default Scratch","export const ADD_FONTFAMILY = 'ADD_FONTFAMILY'\nexport const SET_ALLOW_EDITING = 'SET_ALLOW_EDITING'\nexport const SET_FONTFAMILY_UI = 'SET_FONTFAMILY_UI'\nexport const SET_SHOW_ANSWERKEY = 'SET_SHOW_ANSWERKEY'\nexport const SET_UI_THEME = 'SET_UI_THEME'\nexport const SET_DEBUG_VIEW = 'SET_DEBUG_VIEW'\nexport const SET_FILENAME = 'SET_FILENAME'\n\nexport const addFontFamily = (font) => ({\n  type: ADD_FONTFAMILY,\n  payload: font,\n})\n\nexport const setAllowEditing = (b) => ({\n  type: SET_ALLOW_EDITING,\n  payload: b,\n})\n\nexport const setFontFamilyUI = (inputType) => ({\n  type: SET_FONTFAMILY_UI,\n  payload: inputType,\n})\n\nexport const setShowAnswerKey = (bool) => ({\n  type: SET_SHOW_ANSWERKEY,\n  payload: bool,\n})\n\nexport const setUITheme = theme => {\n  if (theme === 'none') {\n    document.body.removeAttribute('ui-theme')\n  } else {\n    document.body.setAttribute('ui-theme', theme)\n  }\n  return ({\n    type: SET_UI_THEME,\n    payload: theme,\n  })\n}\n\nexport const setDebugView = bool => ({\n  type: SET_DEBUG_VIEW,\n  payload: bool\n})\n\nexport const setFilename = filename => ({\n  type: SET_FILENAME,\n  payload: filename\n})\n\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { addFontFamily } from '../../../actions/config'\n\nclass AddLocalFont extends React.Component {\n  static propTypes = {\n    addFontFamily: PropTypes.func.isRequired,\n    buttonLabel: PropTypes.string.isRequired,\n  }\n\n  static defaultProps = {\n    buttonLabel: 'Add'\n  }\n\n  constructor(props) {\n    super(props)\n    this.input = React.createRef()\n  }\n\n  addFont = () => {\n    const fontFamily = this.input.current.value\n    this.props.addFontFamily(fontFamily)\n  }\n\n  render() {\n    return (\n      <>\n      <input ref={this.input} spellCheck={false} />\n      <button onClick={this.addFont}>{this.props.buttonLabel}</button>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addFontFamily: f => dispatch(addFontFamily(f)),\n})\n\nexport default connect(null, mapDispatchToProps)(AddLocalFont)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setFontFamilyUI } from '../../../actions/config'\n\nclass FontFamilyUI extends React.Component {\n  static propTypes = {\n    current: PropTypes.string,\n    setFontFamilyUI: PropTypes.func.isRequired\n  }\n\n  setFontFamilyUI = (evt) => {\n    this.props.setFontFamilyUI(evt.target.value)\n  }\n\n  render() {\n    return (\n      <select onChange={this.setFontFamilyUI} value={this.props.current}>\n        <option value='input'>Input</option>\n        <option value='select'>Menu</option>\n      </select>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.config.fontFamilyUI\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setFontFamilyUI: (inputtype) => dispatch(setFontFamilyUI(inputtype)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontFamilyUI)","export const SET_DOCUMENT_FONTFAMILY = 'SET_DOCUMENT_FONTFAMILY'\nexport const SET_DOCUMENT_FONTSIZE = 'SET_DOCUMENT_FONTSIZE'\nexport const SET_MATH_FONTSIZE = 'SET_MATH_FONTSIZE'\nexport const SET_MATH_FONTWEIGHT = 'SET_MATH_FONTWEIGHT'\nexport const SET_MATH_FONTFAMILY = 'SET_MATH_FONTFAMILY'\nexport const SET_PAGE_MARGIN = 'SET_PAGE_MARGIN'\nexport const SET_PAGE_SIZE = 'SET_PAGE_SIZE'\nexport const UPDATE_GRAPHSTYLE = 'UPDATE_GRAPHSTYLE'\nexport const RESET_GRAPHSTYLE = 'RESET_GRAPHSTYLE'\nexport const LOAD_STYLE = 'LOAD_STYLE'\nexport const RESET_STYLE = 'RESET_STYLE'\n\n// Document font\nexport const setDocumentFontFamily = (family) => {\n  return ({\n    type: SET_DOCUMENT_FONTFAMILY,\n    payload: family\n  })\n}\nexport const setDocumentFontSize = (size) => {\n  return ({\n    type: SET_DOCUMENT_FONTSIZE,\n    payload: size\n  })\n}\n\n// Document Math Font\nexport const setMathFontSize = (size) => {\n  return ({\n    type: SET_MATH_FONTSIZE,\n    payload: size\n  })\n}\nexport const setMathFontWeight = (weight) => {\n  return ({\n    type: SET_MATH_FONTWEIGHT,\n    payload: weight\n  })\n}\nexport const setMathFontFamily = family => {\n  return ({\n    type: SET_MATH_FONTFAMILY,\n    payload: family,\n  })\n}\n\n// Page Layout\nexport const setPageSize = size => ({\n  type: SET_PAGE_SIZE,\n  payload: size,\n})\nexport const setPageMargin = margins => ({\n  type: SET_PAGE_MARGIN,\n  payload: margins\n})\n\n// Graph Style\nexport const updateGraphStyle = (props) => {\n  return ({\n    type: UPDATE_GRAPHSTYLE,\n    payload: props,\n  })\n}\n\nexport const resetGraphStyle = () => ({\n  type: RESET_GRAPHSTYLE,\n})\n\nexport const loadStyle = style => ({\n  type: LOAD_STYLE,\n  payload: style\n})\n\nexport const resetStyle = () => ({\n  type: RESET_STYLE\n})","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setDocumentFontFamily } from '../../../actions/style'\n\n\nclass FontFamilyInput extends React.Component {\n  static propTypes = {\n    current: PropTypes.string,\n    setDocumentFontFamily: PropTypes.func,\n  }\n\n  onChange = evt => {\n    const fontFamily = evt.target.value\n    this.props.setDocumentFontFamily(fontFamily)\n  }\n\n  render() {\n    return (\n      <input type=\"text\"\n        value={this.props.current}\n        spellCheck={false}\n        onChange={this.onChange}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.style.fontFamily,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setDocumentFontFamily: (family) => dispatch(setDocumentFontFamily(family)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontFamilyInput)","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { setDocumentFontFamily } from '../../actions/style'\nimport { addFontFamily } from '../../actions/config'\nimport ReactModal from 'react-modal'\nimport styles from './styles.module.css'\n\nclass AddFontPopup extends React.Component {\n  static propTypes = {\n    isOpen: PropTypes.bool.isRequired,\n    onRequestClose: PropTypes.func,\n    setDocumentFontFamily: PropTypes.func.isRequired,\n  }\n\n  static defaultProps = {\n    isOpen: false\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {input: ''}\n  }\n\n  close = () => {\n    this.setState({input: ''})\n    this.props.onRequestClose()\n  }\n\n  onChange = evt => this.setState({input: evt.target.value})\n\n  setFontFamily(fontFamily) {\n    this.props.setDocumentFontFamily(fontFamily)\n  }\n\n  addFont = () => {\n    const family = this.state.input\n    if (family.length) {\n      this.props.addFontFamily(family)\n      this.setFontFamily(family)\n    }\n    this.close()\n  }\n\n  handleKeyPress = evt => {\n    if (evt.key === 'Enter') {\n      this.addFont()\n    }\n  }\n\n  render() {\n    return (\n      <ReactModal \n        className={styles.Popup}\n        isOpen={this.props.isOpen}\n        onRequestClose={this.close}\n      >\n      <div>\n        <span>\n          This should be the name of a font already installed on your computer.\n        </span>\n        <br/>\n        <input\n          type=\"text\"\n          placeholder=\"Enter Font Name\"\n          autoFocus\n          onChange={this.onChange}\n          onKeyPress={this.handleKeyPress}\n          style={{width: '30em', margin: '2mm 0'}}\n        />\n        <div className={styles.PopupButtons}>\n          <button onClick={this.setFromPrompt}>Accept</button>\n          <button onClick={this.close}>Cancel</button>\n        </div>\n      </div>\n      </ReactModal>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addFontFamily: f => dispatch(addFontFamily(f)),\n  setDocumentFontFamily: (family) => dispatch(setDocumentFontFamily(family)),\n})\n\nexport default connect(null, mapDispatchToProps)(AddFontPopup)","import React from 'react'\nimport ReactModal from 'react-modal'\n\nconst NotesModal = props => (\n  <ReactModal\n    isOpen={props.isOpen}\n    onRequestClose={props.onRequestClose}\n    style={{\n      content: {\n        width: '5in',\n        bottom: '.5in',\n        left: '.5in',\n        right: 'unset',\n        top: 'unset',\n        color: 'black',\n        backgroundColor: 'var(--ui-page, white)',\n      }\n    }}\n  >\n    <span style={{fontWeight: 'bold', fontSize: '1em'}} onClick={props.onRequestClose}>\n      <span style={{marginRight: '3mm'}}>Notes</span>      \n    </span>\n    <div onClick={props.onRequestClose}>\n      <p>Double-click on the document to edit an element.</p>\n      <p>Create a PDF by selecting \"Save to PDF\" when printing.</p>\n      <p>Make sure the scale is set to 100% when printing.</p>\n      <p>\n        Changing the font size or deleting questions from the middle of the\n        document can cause the calculated page breaks to no longer be \n        appropriate. Use the 'Fix Pagination' button to quickly recalculate \n        all page breaks.\n      </p>\n      <p>\n        Using Firefox or Chrome is recommended. \n        Not much testing has been done for other browsers.\n      </p>\n      <p>The answer key can't be over one page long.</p>\n      <p>Printing doesn't always work right with page sizes other than \"letter\".</p>\n      <p>Some inputs do not work in Safari.</p>\n      <button onClick={props.onRequestClose}>Close</button>\n    </div>\n  </ReactModal>\n)\n\nexport default NotesModal","import React from 'react';\nimport { connect } from 'react-redux'\nimport ReactModal from 'react-modal'\nimport styles from './styles.module.css'\n\nfunction filterUnusedElements(document) {\n  const result = {...document, content: {}}\n  for (const k of document.order) {\n    result.content[k] = document.content[k]\n  }\n  return result\n}\n\n// Download document as JSON\nclass SaveFilePopup extends React.Component {\n  static defaultProps = {\n    isOpen: false,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      includeStyle: true,\n      filename: null,\n      spacing: 'none',\n    }\n  }\n\n  close= () => {\n    this.setState({filename: null})\n    this.props.onRequestClose()\n  }\n  setFilename = evt => this.setState({filename: evt.target.value})\n  toggleIncludeStyle = evt => this.setState({includeStyle: evt.target.checked})\n  setSpacing = evt => this.setState({spacing: evt.target.value})\n\n  downloadAs(filename) {\n    const data = this.state.includeStyle\n      ? {document: filterUnusedElements(this.props.document), style: this.props.style}\n      : {document: filterUnusedElements(this.props.document)}\n    const dataString = \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(data, null, this.state.spacing === 'none' ? null : +this.state.spacing));\n    const dlanchor = document.createElement('a')\n    dlanchor.setAttribute('href', dataString)\n    dlanchor.setAttribute('download', filename)\n    document.body.appendChild(dlanchor)\n    dlanchor.click()\n    dlanchor.remove()\n  }\n\n  download = () => {\n    this.downloadAs(this.state.filename || defaultFilename(this.props.document) + '.json')\n    this.close()\n  }\n\n  handleKeyPress = evt => {\n    if (evt.key === 'Enter') {\n      this.download()\n    }\n  }\n\n  onFocus = evt => {\n    evt.target.selectionStart = 0;\n    evt.target.selectionEnd = evt.target.value.length-5;\n  }\n\n  render() {\n    return (\n      <ReactModal \n        className={styles.Popup}\n        isOpen={this.props.isOpen}\n        onRequestClose={this.close}\n      >\n        <div>\n          <span style={{fontWeight: 'bold'}}>Save as: </span>\n          <br/>\n          <input \n            type=\"text\" \n            style={{width: '30em', margin: '2mm 0'}}\n            value={this.state.filename || defaultFilename(this.props.document) + '.json'} \n            onChange={this.setFilename}\n            spellCheck={false}\n            autoFocus\n            onKeyPress={this.handleKeyPress}\n            onFocus={this.onFocus}\n          />\n          <br/>\n          <input \n            id=\"save-style-with-document-checkbox\"\n            type=\"checkbox\"\n            checked={this.state.includeStyle}\n            onChange={this.toggleIncludeStyle}\n          />\n          <label htmlFor=\"save-style-with-document-checkbox\">\n            Save style with document\n          </label>\n          <div>\n            Spacing:\n            <select value={this.state.spacing}\n              onChange={this.setSpacing}\n            >\n              <option value=\"none\">None</option>\n              <option value=\"2\">2</option>\n            </select>\n          </div>\n          <div className={styles.PopupButtons}>\n            <button onClick={this.download}>Save</button>\n            <button onClick={this.close}>Cancel</button>\n          </div>\n        </div>\n      </ReactModal>\n    )\n  }\n}\n\nfunction defaultFilename(document) {\n  if (document.headers && document.headers[1]) {\n    const [t, {rows}] = document.headers[1]\n    if (rows) {\n      const titleparts = []\n      for (const r of rows) {\n        if (r[0]) {\n          titleparts.push(r[0].replace(/\\ /g, ''))\n        }\n      }\n      if (titleparts.length) {\n        return titleparts.join('_')\n      }\n    }\n  }\n  return 'assignment'\n}\n\nconst mapStateToProps = state => ({\n  filename: defaultFilename(state.document) + '.json',\n  document: state.document,\n  style: state.style,\n})\n\nexport default connect(mapStateToProps)(SaveFilePopup)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { updateGraphStyle } from '../../../actions/style'\n\n\nclass GraphStyle extends React.Component {\n  static propTypes = {\n    updateGraphStyle: PropTypes.func.isRequired,\n    propertyName: PropTypes.string.isRequired,\n    current: PropTypes.string.isRequired,\n  }\n\n  setValue(value) {\n    this.props.updateGraphStyle({[this.props.propertyName]: value})\n  }\n\n  onChange = (evt) => {\n    this.setValue(evt.target.value)\n  }\n\n}\n\nclass Color extends GraphStyle {\n  render() {\n    return (\n      <input type='color'\n        value={this.props.current}\n        onChange={this.onChange}\n      />\n    )\n  }\n}\n\nclass Width extends GraphStyle {\n  onChange = (evt) => {\n    this.setValue(evt.target.value + 'mm')\n  }\n  render() {\n    return (\n      <input type='range'\n        value={this.props.current.slice(0,-2)}\n        onChange={this.onChange}\n        min='0'\n        max='1'\n        step='0.01'\n      />\n    )\n  }\n}\n\nclass Opacity extends GraphStyle {\n  render() {\n    return (\n      <input type='range'\n        value={this.props.current}\n        onChange={this.onChange}\n        min='0'\n        max='1'\n        step='0.01'\n      />\n    )\n  }\n}\n\nclass RelativeFontSize extends GraphStyle {\n  onChange = (evt) => {\n    this.setValue(evt.target.value + 'em')\n  }\n  render() {\n    return (\n      <input type='range'\n        value={this.props.current.slice(0,-2)}\n        onChange={this.onChange}\n        min='0.1'\n        max='3'\n        step='0.05'\n      />\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  updateGraphStyle: (props) => dispatch(updateGraphStyle(props))\n})\n\nfunction createComponent(base, propertyName) {\n  class StyleSettingComponent extends base {\n    static defaultProps = ({propertyName: propertyName})\n  }\n  \n  return connect(\n    state => ({current: state.style.graph[propertyName]}), \n    mapDispatchToProps\n  )(StyleSettingComponent)\n}\n\nexport const FunctionColor1 = createComponent(Color, 'functionStroke1')\nexport const FunctionColor2 = createComponent(Color, 'functionStroke2')\nexport const FunctionWidth = createComponent(Width, 'functionStrokeWidth')\nexport const GeomColor1 = createComponent(Color, 'geomStroke1')\nexport const GeomColor2 = createComponent(Color, 'geomStroke2')\nexport const GeomWidth = createComponent(Width, 'geomStrokeWidth')\nexport const GeomMarkerColor = createComponent(Color, 'geomMarkerColor')\nexport const AnglemarkColor = createComponent(Color, 'anglemarkColor')\nexport const AnglemarkFillOpacity = createComponent(Opacity, 'anglemarkFillOpacity')\nexport const AsymptoteColor = createComponent(Color, 'asymptoteColor')\nexport const AsymptoteWidth = createComponent(Width, 'asymptoteWidth')\nexport const AxisColor = createComponent(Color, 'axisColor')\nexport const AxisWidth = createComponent(Width, 'axisWidth')\nexport const GridColor = createComponent(Color, 'gridColor')\nexport const GridWidth = createComponent(Width, 'gridWidth')\nexport const FillOpacity = createComponent(Opacity, 'fillOpacity')\nexport const LabelFontSize = createComponent(RelativeFontSize, 'labelFontSize')\n\n\nclass SwapButton extends React.Component {\n  static propTypes = {\n    current1: PropTypes.string.isRequired,\n    current2: PropTypes.string.isRequired,\n    propertyName1: PropTypes.string.isRequired,\n    propertyName2: PropTypes.string.isRequired,\n    updateGraphStyle: PropTypes.func.isRequired,\n  }\n\n  doSwap = () => {\n    this.props.updateGraphStyle({\n      [this.props.propertyName1]: this.props.current2,\n      [this.props.propertyName2]: this.props.current1,\n    })\n  }\n\n  render() {\n    return (\n      <button onClick={this.doSwap}>{this.props.children}</button>\n    )\n  }\n}\n\nfunction createSwapper(prop1, prop2) {\n  class Swapper extends SwapButton {\n    static defaultProps = {propertyName1: prop1, propertyName2: prop2}\n  }\n  return connect(\n    state => ({\n      current1: state.style.graph[prop1], \n      current2: state.style.graph[prop2],\n    }),\n    dispatch => ({\n      updateGraphStyle: updates => dispatch(updateGraphStyle(updates)),\n    })\n  )(Swapper)\n}\n\nexport const FunctionColorSwap = createSwapper('functionStroke1', 'functionStroke2')\nexport const GeomColorSwap = createSwapper('geomStroke1', 'geomStroke2')\n\n","import React from 'react'\n\nimport { RenderJson, renderJson } from '../../../renderJson'\n\nexport const PreviewXYPlot = () => {\n  \n  \n  const vasymptotes = [-3]\n  const holes = [-5]\n  const hasymptotes = [2]\n\n  //const f = x => 2*Math.sin(x*Math.PI/4) + 7\n  //const g = x => (x+2)*(x-8)/2 + (x+2)/5 + 5\n\n  const f = x => (x-2)*(x-7) - 3 + (x/3)\n  const g = x => -(x-2)*(x-7) - 3 + (x/3)\n\n\n  const regionTop = []\n  const regionBottom = []\n  const fpoints = []\n  const gpoints = []\n  const step = 0.5\n\n  let x = -5\n  while (x <= 3) {\n    const fpt = ({x, y: f(x)})\n    const gpt = ({x, y: g(x)})\n    fpoints.push(fpt)\n    gpoints.push(gpt)\n    x += step\n  }\n\n  while (x <= 6) {\n    const fpt = ({x, y: f(x)})\n    const gpt = ({x, y: g(x)})\n    fpoints.push(fpt)\n    gpoints.push(gpt)\n    x += 0.02\n  }\n\n  while (x <= 11) {\n    const fpt = ({x, y: f(x)})\n    const gpt = ({x, y: g(x)})\n    fpoints.push(fpt)\n    gpoints.push(gpt)\n    x += step\n  }\n\n  const json = [\n    'CoordinatePlane', {span: [-10,-10,10,10], height: '3in', style: 'none'},\n    [\n      'Style', {name: 'asymptote'},\n      ...vasymptotes.map(v => ['Path', {points: [[v, -12], [v, 12]]}]),\n      ...hasymptotes.map(v => ['Path', {points: [[-12, v], [12, v]]}])\n    ],\n    [\n      'Style', {name: 'function primary'},\n      ['Path', {points: fpoints, fill: 'solid'}],\n      [\n        'Transform', {type: 'translate', y: 2},\n        [\n          'RationalFunction', {\n            numerLC: 2,\n            asymptotes: vasymptotes,\n            holes: holes,\n            domain: [-11,-3],\n            renderAsymptotes: false,\n          }\n        ],\n      ],\n      ['Point', {x: -4, y: 0}],\n    ],\n    ['Overlay', {x: -9, y: 7, anchor: 'W'}, '$$f(x) = \\\\frac{1}{x-2}+2$$'],\n    [\n      'Style', {name: 'function secondary'},\n      ['Path', {points: gpoints, fill: 'solid'}],\n      \n      ['Point', {x: 2, y: f(2)}],\n      ['Point', {x: 7, y: f(7)}],\n      \n    ]\n  ]\n  return renderJson(json)\n}\n\nexport const PreviewGeom = () => {\n\n  const poly= [\n    [8,1], [18,1], [18,8], [14,8]\n  ]\n  const ray = [[2,12], [7,13]]\n  const line = [[8,17], [2,18]]\n  const seg = [[7,15], [2,15]]\n  const parallelogram = [[11,18], [17,19], [15,13], [9,12]]\n  const parAngle0 = {\n    vertex: parallelogram[0],\n    initial: parallelogram[3],\n    terminal: parallelogram[1],\n  }\n  const parAngle2 = {\n    vertex: parallelogram[2],\n    initial: parallelogram[1],\n    terminal: parallelogram[3],\n  }\n\n\n  const json = [\n    'CoordinatePlane', {span: [0,0,20,20], height: '3in', style: 'geometry'},\n    //['AngleMark', {right: true, vertex: poly[1], initial: poly[2], terminal: poly[0], radius: 1.5}],\n    ['Path', {points: ray, markers: \".->\"}],\n    ['Path', {points: line, markers: \"<->\"}],\n    ['Path', {points: seg, markers: \".-.\"}],\n    ['AngleMark', {right: true, vertex: poly[2], initial: poly[3], terminal: poly[1], radius: 1.5}],\n    ['Polygon', {points: poly, markers: \"...\"}],\n    ['AngleMark', {...parAngle0, radius: .8, congruent: 1}],\n    ['AngleMark', {...parAngle0, radius: 1.2, congruent: 1}],\n    ['AngleMark', {...parAngle2, radius: .8, congruent: 1}],\n    ['AngleMark', {...parAngle2, radius: 1.2, congruent: 1}],\n    ['Polygon', {points: parallelogram, markers: \"...\"}],\n  ]\n\n  return renderJson(json)\n\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { resetGraphStyle } from '../../../actions/style'\nimport {\n  FunctionColor1, FunctionColor2, FunctionWidth, FunctionColorSwap,\n  GeomColor1, GeomColor2, GeomWidth, GeomMarkerColor,\n  AnglemarkColor, AnglemarkFillOpacity,\n  AsymptoteColor, AsymptoteWidth,\n  AxisColor, AxisWidth,\n  GridColor, GridWidth,\n  FillOpacity,\n  LabelFontSize,\n} from './GraphStyle'\nimport { PreviewXYPlot, PreviewGeom } from './GraphPreview'\n\nimport styles from './styles.module.css'\n\n\nclass GraphSettings extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {style: 'xy-plot'}\n  }\n\n  changeStyle = evt => {\n    this.setState({style: evt.target.value})\n  }\n\n  resetToDefaults = () => {\n   this.props.resetGraphStyle()\n  }\n\n  renderPreview() {\n    if (this.state.style === 'geom') {\n      return <PreviewGeom />\n    }\n    return <PreviewXYPlot />\n  }\n\n  renderStyleSettings() {\n    if (this.state.style === 'xy-plot') {\n      return (\n        <>\n          <tr>\n            <td>Primary</td>\n            <td><FunctionColor1/></td>\n            <td><FunctionWidth/></td>\n          </tr>\n          <tr>\n            <td>Secondary</td>\n            <td><FunctionColor2/></td>\n            <td><FunctionColorSwap>Swap</FunctionColorSwap></td>\n          </tr>\n          <tr>\n            <td>Asymptote</td>\n            <td><AsymptoteColor/></td>\n            <td><AsymptoteWidth/></td>\n          </tr>\n          <tr>\n            <td colSpan='2'>Fill</td>\n            <td><FillOpacity /></td>\n          </tr>\n        </>\n      )\n    }\n    if (this.state.style === 'geom') {\n      return (\n        <>\n          <tr>\n            <td>Shapes</td>\n            <td><GeomColor1/></td>\n            <td><GeomWidth/></td>\n          </tr>\n          <tr>\n            <td>Marks</td>\n            <td><GeomMarkerColor/></td>\n          </tr>\n          <tr>\n            <td>Angles</td>\n            <td><AnglemarkColor/></td>\n            <td><AnglemarkFillOpacity/></td>\n          </tr>\n        </>\n      )\n    }\n    return null\n  }\n\n  render() {\n    return (\n      <div className={styles.Layout}>\n        <div className={styles.Settings}>\n          <h3>Graph Style</h3>\n          <button onClick={this.resetToDefaults}>Reset to Defaults</button>\n          \n          <table className={styles.SettingTable}>\n\n            <thead>\n              <tr>\n                <th></th>\n                <th>Color</th>\n                <th>Thickness</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>Axis</td>\n                <td><AxisColor/></td>\n                <td><AxisWidth/></td>\n              </tr>\n\n              <tr>\n                <td>Grid</td>\n                <td><GridColor/></td>\n                <td><GridWidth/></td>\n              </tr>\n\n              <tr>\n                <td colSpan=\"2\">Label Font Size</td>\n                <td><LabelFontSize /></td>\n              </tr>\n\n              <tr>\n                <td colSpan='3' >\n                  <div style={{margin: '5mm 0'}}>\n                    <span>Editing style for </span>\n                    <select onChange={this.changeStyle} value={this.state.style}>\n                      <option value='geom'>geometry</option>\n                      <option value='xy-plot'>xy-plot</option>\n                    </select>\n                  </div>\n                </td>\n              </tr>\n\n              {this.renderStyleSettings()}\n\n              \n            </tbody>\n\n          </table>\n        </div>\n        <div className={styles.Preview}>\n          <div className='document preview-area'>\n            {this.renderPreview()}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  resetGraphStyle: () => dispatch(resetGraphStyle()),\n})\n\nexport default connect(null, mapDispatchToProps)(GraphSettings)","import GraphSettings from './GraphSettings'\n\nexport default GraphSettings","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setPageMargin } from '../../../actions/style'\n\nconst MarginOptions = [\n  '.25',\n  '.5',\n  '.75',\n  '1.0',\n]\n\nclass SetPageMargin extends React.Component {\n  static defaultProps = {\n    unit: 'in',\n  }\n\n  static propTypes = {\n    current: PropTypes.string.isRequired,\n    setPageMargin: PropTypes.func.isRequired,\n  }\n\n  setPageMargin(margin) {\n    this.props.setPageMargin(margin)\n  }\n\n  updateFromSelection = (evt) => {\n    const m = evt.target.value + this.props.unit\n    this.setPageMargin(m)\n  }\n\n  render() {\n    return (\n      <select\n        onChange={this.updateFromSelection}\n        value={parseFloat(this.props.current)}\n      >\n        {MarginOptions.map((m) => (\n          <option key={m} value={parseFloat(m)}>{m} {this.props.unit}</option>\n        ))}\n      </select>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.style.pageMargin,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setPageMargin: (m) => dispatch(setPageMargin(m))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SetPageMargin)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setPageSize } from '../../../actions/style'\n\nclass PageSize extends React.Component {\n\n  setPageSize = evt => {\n    const pageSize = evt.target.value\n    this.props.setPageSize(pageSize)\n  }\n\n  render() {\n    return (\n      <select\n        value={this.props.current}\n        onChange={this.setPageSize}\n      >\n      {['A3', 'A4', 'A5', 'legal', 'letter'].map(p => (\n        <option key={p} value={p}>{p}</option>\n      ))}\n      </select>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({current: state.style.pageSize})\nconst mapDispatchToProps = dispatch => ({setPageSize: size => dispatch(setPageSize(size))})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PageSize)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setPageMargin } from '../../../actions/style'\n\n\nfunction unitProps(units) {\n  if (units === 'in') return {max: 1.5, step: 0.01}\n  if (units === 'cm') return {max: 3.5, step: 0.01}\n  if (units === 'mm') return {max: 35, step: 0.1}\n}\n\nfunction inputProps(units) {\n  return Object.assign({\n    min: 0, \n    style: {minWidth: '5em'}, \n  }, unitProps(units))\n}\n\nfunction fromMM(value, units) {\n  if (units === 'cm') return value / 10\n  if (units === 'in') return value / 25.4\n  if (units === 'mm') return value\n}\n\nfunction toMM(value, units) {\n  if (units === 'cm') return value * 10\n  if (units === 'in') return value * 25.4\n  if (units === 'mm') return value\n}\n\nfunction convert(value, from, to) {\n  if (from === to) return value\n  return fromMM(toMM(value, from), to)\n}\n\nfunction convertStr(s, to) {\n  const units = s.slice(-2)\n  return convert(parseFloat(s), units, to)\n}\n\n\nclass PageMargins extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {...this.props}\n  }\n\n  setMargins = (m={}) => {\n    const {top, right, bottom, left, units} = {...this.state, ...m}\n    const pageMargin = [top+units, right+units, bottom+units, left+units].join(' ')\n    this.props.setPageMargin(pageMargin)\n    this.setState({top, right, bottom, left, units})\n  }\n  setUnits = evt => {\n    const from = this.state.units\n    const units = evt.target.value\n    const newValues = {}\n    for (const m of ['top', 'right', 'bottom', 'left']) {\n      const v = parseFloat(this.state[m])\n      const rounder = units === 'mm' ? 10 : 100\n      newValues[m] = Math.round(rounder * convert(v, from, units)) / rounder\n    }\n    this.setState({units, ...newValues})\n  }\n  setTop = evt => {\n    const top = evt.target.value\n    this.setMargins({top})\n  }\n  setRight = evt => {\n    const right = evt.target.value\n    this.setMargins({right})\n  }\n  setBottom = evt => {\n    const bottom = evt.target.value\n    this.setMargins({bottom})\n  }\n  setLeft = evt => {\n    const left = evt.target.value\n    this.setMargins({left})\n  }\n\n  render() {\n    return (\n      <>\n      <span>Units: </span>\n      <select value={this.state.units} onChange={this.setUnits}>\n        <option value=\"mm\">millimeters</option>\n        <option value=\"cm\">centimeters</option>\n        <option value=\"in\">inches</option>\n      </select>\n      <table>\n        <tbody>\n          <tr>\n            <td/>\n            <td>\n              Top\n              <br/>\n              <input type=\"number\" \n                value={this.state.top} \n                onChange={this.setTop} \n                {...inputProps(this.state.units)}\n              />\n              </td>\n            <td/>\n          </tr>\n          <tr>\n            <td>\n              Left\n              <br/>\n              <input type=\"number\" \n                value={this.state.left} \n                onChange={this.setLeft}\n                {...inputProps(this.state.units)}\n              />\n            </td>\n            <td/>\n            <td>\n              Right\n              <br/>\n              <input type=\"number\" \n                value={this.state.right} \n                onChange={this.setRight}\n                {...inputProps(this.state.units)}\n              />\n            </td>\n          </tr>\n          <tr>\n            <td/>\n            <td>\n              Bottom\n              <br/>\n              <input type=\"number\" \n                value={this.state.bottom} \n                onChange={this.setBottom}\n                {...inputProps(this.state.units)}\n              />\n            </td>\n            <td/>\n          </tr>\n        </tbody>\n      </table>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  const margins = state.style.pageMargin.split(' ')\n  let top, right, bottom, left\n  if (margins.length === 1) {\n    top = margins[0]\n    right = top\n    bottom = top\n    left = top\n  } else if (margins.length === 2) {\n    [top, right] = margins\n    bottom = top\n    left = right\n  } else {\n    [top, right, bottom, left] = margins\n  }\n  const units = left.slice(-2)\n\n  return {\n    top: +convertStr(top, units),\n    right: +convertStr(right, units),\n    bottom: +convertStr(bottom, units),\n    left: +convertStr(left, units),\n    units,\n  }\n}\nconst mapDispatchToProps = dispatch => ({setPageMargin: m => dispatch(setPageMargin(m))})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PageMargins)","import PageMargin from \"./PageMargin\"\nimport PageSettings from './PageSettings'\n\nexport {\n  PageMargin,\n  PageSettings\n}\n\nexport default PageSettings","import React from 'react'\nimport PageSize from './PageSize'\nimport PageMargins from './PageMargins'\n\nconst PageSettings = props => {\n  return (\n    <div>\n      <h4>Page Size</h4>\n      <PageSize/> (printing is buggy for sizes other than letter)\n      <h4>Margins</h4>\n      <PageMargins/>\n    </div>\n  )\n}\n\nexport default PageSettings","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setDebugView } from '../../../actions/config'\n\nclass GUImode extends React.Component {\n\n  update = evt => {\n    const debugView = evt.target.checked\n    if (debugView !== this.props.debugView) {\n      this.props.setDebugView(debugView)\n    }\n  }\n\n  render() {\n    return (\n      <div style={{fontSize: '0.8em'}}>\n      <div>\n        <input id=\"layout-on-hover-checkbox\"\n          type=\"checkbox\"\n          checked={this.props.debugView}\n          onChange={this.update}/>\n        <label htmlFor=\"layout-on-hover-checkbox\">\n          Layout on Hover\n        </label>\n      </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  debugView: state.config.debugView,\n})\nconst mapDispatchToProps = dispatch => ({\n  setDebugView: b => dispatch(setDebugView(b)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GUImode)","import React from 'react'\nimport PropTypes from 'prop-types'\n\nclass PreviewZoom extends React.Component {\n  static propTypes = {\n    defaultValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    values: PropTypes.arrayOf(PropTypes.number),\n    type: PropTypes.string.isRequired,\n    min: PropTypes.number,\n    max: PropTypes.number,\n    step: PropTypes.number,\n    options: PropTypes.arrayOf(PropTypes.number),\n  }\n\n  static defaultProps = {\n    defaultValue: 100,\n    type: 'input',\n    min: 30,\n    max: 200,\n    step: 10,\n    options: [25, 50, 75, 100, 125, 150, 175, 200],\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = { zoom: props.defaultValue }\n  }\n\n  setZoom() {\n    const perc = this.state.zoom\n    const scale = perc / 100.0\n    const transform = `matrix(${[scale, 0, 0, scale, 0, 0].join(',')})`\n    document.body.style.setProperty('--previewInnerTransform', transform)\n  }\n\n  updateState = evt => {\n    const zoom = +evt.target.value\n    this.setState({ zoom })\n  }\n\n  zoomIn = () => {\n    const zoom = Math.min(+this.state.zoom + this.props.step, this.props.max)\n    this.setState({ zoom })\n  }\n\n  zoomOut = () => {\n    const zoom = Math.max(+this.state.zoom - this.props.step, this.props.min)\n    this.setState({ zoom })\n  }\n\n  componentDidMount() {\n    this.setZoom()\n  }\n\n  componentDidUpdate() {\n    this.setZoom()\n  }\n\n  renderInput() {\n    return (\n      <input\n        type=\"number\"\n        min={this.props.min}\n        max={this.props.max}\n        step={this.props.step}\n        value={this.state.zoom}\n        onChange={this.updateState}\n      ></input>\n    )\n  }\n\n  renderSelect() {\n    return (\n      <select\n        value={this.state.zoom}\n        onChange={this.updateState}>\n        {this.props.options.map((z) => <option key={`zoom-option-${z}`} value={z}>{z}</option>)}\n      </select>\n    )\n  }\n\n  renderButtons() {\n    return (\n      <>\n        <button onClick={this.zoomOut}>-</button>\n        <button onClick={this.zoomIn}>+</button>\n      </>\n    )\n  }\n\n  render() {\n    if (this.props.type === 'input') {\n      return this.renderInput()\n    }\n    if (this.props.type === 'select') {\n      return this.renderSelect()\n    }\n    if (this.props.type === 'buttons') {\n      return this.renderButtons()\n    }\n  }\n}\n\nexport default PreviewZoom","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setUITheme } from '../../../actions/config'\n\nclass UIThemeSetter extends React.Component {\n\n  setTheme = evt => {\n    const theme = evt.target.value\n    this.props.setUITheme(theme)\n  }\n\n  render() {\n    return (\n      <select value={this.props.theme}\n        onChange={this.setTheme}\n      >\n        <option value=\"none\">None</option>\n        <option value=\"dark\">Dark</option>\n        <option value=\"light\">Light</option>\n      </select>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  theme: state.config.uiTheme,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setUITheme: theme => dispatch(setUITheme(theme)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UIThemeSetter)","import GUImode from './GUImode'\nimport PreviewZoom from './PreviewZoom'\nimport UITheme from './UITheme'\nimport UISettings from './UISettings'\n\nexport {\n  GUImode,\n  PreviewZoom,\n  UISettings,\n}\n\nexport default UISettings","import React from 'react'\nimport UITheme from './UITheme'\n\nclass UISettings extends React.Component {\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    return (\n      <>\n        <span>Theme: </span><UITheme/>\n      </>\n    )\n  }\n}\n\nexport default UISettings","import React from 'react'\nimport FontSettings from './Font'\nimport GraphSettings from './Graph'\nimport PageSettings from './Page'\nimport UISettings from './UI'\nimport styles from './styles.module.css'\n\n\nclass SettingsPage extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {showing: 'font'}\n  }\n\n  showFontSettings = () => this.setState({showing: 'font'})\n  showGraphSettings = () => this.setState({showing: 'graph'})\n  showPageSettings = () => this.setState({showing: 'page'})\n  showUISettings = () => this.setState({showing: 'ui'})\n\n  renderSettings() {\n    switch (this.state.showing) {\n      case 'font': return <FontSettings/>\n      case 'graph': return <GraphSettings/>\n      case 'page': return <PageSettings/>\n      case 'ui': return <UISettings />\n      default: return null\n    }\n  }\n\n  render() {\n    return (\n      <div className={styles.SettingPage}>\n\n        <div className={styles.LeftBar}>\n          <div>\n            <span className={styles.Title}>Settings</span>\n          </div>\n          \n          <div className={styles.NavArea}>\n            <div\n              className={styles.NavButton}\n              onClick={this.showFontSettings}\n              status={this.state.showing === 'font' ? 'active' : undefined}\n            >Fonts</div>\n            <div\n              className={styles.NavButton}\n              onClick={this.showGraphSettings}\n              status={this.state.showing === 'graph' ? 'active' : undefined}\n            >Graphs</div>\n            <div\n              className={styles.NavButton}\n              onClick={this.showUISettings}\n              status={this.state.showing === 'ui' ? 'active' : undefined}\n            >Interface</div>\n            <div\n              className={styles.NavButton}\n              onClick={this.showPageSettings}\n              status={this.state.showing === 'page' ? 'active' : undefined}\n            >Page</div>\n          </div>\n\n          <div>\n            <button onClick={this.props.onRequestClose}>Close</button>\n          </div>\n          \n        </div>\n        \n        <div className={styles.SettingSection}>\n          {this.renderSettings()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default SettingsPage","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setAllowEditing } from '../../actions/config'\n\nclass AllowEditing extends React.Component {\n  static propTypes = {\n    current: PropTypes.bool.isRequired,\n    setAllowEditing: PropTypes.func.isRequired,\n  }\n\n  toggle = (evt) => {\n    if (evt.target.checked) {\n      this.props.setAllowEditing(true)\n    } else {\n      this.props.setAllowEditing(false)\n    }\n  }\n\n  render() {\n    return (\n      <input\n        id=\"allow-editing-checkbox\"\n        onChange={this.toggle}\n        type='checkbox' \n        checked={this.props.current}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.config.allowEditing,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setAllowEditing: (b) => dispatch(setAllowEditing(b)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AllowEditing)","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { setShowAnswerKey } from '../../actions/config'\n\n\nclass AnswerKeyToggle extends React.Component {\n  static propTypes = {\n    current: PropTypes.bool.isRequired,\n    setShowAnswerKey: PropTypes.func.isRequired,\n  }\n\n  toggle = (evt) => {\n    if (evt.target.checked) {\n      this.props.setShowAnswerKey(true)\n    } else {\n      this.props.setShowAnswerKey(false)\n    }\n  }\n\n  render() {\n    return (\n      <input\n        id=\"show-answer-key-checkbox\"\n        onChange={this.toggle}\n        type='checkbox' \n        checked={this.props.current}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.config.showAnswerKey,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setShowAnswerKey: (bool) => dispatch(setShowAnswerKey(bool)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AnswerKeyToggle)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { fixPagination, decreaseHiddenCount } from '../../actions/document'\n\nclass FixPagination extends React.Component {\n  static propTypes = {\n    hidden: PropTypes.number.isRequired,\n    decreaseHiddenCount: PropTypes.func.isRequired,\n    fixPagination: PropTypes.func.isRequired,\n  }\n\n  check() {\n    setTimeout(() => {\n      if (this.props.hidden > 0) {\n        this.props.decreaseHiddenCount()\n      }\n    }, 20)\n  }\n\n  componentDidMount() {\n    this.check()\n  }\n\n  componentDidUpdate() {\n    this.check()\n  }\n\n  render() {\n    return (\n      <button onClick={this.props.fixPagination}>Fix Pagination</button>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  hidden: state.document.numberHidden,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  decreaseHiddenCount: () => dispatch(decreaseHiddenCount()),\n  fixPagination: () => dispatch(fixPagination()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FixPagination)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setDocumentStartNumbering } from '../../actions/document'\n\nclass StartNumbering extends React.Component {\n\n  setCSSVariable(n) {\n    document.body.style.setProperty('--doc-startnumber', n-1)\n  }\n\n  setNumbering = evt => {\n    const startat = evt.target.value\n    if (startat) {\n      this.setCSSVariable(startat)\n      this.props.setDocumentStartNumbering(startat)\n    }\n  }\n\n  render() {\n    return (\n      <input \n        onChange={this.setNumbering}\n        type='number' \n        min='1'\n        value={this.props.current}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.document.startNumbering,\n})\nconst mapDispatchToProps = dispatch => ({\n  setDocumentStartNumbering: (n) => dispatch(setDocumentStartNumbering(n)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StartNumbering)","import SettingsPage from './SettingsPage'\n\nimport { FontFamily, FontSize, AddLocalFont, FontFamilyUI } from './Font'\nimport AllowEditingToggle from './AllowEditing'\nimport AnswerKeyToggle from './AnswerKeyToggle'\nimport FixPagination from './FixPagination'\nimport { GUImode, PreviewZoom } from './UI'\nimport { PageMargin } from './Page'\nimport StartNumbering from './StartNumbering'\n\nexport {\n  AddLocalFont,\n  AllowEditingToggle,\n  AnswerKeyToggle,\n  FixPagination,\n  FontFamily,\n  FontFamilyUI,\n  FontSize,\n  GUImode,\n  PageMargin,\n  PreviewZoom,\n  StartNumbering,\n}\n\nexport default SettingsPage","import React from 'react'\nimport ReactModal from 'react-modal'\nimport SettingsPage from '../Settings'\n\nconst SettingsModal = props => (\n  <ReactModal\n    isOpen={props.isOpen}\n    onRequestClose={props.onRequestClose}\n    style={{\n      content: {\n        border: 'none',\n        top: '0',\n        bottom: 0,\n        left: 0,\n        right: 0,\n        padding: 0,\n      },\n      overlay: {\n        background: 'none',\n        backgroundColor: 'none',\n      }\n    }}\n  >\n    <SettingsPage onRequestClose={props.onRequestClose}/>\n  </ReactModal>\n)\n\nexport default SettingsModal","import {\n  ADD_TO_DOCUMENT,\n  ADD_PAGEBREAK_BEFORE,\n  APPEND_CONTENT,\n  CLEAR_ALL,\n  CLEAR_PAGEBREAKS,\n  DECREASE_HIDDEN_COUNT,\n  DELETE_HEADER,\n  DELETE_ELEMENT,\n  FIX_PAGINATION,\n  LOAD_DOCUMENT,\n  REMOVE_LAST,\n  RESET_DOCUMENT,\n  SET_DOCUMENT_STARTNUMBERING,\n  SET_HIDDEN_COUNT,\n  UPDATE_ELEMENT,\n  UPDATE_HEADER,\n} from '../actions/document'\n\n\n\nexport const initialState = {\n  content: {},\n  order: [],\n  headers: {\n    '0': ['PageHeader', {rows: []}],\n    '1': [\n      'PageHeader', {\n        rows: [\n          ['Assignment', 'Name ___'],\n          [null, 'Date __ Class _'],\n        ]\n      }\n    ],\n  },\n  footers: {},\n  pagebreaks: [],\n  startNumbering: 1,\n  numberHidden: 0,\n}\n\nconst document = function(state=initialState, action) {\n  switch (action.type) {\n    // content\n    case ADD_TO_DOCUMENT:\n      return {\n        ...state, \n        content: {\n          ...state.content, \n          [+action.payload.id]: action.payload.element\n        },\n        order: [...state.order, +action.payload.id]\n      }\n    case CLEAR_ALL:\n      return {\n        ...state, \n        content: {},\n        order: [], \n        pagebreaks: [],\n      }\n    case REMOVE_LAST:\n      return {\n        ...state, \n        order: state.order.slice(0,-1), \n        pagebreaks: state.pagebreaks.filter(n => n < state.order.length-1),\n      }\n    case DELETE_HEADER:\n      const headers = {...state.headers}\n      if (+action.payload === 0 || +action.payload === 1) {\n        headers[+action.payload] = ['PageHeader', {rows: []}]\n        return {...state, headers}\n      } else {\n        delete headers[+action.payload]\n        return {...state, headers}\n      }\n    case DELETE_ELEMENT:\n      //Note that this does not remove the element from 'content', only from 'order'\n      return {\n        ...state, \n        order: state.order.filter(id => id !== +action.payload),\n        pagebreaks: state.pagebreaks.filter(n => n < state.order.length-1),\n      }\n    case UPDATE_HEADER:\n      return {\n        ...state, \n        headers: {...state.headers, [+action.payload.id]: action.payload.data}\n      }\n    case UPDATE_ELEMENT:\n      return {\n        ...state, \n        content: {...state.content, [+action.payload.id]: action.payload.data}\n      }\n    case APPEND_CONTENT:\n      if (action.payload.where === 'start') {\n        return {\n          ...state,\n          content: {...state.content, ...action.payload.content},\n          order: [...action.payload.order, ...state.order],\n          numberHidden: action.payload.order.length + state.order.length,\n        }\n      } else {\n        return {\n          ...state,\n          content: {...state.content, ...action.payload.content},\n          order: [...state.order, ...action.payload.order],\n          numberHidden: action.payload.order.length,\n        }\n      }\n\n\n    // settings\n    case SET_DOCUMENT_STARTNUMBERING:\n      return {...state, startNumbering: action.payload}\n\n\n    // view\n    case ADD_PAGEBREAK_BEFORE:\n      for (const i in state.order) {\n        if (state.order[i] === action.payload) {\n          return {...state, pagebreaks: [...state.pagebreaks, i]}\n        }\n      }\n      return state\n    case CLEAR_PAGEBREAKS:\n      return {...state, pagebreaks: []}\n    case SET_HIDDEN_COUNT:\n      return {...state, numberHidden: action.payload}\n    case DECREASE_HIDDEN_COUNT:\n      return {...state, numberHidden: Math.max(0, state.numberHidden-1)}\n    case FIX_PAGINATION:\n      return {...state, numberHidden: state.order.length, pagebreaks: []}\n\n\n    case LOAD_DOCUMENT:\n      return {...action.payload}\n    case RESET_DOCUMENT:\n      return {...initialState}\n    \n    default:\n      return state\n  }\n}\n\nexport default document\n\n","import { kebabCase } from 'lodash'\n\nexport function setStyle(style) {\n  document.documentElement.style.setProperty('--doc-font-family', style.fontFamily)\n  document.documentElement.style.setProperty('--doc-font-size', style.fontSize)\n  document.documentElement.style.setProperty('--doc-math-font-size', style.mathFontSize)\n  document.documentElement.style.setProperty('--doc-math-font-weight', style.mathFontWeight)\n  const mathFontFamily = style.mathFontFamily\n  if (mathFontFamily === '__MATCH__') {\n    document.documentElement.style.setProperty('--doc-math-font-family', 'var(--doc-font-family)')\n  } else if (mathFontFamily === '__DEFAULT__') {\n    document.documentElement.style.removeProperty('--doc-math-font-family')\n  } else {\n    document.documentElement.style.setProperty('--doc-math-font-family', mathFontFamily)\n  }\n  for (const k in style.graph) {\n    document.documentElement.style.setProperty(`--vg-${kebabCase(k)}`, style.graph[k])\n  }\n}","import { defaultsDeep } from 'lodash'\nimport { setStyle } from '../stylesetter'\nimport {\n  SET_DOCUMENT_FONTFAMILY,\n  SET_DOCUMENT_FONTSIZE,\n  SET_MATH_FONTSIZE,\n  SET_MATH_FONTWEIGHT,\n  SET_MATH_FONTFAMILY,\n  SET_PAGE_MARGIN,\n  SET_PAGE_SIZE,\n  UPDATE_GRAPHSTYLE,\n  RESET_GRAPHSTYLE,\n  LOAD_STYLE,\n  RESET_STYLE\n} from '../actions/style'\n\nimport { kebabCase } from 'lodash'\n\nexport const initialState = {\n  columns: true,\n  fontFamily: 'cmu_sansserif',\n  fontSize: '9pt',\n  mathFontFamily: '__DEFAULT__',\n  mathFontSize: '1.1em',\n  mathFontWeight: 'normal',\n  pageSize: 'letter',\n  pageOrientation: 'portrait',\n  pageMargin: '.5in',\n  graph: {\n    asymptoteColor: '#888888',\n    asymptoteWidth: '0.6mm',\n    axisColor: '#111111',\n    axisWidth: '0.3mm',\n    anglemarkColor: '#ff4444',//'#ff0036',\n    anglemarkFillOpacity: '0.1',\n    fillOpacity: '0.2',\n    functionStroke1: '#ff3600',\n    functionStroke2: '#0080d9',\n    //functionStrokeTertiary: '#70cc3e',\n    functionStrokeWidth: '0.4mm',\n    geomStroke1: '#000000',\n    geomStroke2: '#0055cc',\n    geomStrokeWidth: '0.3mm',\n    geomMarkerColor: '#000000',\n    gridColor: '#888888',\n    gridWidth: '0.1mm',\n    labelFontSize: '1em',\n  },\n}\n\nconst style = function(state=initialState, action) {\n  switch(action.type) {\n    // Fonts\n    case SET_DOCUMENT_FONTFAMILY:\n      document.documentElement.style.setProperty('--doc-font-family', action.payload)\n      return {...state, fontFamily: action.payload}\n    case SET_DOCUMENT_FONTSIZE:\n      document.documentElement.style.setProperty('--doc-font-size', action.payload)\n      return {...state, fontSize: action.payload}\n    case SET_MATH_FONTSIZE:\n      document.documentElement.style.setProperty('--doc-math-font-size', action.payload)\n      return {...state, mathFontSize: action.payload}\n    case SET_MATH_FONTWEIGHT:\n      document.documentElement.style.setProperty('--doc-math-font-weight', action.payload)\n      return {...state, mathFontWeight: action.payload}\n    case SET_MATH_FONTFAMILY:\n      if (action.payload === '__MATCH__') {\n        document.documentElement.style.setProperty('--doc-math-font-family', 'var(--doc-font-family)')\n        //document.documentElement.style.setProperty('--doc-math-font-spacing', '.03em')\n      } else if (action.payload === '__DEFAULT__') {\n        document.documentElement.style.removeProperty('--doc-math-font-family')\n        //document.documentElement.style.removeProperty('--doc-math-font-spacing')\n      } else {\n        document.documentElement.style.setProperty('--doc-math-font-family', action.payload)\n        //document.documentElement.style.setProperty('--doc-math-font-spacing', '.03em')\n      }\n      return {...state, mathFontFamily: action.payload}\n\n    // Page Layout\n    case SET_PAGE_SIZE:\n      return {...state, pageSize: action.payload}\n    case SET_PAGE_MARGIN:\n      return {...state, pageMargin: action.payload}\n\n    // Graph Style\n    case UPDATE_GRAPHSTYLE:\n      for (const k in action.payload) {\n        document.documentElement.style.setProperty(`--vg-${kebabCase(k)}`, action.payload[k])\n      }\n      return {...state, graph: {...state.graph, ...action.payload}}\n    case RESET_GRAPHSTYLE:\n      for (const k in initialState.graph) {\n        document.documentElement.style.setProperty(`--vg-${kebabCase(k)}`, initialState.graph[k])\n      }\n      return {...state, graph: {...initialState.graph}}\n    \n    case LOAD_STYLE:\n      const newstyle = defaultsDeep({}, action.payload, state)\n      setStyle(newstyle)\n      return newstyle\n    case RESET_STYLE:\n      setStyle(initialState)\n      return initialState\n\n    default:\n      return state\n  }\n}\n\nexport default style","import React from 'react';\nimport { connect } from 'react-redux'\nimport ReactModal from 'react-modal'\nimport { appendContent, loadDocument, fixPagination } from '../../actions/document'\nimport { loadStyle } from '../../actions/style'\nimport { initialState as initialDocumentState } from '../../reducers/document'\nimport { initialState as initialStyleState } from '../../reducers/style'\nimport styles from './styles.module.css'\n\n\nclass ImportModal extends React.Component {\n  static defaultProps = {\n    isOpen: false,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      importMode: 'new',\n      filename: null, \n      validFilename: null, \n      message: null,\n      document: null,\n      style: null,\n    }\n  }\n\n  setImportMode = evt => this.setState({importMode: evt.target.value})\n\n  close = () => {\n    this.setState({\n      filename: null, \n      validFilename: null, \n      message: null,\n      document: null,\n      style: null,\n      dragOver: false,\n    })\n    this.props.onRequestClose()\n  }\n\n  handleDragEnter = evt => {\n    evt.stopPropagation()\n    evt.preventDefault()\n    this.setState({dragOver: true})\n  }\n\n  handleDragLeave = evt => {\n    evt.stopPropagation()\n    evt.preventDefault()\n    this.setState({dragOver: false})\n  }\n\n  handleDragOver = evt => {\n    evt.stopPropagation()\n    evt.preventDefault()\n    evt.dataTransfer.dropEffect = 'copy'\n  }\n\n  handleDrop = evt => {\n    evt.stopPropagation()\n    evt.preventDefault()\n    const file = evt.dataTransfer.files[0]\n    this.setState({filename: file.name, dragOver: false})\n    this.readFile(file)\n    return false\n  }\n\n  selectFile = evt => {\n    const file = evt.target.files[0]\n    this.setState({filename: file.name})\n    this.readFile(file)\n  }\n\n  readFile(file) {\n    if (file) {\n      const reader = new FileReader()\n      reader.onload = evt => this.checkData(evt.target.result)\n      reader.readAsText(file)\n    }\n  }\n\n  checkData(dataString) {\n    let data\n    try {\n      data = JSON.parse(dataString)\n    } catch {\n      this.setState({message: 'File is not valid JSON'})\n      return\n    }\n    try {\n      let toLoad = {document: null, style: null}\n      if (data.document) {\n        const document = Object.assign({}, initialDocumentState)\n        for (const k in initialDocumentState) {\n          if (data.document[k] !== undefined) {\n            document[k] = data.document[k]\n          }\n        }\n        toLoad.document = document\n      }\n      if (data.style) {\n        const style = {}\n        for (const k in initialStyleState) {\n          if (data.style[k] !== undefined) {\n            style[k] = data.style[k]\n          }\n        }\n        toLoad.style = style\n      }\n      this.setState({\n        message: '', \n        validFilename: this.state.filename,\n        ...toLoad\n      })\n    } catch(e) {\n      console.error(e)\n      this.setState({message: 'Error: Unable to load file.', document: null, style: null})\n    }\n  }\n\n  canLoad = () => {\n    if (this.state.importMode === 'new' && (this.state.document || this.state.style)) {\n      return true\n    }\n    if (this.state.importMode === 'append-end' && this.state.document) {\n      return true\n    }\n    if (this.state.importMode === 'append-start' && this.state.document) {\n      return true\n    }\n    if (this.state.importMode === 'style' && this.state.style) {\n      return true\n    }\n    return false\n  }\n\n  loadJson = () => {\n    if (this.canLoad()) {\n      if (this.state.importMode === 'new') {\n        if (this.state.document) {\n          this.props.loadDocument(this.state.document)\n        }\n        if (this.state.style) {\n          this.props.loadStyle(this.state.style || {})\n        } else {\n          this.props.fixPagination()\n        }\n        this.close()\n      } \n      else if (this.state.importMode === 'append-end') {\n        this.props.appendContent({...this.state.document, where: 'end'})\n        this.close()\n      }\n      else if (this.state.importMode === 'append-start') {\n        this.props.appendContent({...this.state.document, where: 'start'})\n        this.close()\n      }\n      else if (this.state.importMode === 'style') {\n        this.props.loadStyle(this.state.style)\n        this.close()\n      }\n    } else {\n      this.setState({message: 'No valid file selected'})\n    }\n  }\n\n  load = () => {\n    this.loadJson()\n  }\n\n  render() {\n    return (\n      <ReactModal\n        isOpen={this.props.isOpen}\n        onRequestClose={this.close}\n        style={{\n          content: {\n            //background: 'none',\n            top: '0',\n            bottom: '0',\n            left: '0',\n            right: '0',\n            borderRadius: 0,\n            //margin: '5mm',\n            padding: '5mm',\n          },\n        }}\n      >\n        <div className={styles.Import}>\n          <div>\n            <select value={this.state.importMode} onChange={this.setImportMode}>\n              <option value=\"new\">Import as new assignment</option>\n              <option value=\"append-end\">Import questions only (add to end)</option>\n              <option value=\"append-start\">Import questions only (add to beginning)</option>\n              <option value=\"style\">Import style only</option>\n            </select>\n            <div style={{height: '5mm'}}/>\n            <button onClick={this.load} disabled={!this.canLoad()}>Import</button>\n            <button onClick={this.close}>Cancel</button>\n            <div style={{height: '5mm'}}/>\n          </div>\n          <div \n            className={this.state.dragOver \n              ? styles.ImportDragbox + ' ' + styles.ImportDragboxDragover \n              : styles.ImportDragbox\n            }\n            onDrop={this.handleDrop}\n            onDragOver={this.handleDragOver}\n            onDragEnter={this.handleDragEnter}\n            onDragLeave={this.handleDragLeave}\n            //onClick={this.close}\n          >\n\n              <span style={{\n                fontSize: '2em', \n                fontWeight: 'bold', \n              }}>Drop File Here</span>\n              <div style={{height: '1em'}}/>\n              <span>{this.state.filename}</span>\n              <div style={{height: '1em'}}/>\n              <span style={{color: 'red', fontWeight: 'bold', fontSize: '1.5em'}}>{this.state.message || ''}</span>\n              <div style={{height: '1em'}}/>\n\n          </div>\n        </div>\n      </ReactModal>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  fixPagination: () => dispatch(fixPagination()),\n  loadDocument: doc => dispatch(loadDocument(doc)),\n  loadStyle: style => dispatch(loadStyle(style)),\n  appendContent: append => dispatch(appendContent(append)),\n})\n\nexport default connect(null, mapDispatchToProps)(ImportModal)","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { AddFontPopup } from '../../Modals'\nimport { setDocumentFontFamily } from '../../../actions/style'\n\nconst DefaultFonts = [\n  /*\n  'Alegreya',\n  'Alegreya Sans',\n  'Arima Madurai',\n  'BioRhyme',\n  'EB Garamond',\n  'Fira Sans',\n  //'Gentium Basic',\n  //'Handlee',\n  'IBM Plex Sans',\n  'IBM Plex Serif',\n  //'Inconsolata',\n  //'Jura',\n  'Lora',\n  //'Merriweather',\n  //'Noticia Text',\n  //'Noto Sans',\n  'Noto Serif',\n  'Old Standard TT',\n  'Raleway',\n  'Roboto',\n  'Roboto Slab',\n  'Signika',\n  'Source Serif Pro',\n  'Ubuntu',\n  */\n]\n\nconst BrowserFonts = [\n  'sans-serif',\n  'serif',\n  '__CUSTOM__',\n]\n\nconst fontLabels = {\n  '__CUSTOM__': 'other',\n  'cmu_bright': 'CMU Bright',\n  'cmu_concrete': 'CMU Concrete',\n  'cmu_sansserif': 'CMU Sans',\n  'cmu_serif': 'CMU Serif',\n  'katex_sansserif': 'KaTeX Sans',\n  'katex_main': 'KaTeX Serif',\n  'sans-serif': 'sans-serif (browser)',\n  'serif': 'serif (browser)'\n}\n\nfunction fontSort(a, b) {\n  const aName = (fontLabels[a] || a).toUpperCase()\n  const bName = (fontLabels[b] || b).toUpperCase()\n  if (aName < bName) { return -1 }\n  if (aName > bName) { return 1}\n  return 0\n}\n\nfunction renderFontOption(family) {\n  if (family) {\n    const label = fontLabels[family] || family\n    return (\n      <option key={`font-${family}`}\n        value={family}\n        title={family === '__CUSTOM__' ? 'Choose a font not on this list' : ''}\n        >{label}</option>\n    )\n  }\n  return <option key={0} value=\"0\" disabled={true}>---</option>\n}\n\n\n//////////////////////////////\n//\n// COMPONENT\n//\n////////////////////////////\n\n\nclass FontFamilySelect extends React.Component {\n  static propTypes = {\n    current: PropTypes.string,\n    localFonts: PropTypes.array.isRequired,\n    setDocumentFontFamily: PropTypes.func.isRequired,\n  }\n\n  static defaultProps = {\n    localFonts: [],\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      modal: 'none',\n    }\n  }\n\n  openFontInput = () => this.setState({modal: 'AddFont'})\n  closeModal = () => this.setState({modal: 'none'})\n\n  fontList = () => {\n    const result = [\n      ...[\n        ...DefaultFonts, \n        ...this.props.localFonts\n      ].sort(fontSort), \n      ...BrowserFonts,\n      \n    ]\n    return result\n  }\n\n  setFontFamily(fontFamily) {\n    this.props.setDocumentFontFamily(fontFamily)\n  }\n\n  onChange = (evt) => {\n    const value = evt.target.value\n    if (value === '__CUSTOM__') {\n      this.openFontInput()\n    } else {\n      this.setFontFamily(value)\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <select\n          value={this.props.current}\n          onChange={this.onChange}\n          placeholder=\"Select Font\"\n        >\n          {this.fontList().map((f) => renderFontOption(f))}\n        </select>\n        <AddFontPopup isOpen={this.state.modal === 'AddFont'} onRequestClose={this.closeModal} />\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.style.fontFamily,\n  localFonts: [...state.config.localFonts],\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setDocumentFontFamily: (family) => dispatch(setDocumentFontFamily(family)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontFamilySelect)","import React from 'react'\nimport { connect } from 'react-redux'\nimport FontFamilyInput from './FontFamilyInput'\nimport FontFamilySelect from './FontFamilySelect'\n\nconst FontFamily = ({fontFamilyUI}) => (\n  fontFamilyUI === 'input' ? <FontFamilyInput/> : <FontFamilySelect/>\n)\n\nconst mapStateToProps = state => ({fontFamilyUI: state.config.fontFamilyUI})\n\nexport default connect(mapStateToProps)(FontFamily)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setDocumentFontSize } from '../../../actions/style'\n\n\nclass FontSizeSelect extends React.Component {\n\n  static propTypes = {\n    current: PropTypes.string.isRequired,\n    setDocumentFontSize: PropTypes.func.isRequired,\n  }\n\n  setDocFontSize(size) {\n    this.props.setDocumentFontSize(size)\n  }\n\n  onChange = (evt) => {\n    this.setDocFontSize(evt.target.value)\n  }  \n\n  renderSizeOptions() {\n    const options = [6, 7, 8, 9, 10, 11, 12]\n    return (\n      <>\n      {options.map((s) => {\n        const size = `${s}pt`\n        return (\n          <option \n            value={size}\n            key={s}\n          >{size}</option>\n        )\n      })}\n      </>\n    )\n  }\n\n  render() {\n    return (\n      <>\n        <select \n          value={this.props.current}\n          onChange={this.onChange}\n        >\n          {this.renderSizeOptions()}\n        </select>\n      </>\n    )\n  }\n}\n\n\nconst mapStateToProps = state => ({\n  current: state.style.fontSize,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setDocumentFontSize: (size) => dispatch(setDocumentFontSize(size)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontSizeSelect)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport WebFont from 'webfontloader'\nimport { connect } from 'react-redux'\nimport { addFontFamily } from '../../../actions/config'\nimport { setDocumentFontFamily } from '../../../actions/style'\nimport { includes } from 'lodash'\n\n\nconst googleFonts = [\n  'ABeeZee',\n  //'Alegreya',\n  //'Alegreya Sans',\n  'Arima Madurai',\n  //'BioRhyme',\n  //'Cormorant',\n  'EB Garamond',\n  'Fira Sans',\n  //'Gentium Basic',\n  //'Handlee',\n  'IBM Plex Sans',\n  'IBM Plex Serif',\n  //'Inconsolata',\n  //'Jura',\n  'Lora',\n  //'Merriweather',\n  //'Neuton',\n  'Noticia Text',\n  //'Noto Sans',\n  //'Noto Serif',\n  //'Old Standard TT',\n  //'Raleway',\n  //'Roboto',\n  'Roboto Slab',\n  //'Signika',\n  //'Source Sans Pro',\n  //'Source Serif Pro',\n  'Ubuntu',\n  //'Zilla Slab',\n].sort()\n\nconst fontStyles = {\n  default: '400,400i,700,700i',\n  //'Jura': '500,700',\n  //'Signika': '300,700',\n  //'Ubuntu': '300,300i,700,700i',\n  'BioRhyme': '300,700',\n  'Merriweather': '300,300i,700,700i',\n}\n\nclass FontLoader extends React.Component {\n  static propTypes = {\n    addFontFamily: PropTypes.func.isRequired,\n    type: PropTypes.string.isRequired,\n  }\n\n  static defaultProps = {\n    type: 'button'\n  }\n\n  constructor(props) {\n    super(props)\n    const toAdd = googleFonts.filter(f => !includes(this.props.localFonts, f))\n    \n    this.state = {\n      input: '',\n      selection: toAdd[0],\n      toAdd,\n    }\n  }\n\n  updateInput = evt => {\n    this.setState({input: evt.target.value})\n  }\n\n  updateSelection = evt => {\n    this.setState({selection: evt.target.value})\n  }\n\n  setFont(family) {\n    this.props.setDocumentFontFamily(family)\n  }\n\n  addFont(family) {\n    //this.props.setDocumentFontFamily(family)\n    this.props.addFontFamily(family)\n    const toAdd = this.state.toAdd.filter(f => f !== family)\n    this.setState({toAdd, selection: toAdd[0]})\n  }\n\n  loadFont = (family) => {\n    const request = `${family}:${fontStyles[family] || fontStyles.default}`\n    WebFont.load({\n      google: {\n        families: [request]\n      },\n      fontactive: () => this.addFont(family),\n      fontinactive: () => console.error(`Could not load font ${family}`),\n    })\n  }\n\n  loadAll = () => {\n    if (this.state.toAdd.length === 1) {\n      return null\n    }\n    WebFont.load({\n      google: {\n        families: this.state.toAdd.map(f => `${f}:${fontStyles[f] || fontStyles.default}`)\n      },\n      fontactive: (family) => this.addFont(family),\n      fontinactive: (family) => console.error(`Could not load font ${family}`),\n    })\n  }\n\n  loadInputFont = () => {\n    const family = this.state.input\n    if (family) {\n      this.loadFont(family)\n    }\n  }\n\n  loadSelectedFont = () => {\n    const family = this.state.selection\n    if (family) {\n      if (family === '__LOAD_ALL_WEB_FONTS__') {\n        this.loadAll()\n      } else {\n        this.loadFont(family)\n      }\n    }\n  }\n\n  renderButton() {\n    return (\n      <button onClick={this.loadAll}\n      >{this.props.children}</button>\n    )\n  }\n\n  renderInput() {\n    return (\n      <>\n      <input type=\"text\" \n        onChange={this.updateInput} \n        value={this.state.input}\n        placeholder=\"Enter Font Name\"\n        \n      ></input>\n      <button onClick={this.loadInputFont}\n        title=\"Load from Google Fonts\"\n      >{this.props.children}</button>\n      </>\n    )\n  }\n\n  renderSelect() {\n    return (\n      <>\n      <select \n        value={this.state.selection}\n        onChange={this.updateSelection}\n      >\n        {this.state.toAdd.map(f => <option key={`ff-${f}`} value={f}>{f}</option>)}\n        <option value=\"__LOAD_ALL_WEB_FONTS__\">Load All Web Fonts</option>\n      </select>\n      <button onClick={this.loadSelectedFont}>Load</button>\n      </>\n    )\n  }\n\n  render() {\n    if (this.props.type === 'button') {\n      return this.renderButton()\n    }\n    if (this.props.type === 'input') {\n      return this.renderInput()\n    }\n    if (this.props.type === 'select') {\n      return this.renderSelect()\n    }\n  }\n}\n\nconst mapStateToProps = state => ({\n  localFonts: state.config.localFonts,\n})\nconst mapDispatchToProps = dispatch => ({\n  addFontFamily: f => dispatch(addFontFamily(f)),\n  setDocumentFontFamily: f => dispatch(setDocumentFontFamily(f)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontLoader)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setMathFontSize, setMathFontWeight, setMathFontFamily } from '../../../actions/style'\n\nclass MathFontSettings extends React.Component {\n  static propTypes = {\n    currentSize: PropTypes.string,\n    currentWeight: PropTypes.string,\n    currentFamily: PropTypes.string,\n    setMathFontSize: PropTypes.func.isRequired,\n    setMathFontWeight: PropTypes.func.isRequired,\n    setMathFontFamily: PropTypes.func.isRequired,\n  }\n\n  setSize(size) {\n    this.props.setMathFontSize(size)\n  }\n\n  setWeight(weight) {\n    this.props.setMathFontWeight(weight)\n  }\n  setFamily(family) {\n    this.props.setMathFontFamily(family)\n  }\n\n  onChangeSize = evt => {\n    this.setSize(evt.target.value + 'em')\n  }\n\n  onChangeWeight = evt => {\n    if (evt.target.checked) {\n      this.setWeight('bold')\n    } else {\n      this.setWeight('normal')\n    }\n  }\n\n  onChangeFamily = evt => {\n    this.setFamily(evt.target.value)\n  }\n\n  render() {\n    return (\n      <>\n        <span>Font: </span>\n        <select\n          onChange={this.onChangeFamily}\n          value={this.props.currentFamily}\n        >\n          <option value=\"__DEFAULT__\">Default (KaTeX)</option>\n          <option value=\"__MATCH__\">Match Document Font</option>\n        </select>\n        <br/>\n        <span>Relative Size:</span>\n        <input\n          type=\"number\"\n          onChange={this.onChangeSize}\n          value={this.props.currentSize.slice(0,-2)}\n          min=\"0.7\"\n          max=\"2.0\"\n          step=\"0.1\"/>\n        <br/>\n        <label htmlFor=\"math-font-bold\">Bold:</label>\n        <input id=\"math-font-bold\"\n          ref={this.bold} \n          onChange={this.onChangeWeight}\n          type=\"checkbox\"\n          checked={this.props.currentWeight === 'bold'}\n        />\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  currentSize: state.style.mathFontSize,\n  currentWeight: state.style.mathFontWeight,\n  currentFamily: state.style.mathFontFamily,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setMathFontFamily: (family) => dispatch(setMathFontFamily(family)),\n  setMathFontSize: (size) => dispatch(setMathFontSize(size)),\n  setMathFontWeight: (weight) => dispatch(setMathFontWeight(weight)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MathFontSettings)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { RenderJson } from '../../../renderJson'\n\n\nconst tabsize = 2;\n\nfunction onKeyDown(evt) {\n  if (evt.keyCode === 9) { // handle tab\n    let target = evt.target;\n    const start = target.selectionStart;\n    const end = target.selectionEnd;\n    const value = target.value;\n    target.value = value.substring(0,start) + Array(tabsize).fill(' ').join('') + value.substring(end);\n    target.selectionStart = start + tabsize;\n    target.selectionEnd = end + tabsize;\n    evt.preventDefault();\n  } else if (evt.keyCode === 8) { // handle backspace\n    let target = evt.target;\n    const start = target.selectionStart;\n    if (start === target.selectionEnd) {\n      const value = target.value;\n      if (value.substring(start-tabsize, start) === Array(tabsize).fill(' ').join('')) {\n        target.value = value.substring(0,start-tabsize) + value.substring(start);\n        target.selectionStart = start - tabsize;\n        target.selectionEnd = start - tabsize;\n        evt.preventDefault();\n      }\n    }\n  }\n}\n\nclass TextPreview extends React.Component {\n  static propTypes = {\n    defaultValue: PropTypes.string,\n    renderType: PropTypes.string.isRequired\n  }\n\n  static defaultProps = {\n    renderType: 'text',\n    wrapperElement: 'div',\n  }\n\n  constructor(props) {\n    super(props)\n    const style = this.props.style || {}\n    this.inputStyle = style.input || {}\n    this.outputStyle = style.output || {}\n    this.input = React.createRef()\n    this.state = { text: props.defaultValue || '' }\n  }\n\n  updatePreview = (evt) => {\n    this.setState({ text: evt.target.value })\n  }\n\n  renderPreview() {\n    if (this.props.renderType === 'text') {\n      return this.state.text.split('\\n\\n').map((t,i) => (\n        <RenderJson key={i} json={['Text', t]} />\n      ))\n    } else if (this.props.renderType === 'json') {\n      try {\n        const json = JSON.parse(this.state.text)\n        return <RenderJson json={json} />\n      } catch(e) {\n        return \"Failed to render\"\n      }\n    }\n  }\n\n  render() {\n    return (\n      <>\n      <this.props.wrapperElement className='text-preview-input' >\n        <textarea \n          style={this.inputStyle}\n          onChange={this.updatePreview}\n          onKeyDown={onKeyDown}\n          value={this.state.text}\n        />\n      </this.props.wrapperElement>\n      <this.props.wrapperElement className='text-preview-output' >\n        <div className='document' style={this.outputStyle}>\n          {this.renderPreview()}\n        </div>\n      </this.props.wrapperElement>\n      </>\n    )\n  }\n}\n\nexport default TextPreview","import AddLocalFont from './AddLocalFont'\nimport FontFamilyUI from './FontFamilyUI'\nimport FontFamily from './FontFamily'\nimport FontSize from './FontSize'\nimport FontSettings from './FontSettings'\nimport TextPreview from './TextPreview'\n\nexport {\n  FontFamily,\n  FontSize,\n  AddLocalFont,\n  FontFamilyUI,\n  FontSettings,\n  TextPreview\n}\n\nexport default FontSettings","import React from 'react'\nimport FontFamily from './FontFamily'\nimport FontLoader from './FontLoader'\nimport MathFontSettings from './MathFontSettings'\nimport FontFamilyUI from './FontFamilyUI'\nimport TextPreview from './TextPreview'\n\nconst previewtext = `To solve an equation of the form $$ax^2 + bx + c = 0$$, use the *quadratic formula*:\n\n$$$x = \\\\frac{-b \\\\pm \\\\sqrt{b^2 - 4ac}}{2a}$$$\n\nThe angles of $$\\\\triangle{ABC}$$ add to $$180\\\\degree$$.\n\nThe **volume** of a sphere is $$\\\\frac{4}{3}\\\\pi r^3$$.\n\n***Remember*** that $$e^{i\\\\theta} = \\\\cos\\\\theta + i\\\\sin\\\\theta$$.\n\nIt can be difficult to distinguish between J I l 1.`\n\n\nconst FontSettings = () => {\n  return (\n    <>\n      <h4>Document Font</h4>\n      <div>\n        Font Selection Method: <FontFamilyUI />\n      </div>\n      <div>\n        Font: <FontFamily/> \n      </div>\n      <h4>Web Fonts</h4>\n      <div>\n        <FontLoader type=\"input\">Load</FontLoader>\n        <br/>\n        <FontLoader type=\"button\">Load Suggested Fonts</FontLoader>\n      </div>\n      <h4>Math Font</h4>\n      <div style={{justifyItems: 'right'}}>\n        <MathFontSettings />\n      </div>\n      <h4>Preview</h4>\n      <div style={{display: 'flex', flexDirection: 'row', '--doc-font-size': '11pt'}}>\n        <TextPreview wrapperElement='div' defaultValue={previewtext} style={{input: {height: '110%'}, output: {height: '110%'}}}/>      \n      </div>\n    </>\n  )\n}\n\nexport default FontSettings","import React from 'react'\nimport { TextPreview } from '../Settings/Font'\nimport styles from './styles.module.css'\n\nconst latexfmt = (...a) => String.raw(...a).replace('\\\\`', '`');\n\nconst examples = [\n  'Text can be _italic_, __bold__, or ___both___.',\n  'Or, *asterisks* will **accomplish** the ***same thing***.',\n  latexfmt`f: x --> x^3^ - 3x^2^ + 9x - 8 doesn't look as nice as $$f: x \\mapsto x^3 - 3x^2 + 9x - 8$$`,\n  latexfmt`**Markdown:** a~n~ = a~n-1~ + 2n - 1 , **LaTeX:** $$a_n = a_{n-1} + 2n - 1$$`,\n  latexfmt`There are two ways to write a fraction: $$\\frac{24}{18} = {4 \\over 3}$$`,\n  latexfmt`$$V = \\frac{4}{3}\\pi r^3$$`,\n  latexfmt`Use the quadratic formula to solve for $$x$$: $$$x = { -b \\pm \\sqrt{b^2 - 4ac} \\over 2a }$$$`,\n  latexfmt`$$m\\angle{ABC} = 45\\degree$$`,\n  latexfmt`$$\\overline{AB}$$ is a line segment. $$\\overleftrightarrow{CD}$$ is a line. $$\\overrightarrow{EF}$$ is a ray.`,\n  latexfmt`Prove that $$\\triangle{ABC} \\cong \\triangle{DEF}$$.`,\n  latexfmt`Given $$\\vec{u} = \\langle 3,5 \\rangle$$ and $$\\vec{v} = \\langle -4, 9 \\rangle$$, calculate $$\\vec{u} \\cdot \\vec{v}$$.`,\n  latexfmt`Remember that $$re^{i\\theta} = r(\\cos\\theta + i\\sin\\theta)$$`,\n  latexfmt`$$$\\int_a^b f'(x)dx = f(b) - f(a)$$$`,\n  latexfmt`$$$\\sum_{n=0}^{\\infty}\\frac{f^{(n)}(a)}{n!}(x-a)^n$$$`,\n  latexfmt`$$\\lnot (p \\land q) \\iff (\\lnot p \\lor \\lnot q)$$`,\n\n  latexfmt`$$$\na_{n+1} = \\left\\{\\begin{array}{r l}\n  3a_n + 1 & \\text{if $a_n$ is odd} \\\\\n  a_n \\div 2 & \\text{if $a_n$ is even} \\\\\n\\end{array}\\right.\n$$$`,\n\n  latexfmt`$$$\n\\left[\\begin{array}{r r r}\n   1 &   4 &  -9 \\\\\n  16 & -25 &  66 \\\\\n  49 &  64 & -81 \\\\\n\\end{array}\\right]\n$$$`,\n\n  latexfmt`$$\\forall\\ \\epsilon > 0, x \\in \\mathbb{R},\\ \\exists\\ \\delta > 0 \\text{ such that } 0 < |x-c| < \\delta \\implies |f(x) - L| < \\epsilon$$`,\n\n]\n\n/*\nconst RenderExample = ({text}) => {\n  return (\n    <>\n    <pre style={{\n      backgroundColor: 'rgba(255,255,200,0.5)',\n      border: '1px solid black',\n      padding: '0.5rem',\n      overflowX: 'scroll',\n    }}>{text}</pre>\n    <span className='document' \n      style={{\n      paddingLeft: '0.5rem',\n      fontSize: '1em',\n    }}>\n      <RenderElement content={{type: 'text', data: text}}/>\n    </span>\n    </>\n  )\n}\n*/\n\nconst RenderExample = ({text}) => (\n  <tr>\n    <TextPreview wrapperElement='td' defaultValue={text} />\n  </tr>\n)\n\nconst LatexExamples = (props) => {\n  return (\n    <div style={{padding: '3mm 0 3mm 0'}}>\n    <div>\n      <span>Examples:</span>\n      <button onClick={props.onRequestClose}>Close</button>\n    </div>\n    <table className={styles.LatexExamples}>\n      <tbody>\n      {examples.map((s, i) => (\n          <RenderExample key={`render-example-${i}`} text={s} />\n      ))}\n      </tbody>\n    </table>\n    <div>\n      <button onClick={props.onRequestClose}>Close</button>\n    </div>\n    </div>\n  )\n}\n\nexport default LatexExamples","import React from 'react'\nimport { RenderJson } from '../../renderJson'\nimport styles from './styles.module.css'\nimport math from 'mathjs'\n\n\nconst round = function(v, n) {\n  const d = Math.pow(10,n)\n  return Math.floor(d*v) / d\n}\n\nfunction calcParametric(x, y, domain, step) {\n  const f = (t) => ({x: round(x(t), 6), y: round(y(t), 6)})\n  let paths = []\n  let points = []\n  let t = domain[0]\n  while (t < domain[1]) {\n    try {\n      const pt = f(t)\n      if (points.length > 0 && Math.abs(pt.y - points[points.length-1].y) > 100) {\n        paths.push(points)\n        points = [pt]\n      } else {\n        points.push(pt)\n      }\n    } catch(e) {\n      if (points.length > 0) {\n        paths.push(points)\n        points = []\n      }\n    }\n    t += step\n  }\n  try {\n    points.push(f(domain[1]))\n  } catch(e) {}\n  if (points.length > 0) paths.push(points)\n  return paths\n}\n\nfunction parseFunction(str) {\n  try {\n    const nodes = math.parse(str)\n    const func = nodes.compile()\n    return scope => func.eval(scope)\n  } catch(e) {\n    console.error(e)\n  }\n}\n\n\n\nclass GraphMaker extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      mode: 'standard',\n      standard: 'x',\n      inverse: 'y',\n      parametricX: 't',\n      parametricY: 't',\n      x0: -10,\n      x1: 10,\n      y0: -10,\n      y1: 10,\n      t0: -10,\n      t1: 10,\n      step: 0.1,\n      height: 1.5,\n      autoDomain: 'auto',\n      autoSize: 'auto',\n    }\n  }\n\n  updateMode = evt => this.setState({mode: evt.target.value})\n  updateStandard = evt => this.setState({standard: evt.target.value})\n  updateInverse = evt => this.setState({inverse: evt.target.value})\n  updateParametricX = evt => this.setState({parametricX: evt.target.value})\n  updateParametricY = evt => this.setState({parametricY: evt.target.value})\n  updateX0 = evt => this.setState({x0: evt.target.value})\n  updateX1 = evt => this.setState({x1: evt.target.value})\n  updateY0 = evt => this.setState({y0: evt.target.value})\n  updateY1 = evt => this.setState({y1: evt.target.value})\n  updateT0 = evt => this.setState({t0: evt.target.value})\n  updateT1 = evt => this.setState({t1: evt.target.value})\n  updateStep = evt => this.setState({step: evt.target.value})\n  updateHeight = evt => this.setState({height: evt.target.value})\n  updateAutoDomain = evt => this.setState({autoDomain: evt.target.value})\n  updateAutoSize = evt => this.setState({autoSize: evt.target.value})\n\n  renderMode() {\n    return (\n      <select value={this.state.mode}\n        onChange={this.updateMode}\n      >\n        <option value='standard' title=\"y is a function of x\">Standard</option>\n        <option value='inverse' title=\"x is a function of y\">Inverse</option>\n        <option value='parametric' title=\"x and y are functions of t\">Parametric</option>\n      </select>\n    )\n  }\n\n  renderGridInputs() {\n    return (\n      <>\n      <table>\n        <tbody>\n          <tr>\n            <th /><th>Min</th><th>Max</th>\n          </tr>\n          <tr>\n            <td>x</td>\n            <td><input type=\"number\" value={this.state.x0} onChange={this.updateX0} /></td>\n            <td><input type=\"number\" value={this.state.x1} onChange={this.updateX1} /></td>\n          </tr>\n          <tr>\n            <td>y</td>\n            <td><input type=\"number\" value={this.state.y0} onChange={this.updateY0} /></td>\n            <td><input type=\"number\" value={this.state.y1} onChange={this.updateY1} /></td>\n          </tr>\n        </tbody>\n      </table>\n      </>\n    )\n  }\n\n  renderInputs() {\n    if (this.state.mode === 'standard') {\n      return (\n        <table>\n          <tbody>\n            <tr>\n              <td>y=</td>\n              <td><textarea value={this.state.standard} onChange={this.updateStandard}/></td> \n            </tr>\n          </tbody>\n        </table>\n      )\n    }\n    if (this.state.mode === 'inverse') {\n      return (\n        <table>\n          <tbody>\n            <tr>\n              <td>x=</td>\n              <td><textarea value={this.state.inverse} onChange={this.updateInverse}/></td> \n            </tr>\n          </tbody>\n        </table>\n      )\n    }\n    if (this.state.mode === 'parametric') {\n      return (\n        <table>\n          <tbody>\n            <tr>\n              <td>x=</td>\n              <td><textarea value={this.state.parametricX} onChange={this.updateParametricX}/></td>\n            </tr>\n            <tr>\n              <td>y=</td>\n              <td><textarea value={this.state.parametricY} onChange={this.updateParametricY}/></td>\n            </tr>\n          </tbody>\n        </table>\n      )\n    }\n  }\n\n\n  renderDomainInput() {\n    return (\n      <>\n      Step:\n      <input type=\"number\" \n        step={0.01}\n        value={this.state.step} \n        onChange={this.updateStep}\n        min={0}\n      /><br/>\n        Domain: \n        {this.state.mode !== 'parametric' ? (\n          <select value={this.state.autoDomain} onChange={this.updateAutoDomain}>\n            <option value='auto'>Auto</option>\n            <option value='custom'>Custom</option>\n          </select>\n        ) : <br/>}\n        {(this.state.autoDomain === 'custom' || this.state.mode === 'parametric') ? (\n          <div>\n          <input type=\"number\" value={this.state.t0} onChange={this.updateT0} />\n          to \n          <input type=\"number\" value={this.state.t1} onChange={this.updateT1} />\n          </div>\n        ) : null }        \n      </>\n    )\n  }\n\n  renderHeightInput() {\n    return (\n      <>\n      Height:\n      <select value={this.state.autoSize} onChange={this.updateAutoSize}>\n        <option value='auto'>Default</option>\n        <option value='custom'>Custom</option>\n      </select>\n      {this.state.autoSize === 'custom' ? (\n        <>\n          <br/>\n          Inches:\n          <input type=\"number\"\n            step={0.1}\n            value={this.state.height}\n            onChange={this.updateHeight}\n            min={0}\n          />\n        </>\n      ) : null}\n      </>\n    )\n  }\n\n  graphSize() {\n    return {\n      span: [\n        +this.state.x0, \n        +this.state.y0, \n        +this.state.x1, \n        +this.state.y1\n      ],\n    }\n  }\n\n  getDomain() {\n    if (this.state.mode === 'parametric' || this.state.autoDomain === 'custom') {\n      return [+this.state.t0, +this.state.t1]\n    }\n    if (this.state.mode === 'standard') {\n      return [+this.state.x0, +this.state.x1]\n    }\n    if (this.state.mode === 'inverse') {\n      return [+this.state.y0, +this.state.y1]\n    }\n  }\n\n  getFunction() {\n    const step = this.state.step > 0 ? +this.state.step : 0.002\n    const domain = this.getDomain()\n    switch(this.state.mode) {\n      case 'standard':\n        const ymap = parseFunction(this.state.standard)\n        if (ymap) {\n          const paths = calcParametric(t=>t, x=>ymap({x}), domain, step)\n          return paths.map(p => ['Path', {points: p}])\n        }\n        return null\n\n      case 'inverse':\n        const xmap = parseFunction(this.state.inverse)\n        if (xmap) {\n          const paths = calcParametric(y=>xmap({y}), t=>t, domain, step)\n          return paths.map(p => ['Path', {points: p}])\n        }\n        return null\n      case 'parametric':\n        const xpmap = parseFunction(this.state.parametricX)\n        const ypmap = parseFunction(this.state.parametricY)\n        if (xpmap && ypmap) {\n          const paths = calcParametric(t=>xpmap({t}), t=>ypmap({t}), domain, step)\n          return paths.map(p => ['Path', {points: p}])\n        }\n        return null\n      default:\n        return null\n    }\n  }\n\n  getData() {\n    let props = {\n      ...this.graphSize(), \n      autogrid: true,\n    }\n    if (this.state.autoSize === 'custom') {\n      props.height = this.state.height + 'in'\n    } else {\n      props.height = '2in'\n    }\n    const paths = this.getFunction()\n    if (paths) {\n      return ['CoordinatePlane', props, ...paths]\n    }\n    return ['CoordinatePlane', props]\n  }\n\n  onSubmit = () => {\n    this.props.onSubmit(this.getData())\n    this.props.onRequestClose()\n  }\n\n  render() {\n    return (\n      <div className={styles.GraphMaker}>\n        <div className={styles.GraphMakerHeading}>\n          <button onClick={this.onSubmit}>Apply</button>\n          <button onClick={this.props.onRequestClose}>Cancel</button>\n        </div>\n        <div className={styles.GraphMakerBody}>\n          <div className={styles.GraphMakerInput}>\n            <div style={{margin: '3mm'}}>\n              Graphing Mode {this.renderMode()}\n              {this.renderInputs()}\n            </div>\n            <div style={{margin: '3mm'}}>\n            {this.renderDomainInput()}\n            </div>\n            <div style={{margin: '3mm'}}>\n              {this.renderGridInputs()}\n            </div>\n            <div>\n              {this.renderHeightInput()}\n            </div>\n          </div>\n          <div className={styles.GraphMakerPreview}>\n            <div className='document preview-area'>\n              <RenderJson json={this.getData()} />\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport default GraphMaker","import React from 'react'\nimport { connect } from 'react-redux'\nimport { RenderJson } from '../../renderJson'\nimport { addToDocument } from '../../actions/document'\nimport LatexExamples from './LatexExamples'\nimport GraphMaker from './GraphMaker'\nimport ReactModal from 'react-modal'\n\nconst tabsize = 2;\n\nfunction onKeyDown(evt) {\n  if (evt.keyCode === 9) { // handle tab\n    let target = evt.target;\n    const start = target.selectionStart;\n    const end = target.selectionEnd;\n    const value = target.value;\n    target.value = value.substring(0,start) + Array(tabsize).fill(' ').join('') + value.substring(end);\n    target.selectionStart = start + tabsize;\n    target.selectionEnd = end + tabsize;\n    evt.preventDefault();\n  } else if (evt.keyCode === 8) { // handle backspace\n    let target = evt.target;\n    const start = target.selectionStart;\n    if (start === target.selectionEnd) {\n      const value = target.value;\n      if (value.substring(start-tabsize, start) === Array(tabsize).fill(' ').join('')) {\n        target.value = value.substring(0,start-tabsize) + value.substring(start);\n        target.selectionStart = start - tabsize;\n        target.selectionEnd = start - tabsize;\n        evt.preventDefault();\n      }\n    }\n  }\n}\n\nconst jsonExample = `{\n  \"instructions\": \"Use the Pythagorean Theorem: $$a^2 + b^2 = c^2$$\",\n\n  \"question\": \"Which is closest to the length of $$\\\\\\\\overline{XY}$$?\",\n\n  \"answer\": {\n    \"choices\": [6, 8, 10, 12, 14],\n    \"correct\": 10\n  },\n\n  \"diagram\": [\n    \"CoordinatePlane\",\n    {\n      \"span\": \"-5,-5 5,5\", \n      \"axis\": false, \n      \"height\": \"1.5in\",\n      \"style\": \"geometry green dashed\"\n    },\n    [\n      \"Path\", \n      {\n        \"points\": \"-4,3 4,-3\", \n        \"markers\": \".-.\"\n      }\n    ],\n    [\n      \"Overlay\", \n      {\n        \"x\": -4, \n        \"y\": 3, \n        \"anchor\": \"S\"\n      }, \n      \"$$X$$\"\n    ],\n    [\n      \"Overlay\", \n      {\n        \"x\": 4, \n        \"y\": -3, \n        \"anchor\": \"N\"\n      }, \n      \"$$Y$$\"\n    ]\n  ]\n}`\n\n\nclass CustomQuestion extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      inputType: 'manual',\n      instructions: '',\n      question: '',\n      answer: '',\n      diagram: '',\n      json: '',\n      modal: 'none',\n    }\n    //this.inputType = React.createRef()\n    //this.instructions = React.createRef()\n    //this.question = React.createRef()\n    //this.answer = React.createRef()\n    //this.json = React.createRef()\n  }\n\n  openExamples = () => this.setState({ modal: 'examples' })\n  openGraphMaker = () => this.setState({modal: 'graph'})\n  closeModal = () => this.setState({ modal: 'none' })\n\n  updateInstructions = (evt) => {\n    this.setState({ instructions: evt.target.value })\n  }\n  updateQuestion = (evt) => {\n    this.setState({ question: evt.target.value })\n  }\n  updateDiagram = (diagram) => {\n    this.setState({diagram})\n  }\n  updateAnswer = (evt) => {\n    this.setState({ answer: {...this.state.answer, correct: evt.target.value }})\n  }\n  updateJSON = (evt) => {\n    this.setState({ json: evt.target.value })\n  }\n\n  updateInputType = (evt) => {\n    this.setState({inputType: evt.target.value})\n  }\n\n  getDataFromState() {\n    if (this.state.inputType === 'manual') {\n      const content = {}\n      for (const k of ['instructions', 'question', 'answer']) {\n        if (this.state[k]) {\n          content[k] = this.state[k]\n        }\n      }\n      if (this.state.diagram) {\n        content.diagram = this.state.diagram\n      }\n      return content\n    } else if (this.state.inputType === 'json') {\n      try {\n        const content = JSON.parse(this.state.json)\n        return content\n      } catch(e) {\n      }\n    }\n  }\n\n  addQuestion = () => {\n    const props = {content: this.getDataFromState()}\n    this.props.addToDocument(['NumberedQuestion', props])\n    this.props.onRequestClose()\n  }\n\n  renderInputs() {\n    if (this.state.inputType === 'manual') {\n      const inputStyle = {width:'30rem'}\n      return (\n        <div >\n          <p>\n            Tip: Text surrounded with $$ ... $$ will be treated as a math formula.\n          </p>\n          <button onClick={this.openExamples}>See Examples</button>\n          <p>Instructions:</p>\n          <textarea \n            value={this.state.instructions}\n            onChange={this.updateInstructions}\n            style={inputStyle}\n            ></textarea>\n\n          <p>Question:</p>\n          <textarea \n            value={this.state.question}\n            onChange={this.updateQuestion}\n            style={inputStyle}\n          ></textarea>\n\n          <p>Diagram:</p>\n          <button onClick={this.openGraphMaker}>Add Graph</button>\n          \n          <p>Answer:</p>\n          <textarea \n            value={this.state.answer.correct}\n            onChange={this.updateAnswer}\n            style={inputStyle}\n          ></textarea>\n        </div>\n      )\n    } else {\n      return (\n        <>\n          <button onClick={this.setJsonExample}>See example</button>\n          <br/>\n          <textarea \n            value={this.state.json}\n            onChange={this.updateJSON}\n            onKeyDown={onKeyDown}\n            spellCheck={false}\n            style={{width:'30rem', height: '18rem', fontSize: '0.9em'}}\n          />\n          <br/>\n        </>\n      )\n    }\n  }\n\n  setJsonExample = () => {\n    const json = jsonExample\n    this.setState({ json })\n  }\n\n  renderPreview() {\n    const content = this.getDataFromState()\n    const previewStyle = {\n      margin: '2mm',\n      width: 'fit-content',\n      fontSize: '1.2em',\n      minWidth: '3in',\n    }\n    const props = { content }\n    return (\n      <>\n      <p>Question</p>\n      <div className='document preview-area' style={previewStyle}>\n        {content ? <RenderJson json={['Question', props]} /> : null}\n      </div>\n      <p>Answer</p>\n      <div className='document preview-area' style={previewStyle}>\n        {content ? <RenderJson json={['AnswerKey', props]} /> : null}\n      </div>\n      </>\n    )\n  }\n\n  render() {\n    const divstyle = {\n      width: 'auto',\n      padding: '0',\n      margin: '0',\n      display: 'grid',\n      gridTemplateAreas: '\"inputs preview\"',\n      gridTemplateColumns: 'auto auto',\n    }\n    return (\n      <>\n      \n      <div style={divstyle}>\n        <div style={{gridArea: 'inputs'}}>\n          <h4 style={{gridArea: 'title'}}>Custom Question</h4>\n          <select ref={this.inputType} onChange={this.updateInputType}>\n            <option value=\"manual\">Manual</option>\n            <option value='json'>JSON</option>\n          </select>\n          {this.renderInputs()}\n          <button onClick={this.addQuestion}>Add to Assignment</button>\n        </div>\n        <div style={{gridArea: 'preview'}}>\n          <h4>Preview</h4>\n          {this.renderPreview()}\n        </div>\n      </div>\n      \n\n\n      <ReactModal isOpen={this.state.modal === 'examples'}\n        onRequestClose={this.closeModal}\n        style={{\n          content: {\n            backgroundColor: 'var(--ui-page, white)',\n            color: 'black',\n          }\n        }}\n      >\n        <LatexExamples onRequestClose={this.closeModal}/>\n      </ReactModal>\n\n      <ReactModal isOpen={this.state.modal === 'graph'}\n        onRequestClose={this.closeModal}\n      >\n        <GraphMaker onRequestClose={this.closeModal} onSubmit={this.updateDiagram}/>\n      </ReactModal>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: (q) => dispatch(addToDocument(q))\n})\n\nexport default connect(null, mapDispatchToProps)(CustomQuestion)","import { connect } from 'react-redux'\nimport CustomQuestion from './CustomQuestion'\nimport {\n  addToDocument\n} from '../../actions/document'\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: (thing) => dispatch(addToDocument(thing))\n})\n\nexport default connect(null, mapDispatchToProps)(CustomQuestion)","import React from 'react'\nimport { connect } from 'react-redux'\n\nclass CheckStateButton extends React.Component {\n\n  logState = () => {console.log(this.props.state)}\n\n  render() {\n    return <button onClick={this.logState}>{this.props.children}</button>\n  }\n}\n\nconst mapStateToProps = state => ({\n  state: state,\n})\n\nexport default connect(mapStateToProps)(CheckStateButton)","const Random = require('random-js')\n\nexport class Randomizer {\n  constructor(seed=null) {\n    this.seed = seed\n    if (seed !== null) {\n      this.engine = Random.MersenneTwister19937.seed(seed)\n    } else {\n      this.engine = Random.MersenneTwister19937.autoSeed()\n    }\n  }\n\n  reset() {\n    if (this.seed !== null) {\n      this.engine.seed(this.seed);\n    } else {\n      this.engine.autoSeed();\n    }\n  }\n\n  randint(min, max) {\n    return Random.integer(min, max)(this.engine);\n  }\n\n  real(min, max, inclusive=false) {\n    return Random.real(min, max, inclusive)(this.engine);\n  }\n\n  random(max=1.0) {\n    return this.real(0, max, false);\n  }\n\n  shuffle(array, first) {\n    if (first !== undefined) {\n      let shuffled = Random.shuffle(this.engine, array.slice(1));\n      return [...shuffled.slice(0,first), array[0], ...shuffled.slice(first)];\n    } else {\n      return Random.shuffle(this.engine, array);\n    }\n  }\n\n  shuffleRange(start, end) {\n    let range = [];\n    for (let i = start; i <= end; i++) range.push(i);\n    return this.shuffle(range);\n  }\n\n  bool() {\n    return Random.pick(this.engine, [true, false]);\n  }\n\n  choice(array) {\n    return Random.pick(this.engine, array);\n  }\n\n  sample(pop, size) {\n    return Random.sample(this.engine, pop, size);\n  }\n\n  sampleRange(start, end, size) {\n    let range = [];\n    for (let i = start; i <= end; i++) range.push(i);\n    return this.sample(range, size);\n  }\n\n  poprandom(array) {\n    const i = this.randint(0,array.length-1);\n    return array.splice(i,1)[0];\n  }\n}\n\n","//import math from 'mathjs'\nimport { Randomizer } from './tools/random_randomjs'\n\nlet randomSeedGenerator = new Randomizer()\n\nclass QGen {\n  constructor(params={}) {\n    this.params = params\n    //this.randomSeed = props.randomSeed || math.randomInt(0, math.pow(2,32))\n    this.randomSeed = params.randomSeed || randomSeedGenerator.randint(0, Math.pow(2, 32)-1)\n    this.random = new Randomizer(this.randomSeed)\n  }\n\n  static register() {\n    //let result = {name: this.name}\n    const name = this.toString().match(/ (\\w+)/)[1]\n    return {name, ...this.info}\n  }\n\n  getOptions() {\n    return this.constructor.options\n  }\n\n  _specialCaseValues(k, v) {\n    return v\n  }\n\n  _specialCaseKeys(k, v) {\n    //if (k === 'answer') return '_answer'\n    return k\n  }\n\n  setRandomSeed(seed) {\n    this.randomizer.seed(seed)\n  }\n\n  _getParams() {\n    let result = ({})\n    const defaults = this.constructor.defaultParams || {}\n    for (const k in this.constructor.params) {\n      if (this.params[k] !== undefined) {\n        result[k] = this.params[k]\n      } else if (defaults[k] !== undefined) {\n        result[k] = defaults[k]\n      }\n    }\n    return result\n  }\n\n  output() {\n    const out = this.generate(this._getParams())\n    let content = {}\n    for (const k in out) {\n      content[this._specialCaseKeys(k)] = this._specialCaseValues(k, out[k])\n    }\n    return [\n      'NumberedQuestion',\n      { content, options: this.getOptions() },\n    ]\n  }\n}\n\nexport default QGen","import QGen from './QGen'\nimport Polynomial from 'polynomial'\nimport { includes } from 'lodash'\n\nfunction lineThroughPoints(a, b) {\n  /** returns polynomial coefficients */\n  const m = (b[1] - a[1]) / (b[0] - a[0])\n  return [a[1] - m*a[0], m]\n}\n\nfunction congruentOrSupplementary() {\n  const rd = this.random;\n  \n  let [leadingCoeff1, leadingCoeff2] = rd.sampleRange(2,8,2);\n  while (Math.abs(leadingCoeff1 - leadingCoeff2) < 2) {\n    [leadingCoeff1, leadingCoeff2] = rd.sampleRange(2,8,2);\n  }\n\n  const congruentVal = rd.randint(3,12);\n  const dx = ((leadingCoeff1 % 2) === (leadingCoeff2 % 2)) ? rd.randint(4,12) : 2*rd.randint(1,6)\n  const l = (180 - leadingCoeff1*dx - leadingCoeff2*dx) / 2\n\n  const supplementaryVal = congruentVal + dx\n  const f = lineThroughPoints([congruentVal, l], [supplementaryVal, leadingCoeff1*dx+l])\n  const g = lineThroughPoints([congruentVal, l], [supplementaryVal, 180 - (f[0] + f[1]*supplementaryVal)])\n\n  return {\n    f: new Polynomial(f).toLatex(),\n    g: new Polynomial(g).toLatex(),\n    solution: {\n      congruent: congruentVal,\n      supplementary: supplementaryVal,\n    }\n  }\n}\n\nconst translate = (a, b) => [a[0] + b[0], a[1]+ b[1]]\nconst difference = (a, b) => [a[0] - b[0], a[1] - b[1]]\nconst complexMult = (a, b) => [a[0] * b[0] - a[1] * b[1], a[1] * b[0] + a[0] * b[1]]\n\nconst rotate = (pt, angle, center=[0,0]) => {\n\tconst radians = angle * Math.PI / 180\n\tconst rotator = [Math.cos(radians), Math.sin(radians)]\n\tconst recenter = difference(pt, center)\n\treturn translate(complexMult(recenter, rotator), center)\n}\n\n\n\nexport class TransversalNames extends QGen {\n\tstatic info = {\n\t\tname: 'Transversal Relations',\n\t\tdescription: 'Name the relation of two angles',\n\t}\n\n\tstatic params = {\n\t\tpossibleRelations: {\n\t\t\tlabel: 'Possible relations',\n\t\t\ttype: 'multiple-select',\n\t\t\toptions: [\n\t\t\t\t'alternate exterior',\n\t\t\t\t'alternate interior',\n\t\t\t\t//'consecutive exterior',\n\t\t\t\t'consecutive interior',\n\t\t\t\t'corresponding',\n\t\t\t\t'linear',\n\t\t\t\t'vertical', \n\t\t\t],\n\t\t}\n\t}\n\n\tstatic defaultParams = {\n\t\tpossibleRelations: {\n\t\t\t'alternate exterior': true,\n\t\t\t'alternate interior': true,\n\t\t\t'consecutive exterior': false,\n\t\t\t'consecutive interior': true,\n\t\t\t'corresponding': true,\n\t\t\t'linear': true,\n\t\t\t'vertical': true,\n\t\t}\n\t}\n\n\tgenerate(params) {\n\n\t\tconst rd = this.random\n\t\tconst possibleRelations = Object.keys(params.possibleRelations).filter(k => params.possibleRelations[k])\n\t\tconst answer = rd.choice(possibleRelations)\n\n\t\tconst angle1 = rd.randint(45, 135)\n\n\t\tconst rotateBy = rd.randint(-25,25)\n\n\t\tconst r1 = 8\n\t\tconst r2 = 5\n\t\tconst intersect1 = [-r1/2,0]\n\t\tconst pp = [r2 * Math.cos(angle1 * Math.PI / 180), r2 * Math.sin(angle1 * Math.PI / 180)]\n\t\tconst top1 = translate(intersect1, pp)\n\t\tconst bottom1 = difference(intersect1, pp)\n\n\t\tconst intersect2 = [-intersect1[0], intersect1[1]]\n\t\tconst top2 = [top1[0] + r1, top1[1]]\n\t\tconst bottom2 = [bottom1[0] + r1, bottom1[1]]\n\n\t\tconst left = [intersect1[0] - r2, intersect1[1]]\n\t\tconst right = [intersect2[0] + r2, intersect2[1]]\n\n\t\tfunction angleMark(transversal, position, linear=false) {\n\t\t\t// transversal: 1 or 2 \n\t\t\t// position: 'a', 'b', 'c', or 'd'\n\n\t\t\tconst result = linear \n\t\t\t\t? {radius: 1.8} \n\t\t\t\t: {minRadius: 1.6};\n\n\t\t\tif (transversal === 1) {\n\t\t\t\tresult.vertex = intersect1;\n\t\t\t} else {\n\t\t\t\tresult.vertex = intersect2;\n\t\t\t}\n\t\t\tif (position === 'a') {\n\t\t\t\tresult.initial = 0;\n\t\t\t\tresult.terminal = angle1;\n\t\t\t} else if (position === 'b') {\n\t\t\t\tresult.initial = angle1;\n\t\t\t\tresult.terminal = 180;\n\t\t\t} else if (position === 'c') {\n\t\t\t\tresult.initial = 180;\n\t\t\t\tresult.terminal = 180 + angle1;\n\t\t\t} else {\n\t\t\t\tresult.initial = 180 + angle1;\n\t\t\t\tresult.terminal = 360;\n\t\t\t}\n\t\t\treturn result\n\t\t}\n\n\t\tconst relations = {\n\t\t\t'alternate exterior': ['1b:2d', '1c:2a'],\n\t\t\t'alternate interior': ['1a:2c', '1d:2b'],\n\t\t\t'consecutive exterior': ['1b:2a', '1c:2d'],\n\t\t\t'consecutive interior': ['1a:2b', '1d:2c'],\n\t\t\t'corresponding': ['1a:2a', '1b:2b', '1c:2c', '1d:2d'],\n\t\t\t'linear': [\n\t\t\t\t'1a:1b', '1b:1c', '1c:1d', '1d:1a',\n\t\t\t\t'2a:2b', '2b:2c', '2c:2d', '2d:2a',\n\t\t\t],\n\t\t\t'vertical': ['1a:1c', '1b:1d', '2a:2c', '2b:2d'], \n\t\t}\n\n\t\tconst choices = (\n\t\t\tpossibleRelations.length > 5 \n\t\t\t? [answer, ...rd.sample(possibleRelations.filter(k => k != answer), 4)] \n\t\t\t: [...possibleRelations]\n\t\t)\n\t\twhile (choices.length < 5) {\n\t\t\tconst k = rd.choice(Object.keys(relations))\n\t\t\tif (!includes(choices, k)) {\n\t\t\t\tchoices.push(k)\n\t\t\t}\n\t\t}\n\n\t\tconst anglesToMark = rd.choice(relations[answer])\n\t\tconst [a1, a2] = anglesToMark.split(':')\n\n\t\tconst angleMark1 = angleMark(+a1[0], a1[1], answer === 'linear')\n\t\tconst angleMark2 = angleMark(+a2[0], a2[1], answer === 'linear')\n\t\t\n\t\tconst diagram = [\n\t\t\t'CoordinatePlane',\n\t\t\t{\n\t\t\t\tspan: [-11,-7,11,7], margin: '0mm', width: '2.5in', \n\t\t\t\tgrid: false, axis: false, style: 'geometry',\n\t\t\t},\n\t\t\t[\n\t\t\t\t'Transform', \n\t\t\t\t{type: 'rotate', a: rotateBy},\n\t\t\t\t['AngleMark', angleMark1],\n\t\t\t\t['AngleMark', angleMark2],\n\t\t\t\t['Path', {points: [left, right], markers: '<->'}],\n\t\t\t\t['Path', {points: [top1, bottom1], markers: '<->'}],\n\t\t\t\t['Path', {points: [top2, bottom2], markers: '<->'}],\n\t\t\t\t['Point', {coords: intersect1}],\n\t\t\t\t['Point', {coords: intersect2}]\n\t\t\t]\n\t\t]\n\n\n\t\treturn {\n\t\t\tinstructions: 'The indicated angles are best described as ...',\n\t\t\tdiagram: diagram,\n\t\t\tanswer: {\n\t\t\t\tcorrect: answer,\n\t\t\t\tchoices: rd.shuffle(choices),\n\t\t\t},\n\t\t\tlayout: [[['instructions', 'question', 'answer'], 'diagram', ]],\n\t\t}\n\n\t}\n}\n","import QGen from './QGen'\n\n\n\nconst scramble = function(str, digitmap, slotmap) {\n  return slotmap.map(s => digitmap[+str[s]]).join('')\n}\n\nexport class PicoFermiInstructions {\n\n  static register() {\n    return {\n      name: 'Pico-fermi instructions',\n      description: 'How to play pico-fermi'\n    }\n  }\n\n  output() {\n    return ['Text', null, [\n      'In the game _Pico Fermi_, players try to guess a secret 4-digit number.',\n      'Each of the digits can be from 0 to 9 (leading zeros are allowed,',\n      \"such as 0083). After each guess, players are given a hint. A _fermi_ (f)\",\n      'is given for each number in the guess that is in the correct position,',\n      \"and a _pico_ (p) is given for each number in the guess that is correct but\",\n      'in the wrong position. For example, if the secret number was 7751 and',\n      \"the guess was 1734, the player would be told _pico fermi_, because the\",\n      \"1 was correct but in the wrong position (_pico_), and the 7 was both\",\n      \"correct and in the correct position (_fermi_). Based on the number of\",\n      \"_picos_ and _fermis_ received after each guess, a skilled player will soon\",\n      \"narrow down the possibilities to the correct one.\",\n    ].join(' ')]\n  }\n}\n\nexport class PicoFermi extends QGen {\n  static info = {\n    name: 'Pico-fermi',\n    description: 'A logic puzzle'\n  }\n\n  static options = {\n    singleColumn: true,\n  }\n\n  generate(params) {\n    const rd = this.random\n    const template = Templates[rd.choice(Object.keys(Templates))]\n    const slotmap = rd.shuffleRange(0,3)\n    const digitmap = rd.shuffleRange(0,9)\n    const answer = scramble(template.answer, digitmap, slotmap)\n    const clues = rd.shuffle(Object.keys(template.clues)).map(c => [\n      scramble(c, digitmap, slotmap), template.clues[c]\n    ])\n\n    const puzzle = [\n      'Table', {align: 'r|l'},\n      //['TRow', {header: true, align: 'rl'}, 'Guess', 'Clue'],\n      ...clues.map((c, i) => (\n        ['TRow', {border: false}, c[0], c[1]]\n      ))\n    ]\n\n    const blank = ['EmptySpace', {width: '7mm', height: '7mm', border: 'bottom'}]\n    const gap = ['EmptySpace', {width: '2mm'}]\n\n    const instructions = [\n      'The following '\n    ].join(' ')\n\n    return {\n      instructions: 'The following game of _Pico Fermi_ has only one possible solution. What is it?',\n      question: puzzle,\n      answer: {\n        correct: answer,\n        prompt: [\n          'Container', {direction: 'row', wrap: false}, \n          blank, gap, blank, gap, blank, gap, blank\n        ],\n      },\n      layout: ['instructions', 'question', 'diagram', 'answer'],\n    }\n    \n  }\n}\n\nexport class PicoFermiSet extends QGen {\n  static info = {\n    name: 'Pico-fermi set',\n    description: 'A set of puzzles of similar difficulty'\n  }\n\n  generate(params) {\n    const rd = this.random\n    const template = Templates[rd.choice(Object.keys(Templates))]\n    \n    const versions = []\n    const answers = []\n    for (const i of [1,2,3,4,5,6,7,8,9,10]) {\n      const slotmap = rd.shuffleRange(0,3)\n      const digitmap = rd.shuffleRange(0,9)\n      const clues = rd.shuffle(Object.keys(template.clues)).map(c => [\n        scramble(c, digitmap, slotmap),\n        template.clues[c]\n      ])\n      versions.push(clues)\n      answers.push(scramble(template.answer, digitmap, slotmap))\n    }\n    \n    const answer = answers.join(', ')\n\n    const makeTable = clues => [\n      'Table', {border: false, align: 'r|l'},\n      ['TRow', {header: true, border: 'bottom'}, 'Guess', 'Clue'],\n      ...clues.map((c, i) => (\n        ['TRow', {align: 'r|l', border: false}, c[0], c[1]]\n      ))\n    ]\n    \n    const question = ['Container', {direction: 'row'}]\n    for (const v of versions) {\n      question.push(['EmptySpace', {width: '5mm'}])\n      question.push(makeTable(v))\n    }\n\n    return ({\n      instructions: [\n        'These puzzles are equivalent, but the order of their clues have',\n        'been scrambled and their digits have been remapped in order',\n        'to make them appear different.'\n      ].join(' '),\n      question, \n      answer: {\n        correct: answer,\n        prompt: null,\n      },\n      layout: ['instructions', 'diagram', 'question', 'answer'],\n    })\n  }\n}\n\n\n\nconst Templates = {\n  Easy01: {\n    \"answer\": \"1295\", \n    \"clues\": {\n      \"2637\": \"p\", \n      \"0018\": \"p\", \n      \"0123\": \"pp\", \n      \"1034\": \"f\", \n      \"3352\": \"pp\"\n    }\n  },\n\n  Easy02: {\n    \"answer\": \"6779\", \n    \"clues\": {\n      \"5704\": \"f\", \n      \"5607\": \"pp\", \n      \"5109\": \"f\", \n      \"6972\": \"pff\"\n    }\n  },\n  \n\n  Easy03: {\n    \"answer\": \"3276\", \n    \"clues\": {\n      \"1670\": \"pf\", \n      \"4567\": \"pp\", \n      \"0123\": \"pp\", \n      \"1245\": \"f\", \n      \"1376\": \"pff\"\n    }\n  },\n\n  Easy04: {\n    \"answer\": \"5132\", \n    \"clues\": {\n      \"4312\": \"ppf\", \n      \"6543\": \"pp\", \n      \"4129\": \"pf\", \n      \"4230\": \"pf\"\n    }\n  },\n\n  Easy05: {\n    \"answer\": \"3606\", \n    \"clues\": {\n      \"0660\": \"ppf\", \n      \"0386\": \"ppf\", \n      \"2030\": \"pp\"\n    }\n  },\n\n  Easy06: {\n    \"answer\": \"3423\", \n    \"clues\": {\n      \"3773\": \"ff\", \n      \"2790\": \"p\", \n      \"7243\": \"ppf\", \n      \"8467\": \"f\"\n    }\n  },\n\n  Easy07: {\n    \"answer\": \"5938\", \n    \"clues\": {\n      \"5809\": \"ppf\", \n      \"3899\": \"ppp\", \n      \"7243\": \"p\", \n      \"5593\": \"ppf\"\n    }\n  },\n\n  Hard01: {\n    \"answer\": \"7225\", \n    \"clues\": {\n      \"9120\": \"f\", \n      \"7573\": \"pf\", \n      \"2450\": \"pp\", \n      \"5320\": \"pf\", \n      \"8685\": \"f\"\n    }\n  },\n\n  Hard02: {\n    \"answer\": \"2664\", \n    \"clues\": {\n      \"4567\": \"pf\", \n      \"3210\": \"p\", \n      \"5409\": \"p\", \n      \"4608\": \"pf\", \n      \"1064\": \"ff\"\n    }\n  },\n\n  Hard03: {\n    \"answer\": \"6974\", \n    \"clues\": {\n      \"4989\": \"pf\", \n      \"2954\": \"ff\", \n      \"9724\": \"ppf\", \n      \"6139\": \"pf\", \n      \"7243\": \"pp\"\n    }\n  },\n\n  NoFour: {\n    \"answer\": \"2653\", \n    \"clues\": {\n      \"4563\": \"ppf\", \n      \"4615\": \"pf\", \n      \"4652\": \"pff\"\n    }\n  },\n\n  NoEight: {\n    \"answer\": \"2497\", \n    \"clues\": {\n      \"4786\": \"pp\", \n      \"8547\": \"pf\", \n      \"0843\": \"p\", \n      \"9289\": \"pp\", \n      \"8965\": \"p\"\n    }\n  },\n\n  AllPicos: {\n    \"answer\": \"0722\", \n    \"clues\": {\n      \"2486\": \"p\", \n      \"7867\": \"p\", \n      \"4573\": \"p\", \n      \"5608\": \"p\", \n      \"9310\": \"p\"\n    }\n  },\n\n  VeryHard: {\n    \"answer\": \"7583\", \n    \"clues\": {\n      \"9372\": \"pp\", \n      \"1047\": \"p\", \n      \"0235\": \"pp\", \n      \"3627\": \"pp\", \n      \"4753\": \"ppf\"\n    }\n  }\n}","import math from 'mathjs'\n\nexport const range = function(start, stop, inclusive=false) {\n  if (inclusive) {\n    return math.range(start, stop+1)._data\n  }\n  return math.range(start, stop)._data\n}\n\nexport const roundTo = (n, d) => {\n  const f = Math.pow(10, d)\n  return Math.round(n*f) / f\n} \n\nexport const capitalize = s => s.charAt(0).toUpperCase() + s.slice(1)\n\nexport const gcd = (a, b) => math.gcd(a, b)\n\nexport const divrem = function(n, p) {\n  let r = n\n  let d = 0\n  while (r % p === 0) {\n    r = r / p\n    d += 1\n  }\n  return [d, r]\n}\n\nexport const primeFactorization = function(n) {\n  let result = {}\n  let r = n\n  let d\n  let p = 2\n  if (r % p === 0) {\n    [d, r] = divrem(r, p)\n    result[p] = d\n  }\n  p = 3\n  if (r % p === 0) {\n    [d, r] = divrem(r, p)\n    result[p] = d\n  }\n  p = 5\n  while (p * p <= r) {\n    if (r % p === 0) {\n      [d, r] = divrem(r, p)\n      result[p] = d\n    }\n    if (r === 1) {\n      return result\n    }\n    p += 2\n    if (r % p === 0) {\n      [d, r] = divrem(r, p)\n      result[p] = d\n    }\n    if (r === 1) {\n      return result\n    }\n    p += 4\n  }\n  if (r !== 1) {\n    result[r] = 1\n  }\n  return result\n}\n\nexport const listFactors = function(n, {include1=false, includeN=false}) {\n  let result = []\n  const start = include1 ? 1 : 2\n  const stop = includeN ? n : n-1\n  for (let i = start; i <= stop; i++) {\n    if (n % i === 0) {\n      result.push(i)\n    } \n  }\n  return result\n}\n","import Polynomial from 'polynomial'\nimport fraction from 'fraction.js'\nimport { range, gcd, listFactors } from './tools/handystuff'\nimport QGen from './QGen'\nimport _ from 'lodash'\n\n\n// HANDY THINGS\n\nfunction randomPolynomialCoefficients({degree, maxCoefficient=12, terms='auto'}={}) {\n\tconst rd = this.random\n\tif (terms === 'auto') {\n\t\tterms = degree + 1\n\t}\n\tlet p = {}\n\tconst whichterms = rd.sample(range(0,degree), terms-1)\n\tp[degree] = rd.randint(1, maxCoefficient)\n\n\tfor (const d of whichterms) {\n\t\tp[d] = rd.randint(1, maxCoefficient) * rd.choice([-1,1])\n\t}\n\treturn p\n}\n\nfunction randomPolynomial(props={}) {\n\tconst p = randomPolynomialCoefficients.call(this, props)\n\treturn new Polynomial(p)\n}\n\nclass Quadratic {\n  /*\n  quadratic with integer coefficients and roots at\n  x = (a +- b*sqrt(rt))/d (if im = false)\n  or\n  x = (a +- b*sqrt(rt)*i)/d (if im = true)\n  */\n\n  constructor(a, b, d=1, rt=1, im=false) {\n    this.params = {\n      a: a, \n      b: Math.abs(b), \n      d: Math.abs(d),\n      rt: Math.abs(rt),\n      im: im || rt < 0\n    }\n    const poly = new Polynomial()\n  }\n\n  polynomial() {\n    const {a, b, d, rt, im} = this.params\n    return new Polynomial([\n      a*a + (im ?  b*b*rt : -b*b*rt),\n      -2*a*d,\n      d*d\n    ])\n  }\n\n  rootsToLatex() {\n    const {a, b, d, rt, im} = this.params\n    if (b === 0) {\n      return fraction(a,d).toLatex()\n    }\n    if (rt === 1) {\n      // rational\n      if (d === 1) {\n        if (!im) {\n          return [a + b, a - b].sort((x,y) => x-y).map(r => r.toString()).join(', ')\n        } else {\n          return `${a === 0 ? '' : fraction(a,d).toLatex()} \\\\pm ${b === d ? '' : fraction(b,d).toLatex()}i`\n        }\n      } else {\n        if (!im) {\n          return [fraction(a-b,d), fraction(a+b,d)].map(r => r.toLatex()).join(', ')\n        } else {\n          return `${a === 0 ? '' : a} \\\\pm ${b === 1 ? '' : b}i`\n        }\n      }\n    }\n    else {\n      // irrational\n      if (d === 1) {\n        return `${a === 0 ? '' : a} \\\\pm ${b === 1 ? '' : b} \\\\sqrt{${rt}}${im ? 'i' : ''}`\n      } else {\n        return `${a === 0 ? '' : fraction(a,d).toLatex()} \\\\pm ${b === d ? '' : fraction(b,d).toLatex()} \\\\sqrt{${rt}} ${im ? 'i' : ''}`\n      }\n    }\n  }\n}\n\n\n// GENERATORS\n\nexport class SolveQuadratic extends QGen {\n\tstatic info = {\n\t\tname: 'Solve Quadratic',\n\t\tdescription: 'Solve a quadratic equation'\n  }\n  \n  static params = {\n    solutionTypes: {\n      label: 'solution types',\n      type: 'multiple-select',\n      minSelections: 1,\n      options: [\n        'integer', \n        {value: 'rational', label: 'fraction'}, \n        'irrational',\n      ]\n    },\n    complexSolutions: {\n      label: 'allowed solutions',\n      type: 'multiple-select',\n      minSelections: 1,\n      options: ['real', 'imaginary']\n    },\n    givenForm: {\n      label: 'question given as',\n      type: 'multiple-select',\n      minSelections: 1,\n      options: [\n        {value: 'standard', label: 'standard form'}, \n        {value: 'oneside', label: '... = 0, not standard form'},\n        {value: 'bothsides', label: 'terms on both sides of equation'}\n      ]\n    },\n    simplifySquareRoot: {\n      label: 'square root needs to be simplified',\n      type: 'select',\n      options: ['yes', 'no', 'sometimes']\n    },\n    simplifyFraction: {\n      label: 'fraction needs to be simplified',\n      type: 'select',\n      options: ['yes', 'no', 'sometimes']\n    },\n    allowDifferenceOfSquares: {\n      label: 'allow difference of squares',\n      type: 'boolean',\n    },\n    allowDoubleRoot: {\n      label: 'allow double root',\n      type: 'boolean',\n    },\n    allowZeroRoot: {\n      label: 'allow solution of x = 0',\n      type: 'boolean',\n    }\n  }\n\n  static defaultParams = {\n    solutionTypes: {\n      integer: true, \n      rational: true, \n      irrational: true,\n    },\n    complexSolutions: {\n      real: true, \n      imaginary: true,\n    },\n    givenForm: {\n      standard: true,\n      oneside: true,\n      bothsides: true,\n    },\n    simplifySquareRoot: 'sometimes',\n    simplifyFraction: 'sometimes',\n    allowDifferenceOfSquares: true,\n    allowDoubleRoot: true,\n    allowZeroRoot: true,\n  }\n\n\tstatic options = {\n\t\tsingleColumn: true,\n\t}\n\n\tgenerate(params) {\n    const rd = this.random\n    \n    const solutionType = rd.choice(Object.keys(params.solutionTypes).filter(k => params.solutionTypes[k]))\n    const complexSolution = rd.choice(Object.keys(params.complexSolutions).filter(k => params.complexSolutions[k]))\n    const givenForm = rd.choice(Object.keys(params.givenForm).filter(k => params.givenForm[k]))\n    const simplifySquareRoot = params.simplifySquareRoot === 'sometimes'\n      ? rd.bool()\n      : {'yes': true, 'no': false}[params.simplifySquareRoot]\n    const {simplifyFraction, allowDifferenceOfSquares} = params\n    const allowDoubleRoot = solutionType === 'irrational' || complexSolution === 'imaginary' ? false : params.allowDoubleRoot\n    const allowZeroRoot = solutionType === 'irrational' || complexSolution === 'imaginary' ? false : params.allowZeroRoot\n\n    let poly, answer\n\n    if (solutionType === 'integer') {\n      let a = allowDifferenceOfSquares ? rd.randint(0,11) : rd.randint(1,11)\n      let b = allowDoubleRoot ? rd.randint(0,12-a) : rd.randint(1,12-a)\n      if (allowZeroRoot) {\n        while (a === b) {\n          a = allowDifferenceOfSquares ? rd.randint(0,11) : rd.randint(1,11)\n          b = allowDoubleRoot ? rd.randint(0,12-a) : rd.randint(1,12-a)\n        }\n      }\n      if (rd.bool()) {\n        a = -a\n      }\n      const quad = new Quadratic(a, b, 1, 1, complexSolution === 'imaginary')\n      poly = quad.polynomial()\n      answer = 'x = ' + quad.rootsToLatex()\n    }\n    else if (solutionType === 'rational') {\n      let a, b, d\n      let isValid = false\n      while (!isValid) {\n        isValid = true\n\n        d = rd.choice([2,3,4])\n        a = allowDifferenceOfSquares ? rd.randint(0,11) : rd.randint(1,11)\n        b = allowDoubleRoot ? rd.randint(0,12-a) : rd.randint(1,12-a)\n\n        if (!allowZeroRoot && a === b) {\n          isValid = false; continue;\n        }\n        if (simplifyFraction === 'yes') {\n          // ensure both fractions can't be simplified just by dividing\n          // out the GCF at the beginning\n          if (gcd(a+b, d) === gcd(a-b, d)) {\n            isValid = false; continue;\n          }\n        } else if (simplifyFraction === 'no') {\n          // ensure that neither fraction can simplify\n          if (gcd(a+b, d) !== 1 || gcd(a-b, d) !== 1) {\n            isValid = false; continue;\n          }\n        }\n      }\n\n      if (rd.bool()) {\n        a = -a\n      }\n      const quad = new Quadratic(a, b, d, 1, complexSolution === 'imaginary')\n      poly = quad.polynomial()\n      answer = 'x = ' + quad.rootsToLatex()\n    }\n    else if (solutionType === 'irrational') {\n      let a, b, d, rt\n      let isValid = false\n      while (!isValid) {\n        isValid = true\n\n        d = rd.choice([2,3,4])\n        rt = rd.choice([2,3,5,6,7,10,11])\n        b = simplifySquareRoot ? rd.randint(2,11) : 1\n        a = allowDifferenceOfSquares ? rd.randint(0,12-b) : rd.randint(1,12-b)\n\n        if (simplifyFraction === 'yes') {\n          // ensure both fractions can't be simplified just by dividing\n          // out the GCF at the beginning\n          if (gcd(a+b, d) === gcd(a-b, d)) {\n            isValid = false; continue;\n          }\n        } else if (simplifyFraction === 'no') {\n          // ensure that neither fraction can simplify\n          if (gcd(a+b, d) !== 1 || gcd(a-b, d) !== 1) {\n            isValid = false; continue;\n          }\n        }\n      }\n      const quad = new Quadratic(a, b, d, rt, complexSolution === 'imaginary')\n      poly = quad.polynomial()\n      answer = 'x = ' + quad.rootsToLatex()\n    }\n\n    let question\n\n    if (givenForm === 'standard') {\n      question = rd.bool() ? poly.toLatex() + '= 0' : '0 =' + poly.toLatex()\n    }\n    else if (givenForm === 'oneside') {\n      const deg = rd.choice([1,2])\n      const rand = randomPolynomial.call(this, {degree: deg, maxCoefficient: 7, terms: rd.choice([2, deg+1])})\n      const expr = rd.bool() \n        ? `${poly.sub(rand).toLatex()} + ${rand.toLatex()}`\n        : `${rand.mul(-1).toLatex()} + ${poly.add(rand).toLatex()}`\n      if (rd.bool()) {\n        question = expr + '= 0'\n      } else {\n        question = '0 =' + expr\n      }\n    }\n    else if (givenForm === 'bothsides') {\n      const deg = rd.choice([1,2])\n      const rand = randomPolynomial.call(this, {degree: deg, maxCoefficient: 11, terms: rd.choice([2,deg+1])})\n      let [left, right] = rd.random() < 0.5 ? [poly.add(rand), rand] : [rand, poly.add(rand)]\n      if (rd.bool()) {\n        [left, right] = [right, left]\n      }\n      question = `${left.toLatex()} = ${right.toLatex()}`\n    }\n\n\t\treturn {\n\t\t\tinstructions: 'Determine the values of $$x$$ that satisfy the equation:',\n\t\t\tquestion: '$$' + question + '$$',\n\t\t\tanswer: '$$' + answer + '$$'\n\t\t}\n\t}\n}\n\nexport class FactorQuadraticHard extends QGen {\n\tstatic info = {\n\t\tname: 'Factor Quadratic (Hard)',\n\t\tdescription: 'Factor a quadratic using AC method.'\n\t}\n\n\tstatic options = {\n\t\tsingleColumn: true,\n\t}\n\n\tgenerate(params) {\n\t\tlet rd = this.random\n\n\t\tconst a1 = rd.randint(2,5)\n\t\tconst a2 = rd.randint(2,8-a1)\n\n\t\tlet b1 = rd.randint(1,14-a2)\n\t\twhile (gcd(a1, b1) !== 1) {\n\t\t\tb1 = rd.randint(1,14-a2)\n\t\t}\n\t\tb1 *= rd.choice([-1,1])\n\n\t\t\n\t\tlet b2 = rd.randint(2, 14-a1)\n\t\twhile (gcd(a2, b2) !== 1) {\n\t\t\tb2 = rd.randint(1,14-a1)\n\t\t}\n\t\tb2 *= rd.choice([-1,1])\n\n\t\t// prevent difference of squares and perfect square\n\t\twhile (Math.abs(a1) === Math.abs(a2) && Math.abs(b1) === Math.abs(b2)) {\n\t\t\tb2 = rd.randint(2, 14-a1)\n\t\t\twhile (gcd(a2, b2) !== 1) {\n\t\t\t\tb2 = rd.randint(1,14-a1)\n\t\t\t}\n\t\t\tb2 *= rd.choice([-1,1])\n\t\t}\n\n\t\tconst p1 = new Polynomial({1: a1, 0: b1})\n\t\tconst p2 = new Polynomial({1: a2, 0: b2})\n\n\t\tconst a = a1 * a2\n\t\tconst b = a1 * b2 + a2 * b1\n\t\tconst c = b1 * b2\n\n\t\tconst poly = new Polynomial({2: a, 1: b, 0: c})\n\n\t\tconst answer = `$$(${p1.toLatex()})(${p2.toLatex()})$$`\n\n\t\treturn {\n\t\t\tinstructions: 'Rewrite as the product of linear factors:',\n\t\t\tquestion: `$$${poly.toLatex()}$$`,\n\t\t\tanswer: answer,\n\t\t}\n\t}\n}\n\n\n\nexport class RationalZeroTheorem extends QGen {\n\tstatic info = {\n\t\tname: 'Rational Zero Theorem',\n\t\tdescription: 'State possible rational zeros for a polynomial function.'\n  }\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\t\tlet primes = rd.sample([1, 2, 3, 5, 7, 11], 4)\n\t\tfor (const i in primes) {\n\t\t\tif (primes[i] === 1) {\n\t\t\t\tif (i === 0 | i === 2) {\n\t\t\t\t\tprimes[i+1] = Math.pow(primes[i+1], rd.randint(1,2))\n\t\t\t\t} else {\n\t\t\t\t\tprimes[i-1] = Math.pow(primes[i-1], rd.randint(1,2))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (const i in primes) {\n\t\t\tif (primes[i] === 2 | primes[i] === 3) {\n\t\t\t\tprimes[i] = Math.pow(primes[i], rd.randint(1,2))\n\t\t\t}\n\t\t}\n\t\tconst leading_coeff = primes[0] * primes[1]\n\t\tconst trailing_coeff = primes[2] * primes[3]\n\t\tconst degree = rd.randint(3,6)\n\t\tconst num_coeffs = rd.randint(3,degree)\n\t\tlet poly = randomPolynomialCoefficients.call(this, {degree: degree, terms: num_coeffs})\n\t\tpoly[0] = trailing_coeff\n\t\tpoly[degree] = leading_coeff\n\t\tconst f = new Polynomial(poly)\n\n\t\tconst question = '$$f(x) = ' + f.toLatex() + '$$'\n\t\t\n\t\tconst correctNumerators = listFactors(trailing_coeff, {include1: true, includeN: true})\n\t\tconst correctDenominators = listFactors(leading_coeff, {include1: true, includeN: true})\n\t\t\n\t\tconst allPossibleZeros = []\n\t\tfor (const a of correctNumerators) {\n\t\t\tfor (const b of correctDenominators) {\n\t\t\t\tallPossibleZeros.push(`${a}/${b}`)\n\t\t\t}\n\t\t}\n\n\t\tconst numCorrect = rd.choice([0,1,1,2,2,2,2,2,2,3,3,4])\n\t\tconst correctAnswers = []\n\t\twhile (correctAnswers.length < numCorrect) {\n\t\t\tconst [a, b] = [rd.choice(correctNumerators), rd.choice(correctDenominators)]\n\t\t\tconst s = `${a}/${b}`\n\t\t\tif (!_.includes(correctAnswers, s)) {\n\t\t\t\tcorrectAnswers.push(s)\n\t\t\t}\n\t\t}\n\n\t\tconst wrongAnswers = []\n\t\twhile (wrongAnswers.length < 4-numCorrect) {\n\t\t\tconst [a,b] = [rd.choice(correctDenominators), rd.choice(correctNumerators)]\n\t\t\tconst s = `${a}/${b}`\n\t\t\tif (!(s == '1/1') && !_.includes(wrongAnswers, s)) {\n\t\t\t\twrongAnswers.push(s)\n\t\t\t}\n\t\t}\n\n\t\tconst allChoices = [...correctAnswers, ...wrongAnswers]\n\t\tconst shuffled = []\n\t\tconst correctIndex = numCorrect ? [] : 4\n\t\tfor (let i = 0; i < 4; i++) {\n\t\t\tconst a = rd.poprandom(allChoices)\n\t\t\tif (_.includes(correctAnswers, a)) {\n\t\t\t\tcorrectIndex.push(i)\n\t\t\t}\n\t\t\tshuffled.push(a)\n\t\t}\n\n\t\treturn {\n\t\t\tinstructions: \"Which of the following are _possible_ zeros of the function according to the _Rational Zero Theorem_? Choose ***all*** that apply.\",\n\t\t\tquestion: question,\n\t\t\tanswer: {\n\t\t\t\tcorrect: allPossibleZeros.map(s => `$$${fraction(s).toLatex()}$$`).join(', '),\n\t\t\t\tchoices: [...shuffled.map(s => `$$\\\\displaystyle ${fraction(s).toLatex()}$$`), 'None of these'],\n\t\t\t\tcorrectIndex: correctIndex,\n\t\t\t\tlistDirection: 'horizontal',\n\t\t\t},\n      variants: {\n        freeResponse: {\n          instructions: \"List all possible rational zeros of the function (according to the _Rational Zero Theorem_).\"\n        }\n      }\n\t\t}\n\t}\n}\n\n","import Polynomial from 'polynomial'\nimport fraction from 'fraction.js'\nimport { roundTo } from './tools/handystuff'\n\nimport QGen from './QGen'\n\n\n\nclass TransformTracker {\n\t// y = a * f((x - h)/b) + k\n\tconstructor(parent) {\n\t\tthis.parent = parent\n\t\tthis.a = fraction(1)\n\t\tthis.b = fraction(1)\n\t\tthis.h = 0\n\t\tthis.k = 0\n\t}\n\n  translate(x,y) { this.h += x; this.k += y }\n  scale(x,y) { this.b = this.b.mul(x); this.a = this.a.mul(y) }\n\ttranslateX(n) { this.h += n }\n\ttranslateY(n) { this.k += n }\n\tscaleX(n) { this.b = this.b.mul(n) }\n\tscaleY(n) { this.a = this.a.mul(n) }\n\t\n\tshiftH(n) { this.translateX(n) }\n\tshiftV(n) { this.translateY(n) }\n\tstretchH(n) { this.scaleX(n) }\n\tstretchV(n) { this.scaleY(n) }\n\tcompressH(n) { this.scaleX(fraction(1,n)) }\n\tcompressV(n) { this.scaleY(fraction(1,n)) }\n\treflectH() { this.b = -this.b }\n  reflectV() { this.a = -this.a }\n  up(n) { this.translateY(n) }\n  down(n) { this.translateY(-n) }\n\n\tf() {\n\t\tconst parent = {\n\t\t\t'abs': x => Math.abs(x),\n\t\t\t'cubic': x => x*x*x,\n\t\t\t'exp2': x => Math.pow(2,x),\n\t\t\t'log2': x => Math.log2(x),\n\t\t\t'quad': x => x*x,\n\t\t\t'sqrt': x => Math.sqrt(x),\n\t\t}[this.parent]\n\t\tconst {a, b, h, k} = this\n\t\treturn x => a * parent((x - h)/b) + k \n  }\n  \n  vgTransform() {\n    return ({type: 'matrix', params: [this.b.valueOf(), 0, 0, this.a.valueOf(), this.h, this.k]})\n  }\n\n\ttoLatex() {\n\t\tPolynomial.setField('Q')\n\t\tconst {parent, a, b, h, k} = this\n\t\tconst inner = new Polynomial([fraction(-h).div(b), fraction(1).div(b)]).toLatex()\n\t\tconst kStr = k === 0 ? '' : k < 0 ? k.toString() : '+' + k.toString()\n\t\tconst aStr = a == 1 ? '' : a == -1 ? '-' : a.toString()\n\t\tif (parent === 'sqrt') {\n\t\t\treturn `${aStr}\\\\sqrt{${inner}}${kStr}`\n\t\t}\n\t\tif (parent === 'quad') {\n\t\t\tif (b == 1 && h === 0) {\n\t\t\t\treturn `${aStr}x^2${kStr}`\n\t\t\t}\n\t\t\treturn `${aStr}(${inner})^2${kStr}`\n\t\t}\n\t\tif (parent === 'cubic') {\n\t\t\tif (b == 1 && h === 0) {\n\t\t\t\treturn `${aStr}x^3${kStr}`\n\t\t\t}\n\t\t\treturn `${aStr}(${inner})^3${kStr}`\n\t\t}\n\t\tif (parent === 'abs') {\n\t\t\treturn `${aStr}|${inner}|${kStr}`\n\t\t}\n\t\tif (parent === 'exp2') {\n\t\t\tif (aStr) {\n\t\t\t\treturn `${aStr} \\\\cdot 2^{${inner}}${kStr}`\n\t\t\t}\n\t\t\treturn `${aStr}2^{${inner}}${kStr}`\n\t\t}\n\t\tif (parent === 'log2') {\n\t\t\treturn `${aStr}\\\\log_{2}(${inner})${kStr}`\n\t\t}\n\t}\n}\n\n\n\n\n\n\nexport class MatchTransformations extends QGen {\n\tstatic info = {\n\t\tname: 'Match Transformations',\n\t\tdescription: 'Match equations with graphs'\n\t}\n\n\tstatic params = {\n\t\tparents: {\n\t\t\tlabel: 'Allowed Parent Functions',\n\t\t\ttype: 'multipleselect',\n\t\t\toptions: [\n\t\t\t\t{value: 'sqrt', label: 'Square root'},\n\t\t\t\t{value: 'quad', label: 'Quadratic'},\n\t\t\t\t{value: 'abs', label: 'Absolute value'},\n\t\t\t\t{value: 'cubic', label: 'Cubic'}, // cubic is problematic because reflections are ambiguous\n\t\t\t\t{value: 'exp2', label: 'Exponential'},\n\t\t\t\t{value: 'log2', label: 'Logarithm'},\n\t\t\t],\n\t\t}\n\t}\n\n\tstatic defaultParams = {\n\t\tparents: {\n\t\t\tsqrt: true,\n\t\t\tquad: true,\n\t\t\tabs: true,\n\t\t\texp2: true,\n\t\t\tlog2: true,\n\t\t\tcubic: false,\n\t\t}\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\n\t\tconst parent = rd.choice(Object.keys(params.parents).filter(k => params.parents[k]))\n\n\t\tconst transforms = (\n\t\t\tparent === 'cubic' \n\t\t\t? ['up', 'down', 'left', 'right', 'stretchV', rd.choice(['flipLR', 'flipDown'])]\n\t\t\t: ['up', 'down', 'left', 'right', 'flipDown', 'flipLR']\n\t\t)\n\t\t\n\t\tlet eqns = []\n\t\tlet paths = []\n\n\t\tconst v = rd.randint(2,5)\n\t\tfor (const t of transforms) {\n\t\t\tconst func = new TransformTracker(parent)\n\n\t\t\tif (t === 'up') func.shiftV(v)\n\t\t\telse if (t === 'down') func.shiftV(-v)\n\t\t\telse if (t === 'left') func.shiftH(-v)\n\t\t\telse if (t === 'right') func.shiftH(v)\n\t\t\telse if (t === 'stretchV') func.stretchV(v)\n\t\t\telse if (t === 'flipDown') func.stretchV(-v)\n\t\t\telse if (t === 'stretchH') func.stretchH(v)\n\t\t\telse if (t === 'flipLR') func.compressH(-v)\n\n\t\t\tconst eqn = func.toLatex()\n      eqns.push(`$$y = ${eqn}$$`)\n\n\t\t\tconst f = func.f()\n\t\t\tconst points = []\n\t\t\tlet start, stop\n\t\t\tconst {a, b, h, k} = func\n\t\t\tif (func.parent === 'sqrt') {\n\t\t\t\t[start, stop] = b < 0 ? [-10, h*b] : [h*b, 10]\n\t\t\t}\n\t\t\telse if (func.parent === 'log2') {\n\t\t\t\tif (b < 0) {\n\t\t\t\t\t[start, stop] = [-10, h*b-0.01]\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t[start, stop] = [h*b+0.01, 10]\n\t\t\t\t\tpoints.push({x: h*b, y: -a*1000})\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t[start, stop] = [-10, 10]\n\t\t\t}\n\t\t\tlet x = start\n\t\t\twhile (x <= stop) {\n\t\t\t\tconst y = f(x)\n\t\t\t\tif (Math.abs(y) < 1000) {\n\t\t\t\t\tpoints.push({x: roundTo(x, 3), y: roundTo(y, 3)})\n\t\t\t\t}\n\t\t\t\tx += 0.2\n\t\t\t}\n\t\t\tif (func.parent === 'log2' && b < 0) {\n\t\t\t\tpoints.push({x: h*b, y: -a*1000})\n\t\t\t}\n      paths.push(points)\n\t\t}\n\n\t\tconst graphPoints = points => [\n\t\t\t'CoordinatePlane', \n\t\t\t{ span: [-7,-7,7,7], height: '1.1in'},\n\t\t\t['Path', { points }]\n\t\t]\n\n\t\tconst eqnScramble = rd.shuffleRange(0, 5)\n\t\tconst graphScramble = rd.shuffleRange(0, 5)\n\n\t\tconst letters = 'ABCDEF'\n\n\t\tconst makebox = i => [\n\t\t\t'Container', \n\t\t\t{direction: 'row', alignItems: 'center', wrap: false}, \n\t\t\tletters[i] + ')',\n\t\t\tgraphPoints(paths[graphScramble[i]])\n\t\t]\n\n\t\tconst diagrams = [\n\t\t\t'Table', {border: false},\n\t\t\t['TRow', ...[0,1,2].map(makebox)],\n\t\t\t['TRow', ...[3,4,5].map(makebox)]\n\t\t]\n\n\t\tconst eqnTable = [\n\t\t\t'Table', {border: true, align: 'c|c'},\n\t\t\t['TRow', {header: true, border: true}, 'Equation', 'Graph'],\n\t\t\t...eqnScramble.map(i => (\n\t\t\t\t['TRow', {border: true}, eqns[i], ['EmptySpace', {height: '7mm', width: '7mm'}]]\n\t\t\t))\n\t\t]\n\n\n\t\tconst answer = eqnScramble.map(i => letters[graphScramble.indexOf(i)]).join(', ')\n\n\t\treturn {\n\t\t\tinstructions: 'Fill in the table to match each equation to its graph.',\n\t\t\tdiagram: diagrams,\n\t\t\tanswer: {\n\t\t\t\tprompt: eqnTable,\n\t\t\t\tcorrect: answer,\n\t\t\t},\n\t\t}\n\n\t}\n}\n","import QGen from './QGen'\nimport fraction from 'fraction.js'\nimport math from 'mathjs'\nimport { range, roundTo } from './tools/handystuff'\nimport { includes } from 'lodash'\n\nfunction latexpifraction({n, d, s}) {\n  if (n === 0) {\n    return '0'\n  }\n  if (d < 0) {\n    return latexpifraction({n: -n, d: -d})\n  }\n  let numer\n  if (n === 1) {\n    numer = '\\\\pi'\n  } else {\n    numer = `${n}\\\\pi`\n  }\n  if (s === -1) {\n    numer = '-' + numer\n  }\n  if (d === 1) {\n    return numer\n  } else {\n    return `\\\\frac{${numer}}{${d}}`\n  }\n}\n\nconst pythagoreanTriples = [\n  [3, 4, 5],\n  [5, 12, 13],\n  [8, 15, 17],\n  [7, 24, 25],\n  [20, 21, 29],\n  [12, 35, 37],\n  [9, 40, 41],\n  [28, 45, 53],\n  [33, 56, 65],\n  [48, 55, 73],\n  [36, 77, 85],\n  [65, 72, 97],\n]\n\n\nexport class ConvertAngle extends QGen {\n  static info = {\n    name: 'Convert Angle',\n    description: 'Convert between degrees and radians'\n  }\n\n  static params = {\n    conversion: {\n      label: 'Convert from:',\n      type: 'select',\n      options: ['degrees to radians', 'radians to degrees', 'either'],\n    },\n    negative: {\n      label: 'Negative angle',\n      type: 'select',\n      options: ['yes', 'no', 'random'],\n    }\n  }\n\n  static defaultParams = {\n    conversion: 'either',\n    negative: 'random'\n  }\n\n  static options = {\n    singleColumn: true\n  }\n\n  generate(params) {\n    const rd = this.random\n    const conversion = rd.choice({\n      'degrees to radians': ['d2r'],\n      'radians to degrees': ['r2d'],\n      'either': ['d2r', 'r2d'],\n    }[params.conversion])\n    const neg = rd.choice({\n      yes: [true],\n      no: [false],\n      random: [true, false],\n    }[params.negative])\n    const rotations = rd.choice([0,1,2])\n    \n    const denom = rd.choice([5,10,10,12,12])\n    const numers = range(1, 2*denom-1, true).filter(n => math.gcd(denom, n) === 1)\n    \n    let numer = rd.choice(numers)\n    if (rotations) {\n      numer += denom * 2 * rotations\n    }\n\n    // don't freak students out with 666\n    while (denom === 10 && numer === 37) {\n      numer = rd.choice(numers)\n      if (rotations) {\n        numer += denom * 2 * rotations\n      }\n    }\n    \n    const radians = fraction(neg ? numer : -numer, denom)\n    const degrees = 180 * radians.s * radians.n / radians.d\n\n    let instructions, question, answer\n    if (conversion === 'r2d') {\n      instructions = 'Convert the angle from radians to degrees:'\n      question = `$$\\\\displaystyle ${latexpifraction(radians)}$$`\n      answer = `$$${degrees}\\\\degree$$`\n    } else {\n      instructions = 'Convert the angle from degrees to radians:'\n      question = `$$${degrees}\\\\degree$$`\n      answer = `$$${latexpifraction(radians)}$$`\n    }\n\n    return {\n      instructions,\n      question,\n      answer,\n      //layout: [['instructions', 'question'], ['answer', 'diagram']]\n    }\n\n  }\n}\n\n\nexport class IdentifyQuadrant extends QGen {\n  static info = {\n    name: 'Identify Quadrant',\n    description: 'Identify the quadrant of an angle given the sign of two trig functions'\n  }\n\n  static params = {\n    functions: {\n      label: 'Trig functions',\n      type: 'multiple-select',\n      minSelections: 2,\n      options: ['sin', 'cos', 'tan', 'csc', 'sec', 'cot'],\n    },\n    quadrant: {\n      label: 'Quadrant',\n      type: 'multiple-select',\n      minSelections: 1,\n      options: [1, 2, 3, 4],\n    }\n  }\n\n  static defaultParams = {\n    functions: {sin: true, cos: true, tan: true, csc: true, sec: true, cot: true},\n    quadrant: {1: true, 2: true, 3: true, 4: true},\n  }\n\n  static options = {\n    singleColumn: true\n  }\n\n  generate(params) {\n    const rd = this.random\n    \n    const functions = {\n      // funcs  Q1  Q2  Q3  Q4\n      sin: [[], 1,  1, -1, -1],\n      cos: [[], 1, -1, -1,  1],\n      tan: [[], 1, -1,  1, -1],\n    }\n    for (const f in params.functions) {\n      if (params.functions[f]) {\n        if (f === 'sin' || f === 'csc') {\n          functions.sin[0].push(f)\n        } else if (f === 'cos' || f === 'sec') {\n          functions.cos[0].push(f)\n        } else if (f === 'tan' || f === 'cot') {\n          functions.tan[0].push(f)\n        }\n      }\n    }\n\n    const quadrant = rd.choice(Object.keys(params.quadrant).filter(k => params.quadrant[k]))\n    const answer = {1: 'I', 2: 'II', 3: 'III', 4: 'IV'}[quadrant]\n    const ineq = {[-1]: '< 0', 1: '> 0'}\n    const angle = rd.choice(['theta', 'omega', 'alpha', 'beta'])\n\n    const funcChoices = Object.keys(functions).filter(f => functions[f][0].length > 0)\n    const funcKeys = rd.sample(funcChoices, 2)\n    const funcs = funcKeys.map(f => rd.choice(functions[f][0]))\n  \n    const clue = i => `\\\\${funcs[i]}\\\\${angle} ${ineq[functions[funcKeys[i]][quadrant]]}`\n    const question = `If $$${clue(0)}$$ and $$${clue(1)}$$, which quadrant is $$\\\\${angle}$$ in?`\n\n    return {\n      question,\n      answer: {\n        correct: answer,\n        choices: ['I', 'II', 'III', 'IV'],\n        correctIndex: quadrant-1,\n        listDirection: 'horizontal',\n      }\n    }\n  }\n}\n\nexport class SolveRightTriangle extends QGen {\n  static info = {\n    name: 'Solve Right Triangle',\n    description: 'Find all missing side and angle measures for a right triangle'\n  }\n\n  static params = {\n    given: {\n      label: 'Givens',\n      type: 'multiple-select',\n      minSelections: 1,\n      options: [\n        {value: 'HL', label: 'Hypotenuse-Leg'},\n        {value: 'LL', label: 'Leg-Leg'},\n        {value: 'HA', label: 'Hypotenuse-Angle'}, \n        {value: 'LA', label: 'Leg-Angle'},\n      ],\n    },\n  }\n\n  static defaultParams = {\n    given: {HL: true, LL: true, HA: true, 'LA': true}\n  }\n\n  generate(params) {\n    const rd = this.random\n    const given = rd.choice(Object.keys(params.given).filter(k => params.given[k]))\n    \n    // Determine givens\n    let givens\n    if (given === 'HL') {\n      if (rd.bool()) {\n        givens = ['a', 'c']\n      } else {\n        givens = ['b', 'c']\n      }\n    }\n\n    else if (given === 'LL') {\n      givens = ['a', 'b']\n    }\n\n    else if (given === 'HA') {\n      if (rd.bool()) {\n        givens = ['c', 'A']\n      } else {\n        givens = ['c', 'B']\n      }\n    }\n\n    else if (given === 'LA') {\n      if (rd.bool()) {\n        if (rd.bool()) {\n          givens = ['a', 'A']\n        } else {\n          givens = ['b', 'B']\n        }\n      } else {\n        if (rd.bool()) {\n          givens = ['a', 'B']\n        } else {\n          givens = ['b', 'A']\n        }\n      }\n    }\n\n    // Generate triangle\n    const C = 90\n    let a, b, c, A, B\n\n    // Use integer angles\n    A = rd.randint(8, 42)\n    while (includes([30, 45, 60, 69, 21], A)) {\n      A = rd.randint(8, 42)\n    }\n    B = 90 - A\n    if (rd.bool()) {\n      A = B\n      B = 90 - A\n    }\n\n    c = rd.randint(8, 90)\n    a = Math.sin(A * Math.PI / 180) * c\n    b = Math.sin(B * Math.PI / 180) * c\n\n\n    // Make sure all givens are integers\n    if (given === 'HA') {\n      c = Math.ceil(c)\n      a = Math.sin(A * Math.PI / 180) * c\n      b = Math.sin(B * Math.PI / 180) * c\n    } else if (given === 'LA') {\n      if (includes(givens, 'a')) {\n        a = Math.ceil(a)\n        c = a / Math.sin(A * Math.PI / 180)\n        b = a / Math.tan(A * Math.PI / 180)\n      } else {\n        b = Math.ceil(a)\n        c = b / Math.sin(B * Math.PI / 180)\n        a = b / Math.tan(B * Math.PI / 180)\n      }\n    } else if (given === 'LL') {\n      a = Math.round(a)\n      b = Math.round(b)\n      c = Math.sqrt(a*a + b*b)\n      A = Math.atan(b/a) * 180 / Math.PI\n      B = 90 - A\n    } else if (given === 'HL') {\n      if (includes(givens, 'a')) {\n        a = Math.floor(a)\n        c = Math.ceil(c)\n        b = Math.sqrt(c*c - a*a)\n      } else if (includes(givens, 'b')) {\n        b = Math.floor(b)\n        c = Math.ceil(c)\n        a = Math.sqrt(c*c - b*b)\n      }\n      A = Math.atan(b/a) * 180 / Math.PI\n      B = 90 - A\n    }\n\n    //const units = rd.choice(['cm', 'km', 'in', 'ft', 'm'])\n    \n    const values = {\n      a: roundTo(a, 2),\n      b: roundTo(b, 2),\n      c: roundTo(c, 2),\n      A: roundTo(A, 1) + '\\\\degree',\n      B: roundTo(B, 1) + '\\\\degree',\n      C: roundTo(C, 1) + '\\\\degree'\n    }\n    \n\n    const labels = {C: 'C'}\n\n    let giveninfo = []\n    let answer = []\n    let answerblanks = []\n    for (const k of ['A', 'B', 'C']) {\n      if (k === 'C' || includes(givens, k)) {\n        giveninfo.push(`$$m\\\\angle{${k}} = ${values[k]}$$`)\n        labels[k] = '$$' + values[k] + '$$'\n      } else {\n        answerblanks.push(`$$m\\\\angle{${k}}$$`)\n        answer.push(`$$${k} = ${values[k]}$$`)\n        labels[k] = '$$?$$'\n      }\n    }\n    for (const k of ['a', 'b', 'c']) {\n      if (includes(givens, k)) {\n        giveninfo.push(`$$${k} = ${values[k]}$$`)\n        labels[k] = '$$' + values[k] + '$$'\n      } else {\n        answerblanks.push(`length $$${k}$$`)\n        answer.push(`$$${k} = ${values[k]}$$`)\n        labels[k] = '$$' + k + '$$'\n      }\n    }\n\n    const question = [\n      `Given that ${giveninfo.slice(0,-1).join(', ')} and ${giveninfo[giveninfo.length-1]},`,\n      'determine the measure of all other sides and angles for triangle $${ABC}$$.',\n      'The diagram is __not__ to scale.'\n    ].join(' ')\n\n    const diagram = [\n      'CoordinatePlane', {span: \"0,0 4,3\", axis: false, grid: false, clip: false, height: '1.3in', style: 'geometry'},\n      //['Path', {points: \"3.5,0 3.5,0.5 4,0.5 4,0\", connect: true, style: 'anglemark anglemark-right'}],\n      ['AngleMark', {right: true, x: 4, y: 0, initial: \"90deg\", terminal: \"180deg\", radius: .4}],\n      ['Polygon', {points: \"0,0 4,0 4,3\", markers: '...'}],\n      ['Overlay', {x: 0, y: 0, displacement: {angle: 200, radius: '3mm'}}, '$$A$$'],\n      ['Overlay', {x: 4, y: 3, displacement: {angle: 70, radius: '3mm'}}, '$$B$$'],\n      ['Overlay', {x: 4, y: 0, displacement: {angle: 315, radius: '3mm'}}, '$$C$$'],\n      \n      ['Overlay', {x: 4, y: 1.5, anchor: 'W', displacement: '1mm'}, labels.a],\n      ['Overlay', {x: 2.2, y: 0, anchor: 'N', displacement: '1mm'}, labels.b],\n      ['Overlay', {x: 2, y: 1.5, anchor: 'SE', displacement: '1mm', rotate: '30' }, labels.c],\n      ['Overlay', {x:0, y:0, displacement: {angle: 15, radius: '11mm'}}, labels.A],\n      ['Overlay', {x:4, y:3, displacement: {angle: 248, radius: '8.5mm'}}, labels.B],\n    ]\n\n    return {\n      question,\n      diagram,\n      answer: {\n        correct: answer.join(', '),\n        prompt: [\n          'AnswerBlanks', {box: true},\n          ...answerblanks\n        ]\n      },\n    }\n  }\n}","import math from 'mathjs'\nimport Polynomial from 'polynomial'\nimport fraction from 'fraction.js'\nimport { roundTo } from './tools/handystuff'\nimport QGen from './QGen'\nimport _ from 'lodash'\n\n\nexport class RationalGraph extends QGen {\n\tstatic info = {\n\t\tname: 'Rational Graph',\n\t\tdescription: 'Determine the equation from the graph of a rational function',\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\n\t\tconst variant = params.variant\n\n\t\tconst makeFunction = (top, bottom) => {\n\t\t\tlet f = function(x) {\n\t\t\t\tlet n = 1\n\t\t\t\tlet d = 1\n\t\t\t\tfor (const r of top) {\n\t\t\t\t\tn *= (x - r)\n\t\t\t\t}\n\t\t\t\tfor (const r of bottom) {\n\t\t\t\t\td *= (x - r)\n\t\t\t\t}\n\t\t\t\treturn n / d\n\t\t\t}\n\t\t\treturn f\n\t\t}\n\n\t\tfunction generateValues() {\n\t\t\tlet vals = rd.sampleRange(1, 8, 4).map(v => rd.bool() ? v : -v)\n\t\t\tlet roots = [vals[0]]\n\t\t\tlet holes = [vals[1]]\n\t\t\tlet asymptotes = [vals[2]]\n\t\t\tif (rd.random() < 0.5) {\n\t\t\t\tasymptotes.push(vals[3])\n\t\t\t} else if (rd.random() < 0.8) {\n\t\t\t\tholes.push(vals[3])\n\t\t\t}\n\t\t\treturn ({roots, holes, asymptotes})\n\t\t}\n\n\t\tfunction allHolesInRange(holes, f) {\n\t\t\tfor (const r of holes) {\n\t\t\t\tif (f(r) <= -8 || f(r) >= 8) {\n\t\t\t\t\treturn false\n\t\t\t\t} \n\t\t\t}\n\t\t\treturn true\n\t\t}\n\n\t\tlet roots, holes, asymptotes, f\n\t\tlet isGood = false\n\n\t\twhile (!isGood) {\n\t\t\t({roots, holes, asymptotes} = generateValues())\n\t\t\tf = makeFunction(roots, asymptotes)\n\t\t\tisGood = allHolesInRange(holes, f)\n\t\t}\n\t\t\n\t\tconst graph = [\n\t\t\t'CoordinatePlane',\n\t\t\t{span: [-10,-8,10,8], height: '1.8in'},\n\t\t\t[\n\t\t\t\t'RationalFunction',\n\t\t\t\t{\n\t\t\t\t\tdomain: [-12,12],\n\t\t\t\t\trange: [-10,10],\n\t\t\t\t\troots, holes, asymptotes,\n\t\t\t\t}\n\t\t\t]\n\t\t]\n\n\t\tfunction fmtAns(ans) {\n\t\t\tlet numer = ''\n\t\t\tfor (const r of ans.top.sort((a,b) => b-a)) {\n\t\t\t\tnumer += '(' + math.simplify(`x - ${r}`).toString() + ')'\n\t\t\t}\n\t\t\tlet denom = ''\n\t\t\tfor (const r of ans.bottom.sort((a,b) => b-a)) {\n\t\t\t\tdenom += '(' + math.simplify(`x - ${r}`).toString() + ')'\n\t\t\t}\n\t\t\treturn `$$\\\\displaystyle y = \\\\frac{ ${numer} }{ ${denom} }$$`\n\t\t}\n\n\t\tconst answer = {top: [...roots, ...holes], bottom: [...holes, ...asymptotes]}\n\n\t\tconst wrongs = [\n\t\t\t{top: [...holes, ...asymptotes], bottom: [...holes, ...roots]},\n\t\t\t{top: [...roots], bottom: [...holes, ...asymptotes]},\n\t\t\t{top: [...roots, ...holes].map(r => -r), bottom: [...holes, ...asymptotes].map(r => -r)},\n\t\t\t{top: [...holes, ...asymptotes].map(r => -r), bottom: [...holes, ...roots].map(r => -r)},\n\t\t]\n\n\t\tconst i = rd.randint(0,wrongs.length)\n\t\tconst choices = rd.shuffle([answer, ...wrongs].map(fmtAns), i)\n\n\t\treturn {\n\t\t\tinstructions: 'Choose the equation that best describes the graph shown.',\n\t\t\tdiagram: graph,\n\t\t\tanswer: {\n\t\t\t\tcorrect: fmtAns(answer),\n\t\t\t\tchoices: choices,\n\t\t\t\tcorrectIndex: i,\n\t\t\t\tprompt: [\n\t\t\t\t\t'AnswerBlanks',\n\t\t\t\t\t{height: '8em', width: '20em'},\n\t\t\t\t\t'$$y = $$', \n\t\t\t\t],\n\t\t\t},\n\t\t\toptions: { variant },\n\t\t\tvariants: {\n\t\t\t\tfreeResponse: {\n\t\t\t\t\tinstructions: 'Write the equation that best describes the graph shown.',\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n\nexport class IncreasingIntervals extends QGen {\n\tstatic info = {\n\t\tname: 'Increasing Intervals',\n\t\tdescription: 'Identify intervals over which a graph is increasing'\n\t}\n\n\tstatic params = {\n\t\ttoFind: {\n\t\t\tlabel: 'Type of interval to find',\n\t\t\ttype: 'select',\n\t\t\toptions: ['increasing', 'decreasing', 'either'],\n\t\t},\n\t\tstyle: {\n\t\t\tlabel: 'Graph style',\n\t\t\ttype: 'select',\n\t\t\toptions: ['jagged', 'smooth'],\n\t\t},\n\t\tpoints: {\n\t\t\tlabel: 'Mark points',\n\t\t\ttype: 'bool',\n\t\t}\n\t}\n\n\tstatic defaultParams = {\n\t\ttoFind: 'increasing',\n\t\tstyle: 'smooth',\n\t\tpoints: true,\n\t}\n\n\tinterpolatePath(points) {\n\t\t// smooths path so that 1st deriv = 0 at each point\n\t\tconst pts = Array.isArray(points[0]) ? points.map(p => ({x: p[0], y: p[1]})) : points\n\t\tlet d = `M${pts[0].x},${pts[0].y}`\n\t\tlet prev = pts[0]\n\t\tfor (let i = 1; i < pts.length; i++) {\n\t\t\tconst p = pts[i]\n\t\t\tconst x1 = roundTo((2*prev.x + p.x) / 3, 3)\n\t\t\tconst x2 = roundTo((prev.x + 2*p.x) / 3, 3)\n\t\t\td += ` C ${x1},${prev.y} ${x2},${p.y} ${p.x},${p.y}`\n\t\t\tprev = p\n\t\t}\n\t\treturn d\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\n\t\tconst toFind = rd.choice({\n\t\t\tincreasing: ['inc'],\n\t\t\tdecreasing: ['dec'],\n\t\t\teither: ['inc', 'dec']\n\t\t}[params.toFind])\n\n\t\tconst xs = [-10]\n\t\tlet prev = -10\n\t\twhile (prev < 7) {\n\t\t\tconst next = rd.randint(prev+3, prev+5)\n\t\t\tif (next > 7) {\n\t\t\t\txs.push(8)\n\t\t\t} else {\n\t\t\t\txs.push(next)\n\t\t\t}\n\t\t\tprev = xs[xs.length-1]\n\t\t}\n\t\txs.push(10)\n\n\t\tconst yRange = [-4,4]\n\t\tconst ys = [rd.randint(...yRange)]\n\n\t\tlet maxConstantIntervals = 2\n\t\tlet which\n\t\twhile (ys.length < xs.length) {\n\t\t\tlet possible = []\n\t\t\tconst prev = ys[ys.length-1]\n\t\t\tif (which !== 'dec' & prev >= yRange[0]+2) {\n\t\t\t\tpossible.push('dec')\n\t\t\t}\n\t\t\tif (which !== 'inc' & prev <= yRange[1]-2) {\n\t\t\t\tpossible.push('inc')\n\t\t\t}\n\t\t\tif (which !== 'const' & maxConstantIntervals > 0) {\n\t\t\t\tpossible.push('const')\n\t\t\t\tmaxConstantIntervals -= 1\n\t\t\t}\n\t\t\twhich = rd.choice(possible)\n\t\t\tif (which === 'dec') {\n\t\t\t\tys.push(rd.randint(Math.max(yRange[0], prev-7), prev-2))\n\t\t\t} else if (which === 'inc') {\n\t\t\t\tys.push(rd.randint(prev+2, Math.min(yRange[1], prev+7)))\n\t\t\t} else {\n\t\t\t\tys.push(prev)\n\t\t\t}\n\t\t}\n\n\t\tif (rd.random() < 0.5) {\n\t\t\tys.reverse()\n\t\t}\n\n\t\tconst intervals = []\n\t\tfor (let i = 1; i < ys.length; i++) {\n\t\t\tif (ys[i-1] < ys[i]) {\n\t\t\t\tintervals.push('inc')\n\t\t\t} else if (ys[i-1] === ys[i]) {\n\t\t\t\tintervals.push('const')\n\t\t\t} else {\n\t\t\t\tintervals.push('dec')\n\t\t\t}\n\t\t}\n\n\t\tlet answer = []\n\t\tlet wrongAnswer1 = []  // ys insteas of xs\n\t\tlet wrongAnswer2 = []  // points instead of xs\n\t\tlet wrongAnswer3 = []  // switch dec/inc\n\t\tlet wrongAnswer4 = []  // switch dec/inc, ys instead of xs\n\n\t\tlet points = [\n\t\t\t{x: xs[0], y: ys[0]},\n\t\t]\n\t\tfor (let i=0; i < intervals.length; i++) {\n\t\t\tpoints.push({x: xs[i+1], y: ys[i+1]})\n\t\t\tif (intervals[i] === toFind) {\n\t\t\t\tanswer.push({start: xs[i], stop: xs[i+1]})\n\t\t\t\twrongAnswer1.push({start: ys[i], stop: ys[i+1]})\n\t\t\t\twrongAnswer2.push({start: xs[i], stop: ys[i]})\n\t\t\t\twrongAnswer2.push({start: xs[i+1], stop: ys[i+1]})\n\t\t\t} else if (intervals[i] === {'inc': 'dec', 'dec': 'inc'}[toFind]) {\n\t\t\t\twrongAnswer3.push({start: xs[i], stop: xs[i+1]})\n\t\t\t\twrongAnswer4.push({start: ys[i], stop: ys[i+1]})\n\t\t\t}\n\t\t}\n\n\t\tconst path = params.style === 'smooth' ? {d: this.interpolatePath(points)} : {points}\n\t\tif (params.points) {\n\t\t\tpath.markers = '...'\n\t\t}\n\t\t\n\t\tconst diagram = [\n\t\t\t'CoordinatePlane', {span: [-10,yRange[0]-1,10,yRange[1]+1], height: '1.4in', clip: false},\n\t\t\t['Path', path]\n\t\t]\n\t\t\n\t\tconst fullName = {inc: 'increasing', dec: 'decreasing'}[toFind]\n\n\t\tfunction fmtAns(ans) {\n\t\t\tif (ans.length === 0) {\n\t\t\t\treturn 'None'\n\t\t\t}\n\t\t\treturn ans.map((int) => `$$(${int.start}, ${int.stop})$$`).join(', ')\n\t\t}\n\n\t\tconst wrongs = [wrongAnswer1, wrongAnswer2, wrongAnswer3, wrongAnswer4]\n\t\tconst answerIndex = rd.randint(0, wrongs.length)\n\t\tconst choices = rd.shuffle([answer, ...wrongs], answerIndex).map(fmtAns)\n\n\t\treturn ({\n\t\t\tinstructions: `Determine the intervals over which the function is ***${fullName}***.`,\n\t\t\tdiagram: diagram,\n\t\t\tanswer: {\n\t\t\t\tcorrect: fmtAns(answer),\n\t\t\t\tchoices: choices,\n\t\t\t\tcorrectIndex: answerIndex,\n\t\t\t\tprompt: ['EmptySpace', {width: '2in'}]\n\t\t\t}\n\t\t})\n\t}\n}\n\n\nexport class GraphLinearInequalities extends QGen {\n\tstatic info = {\n\t\tname: 'Graph Inequalities',\n\t\tdescription: 'Graph the solution to a system of two linear inequalities',\n\t}\n\n\n\tstatic options = {\n\t\tsingleColumn: true,\n\t\tvariants: ['freeResponse'],\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\t\t\n\t\tlet [x1, y1, y2] = rd.sampleRange(2,7,3)\n\t\tlet x2 = rd.randint(-7,-2)\n\t\tconst rotation = rd.randint(0,3)\n\t\tfor (let i = 0; i < rotation; i++) {\n\t\t\t[x1, y1, x2, y2] = [-y1, x1, -y2, x2]\n\t\t}\n\t\tif (x1 > 0 && x2 > 0) {\n\t\t\t[x1, y1, x2, y2] = [-y1, x1, -y2, x2]\n\t\t}\n\n\t\tconst [ineq1, ineq2] = rd.shuffle([rd.choice(['<', '>']), rd.choice(['<=', '>='])])\n\n\t\tconst line1 = {a: y1, b: x1, c: x1*y1, ineq: ineq1, xInt: x1, yInt: y1}\n\t\tconst line2 = {a: y2, b: x2, c: x2*y2, ineq: ineq2, xInt: x2, yInt: y2}\n\n\t\tconst withsign = n => n < 0 ? n : '+' + n\n\t\tconst latexineq = ineq => {\n\t\t\tif (ineq === '<=') return '\\\\leq'\n\t\t\tif (ineq === '>=') return '\\\\geq'\n\t\t\treturn ineq\n\t\t}\n\n\t\tconst latexeqn = f => `${f.a}x ${withsign(f.b)}y &${latexineq(f.ineq)} ${f.c}`\n\n\t\tconst question = `$$\\\\displaystyle\\\\left\\\\{\\\\begin{aligned}\\n${latexeqn(line1)} \\\\\\\\\\n${latexeqn(line2)}\\n\\\\end{aligned}\\\\right.$$`\n\n\t\tconst blankgraph = ['CoordinatePlane', {span: \"-10,-10 10,10\", height: \"1.8in\"}]\n\n\t\tconst correct = {\n\t\t\tlines: [], \n\t\t\tclips: [],\n\t\t}\n\n\t\tfor (const f of [line1, line2]) {\n\t\t\tconst func = x => (f.c - x*f.a) / f.b\n\t\t\tconst points = [[-11, func(-11)], [11, func(11)]]\n\n\t\t\tif (f.ineq === '<' || f.ineq === '>') {\n\t\t\t\tcorrect.lines.push(['Path', {points, style: 'dashed'}])\n\t\t\t} else {\n\t\t\t\tcorrect.lines.push(['Path', {points}])\n\t\t\t}\n\n\t\t\tlet whichside\n\t\t\tif (f.ineq === '<' || f.ineq === '<=') {\n\t\t\t\tif (f.b > 0) {\n\t\t\t\t\twhichside = 'below'\n\t\t\t\t}\telse {\n\t\t\t\t\twhichside = 'above'\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (f.b > 0) {\n\t\t\t\t\twhichside = 'above'\n\t\t\t\t} else {\n\t\t\t\t\twhichside = 'below'\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (whichside === 'above') {\n\t\t\t\tcorrect.clips.push([...points, [11,11], [-11, 11]])\n\t\t\t} else {\n\t\t\t\tcorrect.clips.push([...points, [11,-11], [-11, -11]])\n\t\t\t}\n\t\t}\n\n\t\tconst plotAnswer = a => (\n\t\t\t[\n\t\t\t\t'CoordinatePlane', {span: [-10,-10,10,10], height: '1in', margin: '0.5mm'},\n\t\t\t\t[\n\t\t\t\t\t'Clip', {shape: 'Path', points: a.clips[0]}, [\n\t\t\t\t\t\t'Clip', {shape: 'Path', points: a.clips[1]},\n\t\t\t\t\t\t['Path', {points: [[-11,-11], [-11,11], [11,11], [11,-11]], fill: \"solid\"}]\n\t\t\t\t]],\n\t\t\t\t['Style', {color: '#999'}, ...a.lines],\n\t\t\t\t['Clip', {shape: 'Path', points: a.clips[1]}, a.lines[0] ],\n\t\t\t\t['Clip', {shape: 'Path', points: a.clips[0]}, a.lines[1] ],\n\t\t\t]\n\t\t)\n\n\n\t\treturn {\n\t\t\tinstructions: 'Graph the solution to the system of inequalities.',\n\t\t\tquestion: question,\n\t\t\tanswer: {\n\t\t\t\tprompt: blankgraph,\n\t\t\t\tcorrect: plotAnswer(correct),\n\t\t\t},\n\t\t}\n\t}\n}\n\n\nfunction eqnFromPoints(p1, p2) {\n\tconst m = fraction(p2[1] - p1[1], p2[0] - p1[0])\n\tconst b = p1[1] - m*p1[0]\n\tconst f = x => m*x + b\n\tPolynomial.setField('Q')\n\tconst latex = new Polynomial([b, m]).toLatex()\n\treturn ({f, latex})\n}\n\n\nclass WritePiecewise extends QGen {\n\tstatic info = {\n\t\tname: 'Write Piecewise Function',\n\t\tdescription: 'Write the equation for a piecewise function from its graph.'\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\n\t\tconst domain = [-9,9]\n\t\tconst range = [-10,10]\n\n\t\tconst order = rd.sample(['inc', 'dec', 'const'], 3)\n\n\n\n\t\tconst eqns = []\n\n\t\tconst pieces = []\n\t\tconst xs = [domain[0], -3, 3, domain[1]]\n\n\n\t\tconst left = [rd.bool(), rd.bool()] // does the function go with the left at the domain break?\n\n\t\tconst markers = [\n\t\t\t['<', '.', '.'], \n\t\t\t['.', '.', '.'], \n\t\t\t['.', '.', '>'], \n\t\t]\n\n\t\tconst domainIneqs = [\n\t\t\t['\\\\leq', '\\\\leq'],\n\t\t\t['\\\\leq', '\\\\leq'],\n\t\t\t['\\\\leq', '\\\\leq'],\n\t\t]\n\n\t\tif (left[0]) {\n\t\t\tmarkers[1][0] = 'o'\n\t\t\tdomainIneqs[1][0] = '<'\n\t\t} else {\n\t\t\tmarkers[0][2] = 'o'\n\t\t\tdomainIneqs[0][1] = '<'\n\t\t}\n\t\tif (left[1]) {\n\t\t\tmarkers[2][0] = 'o'\n\t\t\tdomainIneqs[2][0] = '<'\n\t\t} else {\n\t\t\tmarkers[1][2] = 'o'\n\t\t\tdomainIneqs[1][1] = '<'\n\t\t}\n\n\t\tconst answer = `$$y = \\\\left\\\\{\\\\begin{array}{r l r}\n\t${eqns[0].latex} & \\\\text{ for } & -\\\\infty ${domainIneqs[0][0]} x ${domainIneqs[0][1]} ${xs[1]} \\\\\\\\\n\t${eqns[1].latex} & \\\\text{ for } & ${xs[1]} ${domainIneqs[1][0]} x ${domainIneqs[1][1]} ${xs[2]} \\\\\\\\\n\t${eqns[2].latex} & \\\\text{ for } & ${xs[2]} ${domainIneqs[2][0]} x ${domainIneqs[2][1]} \\\\infty \\\\\\\\\n\\\\end{array}\\\\right.$$`\n\n\t\tconst paths = [\n\t\t\t['Path', {points: [pieces[0]], markers: markers[0].join('')}],\n\t\t\t['Path', {points: [pieces[1]], markers: markers[1].join('')}],\n\t\t\t['Path', {points: [pieces[2]], markers: markers[2].join('')}],\n\t\t]\n\n\t\tconst diagram = [\n\t\t\t'CoordinatePlane', {\n\t\t\t\tspan: [domain[0]-1, range[0], domain[1]+1, range[1]], \n\t\t\t\tclip: false,\n\t\t\t\theight: '2in',\n\t\t\t},\n\t\t\t...paths\n\t\t]\n\n\t\treturn {\n\t\t\tinstructions: 'Write the equation for the piecewise function shown.',\n\t\t\tdiagram,\n\t\t\tanswer,\n\t\t}\n\t}\n}","const dict19 = {\n  0: 'zero',\n  1: 'one',\n  2: 'two',\n  3: 'three',\n  4: 'four',\n  5: 'five',\n  6: 'six',\n  7: 'seven',\n  8: 'eight',\n  9: 'nine',\n  10: 'ten',\n  11: 'eleven',\n  12: 'twelve',\n  13: 'thirteen',\n  14: 'fourteen',\n  15: 'fifteen',\n  16: 'sixteen',\n  17: 'seventeen',\n  18: 'eighteen',\n  19: 'nineteen',\n}\n\nconst dictTens = {\n  2: 'twenty',\n  3: 'thirty',\n  4: 'fourty',\n  5: 'fifty',\n  6: 'sixty',\n  7: 'seventy',\n  8: 'eighty',\n  9: 'ninety',\n}\n\nconst dictPowers = {\n  3:'thousand',\n  6:'million',\n  9:'billion',\n  12:'trillion',\n  15:'quadrillion',\n  18:'quintillion',\n  21:'sextillion',\n  24:'septillion',\n  27:'octillion',\n  30:'nonillion',\n  33:'decillion',\n  36:'undecillion',\n  39:'duodecillion',\n  42:'tredecillion',\n  45:'quattuordecillion',\n  48:'quindecillion',\n  51:'sexdecillion',\n  54:'septendecillion',\n  57:'octodecillion',\n  60:'novemdecillion',\n  63:'vigintillion',\n}\n\nfunction divmod(n, d) {\n  return [Math.floor(n/d), n % d]\n}\n\nexport function sayinteger(n) {\n  if (n < 0) {\n    return 'negative ' + sayinteger(-n)\n  } else if (n < 20) {\n    return dict19[n]\n  } else if (n < 100) {\n    const [a, b] = divmod(n, 10)\n    if (b === 0) {\n      return dictTens[a]\n    } else {\n      return dictTens[a] + '-' + dict19[b]\n    }\n  } else if (n < 1000) {\n    const [a, b] = divmod(n, 100)\n    if (b === 0) {\n      return dict19[a] + ' hundred'\n    } else {\n      return dict19[a] + ' hundred' + sayinteger(b)\n    }\n  }\n  for (const k of Object.keys(dictPowers).sort((a,b) => a-b)) {\n    if (n < Math.pow(10,k+3)) {\n      const [a, b] = divmod(n, Math.pow(10,k))\n      if (b === 0) {\n        return sayinteger(a) + ' ' + dictPowers[k]\n      } else {\n        return sayinteger(a) + ' ' + dictPowers[k] + ', ' + sayinteger(b)\n      }\n    }\n  }\n  return n.toString()\n}\n\nexport function saynth(n) {\n  const replacer = {\n    one: 'first',\n    two: 'second',\n    three: 'third',\n    five: 'fifth',\n    eight: 'eighth',\n    nine: 'ninth',\n    twelve: 'twelfth',\n  }\n  for (const ten of [20, 30, 40, 50, 60, 70, 80, 90]) {\n    const s = sayinteger(ten)\n    replacer[s] = s.replace('ty', 'tieth')\n  }\n  if (n === 0) {\n    return 'zeroeth'\n  }\n  let words = sayinteger(n).split(' ')\n  let lastword = words[words.length-1].split('-')\n  let ending = lastword[lastword.length-1]\n  if (replacer[ending]) {\n    ending = replacer[ending]\n  } else {\n    ending += 'th'\n  }\n  lastword[lastword.length-1] = ending\n  words[words.length-1] = lastword.join('-')\n  return words.join(' ')\n}\n","import QGen from './QGen'\nimport { sayinteger, saynth } from './tools/saynumber'\nimport { capitalize, roundTo } from './tools/handystuff'\n\nfunction josephus(n, k) {\n  if (n === 1) {\n    return 1\n  } else {\n    return (k + josephus(n-1, k) - 1) % n + 1\n  }\n}\n\nclass Josephus extends QGen {\n  static info = {\n    name: 'Josephus',\n    description: 'A somewhat morbid counting puzzle.'\n  }\n\n  generate() {\n    const rd = this.random\n    const n = rd.randint(17, 29) // number of prisoners\n    const k = rd.randint(7, 14) // kill every kth prisoner\n    return {\n      instructions: [ \n        `${capitalize(sayinteger(n))} prisoners are forced to stand in a line.`,\n        'Their captor, a disgraced number theorist, announces that he will begin counting the prisoners beginning at the front of the line.',\n        `Each time he reaches the number ${sayinteger(k)}, he will execute that prisoner and then restart his count with the next prisoner in line.`,\n        'When he reaches the end of the line he will move back to the front of the line and continue counting where he left off.',\n        `He will continue to do this, each time executing the ${saynth(k)} prisoner, until only one prisoner remains.`,\n        'This last remaining prisoner will be set free.',\n      ].join(' '),\n      question: [\n        '*You are one of the prisoners.*',\n        'Before he begins counting, your captor gives you a chance to rearrange yourselves.',\n        'Where should you stand to make sure you will survive?',\n      ].join(' '),\n      answer: saynth(josephus(n, k)),\n    }\n  }\n}\n\nexport class FinalDigit extends QGen {\n  static info = {\n    name: 'Final Digit',\n  }\n\n  static options = {\n    singleColumn: true,\n  }\n\n  generate() {\n    const rd = this.random\n    const base = rd.choice([2,3,7,8])\n    const exponent = rd.randint(300000,3000000)\n\n    const answer = {\n      2: [6, 2, 4, 8],\n      3: [1, 3, 9, 7],\n      7: [1, 7, 9, 3],\n      8: [6, 8, 4, 2],\n    }[base][exponent % 4]\n\n    const exampleExponent = rd.choice({\n      2: [4,5,6],\n      3: [3,4],\n      7: [2,3],\n      8: [2,3],\n     }[base])\n    const exampleResult = Math.pow(base, exampleExponent)\n    const exampleAnswer = exampleResult % 10\n    const instructions = `The final digit of $$${base}^{${exampleExponent}}=${exampleResult}$$ is $$${exampleAnswer}$$.`\n    const question = `What is the final digit of $$${base}^{${exponent}}$$?`\n    return {instructions, question, answer}\n  }\n}\n\nclass Triangle1 extends QGen {\n  static info = {\n    name: 'Triangle Problem',\n    description: 'Easy to answer, hard to prove'\n  }\n  \n  generate() {\n    const rd = this.random\n    const letters = rd.choice(['ABCD', 'FGHJ', 'JKLM', 'PQRS', 'WXYZ'])\n    const [A, B, C, D] = letters\n    const question = `Suppose $$${D}$$ is a point on side $$\\\\overline{${B}${C}}$$ of $$\\\\triangle{${A}${B}${C}}$$ such that $$${D}${C} = 2${B}${D}$$, $$\\\\angle{${B}${C}${A}} \\\\cong \\\\angle{${B}${A}${D}}$$, and $$m\\\\angle{${C}${A}${D}} = 30\\\\degree$$. Determine the measure of $$\\\\angle{${A}${B}${C}}$$ and justify your answer.`\n    const answer = \"$$90\\\\degree$$\"\n    return {question, answer}\n  }\n}\n\nexport class EightCircles extends QGen {\n  static info = {\n    name: 'Eight Circles',\n    description: 'Hard geometry problem, less hard trigonometry problem'\n  }\n\n  static params = {\n    numberOfCircles: {\n      label: 'number of circles',\n      type: 'multiple-select',\n      minSelections: 1,\n      options: [4,5,6,7,8,9,10]\n    },\n    given: {\n      label: 'given',\n      type: 'multiple-select',\n      options: ['small radius', 'large radius']\n    }\n  }\n  static defaultParams = {\n    numberOfCircles: {8: true},\n    given: {'small radius': true}\n  }\n\n  generate(params) {\n    const rd = this.random\n    const n = rd.choice(Object.keys(params.numberOfCircles).filter(k => params.numberOfCircles[k]))\n    const given = rd.choice(Object.keys(params.given).filter(k => params.given[k]))\n    const radians = 2*Math.PI/n\n    const f = 2 * Math.sin((Math.PI - radians)/2) / Math.sin(radians) + 1\n    let smallRadius, bigRadius\n    if (given === 'small radius') {\n      smallRadius = rd.randint(2,9)\n      bigRadius = f * smallRadius\n    } else {\n      bigRadius = rd.randint(4,35)\n      smallRadius = bigRadius / f\n    }\n\n    let question = `${capitalize(sayinteger(n))} congruent circles are inscribed in a larger circle, as shown in the diagram. Each circle intersects any other circle that it touches at exactly one point.`\n    let answer\n    if (given === 'small radius') {\n      question += ` Given that the radius of each of the smaller circles is ${smallRadius} units, determine the radius of the large circle. Round your answer to four decimal places.`\n      answer = roundTo(bigRadius, 4)\n    } else {\n      question += ` Given that the radius of the large circle is ${bigRadius} units, determine the radius of each of the smaller circles. Round your answer to four decimal places.`\n      answer = roundTo(smallRadius, 4)\n    }\n\n    // make diagram\n    const graphr = 1\n    const graphR = f\n    const diffR = f - 1\n    const graphSize = f * 1.1\n    const smallCircles = []\n    \n    for (let i = 0; i < n; i++) {\n      const angle = i*radians\n      const x = Math.cos(angle) * diffR\n      const y = Math.sin(angle) * diffR\n      smallCircles.push(['Circle', {cx: x, cy: y, r: graphr}])\n    }\n    \n    const rotate = rd.randint(0,359)\n    const diagram = [\n      'CoordinatePlane', {\n        span: [-graphSize,-graphSize,graphSize,graphSize], \n        grid: false, \n        axis: false,\n        height: '2in', \n        style: 'geometry',\n      },\n      [\n        'Transform', {type: 'rotate', a: rotate},\n        ['Circle', {cx: 0, cy: 0, r: f}],\n        ...smallCircles\n      ]\n    ]\n    \n    return {\n      question,\n      diagram,\n      answer,\n    }\n  }\n}\n","/*\nEvery \n```\nexport class ... extends QGen {\n  static info = {\n    ...\n  }\n\n  generate() {\n    ...\n  }\n}\n```\nis a question generator. The `generate()` method describes how the question\nis generated and returns an object that looks something like: \n```\n{\n  instructions: ...,\n  question: ...,\n  diagram: ...,\n  answer: ...\n}\n```\nAny of the four fields (instructions, question, diagram, and answer) can be\nleft out if not needed.\n*/\n\n\nimport QGen from './QGen'\nimport fraction from 'fraction.js'\nimport Polynomial from 'polynomial'\n\n\nexport class MinimalGenerator extends QGen {\n\n  static info = { name: 'Minimal Generator' }\n\n  generate() {\n    return {\n      instructions: 'instructions here',\n      question: 'question here',\n      diagram: 'diagram here',\n      answer: 'answer here',\n    }\n  }\n}\n\n\nexport class EasySum extends QGen {\n  static info = {\n    name: 'Easy Sum',\n    description: 'Calculate the sum of two 1-digit integers'\n  }\n\n  static options = {\n    // this question takes only half the width of the page\n    singleColumn: true, \n  }\n\n  generate() {\n    const rd = this.random\n    /* \n    You can generate random numbers in other ways, but this has the\n    seed set correctly and has several handy methods built in.\n    Look in ./tools/random_randomjs.js to see available methods\n    rd.randint(m, n) generates a random integer between m and n (inclusive)\n    */\n    const a = rd.randint(1,9)\n    const b = rd.randint(1,9)\n    const answer = a + b\n\n    return {\n      instructions: 'Calculate the sum:',\n      question: `$$${a} + ${b} =$$ ?`, \n      answer: '$$' + answer + '$$',\n      /*\n      The question and answer are wrapped in $$...$$ to signify math mode\n      this is not strictly necessary for this particular question, since \n      everything is an integer that can be displayed without latex, but \n      it is a good idea to put the numbers in math mode anyway for \n      consistent styling\n      */\n    }\n  }\n}\n\n\nexport class SimpleGraph extends QGen {\n  static info = {\n    name: 'Simple Graph',\n    description: 'Coordinate plane with two points plotted.',\n  }\n\n  static options = {\n    singleColumn: true,\n  }\n\n  generate() {\n    const rd = this.random\n\n    let x1, x2, y1, y2\n    while (x1 === x2 && y1 === y2) {\n      // pick 4 numbers at random, each from -5 to 5 (inclusive)\n      // and regenerate if the two points are identical\n      x1 = rd.randint(-5,5)\n      x2 = rd.randint(-5,5)\n      y1 = rd.randint(-5,5)\n      y2 = rd.randint(-5,5) \n    }\n\n    const answer = x1 === x2\n      ? 'undefined'\n      : '$$' + fraction(y2-y1, x2-x1).toLatex() + '$$'\n    // using the fraction.js library will simplify the fraction \n    // (if necessary) and give us the latex formula\n\n    return {\n      instructions: 'Calculate the slope between the two points shown on the graph.',\n      answer,\n      diagram: [\n        'CoordinatePlane',\n        {\n          span: [-6,-6,6,6], // left, bottom, right, top; can also be a string, e.g. \"-6,-6 6,6\"\n          height: '1.5in', // height on the page - you need to provide either height or width\n          axis: true,  // whether to show the axis; default is true\n          grid: true,  // whether to show the grid; default is true\n          clip: false, // whether to clip elements on the graph to the grid (rather than grid+margins); default is true\n        },\n        [\n          'Path', \n          {\n            points: [[x1, y1], [x2, y2]], \n            style: 'dashed',  // make the path dashed rather than solid\n            markers: '.-.',  // place a point mark at the two endpoints\n          },\n        ],\n      ]\n    }\n  }\n}\n\n\nexport class AnswerPrompt extends QGen {\n  static info = {\n    name: 'Answer Prompt',\n  }\n\n  static options = {\n    singleColumn: true,\n  }\n\n  generate() {\n    const rd = this.random\n\n    // This question will also ask for slope, but without a graph\n    // We'll generate it the same way as the last one\n    let x1, x2, y1, y2\n    while (x1 === x2 && y1 === y2) {\n      x1 = rd.randint(-5,5)\n      x2 = rd.randint(-5,5)\n      y1 = rd.randint(-5,5)\n      y2 = rd.randint(-5,5) \n    }\n\n    const rise = y2 - y1\n    const run = x2 - x1\n    const slope = run === 0 ? 'undefined' : '$$' + fraction(rise, run).toLatex() + '$$'\n    const answer = `rise: $$${rise}$$, run: $$${run}$$, slope: ${slope}`\n\n    return {\n      instructions: 'Calculate the slope between the two points:',\n      question: `$$(${x1},${y1})$$ and $$(${x2},${y2})$$`,\n      answer: {\n        prompt: ['AnswerBlanks', 'rise = ', 'run = ', 'slope = '],\n        correct: answer,\n      }\n    }\n  }\n}\n\n\nexport class PolynomialLibrary extends QGen {\n\tstatic info = {\n\t\tname: 'Solve Quadratic',\n\t\tdescription: 'Create a factorable quadratic using polynomial.js library'\n  }\n  \n  static options = {\n    singleColumn: true\n  }\n\n\tgenerate() {\n\t\tconst rd = this.random\n\n\t\t// generate two integers to be the roots of the quadratic:\n\t\tconst a = rd.randint(-12,12)\n\t\tconst b = rd.randint(-12,12)\n\n\t\t// first linear factor: x - a\n\t\tconst lin1 = new Polynomial({\n\t\t\t1: 1, // coefficient of x^1\n\t\t\t0: -a, // coefficient of x^0 (constant term)\n\t\t})\n\n\t\t// second linear factor: x - b\n\t\tconst lin2 = new Polynomial({1: 1, 0: -b})\n\n    // multiply the two factors together\n\t\tconst quadratic = lin1.mul(lin2)\n\n\t\treturn {\n\t\t\tinstructions: 'Solve the quadratic equation:',\n\t\t\tquestion: `$$${quadratic.toLatex()} = 0$$`,\n\t\t\tanswer: `$$x = ${a}, ${b}$$`,\n\t\t}\n\t}\n}","\n\nconst test = function(f, x, y) {\n  const r = f({x: x, y: y})\n  if (r > 0) { return 'gt' }\n  if (r < 0) { return 'lt'}\n  return 'eq'\n}\n\nconst contourPresent = function(f, x, y, d) {\n  const p = d / 30\n  let q, r, s, t\n  try {\n    q = test(f, x, y)\n  } catch(e) {\n    q = test(f, x+p, y+p)\n  }\n  \n  try {\n    r = test(f, x+d, y)\n  } catch(e) {\n    r = test(f, x+d-p, y+p)\n  }\n  if (r !== q) return true\n\n  try {\n    s = test(f, x+d, y+d)\n  } catch(e) {\n    s = test(f, x+d-p, y+d-p)\n  }\n  if (s !== q) return true\n\n  try {\n    t = test(f, x, y+d)\n  } catch(e) {\n    t = test(f, x+p, y+d-p)\n  }\n  if (t !== q) return true\n\n  return false\n}\n\n\nconst subdivide = function(f, x, y, d, depth, searchDepth) {\n  const hd = d / 2\n  const props = [hd, depth-1, searchDepth-1]\n  return [\n    ...createTree(f, x, y, ...props),\n    ...createTree(f, x+hd, y, ...props),\n    ...createTree(f, x+hd, y+hd, ...props),\n    ...createTree(f, x, y+hd, ...props)\n  ]\n}\n\nconst createTree = function(f, x, y, d, depth, searchDepth) {\n  if (searchDepth > 0) {\n    return subdivide(f, x, y, d, depth, searchDepth)\n  } else {\n    if (contourPresent(f, x, y, d)) {\n      if (depth > 0) {\n        return subdivide(f, x, y, d, depth, searchDepth)\n      } else {\n        return [{x: x+d/2, y: y+d/2}]\n      }\n    } else {\n      return []\n    }\n  }\n}\n\n\nclass QuadTree {\n\tconstructor({left, right, x=-10, y=-10, d=20, depth=10, searchDepth=6}) {\n    this.f = p => left(p) - right(p)\n\t\tthis.x = x\n\t\tthis.y = y\n\t\tthis.d = d\n\t\tthis.depth = depth\n\t\tthis.searchDepth = searchDepth\n\t}\n\n\tcalcPoints() {\n\t\treturn createTree(this.f, this.x, this.y, this.d, this.depth, this.searchDepth)\n\t}\n}\n\nexport {\n  QuadTree,\n  createTree,\n}","import QGen from './QGen'\nimport { createTree } from './tools/QuadTree'\n\n\nclass Gandalf {\n  static register() {\n    return {name: 'Gandalf'}\n  }\n\n  generate() {\n\n  }\n}\n\nexport class RationalPlot extends QGen {\n  static info = {\n    name: 'RationalFunction',\n    description: 'test vectorgraphic RationalFunction'\n  }\n\n  generate(params) {\n    const rd = this.random\n\n    const inv = rd.choice([true, false])\n\n    const numRoots = rd.randint(0,2)\n    const numAsymptotes = rd.randint(1,3)\n    const numHoles = rd.randint(0,2)\n    const total = numRoots + numAsymptotes + numHoles\n    const values = rd.sampleRange(-9,9,total)\n    const roots = values.slice(0,numRoots)\n    const asymptotes = values.slice(numRoots, numRoots+numAsymptotes)\n    const holes = values.slice(numRoots+numAsymptotes)\n    const domain = [-11,11]\n\n    const [x, y] = inv ? ['y', 'x'] : ['x', 'y']\n\n    let num = ''\n    let den = ''\n\n    for (const r of [...roots, ...holes].sort((a,b) => b-a)) {\n      if (r === 0) {\n        num = `${x}${num}`\n      } else if (r > 0) {\n        num = `${num}(${x}-${r})`\n      } else {\n        num = `${num}(${x}+${-r})`\n      }\n    }\n\n    for (const r of [...asymptotes, ...holes].sort((a,b) => b-a)) {\n      if (r === 0) {\n        den = `${x}${den}`\n      } else if (r > 0) {\n        den = `${den}(${x}-${r})`\n      } else {\n        den = `${den}(${x}+${-r})`\n      }\n    }\n\n    if (num === '') num = '1'\n    if (den === '') den = '1'\n\n    const transform = inv ? 'invertXY' : 'none'\n\n    const graph = [\n      'CoordinatePlane',\n      {span: [-10,-10,10,10], height: '2in'},\n      [\n        'Transform', { type: transform },\n        [\n          'RationalFunction',\n          {roots, holes, asymptotes, domain}\n        ]\n      ]\n    ]\n\n    return {\n      question: `The graph of $$ ${y} = \\\\displaystyle\\\\frac{${num}}{${den}} $$`,\n      diagram: graph,\n    }\n\n\n  }\n}\n\nexport class PolynomialPlot extends QGen {\n  static info = {\n    name: 'PolynomialFunction',\n    description: 'test vectorgraphic PolynomialFunction'\n  }\n\n  generate(params) {\n    const rd = this.random\n\n    const deg = rd.randint(2,7)\n    const inv = rd.choice([true, false])\n    let coeffs = rd.sample([-5,-4,-3,-2,-1,0,1,2,3,4,5], deg+1)\n    const denom = rd.randint(2, 21)\n    \n    if (coeffs[coeffs.length-1] === 0) {\n      coeffs = coeffs.slice(0,-1)\n    }\n    const [v, w] = inv ? ['y', 'x'] : ['x', 'y']\n    let tex = ''\n    for (let i = coeffs.length-1; i >= 0; i--) {\n      const c = coeffs[i]\n      const x = i === 0 ? '' : `${v}^{${i}}`\n      if (c > 0) {\n        if (i < coeffs.length-1) tex += '+';\n        if (c !== 1 || i === 0) tex += c;\n        tex += x\n      } else if (c < 0) {\n        if (c !== -1 || i === 0) {\n          tex += c\n        } else {\n          tex += '-'\n        }\n        tex += x\n      }\n    }\n\n    const transform = inv ? 'invertXY' : 'none'\n\n    const graph = [\n      'CoordinatePlane', {span: [-10,-10,10,10], width: '2in'},\n      [\n        'Transform', { type: transform },\n        [\n          'PolynomialFunction',\n          {coefficients: coeffs.map(c => c/denom), domain: [-11,11]}\n        ]\n      ]\n    ]\n\n    const question = `The graph of $$${w} = \\\\displaystyle\\\\frac{1}{${denom}}(${tex})$$`\n\n    return {\n      question: question,\n      diagram: graph,\n    }\n  }\n}\n\nexport class PlotStyling extends QGen {\n  static info = {\n    name: 'Plot Style',\n    description: 'test applying custom styling to vectorgraphic'\n  }\n\n  generate(params) {\n    const x = t => 9*Math.sin(t)\n    const y = t => 9*Math.sin(1.17*t)\n    const step = 0.1\n    let path1 = []\n    let path2 = []\n    let path3 = []\n    let path4 = []\n\n    let t = -36\n\n    while (t <= -18) {\n      path1.push([x(t), y(t)])\n      t += step\n    }\n    path1.push([x(t), y(t)])\n\n    while (t <= 0) {\n      path2.push([x(t), y(t)])\n      t += step\n    }\n    path2.push([x(t), y(t)])\n\n    while (t <= 18) {\n      path3.push([x(t), y(t)])\n      t += step\n    }\n    path3.push([x(t), y(t)])\n\n\n    while (t <= 36) {\n      path4.push([x(t), y(t)])\n      t += step\n    }\n    path4.push([x(t), y(t)])\n\n\n    return {\n      answer: {prompt: null},\n      question: 'The graph of $$(x,y) = (9\\\\sin(t), 9\\\\cos(1.17t))$$ for $$-36 \\\\leq t \\\\leq 36$$:',\n      diagram: [\n        'CoordinatePlane', { span: [-10,-10,10,10], height: '3in'},\n        [\n          'Style', {color: 'hsl(340,70%,60%)'},\n          ['Path', {points: path4}],\n        ],\n        [\n          'Style', {color: 'hsl(30,90%,50%)'},\n          ['Path', {points: path3}],\n        ],\n        [\n          'Style', {color: 'hsl(80,90%,40%)'},\n          ['Path', {points: path2}],\n        ],\n        [\n          'Style', {color: 'hsl(170,90%,40%)'},\n          ['Path', {points: path1}],\n        ]\n      ]\n    }\n  }\n}\n\nexport class FontTest extends QGen {\n  static info = {\n    name: 'Font Test',\n    description: 'how do 1, l, I, J look?',\n  }\n\n  generate(params) {\n    const rd = this.random\n    const b = 1\n    const [Ix, Iy, Jx, Jy] = rd.sampleRange(2,8,4)\n    const diagram1 = [\n      'CoordinatePlane', {span: [-2,-2,10,10], height: '1.4in'},\n      ['Point', {x: Ix, y: Iy}],\n      ['Point', {x: Jx, y: Jy}],\n      ['Overlay', {x: Ix, y: Iy, anchor: 'NW'}, '_I_'],\n      ['Overlay', {x: Jx, y: Jy, anchor: 'NW'}, '_J_'],\n    ]\n\n    const wrongs = []\n    for (let i = 0; i < 4; i++) {\n      const [rise, run] = rd.sample([2,3,4,5,6,7,8,9],2)\n      const inter = rd.randint(1,10)\n      const s = rd.choice(['+', '-'])\n      wrongs.push(`$$y = \\\\frac{${rise}}{${run}}x ${s} ${inter}$$`)\n    }\n\n    const choices = wrongs\n\n    return {\n      instructions: [\n        'Text',\n        '**Remember**, point-slope form:',\n        '$$y - y_1 = m(x - x_1)$$,',\n        'and $$m = \\\\frac{\\\\Delta y}{\\\\Delta x}$$.',\n      ],\n      question: [\n        'Text',\n        `Given that line _l_ has a _y-intercept_ of ${b} and`,\n        '_l_ $$\\\\perp$$ _IJ_, determine the equation in',\n        '***slope-intercept*** form (_y = mx + b_) for _l_.',\n      ],\n      diagram: diagram1,\n      answer: {\n        prompt: ['AnswerBlanks', {width: '2in'}, 'equation: _y =_'],\n        //choices: choices,\n      }\n    }\n  }\n}\n\n\nexport class FontDisplay extends QGen {\n  static info = {\n    name: \"Font Sample\"\n  }\n\n  generate(params) {\n    \n    const text = 'the quick brown fox jumps over the lazy dog 1234567890'\n\n    let lines = []\n\n    for (const chars of [text, text.toUpperCase()]) {\n      for (const x of ['', '_', '__', '___']) {\n        lines.push(`${x}${chars}${x}`)\n      }\n    }\n\n    lines.push('$$\\\\text{' + text + '}$$ (LaTeX)')\n    lines.push('$$\\\\text{\\\\textit{' + text + '}}$$ (LaTeX)')\n    lines.push('$$\\\\text{' + text.toUpperCase() + '}$$ (LaTeX)')\n    lines.push('$$\\\\text{\\\\textit{' + text.toUpperCase() + '}}$$ (LaTeX)')\n\n    return {\n      question: lines.join('  \\n'),\n    }\n  }\n}\n\nexport class QuadTreePlotTest extends QGen {\n  static info = {\n    name: 'QuadTree Plot Test',\n    description: 'Test alternate graphing algorithm'\n  }\n\n  generate(params) {\n    const f1 = ({x, y}) => Math.pow(Math.sin(x*x), 1)\n    const f2 = ({x, y}) => Math.pow(Math.cos(y*y), 1)\n    //const f3 = ({x, y}) => Math.pow(Math.sin(y*y), 1)\n    //const f4 = ({x, y}) => Math.pow(Math.cos(x*x), 1)\n\n    \n    let points = createTree(pt => f1(pt) - f2(pt), -5, -5, 10, 8, 6)\n\n    const graph = [\n      'CoordinatePlane',{span: [-5,-5,5,5], height: '3in'},\n      ['ScatterPlot', { points }]\n   ]\n\n\n\n    return {\n      question: \"The graph of $$\\\\sin(x^2) = \\\\cos(y^2)$$:\",\n      diagram: graph,\n    }\n  }\n}\n\nclass MdTest extends QGen {\n\n  static info = {\n    name: 'Formatting Test',\n    description: 'Test markdown/latex'\n  }\n\n  generate(params) {\n\n    const mdtest = `# Heading\n\nRegular, _Italic_, __Bold__, ___Both___, ~sub~script, ^super^script,  \\`monospaced\\`,  \narrows: --> <-- ==> <== <--> <==>\n\nThe formula $$x = \\\\frac{-b \\\\pm \\\\sqrt{b^2 - 4ac}}{2a}$$\nis used to solve quadratic equations.\n\nThe Collatz Function:\n$$$f(n) = \\\\left\\\\{ \\\\begin{array}{rl}\n  n \\\\div 2 & \\\\text{ if $n$ is even} \\\\\\\\\n  3n+1 & \\\\text{ if $n$ is odd}\n\\\\end{array}\\\\right.$$$\n\n- Thing A\n  - Thing A.1\n  - Thing A.2\n- Thing B\n\ninput ($$x$$) | output ($$y$$)\n:-: | :-:\n-3  | 3\n-2  | -2 \n-1  | -5\n 0  | -6\n\n> All summations have a beginning, all effect has a  \n> story, all kindness begins with the sown seed.  \n> Thought buds toward radiance. The gospel of  \n> light is the crossroads of -- indolence, or action.  \n> \n> Be ignited, or be gone.\n\n[Hyperlink](https://npr.org)\n\n${'```'}python\ndef gcd(a, b):\n    if a == b or b == 0:\n        return a\n    elif a == 0:\n        return b\n    else:\n      return gcd(a, a-b) if a > b else gcd(b, b-a)\n${'```'}\n`\n\n    return ({\n      question: {\n        type: 'markdown',\n        data: mdtest,\n      },\n    })\n  }\n\n}\n\n\n\nexport class VegaLite extends QGen {\n  static info = {\n    name: 'Vega Lite',\n    description: 'test vega-lite render type'\n  }\n\n  generate(params) {\n    let points = []\n\n    const f = x => ({x: x, y: 6*x - x*x, function: 'f'})\n    const g = x => ({x: x, y: 5*Math.sin(x), function: 'g'})\n\n    let t = 0\n    while (t <= 7) {\n      points.push(f(t))\n      points.push(g(t))\n      t += 0.2\n    }\n\n    const diagram2 = {\n      config: {\n        line: {\n          color: 'red'\n        }\n      },\n      data: { values: points },\n      mark: {\n        type: 'line', \n        interpolate: 'monotone',\n      },\n      \"encoding\": {\n        x: {\n          field: 'x', \n          type: 'quantitative',\n        },\n        y: {\n          field: 'y', \n          type: 'quantitative',\n        },\n        color: {\n          field: 'function',\n          type: 'nominal',\n          scale: {\n            domain: ['f', 'g'], \n            range: ['var(--vg-function-stroke-primary)', 'var(--vg-function-stroke-secondary)'],\n          },\n        }\n      },\n    }\n\n    return {\n      instructions: 'The graphs of $$f(x) = - x^2 + 6x$$ and $$g(x) = 5\\\\sin(x)$$',\n      diagram: ['VegaLite', diagram2],\n    }\n  }\n}\n\nclass VegaTest extends QGen {\n  static info = {\n    name: 'Vega Test',\n    description: 'Test Vega rendering'\n  }\n\n  generate(params) {\n    return {\n      answer: null,\n      instructions: \"Rendered with Vega:\",\n      diagram: ['Vega', {\n          \"$schema\": \"https://vega.github.io/schema/vega/v4.json\",\n          \"width\": 500,\n          \"height\": 200,\n          \"padding\": 5,\n        \n          \"signals\": [\n            {\n              \"name\": \"interpolate\",\n              \"value\": \"linear\",\n              \"bind\": {\n                \"input\": \"select\",\n                \"options\": [\n                  \"basis\",\n                  \"cardinal\",\n                  \"catmull-rom\",\n                  \"linear\",\n                  \"monotone\",\n                  \"natural\",\n                  \"step\",\n                  \"step-after\",\n                  \"step-before\"\n                ]\n              }\n            }\n          ],\n        \n          \"data\": [\n            {\n              \"name\": \"table\",\n              \"values\": [\n                {\"x\": 0, \"y\": 28, \"c\":0}, {\"x\": 0, \"y\": 20, \"c\":1},\n                {\"x\": 1, \"y\": 43, \"c\":0}, {\"x\": 1, \"y\": 35, \"c\":1},\n                {\"x\": 2, \"y\": 81, \"c\":0}, {\"x\": 2, \"y\": 10, \"c\":1},\n                {\"x\": 3, \"y\": 19, \"c\":0}, {\"x\": 3, \"y\": 15, \"c\":1},\n                {\"x\": 4, \"y\": 52, \"c\":0}, {\"x\": 4, \"y\": 48, \"c\":1},\n                {\"x\": 5, \"y\": 24, \"c\":0}, {\"x\": 5, \"y\": 28, \"c\":1},\n                {\"x\": 6, \"y\": 87, \"c\":0}, {\"x\": 6, \"y\": 66, \"c\":1},\n                {\"x\": 7, \"y\": 17, \"c\":0}, {\"x\": 7, \"y\": 27, \"c\":1},\n                {\"x\": 8, \"y\": 68, \"c\":0}, {\"x\": 8, \"y\": 16, \"c\":1},\n                {\"x\": 9, \"y\": 49, \"c\":0}, {\"x\": 9, \"y\": 25, \"c\":1}\n              ]\n            }\n          ],\n        \n          \"scales\": [\n            {\n              \"name\": \"x\",\n              \"type\": \"point\",\n              \"range\": \"width\",\n              \"domain\": {\"data\": \"table\", \"field\": \"x\"}\n            },\n            {\n              \"name\": \"y\",\n              \"type\": \"linear\",\n              \"range\": \"height\",\n              \"nice\": true,\n              \"zero\": true,\n              \"domain\": {\"data\": \"table\", \"field\": \"y\"}\n            },\n            {\n              \"name\": \"color\",\n              \"type\": \"ordinal\",\n              \"range\": \"category\",\n              \"domain\": {\"data\": \"table\", \"field\": \"c\"}\n            }\n          ],\n        \n          \"axes\": [\n            {\"orient\": \"bottom\", \"scale\": \"x\", 'titleFont': 'Zilla Slab'},\n            {\"orient\": \"left\", \"scale\": \"y\"}\n          ],\n        \n          \"marks\": [\n            {\n              \"type\": \"group\",\n              \"from\": {\n                \"facet\": {\n                  \"name\": \"series\",\n                  \"data\": \"table\",\n                  \"groupby\": \"c\"\n                }\n              },\n              \"marks\": [\n                {\n                  \"type\": \"line\",\n                  \"from\": {\"data\": \"series\"},\n                  \"encode\": {\n                    \"enter\": {\n                      \"x\": {\"scale\": \"x\", \"field\": \"x\"},\n                      \"y\": {\"scale\": \"y\", \"field\": \"y\"},\n                      \"stroke\": {\"scale\": \"color\", \"field\": \"c\"},\n                      \"strokeWidth\": {\"value\": 2}\n                    },\n                    \"update\": {\n                      \"interpolate\": {\"signal\": \"interpolate\"},\n                      \"fillOpacity\": {\"value\": 1}\n                    },\n                    \"hover\": {\n                      \"fillOpacity\": {\"value\": 0.5}\n                    }\n                  }\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    }\n  }\n}","import * as geometry from './geometry'\nimport * as picofermi from './picofermi'\nimport * as polynomials from './polynomials'\nimport * as transformations from './transformations'\nimport * as trigonometry from './trigonometry'\nimport * as othergenerators from './othergenerators'\nimport * as bonusquestions from './bonusquestions'\nimport * as simpleexamples from './simpleexamples'\nimport * as generatortests from './generatortests'\n\nconst modules = {\n  geometry, \n  polynomials,\n  othergenerators, \n  transformations,\n  trigonometry,\n  picofermi,\n  //bonusquestions,\n  generatortests,\n  simpleexamples,\n}\n\nconst sorting = {\n  picofermi: {sort: 1, prefix: '* '},\n  bonusquestions: {sort: 1, prefix: '* '},\n  generatortests: {sort: 2, prefix: 'Tests: '},\n  simpleexamples: {sort: 2, prefix: 'Examples: '},\n}\n\nconst result = {}\nfor (const k in modules) {\n  const {sort=0, prefix=''} = sorting[k] || {}\n  result[k] = {sort, prefix, generators: modules[k]}\n}\n\nexport default result\n","import questionTypes from '../../questions'\n\nconst questionBank = {}\n\nfor (const module in questionTypes) {\n  const {sort=0, prefix='', generators=questionTypes[module]} = questionTypes[module]\n  for (const q in generators) {\n    const generator = generators[q]\n    const id = `${module}.${q}`\n    const {name, tags, description} = generator.register()\n    questionBank[id] = {sort, name: prefix+name, tags, description, generator}\n  }\n}\n\nexport default questionBank","import React from 'react'\nimport { connect } from 'react-redux'\nimport questionbank from './questionbank'\nimport { includes } from 'lodash'\nimport styles from './styles.module.css'\nimport { addToDocument } from '../../actions/document'\n\nfunction hasKwd(item, kwd) {\n  for (const v of [...item.name.split(' '), ...(item.tags || [])].map(t => t.toLowerCase())) {\n    if (includes(v, kwd.replace(',', ''))) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction checkForKwds(item, kwds=[]) {\n  for (const k of kwds.map(k => k.toLowerCase())) {\n    if (!hasKwd(item, k)) {\n      return false\n    }\n  }\n  // item contains all keywords\n  return true\n}\n\nfunction sortQuestionType(a, b) {\n  if ((a.sort || 0) < (b.sort || 0)) return -1\n  if ((a.sort || 0) > (b.sort || 0)) return 1\n  if (a.name < b.name) return -1\n  if (a.name > b.name) return 1\n  return 0\n}\n\nclass QuestionSearch extends React.Component {\n  static defaultProps = {\n    questionTypes: questionbank\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      input: '',\n      kwds: [],\n      selection: null\n    }\n  }\n\n  clearSearch = () => {\n    this.setState({ input: '', kwds: [], selection: null})\n  }\n\n  updateSearch = evt => {\n    const input = evt.target.value\n    const kwds = input.split(' ').map(k => k.toLowerCase())\n    this.setState({ input, kwds, selection: null })\n  }\n\n  setSelection(id) {\n    this.setState({selection: id})\n  }\n\n  generateAndAdd = () => {\n    const questionType = this.state.selection\n    if (questionType) {\n      console.log(`Generating ${questionType}`)\n      try {\n        const qtype = this.props.questionTypes[questionType].generator\n        const question = new qtype()\n        this.props.addToDocument(question.output())\n      } catch(e) {\n        console.log('failed')\n        console.log(e)\n      }\n    }\n  }\n\n  renderResults() {\n    const results = (\n      Object.keys(this.props.questionTypes)\n        .map(k => ({id: k, ...this.props.questionTypes[k]}))\n        .filter(q => checkForKwds(q, this.state.kwds))\n        .sort(sortQuestionType)\n    )\n    const className = styles.ResultContainer + ' ui-input'\n    if (results.length) {\n      return (\n        <div className={className}>\n          {results.map(r => (\n            <div key={r.id} \n              className={styles.SearchResult + (r.id === this.state.selection ? ' ' + styles.Selected : '')}\n              onClick={() => this.setSelection(r.id)}\n              onDoubleClick={this.generateAndAdd}\n              title={r.name + (r.description ? `\\n${r.description}` : '')}\n            >\n              {r.name}\n            </div>\n          ))}\n        </div>\n      )\n    } else {\n      return (\n        <div className={className}>\n          <span className={styles.SearchResultNone + ' ' + styles.SearchResult}>No results</span>\n        </div>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <input type=\"search\"\n          onChange={this.updateSearch}\n          value={this.state.input}\n          onDoubleClick={this.clearSearch}\n          placeholder=\"filter\"\n        />\n        {this.renderResults()}\n        <button onClick={this.generateAndAdd}>Add</button>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: q => dispatch(addToDocument(q))\n})\n\n\nexport default connect(null, mapDispatchToProps)(QuestionSearch)","import React from 'react';\nimport { connect } from 'react-redux';\nimport ReactModal from 'react-modal';\nimport { Preview, SideBar, StatusBar, TopBar, Wrapper } from './AppLayout'\nimport Document from './Document/Document'\nimport CustomQuestion from './CustomQuestion'\nimport { ImportModal, SavePopup, SettingsModal, NotesModal } from './Modals'\nimport { CheckStateButton } from './Debug'\nimport {\n  AllowEditingToggle,\n  AnswerKeyToggle,\n  FixPagination,\n  FontFamily,\n  FontSize,\n  GUImode,\n  PreviewZoom,\n  StartNumbering\n} from './Settings'\nimport {\n  addToDocument,\n  removeLast,\n  clearAll,\n  resetDocument,\n} from '../actions/document'\nimport { resetStyle } from '../actions/style'\nimport { QuestionSearch } from './GeneratorMenu'\n\nimport '../stylesheets/styles.global.css'\n\n\nReactModal.setAppElement('#root')\nObject.assign(ReactModal.defaultStyles.content, {\n  borderRadius: '4px',\n  borderColor: 'var(--ui-border-1, #999)',\n  background: 'var(--ui-bg-1, #eee)',\n  padding: '5mm',\n  top: '10px',\n  left: '10px',\n  right: '10px',\n  bottom: '10px',\n})\nObject.assign(ReactModal.defaultStyles.overlay, {\n  background: 'rgba(10,10,10,0.3)',\n})\n\n\nclass AppWrapper extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      modal: 'none',\n    }\n  }\n\n  addToDoc = elem => this.props.addToDocument(elem)\n\n  newDoc = () => {\n    this.props.resetDocument()\n    this.props.resetStyle()\n  }\n\n  closeModal = () => this.setState({modal: 'none'})\n  openRpcTest = () => this.setState({modal: 'RpcTest'})\n  openCustomQuestion = () => this.setState({modal: 'CustomQuestion'})\n  openSettings = () => this.setState({modal: 'Settings'})\n  openImport = () => this.setState({modal: 'Import'})\n  openSave = () => this.setState({modal: 'Save'})\n\n  render() {\n    const toplabel = {margin: '0 0 0 0.5em'}\n    return (\n      <Wrapper >\n        {/* customTitleBar ? <TitleBar /> : null */}\n        <TopBar>\n          <button onClick={this.newDoc}>New</button>\n          <button onClick={this.openImport}>Import</button>\n          <button onClick={this.openSave}>Save</button>\n          <button onClick={window.print}>Print/PDF</button>\n          <button onClick={this.openSettings}>Settings</button>\n          <label htmlFor=\"show-answer-key-checkbox\" style={toplabel}>Answer Key:</label><AnswerKeyToggle />\n          <span style={toplabel}>Start Numbering:</span><StartNumbering />\n          <span style={toplabel}>Font:</span><FontFamily/><FontSize />\n          <span style={toplabel}>Zoom:</span><PreviewZoom defaultValue=\"100\"/>\n          <label htmlFor=\"allow-editing-checkbox\" style={toplabel}>Allow Editing:</label><AllowEditingToggle />\n          <div style={{width: '3mm'}} />\n          <FixPagination/>\n        </TopBar>\n        <Preview>\n          <Document/>\n        </Preview>\n        <SideBar>\n          <QuestionSearch/>\n          <button onClick={this.openCustomQuestion}>Custom Question</button>\n          <button onClick={this.props.removeLast}>Remove Last</button>\n          <button onClick={this.props.clearAll}>Clear All</button>\n          <div style={{margin: 'auto'}}></div>\n          <GUImode/>\n          <button onClick={() => this.setState({modal: 'Notes'})}>Notes</button>\n          <CheckStateButton>Log State</CheckStateButton>\n        </SideBar>\n        { this.props.statusBar ? <StatusBar><span>{this.props.statusBar}</span></StatusBar> : null }\n\n        \n\n        <ReactModal\n          isOpen={this.state.modal === 'CustomQuestion'}\n          onRequestClose={this.closeModal}\n        >\n          <button onClick={this.closeModal}>Close</button>\n          <CustomQuestion onRequestClose={this.closeModal}/>\n        </ReactModal>\n\n        <SettingsModal isOpen={this.state.modal === 'Settings'} onRequestClose={this.closeModal}/>\n        <ImportModal isOpen={this.state.modal === 'Import'} onRequestClose={this.closeModal}/>\n        <SavePopup isOpen={this.state.modal === 'Save'} onRequestClose={this.closeModal}/>\n        <NotesModal isOpen={this.state.modal === 'Notes'} onRequestClose={this.closeModal}/>\n\n      </Wrapper>\n    )\n\n  }\n}\n\nconst mapStateToProps = state => ({\n  statusBar: \"\",\n  fontFamilyUI: state.config.fontFamilyUI,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: q => dispatch(addToDocument(q)),\n  removeLast: () => dispatch(removeLast()),\n  clearAll: () => dispatch(clearAll()),\n  resetDocument: () => dispatch(resetDocument()),\n  resetStyle: () => dispatch(resetStyle()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AppWrapper)","import React from 'react';\nimport { Provider } from 'react-redux';\nimport App from './App'\n\n\nexport default class Root extends React.Component {\n  render() {\n    const { store } = this.props;\n    return (\n      <Provider store={store}>\n        <App />\n      </Provider>\n    )\n  }\n}\n","import {\n  ADD_FONTFAMILY,\n  SET_ALLOW_EDITING,\n  SET_FONTFAMILY_UI,\n  SET_SHOW_ANSWERKEY,\n  SET_HIDDEN_COUNT,\n  SET_UI_THEME,\n  SET_DEBUG_VIEW,\n  SET_FILENAME,\n} from '../actions/config'\n\nconst initialState = {\n  //titleBarStyle: 'default',\n  localFonts: [],\n  fontFamilyUI: 'select',\n  showAnswerKey: true,\n  allowEditing: true,\n  uiTheme: 'light',\n  debugView: false,\n}\n\nconst config = function(state=initialState, action) {\n  switch(action.type) {\n    case ADD_FONTFAMILY:\n      return {\n        ...state, \n        localFonts: [...state.localFonts.filter(f => f !== action.payload), action.payload],\n      }\n    case SET_ALLOW_EDITING:\n      return {...state, allowEditing: action.payload}\n    case SET_FONTFAMILY_UI:\n      return {...state, fontFamilyUI: action.payload}\n    case SET_SHOW_ANSWERKEY:\n      return {...state, showAnswerKey: action.payload}\n    case SET_UI_THEME:\n      let date = new Date()\n      date.setTime(date.getTime() + 1000 * 3600)\n      document.cookie = `ui-theme=${action.payload};expires=${date.toUTCString()}`\n      return {...state, uiTheme: action.payload}\n    case SET_DEBUG_VIEW:\n      return {...state, debugView: action.payload}\n    case SET_FILENAME:\n      return {...state, filename: action.payload}\n    default:\n      return state\n  }\n}\n\nexport default config","import { combineReducers } from 'redux'\nimport document from './document'\nimport config from './config'\nimport style from './style'\n\nconst rootReducer = combineReducers({\n  config, document, style\n})\n\nexport default rootReducer\n\nexport {\n  config,\n  document,\n  style,\n}","import React from 'react';\nimport Root from './containers/Root';\nimport { createStore } from 'redux';\nimport rootReducer from './reducers';\nimport initialize from './initialize'\n\n\nconst store = initialize(createStore(rootReducer));\n\nconst App = () => React.createElement(Root, {store})\n\nexport default App;","import WebFont from 'webfontloader'\nimport { addFontFamily, setUITheme } from './actions/config'\nimport { setStyle } from './stylesetter'\nimport initializeDev from './initialize-dev'\nimport { includes } from 'lodash'\n\nfunction loadFonts(store) {\n  const toLoad = {\n    custom: [\n      'katex_ams',\n      'katex_caligraphic',\n      'katex_fraktur',\n      'katex_main',\n      'katex_math',\n      'katex_sansserif',\n      'katex_script',\n      'katex_size1',\n      'katex_size2',\n      'katex_size3',\n      'katex_size4',\n      'katex_typewriter',\n      'cmu_bright',\n      'cmu_concrete',\n      'cmu_sansserif',\n      'cmu_serif',\n    ],\n    google: [\n      'IBM Plex Serif', \n      'IBM Plex Sans', \n    ],\n  }\n  const toAdd = [\n    'cmu_sansserif', \n    'cmu_serif', \n    'cmu_bright', \n    //'IBM Plex Serif',\n    //'IBM Plex Sans',\n  ]\n\n  WebFont.load({\n    custom: {\n      families: toLoad.custom.map(f => `${f}:n4,i4,n7,i7`),\n      urls: ['./stylesheets/styles.global.css']\n    },\n    //google: {families: toLoad.google.map(f => f + ':n4,i4,n7,i7')},\n    fontactive: (family) => {\n      console.log(`load font ${family} successful`)\n      if (includes(toAdd, family)) {\n        store.dispatch(addFontFamily(family))\n      }\n    },\n    fontinactive: (family) => console.error(`load font ${family} failed`),\n  })\n}\n\nfunction checkCookie(store) {\n  const state = store.getState()\n  let themeset = false\n  const cookie = document.cookie\n  if (cookie) {\n    for (const c of cookie.split(';')) {\n      const [k, v] = c.split('=')\n      if (k === 'ui-theme') {\n        store.dispatch(setUITheme(v))\n        themeset = true\n      }\n    }\n  }\n  if (!themeset) {\n    store.dispatch(setUITheme(state.config.uiTheme))\n  }\n}\n\nexport default function intialize(store) {\n  loadFonts(store)\n  checkCookie(store)\n  setStyle(store.getState().style)\n  //initializeDev(store)\n  return store\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n\n"],"sourceRoot":""}