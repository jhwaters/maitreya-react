{"version":3,"sources":["containers/Settings/Graph/styles.module.css","components/styles.module.css","containers/CustomQuestion/styles.module.css","containers/Settings/styles.module.css","components/Preview.js","components/SideBar.js","components/StatusBar.js","components/TopBar.js","components/Wrapper.js","actions/document.js","renderMethods/primaryTypes/Text.js","renderMethods/primaryTypes/VG/Markers.js","renderMethods/primaryTypes/VG/CartesianPlane.js","renderMethods/primaryTypes/VG/tools.js","renderMethods/primaryTypes/VG/Base.js","renderMethods/primaryTypes/VG/Plot.js","renderMethods/primaryTypes/VG/Geometry.js","renderMethods/primaryTypes/VG/other.js","renderMethods/secondaryTypes/Answer.js","renderMethods/secondaryTypes/Header.js","renderMethods/secondaryTypes/JsonML.js","renderMethods/secondaryTypes/Question.js","renderMethods/renderTypes.js","renderMethods/primaryTypes/Html.js","renderMethods/secondaryTypes/List.js","renderMethods/primaryTypes/VectorGraphic.js","renderMethods/primaryTypes/Vega.js","renderMethods/RenderElement.js","renderMethods/editing/DefaultEditor.js","renderMethods/editing/Header.js","renderMethods/editing/Question.js","renderMethods/editing/index.js","containers/Document/TopLevelElement.js","containers/Document/pagesize.js","containers/Document/MeasuredPage.js","containers/Document/Page.js","containers/Document/AnswerKey.js","containers/Document/Document.js","containers/Settings/Font/AddLocalFont.js","actions/config.js","containers/Settings/Font/FontFamilyUI.js","actions/style.js","containers/Settings/Font/FontFamilyInput.js","containers/Settings/Font/FontFamilySelect.js","containers/Settings/Font/FontFamily.js","containers/Settings/Font/FontSize.js","containers/Settings/Font/MathFontSettings.js","containers/Settings/Font/TextPreview.js","containers/Settings/Font/index.js","containers/Settings/Font/FontSettings.js","containers/CustomQuestion/LatexExamples.js","containers/CustomQuestion/GraphMaker.js","containers/CustomQuestion/CustomQuestion.js","containers/CustomQuestion/index.js","containers/Notes.js","containers/Debug/CheckState.js","containers/Settings/Graph/GraphStyle.js","containers/Settings/Graph/GraphPreview.js","containers/Settings/Graph/GraphSettings.js","containers/Settings/Graph/index.js","containers/Settings/SettingsPage.js","containers/Settings/AllowEditing.js","containers/Settings/AnswerKeyToggle.js","containers/Settings/PageMargin.js","containers/Settings/PreviewZoom.js","containers/Settings/StartNumbering.js","containers/Settings/index.js","questions/tools/QuadTree.js","questions/tools/svgplot.js","questions/tools/handystuff.js","questions/tools/random_randomjs.js","questions/QGen.js","questions/examplequestions.js","questions/demogenerators.js","containers/App.js","containers/Root.js","reducers/document.js","reducers/config.js","reducers/style.js","reducers/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Layout","Settings","SettingTable","StyleSetting","Wrapper","Wrapper-TitleBar-StatusBar","Wrapper-TopBar","Wrapper-TopBar-StatusBar","PreviewOuter","SideBar","StatusBar","TitleBar","TopBar","PreviewInner","GraphMakerBody","GraphMakerInput","GraphMakerPreview","LatexExamples","SettingPage","Title","SettingSection","LeftBar","NavArea","NavButton","active","Previewer","react_default","a","createElement","className","styles","this","props","children","React","Component","classNames","join","elemID","addToDocument","elem","type","payload","element","id","defaultOptions","markdown","render","superscript","subscript","smartarrows","math","delimiters","display","left","right","inline","MathAndMarkdown","_ref","data","options","katexOptions","errorCallback","console","error","text","i","length","delimiter","splitAtDelimiters","splitWithDelimiters","map","c","Text_InlineMarkdown","key","markdownOptions","Text_PlainText","Text_KatexMath","Object","objectSpread","displayMode","PlainText","_ref2","toString","KatexMath","_ref3","html","katex","renderToString","dangerouslySetInnerHTML","__html","e","ParseError","raw","InlineMarkdown","_ref4","md","MarkdownIt","use","mdsub","mdsup","mdsmartarrows","renderInline","ArrowMarker","style","concat","viewBox","refX","refY","markerWidth","markerHeight","markerUnits","orient","d","PointMarker","cx","cy","r","BigPointMarker","HoleMarker","MarkerDefs","Fragment","s","Markers_ArrowMarker","Markers_PointMarker","Markers_BigPointMarker","Markers_HoleMarker","makesrange","min","max","step","arguments","undefined","anchor","v","splice","push","AutoClip","span","padX","padY","clipID","_span","slicedToArray","x0","y0","w","h","x","y","width","height","AxisH","_props$origin","origin","orig","vectorEffect","AxisV","_props$origin2","Grid","_props$step","_props$origin3","axis","toConsumableArray","xvals","apply","yvals","hAxis","vAxis","CartesianPlane_AxisV","CartesianPlane_AxisH","clipCounter","CartesianPlane","_props$autogrid","autogrid","padding","_props$style","otherprops","objectWithoutProperties","_span2","x1","y1","xpad","ypad","clipPadX","clipPadY","transform","assign","CartesianPlane_AutoClip","CartesianPlane_Grid","clipPath","pathFromPoints","points","Array","isArray","p","Layer","Path","Text","Point","coords","Hole","outer","inner","ShadedRegion","Asymptote","calcPath","f","domain","path","Polynomial","coefficients","Base_Path","ans","deg","Math","pow","Rational","_domainPts","_props$roots","roots","_props$holes","holes","_props$asymptotes","asymptotes","_props$numerCoeff","numerCoeff","_props$denomCoeff","denomCoeff","_props$step2","_props$range","range","num","den","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","value","err","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","domainPts","defineProperty","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","filter","domains","dp","keys","sort","b","v1","v2","val","def","paths","_i","dom","vas","ha","Plot_Asymptote","Plot_Point","Plot_Hole","Segment","endpoints","Ray","Line","Circle","Polygon","vertices","labels","Rotate","degrees","radians","PI","AnswerBlank","margin","minWidth","minHeight","RenderElement","content","label","renderHeaderElement","parts","result","current","isBlank","blankSize","nextChar","size","parseHeader","JsonML","parsed","tagname","constructor","k","slice","parseJsonML","child","inherited","JsonML_JsonML","JSON","stringify","renderJsonMLChild","QuestionLayout","_ref$options","_ref$layout","layout","_ref$direction","direction","newDirection","row","column","area","renderElement","isMultipleChoice","answer","choices","Question","_ref2$options","opts","defaultsDeep","_options","instructions","question","diagram","multipleChoice","freeResponse","prompt","Question_QuestionLayout","renderTypes","answerkey","_ref4$options","correctIndex","correct","answerblanks","dat","Answer_AnswerBlank","answerchoices","header","dangerouslySetInnerHtml","jsonml","list","_ref6","mdmath","inlineRenderer","str","blockRenderer","inlineOpen","inlineClose","blockOpen","blockClose","question-nonumber","Question_Question","_ref5","Text_MathAndMarkdown","vectorgraphic","SvgJsonML","_data","toArray","renderType","VG","vega","react_vega_min_default","spec","vega-lite","react_vega_lite_min_default","renderAs","RenderType","DefaultEditor","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","updateAndClose","onUpdateElement","state","onRequestClose","deleteAndClose","onDeleteElement","revertChanges","setState","border","backgroundColor","overflow","gridTemplateColumns","onClick","justifySelf","renderEditor","renderPreview","Header","headingAddRow","newdata","setData","headingRemoveRow","lr","newrow","_this2","inputStyle","borderStyle","fontSize","fontFamily","onChange","evt","headingUpdate","target","checkMC","newState","toggleMC","isMC","checked","updateInstructions","updateVersionDefault","updateInstructionsMC","updateVersionMC","updateInstructionsFR","updateVersionFR","updateQuestion","updateQuestionMC","updateQuestionFR","fieldname","overrides","updaters","default","mc","fr","cols","rows","renderMCToggle","textAlign","renderInstructionsOrQuestionInputs","get","prototype","connect","dispatch","updateElement","deleteElement","editing_Header_Header","editing_Question_Question","editing_DefaultEditor","TopLevelElement","openEditor","modal","closeModal","divprops","canEdit","onDoubleClick","title","lib_default","isOpen","editing","defaultProps","config","allowEditing","portrait","A3","A4","A5","letter","legal","landscape","MeasuredPage","innerH","clientHeight","outerH","overflows","createRef","oldstate","newstate","onOverflow","forceUpdate","addPageBreakBefore","contentIDs","pageOrientation","pageSize","_this$getPageSize","getPageSize","pageMargin","pageNumber","headers","outerclassname","outerstyle","getOuterStyle","innerstyle","getInnerStyle","headerID","getHeaderID","ref","Document_TopLevelElement","document","footers","Page","orientation","order","Document_Page","pagebreaks","showAnswerKey","len","prev","slices","pages","_props$contentIDs","Markers_MarkerDefs","ids","Document_MeasuredPage","Document_AnswerKey","AddLocalFont","addFont","fontName","input","addLocalFont","family","spellCheck","buttonLabel","font","FontFamilyUI","setFontFamilyUI","fontFamilyUI","inputtype","setDocumentFontFamily","FontFamilyInput","setFontFamily","setCss","body","setProperty","GoogleFonts","BrowserFonts","fontSort","aName","toUpperCase","bName","FontFamilySelect","fontList","localFonts","optionLabel","disabled","renderFontOption","Font_FontFamilyInput","Font_FontFamilySelect","FontSizeSelect","setDocFontSize","setDocumentFontSize","renderSizeOptions","MathFontSettings","onChangeSize","setSize","onChangeWeight","setWeight","weight","setSizeCss","setMathFontSize","setWeightCss","setMathFontWeight","currentSize","bold","currentWeight","mathFontSize","mathFontWeight","tabsize","onKeyDown","keyCode","start","selectionStart","end","selectionEnd","substring","fill","preventDefault","TextPreview","updatePreview","outputStyle","output","defaultValue","split","t","json","parse","wrapperElement","FontSettings","Font_FontFamilyUI","Font_FontFamily","Font_AddLocalFont","justifyItems","Font_MathFontSettings","flexDirection","--doc-font-size","Font_TextPreview","latexfmt","String","replace","examples","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_templateObject10","_templateObject11","_templateObject12","_templateObject13","_templateObject14","_templateObject15","_templateObject16","RenderExample","LatexExamples_RenderExample","round","n","floor","calcParametric","pt","abs","parseFunction","func","compile","scope","eval","GraphMaker","updateMode","mode","updateStandard","standard","updateInverse","inverse","updateParametricX","parametricX","updateParametricY","parametricY","updateX0","updateX1","updateY0","updateY1","updateT0","t0","updateT1","t1","updateStep","updateHeight","updateAutoDomain","autoDomain","updateAutoSize","autoSize","onSubmit","getData","getDomain","ymap","xmap","xpmap","ypmap","graphSize","getFunction","GraphMakerHeading","renderMode","renderInputs","renderDomainInput","renderGridInputs","renderHeightInput","CustomQuestion","openExamples","openGraphMaker","updateDiagram","updateAnswer","updateJSON","updateInputType","inputType","getDataFromState","_arr","addQuestion","_arr2","_i2","previewStyle","gridTemplateAreas","gridArea","CustomQuestion_LatexExamples","CustomQuestion_GraphMaker","q","thing","Notes","fontWeight","marginRight","CheckStateButton","logState","log","GraphStyle","setValue","cssName","kebabCase","propertyName","updateGraphStyle","Color","Width","Opacity","mapDispatchToProps","createComponent","base","StyleSettingComponent","_base","inherits","graph","PlotPathColor","PlotPathWidth","GeomPathColor","GeomPathWidth","AsymptoteColor","AsymptoteWidth","AxisColor","AxisWidth","GridColor","GridWidth","ShadedRegionOpacity","PreviewXYPlot","g","regionTop","regionBottom","fpoints","gpoints","fpt","gpt","region","reverse","CartesianPlane_CartesianPlane","Plot_ShadedRegion","PreviewGeom","Geometry_Polygon","Geometry_Circle","Geometry_Ray","Geometry_Line","Geometry_Segment","GraphSettings","changeStyle","resetToDefaults","resetGraphStyle","GraphPreview_PreviewGeom","GraphPreview_PreviewXYPlot","renderStyleSettings","Preview","SettingsPage","showFontSettings","showing","showGraphSettings","Font","Graph","renderSettings","AllowEditing","toggle","setAllowEditing","AnswerKeyToggle","setShowAnswerKey","bool","MarginOptions","SetPageMargin","updateFromSelection","m","setPageMargin","PreviewZoom","setFromInput","magnification","selection","setPreviewZoom","perc","scale","z","StartNumbering","setNumbering","startat","setCSSVariable","setDocumentStartNumbering","applyButton","test","subdivide","depth","searchDepth","hd","createTree","contourPresent","cartesianPlane","_len","_key","clipdef","grid","stop","inclusive","mathjsrange","gcd","Randomizer","seed","engine","Random","engines","mt19937","reset","createClass","autoSeed","integer","real","array","first","shuffled","shuffle","pick","pop","sample","randint","popped","remaining","randomSeedGenerator","QGen","kwds","params","randomSeed","random","randomizer","defaults","out","generate","_getParams","_specialCaseKeys","_specialCaseValues","getOptions","name","info","randomPolynomialCoefficients","degree","_ref$maxCoefficient","maxCoefficient","_ref$terms","terms","rd","whichterms","choice","SolveQuadratic","_QGen","_rd$sample","_rd$sample2","r1","r2","poly","2","1","0","rand","add","toLatex","description","FactorQuadraticHard","_QGen2","a1","a2","b1","b2","p1","p2","RationalGraph","_QGen3","makeFunction","top","bottom","generateValues","vals","allHolesInRange","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","isGood","_generateValues","fmtAns","numer","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","simplify","denom","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","wrongs","FindIntervals","_QGen4","toFind","increasing","decreasing","xs","which","yRange","ys","maxConstantIntervals","possible","intervals","wrongAnswer1","wrongAnswer2","wrongAnswer3","wrongAnswer4","inc","dec","fullName","int","answerIndex","IncreasingIntervals","_FindIntervals","DecreasingIntervals","_FindIntervals2","angle1","rotateBy","intersect1","pp","cos","sin","top1","bottom1","difference","intersect2","top2","bottom2","primes","leading_coeff","trailing_coeff","num_coeffs","PolynomialPlot","coeffs","tex","PlotStyling","path1","path2","path3","path4","--vg-path-color","FontTest","lines","chars","_i3","dontConfuse","line","j","_arr3","_i4","QuadTreePlotTest","_QGen5","f1","f2","svg","MdTest","_QGen6","VegaLite","_QGen7","values","mark","interpolate","encoding","field","axisX","titleFont","VegaTest","_QGen8","$schema","signals","bind","scales","nice","zero","axes","marks","from","facet","groupby","encode","enter","stroke","strokeWidth","update","signal","fillOpacity","hover","questionBank","examplequestions","register","App_i","App_arr","demogenerators","ReactModal","setAppElement","defaultStyles","borderRadius","borderColor","background","overlay","AppWrapper","addToDoc","generateAndAdd","questionType","questionTypeSelect","qtype","questionTypes","openRpcTest","openCustomQuestion","openSettings","A","B","_this3","toplabel","components_Wrapper","components_TopBar","window","print","Settings_AnswerKeyToggle","Settings_StartNumbering","FontSize","PageMargin","Settings_PreviewZoom","Settings_AllowEditing","containers_Document_Document","components_SideBar","renderQuestionList","removeLast","clearAll","CheckState","statusBar","components_StatusBar","containers_CustomQuestion","containers_Notes","Root","store","es","containers_App","initialState","startNumbering","action","asymptoteColor","asymptoteWidth","axisColor","axisWidth","gridColor","gridWidth","plotPathColor","plotPathWidth","geomPathColor","geomPathWidth","shadedRegionOpacity","rootReducer","combineReducers","createStore","App","Root_Root","Boolean","location","hostname","match","ReactDOM","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.716c4f48.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Layout\":\"styles_Layout__2DVPj\",\"Settings\":\"styles_Settings__255iD\",\"SettingTable\":\"styles_SettingTable__37d46\",\"StyleSetting\":\"styles_StyleSetting__3Xjp4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"styles_Wrapper__QmsU2\",\"Wrapper-TitleBar-StatusBar\":\"styles_Wrapper-TitleBar-StatusBar__dCCA9\",\"Wrapper-TopBar\":\"styles_Wrapper-TopBar__bDS_q\",\"Wrapper-TopBar-StatusBar\":\"styles_Wrapper-TopBar-StatusBar__3am6d\",\"PreviewOuter\":\"styles_PreviewOuter__aClrK\",\"SideBar\":\"styles_SideBar__11KBm\",\"StatusBar\":\"styles_StatusBar__3LGjN\",\"TitleBar\":\"styles_TitleBar__315t0\",\"TopBar\":\"styles_TopBar__I1VNN\",\"PreviewInner\":\"styles_PreviewInner__2lsw-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GraphMakerBody\":\"styles_GraphMakerBody__11R3v\",\"GraphMakerInput\":\"styles_GraphMakerInput__3qT0d\",\"GraphMakerPreview\":\"styles_GraphMakerPreview__2opkG\",\"LatexExamples\":\"styles_LatexExamples__1VuMU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SettingPage\":\"styles_SettingPage__2u-qK\",\"Title\":\"styles_Title__3GTDx\",\"SettingSection\":\"styles_SettingSection__2TB1w\",\"LeftBar\":\"styles_LeftBar__3l1eD\",\"NavArea\":\"styles_NavArea__1p8EW\",\"NavButton\":\"styles_NavButton__2-ksX\",\"active\":\"styles_active__3Py5l\"};","import React from 'react'\nimport styles from './styles.module.css'\n\nclass Previewer extends React.Component {\n  render() {\n    \n\n    return (\n      <div className={styles.PreviewOuter}>\n        <div className={styles.PreviewInner}>\n          {this.props.children}\n        </div>\n      </div>\n    )\n\n  }\n}\n\nexport default Previewer","import React from 'react'\nimport styles from './styles.module.css'\n\nclass SideBar extends React.Component {\n  render() {\n    return (\n      <div className={styles.SideBar}>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport default SideBar","import React from 'react'\nimport styles from './styles.module.css'\n\nconst StatusBar = (props) => {\n  return (\n    <div className={styles.StatusBar}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default StatusBar","import React from 'react'\nimport styles from './styles.module.css'\n\nconst TopBar = (props) => {\n  return (\n    <div className={styles.TopBar}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default TopBar","import React from 'react'\nimport styles from './styles.module.css'\n\nclass Wrapper extends React.Component {\n  \n  render() {\n    let classNames = [styles.Wrapper, styles['Wrapper-TopBar']]\n\n    return (\n      <div className={classNames.join(' ')}>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport default Wrapper","export const ADD_TO_DOCUMENT = 'ADD_TO_DOCUMENT'\nexport const CLEAR_ALL = 'CLEAR_ALL'\nexport const REMOVE_LAST = 'REMOVE_LAST'\nexport const UPDATE_ELEMENT = 'UPDATE_ELEMENT'\nexport const DELETE_ELEMENT = 'DELETE_ELEMENT'\nexport const SET_DOCUMENT_STARTNUMBERING = 'SET_DOCUMENT_STARTNUMBERING'\nexport const ADD_PAGEBREAK_BEFORE = 'ADD_PAGEBREAK_BEFORE' // need to come up with a better way to do this\n\nlet elemID = 0\n\n// Document content\n\nexport const addToDocument = (elem) => ({\n  type: ADD_TO_DOCUMENT,\n  payload: {element: elem, id: ++elemID}\n})\n\nexport const clearAll = () => ({\n  type: CLEAR_ALL\n})\n\nexport const removeLast = () => ({\n  type: REMOVE_LAST,\n})\n\nexport const updateElement = (id, element) => ({\n  type: UPDATE_ELEMENT,\n  payload: { id, element }\n})\n\nexport const deleteElement = (id) => ({\n  type: DELETE_ELEMENT,\n  payload: id,\n})\n\n// Document settings\n\n\nexport const setDocumentStartNumbering = (n) => ({\n  type: SET_DOCUMENT_STARTNUMBERING,\n  payload: n\n})\n\n\n\n// Document view\n\nexport const addPageBreakBefore = (id) => ({\n  type: ADD_PAGEBREAK_BEFORE,\n  payload: id\n})\n\n\n","/*\nThis renders math in text using markdown, and simple markdown using\nmarkdown-it's inline renderer. For more complicated markdown, use\nthe 'markdown' type, which will be passed to the 'renderMarkdown' function\n*/\n\nimport React from 'react'\nimport katex from 'katex'\nimport { defaultsDeep } from 'lodash'\nimport MarkdownIt from 'markdown-it'\nimport mdsup from 'markdown-it-sup'\nimport mdsub from 'markdown-it-sub'\nimport mdsmartarrows from 'markdown-it-smartarrows'\nimport mdmath from 'markdown-it-math'\nimport splitAtDelimiters  from 'katex/contrib/auto-render/splitAtDelimiters'\n\n\nconst defaultOptions = {\n  markdown: {\n    render: true,\n    superscript: true,\n    subscript: true,\n    smartarrows: true,\n  },\n\n  math: {\n    render: true,\n    delimiters: {\n      display: {left: '$$$', right: '$$$'},\n      inline: {left: '$$', right: '$$'},\n    },\n  }\n};\n\n\n\n// from katex:\nconst splitWithDelimiters = function(text, delimiters) {\n  let data = [{type: \"text\", data: text}];\n  for (let i = 0; i < delimiters.length; i++) {\n    const delimiter = delimiters[i];\n    data = splitAtDelimiters(\n      data, delimiter.left, delimiter.right,\n      delimiter.display || false);\n  }\n  return data;\n};\n\nconst MathAndMarkdown = ({data, options}) => {\n  /**\n   * Split text using Katex, then render pieces with katex (if math)\n   * or markdown (inline only)\n   */\n  const katexOptions = {\n    delimiters: [\n      {left: options.math.delimiters.display.left, right: options.math.delimiters.display.right, display: true},\n      {left: options.math.delimiters.inline.left, right: options.math.delimiters.inline.right, display: false},\n    ],\n    errorCallback: console.error,\n  }\n\n  return (\n    <span>\n      {splitWithDelimiters(data, katexOptions.delimiters).map((c,i) => {\n        if (c.type === 'text') {\n          if (options.markdown.render) {\n            return <InlineMarkdown key={i} data={c.data} markdownOptions={options.markdown} />\n          } else {\n            return <PlainText key={i} data={c.data} />\n          }\n        } else {\n          return <KatexMath key={i} data={c} katexOptions={{...katexOptions, displayMode: c.display}} />\n        }\n      })}\n    </span>\n  )\n}\n\nconst PlainText = ({data}) => {\n  return <span>{data.toString()}</span>\n}\n\nconst KatexMath = ({data, katexOptions}) => {\n  try {\n    const html = katex.renderToString(data.data, katexOptions);\n    return <span dangerouslySetInnerHTML={{__html: html}} />\n  } catch (e) {\n    if (!(e instanceof katex.ParseError)) {\n      throw e;\n    }\n    katexOptions.errorCallback(\n      \"KaTeX auto-render: Failed to parse `\" + data.data + \"` with \", e\n    );\n    return <span>{data.raw}</span>\n  }\n}\n\nconst InlineMarkdown = ({data, markdownOptions}) => {\n  let md = new MarkdownIt()\n  if (markdownOptions.subscript) { md = md.use(mdsub); }\n  if (markdownOptions.superscript) { md = md.use(mdsup); }\n  if (markdownOptions.smartarrows) { md = md.use(mdsmartarrows); }\n  const html = md.renderInline(data)\n  return <span dangerouslySetInnerHTML={{__html: html}} />\n}\n\nexport const Text = ({data, options}) => {\n  if (typeof data === 'number') {\n    return <PlainText data={data.toString()} />\n  } else {\n    const opts = defaultsDeep({}, options, defaultOptions)\n    if (opts.math.render) {\n      return <MathAndMarkdown data={data} options={opts} />\n    } else if (opts.markdown.render) {\n      return <InlineMarkdown data={data} markdownOptions={opts.markdown} />\n    } else {\n      return <PlainText data={data} />\n    }\n  }\n}\n\nexport const Markdown = ({data, options}) => {\n  const opts = defaultsDeep({}, options, defaultOptions)\n  let md = new MarkdownIt()\n  if (opts.markdown.subscript) { md = md.use(mdsub); }\n  if (opts.markdown.superscript) { md = md.use(mdsup); }\n  if (opts.markdown.smartarrows) { md = md.use(mdsmartarrows); }\n  if (opts.math.render) {\n    md = md.use(mdmath, {\n      inlineRenderer: (str) => katex.renderToString(str),\n      blockRenderer: (str) => '<div class=\"math-block\">' + katex.renderToString(str, {displayMode: true}) + '</div>',\n      inlineOpen: opts.math.delimiters.inline.left,\n      inlineClose: opts.math.delimiters.inline.right,\n      blockOpen: opts.math.delimiters.display.left,\n      blockClose: opts.math.delimiters.display.right,\n    })\n  }\n  return (\n    <span dangerouslySetInnerHTML={{__html: md.render(data)}} ></span> \n  )\n}\n\n\n\n\n\n\n/*\nconst defaultDelimiters = {\n  display: {left: '$$$', right: '$$$'},\n  inline: {left: '$$', right: '$$'},\n}\n\nconst replaceMathDelimiters = function(text, options, delimiters=defaultDelimiters) {\n  let optionsCopy = {...options.katex}\n  const data = splitWithDelimiters(text, optionsCopy.delimiters)\n  let result = \"\"\n  for (let i = 0; i < data.length; i++) {\n    if (data[i].type === \"text\") {\n      result += data[i].data\n    } else if (data[i].display) {\n      result += `${delimiters.display.left}${data[i].data}${delimiters.display.right}`\n    } else {\n      result += `${delimiters.inline.left}${data[i].data}${delimiters.inline.right}`\n    }\n  }\n  return result\n}\n*/\n","import React from 'react'\n\n\nconst ArrowMarker = ({style}) => {\n  const id = `vg-${style}-arrow`\n  const className = `vg-marker-${style}`\n  return (\n    <marker id={id} viewBox=\"0 0 10 10\" refX=\"3\" refY=\"5\"\n      markerWidth=\".4\" markerHeight=\".4\"\n      markerUnits=\"strokeWidth\"\n      orient=\"auto-start-reverse\">\n      <path d=\"M 2 5 L 0 0 L 10 5 L 0 10 z\" className={className}/>\n    </marker>\n  )\n}\n\nconst PointMarker = ({style}) => {\n  const id = `vg-${style}-point`\n  const className = `vg-marker-${style}`\n  return (\n    <marker id={id} viewBox=\"0 0 10 10\" refX=\"5\" refY=\"5\"\n      markerWidth=\".2\" markerHeight=\".2\"\n      markerUnits=\"strokeWidth\">\n      <circle cx=\"5\" cy=\"5\" r=\"5\" className={className}/>\n    </marker>\n  )\n}\n\nconst BigPointMarker = ({style}) => {\n  const id = `vg-${style}-point-big`\n  const className = `vg-marker-${style}`\n  return (\n    <marker id={id} viewBox=\"0 0 10 10\" refX=\"5\" refY=\"5\"\n      markerWidth=\".3\" markerHeight=\".3\"\n      markerUnits=\"strokeWidth\">\n      <circle cx=\"5\" cy=\"5\" r=\"5\" className={className}/>\n    </marker>\n  )\n}\n\nconst HoleMarker = ({style}) => {\n  const id = `vg-${style}-hole`\n  const className = `vg-marker-${style}`\n  return (\n    <marker id={id} viewBox=\"0 0 10 10\" refX=\"5\" refY=\"5\"\n      markerWidth=\".4\" markerHeight=\".4\"\n      markerUnits=\"strokeWidth\">\n      <circle cx=\"5\" cy=\"5\" r=\"5\" className={className}/>\n      <circle cx=\"5\" cy=\"5\" r=\"3\" className='vg-hole-marker'/>\n    </marker>\n  )\n}\n\n\nexport const MarkerDefs = () => {\n  const styles = ['axis', 'plot', 'geom']\n  return (\n    <>\n    {styles.map(s => <ArrowMarker key={`arrow-${s}`} style={s}/> )}\n    {styles.map(s => <PointMarker key={`pt-${s}`} style={s}/> )}\n    {styles.map(s => <BigPointMarker key={`bigpt-${s}`} style={s}/> )}\n    {styles.map(s => <HoleMarker key={`hole-${s}`} style={s}/> )}\n    </>\n  )\n}","import React from 'react'\n\n\nexport function makesrange(min, max, step=1, anchor) {\n\tif (anchor === undefined) {\n\t\tanchor = min;\n\t} else if (anchor < min) {\n\t\tanchor = min;\n\t} else if (anchor > max) {\n\t\tanchor = max;\n\t}\n\tlet r = [anchor,];\n\tlet v = anchor - step;\n\twhile (v >= min) {\n\t\t\tr.splice(0, 0, v);\n\t\t\tv -= step;\n\t}\n\tv = anchor + step;\n\twhile (v <= max) {\n\t\t\tr.push(v);\n\t\t\tv += step;\n\t}\n\treturn r;\n}\n\n\n\nconst AutoClip = ({span, padX, padY, clipID}) => {\n  const [x0, y0, x1, y1] = span\n  const w = x1 - x0, h = y1 - y0\n  return (\n    <clipPath id={`clip-path-${clipID}`}>\n      <rect x={x0-padX} y={y0-padY} \n      width={w+2*padX} height={h+2*padY}/>\n    </clipPath>\n  )\n}\n\nconst AxisH = (props) => {\n  const {span, origin=[0,0]} = props\n  const orig = `${origin[0]},${origin[1]}`\n  return (\n    <>\n    {span[0] === origin[0] ? null : <path className='vg-axis vg-axis-neg' d={`M${orig}H${span[0]}`} vectorEffect='non-scaling-stroke'/>}\n    <path className='vg-axis vg-axis-pos' d={`M${orig}H${span[1]}`} vectorEffect='non-scaling-stroke'/>\n    </>\n  )\n}\n\nconst AxisV = (props) => {\n  const {span, origin=[0,0]} = props\n  const orig = `${origin[0]},${origin[1]}`\n  return (\n    <>\n    {span[0] === origin[1] ? null : <path className='vg-axis vg-axis-neg' d={`M${orig}V${span[0]}`} vectorEffect='non-scaling-stroke'/>}\n    <path className='vg-axis vg-axis-pos' d={`M${orig}V${span[1]}`} vectorEffect='non-scaling-stroke'/>\n    </>\n  )\n}\n\nexport const Grid = (props) => {\n  const {span, step=[1,1], origin=[0,0]} = props\n  const axis = props.axis !== undefined ? props.axis : [...origin]\n\n  const x = {span: [span[0], span[2]], step: step[0], origin: origin[0]}\n  const y = {span: [span[1], span[3]], step: step[1], origin: origin[1]}\n\n  const xvals = x.step ? makesrange(...x.span, x.step, x.origin) : []\n  const yvals = y.step ? makesrange(...y.span, y.step, y.origin) : []\n\n  let hAxis = axis === null ? false : (axis[1] === null ? false : true)\n  let vAxis = axis === null ? false : (axis[0] === null ? false : true)\n\n  return (\n    <>\n      {xvals.map(v => <path key={`x-${v}`} className='vg-path vg-grid' d={`M${v},${y.span[0]}V${y.span[1]}`} vectorEffect='non-scaling-stroke'/>)}\n      {yvals.map(v => <path key={`y-${v}`} className='vg-path vg-grid' d={`M${x.span[0]},${v}H${x.span[1]}`} vectorEffect='non-scaling-stroke'/>)}\n      {vAxis ? <AxisV span={y.span} origin={axis} /> : null}\n      {hAxis ? <AxisH span={x.span} origin={axis} /> : null}\n    </>\n  )\n}\n\n\nlet clipCounter = 0\nexport const CartesianPlane = (props) => {\n  const {span, autogrid=false, padding, style='xy-plot', ...otherprops} = props\n  const [x0, y0, x1, y1] = span\n  const xpad = (x1 - x0) * .1\n  const ypad = (y1 - y0) * .1\n  const clipPadX = padding === undefined ? (x1 - x0) * .005 : padding\n  const clipPadY = padding === undefined ? (y1 - y0) * .005 : padding\n  const w = x1 - x0\n  const h = y1 - y0\n  \n\n  const clipID = ++clipCounter\n\n  const classNames = ['vg-cartesian-plane']\n  if (style === 'xy-plot') {\n    classNames.push('vg-style-xyplot')\n  }\n  if (style === 'geom') {\n    classNames.push('vg-style-geom')\n  }\n\n  //const viewBox = `${x0-xpad} ${-y1-ypad} ${w+2*xpad} ${h+2*ypad}`\n  const viewBox = `${x0-xpad} ${y0-ypad} ${w+2*xpad} ${h+2*ypad}`\n  const translateY = y0 + y1\n  const transform = `translate(0,${translateY}) scale(1,-1)`\n\n  return (\n    <svg viewBox={viewBox} \n      className={classNames.join(' ')}\n      {...otherprops}>\n      <defs>\n        <AutoClip span={span} padX={clipPadX} padY={clipPadY} clipID={clipID} />\n      </defs>\n      <g transform={transform}>\n        {autogrid ? <Grid span={span} /> : null}\n        <g clipPath={`url(#clip-path-${clipID})`}>\n          {props.children}\n        </g>\n      </g>\n    </svg>\n  )\n}","\nexport function pathFromPoints(points) {\n  const inverse = false\n  if (Array.isArray(points[0])) {\n    if (inverse) {\n      return `M${points.map(p => `${p[1]},${p[0]}`).join('L')}`\n    }\n    return `M${points.map(p => `${p[0]},${p[1]}`).join('L')}`\n  }\n  if (inverse) {\n    return `M${points.map(p => `${p.y},${p.x}`).join('L')}`\n  }\n  return `M${points.map(p => `${p.x},${p.y}`).join('L')}`\n}","import React from 'react'\nimport { pathFromPoints } from './tools'\n\n\nexport const Layer = (props) => {\n  return (\n    <g {...props}>\n      {props.children}\n    </g>\n  )\n}\n\nexport const Path = (props) => {\n  const {points, ...otherprops} = props\n  return (\n    <path className='vg-element vg-path'\n      vectorEffect='non-scaling-stroke'\n      d={pathFromPoints(points)}\n      {...otherprops}\n    />\n  )\n}\n\nexport const Text = (props) => {\n  const {x, y, children, ...otherprops} = props\n  return (\n    <text className='vg-text' x={x} y={-y} {...otherprops} transform='scale(1,-1)' vectorEffect='non-scaling-stroke'>\n      {props.children}\n    </text>\n  )\n}","import React from 'react'\nimport {Path, Layer} from './Base'\nimport { pathFromPoints } from './tools'\n\nexport const Point = (props) => {\n  const {x, y, coords, ...otherprops} = props\n  const d = `M${coords ? `${coords[0]},${coords[1]}` : `${x},${y}`}z`\n  return (\n    <path className='vg-point'\n      vectorEffect='non-scaling-stroke'\n      d={d}\n      {...otherprops}\n    />\n  )\n}\n\nexport const Hole = (props) => {\n  const {x, y, coords, inner, outer} = props\n  const d = `M${coords ? `${coords[0]},${coords[1]}` : `${x},${y}`}z`\n  return (\n    <>\n      <path key='ext' className='vg-hole'\n        vectorEffect='non-scaling-stroke'\n        d={d}\n        {...outer}\n      />\n    </>\n  )\n}\n\nexport const ShadedRegion = (props) => {\n  const {points, ...otherprops} = props\n  return (\n    <path className='vg-shaded-region' \n      vectorEffect='non-scaling-stroke'\n      d={pathFromPoints(points)}\n      {...otherprops}\n    />\n  )\n}\n\nexport const Asymptote = (props) => {\n  const {points, otherprops} = props\n  return (\n    <path className='vg-asymptote'\n      vectorEffect='non-scaling-stroke'\n      d={pathFromPoints(points)}\n      {...otherprops}\n    />\n  )\n}\n\n//export const Path = (props) => <Base.Path {...{className: 'vg-path', ...props}} />\n\nconst calcPath = function(f, domain, step=0.1) {\n  let path = []\n  let x = domain[0]\n  while (x < domain[1]) {\n    path.push({x: x, y: f(x)})\n    x += step\n  }\n  path.push(({x: domain[1], y: f(domain[1])}))\n  return path\n}\n\nexport const Polynomial = (props) => {\n  const { \n    coefficients, domain, step=0.1,\n    ...otherprops\n  } = props\n\n  const f = (x) => {\n    let ans = 0\n    for (const deg in coefficients) {\n      ans += coefficients[deg] * Math.pow(x,deg)\n    }\n    return ans\n  }\n\n  return <Path points={calcPath(f, domain, step)} {...otherprops}/>\n}\n\nexport const Rational = (props) => {\n  const {\n    roots=[], holes=[], asymptotes=[], numerCoeff=1, denomCoeff=1, \n    domain, step=0.1, range=[-1000,1000],\n    ...otherprops\n  } = props\n\n  const f = (x) => {\n    let num = numerCoeff\n    let den = denomCoeff\n    for (const r of roots) {\n      num *= (x - r)\n    }\n    for (const r of asymptotes) {\n      den *= (x - r)\n    }\n    return num / den\n  }\n\n  const domainPts = {\n    [+domain[0]] : true,\n    [+domain[1]] : true,\n  }\n\n  for (const r of asymptotes.filter(r => r >= domain[0] && r <= domain[1])) {\n    domainPts[+r] = false\n  }\n\n  const domains = []\n  const dp = Object.keys(domainPts).sort((a,b) => a-b)\n  for (let i = 1; i<dp.length; i++) {\n    const [v1, v2] = [dp[i-1], dp[i]]\n    domains.push([\n      {val: v1, def: domainPts[v1]},\n      {val: v2, def: domainPts[v2]}, \n    ])\n  }\n  \n  const paths = []\n  for (const d of domains) {\n    \n    const dom = [\n      d[0].def ? +d[0].val : +d[0].val + step,\n      d[1].def ? +d[1].val : +d[1].val - step,\n    ]\n    let path = calcPath(f, dom, step)\n    if (!d[0].def) {\n      let p = path[0]\n      while (p.y > range[0] && p.y < range[1]) {\n        const x = (3*d[0].val + p.x) / 4\n        p = {x, y: f(x)}\n        path = [p, ...path]\n      }\n    }\n    if (!d[1].def) {\n      let p = path[path.length-1]\n      while (p.y > range[0] && p.y < range[1]) {\n        const x = (3*d[1].val + p.x) / 4\n        p = {x, y: f(x)}\n        path.push(p)\n      }\n    }\n    paths.push(path)\n  }\n\n  const vas = asymptotes.map(x => [{x: x, y: range[0]}, {x: x, y: range[1]}])\n  let ha = null\n  if (asymptotes.length > roots.length) {\n    ha = [{x: domain[0], y: 0}, {x: domain[1], y: 0}]\n  } else if (asymptotes.length === roots.length) {\n    ha = [{x: domain[0], y: numerCoeff/denomCoeff}, {x: domain[1], y: numerCoeff/denomCoeff}]\n  }\n\n  return (\n    <g className='vg-function vg-rational'>\n      {ha ? <Asymptote key='hasym' points={ha} /> : null}\n      {vas.map(p => <Asymptote key={`asym${p[0].x}`} points={p} />)}\n      {paths.map(p => <Path key={`path${p[0].x}`} points={p} {...otherprops} />)}\n      {roots.map(x => <Point key={`root${x}`} x={x} y={f(x)} />)}\n      {holes.map(x => <Hole key={`hole${x}`} x={x} y={f(x)} />)}\n    </g>\n  )\n}\n","import React from 'react'\nimport { Path } from './Base'\nimport { pathFromPoints } from './tools'\n\nexport const Segment = (props) => (\n  <Path points={props.endpoints} {...{className: 'vg-path vg-path-segment', ...props}} />\n)\n\nexport const Ray = (props) => (\n  <Path points={props.endpoints} {...{className: 'vg-path vg-path-ray', ...props}} />\n)\n\nexport const Line = (props) => (\n  <Path points={props.endpoints} {...{className: 'vg-path vg-path-line', ...props}} />\n)\n\nexport const Circle = (props) => {\n  const {cx, cy, r, ...otherprops} = props\n  return <circle className='vg-path geom-circle' cx={cx} cy={cy} r={r} {...otherprops} vectorEffect='non-scaling-stroke'/>\n}\n\nexport const Polygon = (props) => {\n  const {vertices, labels} = props\n  const d = `${pathFromPoints(vertices)}z`\n  return (\n    <path d={d} className='vg-path vg-polygon' vectorEffect='non-scaling-stroke'/>\n  )\n}","import React from 'react'\n\nexport const Rotate = (props) => {\n  const deg = props.degrees !== undefined ? props.degrees : props.radians * 180 / Math.PI \n  return (\n    <g transform={`rotate(${deg})`}>\n      {props.children}\n    </g>\n  )\n}\n\n","import React from 'react'\nimport { RenderElement } from '../RenderElement'\n\nexport const AnswerChoices = ({data, options}) => {\n  return (\n    <ol className='answerchoice-list' type='a'>\n      {data.map((d,i) => (\n        <li key={`choice-${i}`}\n          className='answerchoice-item'>\n          <RenderElement content={d} inherited={options} />\n        </li>\n      ))}\n    </ol>\n  )\n}\n\n\n\nconst AnswerBlank = ({data, options}) => {\n  const style = {margin: '0'}\n  \n  if (data.width !== undefined) {\n    style.minWidth = data.width\n  }\n  if (data.height !== undefined) {\n    style.minHeight = data.height\n  }\n\n  return (\n    <tr>\n      <td><RenderElement content={data.label === undefined ? 'answer:' : data.label} /></td>\n      <td><div className='blank-underline answerblank' style={style}/></td>\n    </tr>\n  )\n}\n\nexport const AnswerBlanks = ({data, options}) => {\n  return (\n    <table className='answerblanks'>\n      <tbody>\n        {data.map((d,i) => {\n          const dat = typeof d === 'string' ? {label: d} : d\n          return (\n            <AnswerBlank \n              key={`answerblank=${dat.label}-${i}`} \n              data={dat}\n              options={options}\n            />\n        )})}\n      </tbody>\n    </table>\n  )\n}","/**\n * ATM this is not technically a secondary type\n * It's here because I may allow headings to use Markdown,\n * although that will interfere with the auto-blanks\n */\n\nimport React from 'react'\n\nconst parseHeader = (text) => {\n  let result = []\n  let current = ''\n  let isBlank = false\n  let i = 0\n  let blankSize = 0\n  while (i < text.length) {\n    const nextChar = text[i]\n    if (isBlank) {\n      if (nextChar === '_') {\n        blankSize += 1\n      } else {\n        result.push({type: 'blank', size: blankSize})\n        current = nextChar\n        isBlank = false\n        blankSize = 0\n      }\n    } else {\n      if (nextChar === '_') {\n        if (current !== '') {\n          result.push({type: 'text', text: current})\n          current = ''\n        }\n        isBlank = true\n        blankSize = 1\n      } else {\n        current += nextChar\n      }\n    }\n    i += 1\n  }\n  if (isBlank) {\n    if (blankSize > 0) {\n      result.push({type: 'blank', size: blankSize})\n    }\n  } else {\n    if (current !== '') {\n      result.push({type: 'text', text: current})\n    }\n  }\n  return result\n}\n\nconst renderHeaderElement = (text) => {\n  const parts = parseHeader(text)\n  return (\n    <>\n      {parts.map((p, i) => {\n        if (p.type === 'text') {\n          return (\n            <div key={i} style={{display: 'inline-block'}}>{p.text}</div>\n          )\n        } else {\n          const w = `${1 + 3*(p.size - 1)}cm`\n          return (\n            <div key={i} className='blank-underline blank-underline-header' style={{width: w}} />\n          )\n        }\n      })}\n    </>\n  )\n}\n\nexport const Header = ({data, options}) => {\n  /**\n   * @param data: array where each entry is {left, right}\n   */\n\n  if (data.length === 0) {\n    return <div className='header header-empty' />\n  } else {\n    return (\n      <table className='header'>\n        <tbody>\n          {data.map((row, i) => {\n            const {left, right} = row\n            return (\n              <tr key={i}>\n                <td>\n                  {renderHeaderElement(left || '')}\n                </td>\n                <td>\n                  {renderHeaderElement(right || '')}\n                </td>\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n    )\n  }\n}","import React from 'react'\nimport { RenderElement } from '../RenderElement'\n\nconst isArray = Array.isArray\n\nconst renderJsonMLChild = function(child, options) {\n  if (isArray(child)) {\n    try {\n      return <JsonML data={child} options={options} />\n    } catch(e) {\n      return <code className=\"error error-render\">{JSON.stringify(child)}</code>\n    }\n  } else {\n    return <RenderElement content={child} inherited={options} />\n  }\n}\n\nconst parseJsonML = function(data) {\n  if (typeof data[0] === 'string') {\n    const tagname = data[0]\n    let props = {}\n    let children = []\n    let i = 1\n    if (data[1]) {\n      if (data[1].constructor === Object) {\n        for (const k in data[1]) {\n          if (k === 'children') {\n            children = data[1][k]\n          } else {\n            props[k] = data[1][k]\n          }\n        }\n        i = 2\n      }\n    }\n    children = children.concat(data.slice(i))\n    return {tagname: tagname, props: props, children: children}\n  }\n  return null\n}\n\nexport const JsonML = ({data, options}) => {\n  const parsed = parseJsonML(data)\n  if (parsed) {\n    return React.createElement(\n      parsed.tagname, \n      parsed.props, \n      ...parsed.children.map(c => renderJsonMLChild(c, options))\n    )\n  } else {\n    return null\n  }\n}","import React from 'react'\nimport { defaultsDeep } from 'lodash'\nimport { renderElement } from '../RenderElement'\n\n\n\n\nconst QuestionLayout = ({\n  content, options={},\n  layout=[['instructions', 'question', 'answer'], 'diagram'], \n  direction='row'\n}={}) => {\n\n  const className = `question-layout question-layout-${direction}`\n  const newDirection = {row: 'column', column: 'row'}[direction]\n\n  return (\n    <div className={className}>\n      {layout.map((area, i) => {\n        if (Array.isArray(area)) {\n          return (\n            <QuestionLayout key={`region-${i}`} \n            content={content} options={options}\n            layout={area} direction={newDirection} />\n          )\n        } else {\n          if (content[area]) {\n            return (\n              <div key={area} className={`question-area question-area-${area}`}>\n                {renderElement(content[area], options)}\n              </div>\n            )\n          }\n        }\n        return null\n      })}\n    </div>\n  )\n}\n\n\nfunction isMultipleChoice(data, options={}) {\n  if (options.isMultipleChoice !== undefined) {\n    return options.isMultipleChoice\n  }\n  if (data.answer && typeof data.answer !== 'string') {\n    if (data.answer.choices) {\n      return true\n    }\n  }\n  return false\n}\n\n\nexport const Question = ({data, options={}}) => {\n  const opts = defaultsDeep({}, data._options || {}, options)\n  let {instructions, question, diagram} = data\n  const content = {instructions, question, diagram}\n  if (isMultipleChoice(data, opts)) {\n    Object.assign(content, data.multipleChoice)\n    content.answer = {\n      type: 'answerchoices',\n      data: data.answer.choices,\n    }\n  } else {\n    Object.assign(content, data.freeResponse)\n    if (data.answer && data.answer.prompt !== undefined) {\n      if (data.answer.prompt !== null) {\n        content.answer = {\n          type: 'answerblanks',\n          data: typeof data.answer.prompt === 'string' ? [data.answer.prompt] : data.answer.prompt\n        }\n      }\n    } else {\n      if (data.answer !== null) {\n        content.answer = {\n          type: 'answerblanks',\n          data: [({})],\n        }\n      }\n    }\n  }\n  return <QuestionLayout content={content} options={opts}/>\n}\n\n\nexport const NumberedQuestion = ({data, options}) => {\n  return (\n    <div className='question-wrapper'>\n      <Question data={data} options={options} />\n    </div>\n  )\n}\n\nexport const AnswerKey = ({data, options={}}) => {\n  const letters = 'abcdefg'\n  if (isMultipleChoice(data, options)) {\n    if (data.answer.choices && data.answer.correctIndex !== undefined) {\n      return letters[data.answer.correctIndex]\n    }\n  }\n  if (data.answer !== undefined && data.answer !== null) {\n    if (data.answer.correct) {\n      return renderElement(data.answer.correct, options)\n    }\n    if (data.answer.type || typeof data.answer === 'string') {\n      return renderElement(data.answer, options)\n    }\n  }\n  return null\n}","import {\n  Html,\n  Markdown,\n  Text,\n  VectorGraphic,\n  Vega,\n  VegaLite\n} from './primaryTypes'\n\nimport {\n  AnswerBlanks,\n  AnswerChoices,\n  AnswerKey,\n  Header,\n  JsonML,\n  List,\n  NumberedQuestion,\n  Question,\n} from './secondaryTypes'\n\nexport const renderTypes = {\n  answerkey: AnswerKey,\n  answerblanks: AnswerBlanks,\n  answerchoices: AnswerChoices,\n  //'answer-choices': AnswerChoices,\n  header: Header,\n  html: Html,\n  jsonml: JsonML,\n  list: List,\n  markdown: Markdown,\n  'question-nonumber': Question,\n  question: NumberedQuestion,\n  text: Text,\n  vectorgraphic: VectorGraphic,\n  vega: Vega,\n  'vega-lite': VegaLite,\n}\n\n\n// If type is undefined:\nexport const detectType = function(elem) {\n  if (Array.isArray(elem)) return 'list'\n  if (typeof elem === 'string') return 'text'\n  if (typeof elem === 'number') return 'text'\n}\n\nexport default renderTypes\n","import React from 'react'\n\nexport const Html = ({data}) => {\n  return (\n    <span dangerouslySetInnerHtml={{__html: data}}/>\n  )\n}","import React from 'react'\nimport { JsonML } from './JsonML'\n\nexport const List = ({data, options}) => {\n\n  return (\n    <JsonML \n      data={['ol', {className: 'list-auto'}, ...data.map(d => ['li', {}, d])]} \n      options={options}\n    />\n  )\n}","import React from 'react'\nimport * as VG from './VG'\n\nconst SvgJsonML = (data, options) => {\n  try {\n    if (typeof data === 'string') {\n      return data\n    }\n    let [type, props, ...children] = data\n    if (props) {\n      if (Array.isArray(props) || typeof props === 'string') {\n        children.splice(0,0,props)\n        props = {}\n      }\n    }\n    const renderType = VG[type]\n    return React.createElement(renderType, props, ...children.map(c => SvgJsonML(c, options)))\n  } catch(e) {\n    console.error(e)\n    return null\n  }\n}\n\nexport const VectorGraphic = ({data, options}) => SvgJsonML(data, options)\n","import React from 'react'\nimport ReactVega from 'react-vega'\nimport ReactVegaLite from 'react-vega-lite'\n\nexport const Vega = ({data, options}) => {\n  return (\n    <ReactVega spec={data} />\n  )\n}\n\nexport const VegaLite = ({data, options}) => {\n  return (\n    <ReactVegaLite spec={data} />\n  )\n}","import React from 'react'\nimport { defaultsDeep } from 'lodash'\nimport { renderTypes, detectType } from './renderTypes'\n\n\nfunction renderAs(type, data, options) {\n  const RenderType = renderTypes[type]\n  if (RenderType) {\n    return (\n      <RenderType \n        data={data} \n        options={options} \n      />\n    )\n  } else {\n    console.error(`No render method for type ${type}`)\n    return <code className='error-failed-render'>{JSON.stringify(data)}</code>\n  }\n}\n\nconst isArray = Array.isArray\n\nexport const RenderElement = ({content, inherited}) => renderElement(content, inherited)\n\nexport const renderElement = function(content, inherited) {\n  try {\n    if (typeof content === 'string' || typeof content === 'number') {\n      return renderAs('text', content, inherited)\n    }\n    if (isArray(content)) {\n      return renderAs('list', content, inherited)\n    }\n    let {type, data, options} = content\n    if (!type) {\n      type = detectType(data)\n    }\n    if (data) {\n      return renderAs(type, data, inherited ? defaultsDeep({}, options, inherited) : options)\n    }\n    return <code className='error-failed-render'>{JSON.stringify(content)}</code>\n  } catch(e) {\n    console.error(e)\n    return <code className='error-failed-render'>{JSON.stringify(content)}</code>\n  }\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { renderElement } from '..'\n\n\n\n\nclass DefaultEditor extends React.Component {\n  static propTypes = {\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n    element: PropTypes.object.isRequired,\n    onUpdateElement: PropTypes.func.isRequired,\n    onDeleteElement: PropTypes.func.isRequired,\n    onRequestClose: PropTypes.func,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      type: props.element.type,\n      data: props.element.data || {},\n      options: props.element.options || {},\n    }\n  }\n\n  updateAndClose = () => {\n    this.props.onUpdateElement(this.props.id, this.state)\n    this.props.onRequestClose()\n  }\n\n  deleteAndClose = () => {\n    this.props.onDeleteElement(this.props.id)\n    this.props.onRequestClose()\n  }\n\n  setData(data) {\n    this.setState({data: data})\n  }\n\n  revertChanges = () => {\n    this.setState({\n      type: this.props.element.type,\n      data: this.props.element.data || {},\n      options: this.props.element.options || {},\n    })\n  }\n\n  renderEditor() {\n    return <div>Editing is not yet implemented for this type of element.</div>\n  }\n\n  renderPreview() {\n    return (\n      <div className='document' style={{\n        padding: '5mm', \n        margin: '5mm', \n        border: '1px solid grey', \n        backgroundColor: 'white',\n        overflow: 'clip',\n      }}>\n        {renderElement(this.state)}\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <>\n        <div style={{\n          width: '100%',\n          display: 'grid', \n          gridTemplateColumns: 'auto auto auto 1fr auto',\n          margin: '0 0 5mm 0',\n        }}>\n          <button onClick={this.updateAndClose}>Apply Changes</button>\n          <button onClick={this.revertChanges}>Revert Changes</button>\n          <button onClick={this.props.onRequestClose}>Cancel</button>\n          <span />\n          <button onClick={this.deleteAndClose} style={{justifySelf: 'right'}}>Delete</button>\n        </div>\n        {this.renderEditor()}\n        {this.renderPreview()}\n      </>\n    )\n  }\n}\n\n\nexport default DefaultEditor","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\n\n\nexport default class Header extends DefaultEditor {\n\n  headingUpdate(row, lr, text) {\n    let newrow = {...this.state.data[row]}\n    newrow[lr] = text\n    let newdata = [...this.state.data]\n    newdata[row] = newrow\n    this.setData(newdata)\n  }\n\n  headingAddRow = () => {\n    const newdata = [...this.state.data, {left: '', right: ''}]\n    this.setData(newdata)\n  }\n\n  headingRemoveRow = () => {\n    const newdata = this.state.data.slice(0,-1)\n    this.setData(newdata)\n  }\n\n  renderEditor() {\n    const data = this.state.data\n    const inputStyle = {\n      width: '100%',\n      borderStyle: 'dashed',\n      fontSize: '12pt',\n      fontFamily: 'var(--doc-font-family, sans-serif)',\n      margin: '1mm',\n      padding: '1mm',\n    }\n    return (\n      <div>\n      <p>\n        Underscores will be translated into a blank underlined space.\n      </p>\n      <table className='header'>\n        <tbody>\n          {data.map((row, i) => {\n            const {left, right} = row\n            return (\n              <tr key={i} >\n                <td style={{border: 'none', padding: '0 1em 0 0'}}>\n                  <input \n                    onChange={(evt) => this.headingUpdate(i, 'left', evt.target.value)}\n                    value={left || ''} \n                    style={inputStyle}\n                  />\n                </td>\n                <td style={{border: 'none', padding: '0 1em 0 0'}}>\n                  <input \n                    onChange={(evt) => this.headingUpdate(i, 'right', evt.target.value)}\n                    value={right || ''} \n                    style={inputStyle}\n                  />\n                </td>\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n      <button onClick={this.headingRemoveRow}>-</button>\n      <button onClick={this.headingAddRow}>+</button>\n      </div>\n    )\n  }\n\n}","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\nimport { renderElement } from '..'\nimport styles from './styles.module.css'\n\nfunction checkMC(data, options) {\n  if (options.isMultipleChoice === undefined) {\n    if (data.answer && data.answer.choices) {\n      return true\n    } else {\n      return false\n    }\n  } else {\n    return options.isMultipleChoice\n  }\n}\n\n\nexport default class Question extends DefaultEditor {\n  constructor(props) {\n    super(props)\n    this.state.options.isMultipleChoice = checkMC(this.state.data, this.state.options)\n  }\n\n  revertChanges = () => {\n    const newState = ({\n      type: this.props.element.type,\n      data: this.props.element.data || {},\n      options: this.props.element.options || {},\n    })\n    newState.options.isMultipleChoice = checkMC(newState.data, newState.options)\n    this.setState(newState)\n  }\n\n  toggleMC = evt => {\n    this.isMC = evt.target.checked\n    this.setState({options: {...this.state.options, isMultipleChoice: evt.target.checked}})\n  }\n\n  updateVersionDefault(k, v) {\n    this.setState({data: {...this.state.data, [k]: v}})\n  } \n  updateVersionMC(k, v) {\n    const multipleChoice = {...this.state.data.multipleChoice}\n    if (v === '') {\n      delete multipleChoice[k]\n    } else {\n      multipleChoice[k] = v\n    }\n    this.setState({data: {...this.state.data, multipleChoice}})\n  }\n  updateVersionFR(k, v) {\n    const freeResponse = {...this.state.data.freeResponse}\n    if (v === '') {\n      delete freeResponse[k]\n    } else {\n      freeResponse[k] = v\n    }\n    this.setState({data: {...this.state.data, freeResponse}})\n  }\n\n  updateInstructions = evt => this.updateVersionDefault('instructions', evt.target.value)\n  updateInstructionsMC = evt => this.updateVersionMC('instructions', evt.target.value)\n  updateInstructionsFR = evt => this.updateVersionFR('instructions', evt.target.value)\n\n  updateQuestion = evt => this.updateVersionDefault('question', evt.target.value)\n  updateQuestionMC = evt => this.updateVersionMC('question', evt.target.value)\n  updateQuestionFR = evt => this.updateVersionFR('question', evt.target.value)\n\n  renderInstructionsOrQuestionInputs(fieldname) {\n    const isMC = this.state.options.isMultipleChoice\n    const overrides = isMC ? this.state.data.multipleChoice || {} : this.state.data.freeResponse || {}\n    const updaters = {\n      instructions: {\n        default: this.updateInstructions,\n        mc: this.updateInstructionsMC,\n        fr: this.updateInstructionsFR,\n      },\n      question: {\n        default: this.updateQuestion,\n        mc: this.updateQuestionMC,\n        fr: this.updateQuestionFR,\n      }\n    }[fieldname]\n    return (\n      <>\n      <td>\n        <textarea value={this.state.data[fieldname]} \n          onChange={updaters.default}\n          cols=\"40\"\n          rows=\"4\"\n        />\n      </td>\n      <td>\n        {isMC ? (\n          <textarea value={overrides[fieldname] || ''} \n            onChange={updaters.mc}\n            cols=\"40\"\n            rows=\"4\"\n          />\n        ) : (\n          <textarea value={overrides[fieldname] || ''} \n            onChange={updaters.fr}\n            cols=\"40\"\n            rows=\"4\"\n          />\n        )}\n      </td>\n      </>\n    )\n  }\n\n\n  renderDiagram() {\n    return null\n  }\n\n  renderMCToggle() {\n    if (this.state.data.answer && this.state.data.answer.choices) {\n      return (\n        <>\n          Multiple Choice:\n          <input type=\"checkbox\" \n            checked={this.state.options.isMultipleChoice}\n            onChange={this.toggleMC}\n          />\n        </>\n      )\n    }\n    return null\n  }\n\n  renderEditor() {\n    const isMC = this.state.options.isMultipleChoice\n    const data = this.state.data\n\n    return (\n      <div>\n        {this.renderMCToggle()}\n        <table>\n          <tbody>\n            <tr>\n              <td></td>\n              <td style={{textAlign: 'center'}}>Default</td>\n              <td style={{textAlign: 'center'}}>{isMC ? 'Multiple Choice' : 'Free Response'} Version</td>\n            </tr>\n            <tr>\n              <td>Instructions</td>\n              {this.renderInstructionsOrQuestionInputs('instructions')}\n            </tr>\n            <tr>\n              <td>Question</td>\n              {this.renderInstructionsOrQuestionInputs('question')}\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n\n  renderPreview() {\n\n    return (\n      <>\n      {super.renderPreview()}\n      <div className='document' style={{\n        padding: '5mm', \n        margin: '0 5mm 5mm 5mm ', \n        border: '1px solid grey', \n        backgroundColor: 'white',\n        overflow: 'clip',\n        fontSize: '1em',\n      }}>\n        {renderElement({...this.state, type: 'answerkey'})}\n      </div>\n      </>\n    )\n  }\n\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { updateElement, deleteElement } from '../../actions/document'\n\nimport DefaultEditor from './DefaultEditor'\nimport Header from './Header'\nimport Question from './Question'\n\n\n\nconst EditElement = (props) => {\n  if (props.element.type === 'header') return <Header {...props} />\n  if (props.element.type === 'question') return <Question {...props} />\n  return <DefaultEditor {...props} />\n}\n\n\nconst mapDispatchToProps = dispatch => ({\n  onUpdateElement: (id, elem) => dispatch(updateElement(id, elem)),\n  onDeleteElement: (id) => dispatch(deleteElement(id)),\n})\n\nexport default connect(null, mapDispatchToProps)(EditElement)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport ReactModal from 'react-modal'\nimport { RenderElement } from '../../renderMethods'\n//import { updateElement, deleteElement } from '../../actions/document'\nimport EditElement from '../../renderMethods/editing'\n\n\nclass TopLevelElement extends React.Component {\n  static propTypes = {\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n    element: PropTypes.object.isRequired,\n    canEdit: PropTypes.bool.isRequired,\n  }\n\n  static defaultProps = {\n    canEdit: false,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      modal: 'none',\n    }\n  }\n\n  openEditor = () => this.setState({modal: 'edit'})\n  closeModal = () => this.setState({modal: 'none'})\n\n  render() {\n    const divprops = (\n      this.props.canEdit \n      ? {className: 'editable', onDoubleClick: this.openEditor, title: 'Double-click to edit'} \n      : {}\n    )\n    return (\n      <>\n      <div {...divprops}>\n        <RenderElement content={this.props.element} />\n      </div>\n      <ReactModal isOpen={this.state.modal === 'edit'}\n        onRequestClose={this.closeModal}\n        style={{\n          //content: {\n          //  top: '20%'\n          //}\n        }}\n      >\n        <EditElement\n          id={this.props.id}\n          element={this.props.element}\n          onRequestClose={this.closeModal}\n        />\n      </ReactModal>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  canEdit: state.config.allowEditing,\n})\n//const mapDispatchToProps = dispatch => ({\n//})\n\nexport default connect(mapStateToProps)(TopLevelElement)","// Sizes from papercss, measurements in mm\n\nexport const portrait = {\n  A3: { width: 297, height: 419 },\n  A4: { width: 210, height: 296 },\n  A5: { width: 148, height: 209 },\n  letter: { width: 216, height: 279 },\n  legal: { width: 216, height: 356 },\n}\n\nexport const landscape = {\n  A3: { width: 420, height: 296 },\n  A4: { width: 297, height: 209 },\n  A5: { width: 210, height: 147 },\n  letter: { width: 280, height: 215 },\n  legal: { width: 357, height: 215 },\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { addPageBreakBefore } from '../../actions/document'\nimport TopLevelElement from './TopLevelElement'\nimport { portrait, landscape } from './pagesize'\n\n\n\nclass MeasuredPage extends React.Component {\n  static propTypes = {\n    headerID: PropTypes.string || PropTypes.number,\n    footerID: PropTypes.string || PropTypes.number,\n    contentIDs: PropTypes.array.isRequired,\n    content: PropTypes.object.isRequired,\n    pageSize: PropTypes.string.isRequired,\n    pageOrientation: PropTypes.string.isRequired,\n    pageMargin: PropTypes.string.isRequired,\n    addPageBreakBefore: PropTypes.func.isRequired,\n    pageNumber: PropTypes.number,\n  }\n\n  static defaultProps = {\n    contentIDs: [],\n    pageSize: 'letter',\n    pageOrientation: 'portrait',\n    pageMargin: '10mm 10mm 10mm 10mm',\n  }\n\n  constructor(props) {\n    super(props)\n    this.inner = React.createRef()\n    this.outer = React.createRef()\n    this.state = {overflows: false}\n  }\n\n  innerH = () => this.inner.current.clientHeight\n  outerH = () => this.outer.current.clientHeight\n  overflows = () => this.innerH() > this.outerH()\n\n  componentDidUpdate() {\n    const oldstate = this.state.overflows\n    const newstate = this.overflows()\n    if (oldstate !== newstate) {\n      if (newstate) {\n        this.onOverflow()\n      }\n      this.setState({overflows: newstate})\n      this.forceUpdate()\n    }\n  }\n\n  onOverflow() {\n    this.props.addPageBreakBefore(this.props.contentIDs[this.props.contentIDs.length-1])\n  }\n\n  getPageSize()  {\n    if (this.props.pageOrientation === 'landscape') {\n      return landscape[this.props.pageSize]\n    } else {\n      return portrait[this.props.pageSize]\n    }\n  }\n\n  getOuterStyle() {\n    const {width, height} = this.getPageSize()\n    return {width: `${width}mm`, height: `${height}mm`}\n  }\n\n  getInnerStyle() {\n    return {\n      height: 'fit-content',\n      margin: '0',\n      padding: this.props.pageMargin,\n    }\n  }\n\n  getHeaderID() {\n    if (this.props.pageNumber in this.props.headers) {\n      return this.props.pageNumber\n    }\n    return 'default'\n  }\n\n  render() {\n    let outerclassname = (\n      this.state.overflows \n      ? 'page-outer page-overflowing' \n      : 'page-outer'\n    )\n\n    const outerstyle = this.getOuterStyle()\n    const innerstyle = this.getInnerStyle()\n    const headerID = this.getHeaderID()\n    return (\n      <div className={outerclassname} ref={this.outer} style={outerstyle}>\n        <div className='page-inner' ref={this.inner} style={innerstyle}>\n          <TopLevelElement key={`header-${headerID}`}\n            id={`header.${headerID}`}\n            element={this.props.headers[headerID]}\n          />\n          {this.props.contentIDs.map((id) => (\n            <TopLevelElement key={`contentElement-${id}`}\n              element={this.props.content[id]}\n              id={id}\n            />\n          ))}\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  headers: state.document.headers,\n  footers: state.document.footers,\n  content: state.document.content,\n  pageSize: state.style.pageSize,\n  pageOrientation: state.style.pageOrientation,\n  pageMargin: state.style.pageMargin,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  addPageBreakBefore: (id) => dispatch(addPageBreakBefore(id)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MeasuredPage)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { portrait, landscape } from './pagesize'\n\n\nclass Page extends React.Component {\n\n  getPageSize()  {\n    if (this.props.orientation === 'landscape') {\n      return landscape[this.props.size]\n    } else {\n      return portrait[this.props.size]\n    }\n  }\n\n  getOuterStyle() {\n    const {width, height} = this.getPageSize()\n    return {\n      width: `${width}mm`, \n      height: `${height}mm`,\n      padding: '0',\n    }\n  }\n\n  getInnerStyle() {\n    return {\n      margin: '0',\n      width: '100%',\n      height: '100%',\n      padding: this.props.margin,\n    }\n  }\n\n  render() {\n    return (\n      <div className='page-outer' style={this.getOuterStyle()}>\n        <div className='page-inner' style={this.getInnerStyle()}>\n          {this.props.children}\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  size: state.style.pageSize,\n  orientation: state.style.pageOrientation,\n  margin: state.style.pageMargin,\n})\n\nexport default connect(mapStateToProps)(Page)","import React from 'react'\nimport { connect } from 'react-redux'\nimport Page from './Page'\nimport { RenderElement } from '../../renderMethods'\n\n\nconst AnswerKey = (props) => {\n  return (\n    <Page>\n      <h3>Answer Key</h3>\n      <div className='answerkey'>\n        {props.contentIDs.map(id => {\n          const element = props.content[id]\n          if (element.type === 'question') {\n            return (\n              <div key={`answer-${id}`} className='answerkey-item'>\n                <RenderElement content={{...element, type: 'answerkey'}} />\n              </div>\n            )\n          } else {\n            return null\n          }\n        })}\n      </div>\n    </Page>\n  )\n}\n\nconst mapStateToProps = state => ({\n  contentIDs: state.document.order,\n  content: state.document.content\n})\n\nexport default connect(mapStateToProps)(AnswerKey)","import React from 'react'\n//import Page from './Page'\nimport MeasuredPage from './MeasuredPage'\nimport AnswerKey from './AnswerKey'\nimport { connect } from 'react-redux'\nimport { MarkerDefs } from '../../renderMethods/primaryTypes/VG'\n\n\nimport Scratch from './scratchpage'\n\n\nconst Document = (props) => {\n  const len = props.contentIDs.length\n  let prev = 0\n  let slices = []\n  for (const i of props.pagebreaks) {\n    if (i < len) {\n      slices.push([prev, i])\n      prev = i\n    }\n  }\n  slices.push([prev])\n  const pages = slices.map(s => props.contentIDs.slice(...s))\n\n  return (\n    <div className='document'>\n      <svg height='0' width='0'>\n        <defs>\n          <MarkerDefs />\n        </defs>\n      </svg>\n      {(\n        pages.length > 0 \n        ? pages.map((ids,i) => (\n          <MeasuredPage key={`page-${i+1}`} \n            pageNumber={i+1}\n            contentIDs={ids}\n          />\n        )) : null\n      )}\n      {props.showAnswerKey ? <AnswerKey /> : null}\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  contentIDs: state.document.order,\n  pagebreaks: state.document.pagebreaks,\n  showAnswerKey: state.config.showAnswerKey,\n  style: state.style,\n})\n\nexport default connect(mapStateToProps)(Document)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { addLocalFont } from '../../../actions/config'\n\nclass AddLocalFont extends React.Component {\n  static propTypes = {\n    addLocalFont: PropTypes.func.isRequired,\n    buttonLabel: PropTypes.string.isRequired,\n  }\n\n  static defaultProps = {\n    buttonLabel: 'Add'\n  }\n\n  constructor(props) {\n    super(props)\n    this.input = React.createRef()\n  }\n\n  addFont = () => {\n    const fontName = this.input.current.value\n    this.props.addLocalFont({family: fontName})\n  }\n\n  render() {\n    return (\n      <>\n      <input ref={this.input} spellCheck={false} />\n      <button onClick={this.addFont}>{this.props.buttonLabel}</button>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addLocalFont: (font) => dispatch(addLocalFont(font)),\n})\n\nexport default connect(null, mapDispatchToProps)(AddLocalFont)","export const ADD_LOCAL_FONT = 'ADD_LOCAL_FONT'\nexport const SET_ALLOW_EDITING = 'SET_ALLOW_EDITING'\nexport const SET_FONTFAMILY_UI = 'SET_FONTFAMILY_UI'\nexport const SET_SHOW_ANSWERKEY = 'SET_SHOW_ANSWERKEY'\n\nexport const addLocalFont = (font) => ({\n  type: 'ADD_LOCAL_FONT',\n  payload: font\n})\n\nexport const setAllowEditing = (b) => ({\n  type: SET_ALLOW_EDITING,\n  payload: b\n})\n\nexport const setFontFamilyUI = (inputType) => ({\n  type: SET_FONTFAMILY_UI,\n  payload: inputType\n})\n\nexport const setShowAnswerKey = (bool) => ({\n  type: SET_SHOW_ANSWERKEY,\n  payload: bool\n})\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setFontFamilyUI } from '../../../actions/config'\n\nclass FontFamilyUI extends React.Component {\n  static propTypes = {\n    current: PropTypes.string,\n    setFontFamilyUI: PropTypes.func.isRequired\n  }\n\n  setFontFamilyUI = (evt) => {\n    this.props.setFontFamilyUI(evt.target.value)\n  }\n\n  render() {\n    return (\n      <select onChange={this.setFontFamilyUI} value={this.props.current}>\n        <option value='input'>Input</option>\n        <option value='select'>Menu</option>\n      </select>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.config.fontFamilyUI\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setFontFamilyUI: (inputtype) => dispatch(setFontFamilyUI(inputtype)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontFamilyUI)","export const SET_DOCUMENT_FONTFAMILY = 'SET_DOCUMENT_FONTFAMILY'\nexport const SET_DOCUMENT_FONTSIZE = 'SET_DOCUMENT_FONTSIZE'\nexport const SET_MATH_FONTSIZE = 'SET_MATH_FONTSIZE'\nexport const SET_MATH_FONTWEIGHT = 'SET_MATH_FONTWEIGHT'\nexport const SET_PAGE_MARGIN = 'SET_PAGE_MARGIN'\nexport const UPDATE_GRAPHSTYLE = 'UPDATE_GRAPHSTYLE'\nexport const RESET_GRAPHSTYLE = 'RESET_GRAPHSTYLE'\n\n// Document font\nexport const setDocumentFontFamily = (family) => ({\n  type: SET_DOCUMENT_FONTFAMILY,\n  payload: family\n})\nexport const setDocumentFontSize = (size) => ({\n  type: SET_DOCUMENT_FONTSIZE,\n  payload: size\n})\n\n// Document Math Font\nexport const setMathFontSize = (size) => ({\n  type: SET_MATH_FONTSIZE,\n  payload: size\n})\nexport const setMathFontWeight = (weight) => ({\n  type: SET_MATH_FONTWEIGHT,\n  payload: weight\n})\n\n// Page Layout\nexport const setPageMargin = (margins) => ({\n  type: SET_PAGE_MARGIN,\n  payload: margins\n})\n\n// Graph Style\nexport const updateGraphStyle = (props) => ({\n  type: UPDATE_GRAPHSTYLE,\n  payload: props,\n})\n\nexport const resetGraphStyle = () => ({\n  type: RESET_GRAPHSTYLE,\n})","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setDocumentFontFamily } from '../../../actions/style'\n\n\nclass FontFamilyInput extends React.Component {\n  static propTypes = {\n    current: PropTypes.string,\n    setDocumentFontFamily: PropTypes.func,\n  }\n\n  constructor(props) {\n    super(props)\n    this.setCss(props.current)\n  }\n\n  setCss(fontFamily) {\n    document.body.style.setProperty('--doc-font-family', fontFamily)\n  }\n\n  setFontFamily(fontFamily) {\n    this.setCss(fontFamily)\n    this.props.setDocumentFontFamily(fontFamily)\n  }\n\n  onChange = (evt) => {\n    const value = evt.target.value\n    const fontFamily = value.slice(0,7) === '_LOCAL_' ? value.slice(8) : value\n    this.setFontFamily(fontFamily)\n  }\n\n  render() {\n    return (\n      <input \n        value={this.props.current}\n        spellCheck={false}\n        onChange={this.onChange}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.style.fontFamily,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setDocumentFontFamily: (family) => dispatch(setDocumentFontFamily(family)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontFamilyInput)","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { setDocumentFontFamily } from '../../../actions/style'\n\n\nconst GoogleFonts = [\n  {family: 'Computer Modern Serif'},\n  //{family: 'Inconsolata'},\n  {family: 'Lora'},\n  {family: 'Source Sans Pro'},\n]\n\nconst BrowserFonts = [\n  {label: 'Serif (browser default)', family: 'serif'},\n  {label: 'Sans-serif (browser default)', family: 'sans-serif'},\n]\n\nfunction fontSort(a, b) {\n  const aName = (a.label ? a.label : a.family).toUpperCase()\n  const bName = (b.label ? b.label : b.family).toUpperCase()\n  if (aName < bName) { return -1 }\n  if (aName > bName) { return 1}\n  return 0\n}\n\n\nfunction renderFontOption(font) {\n  const {family, label} = font\n  if (family === \"0\") {\n    const optionLabel = label ? label : \"---\"\n    return (\n      <option key={`font-null-${optionLabel}`}\n        value=\"0\"\n        disabled\n      >{optionLabel}</option>\n    )\n  } else {\n    const optionLabel = label ? label : family\n    return (\n      <option key={`font-family-option-${family}`}\n        value={family}\n        >{optionLabel}</option>\n    )\n  }\n}\n\n\n\n//////////////////////////////\n//\n// COMPONENT\n//\n////////////////////////////\n\n\nclass FontFamilySelect extends React.Component {\n  static propTypes = {\n    current: PropTypes.string,\n    localFonts: PropTypes.array.isRequired,\n    setDocumentFontFamily: PropTypes.func.isRequired,\n  }\n\n  static defaultProps = {\n    localFonts: [],\n  }\n\n  constructor(props) {\n    super(props)\n    this.setCss(props.current)\n  }\n\n  fontList = () => {\n    let result = [\n      ...GoogleFonts.sort(fontSort),\n      ...BrowserFonts, \n    ]\n    if (this.props.localFonts.length > 0) {\n      result.push({family: \"0\"})\n      result = result.concat(this.props.localFonts.sort(fontSort))\n    }\n    return result\n  }\n\n  setCss(fontFamily) {\n    document.body.style.setProperty('--doc-font-family', fontFamily)\n  }\n\n  setFontFamily(fontFamily) {\n    this.setCss(fontFamily)\n    this.props.setDocumentFontFamily(fontFamily)\n  }\n\n  onChange = (evt) => {\n    const value = evt.target.value\n    const fontFamily = value.slice(0,7) === '_LOCAL_' ? value.slice(8) : value\n    if (fontFamily) {\n      this.setFontFamily(fontFamily)\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <select\n          value={this.props.current}\n          onChange={this.onChange}\n        >\n          {this.fontList().map((f) => renderFontOption(f))}\n        </select>\n      </>\n    )\n  }\n}\n\n\nconst mapStateToProps = state => ({\n  current: state.style.fontFamily,\n  localFonts: [...state.config.localFonts],\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setDocumentFontFamily: (family) => dispatch(setDocumentFontFamily(family)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontFamilySelect)","import React from 'react'\nimport { connect } from 'react-redux'\nimport FontFamilyInput from './FontFamilyInput'\nimport FontFamilySelect from './FontFamilySelect'\n\nconst FontFamily = ({fontFamilyUI}) => (\n  fontFamilyUI === 'input' ? <FontFamilyInput/> : <FontFamilySelect/>\n)\n\nconst mapStateToProps = state => ({fontFamilyUI: state.config.fontFamilyUI})\n\nexport default connect(mapStateToProps)(FontFamily)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setDocumentFontSize } from '../../../actions/style'\n\n\nclass FontSizeSelect extends React.Component {\n\n  static propTypes = {\n    current: PropTypes.string.isRequired,\n    setDocumentFontSize: PropTypes.func.isRequired,\n  }\n\n  constructor(props) {\n    super(props)\n    this.setCss(props.current)\n  }\n\n  setCss(fontSize) {\n    document.body.style.setProperty('--doc-font-size', fontSize)\n  }\n\n  setDocFontSize(size) {\n    this.setCss(size)\n    this.props.setDocumentFontSize(size)\n  }\n\n  onChange = (evt) => {\n    this.setDocFontSize(evt.target.value)\n  }  \n\n  renderSizeOptions() {\n    const options = [5, 6, 7, 8, 9, 10, 11, 12, 13]\n    return (\n      <>\n      {options.map((s) => {\n        const size = `${s}pt`\n        return (\n          <option \n            value={size}\n            key={`fontOption-${size}`}\n          >{size}</option>\n        )\n      })}\n      </>\n    )\n  }\n\n  render() {\n    return (\n      <>\n        <select \n          value={this.props.current}\n          onChange={this.onChange}\n        >\n          {this.renderSizeOptions()}\n        </select>\n      </>\n    )\n  }\n}\n\n\nconst mapStateToProps = state => ({\n  current: state.style.fontSize,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setDocumentFontSize: (size) => dispatch(setDocumentFontSize(size)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontSizeSelect)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setMathFontSize, setMathFontWeight } from '../../../actions/style'\n\nclass MathFontSettings extends React.Component {\n  static propTypes = {\n    currentSize: PropTypes.string,\n    currentWeight: PropTypes.string,\n    setMathFontSize: PropTypes.func.isRequired,\n    setMathFontWeight: PropTypes.func.isRequired,\n  }\n\n  setSizeCss(size) {\n    document.body.style.setProperty('--doc-math-font-size', size)\n  }\n\n  setWeightCss(weight) {\n    document.body.style.setProperty('--doc-math-font-weight', weight)\n  }\n\n  setSize(size) {\n    this.setSizeCss(size)\n    this.props.setMathFontSize(size)\n  }\n\n  setWeight(weight) {\n    this.setWeightCss(weight)\n    this.props.setMathFontWeight(weight)\n  }\n\n  onChangeSize = (evt) => {\n    this.setSize(evt.target.value)\n  }\n\n  onChangeWeight = (evt) => {\n    if (evt.target.checked) {\n      this.setWeight('bold')\n    } else {\n      this.setWeight('normal')\n    }\n  }\n\n  render() {\n    return (\n      <>\n        Relative Size:\n        <select\n          onChange={this.onChangeSize}\n          value={this.props.currentSize}\n        >\n          <option value='0.6em'>0.6</option>\n          <option value='0.7em'>0.7</option>\n          <option value='0.8em'>0.8</option>\n          <option value='0.9em'>0.9 (default)</option>\n          <option value='1em'>1.0</option>\n          <option value='1.1em'>1.1</option>\n          <option value='1.2em'>1.2</option>\n          <option value='1.3em'>1.3</option>\n          <option value='1.4em'>1.4</option>\n        </select>\n        Bold:\n        <input ref={this.bold} \n          onChange={this.onChangeWeight}\n          type=\"checkbox\"\n          checked={this.props.currentWeight === 'bold'}\n        />\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  currentSize: state.style.mathFontSize,\n  currentWeight: state.style.mathFontWeight,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setMathFontSize: (size) => dispatch(setMathFontSize(size)),\n  setMathFontWeight: (weight) => dispatch(setMathFontWeight(weight)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MathFontSettings)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { RenderElement } from '../../../renderMethods'\n\n\n\nconst tabsize = 2;\n\nfunction onKeyDown(evt) {\n  if (evt.keyCode === 9) { // handle tab\n    let target = evt.target;\n    const start = target.selectionStart;\n    const end = target.selectionEnd;\n    const value = target.value;\n    target.value = value.substring(0,start) + Array(tabsize).fill(' ').join('') + value.substring(end);\n    target.selectionStart = start + tabsize;\n    target.selectionEnd = end + tabsize;\n    evt.preventDefault();\n  } else if (evt.keyCode === 8) { // handle backspace\n    let target = evt.target;\n    const start = target.selectionStart;\n    if (start === target.selectionEnd) {\n      const value = target.value;\n      if (value.substring(start-tabsize, start) === Array(tabsize).fill(' ').join('')) {\n        target.value = value.substring(0,start-tabsize) + value.substring(start);\n        target.selectionStart = start - tabsize;\n        target.selectionEnd = start - tabsize;\n        evt.preventDefault();\n      }\n    }\n  }\n}\n\nclass TextPreview extends React.Component {\n  static propTypes = {\n    defaultValue: PropTypes.string,\n    renderType: PropTypes.string.isRequired\n  }\n\n  static defaultProps = {\n    renderType: 'text',\n    wrapperElement: 'div',\n  }\n\n  constructor(props) {\n    super(props)\n    const style = this.props.style || {}\n    this.inputStyle = style.input || {}\n    this.outputStyle = style.output || {}\n    this.input = React.createRef()\n    this.state = { text: props.defaultValue || '' }\n  }\n\n  updatePreview = (evt) => {\n    this.setState({ text: evt.target.value })\n  }\n\n  renderPreview() {\n    if (this.props.renderType === 'text') {\n      return this.state.text.split('\\n\\n').map((t,i) => (\n        <RenderElement key={i} content={t} />\n      ))\n    } else if (this.props.renderType === 'json') {\n      try {\n        const json = JSON.parse(this.state.text)\n        return <RenderElement content={json} />\n      } catch(e) {\n        return \"Failed to render\"\n      }\n    }\n  }\n\n  render() {\n    return (\n      <>\n      <this.props.wrapperElement className='text-preview-input' >\n        <textarea \n          style={this.inputStyle}\n          onChange={this.updatePreview}\n          onKeyDown={onKeyDown}\n          value={this.state.text}\n        />\n      </this.props.wrapperElement>\n      <this.props.wrapperElement className='text-preview-output' >\n        <div className='document' style={this.outputStyle}>\n          {this.renderPreview()}\n        </div>\n      </this.props.wrapperElement>\n      </>\n    )\n  }\n}\n\nexport default TextPreview","import AddLocalFont from './AddLocalFont'\nimport FontFamilyUI from './FontFamilyUI'\nimport FontFamily from './FontFamily'\nimport FontSize from './FontSize'\nimport FontSettings from './FontSettings'\nimport TextPreview from './TextPreview'\n\nexport {\n  FontFamily,\n  FontSize,\n  AddLocalFont,\n  FontFamilyUI,\n  FontSettings,\n  TextPreview\n}\n\nexport default FontSettings","import React from 'react'\nimport FontFamily from './FontFamily'\nimport MathFontSettings from './MathFontSettings'\nimport FontFamilyUI from './FontFamilyUI'\nimport AddLocalFont from './AddLocalFont'\nimport TextPreview from './TextPreview'\n\nconst previewtext = `To solve an equation of the form $$ax^2 + bx + c = 0$$, use the quadratic formula:\n\n$$$x = \\\\frac{-b \\\\pm \\\\sqrt{b^2 - 4ac}}{2a}$$$\n\nThe volume of a sphere is $$\\\\frac{4}{3}\\\\pi r^3$$.\n\nRemember that $$e^{i\\\\theta} = \\\\cos\\\\theta + i\\\\sin\\\\theta$$.`\n\n\nconst FontSettings = () => {\n  return (\n    <>\n      <h4>Document Font</h4>\n      <div>\n        Font Selection Method: <FontFamilyUI />\n      </div>\n      <div>\n        Font: <FontFamily/> \n      </div>\n      <div>\n        Add Local Font to Menu: <AddLocalFont buttonLabel=\"Add To List\" /> (You will then need to select it from the menu)\n      </div>\n      <h4>Math Font</h4>\n      <div style={{justifyItems: 'right'}}>\n        <MathFontSettings />\n      </div>\n      <h4>Preview</h4>\n      <div style={{display: 'flex', flexDirection: 'row', '--doc-font-size': '11pt'}}>\n        <TextPreview wrapperElement='div' defaultValue={previewtext} style={{input: {height: '100%'}, output: {height: '100%'}}}/>      \n      </div>\n    </>\n  )\n}\n\nexport default FontSettings","import React from 'react'\nimport { RenderElement } from '../../renderMethods'\nimport { TextPreview } from '../Settings/Font'\nimport styles from './styles.module.css'\n\nconst latexfmt = (...a) => String.raw(...a).replace('\\\\`', '`');\n\nconst examples = [\n  'Text can be _italic_, __bold__, or ___both___.',\n  'Or, *asterisks* will **accomplish** the ***same thing***.',\n  latexfmt`f: x --> x^3^ - 3x^2^ + 9x - 8 doesn't look as nice as $$f: x \\mapsto x^3 - 3x^2 + 9x - 8$$`,\n  latexfmt`**Markdown:** a~n~ = a~n-1~ + 2n - 1 , **LaTeX:** $$a_n = a_{n-1} + 2n - 1$$`,\n  latexfmt`There are two ways to write a fraction: $$\\frac{24}{18} = {4 \\over 3}$$`,\n  latexfmt`$$V = \\frac{4}{3}\\pi r^3$$`,\n  latexfmt`Use the quadratic formula to solve for $$x$$: $$$x = { -b \\pm \\sqrt{b^2 - 4ac} \\over 2a }$$$`,\n  latexfmt`Determine the measure of $$\\angle{ABC}$$.`,\n  latexfmt`$$\\overline{AB}$$ is a line segment. $$\\overleftrightarrow{CD}$$ is a line. $$\\overrightarrow{EF}$$ is a ray.`,\n  latexfmt`Prove that $$\\triangle{ABC} \\cong \\triangle{DEF}$$.`,\n  latexfmt`Given $$\\vec{u} = \\langle 3,5 \\rangle$$ and $$\\vec{v} = \\langle -4, 9 \\rangle$$, calculate $$\\vec{u} \\cdot \\vec{v}$$.`,\n  latexfmt`Remember that $$re^{i\\theta} = r(\\cos\\theta + i\\sin\\theta)$$`,\n  latexfmt`$$$\\int_a^b f'(x)dx = f(b) - f(a)$$$`,\n  latexfmt`$$$\\sum_{n=0}^{\\infty}\\frac{f^{(n)}(a)}{n!}(x-a)^n$$$`,\n  latexfmt`$$\\lnot (p \\land q) \\iff (\\lnot p \\lor \\lnot q)$$`,\n\n  latexfmt`$$$\na_{n+1} = \\left\\{\\begin{array}{r l}\n  3a_n + 1 & \\text{if $a_n$ is odd} \\\\\n  a_n \\div 2 & \\text{if $a_n$ is even} \\\\\n\\end{array}\\right.\n$$$`,\n\n  latexfmt`$$$\n\\left[\\begin{array}{r r r}\n   1 &   4 &  -9 \\\\\n  16 & -25 &  66 \\\\\n  49 &  64 & -81 \\\\\n\\end{array}\\right]\n$$$`,\n\n  latexfmt`$$\\forall\\ \\epsilon > 0, x \\in \\mathbb{R},\\ \\exists\\ \\delta > 0 \\text{ such that } 0 < |x-c| < \\delta \\implies |f(x) - L| < \\epsilon$$`,\n\n]\n\n/*\nconst RenderExample = ({text}) => {\n  return (\n    <>\n    <pre style={{\n      backgroundColor: 'rgba(255,255,200,0.5)',\n      border: '1px solid black',\n      padding: '0.5rem',\n      overflowX: 'scroll',\n    }}>{text}</pre>\n    <span className='document' \n      style={{\n      paddingLeft: '0.5rem',\n      fontSize: '1em',\n    }}>\n      <RenderElement content={{type: 'text', data: text}}/>\n    </span>\n    </>\n  )\n}\n*/\n\nconst RenderExample = ({text}) => (\n  <tr>\n    <TextPreview wrapperElement='td' defaultValue={text} />\n  </tr>\n)\n\nconst LatexExamples = (props) => {\n  return (\n    <div style={{padding: '3mm 0 3mm 0'}}>\n    <div>\n      <span>Examples:</span>\n      <button onClick={props.onRequestClose}>Close</button>\n    </div>\n    <table className={styles.LatexExamples}>\n      <tbody>\n      {examples.map((s, i) => (\n          <RenderExample key={`render-example-${i}`} text={s} />\n      ))}\n      </tbody>\n    </table>\n    <div>\n      <button onClick={props.onRequestClose}>Close</button>\n    </div>\n    </div>\n  )\n}\n\nexport default LatexExamples","import React from 'react'\nimport { RenderElement } from '../../renderMethods'\nimport styles from './styles.module.css'\nimport math from 'mathjs'\n\n\nconst round = function(v, n) {\n  const d = Math.pow(10,n)\n  return Math.floor(d*v) / d\n}\n\nfunction calcParametric(x, y, domain, step) {\n  const f = (t) => ({x: round(x(t), 6), y: round(y(t), 6)})\n  let paths = []\n  let points = []\n  let t = domain[0]\n  while (t < domain[1]) {\n    try {\n      const pt = f(t)\n      if (points.length > 0 && Math.abs(pt.y - points[points.length-1].y) > 100) {\n        paths.push(points)\n        points = [pt]\n      } else {\n        points.push(pt)\n      }\n    } catch(e) {\n      if (points.length > 0) {\n        paths.push(points)\n        points = []\n      }\n    }\n    t += step\n  }\n  try {\n    points.push(f(domain[1]))\n  } catch(e) {}\n  if (points.length > 0) paths.push(points)\n  return paths\n}\n\nfunction parseFunction(str) {\n  try {\n    const nodes = math.parse(str)\n    const func = nodes.compile()\n    return scope => func.eval(scope)\n  } catch(e) {\n    console.error(e)\n  }\n}\n\n\n\nclass GraphMaker extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      mode: 'standard',\n      standard: 'x',\n      inverse: 'y',\n      parametricX: 't',\n      parametricY: 't',\n      x0: -10,\n      x1: 10,\n      y0: -10,\n      y1: 10,\n      t0: -10,\n      t1: 10,\n      step: 0.1,\n      height: 1.5,\n      autoDomain: 'auto',\n      autoSize: 'auto',\n    }\n  }\n\n  updateMode = evt => this.setState({mode: evt.target.value})\n  updateStandard = evt => this.setState({standard: evt.target.value})\n  updateInverse = evt => this.setState({inverse: evt.target.value})\n  updateParametricX = evt => this.setState({parametricX: evt.target.value})\n  updateParametricY = evt => this.setState({parametricY: evt.target.value})\n  updateX0 = evt => this.setState({x0: evt.target.value})\n  updateX1 = evt => this.setState({x1: evt.target.value})\n  updateY0 = evt => this.setState({y0: evt.target.value})\n  updateY1 = evt => this.setState({y1: evt.target.value})\n  updateT0 = evt => this.setState({t0: evt.target.value})\n  updateT1 = evt => this.setState({t1: evt.target.value})\n  updateStep = evt => this.setState({step: evt.target.value})\n  updateHeight = evt => this.setState({height: evt.target.value})\n  updateAutoDomain = evt => this.setState({autoDomain: evt.target.value})\n  updateAutoSize = evt => this.setState({autoSize: evt.target.value})\n\n  renderMode() {\n    return (\n      <select value={this.state.mode}\n        onChange={this.updateMode}\n      >\n        <option value='standard' title=\"y is a function of x\">Standard</option>\n        <option value='inverse' title=\"x is a function of y\">Inverse</option>\n        <option value='parametric' title=\"x and y are functions of t\">Parametric</option>\n      </select>\n    )\n  }\n\n  renderGridInputs() {\n    return (\n      <>\n      <table>\n        <tbody>\n          <tr>\n            <th /><th>Min</th><th>Max</th>\n          </tr>\n          <tr>\n            <td>x</td>\n            <td><input type=\"number\" value={this.state.x0} onChange={this.updateX0} /></td>\n            <td><input type=\"number\" value={this.state.x1} onChange={this.updateX1} /></td>\n          </tr>\n          <tr>\n            <td>y</td>\n            <td><input type=\"number\" value={this.state.y0} onChange={this.updateY0} /></td>\n            <td><input type=\"number\" value={this.state.y1} onChange={this.updateY1} /></td>\n          </tr>\n        </tbody>\n      </table>\n      </>\n    )\n  }\n\n  renderInputs() {\n    if (this.state.mode === 'standard') {\n      return (\n        <table>\n          <tbody>\n            <tr>\n              <td>y=</td>\n              <td><textarea value={this.state.standard} onChange={this.updateStandard}/></td> \n            </tr>\n          </tbody>\n        </table>\n      )\n    }\n    if (this.state.mode === 'inverse') {\n      return (\n        <table>\n          <tbody>\n            <tr>\n              <td>x=</td>\n              <td><textarea value={this.state.inverse} onChange={this.updateInverse}/></td> \n            </tr>\n          </tbody>\n        </table>\n      )\n    }\n    if (this.state.mode === 'parametric') {\n      return (\n        <table>\n          <tbody>\n            <tr>\n              <td>x=</td>\n              <td><textarea value={this.state.parametricX} onChange={this.updateParametricX}/></td>\n            </tr>\n            <tr>\n              <td>y=</td>\n              <td><textarea value={this.state.parametricY} onChange={this.updateParametricY}/></td>\n            </tr>\n          </tbody>\n        </table>\n      )\n    }\n  }\n\n\n  renderDomainInput() {\n    return (\n      <>\n      Step:\n      <input type=\"number\" \n        step={0.01}\n        value={this.state.step} \n        onChange={this.updateStep}\n        min={0}\n      /><br/>\n        Domain: \n        {this.state.mode !== 'parametric' ? (\n          <select value={this.state.autoDomain} onChange={this.updateAutoDomain}>\n            <option value='auto'>Auto</option>\n            <option value='custom'>Custom</option>\n          </select>\n        ) : <br/>}\n        {(this.state.autoDomain === 'custom' || this.state.mode === 'parametric') ? (\n          <div>\n          <input type=\"number\" value={this.state.t0} onChange={this.updateT0} />\n          to \n          <input type=\"number\" value={this.state.t1} onChange={this.updateT1} />\n          </div>\n        ) : null }        \n      </>\n    )\n  }\n\n  renderHeightInput() {\n    return (\n      <>\n      Height:\n      <select value={this.state.autoSize} onChange={this.updateAutoSize}>\n        <option value='auto'>Default</option>\n        <option value='custom'>Custom</option>\n      </select>\n      {this.state.autoSize === 'custom' ? (\n        <>\n          <br/>\n          Inches:\n          <input type=\"number\"\n            step={0.1}\n            value={this.state.height}\n            onChange={this.updateHeight}\n            min={0}\n          />\n        </>\n      ) : null}\n      </>\n    )\n  }\n\n  graphSize() {\n    return {\n      span: [\n        +this.state.x0, \n        +this.state.y0, \n        +this.state.x1, \n        +this.state.y1\n      ],\n    }\n  }\n\n  getDomain() {\n    if (this.state.mode === 'parametric' || this.state.autoDomain === 'custom') {\n      return [+this.state.t0, +this.state.t1]\n    }\n    if (this.state.mode === 'standard') {\n      return [+this.state.x0, +this.state.x1]\n    }\n    if (this.state.mode === 'inverse') {\n      return [+this.state.y0, +this.state.y1]\n    }\n  }\n\n  getFunction() {\n    const step = this.state.step > 0 ? +this.state.step : 0.002\n    const domain = this.getDomain()\n    switch(this.state.mode) {\n      case 'standard':\n        const ymap = parseFunction(this.state.standard)\n        if (ymap) {\n          const paths = calcParametric(t=>t, x=>ymap({x}), domain, step)\n          return paths.map(p => ['Path', {points: p}])\n        }\n        return null\n\n      case 'inverse':\n        const xmap = parseFunction(this.state.inverse)\n        if (xmap) {\n          const paths = calcParametric(y=>xmap({y}), t=>t, domain, step)\n          return paths.map(p => ['Path', {points: p}])\n        }\n        return null\n      case 'parametric':\n        const xpmap = parseFunction(this.state.parametricX)\n        const ypmap = parseFunction(this.state.parametricY)\n        if (xpmap && ypmap) {\n          const paths = calcParametric(t=>xpmap({t}), t=>ypmap({t}), domain, step)\n          return paths.map(p => ['Path', {points: p}])\n        }\n        return null\n      default:\n        return null\n    }\n  }\n\n  getData() {\n    let props = {\n      ...this.graphSize(), \n      autogrid: true,\n    }\n    if (this.state.autoSize === 'custom') {\n      props.height = this.state.height + 'in'\n    } else {\n      props.height = '2in'\n    }\n    const paths = this.getFunction()\n    if (paths) {\n      return ['CartesianPlane', props, ...paths]\n    }\n    return ['CartesianPlane', props]\n  }\n\n  onSubmit = () => {\n    this.props.onSubmit({type: 'vectorgraphic', data: this.getData()})\n    this.props.onRequestClose()\n  }\n\n  render() {\n    return (\n      <div className={styles.GraphMaker}>\n        <div className={styles.GraphMakerHeading}>\n          <button onClick={this.onSubmit}>Apply</button>\n          <button onClick={this.props.onRequestClose}>Cancel</button>\n        </div>\n        <div className={styles.GraphMakerBody}>\n          <div className={styles.GraphMakerInput}>\n            <div style={{margin: '3mm'}}>\n              Graphing Mode {this.renderMode()}\n              {this.renderInputs()}\n            </div>\n            <div style={{margin: '3mm'}}>\n            {this.renderDomainInput()}\n            </div>\n            <div style={{margin: '3mm'}}>\n              {this.renderGridInputs()}\n            </div>\n            <div>\n              {this.renderHeightInput()}\n            </div>\n          </div>\n          <div className={styles.GraphMakerPreview}>\n            <div className='document preview-area'>\n              <RenderElement content={{type: 'vectorgraphic', data: this.getData()}} />\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport default GraphMaker","import React from 'react'\nimport { connect } from 'react-redux'\nimport { RenderElement } from '../../renderMethods'\nimport { addToDocument } from '../../actions/document'\nimport LatexExamples from './LatexExamples'\nimport GraphMaker from './GraphMaker'\nimport ReactModal from 'react-modal'\n\nconst tabsize = 2;\n\nfunction onKeyDown(evt) {\n  if (evt.keyCode === 9) { // handle tab\n    let target = evt.target;\n    const start = target.selectionStart;\n    const end = target.selectionEnd;\n    const value = target.value;\n    target.value = value.substring(0,start) + Array(tabsize).fill(' ').join('') + value.substring(end);\n    target.selectionStart = start + tabsize;\n    target.selectionEnd = end + tabsize;\n    evt.preventDefault();\n  } else if (evt.keyCode === 8) { // handle backspace\n    let target = evt.target;\n    const start = target.selectionStart;\n    if (start === target.selectionEnd) {\n      const value = target.value;\n      if (value.substring(start-tabsize, start) === Array(tabsize).fill(' ').join('')) {\n        target.value = value.substring(0,start-tabsize) + value.substring(start);\n        target.selectionStart = start - tabsize;\n        target.selectionEnd = start - tabsize;\n        evt.preventDefault();\n      }\n    }\n  }\n}\n\n\nclass CustomQuestion extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      inputType: 'manual',\n      instructions: '',\n      question: '',\n      answer: '',\n      diagram: '',\n      json: '',\n      modal: 'none',\n    }\n    this.inputType = React.createRef()\n    this.instructions = React.createRef()\n    this.question = React.createRef()\n    this.answer = React.createRef()\n    this.json = React.createRef()\n  }\n\n  openExamples = () => this.setState({ modal: 'examples' })\n  openGraphMaker = () => this.setState({modal: 'graph'})\n  closeModal = () => this.setState({ modal: 'none' })\n\n  updateInstructions = (evt) => {\n    this.setState({ instructions: evt.target.value })\n  }\n  updateQuestion = (evt) => {\n    this.setState({ question: evt.target.value })\n  }\n  updateDiagram = (diagram) => {\n    this.setState({diagram})\n  }\n  updateAnswer = (evt) => {\n    this.setState({ answer: {...this.state.answer, correct: evt.target.value }})\n  }\n  updateJSON = (evt) => {\n    this.setState({ json: evt.target.value })\n  }\n\n  updateInputType = (evt) => {\n    const inputType = evt.target.value\n    const data = this.getDataFromState()\n    if (data) {\n      if (inputType === 'json') {\n        const json = JSON.stringify(data,null,2)\n        if (json.length <= 2) {\n          this.setState({inputType, json: ''})\n        } else {\n          this.setState({inputType, json})\n        }\n      } else {\n        const newstate = {}\n        for (const k of ['instructions', 'question', 'answer']) {\n          if (data[k]) {\n            if (typeof data[k] === 'string') newstate[k] = data[k];\n            else if (data[k].type === 'text') newstate[k] = data[k].data;\n            else newstate[k] = '';\n          } else {\n            newstate[k] = '';\n          }\n        }\n        this.setState({ inputType, ...newstate })\n      }\n    } else {\n      this.setState({inputType})\n    }\n  }\n\n  getDataFromState() {\n    if (this.state.inputType === 'manual') {\n      let data = {}\n      for (const k of ['instructions', 'question', 'answer']) {\n        if (this.state[k]) {\n          data[k] = this.state[k]\n        }\n      }\n      if (this.state.diagram) {\n        data.diagram = this.state.diagram\n      }\n      return data\n    } else if (this.state.inputType === 'json') {\n      try {\n        const data = JSON.parse(this.state.json)\n        return data\n      } catch(e) {\n      }\n    }\n  }\n\n  addQuestion = () => {\n    const data = this.getDataFromState()\n    this.props.addToDocument({type: 'question', data})\n    this.props.onRequestClose()\n  }\n\n  renderInputs() {\n    if (this.state.inputType === 'manual') {\n      const inputStyle = {width:'30rem'}\n      return (\n        <div >\n          <p>\n            Tip: Text surrounded with $$ ... $$ will be treated as a math formula.\n          </p>\n          <button onClick={this.openExamples}>See Examples</button>\n          <p>Instructions:</p>\n          <textarea \n            value={this.state.instructions}\n            onChange={this.updateInstructions}\n            style={inputStyle}\n            ></textarea>\n\n          <p>Question:</p>\n          <textarea \n            value={this.state.question}\n            onChange={this.updateQuestion}\n            style={inputStyle}\n          ></textarea>\n\n          <p>Diagram:</p>\n          <button onClick={this.openGraphMaker}>Add Graph</button>\n          \n          <p>Answer:</p>\n          <textarea \n            value={this.state.answer.correct}\n            onChange={this.updateAnswer}\n            style={inputStyle}\n          ></textarea>\n        </div>\n      )\n    } else {\n      return (\n        <>\n          <p>Enter JSON:</p>\n          <textarea \n            value={this.state.json}\n            onChange={this.updateJSON}\n            onKeyDown={onKeyDown}\n            spellCheck={false}\n            style={{width:'30rem', height: '10rem', fontSize: '0.9em'}}\n          />\n          <br/>\n        </>\n      )\n    }\n  }\n\n  renderPreview() {\n    const data = this.getDataFromState()\n    const previewStyle = {\n      margin: '2mm',\n      width: 'fit-content',\n      fontSize: '1.2em',\n      minWidth: '3in',\n    }\n\n    return (\n      <>\n      <p>Question</p>\n      <div className='document preview-area' style={previewStyle}>\n        {data ? <RenderElement content={{type: 'question-nonumber', data}} /> : null}\n      </div>\n      <p>Answer</p>\n      <div className='document preview-area' style={previewStyle}>\n        {data ? <RenderElement content={{type: 'answerkey',  data}} /> : null}\n      </div>\n      </>\n    )\n  }\n\n  render() {\n    const divstyle = {\n      width: 'auto',\n      padding: '0',\n      margin: '0',\n      display: 'grid',\n      gridTemplateAreas: '\"inputs preview\"',\n      gridTemplateColumns: 'auto auto',\n    }\n    return (\n      <>\n      <div style={divstyle}>\n        <div style={{gridArea: 'inputs'}}>\n          <h4 style={{gridArea: 'title'}}>Custom Question</h4>\n          <select ref={this.inputType} onChange={this.updateInputType}>\n            <option value=\"manual\">Manual</option>\n            <option value='json'>JSON</option>\n          </select>\n          {this.renderInputs()}\n        </div>\n        <div style={{gridArea: 'preview'}}>\n          <h4>Preview</h4>\n          {this.renderPreview()}\n        </div>\n      </div>\n      <button onClick={this.addQuestion}>Add to Assignment</button>\n\n\n      <ReactModal isOpen={this.state.modal === 'examples'}\n        onRequestClose={this.closeModal}\n        style={{\n          content: {\n            backgroundColor: 'white',\n            //top: '0',\n            //bottom: '0',\n            //borderTop: 'none',\n            //borderBottom: 'none',\n            //left: '50px',\n            //right: '50px',\n          }\n        }}\n      >\n        <LatexExamples onRequestClose={this.closeModal}/>\n      </ReactModal>\n\n      <ReactModal isOpen={this.state.modal === 'graph'}\n        onRequestClose={this.closeModal}\n      >\n        <GraphMaker onRequestClose={this.closeModal} onSubmit={this.updateDiagram}/>\n      </ReactModal>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: (q) => dispatch(addToDocument(q))\n})\n\nexport default connect(null, mapDispatchToProps)(CustomQuestion)","import { connect } from 'react-redux'\nimport CustomQuestion from './CustomQuestion'\nimport {\n  addToDocument\n} from '../../actions/document'\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: (thing) => dispatch(addToDocument(thing))\n})\n\nexport default connect(null, mapDispatchToProps)(CustomQuestion)","import React from 'react'\n\n\nconst Notes = (props) => {\n  const notes = [\n    'Double-click on the document to edit an element.',\n    'Make sure the scale is set to 100% when printing.',\n    'Create a PDF by selecting \"Save to PDF\" when printing.',\n  ]\n  const issues = [\n    'Pagination is really sketchy.',\n    \"Zooming doesn't work right.\",\n    'In some browsers only the first page prints.',\n  ]\n\n  let i = 0\n  return (\n    <>\n    <span style={{fontWeight: 'bold', fontSize: '1em'}}>\n      <span style={{marginRight: '3mm'}}>Notes</span>\n      <button onClick={props.onRequestClose}>Close</button>\n    </span>\n    <div>\n      {notes.map(n => <p key={`note-${++i}`}>{n}</p>)}\n\n      <h4>Issues</h4>\n      {issues.map(n => <p key={`note-${++i}`}>{n}</p>)}\n\n    </div>\n    </>\n  )\n}\n\nexport default Notes","import React from 'react'\nimport { connect } from 'react-redux'\n\nclass CheckStateButton extends React.Component {\n\n  logState = () => {console.log(this.props.state)}\n\n  render() {\n    return <button onClick={this.logState}>{this.props.children}</button>\n  }\n}\n\nconst mapStateToProps = state => ({\n  state: state,\n})\n\nexport default connect(mapStateToProps)(CheckStateButton)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { kebabCase } from 'lodash'\nimport { updateGraphStyle } from '../../../actions/style'\n\nfunction setCss(k, v) {\n  document.body.style.setProperty(k, v)\n}\n\nclass GraphStyle extends React.Component {\n  static propTypes = {\n    updateGraphStyle: PropTypes.func.isRequired,\n    propertyName: PropTypes.string.isRequired,\n    current: PropTypes.string.isRequired,\n  }\n\n  constructor(props) {\n    super(props)\n    this.cssName = `--vg-${kebabCase(props.propertyName)}`\n  }\n\n  componentDidMount() {\n    setCss(this.cssName, this.props.current)\n  }\n\n  componentDidUpdate() {\n    setCss(this.cssName, this.props.current)\n  }\n\n  setValue(value) {\n    this.props.updateGraphStyle({[this.props.propertyName]: value})\n  }\n\n  onChange = (evt) => {\n    this.setValue(evt.target.value)\n  }\n\n}\n\nclass Color extends GraphStyle {\n  render() {\n    return (\n      <input type='color'\n        value={this.props.current}\n        onChange={this.onChange}\n      />\n    )\n  }\n}\n\nclass Width extends GraphStyle {\n  onChange = (evt) => {\n    this.setValue(evt.target.value + 'mm')\n  }\n  render() {\n    return (\n      <input type='range'\n        value={this.props.current.slice(0,-2)}\n        onChange={this.onChange}\n        min='0'\n        max='1'\n        step='0.01'\n      />\n    )\n  }\n}\n\nclass Opacity extends GraphStyle {\n  render() {\n    return (\n      <input type='range'\n        value={this.props.current}\n        onChange={this.onChange}\n        min='0'\n        max='1'\n        step='0.01'\n      />\n    )\n  }\n}\n\n\n\nconst mapDispatchToProps = dispatch => ({\n  updateGraphStyle: (props) => dispatch(updateGraphStyle(props))\n})\n\nfunction createComponent(base, propertyName) {\n  class StyleSettingComponent extends base {\n    static defaultProps = ({propertyName: propertyName})\n  }\n  \n  return connect(\n    state => ({current: state.style.graph[propertyName]}), \n    mapDispatchToProps\n  )(StyleSettingComponent)\n}\n\n\nexport const PlotPathColor = createComponent(Color, 'plotPathColor')\nexport const PlotPathWidth = createComponent(Width, 'plotPathWidth')\nexport const GeomPathColor = createComponent(Color, 'geomPathColor')\nexport const GeomPathWidth = createComponent(Width, 'geomPathWidth')\nexport const AsymptoteColor = createComponent(Color, 'asymptoteColor')\nexport const AsymptoteWidth = createComponent(Width, 'asymptoteWidth')\nexport const AxisColor = createComponent(Color, 'axisColor')\nexport const AxisWidth = createComponent(Width, 'axisWidth')\nexport const GridColor = createComponent(Color, 'gridColor')\nexport const GridWidth = createComponent(Width, 'gridWidth')\nexport const ShadedRegionOpacity = createComponent(Opacity, 'shadedRegionOpacity')","import React from 'react'\nimport { \n  CartesianPlane, Grid, Path, Text,\n  Asymptote, Point, Hole, ShadedRegion,\n\n  Circle, Polygon, Ray, Line, Segment,\n} from '../../../renderMethods/primaryTypes/VG'\n\n\nexport const PreviewXYPlot = () => {\n  \n  const g = (x) => 1.2*(x+1) - 4\n\n  const f = (x) => {\n    return 0.03*(x+8)*(x+1)*(x-9) + g(x)\n  }\n\n  const regionTop = []\n  const regionBottom = []\n  const fpoints = []\n  const gpoints = []\n  const step = 0.2\n\n  let x = -11\n  while (x < -1) {\n    const fpt = ({x, y: f(x)})\n    const gpt = ({x, y: g(x)})\n    fpoints.push(fpt)\n    gpoints.push(gpt)\n    x += step\n  }\n\n  x = -1\n  while (x <= 9) {\n    const fpt = ({x, y: f(x)})\n    const gpt = ({x, y: g(x)})\n    fpoints.push(fpt)\n    gpoints.push(gpt)\n    regionTop.push(gpt)\n    regionBottom.push(fpt)\n    x += 0.2\n  }\n\n  while (x < 11) {\n    const fpt = ({x, y: f(x)})\n    const gpt = ({x, y: g(x)})\n    fpoints.push(fpt)\n    gpoints.push(gpt)\n    x += step\n  }\n  \n  const region = [...regionBottom, ...regionTop.reverse()]\n  const points = [-1, 9].map(x => ({x, y: f(x)}))\n  const holes = [-5].map(x => ({x, y: f(x)}))\n  const vasymptotes = [-8]\n\n  return (\n    <CartesianPlane span={[-10,-10,10,10]} autogrid={true} width=\"3in\">\n      <ShadedRegion points={region} />\n      <Path points={fpoints} />\n      <Path points={gpoints} />\n      {vasymptotes.map(p => <Asymptote key={`va${p}`} points={[{x: p, y: -12}, {x: p, y: 12}]} />)}\n      {points.map(p => <Point key={`pt${p.x}`} {...p} />)}\n      {holes.map(p => <Hole key={`hole${p.x}`} {...p} />)}\n    </CartesianPlane>\n  )\n}\n\nexport const PreviewGeom = () => {\n\n  const poly= [\n    [13,11], [17,12], [18,16], [15,18], [11,14]\n  ]\n  const ray = [[2,12], [7,13]]\n  const line = [[8,17], [2,18]]\n  const seg = [[7,15], [2,15]]\n  const circ = ({cx: 4, cy: 7, r: 2})\n\n  return (\n    <CartesianPlane span={[0,0,20,20]} style='geom' autogrid={true} width='3in'>\n      <Polygon vertices={poly} />\n      <Circle {...circ} />\n      <Ray endpoints={ray} />\n      <Line endpoints={line} />\n      <Segment endpoints={seg} />\n    </CartesianPlane>\n  )\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { resetGraphStyle } from '../../../actions/style'\nimport {\n  PlotPathColor, PlotPathWidth,\n  GeomPathColor, GeomPathWidth,\n  AsymptoteColor, AsymptoteWidth,\n  AxisColor, AxisWidth,\n  GridColor, GridWidth,\n  ShadedRegionOpacity,\n} from './GraphStyle'\nimport { PreviewXYPlot, PreviewGeom } from './GraphPreview'\n\nimport styles from './styles.module.css'\n\n\nclass GraphSettings extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {style: 'xy-plot'}\n  }\n\n  changeStyle = evt => {\n    this.setState({style: evt.target.value})\n  }\n\n  resetToDefaults = () => {\n   this.props.resetGraphStyle()\n  }\n\n  renderPreview() {\n    if (this.state.style === 'geom') {\n      return <PreviewGeom />\n    }\n    return <PreviewXYPlot />\n  }\n\n  renderStyleSettings() {\n    if (this.state.style === 'xy-plot') {\n      return (\n        <>\n          <div>\n            <div>Graph</div>\n            <div><PlotPathColor/></div>\n            <div><PlotPathWidth/></div>\n          </div>\n          <div>\n            <div>Asymptote</div>\n            <div><AsymptoteColor/></div>\n            <div><AsymptoteWidth/></div>\n          </div>\n          <div>\n            <div>Fill Opacity</div>\n            <div><ShadedRegionOpacity /></div>\n          </div>\n        </>\n      )\n    }\n    if (this.state.style === 'geom') {\n      return (\n        <>\n          <div>\n            <div>Objects</div>\n            <div><GeomPathColor/></div>\n            <div><GeomPathWidth/></div>\n          </div>\n        </>\n      )\n    }\n    return null\n  }\n\n  render() {\n    return (\n      <div className={styles.Layout}>\n        <div className={styles.Settings}>\n          <h3>Graph Style</h3>\n          <button onClick={this.resetToDefaults}>Reset to Defaults</button>\n          \n          <div className={styles.SettingTable}>\n\n            <div>\n              <div></div>\n              <div>Color</div>\n              <div>Thickness</div>\n            </div>\n            <div>\n              <div>Axis</div>\n              <div><AxisColor/></div>\n              <div><AxisWidth/></div>\n            </div>\n\n            <div>\n              <div>Grid</div>\n              <div><GridColor/></div>\n              <div><GridWidth/></div>\n            </div>\n            <div className={styles.StyleSetting}>\n              Style:\n              <select onChange={this.changeStyle} value={this.state.style}>\n                <option value='xy-plot'>xy-plot</option>\n                <option value='geom'>geometry</option>\n              </select>\n            </div>\n\n            {this.renderStyleSettings()}\n          </div>\n\n        </div>\n        <div className={styles.Preview}>\n          <div className='document preview-area'>\n            {this.renderPreview()}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  resetGraphStyle: () => dispatch(resetGraphStyle()),\n})\n\nexport default connect(null, mapDispatchToProps)(GraphSettings)","import GraphSettings from './GraphSettings'\n\nexport default GraphSettings","import React from 'react'\nimport FontSettings from './Font'\nimport GraphSettings from './Graph'\nimport styles from './styles.module.css'\n\n\nclass SettingsPage extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {showing: 'none'}\n  }\n\n  showFontSettings = () => {\n    this.setState({showing: 'font'})\n  }\n  showGraphSettings = () => {\n    this.setState({showing: 'graph'})\n  }\n\n  renderSettings() {\n    switch (this.state.showing) {\n      case 'font': return <FontSettings/>\n      case 'graph': return <GraphSettings/>\n      default: return null\n    }\n  }\n\n  render() {\n    return (\n      <div className={styles.SettingPage}>\n\n        <div className={styles.LeftBar}>\n          <div>\n            <span className={styles.Title}>Settings</span>\n          </div>\n          \n          <div className={styles.NavArea}>\n            <button\n              className={styles.NavButton}\n              onClick={this.showFontSettings}\n              disabled={this.state.showing === 'font'}\n            >Fonts</button>\n            <button\n              className={styles.NavButton}\n              onClick={this.showGraphSettings}\n              disabled={this.state.showing === 'graph'}\n            >Graphs</button>\n          </div>\n\n          <div>\n            <button onClick={this.props.onRequestClose}>Close</button>\n          </div>\n          \n        </div>\n        \n        <div className={styles.SettingSection}>\n          {this.renderSettings()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default SettingsPage","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setAllowEditing } from '../../actions/config'\n\nclass AllowEditing extends React.Component {\n  static propTypes = {\n    current: PropTypes.bool.isRequired,\n    setAllowEditing: PropTypes.func.isRequired,\n  }\n\n  toggle = (evt) => {\n    if (evt.target.checked) {\n      this.props.setAllowEditing(true)\n    } else {\n      this.props.setAllowEditing(false)\n    }\n  }\n\n  render() {\n    return (\n      <input\n        onChange={this.toggle}\n        type='checkbox' \n        checked={this.props.current}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.config.allowEditing,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setAllowEditing: (b) => dispatch(setAllowEditing(b)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AllowEditing)","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { setShowAnswerKey } from '../../actions/config'\n\n\nclass AnswerKeyToggle extends React.Component {\n  static propTypes = {\n    current: PropTypes.bool.isRequired,\n    setShowAnswerKey: PropTypes.func.isRequired,\n  }\n\n  toggle = (evt) => {\n    if (evt.target.checked) {\n      this.props.setShowAnswerKey(true)\n    } else {\n      this.props.setShowAnswerKey(false)\n    }\n  }\n\n  render() {\n    return (\n      <input\n        onChange={this.toggle}\n        type='checkbox' \n        checked={this.props.current}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.config.showAnswerKey,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setShowAnswerKey: (bool) => dispatch(setShowAnswerKey(bool)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AnswerKeyToggle)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setPageMargin } from '../../actions/style'\n\nconst MarginOptions = [\n  '5mm',\n  '10mm',\n  '15mm',\n  '20mm',\n]\n\nclass SetPageMargin extends React.Component {\n\n  static propTypes = {\n    current: PropTypes.string.isRequired,\n    setPageMargin: PropTypes.func.isRequired,\n  }\n\n  setPageMargin(margin) {\n    this.props.setPageMargin(margin)\n  }\n\n  updateFromSelection = (evt) => {\n    const m = evt.target.value\n    this.setPageMargin(m)\n  }\n\n  render() {\n    return (\n      <select\n        onChange={this.updateFromSelection}\n        value={this.props.current}\n      >\n        {MarginOptions.map((m) => (\n          <option key={m} value={`${m} ${m} ${m} ${m}`}>{m}</option>\n        ))}\n      </select>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.style.pageMargin,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setPageMargin: (m) => dispatch(setPageMargin(m))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SetPageMargin)","import React from 'react'\nimport PropTypes from 'prop-types'\n\nclass PreviewZoom extends React.Component {\n  static propTypes = { type: PropTypes.string.isRequired }\n\n  static defaultProps = { type: 'selection' }\n\n  constructor(props) {\n    super(props)\n    this.selection = React.createRef()\n    this.default = 100\n    this.setPreviewZoom(this.default)\n  }\n\n  setPreviewZoom(perc) {\n    const scale = perc / 100.0\n    \n    const transform = `matrix(${[scale, 0, 0, scale, 0, (perc-100)*10.8].join(',')})`\n    document.body.style.setProperty('--previewInnerTransform', transform)\n  }\n\n  setFromInput = () => {\n    const magnification = +this.selection.current.value\n    this.setPreviewZoom(magnification)\n  }\n\n  render() {\n    if (this.props.type === 'input') {\n      return (\n        <input\n          ref={this.selection} \n          type=\"number\"\n          min=\"70\"\n          max=\"150\"\n          step=\"5\"\n          defaultValue={this.default}\n          onChange={this.setFromInput}\n        ></input>\n      )\n    } else {\n      const options = [70, 80, 90, 100, 110, 120, 130, 140, 150]\n      return (\n        <select\n          ref={this.selection}\n          defaultValue={this.default}\n          onChange={this.setFromInput}>\n          {options.map((z) => <option key={`zoom-option-${z}`} value={z}>{z}</option>)}\n        </select>\n      )\n    }\n  }\n}\n\nexport default PreviewZoom","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setDocumentStartNumbering } from '../../actions/document'\n\nclass StartNumbering extends React.Component {\n  constructor(props) {\n    super(props)\n    this.input = React.createRef()\n  }\n\n  setCSSVariable(n) {\n    document.body.style.setProperty('--doc-startnumber', n-1)\n  }\n\n  setNumbering = () => {\n    const startat = this.input.current.value\n    if (startat) {\n      this.setCSSVariable(startat)\n      this.props.setDocumentStartNumbering(startat)\n    }\n  }\n\n  render() {\n    if (this.props.applyButton) {\n      return (\n        <>\n          <input \n            type='number' \n            min='1' \n            ref={this.input} \n            style={{width: '2rem'}}></input>\n          <button onClick={this.setNumbering}>Apply</button>\n        </>\n      )\n    } else {\n      return (\n        <>\n          <input \n            onChange={this.setNumbering}\n            type='number' \n            defaultValue='1'\n            min='1' \n            ref={this.input} \n            style={{width: '2rem'}}></input>\n        </>\n      )\n    }\n  }\n}\n\n\nconst mapDispatchToProps = dispatch => ({\n  setDocumentStartNumbering: (n) => dispatch(setDocumentStartNumbering(n)),\n})\n\nexport default connect(null, mapDispatchToProps)(StartNumbering)","import SettingsPage from './SettingsPage'\n\nimport { FontFamily, FontSize, AddLocalFont, FontFamilyUI } from './Font'\nimport AllowEditingToggle from './AllowEditing'\nimport AnswerKeyToggle from './AnswerKeyToggle'\nimport PageMargin from './PageMargin'\nimport PreviewZoom from './PreviewZoom'\nimport StartNumbering from './StartNumbering'\n\nexport {\n  AddLocalFont,\n  AllowEditingToggle,\n  AnswerKeyToggle,\n  FontFamily,\n  FontFamilyUI,\n  FontSize,\n  PageMargin,\n  PreviewZoom,\n  StartNumbering,\n}\n\nexport default SettingsPage","\n\nconst test = function(f, x, y) {\n  const r = f({x: x, y: y})\n  if (r > 0) { return 'gt' }\n  if (r < 0) { return 'lt'}\n  return 'eq'\n}\n\nconst contourPresent = function(f, x, y, d) {\n  const p = d / 30\n  let q, r, s, t\n  try {\n    q = test(f, x, y)\n  } catch(e) {\n    q = test(f, x+p, y+p)\n  }\n  \n  try {\n    r = test(f, x+d, y)\n  } catch(e) {\n    r = test(f, x+d-p, y+p)\n  }\n  if (r !== q) return true\n\n  try {\n    s = test(f, x+d, y+d)\n  } catch(e) {\n    s = test(f, x+d-p, y+d-p)\n  }\n  if (s !== q) return true\n\n  try {\n    t = test(f, x, y+d)\n  } catch(e) {\n    t = test(f, x+p, y+d-p)\n  }\n  if (t !== q) return true\n\n  return false\n}\n\n\nconst subdivide = function(f, x, y, d, depth, searchDepth) {\n  const hd = d / 2\n  const props = [hd, depth-1, searchDepth-1]\n  return [\n    ...createTree(f, x, y, ...props),\n    ...createTree(f, x+hd, y, ...props),\n    ...createTree(f, x+hd, y+hd, ...props),\n    ...createTree(f, x, y+hd, ...props)\n  ]\n}\n\nconst createTree = function(f, x, y, d, depth, searchDepth) {\n  if (searchDepth > 0) {\n    return subdivide(f, x, y, d, depth, searchDepth)\n  } else {\n    if (contourPresent(f, x, y, d)) {\n      if (depth > 0) {\n        return subdivide(f, x, y, d, depth, searchDepth)\n      } else {\n        return [{x: x+d/2, y: y+d/2}]\n      }\n    } else {\n      return []\n    }\n  }\n}\n\n\nclass QuadTree {\n\tconstructor({left, right, x=-10, y=-10, d=20, depth=10, searchDepth=6}) {\n    this.f = p => left(p) - right(p)\n\t\tthis.x = x\n\t\tthis.y = y\n\t\tthis.d = d\n\t\tthis.depth = depth\n\t\tthis.searchDepth = searchDepth\n\t}\n\n\tcalcPoints() {\n\t\treturn createTree(this.f, this.x, this.y, this.d, this.depth, this.searchDepth)\n\t}\n}\n\nexport {\n  QuadTree,\n  createTree,\n}","import { createTree } from './QuadTree'\n\n\nexport function makesrange(min, max, step=1, anchor) {\n\tif (anchor === undefined) {\n\t\tanchor = min;\n\t} else if (anchor < min) {\n\t\tanchor = min;\n\t} else if (anchor > max) {\n\t\tanchor = max;\n\t}\n\tlet r = [anchor,];\n\tlet v = anchor - step;\n\twhile (v >= min) {\n\t\t\tr.splice(0, 0, v);\n\t\t\tv -= step;\n\t}\n\tv = anchor + step;\n\twhile (v <= max) {\n\t\t\tr.push(v);\n\t\t\tv += step;\n\t}\n\treturn r;\n}\n\nexport function round(n, d) {\n\treturn Math.round(d * Math.pow(10,d)) / Math.pow(10,d)\n}\n\nconst clipdef = ({span, padX, padY, clipID}) => {\n\tconst [x0, y0, x1, y1] = span\n\tconst w = x1 - x0, h = y1 - y0\n\treturn (\n\t\t[\n\t\t\t'defs'\n\t\t\t[\n\t\t\t\t'clipPath', {id: `clip-path-${clipID}`},\n\t\t\t\t[\n\t\t\t\t\t'rect', {x: x0-padX, y: y0-padY, width: w+2*padX, height: h+2*padY}\n\t\t\t\t]\n\t\t\t]\n\t\t]\n\t)\n}\n\nlet clipCounter = 0\n\nexport const cartesianPlane = function(props, ...children) {\n\tconst {span, autogrid=false, padding, ...otherprops} = props\n  const [x0, y0, x1, y1] = span\n  const xpad = (x1 - x0) * .1\n  const ypad = (y1 - y0) * .1\n  const clipPadX = padding === undefined ? (x1 - x0) * .005 : padding\n  const clipPadY = padding === undefined ? (y1 - y0) * .005 : padding\n  const w = x1 - x0\n  const h = y1 - y0\n  const viewBox = `${x0-xpad} ${-y1-ypad} ${w+2*xpad} ${h+2*ypad}`\n\n  const clipID = ++clipCounter\n\n  return (\n\t\t[\n\t\t\t'svg', {viewBox, className: 'plot-cartesian-plane', ...otherprops},\n\t\t\tclipdef({span, padX: clipPadX, padY: clipPadY, clipID}),\n\t\t\t[\n\t\t\t\t'g', {style: {transform: 'scale(1,-1)'}},\n\t\t\t\t(autogrid ? grid({x: {start: x0, end: x1}, y: {start: y0, end: y1}}) : null),\n\t\t\t\t[\n\t\t\t\t\t'g', {clipPath: `url(#clip-path-${clipID})`},\n\t\t\t\t\t...children,\n\t\t\t\t]\n\t\t\t]\n\t\t]\n\t)\n}\n\n\nexport const grid = function(props) {\n\tconst x = {step: 1, axis: 0}\n  const y = {step: 1, axis: 0}\n  Object.assign(x, props.x)\n  Object.assign(y, props.y)\n\n\tlet t\n  const xvals = []\n  if (x.step) {\n    t = x.start\n    while (t <= x.end) {\n      xvals.push(t);\n      t += x.step\n    }\n  }\n\n  const yvals = []\n  if (y.step) {\n    t = y.start\n    while (t <= y.end) {\n      yvals.push(t);\n      t += y.step\n    }\n\t}\n\n\tconst xmap = v => ['path', {\n\t\tclassName: 'plot-grid-line', \n\t\td: `M${v},${y.start}V${y.end}`,\n\t\tvectorEffect: 'non-scaling-stroke',\n\t}]\n\n\tconst ymap = v => ['path', {\n\t\tclassName: 'plot-grid-line',\n\t\td: `M${x.start},${v}H${x.end}`,\n\t\tvectorEffect: 'non-scaling-stroke',\n\t}]\n\t\n\treturn ['g', \n\t\t...xvals.map(xmap),\n\t\t...yvals.map(ymap),\n\t\t['path', {className: 'plot-axis', d: `M${x.axis},${y.start}V${y.end}`, vectorEffect: 'non-scaling-stroke'}],\n\t\t['path', {className: 'plot-axis', d: `M${x.start},${y.axis}H${x.end}`, vectorEffect: 'non-scaling-stroke'}],\n\t]\n}\n\nexport const point = (props) => {\n\tconst {x, y, coords, ...otherprops} = props\n\tconst pt = coords ? `${coords[0]},${coords[1]}` : `${x},${y}`\n  const d = `M${pt}L${pt}z`\n  return [\n\t\t'path', \n\t\t{d, className: 'plot-path-point', vectorEffect: 'non-scaling-stroke'},\n\t]\n}\n\nexport const hole = (props) => {\n  const {x, y, coords, inner, outer} = props\n  const d = `M${coords ? `${coords[0]},${coords[1]}` : `${x},${y}`}z`\n  return [\n\t\t'path',\n\t\t{d, className: 'plot-hole', vectorEffect: 'non-scaling-slope'},\n\t]\n}\n\n\nconst defaultMarker = p => ['circle', {cx: p.x, cy: p.y, r: '0.05'}]\n\nexport const quadTreePlot = function(\n\tquadtreeprops, \n\t{marker=defaultMarker, style={fill: 'rgba(200,0,100,0.6)'}}={}\n) {\n\tconst {f, x, y, d, depth, searchDepth} = quadtreeprops\n\tconst points = createTree(f, x, y, d, depth, searchDepth)\n\treturn [\n\t\t'g', {style: style},\n\t\t...points.map(marker),\n\t]\n}\n","import {\n  range as mathjsrange \n} from 'mathjs'\n\nexport const range = function(start, stop, inclusive=false) {\n  return mathjsrange(start, stop, inclusive)._data\n}\n\nexport const gcd = (a, b) => {\n  if (a > b) {\n    return gcd(b, a)\n  } else if (a === 0) {\n    return b\n  } else {\n    return gcd(b % a, a)\n  }\n}","import Random from 'random-js'\n\nexport class Randomizer {\n  constructor(seed=null) {\n    this.seed = seed\n    this.engine = Random.engines.mt19937()\n    this.reset()\n  }\n\n  reset() {\n    if (this.seed !== null) {\n      this.engine.seed(this.seed)\n    } else {\n      this.engine.autoSeed()\n    }\n  }\n\n  randint(min, max) {\n    return Random.integer(min, max)(this.engine)\n  }\n\n  real(min, max, inclusive=false) {\n    return Random.real(min, max, inclusive)(this.engine)\n  }\n\n  random(max=1.0) {\n    return this.real(0, max, false)\n  }\n\n  shuffle(array, first) {\n    if (first !== undefined) {\n      let shuffled = Random.shuffle(this.engine, array.slice(1))\n      return [...shuffled.slice(0,first), array[0], ...shuffled.slice(first)]\n    } else {\n      return Random.shuffle(this.engine, array)\n    }\n  }\n\n  choice(array) {\n    return Random.pick(this.engine, array)\n  }\n\n  sample(pop, size) {\n    return Random.sample(this.engine, pop, size)\n  }\n\n  poprandom(array) {\n    const i = this.randint(0,array.length-1)\n    const v = array[i]\n    const remaining = [...array.slice(0,i), ...array.slice(i+1)]\n    return {\n      popped: v,\n      remaining: remaining\n    }\n  }\n}\n\n","//import math from 'mathjs'\nimport { Randomizer } from './tools/random_randomjs'\nimport { defaultsDeep } from 'lodash'\n\nlet randomSeedGenerator = new Randomizer()\n\nclass QGen {\n  constructor(props={}) {\n    this.kwds = props.params || {}\n    //this.randomSeed = props.randomSeed || math.randomInt(0, math.pow(2,32))\n    this.randomSeed = props.randomSeed || randomSeedGenerator.randint(0, Math.pow(2, 32)-1)\n    this.random = new Randomizer(this.randomSeed)\n  }\n\n  static register() {\n    let result = {name: this.name}\n    return {...result, ...this.info}\n  }\n\n  getOptions() {\n    return this.constructor.options\n  }\n\n  _specialCaseValues(k, v) {\n    if (Array.isArray(v)) {\n      if (k === 'answerspace') {\n        return {type: 'answerchoices', data: v}\n      }\n      if (k[0] === '_') {\n        return {type: 'list', data: v}\n      }      \n    }\n    return v\n  }\n\n  _specialCaseKeys(k, v) {\n    //if (k === 'answer') return '_answer'\n    return k\n  }\n\n  setRandomSeed(seed) {\n    this.randomizer.seed(seed)\n  }\n\n  _getParams() {\n    return defaultsDeep({}, this.params, this.constructor.defaults)\n  }\n\n  output() {\n    const out = this.generate(this._getParams())\n    let content = {}\n    for (const k in out) {\n      content[this._specialCaseKeys(k)] = this._specialCaseValues(k, out[k])\n    }\n    return {\n      type: 'question',\n      data: content,\n      options: this.getOptions(),\n    }\n  }\n}\n\nexport default QGen","import math from 'mathjs'\nimport Polynomial from 'polynomial'\nimport * as SVG from './tools/svgplot'\nimport { range, gcd } from './tools/handystuff'\n//import { shuffle, randint, choice, sample } from './random_randomjs'\nimport QGen from './QGen'\n//import _ from 'lodash'\n\n/***** Handy Things *********/\n\nfunction randomPolynomialCoefficients({degree, maxCoefficient=12, terms='auto'}={}) {\n  const rd = this.random\n  if (terms === 'auto') {\n    terms = degree + 1\n  }\n  let p = {}\n  const whichterms = rd.sample(range(0,degree), terms-1)\n  p[degree] = rd.randint(1, maxCoefficient)\n\n  for (const d of whichterms) {\n    p[d] = rd.randint(1, maxCoefficient) * rd.choice([-1,1])\n  }\n  return p\n}\n\nfunction randomPolynomial(props={}) {\n  const p = randomPolynomialCoefficients.call(this, props)\n  return new Polynomial(p)\n}\n\n/*\nfunction divrem(n, p) {\n  let r = n\n  let d = 0\n  while (r % p === 0) {\n    r = r / p\n    d += 1\n  }\n  return [d, r]\n}\n\nfunction primeFactorization(n) {\n  let result = {}\n  let r = n\n  let d\n  let p = 2\n  if (r % p === 0) {\n    [d, r] = divrem(r, p)\n    result[p] = d\n  }\n  p = 3\n  if (r % p === 0) {\n    [d, r] = divrem(r, p)\n    result[p] = d\n  }\n  p = 5\n  while (p * p <= r) {\n    if (r % p === 0) {\n      [d, r] = divrem(r, p)\n      result[p] = d\n    }\n    if (r === 1) {\n      return result\n    }\n    p += 2\n    if (r % p === 0) {\n      [d, r] = divrem(r, p)\n      result[p] = d\n    }\n    if (r === 1) {\n      return result\n    }\n    p += 4\n  }\n  if (r !== 1) {\n    result[r] = 1\n  }\n  return result\n}\n\nfunction allFactors(n, {include1=false, includeN=false}) {\n  let result = []\n  const factors = primeFactorization(n)\n  for (const p in factors) {\n    \n  }\n  if (include1) {\n    result.push(1)\n  }\n  if (includeN) {\n    result.push(n)\n  }\n}\n*/\n/****************************/\n\nexport class SolveQuadratic extends QGen {\n  static info = {\n    name: 'Solve Quadratic',\n    description: 'Solve a quadratic equation with integer solutions.'\n  }\n\n\n  generate(props) {\n    const rd = this.random\n    const [r1, r2] = rd.sample(range(-12,13), 2)\n\n    const a = 1\n    const b = -(r1 + r2)\n    const c = r1 * r2\n\n    const poly = new Polynomial({2: a, 1: b, 0: c})\n    const rand = randomPolynomial.call(this, {degree: 2, maxCoefficient: 7, terms: 2})\n    \n    const [left, right] = rd.random() < 0.5 ? [poly.add(rand), rand] : [rand, poly.add(rand)]\n\n    function fmtAns(ans) {\n      return'$$x = ' + ans.sort((a, b) => a > b).join(', ') + '$$'\n    }\n\n    return {\n      instructions: 'Determine the values of $$x$$ that satisfy the equation:',\n      question: '$$' + left.toLatex() + ' = ' + right.toLatex() +'$$',\n      answer: fmtAns([r1, r2]),\n    }\n  }\n}\n\nexport class FactorQuadraticHard extends QGen {\n  static info = {\n    name: 'Factor Quadratic (Hard)',\n    description: 'Factor a quadratic using AC method.'\n  }\n\n  generate(params) {\n    let rd = this.random\n\n    const a1 = rd.randint(2,5)\n    const a2 = rd.randint(2,8-a1)\n\n    let b1 = rd.randint(1,14-a2)\n    while (gcd(a1, b1) !== 1) {\n      b1 = rd.randint(1,14-a2)\n    }\n    b1 *= rd.choice([-1,1])\n\n    \n    let b2 = rd.randint(2, 14-a1)\n    while (gcd(a2, b2) !== 1) {\n      b2 = rd.randint(1,14-a1)\n    }\n    b2 *= rd.choice([-1,1])\n\n    // prevent difference of squares\n    while ((a1 === a2 && b1 === -b2) || (a1 === -a2 && b1 === b2)) {\n      b2 = rd.randint(2, 14-a1)\n      while (gcd(a2, b2) !== 1) {\n        b2 = rd.randint(1,14-a1)\n      }\n      b2 *= rd.choice([-1,1])\n    }\n\n    const p1 = new Polynomial({1: a1, 0: b1})\n    const p2 = new Polynomial({1: a2, 0: b2})\n\n    const a = a1 * a2\n    const b = a1 * b2 + a2 * b1\n    const c = b1 * b2\n\n    const poly = new Polynomial({2: a, 1: b, 0: c})\n\n    const answer = `$$(${p1.toLatex()})(${p2.toLatex()})$$`\n\n    return {\n      instructions: 'Rewrite as the product of linear factors:',\n      question: `$$${poly.toLatex()}$$`,\n      answer: {\n        correct: answer,\n        prompt: [{width: '2.5in'}],\n      }\n    }\n  }\n}\n\n\nexport class RationalGraph extends QGen {\n  static info = {\n    name: 'Rational Graph',\n    description: 'Determine the equation from the graph of a rational function'\n  }\n\n  generate(params) {\n    const rd = this.random\n\n    const makeFunction = (top, bottom) => {\n      let f = function(x) {\n        let n = 1\n        let d = 1\n        for (const r of top) {\n          n *= (x - r)\n        }\n        for (const r of bottom) {\n          d *= (x - r)\n        }\n        return n / d\n      }\n      return f\n    }\n\n    function generateValues() {\n      let vals = rd.sample(range(1, 9), 4).map(v => rd.random() < 0.5 ? v : -v)\n      let roots = [vals[0]]\n      let holes = [vals[1]]\n      let asymptotes = [vals[2]]\n      if (rd.random() < 0.5) {\n        asymptotes.push(vals[3])\n      } else if (rd.random() < 0.8) {\n        holes.push(vals[3])\n      }\n      return ({roots, holes, asymptotes})\n    }\n\n    function allHolesInRange(holes, f) {\n      for (const r of holes) {\n        if (f(r) <= -10 || f(r) >= 10) {\n          return false\n        } \n      }\n      return true\n    }\n\n    let roots, holes, asymptotes, f\n    let isGood = false\n\n    while (!isGood) {\n      ({roots, holes, asymptotes} = generateValues())\n      f = makeFunction(roots, asymptotes)\n      isGood = allHolesInRange(holes, f)\n    }\n    \n\n    const graph = [\n      'CartesianPlane',\n      {span: [-10,-10,10,10], autogrid: true, height: '2.2in'},\n      [\n        'Rational',\n        {\n          domain: [-12,12],\n          range: [-12,12],\n          roots, holes, asymptotes,\n        }\n      ]\n    ]\n\n\n    function fmtAns(ans) {\n      let numer = ''\n      for (const r of ans.top.sort((a,b) => b-a)) {\n        numer += '(' + math.simplify(`x - ${r}`).toString() + ')'\n      }\n      let denom = ''\n      for (const r of ans.bottom.sort((a,b) => b-a)) {\n        denom += '(' + math.simplify(`x - ${r}`).toString() + ')'\n      }\n      return `$$y = \\\\displaystyle\\\\frac{ ${numer} }{ ${denom} }$$`\n    }\n\n    const answer = {top: [...roots, ...holes], bottom: [...holes, ...asymptotes]}\n\n    const wrongs = [\n      {top: [...holes, ...asymptotes], bottom: [...holes, ...roots]},\n      {top: [...roots], bottom: [...holes, ...asymptotes]},\n      {top: [...roots, ...holes].map(r => -r), bottom: [...holes, ...asymptotes].map(r => -r)},\n      {top: [...holes, ...asymptotes].map(r => -r), bottom: [...holes, ...roots].map(r => -r)},\n    ]\n\n    const i = rd.randint(0,wrongs.length)\n    const choices = rd.shuffle([answer, ...wrongs].map(fmtAns), i)\n\n    return {\n      instructions: 'Choose the equation that best describes the graph shown.',\n      freeResponse: {\n        instructions: 'Write the equation that best describes the graph shown.'\n      },\n      diagram: {\n        type: 'vectorgraphic',\n        data: graph,\n      },\n      answer: {\n        correct: fmtAns(answer),\n        choices: choices,\n        correctIndex: i,\n        prompt: [{label: '$$y = $$', height: '8em', width: '20em'}],\n      }\n    }\n  }\n}\n\n\n\nexport class FindIntervals extends QGen {\n  static info = {\n    name: 'Intervals - Either',\n    description: 'Identify intervals over which a graph is increasing or decreasing'\n  }\n\n  static params = {\n    toFind: {\n      name: 'Type of interval to find',\n      choices: ['increasing', 'decreasing', 'random'],\n    },\n    style: {\n      name: 'Graph style',\n      choices: ['jagged'],\n    }\n  }\n\n  static defaults = {\n    toFind: 'random',\n    style: 'jagged'\n  }\n\n  generate(params) {\n    const rd = this.random\n\n    const toFind = {\n      increasing: 'inc', \n      decreasing: 'dec', \n      random: rd.choice(['inc', 'dec']),\n    }[params.toFind]\n\n    const xs = [-10]\n    let prev = -10\n    while (prev < 7) {\n      const next = rd.randint(prev+3, prev+5)\n      if (next > 7) {\n        xs.push(8)\n      } else {\n        xs.push(next)\n      }\n      prev = xs[xs.length-1]\n    }\n    xs.push(10)\n\n    \n    \n    const yRange = [-5,5]\n    const ys = [rd.randint(...yRange)]\n\n    let maxConstantIntervals = 2\n    let which\n    while (ys.length < xs.length) {\n      let possible = []\n      const prev = ys[ys.length-1]\n      if (which !== 'dec' & prev >= yRange[0]+2) {\n        possible.push('dec')\n      }\n      if (which !== 'inc' & prev <= yRange[1]-2) {\n        possible.push('inc')\n      }\n      if (which !== 'const' & maxConstantIntervals > 0) {\n        possible.push('const')\n        maxConstantIntervals -= 1\n      }\n      which = rd.choice(possible)\n      if (which === 'dec') {\n        ys.push(rd.randint(Math.max(yRange[0], prev-7), prev-1))\n      } else if (which === 'inc') {\n        ys.push(rd.randint(prev+1, Math.min(yRange[1], prev+7)))\n      } else {\n        ys.push(prev)\n      }\n    }\n\n    if (rd.random() < 0.5) {\n      ys.reverse()\n    }\n\n    const intervals = []\n    for (let i = 1; i < ys.length; i++) {\n      if (ys[i-1] < ys[i]) {\n        intervals.push('inc')\n      } else if (ys[i-1] === ys[i]) {\n        intervals.push('const')\n      } else {\n        intervals.push('dec')\n      }\n    }\n\n    let answer = []\n    let wrongAnswer1 = []  // ys insteas of xs\n    let wrongAnswer2 = []  // points instead of xs\n    let wrongAnswer3 = []  // switch dec/inc\n    let wrongAnswer4 = []  // switch dec/inc, ys instead of xs\n\n    let points = [\n      {x: xs[0], y: ys[0]},\n    ]\n    for (let i=0; i < intervals.length; i++) {\n      points.push({x: xs[i+1], y: ys[i+1]})\n      if (intervals[i] === toFind) {\n        answer.push({start: xs[i], stop: xs[i+1]})\n        wrongAnswer1.push({start: ys[i], stop: ys[i+1]})\n        wrongAnswer2.push({start: xs[i], stop: ys[i]})\n        wrongAnswer2.push({start: xs[i+1], stop: ys[i+1]})\n      } else if (intervals[i] === {'inc': 'dec', 'dec': 'inc'}[toFind]) {\n        wrongAnswer3.push({start: xs[i], stop: xs[i+1]})\n        wrongAnswer4.push({start: ys[i], stop: ys[i+1]})\n      }\n    }\n\n    const diagram = [\n      \"CartesianPlane\",\n      {\n        span: [-10,yRange[0]-1,10,yRange[1]+1], \n        autogrid: true,\n        height: '1.5in', \n      },\n      [\"Path\", {points: points}]\n    ]\n    \n    const fullName = {inc: 'increasing', dec: 'decreasing'}[toFind]\n\n    function fmtAns(ans) {\n      if (ans.length === 0) {\n        return 'None'\n      }\n      return '$$' + ans.map((int) => `(${int.start}, ${int.stop})`).join(', ') + '$$'\n    }\n\n    const wrongs = [wrongAnswer1, wrongAnswer2, wrongAnswer3, wrongAnswer4]\n    const answerIndex = rd.randint(0, wrongs.length)\n    const choices = rd.shuffle([answer, ...wrongs], answerIndex).map(fmtAns)\n\n    return ({\n      question: `Determine the intervals over which the function is ***${fullName}***.`,\n      diagram: {\n        type: 'vectorgraphic',\n        data: diagram,\n      },\n      answer: {\n        correct: fmtAns(answer),\n        choices: choices,\n        correctIndex: answerIndex,\n        prompt: [{width: '2in'}]\n      }\n    })\n  }\n}\n\nexport class IncreasingIntervals extends FindIntervals {\n  static info = {\n    name: 'Intervals - Increasing',\n    description: 'Identify intervals over which a graph is increasing',\n  }\n\n  static defaults = {\n    toFind: 'increasing',\n    style: 'jagged',\n  }\n}\n\nexport class DecreasingIntervals extends FindIntervals {\n  static info = {\n    name: 'Intervals - Decreasing',\n    description: 'Identify intervals over which a graph is decreasing',\n  }\n\n  static defaults = {\n    toFind: 'decreasing',\n    style: 'jagged',\n  }\n}\n\n\nclass AngleMeasure extends QGen {\n  static info = {\n    name: 'Angle Measure',\n    description: '',\n  }\n\n  generate(params) {\n\n    const translate = (a, b) => [a[0] + b[0], a[1]+ b[1]]\n    const difference = (a, b) => [a[0] - b[0], a[1] - b[1]]\n    //const complexMult = (a, b) => [a[0] * b[0] - a[1] * b[1], a[1] * b[0] + a[0] * b[1]]\n    /*\n    const rotate = (pt, angle, center=[0,0]) => {\n      const radians = angle * Math.PI / 180\n      const rotator = [Math.cos(radians), Math.sin(radians)]\n      const recenter = difference(pt, center)\n      return translate(complexMult(recenter, rotator), center)\n    }\n    */\n\n    const rd = this.random\n\n    const angle1 = rd.randint(35, 145)\n\n    const rotateBy = rd.randint(0, 359)\n    //let diagram = new Canvas(-20, -20, 20, 20, {height: '1.5in'})\n    //let graph = new PlotElement('g', {transform: `rotate(${rotateBy})`})\n\n    const intersect1 = [-5,0]\n    const r = 10\n    const pp = [r * Math.cos(angle1 * Math.PI / 180), r * Math.sin(angle1 * Math.PI / 180)]\n    const top1 = translate(intersect1, pp)\n    const bottom1 = difference(intersect1, pp)\n\n    const intersect2 = [intersect1[0] + r, intersect1[1]]\n    const top2 = [top1[0] + r, top1[1]]\n    const bottom2 = [bottom1[0] + r, bottom1[1]]\n\n    const left = [intersect1[0] - r, intersect1[1]]\n    const right = [intersect2[0] + r, intersect2[1]]\n\n    \n    const plotPoint = (pt) => {\n      return ['Point', {x: pt[0], y: pt[1]}]\n    }\n\n    const plotSegment = (a, b) => {\n     return ['Segment', {points: [a, b]}]\n    }\n    \n    const diagram = [\n      'CartesianPlane',\n      {span: [-20,-20,20,20], height: '3in', autogrid: false, style: 'geom'},\n      [\n        'Rotate', \n        {degrees: rotateBy},\n        ['Line', {endpoints: [left, right]}],\n        ['Line', {endpoints: [top1, bottom1]}],\n        ['Line', {endpoints: [top2, bottom2]}],\n        ['Point', {coords: intersect1}],\n        ['Point', {coords: intersect2}]\n      ]\n    ]\n\n\n    return {\n      instructions: 'Work in progress',\n      diagram: {\n        'type': 'vectorgraphic',\n        'data': diagram,\n      }\n    }\n\n  }\n}\n\nclass RationalRootTheorem extends QGen {\n  static info = {\n    name: 'Rational Root Theorem',\n    description: 'State possible rational roots for a given function.'\n  }\n\n  generate(params) {\n    const rd = this.random\n    let primes = rd.sample([1, 2, 3, 5, 7, 11], 4)\n    for (const i in primes) {\n      if (primes[i] === 1) {\n        if (i === 0 | i === 2) {\n          primes[i+1] = Math.pow(primes[i+1], rd.randint(1,2))\n        } else {\n          primes[i-1] = Math.pow(primes[i-1], rd.randint(1,2))\n        }\n      }\n    }\n    for (const i in primes) {\n      if (primes[i] === 2 | primes[i] === 3) {\n        primes[i] = Math.pow(primes[i], rd.randint(1,2))\n      }\n    }\n    const leading_coeff = primes[0] * primes[1]\n    const trailing_coeff = primes[2] * primes[3]\n    const degree = rd.randint(3,6)\n    const num_coeffs = rd.randint(3,degree)\n    let poly = randomPolynomialCoefficients.call(this, {degree: degree, terms: num_coeffs})\n    poly[0] = trailing_coeff\n    poly[degree] = leading_coeff\n    const f = new Polynomial(poly)\n\n    const question = '$$y = ' + f.toLatex() + '$$'\n    \n    return {\n      instructions: \"Work in progress\",\n      question: question,\n    }\n  }\n}\n","import QGen from './QGen'\nimport * as svg from './tools/svgplot'\nimport { createTree } from './tools/QuadTree'\n\n\nexport class VG extends QGen {\n  static info = {\n    name: 'VG',\n    description: 'test vector graphics'\n  }\n\n  generate(params) {\n    \n\n    return {\n      answer: null,\n      question: 'Rational:',\n      diagram: {\n        type: 'vectorgraphic',\n        data: [\n          'CartesianPlane',\n          {span: [-10,-10,10,10], autogrid: true, height: '6in'},\n          [\n            'Circle',\n            {cx: 0, cy: 0, r: 8, style: {fill: 'blue'}}\n          ]\n        ]\n      }\n    }\n  }\n}\n\nexport class PolynomialPlot extends QGen {\n  static info = {\n    name: 'Polynomial plot',\n    description: 'Plot polynomial by coefficients'\n  }\n\n  generate(params) {\n    const rd = this.random\n\n    const deg = rd.randint(2,7)\n    const inv = false\n    let coeffs = rd.sample([-5,-4,-3,-2,-1,0,1,2,3,4,5], deg+1)\n    const denom = rd.randint(2, 21)\n    \n    if (coeffs[coeffs.length-1] === 0) {\n      coeffs = coeffs.slice(0,-1)\n    }\n    const [v, w] = inv ? ['y', 'x'] : ['x', 'y']\n    let tex = ''\n    for (let i = coeffs.length-1; i >= 0; i--) {\n      const c = coeffs[i]\n      const x = i === 0 ? '' : `${v}^{${i}}`\n      if (c > 0) {\n        if (i < coeffs.length-1) tex += '+';\n        if (c !== 1 || i === 0) tex += c;\n        tex += x\n      } else if (c < 0) {\n        if (c !== -1 || i === 0) {\n          tex += c\n        } else {\n          tex += '-'\n        }\n        tex += x\n      }\n    }\n\n\n    const graph = [\n      'CartesianPlane',\n      {span: [-10,-10,10,10], autogrid: true},\n      [\n        'Polynomial',\n        {coefficients: coeffs.map(c => c/denom), domain: [-10,10]}\n      ]\n    ]\n\n    const question = `The graph of a $$\\\\displaystyle ${w} = \\\\frac{1}{${denom}}(${tex})$$`\n\n    return {\n      question: question,\n      diagram: {\n        type: 'vectorgraphic',\n        data: graph,\n      },\n      answer: {\n        prompt: null,\n      }\n    }\n  }\n}\n\nexport class PlotStyling extends QGen {\n  static info = {\n    name: 'Plot Style',\n    description: 'Plot with custom style'\n  }\n\n  generate(params) {\n    const x = t => 9*Math.sin(t)\n    const y = t => 9*Math.sin(1.17*t)\n    const step = 0.1\n    let path1 = []\n    let path2 = []\n    let path3 = []\n    let path4 = []\n\n    let t = -36\n\n    while (t <= -18) {\n      path1.push([x(t), y(t)])\n      t += step\n    }\n    path1.push([x(t), y(t)])\n\n    while (t <= 0) {\n      path2.push([x(t), y(t)])\n      t += step\n    }\n    path2.push([x(t), y(t)])\n\n    while (t <= 18) {\n      path3.push([x(t), y(t)])\n      t += step\n    }\n    path3.push([x(t), y(t)])\n\n\n    while (t <= 36) {\n      path4.push([x(t), y(t)])\n      t += step\n    }\n    path4.push([x(t), y(t)])\n\n\n    return {\n      answer: {prompt: null},\n      question: 'The graph of $$(x,y) = (9\\\\sin(t), 9\\\\cos(1.17t))$$ for $$-36 \\\\leq t \\\\leq 36$$:',\n      diagram: {\n        type: 'vectorgraphic', \n        data: [\n          'CartesianPlane', \n          {\n            span: [-10,-10,10,10], \n            autogrid: false,\n            height: '3in',\n          },\n          [\n            'Layer', {},\n            [\n              'Layer',\n              {style: {'--vg-path-color': 'hsl(340,70%,60%)'}},\n              ['Path', {points: path4}],\n            ],\n            [\n              'Layer',\n              {style: {'--vg-path-color': 'hsl(30,90%,50%)'}},\n              ['Path', {points: path3}],\n            ],\n            [\n              'Layer',\n              {style: {'--vg-path-color': 'hsl(80,90%,40%)'}},\n              ['Path', {points: path2}],\n            ],\n            [\n              'Layer',\n              {style: {'--vg-path-color': 'hsl(170,90%,40%)'}},\n              ['Path', {points: path1}],\n            ]\n          ]\n        ]\n      }\n    }\n  }\n}\n\n\nexport class FontTest extends QGen {\n  static info = {\n    name: \"Font Test\"\n  }\n\n  generate(params) {\n    \n    const text = 'the quick brown fox jumps over the lazy dog 1234567890'\n\n    let lines = []\n\n    for (const chars of [text, text.toUpperCase()]) {\n      for (const x of ['', '_', '__', '___']) {\n        lines.push(`${x}${chars}${x}`)\n      }\n    }\n\n    lines.push('$$\\\\text{' + text + '}$$ (LaTeX)')\n\n    const dontConfuse = ['IJl1']\n\n    for (const d of dontConfuse) {\n      let line = []\n      for (let i = 0; i < d.length-1; i++) {\n        for (let j = i+1; j < d.length; j++) {\n          line.push(d[i] + d[j])\n        }\n      }\n      for (const x of ['', '_', '__', '___']) {\n        lines.push(`${x}${line.join(' ')}${x}`)\n      }\n    }\n\n    const question = [\n      '_y = ax^2^ + bx +c_', \n      '$$y = ax^2 + bx + c$$',\n      '_IJK_ $$IJK$$',\n    ].join('  \\n')\n\n    return {\n      instructions: lines.join('  \\n'),\n      question: question,\n    }\n  }\n}\n\nexport class QuadTreePlotTest extends QGen {\n  static info = {\n    name: 'QuadTree Plot Test',\n    description: 'Test alternate graphing algorithm'\n  }\n\n  generate(params) {\n    const f1 = ({x, y}) => Math.pow(Math.sin(x*x), 1)\n    const f2 = ({x, y}) => Math.pow(Math.cos(y*y), 1)\n    //const f3 = ({x, y}) => Math.pow(Math.sin(y*y), 1)\n    //const f4 = ({x, y}) => Math.pow(Math.cos(x*x), 1)\n\n    \n    let q = createTree(pt => f1(pt) - f2(pt), -7, -7, 14, 8, 7)\n    const marker = ({x, y}) => ['circle', {cx: x, cy: y, r: '0.1'}]\n\n    const graph = svg.cartesianPlane(\n      {span: [-7,-7,7,7], autogrid: true, height: '5in', width: '5in'},\n      [\n        'g', {style: {fill: 'rgba(200,0,100,0.3)'}},\n        ...q.map(marker),\n      ]\n    )\n\n    return {\n      answer: null,\n      question: \"The graph of $$\\\\sin(x^2) = \\\\cos(y^2)$$:\",\n      diagram: {\n        type: 'jsonml',\n        data: graph,\n      }\n    }\n  }\n}\n\nexport class MdTest extends QGen {\n\n  static info = {\n    name: 'Formatting Test',\n    description: 'Test markdown/latex'\n  }\n\n  generate(params) {\n\n    const mdtest = `# Heading\n\nRegular, _Italic_, __Bold__, ___Both___, ~sub~script, ^super^script,  \\`monospaced\\`,  \narrows: --> <-- ==> <== <--> <==>\n\nThe formula $$x = \\\\frac{-b \\\\pm \\\\sqrt{b^2 - 4ac}}{2a}$$\nis used to solve quadratic equations.\n\nThe Collatz Function:\n$$$f(n) = \\\\left\\\\{ \\\\begin{array}{rl}\n  n \\\\div 2 & \\\\text{ if $n$ is even} \\\\\\\\\n  3n+1 & \\\\text{ if $n$ is odd}\n\\\\end{array}\\\\right.$$$\n\n- Thing A\n  - Thing A.1\n  - Thing A.2\n- Thing B\n\ninput ($$x$$) | output ($$y$$)\n:-: | :-:\n-3  | 3\n-2  | -2 \n-1  | -5\n 0  | -6\n\n> All summations have a beginning, all effect has a  \n> story, all kindness begins with the sown seed.  \n> Thought buds toward radiance. The gospel of  \n> light is the crossroads of -- indolence, or action.  \n> \n> Be ignited, or be gone.\n\n[Hyperlink](https://npr.org)\n\n${'```'}python\ndef gcd(a, b):\n    if a == b or b == 0:\n        return a\n    elif a == 0:\n        return b\n    else:\n      return gcd(a, a-b) if a > b else gcd(b, b-a)\n${'```'}\n`\n\n    return ({\n      answer: null,\n      question: {\n        type: 'markdown',\n        data: mdtest,\n      },\n    })\n  }\n\n}\n\n\n\nexport class VegaLite extends QGen {\n  static info = {\n    name: 'Vega Lite Test',\n    description: 'Test Vega-Lite rendering'\n  }\n\n  generate(params) {\n    let points = []\n    for (let x = -3; x <= 3; x++) {\n      points.push({x: x, y: x*x})\n    }\n    const diagram2 = {\n      \"data\": {\"values\": points},\n      \"mark\": {\n        'type': 'line', \n        'interpolate': 'monotone',\n      },\n      \"encoding\": {\n        'x': {\n          'field': 'x', \n          'type': 'quantitative',\n        },\n        'y': {\n          'field': 'y', \n          'type': 'quantitative',\n        },\n        axisX: {\n          titleFont: 'Lora'\n        },\n      },\n    }\n\n    return {\n      answer: null,\n      instructions: 'Rendered with Vega-Lite:',\n      diagram: {\n        type: 'vega-lite',\n        data: diagram2,\n      }\n    }\n  }\n}\n\nexport class VegaTest extends QGen {\n  static info = {\n    name: 'Vega Test',\n    description: 'Test Vega rendering'\n  }\n\n  generate(params) {\n    return {\n      answer: null,\n      instructions: \"Rendered with Vega:\",\n      diagram: {\n        type: 'vega',\n        data: {\n          \"$schema\": \"https://vega.github.io/schema/vega/v4.json\",\n          \"width\": 500,\n          \"height\": 200,\n          \"padding\": 5,\n        \n          \"signals\": [\n            {\n              \"name\": \"interpolate\",\n              \"value\": \"linear\",\n              \"bind\": {\n                \"input\": \"select\",\n                \"options\": [\n                  \"basis\",\n                  \"cardinal\",\n                  \"catmull-rom\",\n                  \"linear\",\n                  \"monotone\",\n                  \"natural\",\n                  \"step\",\n                  \"step-after\",\n                  \"step-before\"\n                ]\n              }\n            }\n          ],\n        \n          \"data\": [\n            {\n              \"name\": \"table\",\n              \"values\": [\n                {\"x\": 0, \"y\": 28, \"c\":0}, {\"x\": 0, \"y\": 20, \"c\":1},\n                {\"x\": 1, \"y\": 43, \"c\":0}, {\"x\": 1, \"y\": 35, \"c\":1},\n                {\"x\": 2, \"y\": 81, \"c\":0}, {\"x\": 2, \"y\": 10, \"c\":1},\n                {\"x\": 3, \"y\": 19, \"c\":0}, {\"x\": 3, \"y\": 15, \"c\":1},\n                {\"x\": 4, \"y\": 52, \"c\":0}, {\"x\": 4, \"y\": 48, \"c\":1},\n                {\"x\": 5, \"y\": 24, \"c\":0}, {\"x\": 5, \"y\": 28, \"c\":1},\n                {\"x\": 6, \"y\": 87, \"c\":0}, {\"x\": 6, \"y\": 66, \"c\":1},\n                {\"x\": 7, \"y\": 17, \"c\":0}, {\"x\": 7, \"y\": 27, \"c\":1},\n                {\"x\": 8, \"y\": 68, \"c\":0}, {\"x\": 8, \"y\": 16, \"c\":1},\n                {\"x\": 9, \"y\": 49, \"c\":0}, {\"x\": 9, \"y\": 25, \"c\":1}\n              ]\n            }\n          ],\n        \n          \"scales\": [\n            {\n              \"name\": \"x\",\n              \"type\": \"point\",\n              \"range\": \"width\",\n              \"domain\": {\"data\": \"table\", \"field\": \"x\"}\n            },\n            {\n              \"name\": \"y\",\n              \"type\": \"linear\",\n              \"range\": \"height\",\n              \"nice\": true,\n              \"zero\": true,\n              \"domain\": {\"data\": \"table\", \"field\": \"y\"}\n            },\n            {\n              \"name\": \"color\",\n              \"type\": \"ordinal\",\n              \"range\": \"category\",\n              \"domain\": {\"data\": \"table\", \"field\": \"c\"}\n            }\n          ],\n        \n          \"axes\": [\n            {\"orient\": \"bottom\", \"scale\": \"x\", 'titleFont': 'Zilla Slab'},\n            {\"orient\": \"left\", \"scale\": \"y\"}\n          ],\n        \n          \"marks\": [\n            {\n              \"type\": \"group\",\n              \"from\": {\n                \"facet\": {\n                  \"name\": \"series\",\n                  \"data\": \"table\",\n                  \"groupby\": \"c\"\n                }\n              },\n              \"marks\": [\n                {\n                  \"type\": \"line\",\n                  \"from\": {\"data\": \"series\"},\n                  \"encode\": {\n                    \"enter\": {\n                      \"x\": {\"scale\": \"x\", \"field\": \"x\"},\n                      \"y\": {\"scale\": \"y\", \"field\": \"y\"},\n                      \"stroke\": {\"scale\": \"color\", \"field\": \"c\"},\n                      \"strokeWidth\": {\"value\": 2}\n                    },\n                    \"update\": {\n                      \"interpolate\": {\"signal\": \"interpolate\"},\n                      \"fillOpacity\": {\"value\": 1}\n                    },\n                    \"hover\": {\n                      \"fillOpacity\": {\"value\": 0.5}\n                    }\n                  }\n                }\n              ]\n            }\n          ]\n        }\n        \n      }\n    }\n  }\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport ReactModal from 'react-modal';\nimport {\n  Preview,\n  SideBar,\n  StatusBar,\n  TopBar,\n  Wrapper,\n} from '../components'\nimport Document from './Document/Document'\nimport CustomQuestion from './CustomQuestion'\nimport Notes from './Notes'\nimport { CheckStateButton } from './Debug'\nimport SettingsPage, {\n  AllowEditingToggle,\n  AnswerKeyToggle,\n  FontFamily,\n  FontSize,\n  PageMargin,\n  PreviewZoom,\n  StartNumbering\n} from './Settings'\n\n\nimport '../stylesheets/styles.global.css'\n\nimport {\n  addToDocument,\n  removeLast,\n  clearAll,\n} from '../actions/document'\n\nimport {\n  examplequestions, demogenerators\n} from '../questions'\n\n\nlet questionBank = {}\nfor (const q in examplequestions) {\n  const n = examplequestions[q].register().name\n  questionBank[n] = examplequestions[q]\n}\nfor (const q of ['PlotStyling', 'QuadTreePlotTest']) {\n  const n = `_ ${demogenerators[q].register().name}`\n  questionBank[n] = demogenerators[q]\n}\n\n\nReactModal.setAppElement('#root')\nObject.assign(ReactModal.defaultStyles.content, {\n  borderRadius: '4px',\n  borderColor: '#999',\n  background: '#eee',\n  padding: '5mm',\n  top: '10px',\n  left: '10px',\n  right: '10px',\n  bottom: '10px',\n})\nObject.assign(ReactModal.defaultStyles.overlay, {\n  background: 'rgba(100,100,100,0.2)',\n})\n\n\n//let questionID = 0;\n\nclass AppWrapper extends React.Component {\n  constructor(props) {\n    super(props)\n    this.questionTypeSelect = React.createRef()\n    this.state = {\n      modal: 'none',\n    }\n  }\n\n  addToDoc = (elem) => {\n    this.props.addToDocument(elem)\n  }\n\n  generateAndAdd = () => {\n    const questionType = this.questionTypeSelect.current.value\n    if (questionType !== '__NONE__') {\n      console.log(`Generating ${questionType}`)\n      try {\n        const qtype = this.props.questionTypes[questionType]\n        const question = new qtype()\n        this.addToDoc(question.output())\n      } catch(e) {\n        console.log('failed')\n        console.log(e)\n      }\n    }\n  }\n\n  closeModal = () => this.setState({modal: 'none'})\n  openRpcTest = () => this.setState({modal: 'RpcTest'})\n  openCustomQuestion = () => this.setState({modal: 'CustomQuestion'})\n  openSettings = () => this.setState({modal: 'Settings'})\n  \n  renderQuestionList() {\n    const sortfunc = (a, b) => {\n      const A = a.toUpperCase(), B = b.toUpperCase()\n      if (A > B) return 1\n      if (A < B) return -1\n      return 0\n    }\n\n    return Object.keys(this.props.questionTypes).sort(sortfunc).map(k => {\n      const register = this.props.questionTypes[k].register()\n      return (\n        <option key={`qtype${k}`} \n          title={register.description}\n          value={k} >\n          {k}\n        </option>\n      )\n    })\n  }\n\n  render() {\n    const toplabel = {margin: '0 0 0 0.5em'}\n    return (\n      <Wrapper >\n        {/* customTitleBar ? <TitleBar /> : null */}\n        <TopBar>\n          <button onClick={window.print}>Print / PDF</button>\n          <span style={toplabel}>Answer Key:</span><AnswerKeyToggle />\n          <span style={toplabel}>Start Numbering At:</span><StartNumbering />\n          <span style={toplabel}>Font:</span><FontFamily/><FontSize />\n          <span style={toplabel}>Margins:</span><PageMargin />\n          <span style={toplabel}>Zoom:</span><PreviewZoom />\n          <span style={toplabel}>Allow Editing:</span><AllowEditingToggle />\n          \n        </TopBar>\n        <Preview>\n          <Document/>\n        </Preview>\n        <SideBar>\n          <select ref={this.questionTypeSelect} defaultValue='__NONE__'>\n            <option value='__NONE__' disabled>Question Type</option>\n            <option value='__NONE__' disabled>-------</option>\n            {this.renderQuestionList()}\n          </select>\n          <button onClick={this.generateAndAdd}>Add</button>\n          <button onClick={this.openCustomQuestion}>Custom Question</button>\n          <button onClick={this.props.removeLast}>Remove Last</button>\n          <button onClick={this.props.clearAll}>Clear All</button>\n          <button onClick={this.openSettings}>Settings</button>\n          <div style={{height: '1in'}}></div>\n          <button onClick={() => this.setState({modal: 'Notes'})}>Notes</button>\n          <CheckStateButton>Log State</CheckStateButton>\n        </SideBar>\n        { this.props.statusBar ? <StatusBar><span>{this.props.statusBar}</span></StatusBar> : null }\n\n        <ReactModal\n          isOpen={this.state.modal === 'Settings'}\n          onRequestClose={this.closeModal}\n          style={{\n            content: {\n              top: 0,\n              bottom: 0,\n              left: 0,\n              right: 0,\n              padding: 0,\n            },\n          }}\n        >\n          <SettingsPage onRequestClose={this.closeModal}/>\n        </ReactModal>\n\n        <ReactModal\n          isOpen={this.state.modal === 'CustomQuestion'}\n          onRequestClose={this.closeModal}\n        >\n          <CustomQuestion onRequestClose={this.closeModal}/>\n          <button onClick={this.closeModal}>Close</button>\n        </ReactModal>\n\n        <ReactModal\n          isOpen={this.state.modal === 'Notes'}\n          onRequestClose={this.closeModal}\n          style={{content: {backgroundColor: 'white'}}}\n        >\n          <Notes onRequestClose={this.closeModal} />\n        </ReactModal>\n\n      </Wrapper>\n    )\n\n  }\n}\n\nconst mapStateToProps = state => ({\n  questionTypes: questionBank,\n  statusBar: \"\",\n  fontFamilyUI: state.config.fontFamilyUI,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: q => dispatch(addToDocument(q)),\n  removeLast: () => dispatch(removeLast()),\n  clearAll: () => dispatch(clearAll()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AppWrapper)","import React from 'react';\nimport { Provider } from 'react-redux';\nimport App from './App'\n\n\nexport default class Root extends React.Component {\n  render() {\n    const { store } = this.props;\n    return (\n      <Provider store={store}>\n        <App />\n      </Provider>\n    )\n  }\n}\n","import {\n  ADD_TO_DOCUMENT,\n  CLEAR_ALL,\n  REMOVE_LAST,\n  UPDATE_ELEMENT,\n  SET_DOCUMENT_STARTNUMBERING,\n  ADD_PAGEBREAK_BEFORE,\n  DELETE_ELEMENT,\n} from '../actions/document'\n\n\n\nconst initialState = {\n  content: {},\n  order: [],\n  headers: {\n    1: {\n      type: 'header',\n      data: [\n        {left: 'Assignment', right: 'Name ___'},\n        {right: 'Date __ Class _'},\n      ],\n    },\n    default: {type: 'header', data: []},\n  },\n  footers: {},\n  pagebreaks: [],\n  startNumbering: 1,\n}\n\nconst document = function(state=initialState, action) {\n  switch (action.type) {\n    // content\n    case ADD_TO_DOCUMENT:\n      return {\n        ...state, \n        content: {...state.content, [action.payload.id]: action.payload.element},\n        order: [...state.order, action.payload.id]\n      }\n    case CLEAR_ALL:\n      return {\n        ...state, \n        content: {},\n        order: [], \n        pagebreaks: [],\n      }\n    case REMOVE_LAST:\n      return {\n        ...state, \n        order: state.order.slice(0,-1), \n        pagebreaks: state.pagebreaks.filter(n => n < state.order.length),\n      }\n    case DELETE_ELEMENT:\n      if (typeof action.payload === 'string') {\n        if (action.payload.split('.')[0] === 'header') {\n          return {\n            ...state, headers: {...state.headers, [action.payload.split('.')[1]]: {type: 'header', data: []}}\n          }\n        }\n\n      }\n      //Note that this does not remove the element from 'content', only from 'order'\n      return {\n        ...state, \n        order: state.order.filter(id => id !== action.payload),\n        pagebreaks: state.pagebreaks.filter(n => n < state.order.length),\n      }\n    case UPDATE_ELEMENT:\n      if (typeof action.payload.id === 'string') {\n        if (action.payload.id.split('.')[0] === 'header') {\n          return {\n            ...state, \n            headers: {...state.headers, [action.payload.id.split('.')[1]]: action.payload.element}}\n        }\n      }\n      return {\n        ...state, \n        content: {...state.content, [action.payload.id]: action.payload.element}\n      }\n\n\n    // settings\n    case SET_DOCUMENT_STARTNUMBERING:\n      return {...state, startNumbering: action.payload}\n\n\n\n    // view\n    case ADD_PAGEBREAK_BEFORE:\n      for (const i in state.order) {\n        if (state.order[i] === action.payload) {\n          return {...state, pagebreaks: [...state.pagebreaks, i]}\n        }\n      }\n      return state\n      \n      \n    \n    default:\n      return state\n  }\n}\n\nexport default document\n\n","import {\n  ADD_LOCAL_FONT,\n  SET_ALLOW_EDITING,\n  SET_FONTFAMILY_UI,\n  SET_SHOW_ANSWERKEY,\n} from '../actions/config'\n\nconst initialState = {\n  //titleBarStyle: 'default',\n  localFonts: [],\n  fontFamilyUI: 'select',\n  showAnswerKey: true,\n  allowEditing: true,\n}\n\nconst config = function(state=initialState, action) {\n  switch(action.type) {\n    case ADD_LOCAL_FONT:\n      return {...state, localFonts: [...state.localFonts, action.payload]}\n    case SET_ALLOW_EDITING:\n      return {...state, allowEditing: action.payload}\n    case SET_FONTFAMILY_UI:\n      return {...state, fontFamilyUI: action.payload}\n    case SET_SHOW_ANSWERKEY:\n      return {...state, showAnswerKey: action.payload}\n    default:\n      return state\n  }\n}\n\nexport default config","import {\n  SET_DOCUMENT_FONTFAMILY,\n  SET_DOCUMENT_FONTSIZE,\n  SET_MATH_FONTSIZE,\n  SET_MATH_FONTWEIGHT,\n  SET_PAGE_MARGIN,\n  UPDATE_GRAPHSTYLE,\n  RESET_GRAPHSTYLE,\n} from '../actions/style'\n\n\nconst initialState = {\n  fontFamily: 'serif',\n  fontSize: '8pt',\n  mathFontSize: '0.9em',\n  mathFontWeight: 'normal',\n  pageSize: 'letter',\n  pageOrientation: 'portrait',\n  pageMargin: '10mm 10mm 10mm 10mm',\n  graph: {\n    asymptoteColor: '#777777',\n    asymptoteWidth: '0.7mm',\n    axisColor: '#222222',\n    axisWidth: '0.3mm',\n    gridColor: '#2255aa',\n    gridWidth: '0.1mm',\n    plotPathColor: '#cc0077',\n    plotPathWidth: '0.5mm',\n    geomPathColor: '#111111',\n    geomPathWidth: '0.5mm',\n    shadedRegionOpacity: '0.2',\n  },\n}\n\nconst style = function(state=initialState, action) {\n  switch(action.type) {\n    // Fonts\n    case SET_DOCUMENT_FONTFAMILY:\n      return {...state, fontFamily: action.payload}\n    case SET_DOCUMENT_FONTSIZE:\n      return {...state, fontSize: action.payload}\n    case SET_MATH_FONTSIZE:\n      return {...state, mathFontSize: action.payload}\n    case SET_MATH_FONTWEIGHT:\n      return {...state, mathFontWeight: action.payload}\n\n    // Page Layout\n    case SET_PAGE_MARGIN:\n      return {...state, pageMargin: action.payload}\n\n    // Graph Style\n    case UPDATE_GRAPHSTYLE:\n      return {...state, graph: {...state.graph, ...action.payload}}\n    case RESET_GRAPHSTYLE:\n      return {...state, graph: {...initialState.graph}}\n\n    default:\n      return state\n  }\n}\n\nexport default style","import { combineReducers } from 'redux'\nimport document from './document'\nimport config from './config'\nimport style from './style'\n\nconst rootReducer = combineReducers({\n  config, document, style\n})\n\nexport default rootReducer","import React from 'react';\nimport Root from './containers/Root';\nimport { createStore } from 'redux';\nimport rootReducer from './reducers';\n\nconst store = createStore(rootReducer);\n\nconst App = () => <Root store={store} />\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n"],"sourceRoot":""}