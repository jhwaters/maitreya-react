{"version":3,"sources":["containers/Modals/styles.module.css","containers/GeneratorMenu/styles.module.css","containers/Settings/Graph/styles.module.css","renderJson/renderTypes/styles.module.css","containers/AppLayout/styles.module.css","containers/Document/testing/scratch.module.css","containers/Settings/styles.module.css","containers/CustomQuestion/styles.module.css","containers/AppLayout/Preview.js","containers/AppLayout/SideBar.js","containers/AppLayout/StatusBar.js","containers/AppLayout/TopBar.js","containers/AppLayout/Wrapper.js","actions/document.js","renderJson/renderTypes/VectorGraphics/react-svgplot/Style.js","renderJson/renderTypes/VectorGraphics/react-svgplot/Overlay.js","renderJson/renderTypes/VectorGraphics/react-svgplot/Canvas.js","renderJson/renderTypes/VectorGraphics/react-svgplot/Grid.js","renderJson/renderTypes/VectorGraphics/react-svgplot/Label.js","renderJson/renderTypes/VectorGraphics/react-svgplot/Shapes.js","renderJson/renderTypes/VectorGraphics/react-svgplot/Transform.js","renderJson/renderTypes/VectorGraphics/funcs.js","renderJson/renderTypes/VectorGraphics/Path.js","renderJson/renderTypes/VectorGraphics/AngleMark.js","renderJson/renderTypes/VectorGraphics/Clip.js","renderJson/renderTypes/VectorGraphics/CoordinatePlane.js","renderJson/renderTypes/VectorGraphics/Grid.js","renderJson/renderTypes/VectorGraphics/Layer.js","renderJson/renderTypes/VectorGraphics/Functions.js","renderJson/renderTypes/VectorGraphics/Style.js","renderJson/renderTypes/VectorGraphics/index.js","renderJson/renderTypes/EmptySpace.js","renderJson/renderTypes/katexMath.js","renderJson/renderTypes/Markdown.js","renderJson/renderTypes/Math.js","renderJson/renderTypes/PageHeader.js","renderJson/renderTypes/Question.js","renderJson/renderTypes/Table.js","renderJson/renderTypes/Text.js","renderJson/renderTypes/index.js","renderJson/renderTypes/AnswerSpace.js","renderJson/renderTypes/Container.js","renderJson/renderTypes/List.js","renderJson/renderTypes/RenderError.js","renderJson/renderTypes/VegaLite.js","renderJson/renderJson.js","renderJson/editJson/DefaultEditor.js","renderJson/editJson/EditPageHeader.js","renderJson/editJson/EditQuestion.js","renderJson/editJson/index.js","renderJson/editJson/EditText.js","renderJson/index.js","containers/Document/TopLevelElement.js","containers/Document/pagesize.js","containers/Document/MeasuredPage.js","containers/Document/Page.js","containers/Document/AnswerKey.js","questions/tools/random_randomjs.js","questions/QGen.js","questions/tools/QuadTree.js","questions/generatortests.js","containers/Document/testing/FontTest.js","containers/Document/Document.js","containers/Document/testing/scratchpage.js","actions/config.js","containers/Settings/Font/AddLocalFont.js","containers/Settings/Font/FontFamilyUI.js","actions/style.js","containers/Settings/Font/FontFamilyInput.js","containers/Modals/AddFontPopup.js","containers/Modals/NotesModal.js","containers/Modals/SavePopup.js","containers/Settings/Graph/GraphStyle.js","containers/Settings/Graph/GraphPreview.js","containers/Settings/Graph/GraphSettings.js","containers/Settings/Graph/index.js","containers/Settings/Page/PageMargin.js","containers/Settings/Page/PageSize.js","containers/Settings/Page/PageMargins.js","containers/Settings/Page/index.js","containers/Settings/Page/PageSettings.js","containers/Settings/UI/GUImode.js","containers/Settings/UI/PreviewZoom.js","containers/Settings/UI/UITheme.js","containers/Settings/UI/index.js","containers/Settings/UI/UISettings.js","containers/Settings/SettingsPage.js","containers/Settings/AllowEditing.js","containers/Settings/AnswerKeyToggle.js","containers/Settings/FixPagination.js","containers/Settings/StartNumbering.js","containers/Settings/index.js","containers/Modals/SettingsModal.js","containers/Modals/UploadModal.js","containers/Settings/Font/FontFamilySelect.js","containers/Settings/Font/FontFamily.js","containers/Settings/Font/FontSize.js","containers/Settings/Font/FontLoader.js","containers/Settings/Font/MathFontSettings.js","containers/Settings/Font/TextPreview.js","containers/Settings/Font/index.js","containers/Settings/Font/FontSettings.js","containers/CustomQuestion/LatexExamples.js","containers/CustomQuestion/GraphMaker.js","containers/CustomQuestion/CustomQuestion.js","containers/CustomQuestion/index.js","containers/Debug/CheckState.js","questions/geometry.js","questions/picofermi.js","questions/tools/handystuff.js","questions/polynomials.js","questions/transformations.js","questions/trigonometry.js","questions/othergenerators.js","questions/simpleexamples.js","containers/GeneratorMenu/questionbank.js","questions/index.js","containers/GeneratorMenu/QuestionSearch.js","containers/App.js","containers/Root.js","reducers/document.js","reducers/config.js","stylesetter.js","reducers/style.js","reducers/index.js","App.js","initialize.js","serviceWorker.js","index.js"],"names":["module","exports","Popup","PopupButtons","ResultContainer","SearchResult","Selected","SearchResultNone","Layout","SettingTable","StyleSetting","Preview","Markdown","Wrapper","Wrapper-TitleBar-StatusBar","Wrapper-TopBar","Wrapper-TopBar-StatusBar","SideBar","StatusBar","TitleBar","TopBar","PreviewOuter","PreviewInner","FO","Div1","Div2","SettingPage","Title","SettingSection","LeftBar","NavArea","NavButton","GraphMakerBody","GraphMakerInput","GraphMakerPreview","LatexExamples","Previewer","react_default","a","createElement","className","styles","this","props","children","React","Component","classNames","join","elemID","addToDocument","elem","type","payload","element","id","axisArrow","MarkerSymbols","viewBox","refX","refY","cx","cy","r","d","points","transform","MarkerDefs","_ref","stylename","markerW","markerH","Fragment","concat","markerWidth","markerHeight","markerUnits","orient","xlinkHref","x","y","height","width","FillPatternDefs","_ref2","patternUnits","patternTransform","StyleDefs","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","ref","createRef","CTM","current","getCTM","setState","checkSize","w","h","_this$state$CTM","b","c","s","Math","max","abs","Style_MarkerDefs","Style_FillPatternDefs","styleCount","Style","name","color","styleprops","objectWithoutProperties","uniquename","style","objectSpread","_arr","_i","length","shape","_arr2","_i2","pattern","stroke","vectorEffect","Style_StyleDefs","Overlay","x1","y1","x2","y2","rotate","anchor","displacement","_props$cartesian","cartesian","outerstyle","position","left","top","overflow","innerstyle","transformOrigin","_E$NE$N$NW$W$SW$S$SE$","slicedToArray","E","NE","N","NW","W","SW","S","SE","center","initialTransform","undefined","constructor","dx","parseFloat","dy","ux","replace","uy","angle","radius","u","round","cos","PI","sin","angles","rotateAngle","console","log","Canvas","preserveAspectRatio","_props$border","border","wrapperprops","display","padding","svgprops","margin","gprops","Children","toArray","svgchildren","filter","overlays","assign","Style_MarkerSymbols","map","o","i","react_svgplot_Overlay","key","Grid","_props$xStep","xStep","_props$yStep","yStep","xvals","yvals","t","push","v","Label","ctm","_style","_this$props","_this$props$anchor","distance","anglemap","right","anchorAngle","tb","lr","div1","div2","defineProperty","units","padX","padY","marginTop","marginBottom","marginLeft","marginRight","useragent","navigator","userAgent","toLowerCase","test","_this$state$ctm$inver","inverse","inv","m1","multiply","e","f","m2","resultmatrix","xmlns","markerProps","positions","markers","updatePropsWithMarkers","Line","Polygon","Polyline","Path","Point","coords","_props$marker","marker","pathprops","Shapes_Path","matrix","params","Array","isArray","_params3","_params3$","_params3$2","_params3$3","_params3$4","_params3$5","_params3$6","_params$a","_params$b","_params$c","_params$d","_params$e","_params$f","makeTransform","_params4","_params2","_params2$","_params2$2","_params$x2","_params$y2","scale","_params","_params$","_params$2","_params$x","_params$y","translate","Transform","list","layerprops","transforms","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","value","ty","_ref2$","str","err","return","polylineFromPoints","p","renderPath","fill","_props$connect","connect","Shapes_Polygon","Shapes_Polyline","VectorGraphics_Style","AngleMark","start","end","otherprops","maxRadius","minRadius","angleSize","startAngle","endAngle","arcStart","arcEnd","VectorGraphics_Path","clipCount","Clip","Elem","_props$id","shapeprops","clipPath","toMM","convertToMM","val","unit","slice","Clipper","clip","VectorGraphics_Clip","Styler","CoordinatePlane","span","_span","s1","split","_s1$0$split","_s1$0$split2","_s1$0$split3","_s1$0$split4","_s1$1$split","_s1$1$split2","_s","parseSpan","_props$margin","_props$grid","grid","_props$axis","axis","_props$style","_props$clip","canvas","clipper","styler","marg","vbmarg","react_svgplot_Canvas","VectorGraphics_Grid","exactname","CoordinatePlane_Clipper","CoordinatePlane_Styler","_props$step","step","react_svgplot_Style","react_svgplot_Grid","Shapes_Line","Layer","calcPath","domain","arguments","path","stylenames","VectorGraphics","Asymptote","Path_Path","Circle","Ellipse","PolynomialFunction","coefficients","error","ans","deg","pow","RationalFunction","_domainPts","_props$roots","roots","_props$holes","holes","_props$asymptotes","asymptotes","_props$numerLC","numerLC","_props$denomLC","denomLC","_props$step2","_props$range","range","_props$renderAsymptot","renderAsymptotes","_props$renderRoots","renderRoots","_props$renderHoles","renderHoles","num","den","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","domainPts","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","domains","dp","keys","sort","v1","v2","def","paths","dom","toConsumableArray","ha","vas","Shapes_Point","Rect","ScatterPlot","parseBorder","formulaToKatex","formula","options","katex","renderToString","ParseError","defaultOptions","renderMath","mdSuperscript","mdSubscript","mdSmartarrows","mathDelimiters","inline","InlineMarkdown","data","opts","defaultsDeep","md","MarkdownIt","use","mdsub","mdsup","mdsmartarrows","mdmath","inlineRenderer","formulaToHtml","blockRenderer","displayMode","inlineOpen","inlineClose","blockOpen","blockClose","dangerouslySetInnerHTML","__html","renderInline","render","html","DisplayMath","renderHeaderElement","text","parts","result","isBlank","blankSize","nextChar","size","parseHeader","defaultLayout","layoutAnswerRight","QuestionLayout","content","layout","_ref$direction","direction","newDirection","row","column","useLayout","answer","area","renderJson","determineVariant","variant","choices","variants","multipleChoice","determineContent","othercontent","usecontent","variantContent","listDirection","prompt","determineAnswerSpace","correct","parseAnswer","Question","Question_QuestionLayout","markdown","ParseMath","delimiters","delimiter","splitAtDelimiters","splitWithDelimiters","Markdown_InlineMarkdown","Text_Plain","Math_DisplayMath","Math_Math","Plain","Text","RenderMethod","fontFamily","fontSize","nonTerminal","AnswerBlanks","minWidth","minHeight","box","AnswerChoices","Container","_props$direction","alignItems","_props$wrap","justifyItems","wrap","divstyle","flexDirection","flexWrap","List","Table","headIndex","header","tableprops","borderCollapse","align","alignment","colStyles","blocks","block","j","char","colStyle","textAlign","borderLeft","borderRight","parseAlignment","k","cssvar","TRow","_props$header","rowprops","borderBottom","borderTop","elemstyle","terminal","childless","AnswerKey","letters","correctIndex","determineAnswerKey","EmptySpace","_props$width","_props$height","PageHeader","rows","_row","NumberedQuestion","Question_Question","RenderError","JSON","stringify","VegaLite","react_vega_lite_min_default","spec","parseJson","json","_json","_parseJson","apply","Text_Text","toString","DefaultEditor","updateAndClose","onUpdateElement","stateToJson","onRequestClose","deleteAndClose","onDeleteElement","revertChanges","renderJson_RenderJson","gridTemplateColumns","onClick","justifySelf","renderEditor","renderPreview","EditPageHeader","headingAddRow","headingRemoveRow","newrow","_this2","inputStyle","onChange","evt","headingUpdate","target","variantNames","freeResponse","parseAndSetVariant","_parseJson$props","_props$content","_props$options","newState","updateVariant","updateInstructions","updateContent","updateInstructionsMC","updateInstructionsFR","updateQuestion","updateQuestionMC","updateQuestionFR","updated","fieldname","overrides","updaters","instructions","default","question","cols","placeholder","renderVariantSelect","renderInstructionsOrQuestionInputs","renderTypes","EditQuestion","updateChild","el","renderChildEditor","dispatch","idstr","_idstr$split","_idstr$split2","updateElement","_idstr$split3","_idstr$split4","deleteElement","RenderType","DefaultEditor_DefaultEditor","RenderJson","TopLevelElement","openEditor","modal","closeModal","divprops","canEdit","onDoubleClick","columns","elemprops","singleColumn","lib_default","isOpen","editJson","defaultProps","config","allowEditing","portrait","A3","A4","A5","letter","legal","landscape","MeasuredPage","innerH","inner","clientHeight","outerH","outer","overflows","oldstate","newstate","onOverflow","forceUpdate","addPageBreakBefore","contentIDs","pageOrientation","pageSize","_this$getPageSize","getPageSize","pageMargin","pageNumber","headers","outerclassname","getOuterStyle","getInnerStyle","headerID","getHeaderID","Document_TopLevelElement","contentID","document","footers","orientation","outerStyle","innerStyle","order","Document_Page","Random","require","Randomizer","seed","engine","MersenneTwister19937","autoSeed","createClass","min","integer","inclusive","real","array","first","shuffled","shuffle","pick","pop","sample","randint","splice","randomSeedGenerator","QGen","randomSeed","random","randomizer","defaults","defaultParams","out","generate","_getParams","_specialCaseKeys","_specialCaseValues","getOptions","info","subdivide","depth","searchDepth","hd","createTree","q","contourPresent","RationalPlot","_QGen","inherits","rd","choice","numRoots","numAsymptotes","total","values","sampleRange","graph","diagram","description","PolynomialPlot","_QGen2","coeffs","denom","_ref3","_ref4","tex","PlotStyling","_QGen3","path1","path2","path3","path4","FontTest","_QGen4","_rd$sampleRange","_rd$sampleRange2","Ix","Iy","Jx","Jy","diagram1","wrongs","_rd$sample","_rd$sample2","rise","run","inter","FontDisplay","_QGen5","lines","toUpperCase","chars","QuadTreePlotTest","_QGen6","pt","_ref5","f1","_ref6","f2","_QGen8","g","function","line","mark","interpolate","encoding","field","$schema","signals","bind","input","scales","nice","zero","axes","titleFont","marks","from","facet","groupby","encode","enter","strokeWidth","update","signal","fillOpacity","hover","pagebreaks","showAnswerKey","hidden","numberHidden","debugView","len","visibleIDs","prev","slices","pages","ids","Document_MeasuredPage","Document_AnswerKey","addFontFamily","font","setUITheme","theme","body","removeAttribute","setAttribute","setFilename","filename","AddLocalFont","addFont","spellCheck","buttonLabel","FontFamilyUI","setFontFamilyUI","fontFamilyUI","inputtype","setDocumentFontFamily","family","setPageMargin","margins","updateGraphStyle","FontFamilyInput","AddFontPopup","close","setFontFamily","handleKeyPress","autoFocus","onKeyPress","setFromPrompt","NotesModal","bottom","backgroundColor","fontWeight","filterUnusedElements","SaveFilePopup","updateFilename","toggleIncludeStyle","includeStyle","checked","download","downloadAs","inputRef","dataString","encodeURIComponent","dlanchor","appendChild","click","remove","defaultValue","onFocus","selectionStart","selectionEnd","htmlFor","_document$headers$","titleparts","defaultFilename","GraphStyle","setValue","propertyName","Color","Width","Opacity","mapDispatchToProps","createComponent","base","StyleSettingComponent","_base","Function1Color","Function2Color","FunctionWidth","GeomColor","GeomWidth","AsymptoteColor","AsymptoteWidth","AxisColor","AxisWidth","GridColor","GridWidth","FillOpacity","SwapButton","doSwap","_this3$props$updateGr","_this3","propertyName1","current2","propertyName2","current1","FunctionColorSwap","function1Color","function2Color","updates","RelativeFontSize","_this4","LabelFontSize","labelFontSize","PreviewXYPlot","vasymptotes","fpoints","gpoints","fpt","gpt","PreviewGeom","GraphSettings","changeStyle","resetToDefaults","resetGraphStyle","GraphPreview_PreviewGeom","GraphPreview_PreviewXYPlot","colSpan","Settings","renderStyleSettings","MarginOptions","SetPageMargin","updateFromSelection","m","PageSize","setPageSize","inputProps","unitProps","convert","to","fromMM","convertStr","PageMargins","setMargins","_this$state$m","setUnits","newValues","rounder","setTop","setRight","setBottom","setLeft","_margins","_margins2","PageSettings","Page_PageSize","Page_PageMargins","GUImode","setDebugView","PreviewZoom","updateState","zoom","zoomIn","zoomOut","setProperty","setZoom","z","renderInput","renderSelect","renderButtons","UIThemeSetter","setTheme","uiTheme","UISettings","UITheme","SettingsPage","showFontSettings","showing","showGraphSettings","showPageSettings","showUISettings","Font","Graph","Settings_Page","UI","status","renderSettings","AllowEditing","toggle","setAllowEditing","AnswerKeyToggle","setShowAnswerKey","bool","FixPagination","reset","clearPageBreaks","setHiddenCount","setTimeout","check","n","StartNumbering","setNumbering","startat","setCSSVariable","setDocumentStartNumbering","startNumbering","SettingsModal","overlay","background","UploadModal","validFilename","message","handleDragOver","stopPropagation","preventDefault","dataTransfer","dropEffect","handleDrop","file","files","readFile","selectFile","loadJson","loadStyle","loadDocument","load","reader","FileReader","onload","checkData","readAsText","parse","_unused","_data","_document$headers","_document$footers","_document$pagebreaks","_document$startNumber","docdata","_unused2","borderRadius","borderWidth","borderStyle","borderColor","opacity","onDrop","onDragOver","doc","DefaultFonts","BrowserFonts","fontLabels","__CUSTOM__","cmu_bright","cmu_concrete","cmu_sansserif","cmu_serif","katex_sansserif","katex_main","sans-serif","serif","fontSort","aName","bName","FontFamilySelect","openFontInput","fontList","localFonts","label","title","disabled","renderFontOption","Modals_AddFontPopup","Font_FontFamilyInput","Font_FontFamilySelect","FontSizeSelect","setDocFontSize","setDocumentFontSize","renderSizeOptions","googleFonts","fontStyles","BioRhyme","Merriweather","FontLoader","updateInput","updateSelection","selection","loadFont","request","WebFont","google","families","fontactive","fontinactive","loadAll","toAdd","loadInputFont","loadSelectedFont","includes","renderButton","MathFontSettings","onChangeSize","setSize","onChangeWeight","setWeight","onChangeFamily","setFamily","setMathFontSize","weight","setMathFontWeight","setMathFontFamily","currentFamily","currentSize","bold","currentWeight","mathFontSize","mathFontWeight","mathFontFamily","tabsize","onKeyDown","keyCode","substring","TextPreview","updatePreview","outputStyle","output","renderType","wrapperElement","FontSettings","Font_FontFamilyUI","Font_FontFamily","Font_FontLoader","Font_MathFontSettings","--doc-font-size","Font_TextPreview","latexfmt","String","raw","examples","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_templateObject10","_templateObject11","_templateObject12","_templateObject13","_templateObject14","_templateObject15","_templateObject16","RenderExample","LatexExamples_RenderExample","floor","calcParametric","parseFunction","func","math","compile","scope","eval","GraphMaker","updateMode","mode","updateStandard","standard","updateInverse","updateParametricX","parametricX","updateParametricY","parametricY","updateX0","x0","updateX1","updateY0","y0","updateY1","updateT0","t0","updateT1","t1","updateStep","updateHeight","updateAutoDomain","autoDomain","updateAutoSize","autoSize","onSubmit","getData","getDomain","ymap","xmap","xpmap","ypmap","graphSize","autogrid","getFunction","GraphMakerHeading","renderMode","renderInputs","renderDomainInput","renderGridInputs","renderHeightInput","jsonExample","CustomQuestion","openExamples","openGraphMaker","updateDiagram","updateAnswer","updateJSON","updateInputType","inputType","addQuestion","getDataFromState","setJsonExample","previewStyle","gridTemplateAreas","gridArea","CustomQuestion_LatexExamples","CustomQuestion_GraphMaker","thing","CheckStateButton","logState","difference","TransversalNames","possibleRelations","angle1","rotateBy","intersect1","pp","top1","bottom1","intersect2","top2","bottom2","angleMark","transversal","relations","alternate exterior","alternate interior","consecutive exterior","consecutive interior","corresponding","linear","vertical","_anglesToMark$split","_anglesToMark$split2","a1","a2","scramble","digitmap","slotmap","PicoFermiInstructions","PicoFermi","template","Templates","shuffleRange","clues","puzzle","blank","gap","PicoFermiSet","versions","answers","_loop","Easy01","2637","0018","0123","1034","3352","Easy02","5704","5607","5109","6972","Easy03","1670","4567","1245","1376","Easy04","4312","6543","4129","4230","Easy05","0660","0386","2030","Easy06","3773","2790","7243","8467","Easy07","5809","3899","5593","Hard01","9120","7573","2450","5320","8685","Hard02","3210","5409","4608","1064","Hard03","4989","2954","9724","6139","NoFour","4563","4615","4652","NoEight","4786","8547","0843","9289","8965","AllPicos","2486","7867","4573","5608","9310","VeryHard","9372","1047","0235","3627","4753","stop","roundTo","gcd","listFactors","_ref$include","include1","_ref$includeN","includeN","randomPolynomialCoefficients","degree","_ref$maxCoefficient","maxCoefficient","_ref$terms","terms","whichterms","randomPolynomial","Polynomial","Quadratic","rt","im","_this$params","_this$params2","fraction","toLatex","SolveQuadratic","poly","solutionType","solutionTypes","complexSolution","complexSolutions","givenForm","simplifySquareRoot","yes","no","simplifyFraction","allowDifferenceOfSquares","allowDoubleRoot","allowZeroRoot","quad","polynomial","rootsToLatex","isValid","rand","expr","sub","mul","add","minSelections","rational","irrational","imaginary","oneside","bothsides","FactorQuadraticHard","b1","b2","p1","1","0","p2","2","RationalZeroTheorem","primes","leading_coeff","trailing_coeff","num_coeffs","correctNumerators","correctDenominators","allPossibleZeros","numCorrect","correctAnswers","_","wrongAnswers","allChoices","poprandom","TransformTracker","parent","translateX","translateY","scaleX","scaleY","cubic","exp2","log2","sqrt","valueOf","setField","div","kStr","aStr","MatchTransformations","parents","eqns","shiftV","shiftH","stretchV","stretchH","compressH","eqn","eqnScramble","graphScramble","makebox","indexOf","latexpifraction","numer","ConvertAngle","conversion","degrees to radians","radians to degrees","either","neg","negative","rotations","numers","radians","degrees","IdentifyQuadrant","_ineq","functions","tan","quadrant","3","4","ineq","funcChoices","funcKeys","funcs","clue","csc","sec","cot","SolveRightTriangle","givens","given","A","B","ceil","atan","C","labels","giveninfo","answerblanks","HL","LL","HA","LA","RationalGraph","makeFunction","generateValues","vals","allHolesInRange","isGood","_generateValues","fmtAns","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","simplify","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","IncreasingIntervals","pts","toFind","increasing","decreasing","xs","which","yRange","ys","maxConstantIntervals","possible","reverse","intervals","wrongAnswer1","wrongAnswer2","wrongAnswer3","wrongAnswer4","inc","dec","interpolatePath","fullName","int","answerIndex","GraphLinearInequalities","rotation","_rd$shuffle","_rd$shuffle2","line1","xInt","yInt","line2","latexeqn","clips","pieces","domainIneqs","latex","MinimalGenerator","EasySum","SimpleGraph","AnswerPrompt","PolynomialLibrary","lin1","lin2","quadratic","modules","geometry","picofermi","polynomials","othergenerators","transformations","trigonometry","tests","generatortests","simpleexamples","questionTypes","questionBank","questionbank_i","questionbank_arr","set","generator","_generator$register","register","tags","questionbank_i2","questionbank_arr2","_generator$register2","hasKwd","item","kwd","sortByName","QuestionSearch","clearSearch","kwds","updateSearch","generateAndAdd","questionType","qtype","results","checkForKwds","setSelection","renderResults","questionbank","ReactModal","setAppElement","defaultStyles","AppWrapper","addToDoc","openRpcTest","openCustomQuestion","openSettings","openUpload","openSave","toplabel","AppLayout_Wrapper","AppLayout_TopBar","window","print","Settings_AnswerKeyToggle","Settings_StartNumbering","FontSize","UI_PreviewZoom","Settings_AllowEditing","Settings_FixPagination","containers_Document_Document","AppLayout_SideBar","GeneratorMenu_QuestionSearch","removeLast","clearAll","UI_GUImode","CheckState","statusBar","AppLayout_StatusBar","Modals_SettingsModal","containers_CustomQuestion","Modals_NotesModal","Modals_UploadModal","SavePopup","Root","store","es","containers_App","initialState","action","date","Date","setTime","getTime","cookie","toUTCString","setStyle","documentElement","removeProperty","kebabCase","asymptoteColor","asymptoteWidth","axisColor","axisWidth","functionWidth","geomColor","geomWidth","gridColor","gridWidth","newstyle","rootReducer","combineReducers","custom","urls","loadFonts","createStore","getState","themeset","_c$split","_c$split2","checkCookie","App","Root_Root","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","serviceWorker","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","src_App","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","get","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.610ef118.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Popup\":\"styles_Popup__1PaGo\",\"PopupButtons\":\"styles_PopupButtons__3BnkF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ResultContainer\":\"styles_ResultContainer__1O4qk\",\"SearchResult\":\"styles_SearchResult__15uqq\",\"Selected\":\"styles_Selected__1Yl6M\",\"SearchResultNone\":\"styles_SearchResultNone__2yip4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Layout\":\"styles_Layout__2DVPj\",\"SettingTable\":\"styles_SettingTable__37d46\",\"StyleSetting\":\"styles_StyleSetting__3Xjp4\",\"Preview\":\"styles_Preview__x9yKo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Markdown\":\"styles_Markdown__3vZID\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"styles_Wrapper__2T_ZG\",\"Wrapper-TitleBar-StatusBar\":\"styles_Wrapper-TitleBar-StatusBar__2fuc-\",\"Wrapper-TopBar\":\"styles_Wrapper-TopBar__1I9IF\",\"Wrapper-TopBar-StatusBar\":\"styles_Wrapper-TopBar-StatusBar__1XAVu\",\"SideBar\":\"styles_SideBar__2l_xh\",\"StatusBar\":\"styles_StatusBar__3qYL6\",\"TitleBar\":\"styles_TitleBar__2YJPM\",\"TopBar\":\"styles_TopBar__38-39\",\"PreviewOuter\":\"styles_PreviewOuter__1RGls\",\"PreviewInner\":\"styles_PreviewInner__1bCVr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FO\":\"scratch_FO__1lJvG\",\"Div1\":\"scratch_Div1__YR1Dj\",\"Div2\":\"scratch_Div2__1zuCJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SettingPage\":\"styles_SettingPage__2u-qK\",\"Title\":\"styles_Title__3GTDx\",\"SettingSection\":\"styles_SettingSection__2TB1w\",\"LeftBar\":\"styles_LeftBar__3l1eD\",\"NavArea\":\"styles_NavArea__1p8EW\",\"NavButton\":\"styles_NavButton__2-ksX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GraphMakerBody\":\"styles_GraphMakerBody__11R3v\",\"GraphMakerInput\":\"styles_GraphMakerInput__3qT0d\",\"GraphMakerPreview\":\"styles_GraphMakerPreview__2opkG\",\"LatexExamples\":\"styles_LatexExamples__1VuMU\"};","import React from 'react'\nimport styles from './styles.module.css'\n\nclass Previewer extends React.Component {\n  render() {\n    \n\n    return (\n      <div className={styles.PreviewOuter}>\n        <div className={styles.PreviewInner}>\n          {this.props.children}\n        </div>\n      </div>\n    )\n\n  }\n}\n\nexport default Previewer","import React from 'react'\nimport styles from './styles.module.css'\n\nclass SideBar extends React.Component {\n  render() {\n    return (\n      <div className={styles.SideBar}>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport default SideBar","import React from 'react'\nimport styles from './styles.module.css'\n\nconst StatusBar = (props) => {\n  return (\n    <div className={styles.StatusBar}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default StatusBar","import React from 'react'\nimport styles from './styles.module.css'\n\nconst TopBar = (props) => {\n  return (\n    <div className={styles.TopBar}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default TopBar","import React from 'react'\nimport styles from './styles.module.css'\n\nclass Wrapper extends React.Component {\n  \n  render() {\n    let classNames = [styles.Wrapper, styles['Wrapper-TopBar']]\n\n    return (\n      <div className={classNames.join(' ')}>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport default Wrapper","export const ADD_TO_DOCUMENT = 'ADD_TO_DOCUMENT'\nexport const CLEAR_ALL = 'CLEAR_ALL'\nexport const REMOVE_LAST = 'REMOVE_LAST'\nexport const UPDATE_ELEMENT = 'UPDATE_ELEMENT'\nexport const UPDATE_HEADER = 'UPDATE_HEADER'\nexport const DELETE_ELEMENT = 'DELETE_ELEMENT'\nexport const DELETE_HEADER = 'DELETE_HEADER'\nexport const SET_DOCUMENT_STARTNUMBERING = 'SET_DOCUMENT_STARTNUMBERING'\nexport const ADD_PAGEBREAK_BEFORE = 'ADD_PAGEBREAK_BEFORE' // need to come up with a better way to do this\nexport const CLEAR_PAGEBREAKS = 'CLEAR_PAGEBREAKS'\nexport const LOAD_DOCUMENT = 'LOAD_DOCUMENT'\n\nlet elemID = 0\n\n// Document content\n\nexport const addToDocument = (elem) => ({\n  type: ADD_TO_DOCUMENT,\n  payload: {element: elem, id: ++elemID}\n})\n\nexport const clearAll = () => ({\n  type: CLEAR_ALL\n})\n\nexport const removeLast = () => ({\n  type: REMOVE_LAST,\n})\n\nexport const updateElement = (idstr, data) => {\n  const [type, id] = idstr.split('.')\n  if (type === 'header') {\n    return { type: UPDATE_HEADER, payload: {id: +id, data} }\n  }\n  if (type === 'content') {\n    return { type: UPDATE_ELEMENT, payload: {id: +id, data} }\n  }\n}\n\nexport const deleteElement = (idstr) => {\n  const [type, id] = idstr.split('.')\n  if (type === 'header') {\n    return { type: DELETE_HEADER, payload: +id }\n  }\n  if (type === 'content') {\n    return { type: DELETE_ELEMENT, payload: +id }\n  }\n}\n\nexport const deleteHeader = (id) => ({\n  type: DELETE_HEADER,\n  payload: +id,\n})\n\nexport const loadDocument = doc => {\n  const ids = Object.keys(doc.content).map(k => +k).sort((a,b) => a-b)\n  elemID = ids[ids.length-1]\n  return ({\n    type: LOAD_DOCUMENT,\n    payload: doc\n  })\n}\n\n// Document settings\n\nexport const setDocumentStartNumbering = (n) => ({\n  type: SET_DOCUMENT_STARTNUMBERING,\n  payload: n\n})\n\n// Document view\n\nexport const addPageBreakBefore = (id) => ({\n  type: ADD_PAGEBREAK_BEFORE,\n  payload: id\n})\n\nexport const clearPageBreaks = () => ({\n  type: CLEAR_PAGEBREAKS\n})\n\n\n","import React from 'react'\n\n//const axisArrow = \"M 0,0 Q -4,4 -4,12 Q 0,4 6,0 Q 0,-4 -4,-12 Q -4,-4 0,0\"\n//const axisArrow = \"M 0,0 Q -2,-6 -1,-12 Q 2,-3 6,0 Q 2,3 -1,12 Q -2,6 0,0\"\nconst axisArrow = 'M 0,0 L 0,2 Q 5,3 10,2 L 10,0 Q 5,1 0,0'\n\nexport const MarkerSymbols = props => {\n  return (\n    <defs>\n      <symbol id=\"svgplot-symbol-point\" viewBox=\"-12 -12 24 24\" refX=\"0\" refY=\"0\">\n        <circle cx=\"0\" cy=\"0\" r=\"4\"/>\n      </symbol>\n      <symbol id=\"svgplot-symbol-hole\" viewBox=\"-12 -12 24 24\" refX=\"0\" refY=\"0\">\n        <circle cx=\"0\" cy=\"0\" r=\"5\"/>\n        <circle cx=\"0\" cy=\"0\" r=\"3\"className=\"svgplot-marker-hole\"/>\n      </symbol>\n      <symbol id=\"svgplot-symbol-arrow\" viewBox=\"-12 -12 24 24\" refX=\"0\" refY=\"0\">\n        <path d=\"M -2,0 L -5,-6 L 6,0 L -5,6 z\"/>\n      </symbol>\n      <symbol id=\"svgplot-symbol-axisarrow\" viewBox=\"-12 -12 24 24\" refX=\"0\" refY=\"0\">\n        <polygon points=\"0,1 .5,1 .5,-1 0,-1\"/>\n        <path d={axisArrow} transform=\"translate(2,0) rotate(120)\"/>\n        <path d={axisArrow} transform=\"scale(1,-1) translate(2,0) rotate(120)\"/>\n      </symbol>\n    </defs>\n  )\n}\n\n\nconst MarkerDefs = ({stylename, markerW, markerH}) => {\n\n  return (\n    <>\n      <marker id={`${stylename}-marker-arrowfwd`} viewBox=\"-6 -6 12 12\" refX=\"0\" refY=\"0\"\n        markerWidth={markerW} markerHeight={markerH}\n        markerUnits=\"strokeWidth\"\n        orient=\"auto\">\n        <use xlinkHref='#svgplot-symbol-arrow' \n          x='-6' y='-6' height='12' width='12' \n          className='svgplot-marker'/>\n      </marker>\n      <marker id={`${stylename}-marker-arrowrev`} viewBox=\"-6 -6 12 12\" refX=\"0\" refY=\"0\"\n        markerWidth={markerW} markerHeight={markerH}\n        markerUnits=\"strokeWidth\"\n        orient=\"auto\">\n        <use xlinkHref='#svgplot-symbol-arrow' \n          x='-6' y='-6' height='12' width='12' \n          transform='scale(-1,1)'\n          className='svgplot-marker'/>\n      </marker>\n      <marker id={`${stylename}-marker-axisarrow`} viewBox=\"-6 -6 12 12\" refX=\"0\" refY=\"0\"\n        markerWidth={markerW} markerHeight={markerH}\n        markerUnits=\"strokeWidth\"\n        orient=\"auto-start-reverse\">\n        <use xlinkHref='#svgplot-symbol-axisarrow' \n          x='-6' y='-6' height='12' width='12'\n          className='svgplot-marker'/>\n      </marker>\n      <marker id={`${stylename}-marker-point`} viewBox=\"-6 -6 12 12\" refX=\"0\" refY=\"0\"\n        markerWidth={markerW} markerHeight={markerH}\n        markerUnits=\"strokeWidth\"\n        orient=\"auto\">\n        <use xlinkHref='#svgplot-symbol-point' \n          x='-6' y='-6' height='12' width='12' \n          className='svgplot-marker'/>\n      </marker>\n      <marker id={`${stylename}-marker-hole`} viewBox=\"-5 -5 10 10\" refX=\"0\" refY=\"0\"\n        markerWidth={markerW} markerHeight={markerH}\n        markerUnits=\"strokeWidth\"\n        orient=\"auto\">\n        <use xlinkHref='#svgplot-symbol-hole' \n          x='-5' y='-5' height='10' width='10' \n          className='svgplot-marker'/>\n      </marker>\n    </>\n  )\n}\n\n\n\nconst FillPatternDefs = ({stylename, width, height}) => {\n  return (\n    <>\n      <pattern id={`${stylename}-fillpattern-dots1`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternUnits='userSpaceOnUse'>\n        <circle cx='3' cy='3' r='3' className='svgplot-fillpattern'/>\n        <circle cx='9' cy='9' r='3' className='svgplot-fillpattern'/>\n      </pattern>\n      <pattern id={`${stylename}-fillpattern-dots2`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternUnits='userSpaceOnUse'>\n        <circle cx='3' cy='9' r='3' className='svgplot-fillpattern'/>\n        <circle cx='9' cy='3' r='3' className='svgplot-fillpattern'/>\n      </pattern>\n      <pattern id={`${stylename}-fillpattern-diagonal1`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternUnits='userSpaceOnUse'>\n        <polygon points='0,0 6,0 12,6 12,12' className='svgplot-fillpattern' />\n        <polygon points='0,6 0,12 6,12' className='svgplot-fillpattern' />\n      </pattern>\n      <pattern id={`${stylename}-fillpattern-diagonal2`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternTransform='scale(-1,-1)'\n        patternUnits='userSpaceOnUse'>\n        <polygon points='0,0 6,0 12,6 12,12' className='svgplot-fillpattern'/>\n        <polygon points='0,6 0,12 6,12' className='svgplot-fillpattern'/>\n      </pattern>\n      <pattern id={`${stylename}-fillpattern-zigzag1`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternTransform='scale(-1,-1)'\n        patternUnits='userSpaceOnUse'>\n        <polygon points='0,0 0,6 3,12 6,12' className='svgplot-fillpattern'/>\n        <polygon points='12,0 12,6 9,12 6,12' className='svgplot-fillpattern'/>\n        <polygon points='3,0 6,6 9,0' className='svgplot-fillpattern'/>\n      </pattern>\n      <pattern id={`${stylename}-fillpattern-zigzag2`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternTransform='scale(-1,-1)'\n        patternUnits='userSpaceOnUse'>\n        <polygon points='0,6 0,12 3,12' className='svgplot-fillpattern'/>\n        <polygon points='12,6 12,12 9,12' className='svgplot-fillpattern'/>\n        <polygon points='0,0 6,12 12,0 9,0 6,6 3,0' className='svgplot-fillpattern'/>\n      </pattern>\n    </>\n  )\n}\n\nclass StyleDefs extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {}\n    this.ref = React.createRef()\n  }\n\n  checkSize() {\n    const CTM = this.ref.current.getCTM()\n    this.setState({CTM})\n  }\n\n  componentDidMount() {\n    this.checkSize()\n  }\n\n  render() {\n    const { stylename } = this.props\n\n    let w = 12, h = 12\n\n    if (this.state.CTM) {\n      const {a, b, c, d} = this.state.CTM\n      const s = Math.max(Math.abs(a)+Math.abs(c),Math.abs(b)+Math.abs(d))\n      w /= s\n      h /= s\n    }\n\n    return (\n      <defs ref={this.ref}>\n        <MarkerDefs stylename={stylename} markerW={w} markerH={h}/>\n        <FillPatternDefs stylename={stylename} width={w/3} height={h/3}/>\n      </defs>\n    )\n  }\n}\n\n\n\nlet styleCount = 0\n\nconst Style = props => {\n  const { name, color, ...styleprops } = props\n  const uniquename = `styleID-${++styleCount}`\n  \n  const style = {...styleprops}\n  for (const shape of ['arrowfwd', 'arrowrev', 'axisarrow', 'point', 'hole']) {\n    style[`--svgplot-marker-${shape}`] = `url(#${uniquename}-marker-${shape})`\n  }\n\n  for (const pattern of ['dots1', 'dots2', 'diagonal1', 'diagonal2', 'zigzag1', 'zigzag2']) {\n    style[`--svgplot-fillpattern-${pattern}`] = `url(#${uniquename}-fillpattern-${pattern})`\n  }\n\n  if (color) {\n    style['--svgplot-color'] = color\n  } else if (style.stroke) {\n    style['--svgplot-color'] = style.stroke\n  }\n\n  return (\n    <g className={name} style={style} vectorEffect=\"inherit\">\n      <StyleDefs stylename={uniquename}/>\n      {props.children}\n    </g>\n  )\n}\n\nexport default Style","import React from 'react'\n\n\nconst Overlay = props => {\n  const {\n    x, y, \n    x1, y1, x2, y2,\n    rotate,\n    anchor,\n    displacement,\n    cartesian=true,\n  } = props\n\n  const xPerc = 100 * (x - x1) / (x2 - x1)\n  const yPerc = cartesian ? 100 * (y2 - y) / (y2 - y1) : (y - y1) / (y2 - y1)\n\n  const outerstyle = {\n    position: 'absolute',\n    left: xPerc + '%',\n    top: yPerc + '%',\n    height: '0px',\n    width: '0px',\n    overflow: 'visible',\n  }\n\n  const innerstyle = {\n    position: 'absolute',\n    transformOrigin: 'center center',\n    transform: 'translate(-50%,-50%)',\n  }\n\n  if (anchor) {\n    const [transformOrigin, initialTransform] = {\n      E: ['right center', 'translate(-100%,-50%)'],\n      NE: ['right top', 'translate(-100%,0)'],\n      N: ['center top', 'translate(-50%,0)'],\n      NW: ['left top', 'translate(0,0)'],\n      W: ['left center', 'translate(0,-50%)'],\n      SW: ['left bottom', 'translate(0,-100%)'],\n      S: ['center bottom', 'translate(-50%,-100%)'],\n      SE: ['right bottom', 'translate(-100%,-100%)'],\n      center: ['center center', 'translate(-50%,-50%)'],\n    }[anchor]\n  \n    innerstyle.transformOrigin = transformOrigin\n    innerstyle.transform = initialTransform\n  }\n    \n  if (displacement !== undefined) {\n    if (displacement.constructor.name === 'Object') {\n      if (displacement.x !== undefined || displacement.y !== undefined) {\n        const dx = parseFloat(displacement.x) || 0\n        const dy = parseFloat(displacement.y) || 0\n        const ux = (displacement.x || '').replace(dx, '')\n        const uy = (displacement.y || '').replace(dy, '')\n        innerstyle.transform += ` translate(${dx}${ux},${-dy}${uy})`\n      } else if (displacement.angle && displacement.radius) {\n        const r = parseFloat(displacement.radius)\n        const u = displacement.radius.replace(r, '')\n        const a = parseFloat(displacement.angle)\n        const dx = Math.round(Math.cos(a * Math.PI / 180) * r) + u\n        const dy = Math.round(Math.sin(a * Math.PI / 180) * (cartesian ? -r : r)) + u\n        innerstyle.transform += ` translate(${dx},${dy})`\n      }\n    } else if (anchor) {\n      const angles = {\n        E: 0, NE: 45, N: 90, NW: 135, \n        W: 180, SW: 225, S: 270, SE: 315,\n      }\n      if (angles[anchor] !== undefined) {\n        const a = ((rotate ? +rotate : 0) + (+angles[anchor] + 180)) % 360\n        const r = parseFloat(displacement)\n        const u = displacement.replace(r, '')\n        const dx = Math.round(Math.cos(a * Math.PI / 180) * r) + u\n        const dy = Math.round(-Math.sin(a * Math.PI / 180) * r) + u\n        innerstyle.transform += ` translate(${dx},${dy})`\n      }\n    }\n  }\n\n  if (rotate) {\n    const rotateAngle = parseFloat(rotate)\n    innerstyle.transform += ` rotate(${cartesian ? -rotateAngle : rotateAngle}deg)`\n  }\n\n  console.log({innerstyle, outerstyle})\n  \n  return (\n    <div style={outerstyle}>\n      <div className=\"svgplot-label\" style={innerstyle}>\n        {props.children}\n      </div>\n    </div>\n  )\n}\n\nexport default Overlay","import React from 'react'\nimport { MarkerSymbols } from './Style'\nimport Overlay from './Overlay'\n\nfunction convertToPx(val, unit) {\n  if (unit === 'px') return val\n  if (unit === 'in') return (val * 96)\n  if (unit === 'mm') return convertToPx(val/25.4, 'in')\n  if (unit === 'cm') return convertToPx(val/2.54, 'in')\n  if (unit === 'pt') return convertToPx(val/72, 'in')\n  if (unit === 'pc') return convertToPx(val/12, 'pt')\n}\n\n\n\nclass Canvas extends React.Component {\n\n  render() {\n    const props = this.props\n    const {\n      cartesian=true, x1, x2, y1, y2, \n      width, height, preserveAspectRatio,\n      border=false\n    } = props\n\n\n    const wrapperprops = {\n      style: {\n        display: 'inline-block',\n        position: 'relative', \n        padding: 0,\n        width, height,\n      },\n    }\n\n    if (border) {\n      wrapperprops.style.border = '1px solid black'\n    }\n\n    const svgprops = {  \n      width, height, \n      preserveAspectRatio, \n      style: {\n        position: 'relative', \n        margin: 0,\n        top: 0, left: 0,\n      }\n    }\n    const gprops = {ref: this.ref, vectorEffect: 'non-scaling-stroke'}\n\n    if (cartesian && cartesian !== \"false\") {\n      gprops.transform = 'scale(1,-1)'\n      svgprops.viewBox = `${x1} ${-y2} ${x2-x1} ${y2-y1}`\n    } else {\n      svgprops.viewBox = `${x1} ${y1} ${x2-x1} ${y2-y1}`\n    }\n  \n    const children = React.Children.toArray(props.children)\n    const svgchildren = children.filter(c => c.type !== Overlay)\n    const overlays = children.filter(c => c.type === Overlay)\n\n    return (\n      <div className='svgplot-canvas' {...wrapperprops}>\n        <svg {...svgprops}>\n          <MarkerSymbols />\n          <g {...gprops}>\n            {svgchildren}\n          </g>\n        </svg>\n        {overlays.length ? (\n          overlays.map((o, i) => (\n            <Overlay key={i} cartesian={cartesian} x1={x1} y1={y1} x2={x2} y2={y2} {...o.props} />\n          ))\n        ) : null}\n      </div>\n    )\n  }\n}\n\nexport default Canvas","import React from 'react'\n\nconst Grid = (props) => {\n  const {x1, y1, x2, y2, xStep=1, yStep=1} = props\n\n  const xvals = [], yvals = []\n  if (xStep) {\n    let t = x1\n    while (t <= x2) {\n      xvals.push(t)\n      t += xStep\n    }\n  }\n  if (yStep) {\n    let t = y1\n    while (t <= y2) {\n      yvals.push(t)\n      t += yStep\n    }\n  }\n\n  return (\n    <>\n      {xvals.map(v => (\n        <line key={`x-${v}`}\n          x1={v} x2={v} y1={y1} y2={y2} \n          vectorEffect='inherit'/>\n      ))}\n      {yvals.map(v => (\n        <line key={`y-${v}`}\n          y1={v} y2={v} x1={x1} x2={x2} \n          vectorEffect='inherit'/>\n      ))}\n    </>\n  )\n}\n\nexport default Grid","import React from 'react'\n\n\nexport default class Label extends React.Component {\n  constructor(props) {\n    super(props)\n    this.ref = React.createRef()\n    this.state = {}\n  }\n\n  componentDidMount() {\n    const CTM = this.ref.current.getCTM()\n    this.setState({ctm: CTM})\n  }\n\n  render() {\n    let {x, y, anchor=\"W\", distance, rotate} = this.props\n\n    const anglemap = {\n      E: 0,\n      NE: 45,\n      N: 90,\n      NW: 135,\n      W: 180,\n      SW: 225,\n      S: 270,\n      SE: 315,\n      left: 135,\n      right: 0,\n    }\n\n    const anchorAngle = anglemap[anchor] ? anglemap[anchor] : +anchor % 360\n\n    const tb = anchorAngle === 0 || anchorAngle === 180 ? 'center' : anchorAngle < 180 ? 'top' : 'bottom'\n    const lr = anchorAngle < 90 ? 'right' : anchorAngle <= 270 ? 'left' : 'right'  \n\n    const fobj = {\n      x: 0, y: 0,  // Chrome rounds foreignObject coordinates to integers, so it works better to apply them later \n      width: '100%', height: '100%',\n      style: {overflow: 'visible'}, \n    }\n    const div1 = {\n      style: {\n        width: '0', height: '0',\n        margin: '0',\n        padding: '0',\n        transformOrigin: lr + ' center',\n        position: 'relative',\n      }\n    }\n    const div2 = {\n      style: {\n        //border: '1px solid orange',\n        position: 'absolute',\n        [lr]: -Math.abs(Math.sin(anchorAngle * Math.PI / 180) * 0.5) + 'em',\n        [tb === 'center' ? 'top' : tb]: -Math.abs(Math.cos(anchorAngle * Math.PI / 180) * 0.7) + 'em',\n        textAlign: lr,\n        padding: 0,\n        transformOrigin: lr + ' center',\n      }\n    }\n\n    if (distance) {\n      const d = parseFloat(distance)\n      const units = distance.replace(d, '') \n      const padX = Math.abs(Math.cos(anchorAngle * Math.PI / 180) * d) + units\n      const padY = Math.abs(Math.sin(anchorAngle * Math.PI / 180) * d) + units\n\n      if (tb === 'top') {\n        div2.style.marginTop = padY\n      } else if (tb === 'bottom') {\n        div2.style.marginBottom = padY\n      }\n      if (lr === 'left') {\n        div2.style.marginLeft = padX\n      } else if (lr === 'right') {\n        div2.style.marginRight = padX\n      }\n    }\n\n\n    \n    if (this.state.ctm) {\n      const useragent = navigator.userAgent.toLowerCase()\n      if ((/safari/).test(useragent) && !(/firefox/).test(useragent) && !(/chrome/).test(useragent)) {\n        // Safari removes SVG CTM upon applying a transformation to foreignObject\n        // This fixes it (and also allows labels to overflow the SVG bounds)\n        const ctm = this.state.ctm\n        const inv = this.state.ctm.inverse()\n        const m1 = ctm.multiply(inv)\n        m1.e = -x\n        m1.f = -y\n        inv.e = x\n        inv.f = y\n        const m2 = m1.multiply(ctm).multiply(inv)\n        const {a, b, c, d, e, f} = m2\n        const resultmatrix = [a,b,c,d,e,f]\n        div1.style.transform = `matrix(${resultmatrix.join(',')})`\n\n      } else {\n        const {a, b, c, d} = this.state.ctm.inverse()\n        div1.style.transform = `matrix(${[a,b,c,d,x,y].join(',')})`\n      }\n\n      if (rotate) {\n        const rotateAngle = rotate === 'auto' ? (lr === 'right' ? anchorAngle : (180 + anchorAngle) % 360) : rotate\n        div2.style.transform = `rotate(${-rotateAngle}deg)`\n      }\n    }\n    \n    console.log({div1, div2})\n    \n    return (\n      <foreignObject {...fobj} ref={this.ref} xmlns=\"http://www.w3.org/1999/xhtml\">\n        <div {...div1}>\n          <div className=\"svgplot-label\" {...div2} anchor={anchor}>\n            {this.props.children}\n          </div>\n        </div>\n\n      </foreignObject>\n    )\n  }\n}","import React from 'react'\n\n\nexport const Circle = props => {\n  return <circle vectorEffect=\"inherit\" {...props}/>\n}\n\nexport const Ellipse = props => {\n  return <ellipse vectorEffect=\"inherit\" {...props}/>\n}\n\nexport const Rect = props => {\n  return <rect vectorEffect=\"inherit\" {...updatePropsWithMarkers(props)}/>\n}\n\nconst markerProps = s => {\n  const positions = ['Start', 'Mid', 'End']\n  const markers = {}\n  if (s && s.length === 3) {\n    for (let i=0; i<3; i++) {\n      const c = s[i]\n      if (c === '>') markers[`marker${positions[i]}`] = 'arrowfwd'\n      else if (c === '<') markers[`marker${positions[i]}`]  = 'arrowrev'\n      else if (c === '.') markers[`marker${positions[i]}`]  = 'point'\n      else if (c === 'o') markers[`marker${positions[i]}`]  = 'hole'\n    }\n  }\n  return markers\n}\n\n\nfunction updatePropsWithMarkers(props) {\n  if (props.markers) {\n    return {...props, ...markerProps(props.markers)}\n  }\n  return props\n}\n\nexport const Line = props => {\n  return <line vectorEffect=\"inherit\" {...updatePropsWithMarkers(props)}/>\n}\n\nexport const Polygon = props => {\n  return <polygon vectorEffect=\"inherit\" {...updatePropsWithMarkers(props)}/>\n}\n\nexport const Polyline = props => {\n  return <polyline vectorEffect=\"inherit\" {...updatePropsWithMarkers(props)}/>\n}\n\nexport const Path = props => {\n  return (\n    <path vectorEffect=\"inherit\" {...updatePropsWithMarkers(props)}/>\n  )\n}\n\nexport const Point = props => {\n  const {x, y, coords, marker=\".\"} = props\n  const pathprops = {}\n  if (coords) {\n    pathprops.d = `M${coords[0]},${coords[1]}Z`\n  } else {\n    pathprops.d = `M${x},${y}Z`\n  }\n  if (marker) {\n    pathprops.markers = `--${marker}`\n  }\n  return <Path {...pathprops} />\n}","import React from 'react'\n\nconst translate = params => {\n  let x, y\n  if (Array.isArray(params)) {\n    [x=0, y=0] = params\n  } else {\n    ({x=0, y=0} = params)\n  }\n  return `translate(${x},${y})`\n}\n\nconst scale = params => {\n  let x, y\n  if (Array.isArray(params)) {\n    [x=1, y=1] = params\n  } else {\n    ({x=1, y=1} = params)\n  }\n  return `scale(${x},${y})`\n}\n\nconst matrix = params => {\n  let a, b, c, d, e, f\n  if (Array.isArray(params)) {\n    [a=1, b=0, c=0, d=1, e=0, f=0] = params\n  } else {\n    ({a=1, b=0, c=0, d=1, e=0, f=0} = params)\n  }\n  return `matrix(${a},${b},${c},${d},${e},${f})`\n}\n\nconst rotate = params => {\n  let a, x, y\n  if (Array.isArray(params)) {\n    [a, x, y] = params\n  } else {\n    ({a, x, y} = params)\n  }\n  if (x !== undefined && y !== undefined) {\n    return `rotate(${a},${x},$${y})`\n  }\n  return `rotate(${a})`\n}\n\nconst makeTransform = props => {\n  const {type, params} = props\n  switch(type) {\n    case 'matrix': return matrix(params)\n    case 'rotate': return rotate(params)\n    case 'scale': return scale(params)\n    case 'translate': return translate(params)\n    case 'invertXY': return matrix([0,1,1,0])\n    default: return 'none'\n  }\n}\n\n\nconst Transform = props => {\n  const { type, list, children, ...params } = props\n\n  const layerprops = { vectorEffect: 'inherit' }\n\n  if (list) {\n    const transforms = []\n    for (const t of list) {\n      const [ty, pa={}] = typeof t === 'string' ? [t] : t\n      const str = makeTransform({type: ty, params: pa})\n      if (str !== 'none') {\n        transforms.push(str)\n      }\n    }\n    if (transforms.length > 0) {\n      layerprops.transform = transforms.join(' ')\n    }\n  } else {\n    const str = makeTransform({type, params})\n    if (str && str !== 'none') {\n      layerprops.transform = str\n    }\n  }\n\n  return (\n    <g {...layerprops}>\n      {props.children}\n    </g>\n  ) \n}\n\nexport default Transform","export function makesrange(min, max, step=1, anchor=0) {\n\tif (anchor === undefined) {\n\t\tanchor = min;\n\t} else if (anchor < min) {\n\t\tanchor = min;\n\t} else if (anchor > max) {\n\t\tanchor = max;\n\t}\n\tlet r = [anchor,];\n\tlet v = anchor - step;\n\twhile (v >= min) {\n\t\t\tr.splice(0, 0, v);\n\t\t\tv -= step;\n\t}\n\tv = anchor + step;\n\twhile (v <= max) {\n\t\t\tr.push(v);\n\t\t\tv += step;\n\t}\n\treturn r;\n}\n\nexport function polylineFromPoints(points) {\n\tif (typeof points === 'string') {\n\t\treturn points\n\t}\n\tif (Array.isArray(points[0])) {\n    return points.map(p => `${p[0]},${p[1]}`).join(' ')\n  }\n  return points.map(p => `${p.x},${p.y}`).join(' ')\n}\n\nexport function pathFromPoints(points) {\n  if (Array.isArray(points[0])) {\n    return `M${points.map(p => `${p[0]},${p[1]}`).join('L')}`\n  }\n  return `M${points.map(p => `${p.x},${p.y}`).join('L')}`\n}\n\nexport function interpolatePathCubicH(points) {\n  const pts = Array.isArray(points[0]) ? points.map(p => ({x: p[0], y: p[1]})) : points\n  let d = `${pts[0].x},${pts[0].y}`\n  let prev = pts[0]\n  for (let i = 1; i < pts.length; i++) {\n    const p = pts[i]\n    const x1 = (2*prev.x + p.x) / 3\n    const x2 = (prev.x + 2*p.x) / 3\n    d += ` C ${x1},${prev.y} ${x2},${p.y} ${p.x},${p.y}`\n    prev = p\n  }\n  return d\n}","import React from 'react'\nimport { Path as SPPath, Polyline, Polygon as SPPolygon } from './react-svgplot'\nimport { polylineFromPoints } from './funcs'\nimport { Style } from '.'\n\n\nconst renderPath = props => {\n  const {d, points, markers, fill, connect=false} = props\n  if (d) {\n    return <SPPath d={d} markers={markers} fill={fill} />\n  }\n  else if (points) {\n    if (connect) {\n      return <SPPolygon points={polylineFromPoints(points)} markers={markers} fill={fill} />\n    }\n    return <Polyline points={polylineFromPoints(points)} markers={markers} fill={fill} />\n  }\n  return null\n}\n\nexport const Path = props => {\n  const {style} = props\n  if (style) {\n    return <Style name={style}>{renderPath(props)}</Style>\n  }\n  return renderPath(props)\n}\n\nexport default Path\nexport const Asymptote = props => <Path style=\"asymptote\" {...props}/>\nexport const ScatterPlot = props => <Path style=\"scatterplot\" {...props}/>\nexport const Polygon = props => <Path connect={true} {...props}/>\n","import React from 'react'\nimport Path from './Path'\n\nconst AngleMark = props => {\n  const {start, end, ...otherprops} = props\n\n  let {x, y, coords} = props\n  if (coords) {\n    x = coords[0]\n    y = coords[1]\n  }\n\n  let {radius, maxRadius, minRadius} = props\n\n  const angleSize = end - start\n  if (maxRadius || minRadius) {\n    if (minRadius === undefined) {\n      minRadius = maxRadius * 0.5\n    }\n    if (maxRadius === undefined) {\n      maxRadius = minRadius * 2\n    }\n    if (angleSize < 90) {\n      const diff = maxRadius - minRadius\n      radius = minRadius + diff*(90-angleSize)/90\n    }\n  }\n  if (radius === undefined) {\n    radius = minRadius\n  }\n  \n\n  const startAngle = parseFloat(start) * Math.PI / 180\n  const endAngle = parseFloat(end) * Math.PI / 180\n  const arcStart = {\n    x: x + Math.cos(startAngle) * radius, \n    y: y + Math.sin(startAngle) * radius,\n  }\n  const arcEnd = {\n    x: x + Math.cos(endAngle) * radius,\n    y: y + Math.sin(endAngle) * radius,\n  }\n  let d = coords ? `M${coords[0]},${coords[1]}` : `M${x},${y}`\n  d += ` L ${arcStart.x},${arcStart.y}`\n  d += ` A ${radius} ${radius} 0 ${end-start > 180 ? 1 : 0} 1`\n  d += ` ${arcEnd.x},${arcEnd.y} z`\n  return <Path style=\"anglemark\" fill=\"solid\" {...otherprops} d={d}/> \n}\n\nexport default AngleMark","import React from 'react'\nimport { Path } from '.'\n\n\nlet clipCount = 0\n\nconst Clip = props => {\n  const {shape, id=`vg-clip-path-${++clipCount}`, children, ...shapeprops} = props\n  let Elem\n  if (shape === 'Path') {\n    Elem = Path\n  }\n  else if (shape === 'Rect') {\n    Elem = 'rect'\n  }\n\n  if (Elem) {\n    return (\n      <>\n        <clipPath id={id}>\n          {React.createElement(Elem, shapeprops)}\n        </clipPath>\n        <g clipPath={`url(#${id})`} vectorEffect=\"inherit\">\n          {props.children}\n        </g>\n      </>\n    )\n  }\n  return props.children\n}\n\nexport default Clip","import React from 'react'\nimport { Clip, Style, Grid, Overlay, Path } from '.'\nimport { MarkerSymbols } from './react-svgplot/Style'\nimport { Canvas } from './react-svgplot'\n\nfunction parseSpan(span) {\n  if (Array.isArray(span)) {\n    const [x1, y1, x2, y2] = span\n    return {x1: +x1, y1: +y1, x2: +x2, y2: +y2}\n  }\n  if (typeof span === 'string') {\n    const s1 = span.split(' ')\n    if (s1.length === 1) {\n      const [x1, y1, x2, y2] = s1[0].split(',')\n      return {x1: +x1, y1: +y1, x2: +x2, y2: +y2}\n    }\n    if (s1.length === 2) {\n      const [x1, y1] = s1[0].split(',')\n      const [x2, y2] = s1[1].split(',')\n      return {x1: +x1, y1: +y1, x2: +x2, y2: +y2}\n    } else if (s1.length === 4) {\n      const [x1, y1, x2, y2] = s1\n      return {x1: +x1, y1: +y1, x2: +x2, y2: +y2}\n    }\n  }\n  return null\n}\n\nfunction convertToMM(val, unit) {\n  if (unit === 'mm') return val\n  if (unit === 'cm') return val*10\n  if (unit === 'in') return (val * 25.4)\n  if (unit === 'pt') return convertToMM(val/72, 'in')\n  if (unit === 'pc') return convertToMM(val/12, 'pt')\n}\n\nfunction toMM(s) {\n  // return in\n  const v = +s.slice(0,-2)\n  const u = s.slice(-2)\n  return convertToMM(v, u)\n}\n\n\nconst Clipper = ({x1, y1, x2, y2, clip, children}) => {\n  if (clip) {\n    return (\n      <Clip shape=\"Rect\" x={x1} y={y1} width={x2-x1} height={y2-y1}>\n        {children}\n      </Clip>\n    )\n  } else {\n    return children\n  }\n}\n\nconst Styler = ({style, children}) => {\n  if (style && style !== 'none') {\n    return (\n      <Style name={style}>\n        {children}\n      </Style>\n    )\n  } else {\n    return children\n  }\n}\n\nexport const CoordinatePlane = props => {\n  \n  const span = parseSpan(props.span)\n  if (span === null) {\n    console.log(\"CoordinatePlane: span is null\")\n    return null\n  }\n  const {x1, y1, x2, y2} = span\n  const w = x2 - x1\n  const h = y2 - y1\n  const {\n    preserveAspectRatio=true, \n    margin='2mm',\n    grid=true, axis=true, \n    style=\"primary function\", \n    clip=true,\n    border=false,\n  } = props\n\n  const canvas = { border }\n\n  const clipper = {x1, y1, x2, y2, clip}\n  const styler = {style}\n\n  const marg = toMM(margin)\n\n  if (props.preserveAspectRatio === false) {\n    // TODO\n  } else {\n    if (props.width && props.height) {\n      console.log('WIDTH AND HEIGHT')\n      // TODO \n      /*\n      const width = toMM(props.width)\n      canvas.width = width + marg*2 + 'mm'\n      const vbmarg = w * marg / width\n      canvas.x1 = x1 - vbmarg\n      canvas.y1 = y1 - vbmarg\n      canvas.x2 = x2 + vbmarg\n      canvas.y2 = y2 + vbmarg\n\n      const height = toMM(props.height)\n      canvas.height = height + marg*2 + 'mm'\n      const vbmarg = h * marg / height\n      canvas.x1 = x1 - vbmarg\n      canvas.y1 = y1 - vbmarg\n      canvas.x2 = x2 + vbmarg\n      canvas.y2 = y2 + vbmarg\n      */\n\n    } else if (props.width) {\n      const width = toMM(props.width)\n      canvas.width = width + marg*2 + 'mm'\n      const vbmarg = w * marg / width\n      canvas.x1 = x1 - vbmarg\n      canvas.y1 = y1 - vbmarg\n      canvas.x2 = x2 + vbmarg\n      canvas.y2 = y2 + vbmarg\n\n    } else if (props.height) {\n      const height = toMM(props.height)\n      canvas.height = height + marg*2 + 'mm'\n      const vbmarg = h * marg / height\n      canvas.x1 = x1 - vbmarg\n      canvas.y1 = y1 - vbmarg\n      canvas.x2 = x2 + vbmarg\n      canvas.y2 = y2 + vbmarg\n    } else {\n\n    }\n  }\n  \n  const children = React.Children.toArray(props.children)\n  const svgchildren = children.filter(c => c.type !== Overlay)\n  const overlays = children.filter(c => c.type === Overlay)\n\n  return (\n    <Canvas {...canvas}>\n      <MarkerSymbols />\n      {grid ? (\n        <Grid span={[x1, y1, x2, y2]} axis={axis}/>\n      ) : axis ? (\n      <Style exactname=\"svgplot-axis\">\n        <Path points={[[0,y1], [0,y2]]} markers=\"-->\"/>\n        <Path points={[[x1,0], [x2,0]]} markers=\"-->\"/>\n      </Style>\n      ) : null}\n      <Clipper {...clipper}>\n        <Styler {...styler}>\n          {svgchildren}\n        </Styler>\n      </Clipper>\n      {overlays}\n    </Canvas>\n  )\n\n}\n\nexport default CoordinatePlane\n\n  \n\n/*\nexport class CoordinatePlane2 extends React.Component {\n  static defaultProps = {\n    style: 'primary function',\n    clip: true,\n  }\n\n  constructor(props) {\n    super(props)\n    const span = parseSpan(props.span)\n\n    this.state = { span }\n\n    this.svgref = React.createRef()\n  }\n\n  checkSize() {\n    let a, b, c, d\n    const bbox = this.svgref.current.getBBox()\n    console.log(bbox)\n    try {\n      // Chrome\n      ({a, b, c, d} = this.svgref.current.getCTM())\n    } catch(e) {\n      // Firefox\n      ({a, b, c, d} = this.svgref.current.getScreenCTM())\n    }\n    console.log({a, b, c, d})\n    const xmargin = 0.05*Math.abs(a + c)\n    const ymargin = 0.05*Math.abs(d + b)\n    this.setState({\n      xmargin, ymargin, \n      width: bbox.width / (1.1*Math.abs(a)), height: bbox.height / (1.1*Math.abs(d))\n    })\n  }\n\n  componentDidMount() {\n    this.checkSize()\n  }\n\n  renderClip() {\n    const {x1, y1, x2, y2} = this.state.span\n    if (this.props.clip) {\n      return (\n        <Clip shape=\"Rect\" x={x1} y={y1} width={x2-x1} height={y2-y1}>\n          {this.renderStyle()}\n        </Clip>\n      )\n    }\n    return this.renderStyle()\n  }\n\n  renderStyle() {\n    if (this.props.style && this.props.style !== 'none') {\n      return (\n        <Style name={this.props.style}>\n          {this.props.children}\n        </Style>\n      )\n    }\n    return this.props.children\n  }\n\n  render() {\n    if (!this.state.span) {\n      return null\n    }\n    \n    const {x1, y1, x2, y2} = this.state.span\n    const {grid=true, axis=true} = this.props\n    const height = this.state.height || this.props.height\n    const width = this.state.width || this.props.width\n    const xmargin = this.state.xmargin || 0\n    const ymargin = this.state.ymargin || 0\n\n\n    const vb = [\n      +x1 - xmargin,\n      +y1 - ymargin,\n      +x2 - x1 + 2*xmargin,\n      +y2 - y1 + 2*ymargin\n    ]\n\n    const svgprops = {\n      height, width,\n      viewBox: vb.join(' '),\n      transform: 'scale(1,-1)'\n    }\n\n    return (\n      <>\n      <svg className='svgplot-canvas' {...svgprops} ref={this.svgref}>\n        <MarkerSymbols />\n        {grid ? (\n          <Grid span={[x1, y1, x2, y2]} axis={axis}/>\n         ) : axis ? (\n          <Style exactname=\"svgplot-axis\">\n            <Path points={[[0,y1], [0,y2]]} markers=\"-->\"/>\n            <Path points={[[x1,0], [x2,0]]} markers=\"-->\"/>\n          </Style>\n         ) : null}\n        {this.renderClip()}\n      </svg>\n      </>\n    )\n  }\n}\n*/","import React from 'react'\nimport { Grid as SvgPlotGrid, Line, Style } from './react-svgplot'\n\n\nconst Grid = props => {\n  const { span, step=[1,1], axis=true } = props\n  const [x1, y1, x2, y2] = span\n  const [xStep, yStep] = step\n\n  return (\n    <>\n    <Style name=\"svgplot-grid\">\n      <SvgPlotGrid {...{x1, y1, x2, y2, xStep, yStep}} />\n    </Style>\n    {axis ? (\n      <Style name=\"svgplot-axis\">\n        <Line x1={x1} y1={0} x2={x2} y2={0} markers=\"-->\" />\n        <Line x1={0} y1={y1} x2={0} y2={y2} markers=\"-->\" />\n      </Style>\n    ) : null}\n    </>\n  )\n}\n\nexport default Grid","import React from 'react'\n\n// just for testing purposes\n// use Clip, Style, or Transform instead\n\nconst Layer = props => <g {...props}>{props.children}</g>\n\nexport default Layer","import React from 'react'\nimport { Path, Style, Point } from '.'\n\n\nconst calcPath = function(f, domain, step=0.1) {\n  let path = []\n  let x = domain[0]\n  while (x < domain[1]) {\n    path.push({x: x, y: f(x)})\n    x += step\n  }\n  path.push(({x: domain[1], y: f(domain[1])}))\n  return path\n}\n\nexport const PolynomialFunction = (props) => {\n  const { \n    coefficients, domain, step=0.2,\n    ...otherprops\n  } = props\n\n  if (domain === undefined) {\n    console.error(\"no domain provided for PolynomialFunction\")\n    return null\n  }\n\n  const f = (x) => {\n    let ans = 0\n    for (const deg in coefficients) {\n      ans += coefficients[deg] * Math.pow(x,deg)\n    }\n    return ans\n  }\n\n  return <Path points={calcPath(f, domain, step)} {...otherprops}/>\n}\n\nexport const RationalFunction = (props) => {\n  const {\n    roots=[], holes=[], asymptotes=[], numerLC=1, denomLC=1, \n    domain, step=0.2, range=[-1000,1000], \n    renderAsymptotes=true, renderRoots=true, renderHoles=true,\n    style, fill,\n  } = props\n\n  if (domain === undefined) {\n    console.error(\"no domain provided for RationalFunction\")\n    return null\n  }\n\n  const f = (x) => {\n    let num = numerLC\n    let den = denomLC\n    for (const r of roots) {\n      num *= (x - r)\n    }\n    for (const r of asymptotes) {\n      den *= (x - r)\n    }\n    return num / den\n  }\n\n  const domainPts = {\n    [+domain[0]] : true,\n    [+domain[1]] : true,\n  }\n\n  for (const r of asymptotes.filter(r => r >= domain[0] && r <= domain[1])) {\n    domainPts[+r] = false\n  }\n\n  const domains = []\n  const dp = Object.keys(domainPts).sort((a,b) => a-b)\n  for (let i = 1; i<dp.length; i++) {\n    const [v1, v2] = [dp[i-1], dp[i]]\n    domains.push([\n      {val: v1, def: domainPts[v1]},\n      {val: v2, def: domainPts[v2]}, \n    ])\n  }\n  \n  const paths = []\n  for (const d of domains) {\n    \n    const dom = [\n      d[0].def ? +d[0].val : +d[0].val + step,\n      d[1].def ? +d[1].val : +d[1].val - step,\n    ]\n    let path = calcPath(f, dom, step)\n    if (!d[0].def) {\n      let p = path[0]\n      while (p.y > range[0] && p.y < range[1]) {\n        const x = (3*d[0].val + p.x) / 4\n        p = {x, y: f(x)}\n        path = [p, ...path]\n      }\n    }\n    if (!d[1].def) {\n      let p = path[path.length-1]\n      while (p.y > range[0] && p.y < range[1]) {\n        const x = (3*d[1].val + p.x) / 4\n        p = {x, y: f(x)}\n        path.push(p)\n      }\n    }\n    paths.push(path)\n  }\n\n  const vas = asymptotes.map(x => [{x: x, y: range[0]}, {x: x, y: range[1]}])\n  let ha\n  if (asymptotes.length > roots.length) {\n    ha = [{x: domain[0], y: 0}, {x: domain[1], y: 0}]\n  } else if (asymptotes.length === roots.length) {\n    ha = [{x: domain[0], y: numerLC/denomLC}, {x: domain[1], y: numerLC/denomLC}]\n  }\n\n\n\n\n  return (\n    <>\n      {renderAsymptotes ? (\n        <Style name='asymptote'>\n          {ha ? <Path key='hasym' points={ha} /> : null}\n          {vas.map(p => <Path key={`asym${p[0].x}`} points={p} />)}\n        </Style>\n      ) : null}\n      {style ? (\n        <Style name={style}>\n          {paths.map(p => <Path key={`path${p[0].x}`} points={p} fill={fill}/>)}\n          {renderRoots ? roots.map(x => <Point key={`root${x}`} x={x} y={f(x)} />): null}\n          {renderHoles ? holes.map(x => <Point key={`hole${x}`} x={x} y={f(x)} marker=\"o\"/>) : null}\n        </Style>\n      ) : (\n        <>\n          {paths.map(p => <Path key={`path${p[0].x}`} points={p} fill={fill}/>)}\n          {renderRoots ? roots.map(x => <Point key={`root${x}`} x={x} y={f(x)} />): null}\n          {renderHoles ? holes.map(x => <Point key={`hole${x}`} x={x} y={f(x)} marker=\"o\"/>) : null}        \n        </>\n      )}    \n      \n    </>\n  )\n}\n","import React from 'react'\nimport { Style as SPStyle } from './react-svgplot'\n\nconst Style = props => {\n  const {name, exactname, color} = props\n\n  let stylenames = []\n  if (name) {\n    stylenames = stylenames.concat(name.split(' ').map(s => `vg-style-${s}`))\n  }\n  if (exactname) {\n    stylenames = stylenames.concat(exactname.split(' '))\n  }\n\n  const styleprops = {}\n  if (color) styleprops.color = color\n  if (stylenames.length) styleprops.name = stylenames.join(' ')\n\n  return (\n    <SPStyle {...styleprops}>\n      {props.children}\n    </SPStyle>\n  )\n}\n\nexport default Style","import {\n  Canvas,\n  Circle, \n  Ellipse,\n  Label,\n  Overlay,\n  Point,\n  Rect,\n  Transform,\n} from './react-svgplot'\n\nimport AngleMark from './AngleMark'\nimport Clip from './Clip'\nimport CoordinatePlane from './CoordinatePlane'\nimport Grid from './Grid'\nimport Layer from './Layer'\nimport Path, { Asymptote, ScatterPlot, Polygon } from './Path'\nimport { PolynomialFunction, RationalFunction } from './Functions'\nimport Style from './Style'\n\nimport './vgstyles.global.css'\n\nexport {\n  AngleMark,\n  Asymptote,\n  Circle,\n  Clip,\n  CoordinatePlane,\n  Ellipse,\n  Grid,\n  Label,\n  Layer,\n  Overlay,\n  Path,\n  Point,\n  Polygon,\n  Rect,\n  ScatterPlot,\n  Style,\n}\n\nconst VectorGraphics = {\n  AngleMark,\n  Asymptote,\n  Canvas,\n  Circle,\n  Clip,\n  CoordinatePlane,\n  Ellipse,\n  Grid,\n  Label,\n  Layer,\n  Overlay,\n  Path,\n  Point,\n  Polygon,\n  PolynomialFunction,\n  RationalFunction,\n  Rect,\n  ScatterPlot,\n  Style,\n  Transform,\n}\n\nexport default VectorGraphics","import React from 'react'\n\n\nfunction parseBorder(border) {\n  if (border === 'top') return 'borderTop'\n  if (border === 'bottom') return 'borderBottom'\n  if (border === 'left') return 'borderLeft'\n  if (border === 'right') return 'borderRight'\n}\n\n\nexport const EmptySpace = props => {\n  const {width=\"2cm\", height=\"2cm\", border} = props\n  const style = {margin: '0'}\n  if (width) style.width = width\n  if (height) style.height = height\n  if (border) {\n    if (Array.isArray(border)) {\n      for (const b of border) {\n        if (parseBorder(b)) {\n          style[parseBorder(b)] = '1px solid black'\n        }\n      }\n    }\n    if (typeof border === 'string') {\n      if (parseBorder(border)) {\n        style[parseBorder(border)] = '1px solid black'\n      }\n      if (border === true) {\n        style.border = '1px solid black'\n      }\n    }\n  }\n  return (\n    <div style={style} />\n  )\n}","import katex from 'katex'\n\nexport const formulaToKatex = (formula, options) => {\n  try {\n    return katex.renderToString(formula, options);\n  } catch (e) {\n    if (!(e instanceof katex.ParseError)) {\n      throw e;\n    }\n    console.error(\n      \"KaTeX auto-render: Failed to parse `\" + formula + \"` with \", e\n    );\n  }\n  return null\n}","import React from 'react'\nimport { defaultsDeep } from 'lodash'\nimport { formulaToKatex as formulaToHtml } from './katexMath'\nimport MarkdownIt from 'markdown-it'\nimport mdsup from 'markdown-it-sup'\nimport mdsub from 'markdown-it-sub'\nimport mdsmartarrows from 'markdown-it-smartarrows'\nimport mdmath from 'markdown-it-math'\nimport styles from './styles.module.css'\n\nconst defaultOptions = {\n  renderMath: true,\n  \n  mdSuperscript: true,\n  mdSubscript: true,\n  mdSmartarrows: true,\n\n  mathDelimiters: {\n    display: {left: '$$$', right: '$$$'},\n    inline: {left: '$$', right: '$$'},\n  }\n};\n\nexport const InlineMarkdown = ({data, options}) => {\n  const opts = defaultsDeep({}, options, defaultOptions)\n  let md = new MarkdownIt()\n  if (opts.mdSubscript) { md = md.use(mdsub); }\n  if (opts.mdSuperscript) { md = md.use(mdsup); }\n  if (opts.mdSmartarrows) { md = md.use(mdsmartarrows); }\n  if (opts.renderMath) {\n    md = md.use(mdmath, {\n      inlineRenderer: (str) => formulaToHtml(str),\n      blockRenderer: (str) => formulaToHtml(str, {displayMode: true}),\n      inlineOpen: opts.mathDelimiters.inline.left,\n      inlineClose: opts.mathDelimiters.inline.right,\n      blockOpen: opts.mathDelimiters.display.left,\n      blockClose: opts.mathDelimiters.display.right,\n    })\n  }\n  return <span dangerouslySetInnerHTML={{__html: md.renderInline(data)}} />\n}\n\nexport const Markdown = ({data, options}) => {\n  const opts = defaultsDeep({}, options, defaultOptions)\n  let md = new MarkdownIt()\n  if (opts.mdSubscript) { md = md.use(mdsub); }\n  if (opts.mdSuperscript) { md = md.use(mdsup); }\n  if (opts.mdSmartarrows) { md = md.use(mdsmartarrows); }\n  if (opts.renderMath) {\n    md = md.use(mdmath, {\n      inlineRenderer: (str) => formulaToHtml(str),\n      blockRenderer: (str) => formulaToHtml(str, {displayMode: true}),\n      inlineOpen: opts.mathDelimiters.inline.left,\n      inlineClose: opts.mathDelimiters.inline.right,\n      blockOpen: opts.mathDelimiters.display.left,\n      blockClose: opts.mathDelimiters.display.right,\n    })\n  }\n  return (\n    <span className={styles.Markdown} dangerouslySetInnerHTML={{__html: md.render(data)}} ></span> \n  )\n}","import React from 'react'\nimport { formulaToKatex as formulaToHtml } from './katexMath'\n\n\nexport const Math = props => {\n  const html = formulaToHtml(props.data, props.options);\n  return <span dangerouslySetInnerHTML={{__html: html}} />\n}\n\nexport const DisplayMath = props => {\n  const options = {displayMode: true, ...props.options}\n  const html = formulaToHtml(props.data, options);\n  return <span dangerouslySetInnerHTML={{__html: html}} />\n}\n","import React from 'react'\n\nconst parseHeader = (text) => {\n  let result = []\n  let current = ''\n  let isBlank = false\n  let i = 0\n  let blankSize = 0\n  while (i < text.length) {\n    const nextChar = text[i]\n    if (isBlank) {\n      if (nextChar === '_') {\n        blankSize += 1\n      } else {\n        result.push({type: 'blank', size: blankSize})\n        current = nextChar\n        isBlank = false\n        blankSize = 0\n      }\n    } else {\n      if (nextChar === '_') {\n        if (current !== '') {\n          result.push({type: 'text', text: current})\n          current = ''\n        }\n        isBlank = true\n        blankSize = 1\n      } else {\n        current += nextChar\n      }\n    }\n    i += 1\n  }\n  if (isBlank) {\n    if (blankSize > 0) {\n      result.push({type: 'blank', size: blankSize})\n    }\n  } else {\n    if (current !== '') {\n      result.push({type: 'text', text: current})\n    }\n  }\n  return result\n}\n\nconst renderHeaderElement = (text) => {\n  const parts = parseHeader(text)\n  return (\n    <>\n      {parts.map((p, i) => {\n        if (p.type === 'text') {\n          return (\n            <div key={i} style={{display: 'inline-block'}}>{p.text}</div>\n          )\n        } else {\n          const w = `${1 + 3*(p.size - 1)}cm`\n          return (\n            <div key={i} className='blank-underline blank-underline-page-header' style={{width: w}} />\n          )\n        }\n      })}\n    </>\n  )\n}\n\nexport const PageHeader = props => {\n\n  if (props.rows.length === 0) {\n    return <div className='page-header page-header-empty' />\n  } else {\n    return (\n      <table className='page-header'>\n        <tbody>\n          {props.rows.map((row, i) => {\n            const [left, right] = row\n            return (\n              <tr key={i}>\n                <td>\n                  {renderHeaderElement(left || '')}\n                </td>\n                <td>\n                  {renderHeaderElement(right || '')}\n                </td>\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n    )\n  }\n}","import React from 'react'\nimport { renderJson } from '..'\n\n\nconst defaultLayout = ['instructions', 'question', ['answer', 'diagram']]\n//const defaultLayout = [[['instructions', 'question', 'answer'], 'diagram']]\nconst layoutAnswerRight = ['instructions', 'question', ['diagram', 'answer']]\n\nconst QuestionLayout = ({\n  content,\n  layout,\n  direction='column',\n}={}) => {\n\n  const className = `question-layout question-layout-${direction}`\n  const newDirection = {row: 'column', column: 'row'}[direction]\n  //const useLayout = layout || defaultLayout\n  const useLayout = layout || (content.answer && content.answer[0] === 'EmptySpace' ? layoutAnswerRight : defaultLayout)\n\n  return (\n    <div className={className}>\n      {useLayout.map((area, i) => {\n        if (Array.isArray(area)) {\n          return (\n            <QuestionLayout key={`region-${i}`} \n              content={content}\n              layout={area} \n              direction={newDirection} \n            />\n          )\n        } else {\n          if (content[area]) {\n            const classNames = ['question-area', `question-area-${area}`]\n            return (\n              <div key={area} className={classNames.join(' ')}>\n                {renderJson(content[area])}\n              </div>\n            )\n          }\n        }\n        return null\n      })}\n    </div>\n  )\n}\n\n\nfunction parseAnswer(answer) {\n  if (answer) {\n    if (answer.constructor.name === 'Object') {\n      return answer\n    } else {\n      return {correct: answer}\n    }\n  }\n}\n\nexport function determineVariant(content={}, options={}) {\n  if (options.variant) {\n    return options.variant\n  }\n  if (content.answer && content.answer.choices) {\n    return 'multipleChoice'\n  }\n  if (content.variants && content.variants.multipleChoice) {\n    return 'multipleChoice'\n  }\n  return 'freeResponse'\n}\n\nfunction determineAnswerSpace(answer, variant) {\n  if (answer) {\n    if (variant === 'multipleChoice' && answer.choices) {\n      const listDirection = answer.listDirection\n      return ['AnswerChoices', {listDirection}, ...answer.choices]\n    } else if (answer.prompt !== undefined) {\n      if (answer.prompt === null) {\n        return null\n      }\n      if (typeof answer.prompt === 'string') {\n        return ['AnswerBlanks', null, answer.prompt]\n      } else if (Array.isArray(answer.prompt)) {\n        return answer.prompt\n      }\n    }\n  }\n  return ['EmptySpace', {width: '1cm', height: '1cm'}]\n}\n\nfunction determineContent(content, variant) {\n  const {variants, ...othercontent} = content\n  const usecontent = Object.assign({}, othercontent)\n  if (variants) {\n    const variantContent = variants[variant]\n    Object.assign(usecontent, variantContent)\n  }\n  return {\n    ...usecontent,\n    answer: determineAnswerSpace(parseAnswer(usecontent.answer), variant)\n  }\n}\n\nfunction determineAnswerKey(answer={}, variant='freeResponse', letters='abcdef') {\n  if (answer) {\n    if (variant === 'multipleChoice') {\n      if (answer.correctIndex !== undefined) {\n        if (Array.isArray(answer.correctIndex)) {\n          return answer.correctIndex.map(i => letters[i]).join(', ')\n        } else {\n          return letters[answer.correctIndex]\n        }\n      }\n      if (answer.correct !== undefined) {\n        for (let i = 0; i < answer.choices.length; i++) {\n          if (answer.choices[i] == answer.correct) {\n            return letters[i]\n          }\n        }\n      }\n    }\n    if (answer !== null) {\n      if (answer.correct) {\n        return answer.correct\n      }\n      if (Array.isArray(answer) ||  typeof answer === 'string' || typeof answer === 'number') {\n        return answer\n      }\n    }\n    if (answer.choices && answer.correctIndex !== undefined) {\n      return answer.choices[answer.correctIndex]\n    }\n  }\n}\n\n\nexport const Question = (props) => {\n  const options = props.options || {}\n  const variant = determineVariant(props.content, props.options)\n  const content = determineContent(props.content, variant)\n\n  const layout = content.layout || options.layout\n  return (\n    <div className='question-wrapper'>\n      <QuestionLayout content={content} layout={layout}/>\n    </div>\n  )\n}\n\n\nexport const NumberedQuestion = props => {\n  return (\n    <div className='question-number'>\n      <Question {...props} />\n    </div>\n  )\n}\n\n\nexport const AnswerKey = props => {\n  const letters = 'abcdefg'\n  const { options } = props\n  const variant = determineVariant(props.content, options)\n  const answer = determineAnswerKey(props.content.answer, variant, letters)\n  return renderJson(answer)\n}\n","import React from 'react'\n\nfunction parseAlignment(align) {\n  // latex-style, e.g. r|ccc|l\n  const colStyles = []\n\n  const blocks = align.split('|')\n  for (const i in blocks) {\n    const block = blocks[i]\n    for (const j in block) {\n      const char = block[j]\n      const colStyle = {}\n      if (char === 'l') colStyle.textAlign = 'left'\n      if (char === 'c') colStyle.textAlign = 'center'\n      if (char === 'r') colStyle.textAlign = 'right'\n      if (+j === 0 && i > 0) {\n        colStyle.borderLeft = '1px solid black'\n      }\n      if (+j === block.length-1 && i < blocks.length-1) {\n        colStyle.borderRight = '1px solid black'\n      }\n      colStyles.push(colStyle)\n    }\n  }\n  return colStyles\n}\n\n\nexport const TRow = props => {\n  const { header=false, border=false } = props\n  const rowprops = {style: {border: 'none'}}\n  if (border) {\n    if (border === 'bottom') {\n      rowprops.style.borderBottom = '1px solid black'\n    } else if (border === 'top') {\n      rowprops.style.borderTop = '1px solid black'\n    } else if (border === true || border === 'both') {\n      rowprops.style.borderTop = '1px solid black'\n      rowprops.style.borderBottom = '1px solid black'\n    }\n  }\n\n  const defaultBorderLeft = i => 'none'\n  const defaultBorderRight = i => 'none'\n  const defaultTextAlign = i => 'center'\n\n  const elemstyle = i => ({\n    border: 'none',\n    borderLeft: `var(--table-col-${i}-borderLeft, ${defaultBorderLeft(i)})`,\n    borderRight: `var(--table-col-${i}-borderRight, ${defaultBorderRight(i)})`,\n    textAlign: `var(--table-col-${i}-textAlign, ${defaultTextAlign(i)})`,\n  })\n\n  //console.log(entryprops)\n  return (\n    <tr {...rowprops}>\n      {header ? (\n        React.Children.toArray(props.children).map((c,i) => (\n          <th key={i} style={elemstyle(+i+1)}>{c}</th>\n        ))\n      ) : (\n        React.Children.toArray(props.children).map((c,i) => (\n          <td key={i} style={elemstyle(+i+1)}>{c}</td>\n        ))\n      )}\n    </tr>\n  )\n}\n\nexport const Table = props => {\n  const children = React.Children.toArray(props.children)\n\n  let headIndex = 0\n  while (headIndex < children.length \n    && children[headIndex].type.name === 'TRow' \n    && children[headIndex].props.header) {\n    headIndex += 1\n  }\n\n  const tableprops = {style: {borderCollapse: 'collapse'}}\n  if (props.border) {\n    tableprops.style.border = '1px solid black'\n  }\n  if (props.align) {\n    const alignment = parseAlignment(props.align)\n    for (const i in alignment) {\n      for (const k in alignment[i]) {\n        const cssvar = `--table-col-${+i+1}-${k}`\n        const value = alignment[i][k]\n        tableprops.style[cssvar] = value\n      }\n    }\n  }\n\n  return (\n    <table {...tableprops}>\n      {headIndex > 0 ? (\n        <thead>\n          {children.slice(0,headIndex)}\n        </thead>\n      ) : null}\n      {headIndex < children.length ? (\n        <tbody>\n          {children.slice(headIndex)}\n        </tbody>\n      ) : null}\n    </table>\n  )\n}","/*\nThis renders math in text using markdown, and simple markdown using\nmarkdown-it's inline renderer. For more complicated markdown, use\nthe 'markdown' type, which will be passed to the 'renderMarkdown' function\n*/\n\nimport React from 'react'\nimport splitAtDelimiters  from 'katex/contrib/auto-render/splitAtDelimiters'\nimport { defaultsDeep } from 'lodash'\nimport { Math, DisplayMath } from './Math'\nimport { Markdown, InlineMarkdown } from './Markdown'\n\nconst defaultOptions = {\n  renderMath: true,\n  markdown: 'inline',\n  mathDelimiters: {\n    display: {left: '$$$', right: '$$$'},\n    inline: {left: '$$', right: '$$'},\n  }\n};\n\n\n// from katex:\nconst splitWithDelimiters = function(text, delimiters) {\n  let data = [{type: \"text\", data: text}];\n  for (let i = 0; i < delimiters.length; i++) {\n    const delimiter = delimiters[i];\n    data = splitAtDelimiters(\n      data, delimiter.left, delimiter.right,\n      delimiter.display || false);\n  }\n  return data;\n};\n\nconst ParseMath = ({data, options}) => {\n  const delimiters = [\n    {left: options.mathDelimiters.display.left, right: options.mathDelimiters.display.right, display: true},\n    {left: options.mathDelimiters.inline.left, right: options.mathDelimiters.inline.right, display: false},\n  ]\n\n  return (\n    <span>\n      {splitWithDelimiters(data, delimiters).map((c,i) => {\n        if (c.type === 'text') {\n          if (options.markdown) {\n            return <InlineMarkdown key={i} data={c.data} options={options}/>\n          } else {\n            return <Plain key={i} data={c.data} options={options}/>\n          }\n        } else {\n          if (c.display) {\n            return <DisplayMath key={i} data={c.data}/>\n          } else {\n            return <Math key={i} data={c.data}/>\n          }\n        }\n      })}\n    </span>\n  )\n}\n\nexport const Plain = props => {\n  return <span>{props.data}</span>\n}\n\n\nexport const Text = props => {\n  const {\n    data, fontFamily, fontSize, color,\n    ...otherprops\n  } = props\n  const opts = defaultsDeep({}, otherprops, defaultOptions)\n  const style = {fontFamily, fontSize, color}\n  let RenderMethod\n  if (opts.markdown === true || opts.markdown === 'full') {\n    RenderMethod = Markdown\n  } else if (opts.renderMath) {\n    RenderMethod = ParseMath\n  } else if (opts.markdown === 'inline') {\n    RenderMethod = InlineMarkdown\n  } else {\n    RenderMethod = Plain\n  }\n\n  return (\n    <span style={style}>\n      <RenderMethod data={data} options={opts}/>\n    </span>\n  )\n}\n\n/*\nconst defaultDelimiters = {\n  display: {left: '$$$', right: '$$$'},\n  inline: {left: '$$', right: '$$'},\n}\n\nconst replaceMathDelimiters = function(text, options, delimiters=defaultDelimiters) {\n  let optionsCopy = {...options.katex}\n  const data = splitWithDelimiters(text, optionsCopy.delimiters)\n  let result = \"\"\n  for (let i = 0; i < data.length; i++) {\n    if (data[i].type === \"text\") {\n      result += data[i].data\n    } else if (data[i].display) {\n      result += `${delimiters.display.left}${data[i].data}${delimiters.display.right}`\n    } else {\n      result += `${delimiters.inline.left}${data[i].data}${delimiters.inline.right}`\n    }\n  }\n  return result\n}\n*/\n","import VectorGraphics from './VectorGraphics'\nimport { AnswerChoices, AnswerBlanks } from './AnswerSpace'\nimport { Container } from './Container'\nimport { EmptySpace } from './EmptySpace'\nimport { Markdown, InlineMarkdown } from './Markdown'\nimport { Math, DisplayMath } from './Math'\nimport { List } from './List'\nimport { PageHeader } from './PageHeader'\nimport { Question, NumberedQuestion, AnswerKey } from './Question'\nimport { RenderError } from './RenderError'\nimport { Table, TRow } from './Table'\nimport { Text, Plain } from './Text'\nimport { VegaLite } from './VegaLite'\n\n// nonTerminal types will have their children rendered with renderJson\nconst nonTerminal = {\n  AnswerBlanks,\n  AnswerChoices,\n  Container, \n  List,\n  Table, \n  TRow,\n  ...VectorGraphics,\n}\n\n\n\n/* terminal types are responsible for rendering their own children\n * children are joined (by newlines) into a single string and passed \n * as the 'data' prop, e.g.\n * \n * ['Math', '\\\\frac{2}{3}', '\\\\sqrt{3}'] => <Math data={\"\\\\frac{2}{3}\\n\\\\sqrt{3}\"}/>\n * \n */\nconst terminal = {\n  Plain, \n  Text, \n  Math, \n  DisplayMath, \n  Markdown, \n  InlineMarkdown,\n}\n\n\n\n// childless types will ignore children\n// many of these may be tweaked to become nonTerminal or terminal\nconst childless = {\n  AnswerKey,\n  EmptySpace, \n  PageHeader,\n  NumberedQuestion,\n  Plain, \n  Question, \n  RenderError,\n  VegaLite,\n}\n\nexport {nonTerminal, terminal, childless}","import React from 'react'\n\nexport const AnswerChoices = props => {\n\n  const classNames = ['answerchoice-list']\n  if (props.listDirection && props.listDirection === 'horizontal') {\n    classNames.push('answerchoice-list-horizontal')\n  }\n  return (\n    <ol className={classNames.join(' ')} type='a'>\n      {React.Children.map(props.children, (c,i) => (\n        <li key={`choice-${i}`}\n          className='answerchoice-item'>\n          {c}\n        </li>\n      ))}\n    </ol>\n  )\n}\n\nexport const AnswerBlanks = props => {\n  const style = {margin: 0}\n  if (props.width !== undefined) {\n    style.minWidth = props.width\n  }\n  if (props.height !== undefined) {\n    style.minHeight = props.height\n  }\n  const classNames = ['answerspot']\n  if (props.box) {\n    classNames.push('answerbox')\n  } else {\n    classNames.push('answerblank')\n  }\n  return (\n    <table className='answerblanks'>\n      <tbody>\n        {React.Children.map(props.children, (c,i) => (\n          <tr key={i}>\n            <td>{c}</td>\n            <td><div className={classNames.join(' ')} style={style}/></td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  )\n}","import React from 'react'\n\nexport const Container = props => {\n  const {direction='row', border=false, alignItems, justifyItems, wrap=true} = props\n  const divstyle = {\n    display: 'flex',\n    flexDirection: direction,\n    flexWrap: wrap ? 'wrap' : 'nowrap',\n    border: border ? '1px solid black' : 'none',\n  }\n  if (direction === 'row') {\n    if (alignItems === 'bottom') {\n      divstyle.alignItems = 'flex-end'\n    } else if (alignItems === 'top') {\n      divstyle.alignItems = 'flex-start'\n    } else if (alignItems === 'center') {\n      divstyle.alignItems = 'center'\n    }\n  }\n\n  return (\n    <div style={divstyle}>\n      {props.children}\n    </div>\n  )\n}","import React from 'react'\n\nexport const List = props => {\n  const {type} = props\n  return (\n    <ol type={type}>\n      {React.Children.map(props.children, c => <li>{c}</li>)}\n    </ol>\n  )\n}","import React from 'react'\n\nexport const RenderError = props => {\n  return (\n    <>\n      {props.children.map((c,i) => <code key={i} className='render-error'>{JSON.stringify(c)}</code>)}\n    </>\n  )\n}","import React from 'react'\nimport ReactVega from 'react-vega'\nimport ReactVegaLite from 'react-vega-lite'\n\nexport const Vega = data => {\n  return (\n    <ReactVega spec={data} />\n  )\n}\n\nexport const VegaLite = data => {\n  return (\n    <ReactVegaLite spec={data} />\n  )\n}","import React from 'react'\nimport { nonTerminal, terminal, childless } from './renderTypes'\nimport { Text, Plain } from './renderTypes/Text'\n\nexport const parseJson = function(json) {\n  const [ type, props, ...children ] = json\n  if (props) {\n    if (props.constructor.name === 'Object') {\n      return { type, props, children}\n    }\n    return { type, props: {}, children: [ props, ...children ] }\n  }\n  return { type, props: {}, children }\n}\n\nconst isArray = Array.isArray\n\nexport const renderJson = function(json) {\n  if (isArray(json)) {\n    const {type, props, children} = parseJson(json)\n\n    if (isArray(type)) {\n      return React.createElement(React.Fragment, null, ...json.map(c => renderJson(c)))\n    }\n    if (childless[type]) {\n      return React.createElement(childless[type], props)\n    }\n    if (terminal[type]) {\n      return React.createElement(terminal[type], {...props, data: children.join('\\n')})\n    }\n    if (nonTerminal[type]) {\n      return React.createElement(nonTerminal[type], props, ...children.map(c => renderJson(c)))\n    }\n  }\n  else if (typeof json === 'string') {\n    return <Text data={json} />\n  }\n  else if (typeof json === 'number') {\n    return <Plain data={json.toString()} />\n  }\n  else if (typeof json === 'boolean') {\n    return <Plain data={json.toString()} />\n  }\n  else if (json === null || json === undefined) {\n    return null\n  }\n  console.error(`cannot render ${JSON.stringify(json)}`)\n  return null\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { RenderJson, parseJson } from '..'\n\nexport default class DefaultEditor extends React.Component {\n  static propTypes = {\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n    json: PropTypes.array,\n    onUpdateElement: PropTypes.func.isRequired,\n    onDeleteElement: PropTypes.func.isRequired,\n    onRequestClose: PropTypes.func,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = parseJson(props.json)\n  }\n\n  stateToJson() {\n    return [this.state.type, this.state.props, ...this.state.children]\n  }\n\n  updateAndClose = () => {\n    this.props.onUpdateElement(this.props.id, this.stateToJson())\n    this.props.onRequestClose()\n  }\n\n  deleteAndClose = () => {\n    this.props.onDeleteElement(this.props.id)\n    this.props.onRequestClose()\n  }\n\n  revertChanges = () => {\n    this.setState(parseJson(this.props.json))\n  }\n\n  renderEditor() {\n    return <div>Editing is not yet implemented for this type of element.</div>\n  }\n\n  renderPreview() {\n    const json = [...this.stateToJson()]\n    return (\n      <div className='document preview-area' style={{margin: '3mm 1mm'}}>\n        <RenderJson json={json} />\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <>\n        <div style={{\n          width: '100%',\n          display: 'grid', \n          gridTemplateColumns: 'auto auto auto 1fr auto',\n          margin: '0 0 5mm 0',\n        }}>\n          <button onClick={this.updateAndClose}>Apply Changes</button>\n          <button onClick={this.revertChanges}>Revert Changes</button>\n          <button onClick={this.props.onRequestClose}>Cancel</button>\n          <span />\n          <button onClick={this.deleteAndClose} style={{justifySelf: 'right'}}>Delete</button>\n        </div>\n        {this.renderEditor()}\n        {this.renderPreview()}\n      </>\n    )\n  }\n}\n","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\n\n\nexport default class EditPageHeader extends DefaultEditor {\n\n  headingUpdate(row, lr, text) {\n    const newrow = [...this.state.props.rows[row]]\n    newrow[lr] = text\n    const rows = [...this.state.props.rows]\n    rows[row] = newrow\n    this.setState({props: {...this.state.props, rows}})\n  }\n\n  headingAddRow = () => {\n    const rows = [...this.state.props.rows, ['', '']]\n    this.setState({ props: {...this.state.props, rows} })\n  }\n\n  headingRemoveRow = () => {\n    const rows = this.state.props.rows.slice(0,-1)\n    this.setState({props: {...this.state.props, rows}})\n  }\n\n  renderEditor() {\n    const rows = this.state.props.rows\n    const inputStyle = {\n      width: '100%',\n      fontSize: '1.1em',\n      fontFamily: 'var(--doc-font-family, monospace)',\n      margin: '1mm',\n      padding: '1mm',\n    }\n    return (\n      <div>\n      <p>\n        Underscores will be translated into a blank underlined space.\n      </p>\n      <table className='header'>\n        <tbody>\n          {rows.map((row, i) => {\n            const [left, right] = row\n            return (\n              <tr key={i} >\n                <td style={{border: 'none', padding: '0 1em 0 0'}}>\n                  <input type=\"text\"\n                    onChange={(evt) => this.headingUpdate(i, 0, evt.target.value)}\n                    value={left || ''} \n                    style={inputStyle}\n                  />\n                </td>\n                <td style={{border: 'none', padding: '0 1em 0 0'}}>\n                  <input type=\"text\"\n                    onChange={(evt) => this.headingUpdate(i, 1, evt.target.value)}\n                    value={right || ''} \n                    style={inputStyle}\n                  />\n                </td>\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n      <button onClick={this.headingRemoveRow}>-</button>\n      <button onClick={this.headingAddRow}>+</button>\n      </div>\n    )\n  }\n\n}","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\nimport { RenderJson, parseJson } from '..'\nimport { determineVariant } from '../renderTypes/Question'\n\nconst variantNames = {\n  freeResponse: 'free response',\n  multipleChoice: 'multiple choice',\n}\n\nfunction parseAndSetVariant(data) {\n  const {type, props={}} = parseJson(data)\n  const {content={}, options={}} = props\n  if (!options.variant) {\n    options.variant = determineVariant(content)\n  }\n  if (!options.variants) {\n    if (content.answer && content.answer.choices) {\n      options.variants = ['multipleChoice', 'freeResponse']\n    } else {\n      options.variants = ['freeResponse']\n    }\n  }\n  return {type, content, options}\n}\n\nexport default class Question extends DefaultEditor {\n  constructor(props) {\n    super(props)\n    this.state = parseAndSetVariant(props.json)\n  }\n\n  stateToJson() {\n    return [this.state.type, {content: this.state.content, options: this.state.options}]\n  }\n\n  revertChanges = () => {\n    const newState = parseAndSetVariant(this.props.json)\n    this.setState(newState)\n  }\n\n  updateVariant = evt => {\n    this.setState({options: {...this.state.options, variant: evt.target.value}})\n  }\n\n  updateContent(k, v, variant) {\n    if (variant) {\n      const variants = this.state.variants || {}\n      const updated = variants[variant] || {}\n      if (v === '') {\n        delete updated[k]\n      } else {\n        updated[k] = v\n      }\n      variants[variant] = updated\n      this.setState({\n        content: {\n          ...this.state.content, \n          variants,\n        }\n      })\n    } else {\n      this.setState({\n        content: {\n          ...this.state.content,\n          [k]: v\n        }\n      })\n    }\n  }\n\n  updateInstructions = evt => this.updateContent('instructions', evt.target.value)\n  updateInstructionsMC = evt => this.updateContent('instructions', evt.target.value, 'multipleChoice')\n  updateInstructionsFR = evt => this.updateContent('instructions', evt.target.value, 'freeResponse')\n\n  updateQuestion = evt => this.updateContent('question', evt.target.value)\n  updateQuestionMC = evt => this.updateContent('question', evt.target.value, 'multipleChoice')\n  updateQuestionFR = evt => this.updateContent('question', evt.target.value, 'freeResponse')\n\n  renderInstructionsOrQuestionInputs(fieldname) {\n    const overrides = (this.state.content.variants || {})[this.state.options.variant] || {}\n    const updaters = {\n      instructions: {\n        default: this.updateInstructions,\n        multipleChoice: this.updateInstructionsMC,\n        freeResponse: this.updateInstructionsFR,\n      },\n      question: {\n        default: this.updateQuestion,\n        multipleChoice: this.updateQuestionMC,\n        freeResponse: this.updateQuestionFR,\n      }\n    }[fieldname]\n    return (\n      <>\n      <td>\n        <textarea value={this.state.content[fieldname]} \n          onChange={updaters.default}\n          cols=\"40\"\n          rows=\"4\"\n        />\n      </td>\n      <td>\n        <textarea value={overrides[fieldname] || ''} \n          onChange={updaters[this.state.options.variant]}\n          cols=\"40\"\n          rows=\"4\"\n          placeholder={this.state.content[fieldname]}\n        />\n      </td>\n      </>\n    )\n  }\n\n\n  renderDiagram() {\n    return null\n  }\n\n  renderVariantSelect() {\n    return (\n      <>\n        Variant:\n        <select value={this.state.options.variant}\n          onChange={this.updateVariant}\n        >\n          {this.state.options.variants.map(v => (\n            <option key={v} value={v}>{variantNames[v]}</option>\n          ))}\n        </select>\n      </>\n    )\n  }\n\n  renderEditor() {\n    return (\n      <div>\n        <table>\n          <tbody>\n            <tr>\n              <td></td>\n              <td style={{textAlign: 'center'}}>Default</td>\n              <td style={{textAlign: 'center'}}>{this.renderVariantSelect()}</td>\n            </tr>\n            <tr>\n              <td>Instructions</td>\n              {this.renderInstructionsOrQuestionInputs('instructions')}\n            </tr>\n            <tr>\n              <td>Question</td>\n              {this.renderInstructionsOrQuestionInputs('question')}\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n\n\n  renderPreview() {\n    const json = this.stateToJson().slice(1)\n    return (\n      <>\n      <div className='document preview-area' style={{margin: '3mm 1mm'}}>\n        <RenderJson json={['Question', ...json]} />\n      </div>\n      <div className='document preview-area' style={{margin: '3mm 1mm'}}>\n        <RenderJson json={['AnswerKey', ...json]} />\n      </div>\n      </>\n    )\n  }\n\n}","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\nimport EditPageHeader from './EditPageHeader'\nimport EditQuestion from './EditQuestion'\nimport EditText from './EditText'\nimport { parseJson } from '..'\nimport { connect } from 'react-redux'\nimport { updateElement, deleteElement } from '../../actions/document'\n\nconst renderTypes = ({\n  NumberedQuestion: EditQuestion,\n  Question: EditQuestion,\n  PageHeader: EditPageHeader,\n  Text: EditText,\n})\n\nconst EditJson = props => {\n  const { type } = parseJson(props.json)\n  const RenderType = renderTypes[type]\n  if (RenderType) {\n    return <RenderType {...props}/>\n  }\n  return <DefaultEditor {...props}/>\n}\n\nconst mapDispatchToProps = dispatch => ({\n  onUpdateElement: (id, elem) => dispatch(updateElement(id, elem)),\n  onDeleteElement: (id) => dispatch(deleteElement(id)),\n})\n\nexport default connect(null, mapDispatchToProps)(EditJson)","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\nimport { RenderJson, parseJson } from '..'\n\n\nexport default class EditText extends DefaultEditor {\n\n  updateChild(i, val) {\n    const children = [...this.state.children]\n    children[i] = val\n    this.setState({ children })\n  }\n\n  renderChildEditor(i) {\n    return (\n      <textarea key={i} value={this.state.children[i]}\n        onChange={evt => this.updateChild(i, evt.target.value)}\n        rows='12'\n        cols='80'\n        style={{width: 'fit-content'}}\n      />\n    )\n  }\n\n  renderEditor() {\n    return (\n      <>\n        {this.state.children.map((el, i) => this.renderChildEditor(i))}\n      </>\n    )\n  }\n}","import { parseJson, renderJson } from './renderJson'\nimport EditJson from './editJson'\n\nconst RenderJson = props => {\n  return renderJson(props.json)\n}\n\nexport {\n  parseJson, \n  renderJson, \n  RenderJson,\n  EditJson,\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport ReactModal from 'react-modal'\nimport { RenderJson, EditJson, parseJson } from '../../renderJson'\n\n\n\nclass TopLevelElement extends React.Component {\n  static propTypes = {\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n    json: PropTypes.array.isRequired,\n    canEdit: PropTypes.bool.isRequired,\n  }\n\n  static defaultProps = {\n    canEdit: false,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      modal: 'none',\n    }\n  }\n\n  openEditor = () => this.setState({modal: 'edit'})\n  closeModal = () => this.setState({modal: 'none'})\n\n  render() {\n    const divprops = {}\n    const classNames = []\n    if (this.props.canEdit) {\n      classNames.push('editable')\n      divprops.onDoubleClick = this.openEditor\n    }\n    if (this.props.columns) {\n      const elemprops = parseJson(this.props.json).props\n      if (elemprops.options && elemprops.options.singleColumn) {\n        classNames.push('single-column')\n      }\n    }\n\n    if (classNames.length) {\n      divprops.className = classNames.join(' ')\n    }\n    return (\n      <>\n      <div {...divprops}>\n        <RenderJson json={this.props.json} />\n      </div>\n      <ReactModal isOpen={this.state.modal === 'edit'}\n        onRequestClose={this.closeModal}\n      >\n        <EditJson\n          id={this.props.id}\n          json={this.props.json}\n          onRequestClose={this.closeModal}\n        />\n      </ReactModal>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  canEdit: state.config.allowEditing,\n  columns: state.style.columns,\n})\n//const mapDispatchToProps = dispatch => ({\n//})\n\nexport default connect(mapStateToProps)(TopLevelElement)","// Sizes from papercss, measurements in mm\n\nexport const portrait = {\n  A3: { width: 297, height: 419 },\n  A4: { width: 210, height: 296 },\n  A5: { width: 148, height: 209 },\n  letter: { width: 216, height: 279 },\n  //letter: { width: 216, height: 130 },\n  legal: { width: 216, height: 356 },\n}\n\nexport const landscape = {\n  A3: { width: 420, height: 296 },\n  A4: { width: 297, height: 209 },\n  A5: { width: 210, height: 147 },\n  letter: { width: 280, height: 215 },\n  legal: { width: 357, height: 215 },\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { addPageBreakBefore } from '../../actions/document'\nimport TopLevelElement from './TopLevelElement'\nimport { portrait, landscape } from './pagesize'\n\n\n\nclass MeasuredPage extends React.Component {\n  static propTypes = {\n    headerID: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    footerID: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    contentIDs: PropTypes.array.isRequired,\n    content: PropTypes.object.isRequired,\n    pageSize: PropTypes.string.isRequired,\n    pageOrientation: PropTypes.string.isRequired,\n    pageMargin: PropTypes.string.isRequired,\n    addPageBreakBefore: PropTypes.func.isRequired,\n    pageNumber: PropTypes.number,\n  }\n\n  static defaultProps = {\n    contentIDs: [],\n    pageSize: 'letter',\n    pageOrientation: 'portrait',\n    pageMargin: '10mm 10mm 10mm 10mm',\n  }\n\n  constructor(props) {\n    super(props)\n    this.inner = React.createRef()\n    this.outer = React.createRef()\n    this.state = {overflows: false}\n  }\n\n  innerH = () => this.inner.current.clientHeight\n  outerH = () => this.outer.current.clientHeight\n  overflows = () => this.innerH() > this.outerH()\n\n  componentDidUpdate() {\n    const oldstate = this.state.overflows\n    const newstate = this.overflows()\n    if (oldstate !== newstate) {\n      if (newstate) {\n        this.onOverflow()\n      }\n      this.setState({overflows: newstate})\n      this.forceUpdate()\n    }\n  }\n\n  onOverflow() {\n    this.props.addPageBreakBefore(+this.props.contentIDs[this.props.contentIDs.length-1].split('.')[1])\n  }\n\n  getPageSize()  {\n    if (this.props.pageOrientation === 'landscape') {\n      return landscape[this.props.pageSize]\n    } else {\n      return portrait[this.props.pageSize]\n    }\n  }\n\n  getOuterStyle() {\n    const {width, height} = this.getPageSize()\n    return {width: `${width}mm`, height: `${height}mm`}\n  }\n\n  getInnerStyle() {\n    return {\n      height: 'fit-content',\n      margin: '0',\n      padding: this.props.pageMargin,\n    }\n  }\n\n  getHeaderID() {\n    if (this.props.pageNumber in this.props.headers) {\n      return this.props.pageNumber\n    }\n    return 0\n  }\n\n  render() {\n    let outerclassname = (\n      this.state.overflows \n      ? 'page-outer page-overflowing' \n      : 'page-outer'\n    )\n\n    const outerstyle = this.getOuterStyle()\n    const innerstyle = this.getInnerStyle()\n    const headerID = this.getHeaderID()\n\n    return (\n      <div className={outerclassname} ref={this.outer} style={outerstyle}>\n        <div className='page-inner' ref={this.inner} style={innerstyle}>\n          <TopLevelElement key={headerID}\n            id={`header.${headerID}`}\n            json={this.props.headers[headerID]}\n          />\n          <div className='page-content'>\n            {this.props.contentIDs.map((id) => {\n              const contentID = id.split('.')[1]\n              const json = this.props.content[+contentID]\n              return (\n                <TopLevelElement key={id}\n                  json={json}\n                  id={id}\n                />\n              )\n            })}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  headers: state.document.headers,\n  footers: state.document.footers,\n  content: state.document.content,\n  pageSize: state.style.pageSize,\n  pageOrientation: state.style.pageOrientation,\n  pageMargin: state.style.pageMargin,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  addPageBreakBefore: (id) => dispatch(addPageBreakBefore(id)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MeasuredPage)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { portrait, landscape } from './pagesize'\n\nconst Page = props => {\n  const {width, height} = props.orientation === 'landscape'\n    ? landscape[props.size]\n    : portrait[props.size]\n  const outerStyle = {\n    width: `${width}mm`, \n    height: `${height}mm`,\n    padding: '0',\n  }\n  const innerStyle = {\n    margin: '0',\n    height: 'fit-content',\n    padding: props.margin,\n  }\n\n  return (\n    <div className='page-outer' style={outerStyle}>\n      <div className='page-inner' style={innerStyle}>\n        {props.children}\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  size: state.style.pageSize,\n  orientation: state.style.pageOrientation,\n  margin: state.style.pageMargin,\n})\n\nexport default connect(mapStateToProps)(Page)","import React from 'react'\nimport { connect } from 'react-redux'\nimport Page from './Page'\nimport { RenderJson } from '../../renderJson'\n\n\nconst AnswerKey = (props) => {\n  return (\n    <Page>\n      <h3>Answer Key</h3>\n      <div className='answerkey'>\n        {props.contentIDs.map(id => {\n          const element = props.content[id]\n          if (element[0] === 'NumberedQuestion') {\n            return (\n              <div key={`answer-${id}`} className='answerkey-item'>\n                <RenderJson json={['AnswerKey', ...element.slice(1)]} />\n              </div>\n            )\n          } else {\n            return null\n          }\n        })}\n      </div>\n    </Page>\n  )\n}\n\nconst mapStateToProps = state => ({\n  contentIDs: state.document.order,\n  content: state.document.content\n})\n\nexport default connect(mapStateToProps)(AnswerKey)","const Random = require('random-js')\n\nexport class Randomizer {\n  constructor(seed=null) {\n    this.seed = seed\n    if (seed !== null) {\n      this.engine = Random.MersenneTwister19937.seed(seed)\n    } else {\n      this.engine = Random.MersenneTwister19937.autoSeed()\n    }\n  }\n\n  reset() {\n    if (this.seed !== null) {\n      this.engine.seed(this.seed);\n    } else {\n      this.engine.autoSeed();\n    }\n  }\n\n  randint(min, max) {\n    return Random.integer(min, max)(this.engine);\n  }\n\n  real(min, max, inclusive=false) {\n    return Random.real(min, max, inclusive)(this.engine);\n  }\n\n  random(max=1.0) {\n    return this.real(0, max, false);\n  }\n\n  shuffle(array, first) {\n    if (first !== undefined) {\n      let shuffled = Random.shuffle(this.engine, array.slice(1));\n      return [...shuffled.slice(0,first), array[0], ...shuffled.slice(first)];\n    } else {\n      return Random.shuffle(this.engine, array);\n    }\n  }\n\n  shuffleRange(start, end) {\n    let range = [];\n    for (let i = start; i <= end; i++) range.push(i);\n    return this.shuffle(range);\n  }\n\n  bool() {\n    return Random.pick(this.engine, [true, false]);\n  }\n\n  choice(array) {\n    return Random.pick(this.engine, array);\n  }\n\n  sample(pop, size) {\n    return Random.sample(this.engine, pop, size);\n  }\n\n  sampleRange(start, end, size) {\n    let range = [];\n    for (let i = start; i <= end; i++) range.push(i);\n    return this.sample(range, size);\n  }\n\n  poprandom(array) {\n    const i = this.randint(0,array.length-1);\n    return array.splice(i,1)[0];\n  }\n}\n\n","//import math from 'mathjs'\nimport { Randomizer } from './tools/random_randomjs'\nimport { defaultsDeep } from 'lodash'\n\nlet randomSeedGenerator = new Randomizer()\n\nclass QGen {\n  constructor(props={}) {\n    this.params = props.params || {}\n    //this.randomSeed = props.randomSeed || math.randomInt(0, math.pow(2,32))\n    this.randomSeed = props.randomSeed || randomSeedGenerator.randint(0, Math.pow(2, 32)-1)\n    this.random = new Randomizer(this.randomSeed)\n  }\n\n  static register() {\n    let result = {name: this.name}\n    return {...result, ...this.info}\n  }\n\n  getOptions() {\n    return this.constructor.options\n  }\n\n  _specialCaseValues(k, v) {\n    return v\n  }\n\n  _specialCaseKeys(k, v) {\n    //if (k === 'answer') return '_answer'\n    return k\n  }\n\n  setRandomSeed(seed) {\n    this.randomizer.seed(seed)\n  }\n\n  _getParams() {\n    let result = ({})\n    const defaults = this.constructor.defaultParams || {}\n    for (const k in this.constructor.params) {\n      if (this.params[k] !== undefined) {\n        result[k] = this.params[k]\n      } else if (defaults[k] !== undefined) {\n        result[k] = defaults[k]\n      }\n    }\n    return result\n  }\n\n  output() {\n    const out = this.generate(this._getParams())\n    let content = {}\n    for (const k in out) {\n      content[this._specialCaseKeys(k)] = this._specialCaseValues(k, out[k])\n    }\n    return [\n      'NumberedQuestion',\n      { content, options: this.getOptions() },\n    ]\n  }\n}\n\nexport default QGen","\n\nconst test = function(f, x, y) {\n  const r = f({x: x, y: y})\n  if (r > 0) { return 'gt' }\n  if (r < 0) { return 'lt'}\n  return 'eq'\n}\n\nconst contourPresent = function(f, x, y, d) {\n  const p = d / 30\n  let q, r, s, t\n  try {\n    q = test(f, x, y)\n  } catch(e) {\n    q = test(f, x+p, y+p)\n  }\n  \n  try {\n    r = test(f, x+d, y)\n  } catch(e) {\n    r = test(f, x+d-p, y+p)\n  }\n  if (r !== q) return true\n\n  try {\n    s = test(f, x+d, y+d)\n  } catch(e) {\n    s = test(f, x+d-p, y+d-p)\n  }\n  if (s !== q) return true\n\n  try {\n    t = test(f, x, y+d)\n  } catch(e) {\n    t = test(f, x+p, y+d-p)\n  }\n  if (t !== q) return true\n\n  return false\n}\n\n\nconst subdivide = function(f, x, y, d, depth, searchDepth) {\n  const hd = d / 2\n  const props = [hd, depth-1, searchDepth-1]\n  return [\n    ...createTree(f, x, y, ...props),\n    ...createTree(f, x+hd, y, ...props),\n    ...createTree(f, x+hd, y+hd, ...props),\n    ...createTree(f, x, y+hd, ...props)\n  ]\n}\n\nconst createTree = function(f, x, y, d, depth, searchDepth) {\n  if (searchDepth > 0) {\n    return subdivide(f, x, y, d, depth, searchDepth)\n  } else {\n    if (contourPresent(f, x, y, d)) {\n      if (depth > 0) {\n        return subdivide(f, x, y, d, depth, searchDepth)\n      } else {\n        return [{x: x+d/2, y: y+d/2}]\n      }\n    } else {\n      return []\n    }\n  }\n}\n\n\nclass QuadTree {\n\tconstructor({left, right, x=-10, y=-10, d=20, depth=10, searchDepth=6}) {\n    this.f = p => left(p) - right(p)\n\t\tthis.x = x\n\t\tthis.y = y\n\t\tthis.d = d\n\t\tthis.depth = depth\n\t\tthis.searchDepth = searchDepth\n\t}\n\n\tcalcPoints() {\n\t\treturn createTree(this.f, this.x, this.y, this.d, this.depth, this.searchDepth)\n\t}\n}\n\nexport {\n  QuadTree,\n  createTree,\n}","import QGen from './QGen'\nimport { createTree } from './tools/QuadTree'\n\n\nexport class RationalPlot extends QGen {\n  static info = {\n    name: 'RationalFunction',\n    description: 'test vectorgraphic RationalFunction'\n  }\n\n  generate(params) {\n    const rd = this.random\n\n    const inv = rd.choice([true, false])\n\n    const numRoots = rd.randint(0,2)\n    const numAsymptotes = rd.randint(1,3)\n    const numHoles = rd.randint(0,2)\n    const total = numRoots + numAsymptotes + numHoles\n    const values = rd.sampleRange(-9,9,total)\n    const roots = values.slice(0,numRoots)\n    const asymptotes = values.slice(numRoots, numRoots+numAsymptotes)\n    const holes = values.slice(numRoots+numAsymptotes)\n    const domain = [-11,11]\n\n    const [x, y] = inv ? ['y', 'x'] : ['x', 'y']\n\n    let num = ''\n    let den = ''\n\n    for (const r of [...roots, ...holes].sort((a,b) => b-a)) {\n      if (r === 0) {\n        num = `${x}${num}`\n      } else if (r > 0) {\n        num = `${num}(${x}-${r})`\n      } else {\n        num = `${num}(${x}+${-r})`\n      }\n    }\n\n    for (const r of [...asymptotes, ...holes].sort((a,b) => b-a)) {\n      if (r === 0) {\n        den = `${x}${den}`\n      } else if (r > 0) {\n        den = `${den}(${x}-${r})`\n      } else {\n        den = `${den}(${x}+${-r})`\n      }\n    }\n\n    if (num === '') num = '1'\n    if (den === '') den = '1'\n\n    const transform = inv ? 'invertXY' : 'none'\n\n    const graph = [\n      'CoordinatePlane',\n      {span: [-10,-10,10,10], height: '2in'},\n      [\n        'Transform', { type: transform },\n        [\n          'RationalFunction',\n          {roots, holes, asymptotes, domain}\n        ]\n      ]\n    ]\n\n    return {\n      question: `The graph of $$ ${y} = \\\\displaystyle\\\\frac{${num}}{${den}} $$`,\n      diagram: graph,\n    }\n\n\n  }\n}\n\nexport class PolynomialPlot extends QGen {\n  static info = {\n    name: 'PolynomialFunction',\n    description: 'test vectorgraphic PolynomialFunction'\n  }\n\n  generate(params) {\n    const rd = this.random\n\n    const deg = rd.randint(2,7)\n    const inv = rd.choice([true, false])\n    let coeffs = rd.sample([-5,-4,-3,-2,-1,0,1,2,3,4,5], deg+1)\n    const denom = rd.randint(2, 21)\n    \n    if (coeffs[coeffs.length-1] === 0) {\n      coeffs = coeffs.slice(0,-1)\n    }\n    const [v, w] = inv ? ['y', 'x'] : ['x', 'y']\n    let tex = ''\n    for (let i = coeffs.length-1; i >= 0; i--) {\n      const c = coeffs[i]\n      const x = i === 0 ? '' : `${v}^{${i}}`\n      if (c > 0) {\n        if (i < coeffs.length-1) tex += '+';\n        if (c !== 1 || i === 0) tex += c;\n        tex += x\n      } else if (c < 0) {\n        if (c !== -1 || i === 0) {\n          tex += c\n        } else {\n          tex += '-'\n        }\n        tex += x\n      }\n    }\n\n    const transform = inv ? 'invertXY' : 'none'\n\n    const graph = [\n      'CoordinatePlane', {span: [-10,-10,10,10], width: '2in'},\n      [\n        'Transform', { type: transform },\n        [\n          'PolynomialFunction',\n          {coefficients: coeffs.map(c => c/denom), domain: [-11,11]}\n        ]\n      ]\n    ]\n\n    const question = `The graph of $$${w} = \\\\displaystyle\\\\frac{1}{${denom}}(${tex})$$`\n\n    return {\n      question: question,\n      diagram: graph,\n    }\n  }\n}\n\nexport class PlotStyling extends QGen {\n  static info = {\n    name: 'Plot Style',\n    description: 'test applying custom styling to vectorgraphic'\n  }\n\n  generate(params) {\n    const x = t => 9*Math.sin(t)\n    const y = t => 9*Math.sin(1.17*t)\n    const step = 0.1\n    let path1 = []\n    let path2 = []\n    let path3 = []\n    let path4 = []\n\n    let t = -36\n\n    while (t <= -18) {\n      path1.push([x(t), y(t)])\n      t += step\n    }\n    path1.push([x(t), y(t)])\n\n    while (t <= 0) {\n      path2.push([x(t), y(t)])\n      t += step\n    }\n    path2.push([x(t), y(t)])\n\n    while (t <= 18) {\n      path3.push([x(t), y(t)])\n      t += step\n    }\n    path3.push([x(t), y(t)])\n\n\n    while (t <= 36) {\n      path4.push([x(t), y(t)])\n      t += step\n    }\n    path4.push([x(t), y(t)])\n\n\n    return {\n      answer: {prompt: null},\n      question: 'The graph of $$(x,y) = (9\\\\sin(t), 9\\\\cos(1.17t))$$ for $$-36 \\\\leq t \\\\leq 36$$:',\n      diagram: [\n        'CoordinatePlane', { span: [-10,-10,10,10], height: '3in'},\n        [\n          'Style', {color: 'hsl(340,70%,60%)'},\n          ['Path', {points: path4}],\n        ],\n        [\n          'Style', {color: 'hsl(30,90%,50%)'},\n          ['Path', {points: path3}],\n        ],\n        [\n          'Style', {color: 'hsl(80,90%,40%)'},\n          ['Path', {points: path2}],\n        ],\n        [\n          'Style', {color: 'hsl(170,90%,40%)'},\n          ['Path', {points: path1}],\n        ]\n      ]\n    }\n  }\n}\n\nexport class FontTest extends QGen {\n  static info = {\n    name: 'Font Test',\n    description: 'how do 1, l, I, J look?',\n  }\n\n  generate(params) {\n    const rd = this.random\n    const b = 1\n    const [Ix, Iy, Jx, Jy] = rd.sampleRange(2,8,4)\n    const diagram1 = [\n      'CoordinatePlane', {span: [-2,-2,10,10], height: '1.4in'},\n      ['Point', {x: Ix, y: Iy}],\n      ['Point', {x: Jx, y: Jy}],\n      ['Overlay', {x: Ix, y: Iy, anchor: 'NW'}, '_I_'],\n      ['Overlay', {x: Jx, y: Jy, anchor: 'NW'}, '_J_'],\n    ]\n\n    const wrongs = []\n    for (let i = 0; i < 4; i++) {\n      const [rise, run] = rd.sample([2,3,4,5,6,7,8,9],2)\n      const inter = rd.randint(1,10)\n      const s = rd.choice(['+', '-'])\n      wrongs.push(`$$y = \\\\frac{${rise}}{${run}}x ${s} ${inter}$$`)\n    }\n\n    const choices = wrongs\n\n    return {\n      instructions: [\n        'Text',\n        '**Remember**, point-slope form:',\n        '$$y - y_1 = m(x - x_1)$$,',\n        'and $$m = \\\\frac{\\\\Delta y}{\\\\Delta x}$$.',\n      ],\n      question: [\n        'Text',\n        `Given that line _l_ has a _y-intercept_ of ${b} and`,\n        '_l_ $$\\\\perp$$ _IJ_, determine the equation in',\n        '***slope-intercept*** form (_y = mx + b_) for _l_.',\n      ],\n      diagram: diagram1,\n      answer: {\n        prompt: ['AnswerBlanks', {width: '2in'}, 'equation: _y =_'],\n        //choices: choices,\n      }\n    }\n  }\n}\n\n\nexport class FontDisplay extends QGen {\n  static info = {\n    name: \"Font Sample\"\n  }\n\n  generate(params) {\n    \n    const text = 'the quick brown fox jumps over the lazy dog 1234567890'\n\n    let lines = []\n\n    for (const chars of [text, text.toUpperCase()]) {\n      for (const x of ['', '_', '__', '___']) {\n        lines.push(`${x}${chars}${x}`)\n      }\n    }\n\n    lines.push('$$\\\\text{' + text + '}$$ (LaTeX)')\n    lines.push('$$\\\\text{\\\\textit{' + text + '}}$$ (LaTeX)')\n    lines.push('$$\\\\text{' + text.toUpperCase() + '}$$ (LaTeX)')\n    lines.push('$$\\\\text{\\\\textit{' + text.toUpperCase() + '}}$$ (LaTeX)')\n\n    return {\n      question: lines.join('  \\n'),\n    }\n  }\n}\n\nexport class QuadTreePlotTest extends QGen {\n  static info = {\n    name: 'QuadTree Plot Test',\n    description: 'Test alternate graphing algorithm'\n  }\n\n  generate(params) {\n    const f1 = ({x, y}) => Math.pow(Math.sin(x*x), 1)\n    const f2 = ({x, y}) => Math.pow(Math.cos(y*y), 1)\n    //const f3 = ({x, y}) => Math.pow(Math.sin(y*y), 1)\n    //const f4 = ({x, y}) => Math.pow(Math.cos(x*x), 1)\n\n    \n    let points = createTree(pt => f1(pt) - f2(pt), -5, -5, 10, 8, 6)\n\n    const graph = [\n      'CoordinatePlane',{span: [-5,-5,5,5], height: '3in'},\n      ['ScatterPlot', { points }]\n   ]\n\n\n\n    return {\n      question: \"The graph of $$\\\\sin(x^2) = \\\\cos(y^2)$$:\",\n      diagram: graph,\n    }\n  }\n}\n\nclass MdTest extends QGen {\n\n  static info = {\n    name: 'Formatting Test',\n    description: 'Test markdown/latex'\n  }\n\n  generate(params) {\n\n    const mdtest = `# Heading\n\nRegular, _Italic_, __Bold__, ___Both___, ~sub~script, ^super^script,  \\`monospaced\\`,  \narrows: --> <-- ==> <== <--> <==>\n\nThe formula $$x = \\\\frac{-b \\\\pm \\\\sqrt{b^2 - 4ac}}{2a}$$\nis used to solve quadratic equations.\n\nThe Collatz Function:\n$$$f(n) = \\\\left\\\\{ \\\\begin{array}{rl}\n  n \\\\div 2 & \\\\text{ if $n$ is even} \\\\\\\\\n  3n+1 & \\\\text{ if $n$ is odd}\n\\\\end{array}\\\\right.$$$\n\n- Thing A\n  - Thing A.1\n  - Thing A.2\n- Thing B\n\ninput ($$x$$) | output ($$y$$)\n:-: | :-:\n-3  | 3\n-2  | -2 \n-1  | -5\n 0  | -6\n\n> All summations have a beginning, all effect has a  \n> story, all kindness begins with the sown seed.  \n> Thought buds toward radiance. The gospel of  \n> light is the crossroads of -- indolence, or action.  \n> \n> Be ignited, or be gone.\n\n[Hyperlink](https://npr.org)\n\n${'```'}python\ndef gcd(a, b):\n    if a == b or b == 0:\n        return a\n    elif a == 0:\n        return b\n    else:\n      return gcd(a, a-b) if a > b else gcd(b, b-a)\n${'```'}\n`\n\n    return ({\n      question: {\n        type: 'markdown',\n        data: mdtest,\n      },\n    })\n  }\n\n}\n\n\n\nexport class VegaLite extends QGen {\n  static info = {\n    name: 'Vega Lite',\n    description: 'test vega-lite render type'\n  }\n\n  generate(params) {\n    let points = []\n\n    const f = x => ({x: x, y: 6*x - x*x, function: 'f'})\n    const g = x => ({x: x, y: 5*Math.sin(x), function: 'g'})\n\n    let t = 0\n    while (t <= 7) {\n      points.push(f(t))\n      points.push(g(t))\n      t += 0.2\n    }\n\n    const diagram2 = {\n      config: {\n        line: {\n          color: 'red'\n        }\n      },\n      data: { values: points },\n      mark: {\n        type: 'line', \n        interpolate: 'monotone',\n      },\n      \"encoding\": {\n        x: {\n          field: 'x', \n          type: 'quantitative',\n        },\n        y: {\n          field: 'y', \n          type: 'quantitative',\n        },\n        color: {\n          field: 'function',\n          type: 'nominal',\n          scale: {\n            domain: ['f', 'g'], \n            range: ['var(--vg-function-1-color)', 'var(--vg-function-2-color)'],\n          },\n        }\n      },\n    }\n\n    return {\n      instructions: 'The graphs of $$f(x) = - x^2 + 6x$$ and $$g(x) = 5\\\\sin(x)$$',\n      diagram: ['VegaLite', diagram2],\n    }\n  }\n}\n\nclass VegaTest extends QGen {\n  static info = {\n    name: 'Vega Test',\n    description: 'Test Vega rendering'\n  }\n\n  generate(params) {\n    return {\n      answer: null,\n      instructions: \"Rendered with Vega:\",\n      diagram: ['Vega', {\n          \"$schema\": \"https://vega.github.io/schema/vega/v4.json\",\n          \"width\": 500,\n          \"height\": 200,\n          \"padding\": 5,\n        \n          \"signals\": [\n            {\n              \"name\": \"interpolate\",\n              \"value\": \"linear\",\n              \"bind\": {\n                \"input\": \"select\",\n                \"options\": [\n                  \"basis\",\n                  \"cardinal\",\n                  \"catmull-rom\",\n                  \"linear\",\n                  \"monotone\",\n                  \"natural\",\n                  \"step\",\n                  \"step-after\",\n                  \"step-before\"\n                ]\n              }\n            }\n          ],\n        \n          \"data\": [\n            {\n              \"name\": \"table\",\n              \"values\": [\n                {\"x\": 0, \"y\": 28, \"c\":0}, {\"x\": 0, \"y\": 20, \"c\":1},\n                {\"x\": 1, \"y\": 43, \"c\":0}, {\"x\": 1, \"y\": 35, \"c\":1},\n                {\"x\": 2, \"y\": 81, \"c\":0}, {\"x\": 2, \"y\": 10, \"c\":1},\n                {\"x\": 3, \"y\": 19, \"c\":0}, {\"x\": 3, \"y\": 15, \"c\":1},\n                {\"x\": 4, \"y\": 52, \"c\":0}, {\"x\": 4, \"y\": 48, \"c\":1},\n                {\"x\": 5, \"y\": 24, \"c\":0}, {\"x\": 5, \"y\": 28, \"c\":1},\n                {\"x\": 6, \"y\": 87, \"c\":0}, {\"x\": 6, \"y\": 66, \"c\":1},\n                {\"x\": 7, \"y\": 17, \"c\":0}, {\"x\": 7, \"y\": 27, \"c\":1},\n                {\"x\": 8, \"y\": 68, \"c\":0}, {\"x\": 8, \"y\": 16, \"c\":1},\n                {\"x\": 9, \"y\": 49, \"c\":0}, {\"x\": 9, \"y\": 25, \"c\":1}\n              ]\n            }\n          ],\n        \n          \"scales\": [\n            {\n              \"name\": \"x\",\n              \"type\": \"point\",\n              \"range\": \"width\",\n              \"domain\": {\"data\": \"table\", \"field\": \"x\"}\n            },\n            {\n              \"name\": \"y\",\n              \"type\": \"linear\",\n              \"range\": \"height\",\n              \"nice\": true,\n              \"zero\": true,\n              \"domain\": {\"data\": \"table\", \"field\": \"y\"}\n            },\n            {\n              \"name\": \"color\",\n              \"type\": \"ordinal\",\n              \"range\": \"category\",\n              \"domain\": {\"data\": \"table\", \"field\": \"c\"}\n            }\n          ],\n        \n          \"axes\": [\n            {\"orient\": \"bottom\", \"scale\": \"x\", 'titleFont': 'Zilla Slab'},\n            {\"orient\": \"left\", \"scale\": \"y\"}\n          ],\n        \n          \"marks\": [\n            {\n              \"type\": \"group\",\n              \"from\": {\n                \"facet\": {\n                  \"name\": \"series\",\n                  \"data\": \"table\",\n                  \"groupby\": \"c\"\n                }\n              },\n              \"marks\": [\n                {\n                  \"type\": \"line\",\n                  \"from\": {\"data\": \"series\"},\n                  \"encode\": {\n                    \"enter\": {\n                      \"x\": {\"scale\": \"x\", \"field\": \"x\"},\n                      \"y\": {\"scale\": \"y\", \"field\": \"y\"},\n                      \"stroke\": {\"scale\": \"color\", \"field\": \"c\"},\n                      \"strokeWidth\": {\"value\": 2}\n                    },\n                    \"update\": {\n                      \"interpolate\": {\"signal\": \"interpolate\"},\n                      \"fillOpacity\": {\"value\": 1}\n                    },\n                    \"hover\": {\n                      \"fillOpacity\": {\"value\": 0.5}\n                    }\n                  }\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    }\n  }\n}\n","import React from 'react'\nimport { RenderJson } from '../../../renderJson'\nimport { FontTest as Generator } from '../../../questions/generatortests'\n\n\n\n\n\nconst FontTest = props => {\n  const { fontFamily, fontSize } = props\n  //const json = new Generator().output()\n  //delete question[1].content.diagram\n  //delete question[1].content.answer\n  const json = ['Markdown',\n          `${fontFamily}-${fontSize}:`,\n          'Given that line _l_ has a _y-intercept_ of 1 and _l_ $$\\\\perp$$ _JL_,',\n          'determine the equation in ___slope-intercept___ form for _l_.  ',\n          '__Remember__, you can use _point-slope_ form $$y - y_1 = m(x - x_1)$$ to',\n          'come up with the equation.'\n        ]\n        /*\n        diagram: [\n          'CoordinatePlane', {span: \"-10,-5 10,5\", height: '.8in'},\n          ['Point', {x: -6, y: 2}],\n          ['Point', {x: 4, y: -3}],\n          ['Overlay', {x: -6, y: 2, anchor: 'E', displacement: '1mm'}, '_J_'],\n          ['Overlay', {x: 4, y: -3, anchor: 'W', displacement: '1mm'}, '_L_'],\n        ],\n        answer: {\n          choices: [\n            '_y = 2x + 1_',\n            '_y = 3x - 67_',\n            '_y = 4x + 89_',\n            '_y = 5x + 10_',\n          ],\n          //listDirection: 'horizontal',\n        },\n        */\n\n  return (\n    <>\n    <div style={{\n      '--doc-font-family': fontFamily, \n      '--doc-font-size': fontSize, \n      fontFamily, \n      fontSize,\n      width: '80%',\n    }}>\n      <RenderJson json={json}/>\n    </div>\n    </>\n  )\n}\n\nexport default FontTest","import React from 'react'\n//import Page from './Page'\nimport MeasuredPage from './MeasuredPage'\nimport AnswerKey from './AnswerKey'\nimport { connect } from 'react-redux'\n\n\nimport Scratch from './testing/scratchpage'\n\n\nconst Document = (props) => {\n  const len = props.contentIDs.length - props.hidden\n  const visibleIDs = props.contentIDs.slice(0,len)\n  let prev = 0\n  let slices = []\n  for (const i of props.pagebreaks) {\n    if (i < len) {\n      slices.push([prev, i])\n      prev = i\n    }\n  }\n  slices.push([prev])\n  const pages = slices.map(s => visibleIDs.slice(...s))\n  const className = props.debugView ? 'document debug-view' : 'document'\n\n  //return <div className={className}><Scratch/></div>\n\n  return (\n    <div className={className}>\n      {(\n        pages.length > 0 \n        ? pages.map((ids,i) => (\n          <MeasuredPage key={`page-${i+1}`} \n            pageNumber={i+1}\n            contentIDs={ids.map(i => `content.${i}`)}\n          />\n        )) : null\n      )}\n      {props.showAnswerKey ? <AnswerKey /> : null}\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  contentIDs: state.document.order,\n  pagebreaks: state.document.pagebreaks,\n  showAnswerKey: state.config.showAnswerKey,\n  style: state.style,\n  hidden: state.config.numberHidden,\n  debugView: state.config.debugView,\n})\n\nexport default connect(mapStateToProps)(Document)","import React from 'react'\nimport Page from '../Page'\nimport { renderJson, RenderJson } from '../../../renderJson'\nimport { Math, DisplayMath } from '../../../renderJson/renderTypes/Math'\nimport Text from '../../../renderJson/renderTypes/Text'\nimport {\n  CoordinatePlane, Label, Path, Style, Grid\n} from '../../../renderJson/renderTypes/VectorGraphics'\nimport { includes } from 'lodash'\nimport FontTest from './FontTest'\n\nimport styles from './scratch.module.css'\n\n\nconst jsx = (\n  <svg viewBox=\"-6 -11 17 17\" height=\"2in\" xmlns=\"http://www/w3/org/2000/svg\">\n    <g transform=\"scale(1,-1)\">\n      <g style={{stroke: 'rgba(0,0,200,0.5)'}}>\n        <Grid span={[-5,-5,10,10]} />\n      </g>\n      <circle cx=\"2\" cy=\"2\" r=\"0.2\"/>\n      <foreignObject className={styles.FO} x=\"2\" y=\"2\" width=\"1000\" height=\"1000\">\n        <div className={styles.Div1}>\n          <div className={styles.Div2} anchor=\"NW\">\n            <span>Anchor NW</span>\n          </div>\n        </div>\n        <div className={styles.Div1}>\n          <div className={styles.Div2} anchor=\"NE\">\n            <span>Anchor NE</span>\n          </div>\n        </div>\n        <div className={styles.Div1}>\n          <div className={styles.Div2} anchor=\"SW\">\n            <span>Anchor SW</span>\n          </div>\n        </div>\n        <div className={styles.Div1}>\n          <div className={styles.Div2} anchor=\"SE\">\n            <span>Anchor SE</span>\n          </div>\n        </div>\n      </foreignObject>\n    </g>\n  </svg>\n)\n\nconst [x, y] = [2.5,1.5]\n\nconst angles = [0, 45, 90, 135, 180]\n\nconst json = [\n  [\n    'CoordinatePlane', {span: [-2,-2,10,10], width: '2in', },\n    ['Path', {points: '1,1 7,1', markers: '-->'}],\n    ['Path', {points: '1,1 5,5', markers: '-->'}],\n    ['Point', {x: 1, y: 1}],\n    ['AngleMark', {x: 1, y: 1, radius: 2, start: 0, end: 315}],\n  ],\n]\n\n\n\n\nconst Scratch = () => {\n  const torender = []\n  for (const fontSize of ['8pt', '9pt', '10pt']) {\n    for (const fontFamily of ['katex_main', 'CMU Serif WOFF', 'CMU Serif TTF', \n    'CMU Concrete WOFF', 'CMU Concrete TTF']) {\n      torender.push({fontSize, fontFamily})\n    }\n  }\n\n  return (\n    <Page>\n      <div className=\"page-content\">\n        {torender.map(p => <FontTest key={p.fontFamily + p.fontSize} {...p}/>)}      \n      </div>\n    </Page>\n  )\n}\n\nexport default Scratch","export const ADD_FONTFAMILY = 'ADD_FONTFAMILY'\nexport const SET_ALLOW_EDITING = 'SET_ALLOW_EDITING'\nexport const SET_FONTFAMILY_UI = 'SET_FONTFAMILY_UI'\nexport const SET_SHOW_ANSWERKEY = 'SET_SHOW_ANSWERKEY'\nexport const SET_HIDDEN_COUNT = 'SET_HIDDEN_COUNT'\nexport const SET_UI_THEME = 'SET_UI_THEME'\nexport const SET_DEBUG_VIEW = 'SET_DEBUG_VIEW'\nexport const SET_FILENAME = 'SET_FILENAME'\n\nexport const addFontFamily = (font) => ({\n  type: ADD_FONTFAMILY,\n  payload: font,\n})\n\nexport const setAllowEditing = (b) => ({\n  type: SET_ALLOW_EDITING,\n  payload: b,\n})\n\nexport const setFontFamilyUI = (inputType) => ({\n  type: SET_FONTFAMILY_UI,\n  payload: inputType,\n})\n\nexport const setShowAnswerKey = (bool) => ({\n  type: SET_SHOW_ANSWERKEY,\n  payload: bool,\n})\n\nexport const setHiddenCount = (n) => ({\n  type: SET_HIDDEN_COUNT,\n  payload: n,\n})\n\nexport const setUITheme = theme => {\n  if (theme === 'none') {\n    document.body.removeAttribute('ui-theme')\n  } else {\n    document.body.setAttribute('ui-theme', theme)\n  }\n  return ({\n    type: SET_UI_THEME,\n    payload: theme,\n  })\n}\n\nexport const setDebugView = bool => ({\n  type: SET_DEBUG_VIEW,\n  payload: bool\n})\n\nexport const setFilename = filename => ({\n  type: SET_FILENAME,\n  payload: filename\n})\n\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { addFontFamily } from '../../../actions/config'\n\nclass AddLocalFont extends React.Component {\n  static propTypes = {\n    addFontFamily: PropTypes.func.isRequired,\n    buttonLabel: PropTypes.string.isRequired,\n  }\n\n  static defaultProps = {\n    buttonLabel: 'Add'\n  }\n\n  constructor(props) {\n    super(props)\n    this.input = React.createRef()\n  }\n\n  addFont = () => {\n    const fontFamily = this.input.current.value\n    this.props.addFontFamily(fontFamily)\n  }\n\n  render() {\n    return (\n      <>\n      <input ref={this.input} spellCheck={false} />\n      <button onClick={this.addFont}>{this.props.buttonLabel}</button>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addFontFamily: f => dispatch(addFontFamily(f)),\n})\n\nexport default connect(null, mapDispatchToProps)(AddLocalFont)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setFontFamilyUI } from '../../../actions/config'\n\nclass FontFamilyUI extends React.Component {\n  static propTypes = {\n    current: PropTypes.string,\n    setFontFamilyUI: PropTypes.func.isRequired\n  }\n\n  setFontFamilyUI = (evt) => {\n    this.props.setFontFamilyUI(evt.target.value)\n  }\n\n  render() {\n    return (\n      <select onChange={this.setFontFamilyUI} value={this.props.current}>\n        <option value='input'>Input</option>\n        <option value='select'>Menu</option>\n      </select>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.config.fontFamilyUI\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setFontFamilyUI: (inputtype) => dispatch(setFontFamilyUI(inputtype)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontFamilyUI)","export const SET_DOCUMENT_FONTFAMILY = 'SET_DOCUMENT_FONTFAMILY'\nexport const SET_DOCUMENT_FONTSIZE = 'SET_DOCUMENT_FONTSIZE'\nexport const SET_MATH_FONTSIZE = 'SET_MATH_FONTSIZE'\nexport const SET_MATH_FONTWEIGHT = 'SET_MATH_FONTWEIGHT'\nexport const SET_MATH_FONTFAMILY = 'SET_MATH_FONTFAMILY'\nexport const SET_PAGE_MARGIN = 'SET_PAGE_MARGIN'\nexport const SET_PAGE_SIZE = 'SET_PAGE_SIZE'\nexport const UPDATE_GRAPHSTYLE = 'UPDATE_GRAPHSTYLE'\nexport const RESET_GRAPHSTYLE = 'RESET_GRAPHSTYLE'\nexport const LOAD_STYLE = 'LOAD_STYLE'\n\n// Document font\nexport const setDocumentFontFamily = (family) => {\n  return ({\n    type: SET_DOCUMENT_FONTFAMILY,\n    payload: family\n  })\n}\nexport const setDocumentFontSize = (size) => {\n  return ({\n    type: SET_DOCUMENT_FONTSIZE,\n    payload: size\n  })\n}\n\n// Document Math Font\nexport const setMathFontSize = (size) => {\n  return ({\n    type: SET_MATH_FONTSIZE,\n    payload: size\n  })\n}\nexport const setMathFontWeight = (weight) => {\n  return ({\n    type: SET_MATH_FONTWEIGHT,\n    payload: weight\n  })\n}\nexport const setMathFontFamily = family => {\n  return ({\n    type: SET_MATH_FONTFAMILY,\n    payload: family,\n  })\n}\n\n// Page Layout\nexport const setPageSize = size => ({\n  type: SET_PAGE_SIZE,\n  payload: size,\n})\nexport const setPageMargin = margins => ({\n  type: SET_PAGE_MARGIN,\n  payload: margins\n})\n\n// Graph Style\nexport const updateGraphStyle = (props) => {\n  return ({\n    type: UPDATE_GRAPHSTYLE,\n    payload: props,\n  })\n}\n\nexport const resetGraphStyle = () => ({\n  type: RESET_GRAPHSTYLE,\n})\n\nexport const loadStyle = style => ({\n  type: LOAD_STYLE,\n  payload: style\n})","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setDocumentFontFamily } from '../../../actions/style'\n\n\nclass FontFamilyInput extends React.Component {\n  static propTypes = {\n    current: PropTypes.string,\n    setDocumentFontFamily: PropTypes.func,\n  }\n\n  onChange = evt => {\n    const fontFamily = evt.target.value\n    this.props.setDocumentFontFamily(fontFamily)\n  }\n\n  render() {\n    return (\n      <input type=\"text\"\n        value={this.props.current}\n        spellCheck={false}\n        onChange={this.onChange}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.style.fontFamily,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setDocumentFontFamily: (family) => dispatch(setDocumentFontFamily(family)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontFamilyInput)","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { setDocumentFontFamily } from '../../actions/style'\nimport { addFontFamily } from '../../actions/config'\nimport ReactModal from 'react-modal'\nimport styles from './styles.module.css'\n\nclass AddFontPopup extends React.Component {\n  static propTypes = {\n    isOpen: PropTypes.bool.isRequired,\n    onRequestClose: PropTypes.func,\n    setDocumentFontFamily: PropTypes.func.isRequired,\n  }\n\n  static defaultProps = {\n    isOpen: false\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {input: ''}\n  }\n\n  close = () => {\n    this.setState({input: ''})\n    this.props.onRequestClose()\n  }\n\n  onChange = evt => this.setState({input: evt.target.value})\n\n  setFontFamily(fontFamily) {\n    this.props.setDocumentFontFamily(fontFamily)\n  }\n\n  addFont = () => {\n    const family = this.state.input\n    if (family.length) {\n      this.props.addFontFamily(family)\n      this.setFontFamily(family)\n    }\n    this.close()\n  }\n\n  handleKeyPress = evt => {\n    if (evt.key === 'Enter') {\n      this.addFont()\n    }\n  }\n\n  render() {\n    return (\n      <ReactModal \n        className={styles.Popup}\n        isOpen={this.props.isOpen}\n        onRequestClose={this.close}\n      >\n      <div>\n        <span>\n          This should be the name of a font already installed on your computer.\n        </span>\n        <br/>\n        <input\n          type=\"text\"\n          placeholder=\"Enter Font Name\"\n          autoFocus\n          onChange={this.onChange}\n          onKeyPress={this.handleKeyPress}\n          style={{width: '30em', margin: '2mm 0'}}\n        />\n        <div className={styles.PopupButtons}>\n          <button onClick={this.setFromPrompt}>Accept</button>\n          <button onClick={this.close}>Cancel</button>\n        </div>\n      </div>\n      </ReactModal>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addFontFamily: f => dispatch(addFontFamily(f)),\n  setDocumentFontFamily: (family) => dispatch(setDocumentFontFamily(family)),\n})\n\nexport default connect(null, mapDispatchToProps)(AddFontPopup)","import React from 'react'\nimport ReactModal from 'react-modal'\n\nconst NotesModal = props => (\n  <ReactModal\n    isOpen={props.isOpen}\n    onRequestClose={props.onRequestClose}\n    style={{\n      content: {\n        width: '5in',\n        bottom: '.5in',\n        left: '.5in',\n        right: 'unset',\n        top: 'unset',\n        color: 'black',\n        backgroundColor: 'var(--ui-page, white)',\n      }\n    }}\n  >\n    <span style={{fontWeight: 'bold', fontSize: '1em'}} onClick={props.onRequestClose}>\n      <span style={{marginRight: '3mm'}}>Notes</span>      \n    </span>\n    <div onClick={props.onRequestClose}>\n      <p>Double-click on the document to edit an element.</p>\n      <p>Create a PDF by selecting \"Save to PDF\" when printing.</p>\n      <p>Make sure the scale is set to 100% when printing.</p>\n      <p>\n        Changing the font size or deleting questions from the middle of the\n        document can cause the calculated page breaks to no longer be \n        appropriate. Use the 'Fix Pagination' button to quickly recalculate \n        all page breaks.\n      </p>\n      <p>\n        Using Firefox or Chrome is recommended. \n        Not much testing has been done for other browsers.\n      </p>\n      <p>The answer key can't be over one page long.</p>\n      <p>Printing doesn't always work right with page sizes other than \"letter\".</p>\n      <p>Some inputs do not work in Safari.</p>\n      <button onClick={props.onRequestClose}>Close</button>\n    </div>\n  </ReactModal>\n)\n\nexport default NotesModal","import React from 'react';\nimport { connect } from 'react-redux'\nimport ReactModal from 'react-modal'\nimport { setFilename } from '../../actions/config'\nimport styles from './styles.module.css'\n\nfunction filterUnusedElements(document) {\n  const result = {...document, content: {}}\n  for (const k of document.order) {\n    result.content[k] = document.content[k]\n  }\n  return result\n}\n\n// Download document as JSON\nclass SaveFilePopup extends React.Component {\n  static defaultProps = {\n    isOpen: false,\n  }\n\n  constructor(props) {\n    super(props)\n    this.inputRef = React.createRef()\n    this.state = {\n      includeStyle: true,\n    }\n  }\n\n  close= () => this.props.onRequestClose()\n  updateFilename = evt => this.props.setFilename(evt.target.value)\n  toggleIncludeStyle = evt => this.setState({includeStyle: evt.target.checked})\n\n  downloadAs(filename) {\n    const data = this.state.includeStyle\n      ? {document: filterUnusedElements(this.props.document), style: this.props.style}\n      : {document: filterUnusedElements(this.props.document)}\n    const dataString = \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(data));\n    const dlanchor = document.createElement('a')\n    dlanchor.setAttribute('href', dataString)\n    dlanchor.setAttribute('download', filename)\n    document.body.appendChild(dlanchor)\n    dlanchor.click()\n    dlanchor.remove()\n  }\n\n  download = () => {\n    const filename = this.props.filename\n    this.props.setFilename(filename)\n    this.downloadAs(filename)\n    this.close()\n  }\n\n  handleKeyPress = evt => {\n    if (evt.key === 'Enter') {\n      this.download()\n    }\n  }\n\n  render() {\n    return (\n      <ReactModal \n        className={styles.Popup}\n        isOpen={this.props.isOpen}\n        onRequestClose={this.close}\n      >\n        <div>\n          <span style={{fontWeight: 'bold'}}>Save as: </span>\n          <br/>\n          <input \n            type=\"text\" \n            style={{width: '30em', margin: '2mm 0'}}\n            ref={this.inputRef}\n            defaultValue={this.props.filename} \n            onChange={this.updateFilename}\n            spellCheck={false}\n            autoFocus\n            onKeyPress={this.handleKeyPress}\n            onFocus={evt => {evt.target.selectionStart = 0; evt.target.selectionEnd = evt.target.value.length-5}}\n          />\n          <br/>\n          <input \n            id=\"save-style-with-document-checkbox\"\n            type=\"checkbox\"\n            checked={this.state.includeStyle}\n            onChange={this.toggleIncludeStyle}\n          />\n          <label htmlFor=\"save-style-with-document-checkbox\">\n            Save style with document\n          </label>\n          <div className={styles.PopupButtons}>\n            <button onClick={this.download}>Save</button>\n            <button onClick={this.close}>Cancel</button>\n          </div>\n        </div>\n      </ReactModal>\n    )\n  }\n}\n\nfunction defaultFilename(document) {\n  if (document.headers && document.headers[1]) {\n    const [t, {rows}] = document.headers[1]\n    if (rows) {\n      const titleparts = []\n      for (const r of rows) {\n        if (r[0]) {\n          titleparts.push(r[0].replace(' ', ''))\n        }\n      }\n      if (titleparts.length) {\n        return titleparts.join('_')\n      }\n    }\n  }\n  return 'assignment'\n}\n\nconst mapStateToProps = state => ({\n  filename: state.config.filename || defaultFilename(state.document) + '.json',\n  document: state.document,\n  style: state.style,\n})\nconst mapDispatchToProps = dispatch => ({\n  setFilename: filename => dispatch(setFilename(filename)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SaveFilePopup)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { updateGraphStyle } from '../../../actions/style'\n\n\nclass GraphStyle extends React.Component {\n  static propTypes = {\n    updateGraphStyle: PropTypes.func.isRequired,\n    propertyName: PropTypes.string.isRequired,\n    current: PropTypes.string.isRequired,\n  }\n\n  setValue(value) {\n    this.props.updateGraphStyle({[this.props.propertyName]: value})\n  }\n\n  onChange = (evt) => {\n    this.setValue(evt.target.value)\n  }\n\n}\n\nclass Color extends GraphStyle {\n  render() {\n    return (\n      <input type='color'\n        value={this.props.current}\n        onChange={this.onChange}\n      />\n    )\n  }\n}\n\nclass Width extends GraphStyle {\n  onChange = (evt) => {\n    this.setValue(evt.target.value + 'mm')\n  }\n  render() {\n    return (\n      <input type='range'\n        value={this.props.current.slice(0,-2)}\n        onChange={this.onChange}\n        min='0'\n        max='1'\n        step='0.01'\n      />\n    )\n  }\n}\n\nclass Opacity extends GraphStyle {\n  render() {\n    return (\n      <input type='range'\n        value={this.props.current}\n        onChange={this.onChange}\n        min='0'\n        max='1'\n        step='0.01'\n      />\n    )\n  }\n}\n\n\nconst mapDispatchToProps = dispatch => ({\n  updateGraphStyle: (props) => dispatch(updateGraphStyle(props))\n})\n\nfunction createComponent(base, propertyName) {\n  class StyleSettingComponent extends base {\n    static defaultProps = ({propertyName: propertyName})\n  }\n  \n  return connect(\n    state => ({current: state.style.graph[propertyName]}), \n    mapDispatchToProps\n  )(StyleSettingComponent)\n}\n\n\nexport const Function1Color = createComponent(Color, 'function1Color')\nexport const Function2Color = createComponent(Color, 'function2Color')\nexport const FunctionWidth = createComponent(Width, 'functionWidth')\nexport const GeomColor = createComponent(Color, 'geomColor')\nexport const GeomWidth = createComponent(Width, 'geomWidth')\nexport const AsymptoteColor = createComponent(Color, 'asymptoteColor')\nexport const AsymptoteWidth = createComponent(Width, 'asymptoteWidth')\nexport const AxisColor = createComponent(Color, 'axisColor')\nexport const AxisWidth = createComponent(Width, 'axisWidth')\nexport const GridColor = createComponent(Color, 'gridColor')\nexport const GridWidth = createComponent(Width, 'gridWidth')\nexport const FillOpacity = createComponent(Opacity, 'fillOpacity')\n\n\n\n\nclass SwapButton extends React.Component {\n  static propTypes = {\n    current1: PropTypes.string.isRequired,\n    current2: PropTypes.string.isRequired,\n    propertyName1: PropTypes.string.isRequired,\n    propertyName2: PropTypes.string.isRequired,\n    updateGraphStyle: PropTypes.func.isRequired,\n  }\n\n  doSwap = () => {\n    this.props.updateGraphStyle({\n      [this.props.propertyName1]: this.props.current2,\n      [this.props.propertyName2]: this.props.current1,\n    })\n  }\n\n  render() {\n    return (\n      <button onClick={this.doSwap}>{this.props.children}</button>\n    )\n  }\n}\n\nexport const FunctionColorSwap = connect(\n  state => ({\n    current1: state.style.graph.function1Color, \n    current2: state.style.graph.function2Color,\n    propertyName1: 'function1Color',\n    propertyName2: 'function2Color'\n  }),\n  dispatch => ({\n    updateGraphStyle: updates => dispatch(updateGraphStyle(updates)),\n  })\n)(SwapButton)\n\n\nclass RelativeFontSize extends GraphStyle {\n  onChange = (evt) => {\n    this.setValue(evt.target.value + 'em')\n  }\n  render() {\n    return (\n      <input type='range'\n        value={this.props.current.slice(0,-2)}\n        onChange={this.onChange}\n        min='0.1'\n        max='3'\n        step='0.05'\n      />\n    )\n  }\n}\n\nexport const LabelFontSize = connect(\n  state => ({current: state.style.graph.labelFontSize, propertyName: 'labelFontSize'}),\n  dispatch => ({updateGraphStyle: updates => dispatch(updateGraphStyle(updates))}),\n)(RelativeFontSize)","import React from 'react'\n\nimport { RenderJson } from '../../../renderJson'\n\nexport const PreviewXYPlot = () => {\n  \n  \n  const vasymptotes = [-3]\n  const holes = [-5]\n  const hasymptotes = [2]\n\n  //const f = x => 2*Math.sin(x*Math.PI/4) + 7\n  //const g = x => (x+2)*(x-8)/2 + (x+2)/5 + 5\n\n  const f = x => (x-2)*(x-7) - 3 + (x/3)\n  const g = x => -(x-2)*(x-7) - 3 + (x/3)\n\n\n  const regionTop = []\n  const regionBottom = []\n  const fpoints = []\n  const gpoints = []\n  const step = 0.5\n\n  let x = -5\n  while (x <= 3) {\n    const fpt = ({x, y: f(x)})\n    const gpt = ({x, y: g(x)})\n    fpoints.push(fpt)\n    gpoints.push(gpt)\n    x += step\n  }\n\n  while (x <= 6) {\n    const fpt = ({x, y: f(x)})\n    const gpt = ({x, y: g(x)})\n    fpoints.push(fpt)\n    gpoints.push(gpt)\n    x += 0.02\n  }\n\n  while (x <= 11) {\n    const fpt = ({x, y: f(x)})\n    const gpt = ({x, y: g(x)})\n    fpoints.push(fpt)\n    gpoints.push(gpt)\n    x += step\n  }\n\n  const json = [\n    'CoordinatePlane', {span: [-10,-10,10,10], height: '3in'},\n    [\n      'Style', {name: 'asymptote'},\n      ...vasymptotes.map(v => ['Path', {points: [[v, -12], [v, 12]]}]),\n      ...hasymptotes.map(v => ['Path', {points: [[-12, v], [12, v]]}])\n    ],\n    [\n      'Style', {name: 'primary'},\n      ['Path', {points: fpoints, fill: 'solid'}],\n      [\n        'Transform', {type: 'translate', y: 2},\n        [\n          'RationalFunction', {\n            numerLC: 2,\n            asymptotes: vasymptotes,\n            holes: holes,\n            domain: [-11,-3],\n            renderAsymptotes: false,\n          }\n        ],\n      ],\n      ['Point', {x: -4, y: 0}],\n    ],\n    ['Overlay', {x: -9, y: 7, anchor: 'W'}, '$$f(x) = \\\\frac{1}{x-2}+2$$'],\n    [\n      'Style', {name: 'secondary'},\n      ['Path', {points: gpoints, fill: 'solid'}],\n      \n      ['Point', {x: 2, y: f(2)}],\n      ['Point', {x: 7, y: f(7)}],\n      \n    ]\n  ]\n  return <RenderJson json={json} />\n\n  /*\n  return (\n    <CoordinatePlane span={[-10,-10,10,10]} width=\"3in\">\n      {vasymptotes.map(p => <Asymptote key={`va-${p}`} points={[{x: p, y: -12}, {x: p, y: 12}]} />)}\n      {hasymptotes.map(p => <Asymptote key={`ha-${p}`} points={[{x: -12, y: p}, {x: 12, y: p}]} />)}\n        \n      <Layer style='function-2'>\n        <FillRegion points={fpoints} />\n        <Path points={fpoints} />\n      </Layer>\n\n      <Layer style='function-1'>\n        <Layer transform={['translate', {y: 2}]}>\n          <RationalFunction \n            numerLC={2}\n            asymptotes={vasymptotes} \n            holes={holes} \n            domain={[-11,-3]} renderAsymptotes={false}\n          />\n        </Layer>\n        <FillRegion points={gpoints}/>\n        <Path points={gpoints}/>\n        <Point x='-4' y='0' />\n        <Point x='2' y={f(2)} />\n        <Point x='7' y={f(7)} />\n      </Layer>\n\n    </CoordinatePlane>\n  )\n  */\n\n}\n\nexport const PreviewGeom = () => {\n\n  const poly= [\n    [13,11], [17,12], [18,16], [15,18], [11,14]\n  ]\n  const ray = [[2,12], [7,13]]\n  const line = [[8,17], [2,18]]\n  const seg = [[7,15], [2,15]]\n  const circ = ({cx: 4, cy: 7, r: 2})\n\n  const json = [\n    'CoordinatePlane', {span: [0,0,20,20], height: '3in', style: 'geometry'},\n    ['Polygon', {points: poly, markers: \"...\"}],\n    ['Path', {points: ray, markers: \".->\"}],\n    ['Path', {points: line, markers: \"<->\"}],\n    ['Path', {points: seg, markers: \".-.\"}],\n  ]\n\n  return <RenderJson json={json} />\n\n  /*\n  return (\n    <CoordinatePlane span={[0,0,20,20]} width='3in'>\n      <Layer style='geometry'>\n      <Polygon vertices={poly} />\n      \n      <Ray points={ray} />\n      <Line points={line} />\n      <Segment points={seg} />\n      \n      </Layer>\n    </CoordinatePlane>\n  )\n  */\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { resetGraphStyle } from '../../../actions/style'\nimport {\n  Function1Color, FunctionWidth, Function2Color, FunctionColorSwap,\n  GeomColor, GeomWidth,\n  AsymptoteColor, AsymptoteWidth,\n  AxisColor, AxisWidth,\n  GridColor, GridWidth,\n  FillOpacity,\n  LabelFontSize,\n} from './GraphStyle'\nimport { PreviewXYPlot, PreviewGeom } from './GraphPreview'\n\nimport styles from './styles.module.css'\n\n\nclass GraphSettings extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {style: 'xy-plot'}\n  }\n\n  changeStyle = evt => {\n    this.setState({style: evt.target.value})\n  }\n\n  resetToDefaults = () => {\n   this.props.resetGraphStyle()\n  }\n\n  renderPreview() {\n    if (this.state.style === 'geom') {\n      return <PreviewGeom />\n    }\n    return <PreviewXYPlot />\n  }\n\n  renderStyleSettings() {\n    if (this.state.style === 'xy-plot') {\n      return (\n        <>\n          <tr>\n            <td>Primary</td>\n            <td><Function1Color/></td>\n            <td><FunctionWidth/></td>\n          </tr>\n          <tr>\n            <td>Secondary</td>\n            <td><Function2Color/></td>\n            <td><FunctionColorSwap>Swap</FunctionColorSwap></td>\n          </tr>\n          <tr>\n            <td>Asymptote</td>\n            <td><AsymptoteColor/></td>\n            <td><AsymptoteWidth/></td>\n          </tr>\n          <tr>\n            <td colSpan='2'>Fill</td>\n            <td><FillOpacity /></td>\n          </tr>\n        </>\n      )\n    }\n    if (this.state.style === 'geom') {\n      return (\n        <>\n          <tr>\n            <td>Path</td>\n            <td><GeomColor/></td>\n            <td><GeomWidth/></td>\n          </tr>\n        </>\n      )\n    }\n    return null\n  }\n\n  render() {\n    return (\n      <div className={styles.Layout}>\n        <div className={styles.Settings}>\n          <h3>Graph Style</h3>\n          <button onClick={this.resetToDefaults}>Reset to Defaults</button>\n          \n          <table className={styles.SettingTable}>\n\n            <thead>\n              <tr>\n                <th></th>\n                <th>Color</th>\n                <th>Thickness</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>Axis</td>\n                <td><AxisColor/></td>\n                <td><AxisWidth/></td>\n              </tr>\n\n              <tr>\n                <td>Grid</td>\n                <td><GridColor/></td>\n                <td><GridWidth/></td>\n              </tr>\n\n              <tr>\n                <td colSpan=\"2\">Label Font Size</td>\n                <td><LabelFontSize /></td>\n              </tr>\n\n              <tr>\n                <td colSpan='3' >\n                  <div style={{margin: '5mm 0'}}>\n                    <span>Editing style for </span>\n                    <select onChange={this.changeStyle} value={this.state.style}>\n                      <option value='geom'>geometry</option>\n                      <option value='xy-plot'>xy-plot</option>\n                    </select>\n                  </div>\n                </td>\n              </tr>\n\n              {this.renderStyleSettings()}\n\n              \n            </tbody>\n\n          </table>\n        </div>\n        <div className={styles.Preview}>\n          <div className='document preview-area'>\n            {this.renderPreview()}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  resetGraphStyle: () => dispatch(resetGraphStyle()),\n})\n\nexport default connect(null, mapDispatchToProps)(GraphSettings)","import GraphSettings from './GraphSettings'\n\nexport default GraphSettings","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setPageMargin } from '../../../actions/style'\n\nconst MarginOptions = [\n  '.25',\n  '.5',\n  '.75',\n  '1.0',\n]\n\nclass SetPageMargin extends React.Component {\n  static defaultProps = {\n    unit: 'in',\n  }\n\n  static propTypes = {\n    current: PropTypes.string.isRequired,\n    setPageMargin: PropTypes.func.isRequired,\n  }\n\n  setPageMargin(margin) {\n    this.props.setPageMargin(margin)\n  }\n\n  updateFromSelection = (evt) => {\n    const m = evt.target.value + this.props.unit\n    this.setPageMargin(m)\n  }\n\n  render() {\n    return (\n      <select\n        onChange={this.updateFromSelection}\n        value={parseFloat(this.props.current)}\n      >\n        {MarginOptions.map((m) => (\n          <option key={m} value={parseFloat(m)}>{m} {this.props.unit}</option>\n        ))}\n      </select>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.style.pageMargin,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setPageMargin: (m) => dispatch(setPageMargin(m))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SetPageMargin)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setPageSize } from '../../../actions/style'\n\nclass PageSize extends React.Component {\n\n  setPageSize = evt => {\n    const pageSize = evt.target.value\n    this.props.setPageSize(pageSize)\n  }\n\n  render() {\n    return (\n      <select\n        value={this.props.current}\n        onChange={this.setPageSize}\n      >\n      {['A3', 'A4', 'A5', 'legal', 'letter'].map(p => (\n        <option key={p} value={p}>{p}</option>\n      ))}\n      </select>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({current: state.style.pageSize})\nconst mapDispatchToProps = dispatch => ({setPageSize: size => dispatch(setPageSize(size))})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PageSize)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setPageMargin } from '../../../actions/style'\n\n\nfunction unitProps(units) {\n  if (units === 'in') return {max: 1.5, step: 0.01}\n  if (units === 'cm') return {max: 3.5, step: 0.01}\n  if (units === 'mm') return {max: 35, step: 0.1}\n}\n\nfunction inputProps(units) {\n  return Object.assign({\n    min: 0, \n    style: {minWidth: '5em'}, \n  }, unitProps(units))\n}\n\nfunction fromMM(value, units) {\n  if (units === 'cm') return value / 10\n  if (units === 'in') return value / 25.4\n  if (units === 'mm') return value\n}\n\nfunction toMM(value, units) {\n  if (units === 'cm') return value * 10\n  if (units === 'in') return value * 25.4\n  if (units === 'mm') return value\n}\n\nfunction convert(value, from, to) {\n  if (from === to) return value\n  return fromMM(toMM(value, from), to)\n}\n\nfunction convertStr(s, to) {\n  const units = s.slice(-2)\n  return convert(parseFloat(s), units, to)\n}\n\n\nclass PageMargins extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {...this.props}\n  }\n\n  setMargins = (m={}) => {\n    const {top, right, bottom, left, units} = {...this.state, ...m}\n    const pageMargin = [top+units, right+units, bottom+units, left+units].join(' ')\n    this.props.setPageMargin(pageMargin)\n    this.setState({top, right, bottom, left, units})\n  }\n  setUnits = evt => {\n    const from = this.state.units\n    const units = evt.target.value\n    const newValues = {}\n    for (const m of ['top', 'right', 'bottom', 'left']) {\n      const v = parseFloat(this.state[m])\n      const rounder = units === 'mm' ? 10 : 100\n      newValues[m] = Math.round(rounder * convert(v, from, units)) / rounder\n    }\n    this.setState({units, ...newValues})\n  }\n  setTop = evt => {\n    const top = evt.target.value\n    this.setMargins({top})\n  }\n  setRight = evt => {\n    const right = evt.target.value\n    this.setMargins({right})\n  }\n  setBottom = evt => {\n    const bottom = evt.target.value\n    this.setMargins({bottom})\n  }\n  setLeft = evt => {\n    const left = evt.target.value\n    this.setMargins({left})\n  }\n\n  render() {\n    return (\n      <>\n      <span>Units: </span>\n      <select value={this.state.units} onChange={this.setUnits}>\n        <option value=\"mm\">millimeters</option>\n        <option value=\"cm\">centimeters</option>\n        <option value=\"in\">inches</option>\n      </select>\n      <table>\n        <tbody>\n          <tr>\n            <td/>\n            <td>\n              Top\n              <br/>\n              <input type=\"number\" \n                value={this.state.top} \n                onChange={this.setTop} \n                {...inputProps(this.state.units)}\n              />\n              </td>\n            <td/>\n          </tr>\n          <tr>\n            <td>\n              Left\n              <br/>\n              <input type=\"number\" \n                value={this.state.left} \n                onChange={this.setLeft}\n                {...inputProps(this.state.units)}\n              />\n            </td>\n            <td/>\n            <td>\n              Right\n              <br/>\n              <input type=\"number\" \n                value={this.state.right} \n                onChange={this.setRight}\n                {...inputProps(this.state.units)}\n              />\n            </td>\n          </tr>\n          <tr>\n            <td/>\n            <td>\n              Bottom\n              <br/>\n              <input type=\"number\" \n                value={this.state.bottom} \n                onChange={this.setBottom}\n                {...inputProps(this.state.units)}\n              />\n            </td>\n            <td/>\n          </tr>\n        </tbody>\n      </table>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  const margins = state.style.pageMargin.split(' ')\n  let top, right, bottom, left\n  if (margins.length === 1) {\n    top = margins[0]\n    right = top\n    bottom = top\n    left = top\n  } else if (margins.length === 2) {\n    [top, right] = margins\n    bottom = top\n    left = right\n  } else {\n    [top, right, bottom, left] = margins\n  }\n  const units = left.slice(-2)\n\n  return {\n    top: +convertStr(top, units),\n    right: +convertStr(right, units),\n    bottom: +convertStr(bottom, units),\n    left: +convertStr(left, units),\n    units,\n  }\n}\nconst mapDispatchToProps = dispatch => ({setPageMargin: m => dispatch(setPageMargin(m))})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PageMargins)","import PageMargin from \"./PageMargin\"\nimport PageSettings from './PageSettings'\n\nexport {\n  PageMargin,\n  PageSettings\n}\n\nexport default PageSettings","import React from 'react'\nimport PageSize from './PageSize'\nimport PageMargins from './PageMargins'\n\nconst PageSettings = props => {\n  return (\n    <div>\n      <h4>Page Size</h4>\n      <PageSize/> (printing is buggy for sizes other than letter)\n      <h4>Margins</h4>\n      <PageMargins/>\n    </div>\n  )\n}\n\nexport default PageSettings","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setDebugView } from '../../../actions/config'\n\nclass GUImode extends React.Component {\n\n  update = evt => {\n    const debugView = evt.target.checked\n    if (debugView !== this.props.debugView) {\n      this.props.setDebugView(debugView)\n    }\n  }\n\n  render() {\n    return (\n      <div style={{fontSize: '0.8em'}}>\n      <div>\n        <input id=\"layout-on-hover-checkbox\"\n          type=\"checkbox\"\n          checked={this.props.debugView}\n          onChange={this.update}/>\n        <label htmlFor=\"layout-on-hover-checkbox\">\n          Layout on Hover\n        </label>\n      </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  debugView: state.config.debugView,\n})\nconst mapDispatchToProps = dispatch => ({\n  setDebugView: b => dispatch(setDebugView(b)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GUImode)","import React from 'react'\nimport PropTypes from 'prop-types'\n\nclass PreviewZoom extends React.Component {\n  static propTypes = {\n    defaultValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    values: PropTypes.arrayOf(PropTypes.number),\n    type: PropTypes.string.isRequired,\n    min: PropTypes.number,\n    max: PropTypes.number,\n    step: PropTypes.number,\n    options: PropTypes.arrayOf(PropTypes.number),\n  }\n\n  static defaultProps = {\n    defaultValue: 100,\n    type: 'input',\n    min: 30,\n    max: 200,\n    step: 10,\n    options: [25, 50, 75, 100, 125, 150, 175, 200],\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = { zoom: props.defaultValue }\n  }\n\n  setZoom() {\n    const perc = this.state.zoom\n    const scale = perc / 100.0\n    const transform = `matrix(${[scale, 0, 0, scale, 0, 0].join(',')})`\n    document.body.style.setProperty('--previewInnerTransform', transform)\n  }\n\n  updateState = evt => {\n    const zoom = +evt.target.value\n    this.setState({ zoom })\n  }\n\n  zoomIn = () => {\n    const zoom = Math.min(+this.state.zoom + this.props.step, this.props.max)\n    this.setState({ zoom })\n  }\n\n  zoomOut = () => {\n    const zoom = Math.max(+this.state.zoom - this.props.step, this.props.min)\n    this.setState({ zoom })\n  }\n\n  componentDidMount() {\n    this.setZoom()\n  }\n\n  componentDidUpdate() {\n    this.setZoom()\n  }\n\n  renderInput() {\n    return (\n      <input\n        type=\"number\"\n        min={this.props.min}\n        max={this.props.max}\n        step={this.props.step}\n        value={this.state.zoom}\n        onChange={this.updateState}\n      ></input>\n    )\n  }\n\n  renderSelect() {\n    return (\n      <select\n        value={this.state.zoom}\n        onChange={this.updateState}>\n        {this.props.options.map((z) => <option key={`zoom-option-${z}`} value={z}>{z}</option>)}\n      </select>\n    )\n  }\n\n  renderButtons() {\n    return (\n      <>\n        <button onClick={this.zoomOut}>-</button>\n        <button onClick={this.zoomIn}>+</button>\n      </>\n    )\n  }\n\n  render() {\n    if (this.props.type === 'input') {\n      return this.renderInput()\n    }\n    if (this.props.type === 'select') {\n      return this.renderSelect()\n    }\n    if (this.props.type === 'buttons') {\n      return this.renderButtons()\n    }\n  }\n}\n\nexport default PreviewZoom","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setUITheme } from '../../../actions/config'\n\nclass UIThemeSetter extends React.Component {\n\n  setTheme = evt => {\n    const theme = evt.target.value\n    this.props.setUITheme(theme)\n  }\n\n  render() {\n    return (\n      <select value={this.props.theme}\n        onChange={this.setTheme}\n      >\n        <option value=\"none\">None</option>\n        <option value=\"dark\">Dark</option>\n        <option value=\"light\">Light</option>\n      </select>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  theme: state.config.uiTheme,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setUITheme: theme => dispatch(setUITheme(theme)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UIThemeSetter)","import GUImode from './GUImode'\nimport PreviewZoom from './PreviewZoom'\nimport UITheme from './UITheme'\nimport UISettings from './UISettings'\n\nexport {\n  GUImode,\n  PreviewZoom,\n  UISettings,\n}\n\nexport default UISettings","import React from 'react'\nimport UITheme from './UITheme'\n\nclass UISettings extends React.Component {\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    return (\n      <>\n        <span>Theme: </span><UITheme/>\n      </>\n    )\n  }\n}\n\nexport default UISettings","import React from 'react'\nimport FontSettings from './Font'\nimport GraphSettings from './Graph'\nimport PageSettings from './Page'\nimport UISettings from './UI'\nimport styles from './styles.module.css'\n\n\nclass SettingsPage extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {showing: 'font'}\n  }\n\n  showFontSettings = () => this.setState({showing: 'font'})\n  showGraphSettings = () => this.setState({showing: 'graph'})\n  showPageSettings = () => this.setState({showing: 'page'})\n  showUISettings = () => this.setState({showing: 'ui'})\n\n  renderSettings() {\n    switch (this.state.showing) {\n      case 'font': return <FontSettings/>\n      case 'graph': return <GraphSettings/>\n      case 'page': return <PageSettings/>\n      case 'ui': return <UISettings />\n      default: return null\n    }\n  }\n\n  render() {\n    return (\n      <div className={styles.SettingPage}>\n\n        <div className={styles.LeftBar}>\n          <div>\n            <span className={styles.Title}>Settings</span>\n          </div>\n          \n          <div className={styles.NavArea}>\n            <div\n              className={styles.NavButton}\n              onClick={this.showFontSettings}\n              status={this.state.showing === 'font' ? 'active' : undefined}\n            >Fonts</div>\n            <div\n              className={styles.NavButton}\n              onClick={this.showGraphSettings}\n              status={this.state.showing === 'graph' ? 'active' : undefined}\n            >Graphs</div>\n            <div\n              className={styles.NavButton}\n              onClick={this.showUISettings}\n              status={this.state.showing === 'ui' ? 'active' : undefined}\n            >Interface</div>\n            <div\n              className={styles.NavButton}\n              onClick={this.showPageSettings}\n              status={this.state.showing === 'page' ? 'active' : undefined}\n            >Page</div>\n          </div>\n\n          <div>\n            <button onClick={this.props.onRequestClose}>Close</button>\n          </div>\n          \n        </div>\n        \n        <div className={styles.SettingSection}>\n          {this.renderSettings()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default SettingsPage","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setAllowEditing } from '../../actions/config'\n\nclass AllowEditing extends React.Component {\n  static propTypes = {\n    current: PropTypes.bool.isRequired,\n    setAllowEditing: PropTypes.func.isRequired,\n  }\n\n  toggle = (evt) => {\n    if (evt.target.checked) {\n      this.props.setAllowEditing(true)\n    } else {\n      this.props.setAllowEditing(false)\n    }\n  }\n\n  render() {\n    return (\n      <input\n        id=\"allow-editing-checkbox\"\n        onChange={this.toggle}\n        type='checkbox' \n        checked={this.props.current}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.config.allowEditing,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setAllowEditing: (b) => dispatch(setAllowEditing(b)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AllowEditing)","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { setShowAnswerKey } from '../../actions/config'\n\n\nclass AnswerKeyToggle extends React.Component {\n  static propTypes = {\n    current: PropTypes.bool.isRequired,\n    setShowAnswerKey: PropTypes.func.isRequired,\n  }\n\n  toggle = (evt) => {\n    if (evt.target.checked) {\n      this.props.setShowAnswerKey(true)\n    } else {\n      this.props.setShowAnswerKey(false)\n    }\n  }\n\n  render() {\n    return (\n      <input\n        id=\"show-answer-key-checkbox\"\n        onChange={this.toggle}\n        type='checkbox' \n        checked={this.props.current}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.config.showAnswerKey,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setShowAnswerKey: (bool) => dispatch(setShowAnswerKey(bool)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AnswerKeyToggle)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setHiddenCount } from '../../actions/config'\nimport { clearPageBreaks } from '../../actions/document'\n\nclass FixPagination extends React.Component {\n  static propTypes = {\n    hidden: PropTypes.number.isRequired,\n    setHiddenCount: PropTypes.func.isRequired,\n  }\n\n  reset = () => {\n    this.props.clearPageBreaks()\n    this.props.setHiddenCount(this.props.total)\n  }\n\n  check() {\n    setTimeout(() => {\n      if (this.props.hidden > 0) {\n        this.props.setHiddenCount(this.props.hidden-1)\n      }\n    }, 20)\n  }\n\n  componentDidMount() {\n    this.check()\n  }\n\n  componentDidUpdate() {\n    this.check()\n  }\n\n  render() {\n    return (\n      <button onClick={this.reset}>Fix Pagination</button>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  hidden: state.config.numberHidden,\n  total: state.document.order.length,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setHiddenCount: n => dispatch(setHiddenCount(n)),\n  clearPageBreaks: () => dispatch(clearPageBreaks()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FixPagination)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setDocumentStartNumbering } from '../../actions/document'\n\nclass StartNumbering extends React.Component {\n\n  setCSSVariable(n) {\n    document.body.style.setProperty('--doc-startnumber', n-1)\n  }\n\n  setNumbering = evt => {\n    const startat = evt.target.value\n    if (startat) {\n      this.setCSSVariable(startat)\n      this.props.setDocumentStartNumbering(startat)\n    }\n  }\n\n  render() {\n    return (\n      <input \n        onChange={this.setNumbering}\n        type='number' \n        min='1'\n        value={this.props.current}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.document.startNumbering,\n})\nconst mapDispatchToProps = dispatch => ({\n  setDocumentStartNumbering: (n) => dispatch(setDocumentStartNumbering(n)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StartNumbering)","import SettingsPage from './SettingsPage'\n\nimport { FontFamily, FontSize, AddLocalFont, FontFamilyUI } from './Font'\nimport AllowEditingToggle from './AllowEditing'\nimport AnswerKeyToggle from './AnswerKeyToggle'\nimport FixPagination from './FixPagination'\nimport { GUImode, PreviewZoom } from './UI'\nimport { PageMargin } from './Page'\nimport StartNumbering from './StartNumbering'\n\nexport {\n  AddLocalFont,\n  AllowEditingToggle,\n  AnswerKeyToggle,\n  FixPagination,\n  FontFamily,\n  FontFamilyUI,\n  FontSize,\n  GUImode,\n  PageMargin,\n  PreviewZoom,\n  StartNumbering,\n}\n\nexport default SettingsPage","import React from 'react'\nimport ReactModal from 'react-modal'\nimport SettingsPage from '../Settings'\n\nconst SettingsModal = props => (\n  <ReactModal\n    isOpen={props.isOpen}\n    onRequestClose={props.onRequestClose}\n    style={{\n      content: {\n        border: 'none',\n        top: '0',\n        bottom: 0,\n        left: 0,\n        right: 0,\n        padding: 0,\n      },\n      overlay: {\n        background: 'none',\n        backgroundColor: 'none',\n      }\n    }}\n  >\n    <SettingsPage onRequestClose={props.onRequestClose}/>\n  </ReactModal>\n)\n\nexport default SettingsModal","import React from 'react';\nimport { connect } from 'react-redux'\nimport ReactModal from 'react-modal'\nimport { loadDocument } from '../../actions/document'\nimport { setFilename } from '../../actions/config'\nimport { loadStyle } from '../../actions/style'\n\nclass UploadModal extends React.Component {\n  static defaultProps = {\n    isOpen: false,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      filename: null, \n      validFilename: null, \n      message: null,\n    }\n  }\n\n  close = () => {\n    this.setState({\n      filename: null, \n      validFilename: null, \n      message: null,\n    })\n    this.props.onRequestClose()\n  }\n\n  handleDragOver = evt => {\n    evt.stopPropagation()\n    evt.preventDefault()\n    evt.dataTransfer.dropEffect = 'copy'\n  }\n\n  handleDrop = evt => {\n    evt.stopPropagation()\n    evt.preventDefault()\n    const file = evt.dataTransfer.files[0]\n    this.setState({filename: file.name})\n    this.readFile(file)\n    return false\n  }\n\n  selectFile = evt => {\n    const file = evt.target.files[0]\n    this.setState({filename: file.name})\n    this.readFile(file)\n  }\n\n  readFile(file) {\n    if (file) {\n      const reader = new FileReader()\n      reader.onload = evt => this.checkData(evt.target.result)\n      reader.readAsText(file)\n    }\n  }\n\n  checkData(dataString) {\n    let data\n    try {\n      data = JSON.parse(dataString)\n    } catch {\n      this.setState({message: 'File is not valid JSON'})\n      return\n    }\n    try {\n      const {document, style} = data\n      const {\n        content, \n        order, \n        headers={}, \n        footers={}, \n        pagebreaks=[], \n        startNumbering=1,\n      } = document\n      const docdata = {\n        document: {content, order, headers, footers, pagebreaks, startNumbering},\n        style\n      }\n      if (!content || !order || (content.constructor.name !== 'Object') || !Array.isArray(order)) {\n        this.setState({\n          message: 'Warning: This does not appear to be a valid file.', \n          ...docdata,\n        })\n      } else {\n        this.setState({\n          message: '', \n          validFilename: this.state.filename,\n          ...docdata,\n        })\n        this.loadJson()\n      }\n    } catch {\n      this.setState({message: 'Error: Unable to load file.', document: null, style: null})\n    }\n  }\n\n  loadJson = () => {\n    if (this.state.document) {\n      this.props.setFilename(this.state.validFilename)\n      this.props.loadStyle(this.state.style || {})\n      this.props.loadDocument(this.state.document)\n      this.close()\n    } else {\n      this.setState({message: 'No valid file selected'})\n    }\n  }\n\n  load = () => {\n    this.loadJson()\n  }\n\n  render() {\n    return (\n      <ReactModal\n        isOpen={this.props.isOpen}\n        onRequestClose={this.close}\n        style={{\n          content: {\n            background: 'none',\n            top: '0',\n            bottom: '0',\n            left: '0',\n            right: '0',\n            borderRadius: 0,\n            margin: 0,\n            padding: 0,\n          },\n          overlay: {\n            background: 'none',\n            margin: 0,\n            padding: 0,\n          }\n        }}\n      >\n        <div \n          style={{\n            position: 'absolute',\n            top: '5px',\n            right: '5px',\n            left: '5px',\n            bottom: '5px',\n            margin: '0',\n            borderRadius: '3px',\n            borderWidth: '3px',\n            borderStyle: 'dashed',\n            borderColor: 'var(--ui-fg-2, black)',\n            backgroundColor: 'var(--ui-border-0, rgba(210,210,210))',\n            opacity: '0.95',\n            color: 'var(--ui-fg-1, black)',\n            fontFamily: 'katex_typewriter, sans-serif',\n          }}\n          onDrop={this.handleDrop}\n          onDragOver={this.handleDragOver}\n          onClick={this.close}\n        >\n          <div style={{position: 'absolute', top: '1in', left: '2in'}}>\n            <span style={{\n              fontSize: '2em', \n              fontWeight: 'bold', \n            }}>Drop File Here</span>\n            <br/>\n            <span>(click to cancel)</span>\n            <div style={{height: '1em'}}/>\n            <span style={{color: 'red', fontWeight: 'bold', fontSize: '1.5em'}}>{this.state.message || ''}</span>\n            <div style={{height: '1em'}}/>\n          </div>\n        </div>\n      </ReactModal>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  loadDocument: doc => dispatch(loadDocument(doc)),\n  loadStyle: style => dispatch(loadStyle(style)),\n  setFilename: filename => dispatch(setFilename(filename)),\n})\n\nexport default connect(null, mapDispatchToProps)(UploadModal)","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { AddFontPopup } from '../../Modals'\nimport { setDocumentFontFamily } from '../../../actions/style'\n\nconst DefaultFonts = [\n  /*\n  'Alegreya',\n  'Alegreya Sans',\n  'Arima Madurai',\n  'BioRhyme',\n  'EB Garamond',\n  'Fira Sans',\n  //'Gentium Basic',\n  //'Handlee',\n  'IBM Plex Sans',\n  'IBM Plex Serif',\n  //'Inconsolata',\n  //'Jura',\n  'Lora',\n  //'Merriweather',\n  //'Noticia Text',\n  //'Noto Sans',\n  'Noto Serif',\n  'Old Standard TT',\n  'Raleway',\n  'Roboto',\n  'Roboto Slab',\n  'Signika',\n  'Source Serif Pro',\n  'Ubuntu',\n  */\n]\n\nconst BrowserFonts = [\n  'sans-serif',\n  'serif',\n  '__CUSTOM__',\n]\n\nconst fontLabels = {\n  '__CUSTOM__': 'other',\n  'cmu_bright': 'CMU Bright',\n  'cmu_concrete': 'CMU Concrete',\n  'cmu_sansserif': 'CMU Sans',\n  'cmu_serif': 'CMU Serif',\n  'katex_sansserif': 'KaTeX Sans',\n  'katex_main': 'KaTeX Serif',\n  'sans-serif': 'sans-serif (browser)',\n  'serif': 'serif (browser)'\n}\n\nfunction fontSort(a, b) {\n  const aName = (fontLabels[a] || a).toUpperCase()\n  const bName = (fontLabels[b] || b).toUpperCase()\n  if (aName < bName) { return -1 }\n  if (aName > bName) { return 1}\n  return 0\n}\n\nfunction renderFontOption(family) {\n  if (family) {\n    const label = fontLabels[family] || family\n    return (\n      <option key={`font-${family}`}\n        value={family}\n        title={family === '__CUSTOM__' ? 'Choose a font not on this list' : ''}\n        >{label}</option>\n    )\n  }\n  return <option key={0} value=\"0\" disabled={true}>---</option>\n}\n\n\n//////////////////////////////\n//\n// COMPONENT\n//\n////////////////////////////\n\n\nclass FontFamilySelect extends React.Component {\n  static propTypes = {\n    current: PropTypes.string,\n    localFonts: PropTypes.array.isRequired,\n    setDocumentFontFamily: PropTypes.func.isRequired,\n  }\n\n  static defaultProps = {\n    localFonts: [],\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      modal: 'none',\n    }\n  }\n\n  openFontInput = () => this.setState({modal: 'AddFont'})\n  closeModal = () => this.setState({modal: 'none'})\n\n  fontList = () => {\n    const result = [\n      ...[\n        ...DefaultFonts, \n        ...this.props.localFonts\n      ].sort(fontSort), \n      ...BrowserFonts,\n      \n    ]\n    return result\n  }\n\n  setFontFamily(fontFamily) {\n    this.props.setDocumentFontFamily(fontFamily)\n  }\n\n  onChange = (evt) => {\n    const value = evt.target.value\n    if (value === '__CUSTOM__') {\n      this.openFontInput()\n    } else {\n      this.setFontFamily(value)\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <select\n          value={this.props.current}\n          onChange={this.onChange}\n        >\n          {this.fontList().map((f) => renderFontOption(f))}\n        </select>\n        <AddFontPopup isOpen={this.state.modal === 'AddFont'} onRequestClose={this.closeModal} />\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.style.fontFamily,\n  localFonts: [...state.config.localFonts],\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setDocumentFontFamily: (family) => dispatch(setDocumentFontFamily(family)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontFamilySelect)","import React from 'react'\nimport { connect } from 'react-redux'\nimport FontFamilyInput from './FontFamilyInput'\nimport FontFamilySelect from './FontFamilySelect'\n\nconst FontFamily = ({fontFamilyUI}) => (\n  fontFamilyUI === 'input' ? <FontFamilyInput/> : <FontFamilySelect/>\n)\n\nconst mapStateToProps = state => ({fontFamilyUI: state.config.fontFamilyUI})\n\nexport default connect(mapStateToProps)(FontFamily)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setDocumentFontSize } from '../../../actions/style'\n\n\nclass FontSizeSelect extends React.Component {\n\n  static propTypes = {\n    current: PropTypes.string.isRequired,\n    setDocumentFontSize: PropTypes.func.isRequired,\n  }\n\n  setDocFontSize(size) {\n    this.props.setDocumentFontSize(size)\n  }\n\n  onChange = (evt) => {\n    this.setDocFontSize(evt.target.value)\n  }  \n\n  renderSizeOptions() {\n    const options = [6, 7, 8, 9, 10, 11, 12]\n    return (\n      <>\n      {options.map((s) => {\n        const size = `${s}pt`\n        return (\n          <option \n            value={size}\n            key={s}\n          >{size}</option>\n        )\n      })}\n      </>\n    )\n  }\n\n  render() {\n    return (\n      <>\n        <select \n          value={this.props.current}\n          onChange={this.onChange}\n        >\n          {this.renderSizeOptions()}\n        </select>\n      </>\n    )\n  }\n}\n\n\nconst mapStateToProps = state => ({\n  current: state.style.fontSize,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setDocumentFontSize: (size) => dispatch(setDocumentFontSize(size)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontSizeSelect)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport WebFont from 'webfontloader'\nimport { connect } from 'react-redux'\nimport { addFontFamily } from '../../../actions/config'\nimport { setDocumentFontFamily } from '../../../actions/style'\nimport { includes } from 'lodash'\n\n\nconst googleFonts = [\n  'ABeeZee',\n  //'Alegreya',\n  //'Alegreya Sans',\n  'Arima Madurai',\n  //'BioRhyme',\n  //'Cormorant',\n  'EB Garamond',\n  'Fira Sans',\n  //'Gentium Basic',\n  //'Handlee',\n  'IBM Plex Sans',\n  //'IBM Plex Serif',\n  //'Inconsolata',\n  //'Jura',\n  'Lora',\n  //'Merriweather',\n  //'Neuton',\n  'Noticia Text',\n  //'Noto Sans',\n  //'Noto Serif',\n  //'Old Standard TT',\n  //'Raleway',\n  //'Roboto',\n  'Roboto Slab',\n  //'Signika',\n  //'Source Sans Pro',\n  //'Source Serif Pro',\n  'Ubuntu',\n  //'Zilla Slab',\n].sort()\n\nconst fontStyles = {\n  default: '400,400i,700,700i',\n  //'Jura': '500,700',\n  //'Signika': '300,700',\n  //'Ubuntu': '300,300i,700,700i',\n  'BioRhyme': '300,700',\n  'Merriweather': '300,300i,700,700i',\n}\n\nclass FontLoader extends React.Component {\n  static propTypes = {\n    addFontFamily: PropTypes.func.isRequired,\n    type: PropTypes.string.isRequired,\n  }\n\n  static defaultProps = {\n    type: 'button'\n  }\n\n  constructor(props) {\n    super(props)\n    const toAdd = googleFonts.filter(f => !includes(this.props.localFonts, f))\n    \n    this.state = {\n      input: '',\n      selection: toAdd[0],\n      toAdd,\n    }\n  }\n\n  updateInput = evt => {\n    this.setState({input: evt.target.value})\n  }\n\n  updateSelection = evt => {\n    this.setState({selection: evt.target.value})\n  }\n\n  setFont(family) {\n    this.props.setDocumentFontFamily(family)\n  }\n\n  addFont(family) {\n    //this.props.setDocumentFontFamily(family)\n    this.props.addFontFamily(family)\n    const toAdd = this.state.toAdd.filter(f => f !== family)\n    this.setState({toAdd, selection: toAdd[0]})\n  }\n\n  loadFont = (family) => {\n    const request = `${family}:${fontStyles[family] || fontStyles.default}`\n    WebFont.load({\n      google: {\n        families: [request]\n      },\n      fontactive: () => this.addFont(family),\n      fontinactive: () => console.error(`Could not load font ${family}`),\n    })\n  }\n\n  loadAll = () => {\n    if (this.state.toAdd.length === 1) {\n      return null\n    }\n    WebFont.load({\n      google: {\n        families: this.state.toAdd.map(f => `${f}:${fontStyles[f] || fontStyles.default}`)\n      },\n      fontactive: (family) => this.addFont(family),\n      fontinactive: (family) => console.error(`Could not load font ${family}`),\n    })\n  }\n\n  loadInputFont = () => {\n    const family = this.state.input\n    if (family) {\n      this.loadFont(family)\n    }\n  }\n\n  loadSelectedFont = () => {\n    const family = this.state.selection\n    if (family) {\n      if (family === '__LOAD_ALL_WEB_FONTS__') {\n        this.loadAll()\n      } else {\n        this.loadFont(family)\n      }\n    }\n  }\n\n  renderButton() {\n    return (\n      <button onClick={this.loadAll}\n      >{this.props.children}</button>\n    )\n  }\n\n  renderInput() {\n    return (\n      <>\n      <input type=\"text\" \n        onChange={this.updateInput} \n        value={this.state.input}\n        placeholder=\"Enter Font Name\"\n        \n      ></input>\n      <button onClick={this.loadInputFont}\n        title=\"Load from Google Fonts\"\n      >{this.props.children}</button>\n      </>\n    )\n  }\n\n  renderSelect() {\n    return (\n      <>\n      <select \n        value={this.state.selection}\n        onChange={this.updateSelection}\n      >\n        {this.state.toAdd.map(f => <option key={`ff-${f}`} value={f}>{f}</option>)}\n        <option value=\"__LOAD_ALL_WEB_FONTS__\">Load All Web Fonts</option>\n      </select>\n      <button onClick={this.loadSelectedFont}>Load</button>\n      </>\n    )\n  }\n\n  render() {\n    if (this.props.type === 'button') {\n      return this.renderButton()\n    }\n    if (this.props.type === 'input') {\n      return this.renderInput()\n    }\n    if (this.props.type === 'select') {\n      return this.renderSelect()\n    }\n  }\n}\n\nconst mapStateToProps = state => ({\n  localFonts: state.config.localFonts,\n})\nconst mapDispatchToProps = dispatch => ({\n  addFontFamily: f => dispatch(addFontFamily(f)),\n  setDocumentFontFamily: f => dispatch(setDocumentFontFamily(f)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontLoader)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setMathFontSize, setMathFontWeight, setMathFontFamily } from '../../../actions/style'\n\nclass MathFontSettings extends React.Component {\n  static propTypes = {\n    currentSize: PropTypes.string,\n    currentWeight: PropTypes.string,\n    currentFamily: PropTypes.string,\n    setMathFontSize: PropTypes.func.isRequired,\n    setMathFontWeight: PropTypes.func.isRequired,\n    setMathFontFamily: PropTypes.func.isRequired,\n  }\n\n  setSize(size) {\n    this.props.setMathFontSize(size)\n  }\n\n  setWeight(weight) {\n    this.props.setMathFontWeight(weight)\n  }\n  setFamily(family) {\n    this.props.setMathFontFamily(family)\n  }\n\n  onChangeSize = evt => {\n    this.setSize(evt.target.value + 'em')\n  }\n\n  onChangeWeight = evt => {\n    if (evt.target.checked) {\n      this.setWeight('bold')\n    } else {\n      this.setWeight('normal')\n    }\n  }\n\n  onChangeFamily = evt => {\n    this.setFamily(evt.target.value)\n  }\n\n  render() {\n    return (\n      <>\n        <span>Font: </span>\n        <select\n          onChange={this.onChangeFamily}\n          value={this.props.currentFamily}\n        >\n          <option value=\"__DEFAULT__\">Default (KaTeX)</option>\n          <option value=\"__MATCH__\">Match Document Font</option>\n        </select>\n        <br/>\n        <span>Relative Size:</span>\n        <input\n          type=\"number\"\n          onChange={this.onChangeSize}\n          value={this.props.currentSize.slice(0,-2)}\n          min=\"0.7\"\n          max=\"2.0\"\n          step=\"0.1\"/>\n        <br/>\n        <label htmlFor=\"math-font-bold\">Bold:</label>\n        <input id=\"math-font-bold\"\n          ref={this.bold} \n          onChange={this.onChangeWeight}\n          type=\"checkbox\"\n          checked={this.props.currentWeight === 'bold'}\n        />\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  currentSize: state.style.mathFontSize,\n  currentWeight: state.style.mathFontWeight,\n  currentFamily: state.style.mathFontFamily,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setMathFontFamily: (family) => dispatch(setMathFontFamily(family)),\n  setMathFontSize: (size) => dispatch(setMathFontSize(size)),\n  setMathFontWeight: (weight) => dispatch(setMathFontWeight(weight)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MathFontSettings)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { RenderJson } from '../../../renderJson'\n\n\nconst tabsize = 2;\n\nfunction onKeyDown(evt) {\n  if (evt.keyCode === 9) { // handle tab\n    let target = evt.target;\n    const start = target.selectionStart;\n    const end = target.selectionEnd;\n    const value = target.value;\n    target.value = value.substring(0,start) + Array(tabsize).fill(' ').join('') + value.substring(end);\n    target.selectionStart = start + tabsize;\n    target.selectionEnd = end + tabsize;\n    evt.preventDefault();\n  } else if (evt.keyCode === 8) { // handle backspace\n    let target = evt.target;\n    const start = target.selectionStart;\n    if (start === target.selectionEnd) {\n      const value = target.value;\n      if (value.substring(start-tabsize, start) === Array(tabsize).fill(' ').join('')) {\n        target.value = value.substring(0,start-tabsize) + value.substring(start);\n        target.selectionStart = start - tabsize;\n        target.selectionEnd = start - tabsize;\n        evt.preventDefault();\n      }\n    }\n  }\n}\n\nclass TextPreview extends React.Component {\n  static propTypes = {\n    defaultValue: PropTypes.string,\n    renderType: PropTypes.string.isRequired\n  }\n\n  static defaultProps = {\n    renderType: 'text',\n    wrapperElement: 'div',\n  }\n\n  constructor(props) {\n    super(props)\n    const style = this.props.style || {}\n    this.inputStyle = style.input || {}\n    this.outputStyle = style.output || {}\n    this.input = React.createRef()\n    this.state = { text: props.defaultValue || '' }\n  }\n\n  updatePreview = (evt) => {\n    this.setState({ text: evt.target.value })\n  }\n\n  renderPreview() {\n    if (this.props.renderType === 'text') {\n      return this.state.text.split('\\n\\n').map((t,i) => (\n        <RenderJson key={i} json={['Text', t]} />\n      ))\n    } else if (this.props.renderType === 'json') {\n      try {\n        const json = JSON.parse(this.state.text)\n        return <RenderJson json={json} />\n      } catch(e) {\n        return \"Failed to render\"\n      }\n    }\n  }\n\n  render() {\n    return (\n      <>\n      <this.props.wrapperElement className='text-preview-input' >\n        <textarea \n          style={this.inputStyle}\n          onChange={this.updatePreview}\n          onKeyDown={onKeyDown}\n          value={this.state.text}\n        />\n      </this.props.wrapperElement>\n      <this.props.wrapperElement className='text-preview-output' >\n        <div className='document' style={this.outputStyle}>\n          {this.renderPreview()}\n        </div>\n      </this.props.wrapperElement>\n      </>\n    )\n  }\n}\n\nexport default TextPreview","import AddLocalFont from './AddLocalFont'\nimport FontFamilyUI from './FontFamilyUI'\nimport FontFamily from './FontFamily'\nimport FontSize from './FontSize'\nimport FontSettings from './FontSettings'\nimport TextPreview from './TextPreview'\n\nexport {\n  FontFamily,\n  FontSize,\n  AddLocalFont,\n  FontFamilyUI,\n  FontSettings,\n  TextPreview\n}\n\nexport default FontSettings","import React from 'react'\nimport FontFamily from './FontFamily'\nimport FontLoader from './FontLoader'\nimport MathFontSettings from './MathFontSettings'\nimport FontFamilyUI from './FontFamilyUI'\nimport TextPreview from './TextPreview'\n\nconst previewtext = `To solve an equation of the form $$ax^2 + bx + c = 0$$, use the *quadratic formula*:\n\n$$$x = \\\\frac{-b \\\\pm \\\\sqrt{b^2 - 4ac}}{2a}$$$\n\nThe angles of $$\\\\triangle{ABC}$$ add to $$180\\\\degree$$.\n\nThe **volume** of a sphere is $$\\\\frac{4}{3}\\\\pi r^3$$.\n\n***Remember*** that $$e^{i\\\\theta} = \\\\cos\\\\theta + i\\\\sin\\\\theta$$.\n\nIt can be difficult to distinguish between J I l 1.`\n\n\nconst FontSettings = () => {\n  return (\n    <>\n      <h4>Document Font</h4>\n      <div>\n        Font Selection Method: <FontFamilyUI />\n      </div>\n      <div>\n        Font: <FontFamily/> \n      </div>\n      <h4>Web Fonts</h4>\n      <div>\n        <FontLoader type=\"input\">Load</FontLoader>\n        <br/>\n        <FontLoader type=\"button\">Load Suggested Fonts</FontLoader>\n      </div>\n      <h4>Math Font</h4>\n      <div style={{justifyItems: 'right'}}>\n        <MathFontSettings />\n      </div>\n      <h4>Preview</h4>\n      <div style={{display: 'flex', flexDirection: 'row', '--doc-font-size': '11pt'}}>\n        <TextPreview wrapperElement='div' defaultValue={previewtext} style={{input: {height: '110%'}, output: {height: '110%'}}}/>      \n      </div>\n    </>\n  )\n}\n\nexport default FontSettings","import React from 'react'\nimport { TextPreview } from '../Settings/Font'\nimport styles from './styles.module.css'\n\nconst latexfmt = (...a) => String.raw(...a).replace('\\\\`', '`');\n\nconst examples = [\n  'Text can be _italic_, __bold__, or ___both___.',\n  'Or, *asterisks* will **accomplish** the ***same thing***.',\n  latexfmt`f: x --> x^3^ - 3x^2^ + 9x - 8 doesn't look as nice as $$f: x \\mapsto x^3 - 3x^2 + 9x - 8$$`,\n  latexfmt`**Markdown:** a~n~ = a~n-1~ + 2n - 1 , **LaTeX:** $$a_n = a_{n-1} + 2n - 1$$`,\n  latexfmt`There are two ways to write a fraction: $$\\frac{24}{18} = {4 \\over 3}$$`,\n  latexfmt`$$V = \\frac{4}{3}\\pi r^3$$`,\n  latexfmt`Use the quadratic formula to solve for $$x$$: $$$x = { -b \\pm \\sqrt{b^2 - 4ac} \\over 2a }$$$`,\n  latexfmt`Determine the measure of $$\\angle{ABC}$$.`,\n  latexfmt`$$\\overline{AB}$$ is a line segment. $$\\overleftrightarrow{CD}$$ is a line. $$\\overrightarrow{EF}$$ is a ray.`,\n  latexfmt`Prove that $$\\triangle{ABC} \\cong \\triangle{DEF}$$.`,\n  latexfmt`Given $$\\vec{u} = \\langle 3,5 \\rangle$$ and $$\\vec{v} = \\langle -4, 9 \\rangle$$, calculate $$\\vec{u} \\cdot \\vec{v}$$.`,\n  latexfmt`Remember that $$re^{i\\theta} = r(\\cos\\theta + i\\sin\\theta)$$`,\n  latexfmt`$$$\\int_a^b f'(x)dx = f(b) - f(a)$$$`,\n  latexfmt`$$$\\sum_{n=0}^{\\infty}\\frac{f^{(n)}(a)}{n!}(x-a)^n$$$`,\n  latexfmt`$$\\lnot (p \\land q) \\iff (\\lnot p \\lor \\lnot q)$$`,\n\n  latexfmt`$$$\na_{n+1} = \\left\\{\\begin{array}{r l}\n  3a_n + 1 & \\text{if $a_n$ is odd} \\\\\n  a_n \\div 2 & \\text{if $a_n$ is even} \\\\\n\\end{array}\\right.\n$$$`,\n\n  latexfmt`$$$\n\\left[\\begin{array}{r r r}\n   1 &   4 &  -9 \\\\\n  16 & -25 &  66 \\\\\n  49 &  64 & -81 \\\\\n\\end{array}\\right]\n$$$`,\n\n  latexfmt`$$\\forall\\ \\epsilon > 0, x \\in \\mathbb{R},\\ \\exists\\ \\delta > 0 \\text{ such that } 0 < |x-c| < \\delta \\implies |f(x) - L| < \\epsilon$$`,\n\n]\n\n/*\nconst RenderExample = ({text}) => {\n  return (\n    <>\n    <pre style={{\n      backgroundColor: 'rgba(255,255,200,0.5)',\n      border: '1px solid black',\n      padding: '0.5rem',\n      overflowX: 'scroll',\n    }}>{text}</pre>\n    <span className='document' \n      style={{\n      paddingLeft: '0.5rem',\n      fontSize: '1em',\n    }}>\n      <RenderElement content={{type: 'text', data: text}}/>\n    </span>\n    </>\n  )\n}\n*/\n\nconst RenderExample = ({text}) => (\n  <tr>\n    <TextPreview wrapperElement='td' defaultValue={text} />\n  </tr>\n)\n\nconst LatexExamples = (props) => {\n  return (\n    <div style={{padding: '3mm 0 3mm 0'}}>\n    <div>\n      <span>Examples:</span>\n      <button onClick={props.onRequestClose}>Close</button>\n    </div>\n    <table className={styles.LatexExamples}>\n      <tbody>\n      {examples.map((s, i) => (\n          <RenderExample key={`render-example-${i}`} text={s} />\n      ))}\n      </tbody>\n    </table>\n    <div>\n      <button onClick={props.onRequestClose}>Close</button>\n    </div>\n    </div>\n  )\n}\n\nexport default LatexExamples","import React from 'react'\nimport { RenderJson } from '../../renderJson'\nimport styles from './styles.module.css'\nimport math from 'mathjs'\n\n\nconst round = function(v, n) {\n  const d = Math.pow(10,n)\n  return Math.floor(d*v) / d\n}\n\nfunction calcParametric(x, y, domain, step) {\n  const f = (t) => ({x: round(x(t), 6), y: round(y(t), 6)})\n  let paths = []\n  let points = []\n  let t = domain[0]\n  while (t < domain[1]) {\n    try {\n      const pt = f(t)\n      if (points.length > 0 && Math.abs(pt.y - points[points.length-1].y) > 100) {\n        paths.push(points)\n        points = [pt]\n      } else {\n        points.push(pt)\n      }\n    } catch(e) {\n      if (points.length > 0) {\n        paths.push(points)\n        points = []\n      }\n    }\n    t += step\n  }\n  try {\n    points.push(f(domain[1]))\n  } catch(e) {}\n  if (points.length > 0) paths.push(points)\n  return paths\n}\n\nfunction parseFunction(str) {\n  try {\n    const nodes = math.parse(str)\n    const func = nodes.compile()\n    return scope => func.eval(scope)\n  } catch(e) {\n    console.error(e)\n  }\n}\n\n\n\nclass GraphMaker extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      mode: 'standard',\n      standard: 'x',\n      inverse: 'y',\n      parametricX: 't',\n      parametricY: 't',\n      x0: -10,\n      x1: 10,\n      y0: -10,\n      y1: 10,\n      t0: -10,\n      t1: 10,\n      step: 0.1,\n      height: 1.5,\n      autoDomain: 'auto',\n      autoSize: 'auto',\n    }\n  }\n\n  updateMode = evt => this.setState({mode: evt.target.value})\n  updateStandard = evt => this.setState({standard: evt.target.value})\n  updateInverse = evt => this.setState({inverse: evt.target.value})\n  updateParametricX = evt => this.setState({parametricX: evt.target.value})\n  updateParametricY = evt => this.setState({parametricY: evt.target.value})\n  updateX0 = evt => this.setState({x0: evt.target.value})\n  updateX1 = evt => this.setState({x1: evt.target.value})\n  updateY0 = evt => this.setState({y0: evt.target.value})\n  updateY1 = evt => this.setState({y1: evt.target.value})\n  updateT0 = evt => this.setState({t0: evt.target.value})\n  updateT1 = evt => this.setState({t1: evt.target.value})\n  updateStep = evt => this.setState({step: evt.target.value})\n  updateHeight = evt => this.setState({height: evt.target.value})\n  updateAutoDomain = evt => this.setState({autoDomain: evt.target.value})\n  updateAutoSize = evt => this.setState({autoSize: evt.target.value})\n\n  renderMode() {\n    return (\n      <select value={this.state.mode}\n        onChange={this.updateMode}\n      >\n        <option value='standard' title=\"y is a function of x\">Standard</option>\n        <option value='inverse' title=\"x is a function of y\">Inverse</option>\n        <option value='parametric' title=\"x and y are functions of t\">Parametric</option>\n      </select>\n    )\n  }\n\n  renderGridInputs() {\n    return (\n      <>\n      <table>\n        <tbody>\n          <tr>\n            <th /><th>Min</th><th>Max</th>\n          </tr>\n          <tr>\n            <td>x</td>\n            <td><input type=\"number\" value={this.state.x0} onChange={this.updateX0} /></td>\n            <td><input type=\"number\" value={this.state.x1} onChange={this.updateX1} /></td>\n          </tr>\n          <tr>\n            <td>y</td>\n            <td><input type=\"number\" value={this.state.y0} onChange={this.updateY0} /></td>\n            <td><input type=\"number\" value={this.state.y1} onChange={this.updateY1} /></td>\n          </tr>\n        </tbody>\n      </table>\n      </>\n    )\n  }\n\n  renderInputs() {\n    if (this.state.mode === 'standard') {\n      return (\n        <table>\n          <tbody>\n            <tr>\n              <td>y=</td>\n              <td><textarea value={this.state.standard} onChange={this.updateStandard}/></td> \n            </tr>\n          </tbody>\n        </table>\n      )\n    }\n    if (this.state.mode === 'inverse') {\n      return (\n        <table>\n          <tbody>\n            <tr>\n              <td>x=</td>\n              <td><textarea value={this.state.inverse} onChange={this.updateInverse}/></td> \n            </tr>\n          </tbody>\n        </table>\n      )\n    }\n    if (this.state.mode === 'parametric') {\n      return (\n        <table>\n          <tbody>\n            <tr>\n              <td>x=</td>\n              <td><textarea value={this.state.parametricX} onChange={this.updateParametricX}/></td>\n            </tr>\n            <tr>\n              <td>y=</td>\n              <td><textarea value={this.state.parametricY} onChange={this.updateParametricY}/></td>\n            </tr>\n          </tbody>\n        </table>\n      )\n    }\n  }\n\n\n  renderDomainInput() {\n    return (\n      <>\n      Step:\n      <input type=\"number\" \n        step={0.01}\n        value={this.state.step} \n        onChange={this.updateStep}\n        min={0}\n      /><br/>\n        Domain: \n        {this.state.mode !== 'parametric' ? (\n          <select value={this.state.autoDomain} onChange={this.updateAutoDomain}>\n            <option value='auto'>Auto</option>\n            <option value='custom'>Custom</option>\n          </select>\n        ) : <br/>}\n        {(this.state.autoDomain === 'custom' || this.state.mode === 'parametric') ? (\n          <div>\n          <input type=\"number\" value={this.state.t0} onChange={this.updateT0} />\n          to \n          <input type=\"number\" value={this.state.t1} onChange={this.updateT1} />\n          </div>\n        ) : null }        \n      </>\n    )\n  }\n\n  renderHeightInput() {\n    return (\n      <>\n      Height:\n      <select value={this.state.autoSize} onChange={this.updateAutoSize}>\n        <option value='auto'>Default</option>\n        <option value='custom'>Custom</option>\n      </select>\n      {this.state.autoSize === 'custom' ? (\n        <>\n          <br/>\n          Inches:\n          <input type=\"number\"\n            step={0.1}\n            value={this.state.height}\n            onChange={this.updateHeight}\n            min={0}\n          />\n        </>\n      ) : null}\n      </>\n    )\n  }\n\n  graphSize() {\n    return {\n      span: [\n        +this.state.x0, \n        +this.state.y0, \n        +this.state.x1, \n        +this.state.y1\n      ],\n    }\n  }\n\n  getDomain() {\n    if (this.state.mode === 'parametric' || this.state.autoDomain === 'custom') {\n      return [+this.state.t0, +this.state.t1]\n    }\n    if (this.state.mode === 'standard') {\n      return [+this.state.x0, +this.state.x1]\n    }\n    if (this.state.mode === 'inverse') {\n      return [+this.state.y0, +this.state.y1]\n    }\n  }\n\n  getFunction() {\n    const step = this.state.step > 0 ? +this.state.step : 0.002\n    const domain = this.getDomain()\n    switch(this.state.mode) {\n      case 'standard':\n        const ymap = parseFunction(this.state.standard)\n        if (ymap) {\n          const paths = calcParametric(t=>t, x=>ymap({x}), domain, step)\n          return paths.map(p => ['Path', {points: p}])\n        }\n        return null\n\n      case 'inverse':\n        const xmap = parseFunction(this.state.inverse)\n        if (xmap) {\n          const paths = calcParametric(y=>xmap({y}), t=>t, domain, step)\n          return paths.map(p => ['Path', {points: p}])\n        }\n        return null\n      case 'parametric':\n        const xpmap = parseFunction(this.state.parametricX)\n        const ypmap = parseFunction(this.state.parametricY)\n        if (xpmap && ypmap) {\n          const paths = calcParametric(t=>xpmap({t}), t=>ypmap({t}), domain, step)\n          return paths.map(p => ['Path', {points: p}])\n        }\n        return null\n      default:\n        return null\n    }\n  }\n\n  getData() {\n    let props = {\n      ...this.graphSize(), \n      autogrid: true,\n    }\n    if (this.state.autoSize === 'custom') {\n      props.height = this.state.height + 'in'\n    } else {\n      props.height = '2in'\n    }\n    const paths = this.getFunction()\n    if (paths) {\n      return ['CoordinatePlane', props, ...paths]\n    }\n    return ['CoordinatePlane', props]\n  }\n\n  onSubmit = () => {\n    this.props.onSubmit(this.getData())\n    this.props.onRequestClose()\n  }\n\n  render() {\n    return (\n      <div className={styles.GraphMaker}>\n        <div className={styles.GraphMakerHeading}>\n          <button onClick={this.onSubmit}>Apply</button>\n          <button onClick={this.props.onRequestClose}>Cancel</button>\n        </div>\n        <div className={styles.GraphMakerBody}>\n          <div className={styles.GraphMakerInput}>\n            <div style={{margin: '3mm'}}>\n              Graphing Mode {this.renderMode()}\n              {this.renderInputs()}\n            </div>\n            <div style={{margin: '3mm'}}>\n            {this.renderDomainInput()}\n            </div>\n            <div style={{margin: '3mm'}}>\n              {this.renderGridInputs()}\n            </div>\n            <div>\n              {this.renderHeightInput()}\n            </div>\n          </div>\n          <div className={styles.GraphMakerPreview}>\n            <div className='document preview-area'>\n              <RenderJson json={this.getData()} />\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport default GraphMaker","import React from 'react'\nimport { connect } from 'react-redux'\nimport { RenderJson } from '../../renderJson'\nimport { addToDocument } from '../../actions/document'\nimport LatexExamples from './LatexExamples'\nimport GraphMaker from './GraphMaker'\nimport ReactModal from 'react-modal'\n\nconst tabsize = 2;\n\nfunction onKeyDown(evt) {\n  if (evt.keyCode === 9) { // handle tab\n    let target = evt.target;\n    const start = target.selectionStart;\n    const end = target.selectionEnd;\n    const value = target.value;\n    target.value = value.substring(0,start) + Array(tabsize).fill(' ').join('') + value.substring(end);\n    target.selectionStart = start + tabsize;\n    target.selectionEnd = end + tabsize;\n    evt.preventDefault();\n  } else if (evt.keyCode === 8) { // handle backspace\n    let target = evt.target;\n    const start = target.selectionStart;\n    if (start === target.selectionEnd) {\n      const value = target.value;\n      if (value.substring(start-tabsize, start) === Array(tabsize).fill(' ').join('')) {\n        target.value = value.substring(0,start-tabsize) + value.substring(start);\n        target.selectionStart = start - tabsize;\n        target.selectionEnd = start - tabsize;\n        evt.preventDefault();\n      }\n    }\n  }\n}\n\nconst jsonExample = `{\n  \"instructions\": \"Use the Pythagorean Theorem: $$a^2 + b^2 = c^2$$\",\n\n  \"question\": \"Which is closest to the length of $$\\\\\\\\overline{XY}$$?\",\n\n  \"answer\": {\n    \"choices\": [6, 8, 10, 12, 14],\n    \"correct\": 10\n  },\n\n  \"diagram\": [\n    \"CoordinatePlane\",\n    {\n      \"span\": \"-5,-5 5,5\", \n      \"axis\": false, \n      \"height\": \"1.5in\",\n      \"style\": \"geometry green dashed\"\n    },\n    [\n      \"Path\", \n      {\n        \"points\": \"-4,3 4,-3\", \n        \"markers\": \".-.\"\n      }\n    ],\n    [\n      \"Overlay\", \n      {\n        \"x\": -4, \n        \"y\": 3, \n        \"anchor\": \"S\"\n      }, \n      \"$$X$$\"\n    ],\n    [\n      \"Overlay\", \n      {\n        \"x\": 4, \n        \"y\": -3, \n        \"anchor\": \"N\"\n      }, \n      \"$$Y$$\"\n    ]\n  ]\n}`\n\n\nclass CustomQuestion extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      inputType: 'manual',\n      instructions: '',\n      question: '',\n      answer: '',\n      diagram: '',\n      json: '',\n      modal: 'none',\n    }\n    //this.inputType = React.createRef()\n    //this.instructions = React.createRef()\n    //this.question = React.createRef()\n    //this.answer = React.createRef()\n    //this.json = React.createRef()\n  }\n\n  openExamples = () => this.setState({ modal: 'examples' })\n  openGraphMaker = () => this.setState({modal: 'graph'})\n  closeModal = () => this.setState({ modal: 'none' })\n\n  updateInstructions = (evt) => {\n    this.setState({ instructions: evt.target.value })\n  }\n  updateQuestion = (evt) => {\n    this.setState({ question: evt.target.value })\n  }\n  updateDiagram = (diagram) => {\n    this.setState({diagram})\n  }\n  updateAnswer = (evt) => {\n    this.setState({ answer: {...this.state.answer, correct: evt.target.value }})\n  }\n  updateJSON = (evt) => {\n    this.setState({ json: evt.target.value })\n  }\n\n  updateInputType = (evt) => {\n    this.setState({inputType: evt.target.value})\n  }\n\n  getDataFromState() {\n    if (this.state.inputType === 'manual') {\n      const content = {}\n      for (const k of ['instructions', 'question', 'answer']) {\n        if (this.state[k]) {\n          content[k] = this.state[k]\n        }\n      }\n      if (this.state.diagram) {\n        content.diagram = this.state.diagram\n      }\n      return content\n    } else if (this.state.inputType === 'json') {\n      try {\n        const content = JSON.parse(this.state.json)\n        return content\n      } catch(e) {\n      }\n    }\n  }\n\n  addQuestion = () => {\n    const props = {content: this.getDataFromState()}\n    this.props.addToDocument(['NumberedQuestion', props])\n    this.props.onRequestClose()\n  }\n\n  renderInputs() {\n    if (this.state.inputType === 'manual') {\n      const inputStyle = {width:'30rem'}\n      return (\n        <div >\n          <p>\n            Tip: Text surrounded with $$ ... $$ will be treated as a math formula.\n          </p>\n          <button onClick={this.openExamples}>See Examples</button>\n          <p>Instructions:</p>\n          <textarea \n            value={this.state.instructions}\n            onChange={this.updateInstructions}\n            style={inputStyle}\n            ></textarea>\n\n          <p>Question:</p>\n          <textarea \n            value={this.state.question}\n            onChange={this.updateQuestion}\n            style={inputStyle}\n          ></textarea>\n\n          <p>Diagram:</p>\n          <button onClick={this.openGraphMaker}>Add Graph</button>\n          \n          <p>Answer:</p>\n          <textarea \n            value={this.state.answer.correct}\n            onChange={this.updateAnswer}\n            style={inputStyle}\n          ></textarea>\n        </div>\n      )\n    } else {\n      return (\n        <>\n          <button onClick={this.setJsonExample}>See example</button>\n          <br/>\n          <textarea \n            value={this.state.json}\n            onChange={this.updateJSON}\n            onKeyDown={onKeyDown}\n            spellCheck={false}\n            style={{width:'30rem', height: '18rem', fontSize: '0.9em'}}\n          />\n          <br/>\n        </>\n      )\n    }\n  }\n\n  setJsonExample = () => {\n    const json = jsonExample\n    this.setState({ json })\n  }\n\n  renderPreview() {\n    const content = this.getDataFromState()\n    const previewStyle = {\n      margin: '2mm',\n      width: 'fit-content',\n      fontSize: '1.2em',\n      minWidth: '3in',\n    }\n    const props = { content }\n    return (\n      <>\n      <p>Question</p>\n      <div className='document preview-area' style={previewStyle}>\n        {content ? <RenderJson json={['Question', props]} /> : null}\n      </div>\n      <p>Answer</p>\n      <div className='document preview-area' style={previewStyle}>\n        {content ? <RenderJson json={['AnswerKey', props]} /> : null}\n      </div>\n      </>\n    )\n  }\n\n  render() {\n    const divstyle = {\n      width: 'auto',\n      padding: '0',\n      margin: '0',\n      display: 'grid',\n      gridTemplateAreas: '\"inputs preview\"',\n      gridTemplateColumns: 'auto auto',\n    }\n    return (\n      <>\n      \n      <div style={divstyle}>\n        <div style={{gridArea: 'inputs'}}>\n          <h4 style={{gridArea: 'title'}}>Custom Question</h4>\n          <select ref={this.inputType} onChange={this.updateInputType}>\n            <option value=\"manual\">Manual</option>\n            <option value='json'>JSON</option>\n          </select>\n          {this.renderInputs()}\n          <button onClick={this.addQuestion}>Add to Assignment</button>\n        </div>\n        <div style={{gridArea: 'preview'}}>\n          <h4>Preview</h4>\n          {this.renderPreview()}\n        </div>\n      </div>\n      \n\n\n      <ReactModal isOpen={this.state.modal === 'examples'}\n        onRequestClose={this.closeModal}\n        style={{\n          content: {\n            backgroundColor: 'var(--ui-page, white)',\n            color: 'black',\n          }\n        }}\n      >\n        <LatexExamples onRequestClose={this.closeModal}/>\n      </ReactModal>\n\n      <ReactModal isOpen={this.state.modal === 'graph'}\n        onRequestClose={this.closeModal}\n      >\n        <GraphMaker onRequestClose={this.closeModal} onSubmit={this.updateDiagram}/>\n      </ReactModal>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: (q) => dispatch(addToDocument(q))\n})\n\nexport default connect(null, mapDispatchToProps)(CustomQuestion)","import { connect } from 'react-redux'\nimport CustomQuestion from './CustomQuestion'\nimport {\n  addToDocument\n} from '../../actions/document'\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: (thing) => dispatch(addToDocument(thing))\n})\n\nexport default connect(null, mapDispatchToProps)(CustomQuestion)","import React from 'react'\nimport { connect } from 'react-redux'\n\nclass CheckStateButton extends React.Component {\n\n  logState = () => {console.log(this.props.state)}\n\n  render() {\n    return <button onClick={this.logState}>{this.props.children}</button>\n  }\n}\n\nconst mapStateToProps = state => ({\n  state: state,\n})\n\nexport default connect(mapStateToProps)(CheckStateButton)","import QGen from './QGen'\nimport Polynomial from 'polynomial'\nimport { includes } from 'lodash'\n\nfunction lineThroughPoints(a, b) {\n  /** returns polynomial coefficients */\n  const m = (b[1] - a[1]) / (b[0] - a[0])\n  return [a[1] - m*a[0], m]\n}\n\nfunction congruentOrSupplementary() {\n  const rd = this.random;\n  \n  let [leadingCoeff1, leadingCoeff2] = rd.sampleRange(2,8,2);\n  while (Math.abs(leadingCoeff1 - leadingCoeff2) < 2) {\n    [leadingCoeff1, leadingCoeff2] = rd.sampleRange(2,8,2);\n  }\n\n  const congruentVal = rd.randint(3,12);\n  const dx = ((leadingCoeff1 % 2) === (leadingCoeff2 % 2)) ? rd.randint(4,12) : 2*rd.randint(1,6)\n  const l = (180 - leadingCoeff1*dx - leadingCoeff2*dx) / 2\n\n  const supplementaryVal = congruentVal + dx\n  const f = lineThroughPoints([congruentVal, l], [supplementaryVal, leadingCoeff1*dx+l])\n  const g = lineThroughPoints([congruentVal, l], [supplementaryVal, 180 - (f[0] + f[1]*supplementaryVal)])\n\n  return {\n    f: new Polynomial(f).toLatex(),\n    g: new Polynomial(g).toLatex(),\n    solution: {\n      congruent: congruentVal,\n      supplementary: supplementaryVal,\n    }\n  }\n}\n\nconst translate = (a, b) => [a[0] + b[0], a[1]+ b[1]]\nconst difference = (a, b) => [a[0] - b[0], a[1] - b[1]]\nconst complexMult = (a, b) => [a[0] * b[0] - a[1] * b[1], a[1] * b[0] + a[0] * b[1]]\n\nconst rotate = (pt, angle, center=[0,0]) => {\n\tconst radians = angle * Math.PI / 180\n\tconst rotator = [Math.cos(radians), Math.sin(radians)]\n\tconst recenter = difference(pt, center)\n\treturn translate(complexMult(recenter, rotator), center)\n}\n\n\n\nexport class TransversalNames extends QGen {\n\tstatic info = {\n\t\tname: 'Transversal Relations',\n\t\tdescription: 'Name the relation of two angles',\n\t}\n\n\tstatic params = {\n\t\tpossibleRelations: {\n\t\t\tlabel: 'Possible relations',\n\t\t\ttype: 'multiple-select',\n\t\t\toptions: [\n\t\t\t\t'alternate exterior',\n\t\t\t\t'alternate interior',\n\t\t\t\t//'consecutive exterior',\n\t\t\t\t'consecutive interior',\n\t\t\t\t'corresponding',\n\t\t\t\t'linear',\n\t\t\t\t'vertical', \n\t\t\t],\n\t\t}\n\t}\n\n\tstatic defaultParams = {\n\t\tpossibleRelations: {\n\t\t\t'alternate exterior': true,\n\t\t\t'alternate interior': true,\n\t\t\t'consecutive exterior': false,\n\t\t\t'consecutive interior': true,\n\t\t\t'corresponding': true,\n\t\t\t'linear': true,\n\t\t\t'vertical': true,\n\t\t}\n\t}\n\n\tgenerate(params) {\n\n\t\tconst rd = this.random\n\t\tconst possibleRelations = Object.keys(params.possibleRelations).filter(k => params.possibleRelations[k])\n\t\tconst answer = rd.choice(possibleRelations)\n\n\t\tconst angle1 = rd.randint(45, 135)\n\n\t\tconst rotateBy = rd.randint(-25,25)\n\n\t\tconst r1 = 8\n\t\tconst r2 = 5\n\t\tconst intersect1 = [-r1/2,0]\n\t\tconst pp = [r2 * Math.cos(angle1 * Math.PI / 180), r2 * Math.sin(angle1 * Math.PI / 180)]\n\t\tconst top1 = translate(intersect1, pp)\n\t\tconst bottom1 = difference(intersect1, pp)\n\n\t\tconst intersect2 = [-intersect1[0], intersect1[1]]\n\t\tconst top2 = [top1[0] + r1, top1[1]]\n\t\tconst bottom2 = [bottom1[0] + r1, bottom1[1]]\n\n\t\tconst left = [intersect1[0] - r2, intersect1[1]]\n\t\tconst right = [intersect2[0] + r2, intersect2[1]]\n\n\t\tfunction angleMark(transversal, position, linear=false) {\n\t\t\t// transversal: 1 or 2 \n\t\t\t// position: 'a', 'b', 'c', or 'd'\n\n\t\t\tconst result = linear ? {radius: 1.8} : {minRadius: 1.6};\n\n\t\t\tif (transversal === 1) {\n\t\t\t\tresult.coords = intersect1;\n\t\t\t} else {\n\t\t\t\tresult.coords = intersect2;\n\t\t\t}\n\t\t\tif (position === 'a') {\n\t\t\t\tresult.start = 0;\n\t\t\t\tresult.end = angle1;\n\t\t\t} else if (position === 'b') {\n\t\t\t\tresult.start = angle1;\n\t\t\t\tresult.end = 180;\n\t\t\t} else if (position === 'c') {\n\t\t\t\tresult.start = 180;\n\t\t\t\tresult.end = 180 + angle1;\n\t\t\t} else {\n\t\t\t\tresult.start = 180 + angle1;\n\t\t\t\tresult.end = 360;\n\t\t\t}\n\t\t\treturn result\n\t\t}\n\n\t\tconst relations = {\n\t\t\t'alternate exterior': ['1b:2d', '1c:2a'],\n\t\t\t'alternate interior': ['1a:2c', '1d:2b'],\n\t\t\t'consecutive exterior': ['1b:2a', '1c:2d'],\n\t\t\t'consecutive interior': ['1a:2b', '1d:2c'],\n\t\t\t'corresponding': ['1a:2a', '1b:2b', '1c:2c', '1d:2d'],\n\t\t\t'linear': [\n\t\t\t\t'1a:1b', '1b:1c', '1c:1d', '1d:1a',\n\t\t\t\t'2a:2b', '2b:2c', '2c:2d', '2d:2a',\n\t\t\t],\n\t\t\t'vertical': ['1a:1c', '1b:1d', '2a:2c', '2b:2d'], \n\t\t}\n\n\t\tconst choices = (\n\t\t\tpossibleRelations.length > 5 \n\t\t\t? [answer, ...rd.sample(possibleRelations.filter(k => k != answer), 4)] \n\t\t\t: [...possibleRelations]\n\t\t)\n\t\twhile (choices.length < 5) {\n\t\t\tconst k = rd.choice(Object.keys(relations))\n\t\t\tif (!includes(choices, k)) {\n\t\t\t\tchoices.push(k)\n\t\t\t}\n\t\t}\n\n\t\tconst anglesToMark = rd.choice(relations[answer])\n\t\tconst [a1, a2] = anglesToMark.split(':')\n\n\t\tconst angleMark1 = angleMark(+a1[0], a1[1], answer === 'linear')\n\t\tconst angleMark2 = angleMark(+a2[0], a2[1], answer === 'linear')\n\t\t\n\t\tconst diagram = [\n\t\t\t'CoordinatePlane',\n\t\t\t{\n\t\t\t\tspan: [-11,-7,11,7], margin: '0mm', width: '2.5in', \n\t\t\t\tgrid: false, axis: false, style: 'geometry',\n\t\t\t},\n\t\t\t[\n\t\t\t\t'Transform', \n\t\t\t\t{type: 'rotate', a: rotateBy},\n\t\t\t\t['AngleMark', angleMark1],\n\t\t\t\t['AngleMark', angleMark2],\n\t\t\t\t['Path', {points: [left, right], markers: '<->'}],\n\t\t\t\t['Path', {points: [top1, bottom1], markers: '<->'}],\n\t\t\t\t['Path', {points: [top2, bottom2], markers: '<->'}],\n\t\t\t\t['Point', {coords: intersect1}],\n\t\t\t\t['Point', {coords: intersect2}]\n\t\t\t]\n\t\t]\n\n\n\t\treturn {\n\t\t\tinstructions: 'The indicated angles are best described as ...',\n\t\t\tdiagram: diagram,\n\t\t\tanswer: {\n\t\t\t\tcorrect: answer,\n\t\t\t\tchoices: rd.shuffle(choices),\n\t\t\t},\n\t\t\tlayout: [[['instructions', 'question', 'answer'], 'diagram', ]],\n\t\t}\n\n\t}\n}\n","import QGen from './QGen'\n\n\n\nconst scramble = function(str, digitmap, slotmap) {\n  return slotmap.map(s => digitmap[+str[s]]).join('')\n}\n\nexport class PicoFermiInstructions {\n\n  static register() {\n    return {\n      name: 'Pico-fermi instructions',\n      description: 'How to play pico-fermi'\n    }\n  }\n\n  output() {\n    return ['Text', null, [\n      'In the game _Pico Fermi_, players try to guess a secret 4-digit number.',\n      'Each of the digits can be from 0 to 9 (leading zeros are allowed,',\n      \"such as 0083). After each guess, players are given a hint. A _fermi_ (f)\",\n      'is given for each number in the guess that is in the correct position,',\n      \"and a _pico_ (p) is given for each number in the guess that is correct but\",\n      'in the wrong position. For example, if the secret number was 7751 and',\n      \"the guess was 1734, the player would be told _pico fermi_, because the\",\n      \"1 was correct but in the wrong position (_pico_), and the 7 was both\",\n      \"correct and in the correct position (_fermi_). Based on the number of\",\n      \"_picos_ and _fermis_ received after each guess, a skilled player will soon\",\n      \"narrow down the possibilities to the correct one.\",\n    ].join(' ')]\n  }\n}\n\nexport class PicoFermi extends QGen {\n  static info = {\n    name: 'Pico-fermi',\n    description: 'A logic puzzle'\n  }\n\n  static options = {\n    singleColumn: true,\n  }\n\n  generate(params) {\n    const rd = this.random\n    const template = Templates[rd.choice(Object.keys(Templates))]\n    const slotmap = rd.shuffleRange(0,3)\n    const digitmap = rd.shuffleRange(0,9)\n    const answer = scramble(template.answer, digitmap, slotmap)\n    const clues = rd.shuffle(Object.keys(template.clues)).map(c => [\n      scramble(c, digitmap, slotmap), template.clues[c]\n    ])\n\n    const puzzle = [\n      'Table', {align: 'r|l'},\n      //['TRow', {header: true, align: 'rl'}, 'Guess', 'Clue'],\n      ...clues.map((c, i) => (\n        ['TRow', {border: false}, c[0], c[1]]\n      ))\n    ]\n\n    const blank = ['EmptySpace', {width: '7mm', height: '7mm', border: 'bottom'}]\n    const gap = ['EmptySpace', {width: '2mm'}]\n\n    const instructions = [\n      'The following '\n    ].join(' ')\n\n    return {\n      instructions: 'The following game of _Pico Fermi_ has only one possible solution. What is it?',\n      question: puzzle,\n      answer: {\n        correct: answer,\n        prompt: [\n          'Container', {direction: 'row', wrap: false}, \n          blank, gap, blank, gap, blank, gap, blank\n        ],\n      },\n      layout: ['instructions', 'question', 'diagram', 'answer'],\n    }\n    \n  }\n}\n\nexport class PicoFermiSet extends QGen {\n  static info = {\n    name: 'Pico-fermi set',\n    description: 'A set of puzzles of similar difficulty'\n  }\n\n  generate(params) {\n    const rd = this.random\n    const template = Templates[rd.choice(Object.keys(Templates))]\n    \n    const versions = []\n    const answers = []\n    for (const i of [1,2,3,4,5,6,7,8,9,10]) {\n      const slotmap = rd.shuffleRange(0,3)\n      const digitmap = rd.shuffleRange(0,9)\n      const clues = rd.shuffle(Object.keys(template.clues)).map(c => [\n        scramble(c, digitmap, slotmap),\n        template.clues[c]\n      ])\n      versions.push(clues)\n      answers.push(scramble(template.answer, digitmap, slotmap))\n    }\n    \n    const answer = answers.join(', ')\n\n    const makeTable = clues => [\n      'Table', {border: false, align: 'r|l'},\n      ['TRow', {header: true, border: 'bottom'}, 'Guess', 'Clue'],\n      ...clues.map((c, i) => (\n        ['TRow', {align: 'r|l', border: false}, c[0], c[1]]\n      ))\n    ]\n    \n    const question = ['Container', {direction: 'row'}]\n    for (const v of versions) {\n      question.push(['EmptySpace', {width: '5mm'}])\n      question.push(makeTable(v))\n    }\n\n    return ({\n      instructions: [\n        'These puzzles are equivalent, but the order of their clues have',\n        'been scrambled and their digits have been remapped in order',\n        'to make them appear different.'\n      ].join(' '),\n      question, \n      answer: {\n        correct: answer,\n        prompt: null,\n      },\n      layout: ['instructions', 'diagram', 'question', 'answer'],\n    })\n  }\n}\n\n\n\nconst Templates = {\n  Easy01: {\n    \"answer\": \"1295\", \n    \"clues\": {\n      \"2637\": \"p\", \n      \"0018\": \"p\", \n      \"0123\": \"pp\", \n      \"1034\": \"f\", \n      \"3352\": \"pp\"\n    }\n  },\n\n  Easy02: {\n    \"answer\": \"6779\", \n    \"clues\": {\n      \"5704\": \"f\", \n      \"5607\": \"pp\", \n      \"5109\": \"f\", \n      \"6972\": \"pff\"\n    }\n  },\n  \n\n  Easy03: {\n    \"answer\": \"3276\", \n    \"clues\": {\n      \"1670\": \"pf\", \n      \"4567\": \"pp\", \n      \"0123\": \"pp\", \n      \"1245\": \"f\", \n      \"1376\": \"pff\"\n    }\n  },\n\n  Easy04: {\n    \"answer\": \"5132\", \n    \"clues\": {\n      \"4312\": \"ppf\", \n      \"6543\": \"pp\", \n      \"4129\": \"pf\", \n      \"4230\": \"pf\"\n    }\n  },\n\n  Easy05: {\n    \"answer\": \"3606\", \n    \"clues\": {\n      \"0660\": \"ppf\", \n      \"0386\": \"ppf\", \n      \"2030\": \"pp\"\n    }\n  },\n\n  Easy06: {\n    \"answer\": \"3423\", \n    \"clues\": {\n      \"3773\": \"ff\", \n      \"2790\": \"p\", \n      \"7243\": \"ppf\", \n      \"8467\": \"f\"\n    }\n  },\n\n  Easy07: {\n    \"answer\": \"5938\", \n    \"clues\": {\n      \"5809\": \"ppf\", \n      \"3899\": \"ppp\", \n      \"7243\": \"p\", \n      \"5593\": \"ppf\"\n    }\n  },\n\n  Hard01: {\n    \"answer\": \"7225\", \n    \"clues\": {\n      \"9120\": \"f\", \n      \"7573\": \"pf\", \n      \"2450\": \"pp\", \n      \"5320\": \"pf\", \n      \"8685\": \"f\"\n    }\n  },\n\n  Hard02: {\n    \"answer\": \"2664\", \n    \"clues\": {\n      \"4567\": \"pf\", \n      \"3210\": \"p\", \n      \"5409\": \"p\", \n      \"4608\": \"pf\", \n      \"1064\": \"ff\"\n    }\n  },\n\n  Hard03: {\n    \"answer\": \"6974\", \n    \"clues\": {\n      \"4989\": \"pf\", \n      \"2954\": \"ff\", \n      \"9724\": \"ppf\", \n      \"6139\": \"pf\", \n      \"7243\": \"pp\"\n    }\n  },\n\n  NoFour: {\n    \"answer\": \"2653\", \n    \"clues\": {\n      \"4563\": \"ppf\", \n      \"4615\": \"pf\", \n      \"4652\": \"pff\"\n    }\n  },\n\n  NoEight: {\n    \"answer\": \"2497\", \n    \"clues\": {\n      \"4786\": \"pp\", \n      \"8547\": \"pf\", \n      \"0843\": \"p\", \n      \"9289\": \"pp\", \n      \"8965\": \"p\"\n    }\n  },\n\n  AllPicos: {\n    \"answer\": \"0722\", \n    \"clues\": {\n      \"2486\": \"p\", \n      \"7867\": \"p\", \n      \"4573\": \"p\", \n      \"5608\": \"p\", \n      \"9310\": \"p\"\n    }\n  },\n\n  VeryHard: {\n    \"answer\": \"7583\", \n    \"clues\": {\n      \"9372\": \"pp\", \n      \"1047\": \"p\", \n      \"0235\": \"pp\", \n      \"3627\": \"pp\", \n      \"4753\": \"ppf\"\n    }\n  }\n}","import math from 'mathjs'\n\nexport const range = function(start, stop, inclusive=false) {\n  if (inclusive) {\n    return math.range(start, stop+1)._data\n  }\n  return math.range(start, stop)._data\n}\n\nexport const roundTo = (n, d) => {\n  const f = Math.pow(10, d)\n  return Math.round(n*f) / f\n} \n\nexport const gcd = (a, b) => math.gcd(a, b)\n\nexport const divrem = function(n, p) {\n  let r = n\n  let d = 0\n  while (r % p === 0) {\n    r = r / p\n    d += 1\n  }\n  return [d, r]\n}\n\nexport const primeFactorization = function(n) {\n  let result = {}\n  let r = n\n  let d\n  let p = 2\n  if (r % p === 0) {\n    [d, r] = divrem(r, p)\n    result[p] = d\n  }\n  p = 3\n  if (r % p === 0) {\n    [d, r] = divrem(r, p)\n    result[p] = d\n  }\n  p = 5\n  while (p * p <= r) {\n    if (r % p === 0) {\n      [d, r] = divrem(r, p)\n      result[p] = d\n    }\n    if (r === 1) {\n      return result\n    }\n    p += 2\n    if (r % p === 0) {\n      [d, r] = divrem(r, p)\n      result[p] = d\n    }\n    if (r === 1) {\n      return result\n    }\n    p += 4\n  }\n  if (r !== 1) {\n    result[r] = 1\n  }\n  return result\n}\n\nexport const listFactors = function(n, {include1=false, includeN=false}) {\n  let result = []\n  const start = include1 ? 1 : 2\n  const stop = includeN ? n : n-1\n  for (let i = start; i <= stop; i++) {\n    if (n % i === 0) {\n      result.push(i)\n    } \n  }\n  return result\n}\n","import Polynomial from 'polynomial'\nimport fraction from 'fraction.js'\nimport { range, gcd, listFactors } from './tools/handystuff'\nimport QGen from './QGen'\nimport _ from 'lodash'\n\n\n// HANDY THINGS\n\nfunction randomPolynomialCoefficients({degree, maxCoefficient=12, terms='auto'}={}) {\n\tconst rd = this.random\n\tif (terms === 'auto') {\n\t\tterms = degree + 1\n\t}\n\tlet p = {}\n\tconst whichterms = rd.sample(range(0,degree), terms-1)\n\tp[degree] = rd.randint(1, maxCoefficient)\n\n\tfor (const d of whichterms) {\n\t\tp[d] = rd.randint(1, maxCoefficient) * rd.choice([-1,1])\n\t}\n\treturn p\n}\n\nfunction randomPolynomial(props={}) {\n\tconst p = randomPolynomialCoefficients.call(this, props)\n\treturn new Polynomial(p)\n}\n\nclass Quadratic {\n  /*\n  quadratic with integer coefficients and roots at\n  x = (a +- b*sqrt(rt))/d (if im = false)\n  or\n  x = (a +- b*sqrt(rt)*i)/d (if im = true)\n  */\n\n  constructor(a, b, d=1, rt=1, im=false) {\n    this.params = {\n      a: a, \n      b: Math.abs(b), \n      d: Math.abs(d),\n      rt: Math.abs(rt),\n      im: im || rt < 0\n    }\n    const poly = new Polynomial()\n  }\n\n  polynomial() {\n    const {a, b, d, rt, im} = this.params\n    return new Polynomial([\n      a*a + (im ?  b*b*rt : -b*b*rt),\n      -2*a*d,\n      d*d\n    ])\n  }\n\n  rootsToLatex() {\n    const {a, b, d, rt, im} = this.params\n    if (b === 0) {\n      return fraction(a,d).toLatex()\n    }\n    if (rt === 1) {\n      // rational\n      if (d === 1) {\n        if (!im) {\n          return [a + b, a - b].sort((x,y) => x-y).map(r => r.toString()).join(', ')\n        } else {\n          return `${a === 0 ? '' : fraction(a,d).toLatex()} \\\\pm ${b === d ? '' : fraction(b,d).toLatex()}i`\n        }\n      } else {\n        if (!im) {\n          return [fraction(a-b,d), fraction(a+b,d)].map(r => r.toLatex()).join(', ')\n        } else {\n          return `${a === 0 ? '' : a} \\\\pm ${b === 1 ? '' : b}i`\n        }\n      }\n    }\n    else {\n      // irrational\n      if (d === 1) {\n        return `${a === 0 ? '' : a} \\\\pm ${b === 1 ? '' : b} \\\\sqrt{${rt}}${im ? 'i' : ''}`\n      } else {\n        return `${a === 0 ? '' : fraction(a,d).toLatex()} \\\\pm ${b === d ? '' : fraction(b,d).toLatex()} \\\\sqrt{${rt}} ${im ? 'i' : ''}`\n      }\n    }\n  }\n}\n\n\n// GENERATORS\n\nexport class SolveQuadratic extends QGen {\n\tstatic info = {\n\t\tname: 'Solve Quadratic',\n\t\tdescription: 'Solve a quadratic equation'\n  }\n  \n  static params = {\n    solutionTypes: {\n      label: 'solution types',\n      type: 'multiple-select',\n      minSelections: 1,\n      options: [\n        'integer', \n        {value: 'rational', label: 'fraction'}, \n        'irrational',\n      ]\n    },\n    complexSolutions: {\n      label: 'allowed solutions',\n      type: 'multiple-select',\n      minSelections: 1,\n      options: ['real', 'imaginary']\n    },\n    givenForm: {\n      label: 'question given as',\n      type: 'multiple-select',\n      minSelections: 1,\n      options: [\n        {value: 'standard', label: 'standard form'}, \n        {value: 'oneside', label: '... = 0, not standard form'},\n        {value: 'bothsides', label: 'terms on both sides of equation'}\n      ]\n    },\n    simplifySquareRoot: {\n      label: 'square root needs to be simplified',\n      type: 'select',\n      options: ['yes', 'no', 'sometimes']\n    },\n    simplifyFraction: {\n      label: 'fraction needs to be simplified',\n      type: 'select',\n      options: ['yes', 'no', 'sometimes']\n    },\n    allowDifferenceOfSquares: {\n      label: 'allow difference of squares',\n      type: 'boolean',\n    },\n    allowDoubleRoot: {\n      label: 'allow double root',\n      type: 'boolean',\n    },\n    allowZeroRoot: {\n      label: 'allow solution of x = 0',\n      type: 'boolean',\n    }\n  }\n\n  static defaultParams = {\n    solutionTypes: {\n      integer: true, \n      rational: true, \n      irrational: true,\n    },\n    complexSolutions: {\n      real: true, \n      imaginary: true,\n    },\n    givenForm: {\n      standard: true,\n      oneside: true,\n      bothsides: true,\n    },\n    simplifySquareRoot: 'sometimes',\n    simplifyFraction: 'sometimes',\n    allowDifferenceOfSquares: true,\n    allowDoubleRoot: true,\n    allowZeroRoot: true,\n  }\n\n\tstatic options = {\n\t\tsingleColumn: true,\n\t}\n\n\tgenerate(params) {\n    const rd = this.random\n    \n    const solutionType = rd.choice(Object.keys(params.solutionTypes).filter(k => params.solutionTypes[k]))\n    const complexSolution = rd.choice(Object.keys(params.complexSolutions).filter(k => params.complexSolutions[k]))\n    const givenForm = rd.choice(Object.keys(params.givenForm).filter(k => params.givenForm[k]))\n    const simplifySquareRoot = params.simplifySquareRoot === 'sometimes'\n      ? rd.bool()\n      : {'yes': true, 'no': false}[params.simplifySquareRoot]\n    const {simplifyFraction, allowDifferenceOfSquares} = params\n    const allowDoubleRoot = solutionType === 'irrational' || complexSolution === 'imaginary' ? false : params.allowDoubleRoot\n    const allowZeroRoot = solutionType === 'irrational' || complexSolution === 'imaginary' ? false : params.allowZeroRoot\n\n    let poly, answer\n\n    if (solutionType === 'integer') {\n      let a = allowDifferenceOfSquares ? rd.randint(0,11) : rd.randint(1,11)\n      let b = allowDoubleRoot ? rd.randint(0,12-a) : rd.randint(1,12-a)\n      if (allowZeroRoot) {\n        while (a === b) {\n          a = allowDifferenceOfSquares ? rd.randint(0,11) : rd.randint(1,11)\n          b = allowDoubleRoot ? rd.randint(0,12-a) : rd.randint(1,12-a)\n        }\n      }\n      if (rd.bool()) {\n        a = -a\n      }\n      const quad = new Quadratic(a, b, 1, 1, complexSolution === 'imaginary')\n      poly = quad.polynomial()\n      answer = 'x = ' + quad.rootsToLatex()\n    }\n    else if (solutionType === 'rational') {\n      let a, b, d\n      let isValid = false\n      while (!isValid) {\n        isValid = true\n\n        d = rd.choice([2,3,4])\n        a = allowDifferenceOfSquares ? rd.randint(0,11) : rd.randint(1,11)\n        b = allowDoubleRoot ? rd.randint(0,12-a) : rd.randint(1,12-a)\n\n        if (!allowZeroRoot && a === b) {\n          isValid = false; continue;\n        }\n        if (simplifyFraction === 'yes') {\n          // ensure both fractions can't be simplified just by dividing\n          // out the GCF at the beginning\n          if (gcd(a+b, d) === gcd(a-b, d)) {\n            isValid = false; continue;\n          }\n        } else if (simplifyFraction === 'no') {\n          // ensure that neither fraction can simplify\n          if (gcd(a+b, d) !== 1 || gcd(a-b, d) !== 1) {\n            isValid = false; continue;\n          }\n        }\n      }\n\n      if (rd.bool()) {\n        a = -a\n      }\n      const quad = new Quadratic(a, b, d, 1, complexSolution === 'imaginary')\n      poly = quad.polynomial()\n      answer = 'x = ' + quad.rootsToLatex()\n    }\n    else if (solutionType === 'irrational') {\n      let a, b, d, rt\n      let isValid = false\n      while (!isValid) {\n        isValid = true\n\n        d = rd.choice([2,3,4])\n        rt = rd.choice([2,3,5,6,7,10,11])\n        b = simplifySquareRoot ? rd.randint(2,11) : 1\n        a = allowDifferenceOfSquares ? rd.randint(0,12-b) : rd.randint(1,12-b)\n\n        if (simplifyFraction === 'yes') {\n          // ensure both fractions can't be simplified just by dividing\n          // out the GCF at the beginning\n          if (gcd(a+b, d) === gcd(a-b, d)) {\n            isValid = false; continue;\n          }\n        } else if (simplifyFraction === 'no') {\n          // ensure that neither fraction can simplify\n          if (gcd(a+b, d) !== 1 || gcd(a-b, d) !== 1) {\n            isValid = false; continue;\n          }\n        }\n      }\n      const quad = new Quadratic(a, b, d, rt, complexSolution === 'imaginary')\n      poly = quad.polynomial()\n      answer = 'x = ' + quad.rootsToLatex()\n    }\n\n    let question\n\n    if (givenForm === 'standard') {\n      question = rd.bool() ? poly.toLatex() + '= 0' : '0 =' + poly.toLatex()\n    }\n    else if (givenForm === 'oneside') {\n      const deg = rd.choice([1,2])\n      const rand = randomPolynomial.call(this, {degree: deg, maxCoefficient: 7, terms: rd.choice([2, deg+1])})\n      const expr = rd.bool() \n        ? `${poly.sub(rand).toLatex()} + ${rand.toLatex()}`\n        : `${rand.mul(-1).toLatex()} + ${poly.add(rand).toLatex()}`\n      if (rd.bool()) {\n        question = expr + '= 0'\n      } else {\n        question = '0 =' + expr\n      }\n    }\n    else if (givenForm === 'bothsides') {\n      const deg = rd.choice([1,2])\n      const rand = randomPolynomial.call(this, {degree: deg, maxCoefficient: 11, terms: rd.choice([2,deg+1])})\n      let [left, right] = rd.random() < 0.5 ? [poly.add(rand), rand] : [rand, poly.add(rand)]\n      if (rd.bool()) {\n        [left, right] = [right, left]\n      }\n      question = `${left.toLatex()} = ${right.toLatex()}`\n    }\n\n\t\treturn {\n\t\t\tinstructions: 'Determine the values of $$x$$ that satisfy the equation:',\n\t\t\tquestion: '$$' + question + '$$',\n\t\t\tanswer: '$$' + answer + '$$'\n\t\t}\n\t}\n}\n\nexport class FactorQuadraticHard extends QGen {\n\tstatic info = {\n\t\tname: 'Factor Quadratic (Hard)',\n\t\tdescription: 'Factor a quadratic using AC method.'\n\t}\n\n\tstatic options = {\n\t\tsingleColumn: true,\n\t}\n\n\tgenerate(params) {\n\t\tlet rd = this.random\n\n\t\tconst a1 = rd.randint(2,5)\n\t\tconst a2 = rd.randint(2,8-a1)\n\n\t\tlet b1 = rd.randint(1,14-a2)\n\t\twhile (gcd(a1, b1) !== 1) {\n\t\t\tb1 = rd.randint(1,14-a2)\n\t\t}\n\t\tb1 *= rd.choice([-1,1])\n\n\t\t\n\t\tlet b2 = rd.randint(2, 14-a1)\n\t\twhile (gcd(a2, b2) !== 1) {\n\t\t\tb2 = rd.randint(1,14-a1)\n\t\t}\n\t\tb2 *= rd.choice([-1,1])\n\n\t\t// prevent difference of squares and perfect square\n\t\twhile (Math.abs(a1) === Math.abs(a2) && Math.abs(b1) === Math.abs(b2)) {\n\t\t\tb2 = rd.randint(2, 14-a1)\n\t\t\twhile (gcd(a2, b2) !== 1) {\n\t\t\t\tb2 = rd.randint(1,14-a1)\n\t\t\t}\n\t\t\tb2 *= rd.choice([-1,1])\n\t\t}\n\n\t\tconst p1 = new Polynomial({1: a1, 0: b1})\n\t\tconst p2 = new Polynomial({1: a2, 0: b2})\n\n\t\tconst a = a1 * a2\n\t\tconst b = a1 * b2 + a2 * b1\n\t\tconst c = b1 * b2\n\n\t\tconst poly = new Polynomial({2: a, 1: b, 0: c})\n\n\t\tconst answer = `$$(${p1.toLatex()})(${p2.toLatex()})$$`\n\n\t\treturn {\n\t\t\tinstructions: 'Rewrite as the product of linear factors:',\n\t\t\tquestion: `$$${poly.toLatex()}$$`,\n\t\t\tanswer: answer,\n\t\t}\n\t}\n}\n\n\n\nexport class RationalZeroTheorem extends QGen {\n\tstatic info = {\n\t\tname: 'Rational Zero Theorem',\n\t\tdescription: 'State possible rational zeros for a polynomial function.'\n  }\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\t\tlet primes = rd.sample([1, 2, 3, 5, 7, 11], 4)\n\t\tfor (const i in primes) {\n\t\t\tif (primes[i] === 1) {\n\t\t\t\tif (i === 0 | i === 2) {\n\t\t\t\t\tprimes[i+1] = Math.pow(primes[i+1], rd.randint(1,2))\n\t\t\t\t} else {\n\t\t\t\t\tprimes[i-1] = Math.pow(primes[i-1], rd.randint(1,2))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (const i in primes) {\n\t\t\tif (primes[i] === 2 | primes[i] === 3) {\n\t\t\t\tprimes[i] = Math.pow(primes[i], rd.randint(1,2))\n\t\t\t}\n\t\t}\n\t\tconst leading_coeff = primes[0] * primes[1]\n\t\tconst trailing_coeff = primes[2] * primes[3]\n\t\tconst degree = rd.randint(3,6)\n\t\tconst num_coeffs = rd.randint(3,degree)\n\t\tlet poly = randomPolynomialCoefficients.call(this, {degree: degree, terms: num_coeffs})\n\t\tpoly[0] = trailing_coeff\n\t\tpoly[degree] = leading_coeff\n\t\tconst f = new Polynomial(poly)\n\n\t\tconst question = '$$f(x) = ' + f.toLatex() + '$$'\n\t\t\n\t\tconst correctNumerators = listFactors(trailing_coeff, {include1: true, includeN: true})\n\t\tconst correctDenominators = listFactors(leading_coeff, {include1: true, includeN: true})\n\t\t\n\t\tconst allPossibleZeros = []\n\t\tfor (const a of correctNumerators) {\n\t\t\tfor (const b of correctDenominators) {\n\t\t\t\tallPossibleZeros.push(`${a}/${b}`)\n\t\t\t}\n\t\t}\n\n\t\tconst numCorrect = rd.choice([0,1,1,2,2,2,2,2,2,3,3,4])\n\t\tconst correctAnswers = []\n\t\twhile (correctAnswers.length < numCorrect) {\n\t\t\tconst [a, b] = [rd.choice(correctNumerators), rd.choice(correctDenominators)]\n\t\t\tconst s = `${a}/${b}`\n\t\t\tif (!_.includes(correctAnswers, s)) {\n\t\t\t\tcorrectAnswers.push(s)\n\t\t\t}\n\t\t}\n\n\t\tconst wrongAnswers = []\n\t\twhile (wrongAnswers.length < 4-numCorrect) {\n\t\t\tconst [a,b] = [rd.choice(correctDenominators), rd.choice(correctNumerators)]\n\t\t\tconst s = `${a}/${b}`\n\t\t\tif (!(s == '1/1') && !_.includes(wrongAnswers, s)) {\n\t\t\t\twrongAnswers.push(s)\n\t\t\t}\n\t\t}\n\n\t\tconst allChoices = [...correctAnswers, ...wrongAnswers]\n\t\tconst shuffled = []\n\t\tconst correctIndex = numCorrect ? [] : 4\n\t\tfor (let i = 0; i < 4; i++) {\n\t\t\tconst a = rd.poprandom(allChoices)\n\t\t\tif (_.includes(correctAnswers, a)) {\n\t\t\t\tcorrectIndex.push(i)\n\t\t\t}\n\t\t\tshuffled.push(a)\n\t\t}\n\n\t\treturn {\n\t\t\tinstructions: \"Which of the following are _possible_ zeros of the function according to the _Rational Zero Theorem_? Choose ***all*** that apply.\",\n\t\t\tquestion: question,\n\t\t\tanswer: {\n\t\t\t\tcorrect: allPossibleZeros.map(s => `$$${fraction(s).toLatex()}$$`).join(', '),\n\t\t\t\tchoices: [...shuffled.map(s => `$$\\\\displaystyle ${fraction(s).toLatex()}$$`), 'None of these'],\n\t\t\t\tcorrectIndex: correctIndex,\n\t\t\t\tlistDirection: 'horizontal',\n\t\t\t},\n      variants: {\n        freeResponse: {\n          instructions: \"List all possible rational zeros of the function (according to the _Rational Zero Theorem_).\"\n        }\n      }\n\t\t}\n\t}\n}\n\n","import Polynomial from 'polynomial'\nimport fraction from 'fraction.js'\nimport { roundTo } from './tools/handystuff'\n\nimport QGen from './QGen'\n\n\n\nclass TransformTracker {\n\t// y = a * f((x - h)/b) + k\n\tconstructor(parent) {\n\t\tthis.parent = parent\n\t\tthis.a = fraction(1)\n\t\tthis.b = fraction(1)\n\t\tthis.h = 0\n\t\tthis.k = 0\n\t}\n\n  translate(x,y) { this.h += x; this.k += y }\n  scale(x,y) { this.b = this.b.mul(x); this.a = this.a.mul(y) }\n\ttranslateX(n) { this.h += n }\n\ttranslateY(n) { this.k += n }\n\tscaleX(n) { this.b = this.b.mul(n) }\n\tscaleY(n) { this.a = this.a.mul(n) }\n\t\n\tshiftH(n) { this.translateX(n) }\n\tshiftV(n) { this.translateY(n) }\n\tstretchH(n) { this.scaleX(n) }\n\tstretchV(n) { this.scaleY(n) }\n\tcompressH(n) { this.scaleX(fraction(1,n)) }\n\tcompressV(n) { this.scaleY(fraction(1,n)) }\n\treflectH() { this.b = -this.b }\n  reflectV() { this.a = -this.a }\n  up(n) { this.translateY(n) }\n  down(n) { this.translateY(-n) }\n\n\tf() {\n\t\tconst parent = {\n\t\t\t'abs': x => Math.abs(x),\n\t\t\t'cubic': x => x*x*x,\n\t\t\t'exp2': x => Math.pow(2,x),\n\t\t\t'log2': x => Math.log2(x),\n\t\t\t'quad': x => x*x,\n\t\t\t'sqrt': x => Math.sqrt(x),\n\t\t}[this.parent]\n\t\tconst {a, b, h, k} = this\n\t\treturn x => a * parent((x - h)/b) + k \n  }\n  \n  vgTransform() {\n    return ({type: 'matrix', params: [this.b.valueOf(), 0, 0, this.a.valueOf(), this.h, this.k]})\n  }\n\n\ttoLatex() {\n\t\tPolynomial.setField('Q')\n\t\tconst {parent, a, b, h, k} = this\n\t\tconst inner = new Polynomial([fraction(-h).div(b), fraction(1).div(b)]).toLatex()\n\t\tconst kStr = k === 0 ? '' : k < 0 ? k.toString() : '+' + k.toString()\n\t\tconst aStr = a == 1 ? '' : a == -1 ? '-' : a.toString()\n\t\tif (parent === 'sqrt') {\n\t\t\treturn `${aStr}\\\\sqrt{${inner}}${kStr}`\n\t\t}\n\t\tif (parent === 'quad') {\n\t\t\tif (b == 1 && h === 0) {\n\t\t\t\treturn `${aStr}x^2${kStr}`\n\t\t\t}\n\t\t\treturn `${aStr}(${inner})^2${kStr}`\n\t\t}\n\t\tif (parent === 'cubic') {\n\t\t\tif (b == 1 && h === 0) {\n\t\t\t\treturn `${aStr}x^3${kStr}`\n\t\t\t}\n\t\t\treturn `${aStr}(${inner})^3${kStr}`\n\t\t}\n\t\tif (parent === 'abs') {\n\t\t\treturn `${aStr}|${inner}|${kStr}`\n\t\t}\n\t\tif (parent === 'exp2') {\n\t\t\tif (aStr) {\n\t\t\t\treturn `${aStr} \\\\cdot 2^{${inner}}${kStr}`\n\t\t\t}\n\t\t\treturn `${aStr}2^{${inner}}${kStr}`\n\t\t}\n\t\tif (parent === 'log2') {\n\t\t\treturn `${aStr}\\\\log_{2}(${inner})${kStr}`\n\t\t}\n\t}\n}\n\n\n\n\n\n\nexport class MatchTransformations extends QGen {\n\tstatic info = {\n\t\tname: 'Match Transformations',\n\t\tdescription: 'Match equations with graphs'\n\t}\n\n\tstatic params = {\n\t\tparents: {\n\t\t\tlabel: 'Allowed Parent Functions',\n\t\t\ttype: 'multipleselect',\n\t\t\toptions: [\n\t\t\t\t{value: 'sqrt', label: 'Square root'},\n\t\t\t\t{value: 'quad', label: 'Quadratic'},\n\t\t\t\t{value: 'abs', label: 'Absolute value'},\n\t\t\t\t{value: 'cubic', label: 'Cubic'}, // cubic is problematic because reflections are ambiguous\n\t\t\t\t{value: 'exp2', label: 'Exponential'},\n\t\t\t\t{value: 'log2', label: 'Logarithm'},\n\t\t\t],\n\t\t}\n\t}\n\n\tstatic defaultParams = {\n\t\tparents: {\n\t\t\tsqrt: true,\n\t\t\tquad: true,\n\t\t\tabs: true,\n\t\t\texp2: true,\n\t\t\tlog2: true,\n\t\t\tcubic: false,\n\t\t}\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\n\t\tconst parent = rd.choice(Object.keys(params.parents).filter(k => params.parents[k]))\n\n\t\tconst transforms = (\n\t\t\tparent === 'cubic' \n\t\t\t? ['up', 'down', 'left', 'right', 'stretchV', rd.choice(['flipLR', 'flipDown'])]\n\t\t\t: ['up', 'down', 'left', 'right', 'flipDown', 'flipLR']\n\t\t)\n\t\t\n\t\tlet eqns = []\n\t\tlet paths = []\n\n\t\tconst v = rd.randint(2,5)\n\t\tfor (const t of transforms) {\n\t\t\tconst func = new TransformTracker(parent)\n\n\t\t\tif (t === 'up') func.shiftV(v)\n\t\t\telse if (t === 'down') func.shiftV(-v)\n\t\t\telse if (t === 'left') func.shiftH(-v)\n\t\t\telse if (t === 'right') func.shiftH(v)\n\t\t\telse if (t === 'stretchV') func.stretchV(v)\n\t\t\telse if (t === 'flipDown') func.stretchV(-v)\n\t\t\telse if (t === 'stretchH') func.stretchH(v)\n\t\t\telse if (t === 'flipLR') func.compressH(-v)\n\n\t\t\tconst eqn = func.toLatex()\n      eqns.push(`$$y = ${eqn}$$`)\n\n\t\t\tconst f = func.f()\n\t\t\tconst points = []\n\t\t\tlet start, stop\n\t\t\tconst {a, b, h, k} = func\n\t\t\tif (func.parent === 'sqrt') {\n\t\t\t\t[start, stop] = b < 0 ? [-10, h*b] : [h*b, 10]\n\t\t\t}\n\t\t\telse if (func.parent === 'log2') {\n\t\t\t\tif (b < 0) {\n\t\t\t\t\t[start, stop] = [-10, h*b-0.01]\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t[start, stop] = [h*b+0.01, 10]\n\t\t\t\t\tpoints.push({x: h*b, y: -a*1000})\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t[start, stop] = [-10, 10]\n\t\t\t}\n\t\t\tlet x = start\n\t\t\twhile (x <= stop) {\n\t\t\t\tconst y = f(x)\n\t\t\t\tif (Math.abs(y) < 1000) {\n\t\t\t\t\tpoints.push({x: roundTo(x, 5), y: roundTo(y, 5)})\n\t\t\t\t}\n\t\t\t\tx += 0.2\n\t\t\t}\n\t\t\tif (func.parent === 'log2' && b < 0) {\n\t\t\t\tpoints.push({x: h*b, y: -a*1000})\n\t\t\t}\n      paths.push(points)\n\t\t}\n\n\t\tconst graphPoints = points => [\n\t\t\t'CoordinatePlane', \n\t\t\t{ span: [-7,-7,7,7], height: '1.1in'},\n\t\t\t['Path', { points }]\n\t\t]\n\n\t\tconst eqnScramble = rd.shuffleRange(0, 5)\n\t\tconst graphScramble = rd.shuffleRange(0, 5)\n\n\t\tconst letters = 'ABCDEF'\n\n\t\tconst makebox = i => [\n\t\t\t'Container', \n\t\t\t{direction: 'row', alignItems: 'center', wrap: false}, \n\t\t\tletters[i] + ')',\n\t\t\tgraphPoints(paths[graphScramble[i]])\n\t\t]\n\n\t\tconst diagrams = [\n\t\t\t'Table', {border: false},\n\t\t\t['TRow', ...[0,1,2].map(makebox)],\n\t\t\t['TRow', ...[3,4,5].map(makebox)]\n\t\t]\n\n\t\tconst eqnTable = [\n\t\t\t'Table', {border: true, align: 'c|c'},\n\t\t\t['TRow', {header: true, border: true}, 'Equation', 'Graph'],\n\t\t\t...eqnScramble.map(i => (\n\t\t\t\t['TRow', {border: true}, eqns[i], ['EmptySpace', {height: '7mm', width: '7mm'}]]\n\t\t\t))\n\t\t]\n\n\n\t\tconst answer = eqnScramble.map(i => letters[graphScramble.indexOf(i)]).join(', ')\n\n\t\treturn {\n\t\t\tinstructions: 'Fill in the table to match each equation to its graph.',\n\t\t\tdiagram: diagrams,\n\t\t\tanswer: {\n\t\t\t\tprompt: eqnTable,\n\t\t\t\tcorrect: answer,\n\t\t\t},\n\t\t}\n\n\t}\n}\n","import QGen from './QGen'\nimport fraction from 'fraction.js'\nimport math from 'mathjs'\nimport { range, roundTo } from './tools/handystuff'\nimport { includes } from 'lodash'\n\nfunction latexpifraction({n, d, s}) {\n  if (n === 0) {\n    return '0'\n  }\n  if (d < 0) {\n    return latexpifraction({n: -n, d: -d})\n  }\n  let numer\n  if (n === 1) {\n    numer = '\\\\pi'\n  } else {\n    numer = `${n}\\\\pi`\n  }\n  if (s === -1) {\n    numer = '-' + numer\n  }\n  if (d === 1) {\n    return numer\n  } else {\n    return `\\\\frac{${numer}}{${d}}`\n  }\n}\n\nconst pythagoreanTriples = [\n  [3, 4, 5],\n  [5, 12, 13],\n  [8, 15, 17],\n  [7, 24, 25],\n  [20, 21, 29],\n  [12, 35, 37],\n  [9, 40, 41],\n  [28, 45, 53],\n  [33, 56, 65],\n  [48, 55, 73],\n  [36, 77, 85],\n  [65, 72, 97],\n]\n\n\nexport class ConvertAngle extends QGen {\n  static info = {\n    name: 'Convert Angle',\n    description: 'Convert between degrees and radians'\n  }\n\n  static params = {\n    conversion: {\n      label: 'Convert from:',\n      type: 'select',\n      options: ['degrees to radians', 'radians to degrees', 'either'],\n    },\n    negative: {\n      label: 'Negative angle',\n      type: 'select',\n      options: ['yes', 'no', 'random'],\n    }\n  }\n\n  static defaultParams = {\n    conversion: 'either',\n    negative: 'random'\n  }\n\n  static options = {\n    singleColumn: true\n  }\n\n  generate(params) {\n    const rd = this.random\n    const conversion = rd.choice({\n      'degrees to radians': ['d2r'],\n      'radians to degrees': ['r2d'],\n      'either': ['d2r', 'r2d'],\n    }[params.conversion])\n    const neg = rd.choice({\n      yes: [true],\n      no: [false],\n      random: [true, false],\n    }[params.negative])\n    const rotations = rd.choice([0,1,2])\n    \n    const denom = rd.choice([5,10,10,12,12])\n    const numers = range(1, 2*denom-1, true).filter(n => math.gcd(denom, n) === 1)\n    \n    let numer = rd.choice(numers)\n    if (rotations) {\n      numer += denom * 2 * rotations\n    }\n\n    // don't freak students out with 666\n    while (denom === 10 && numer === 37) {\n      numer = rd.choice(numers)\n      if (rotations) {\n        numer += denom * 2 * rotations\n      }\n    }\n    \n    const radians = fraction(neg ? numer : -numer, denom)\n    const degrees = 180 * radians.s * radians.n / radians.d\n\n    let instructions, question, answer\n    if (conversion === 'r2d') {\n      instructions = 'Convert the angle from radians to degrees:'\n      question = ['Math', `\\\\displaystyle ${latexpifraction(radians)}`]\n      answer = ['Math', `${degrees}\\\\degree`]\n    } else {\n      instructions = 'Convert the angle from degrees to radians:'\n      question = ['Math', `${degrees}\\\\degree`]\n      answer = ['Math', `${latexpifraction(radians)}`]\n    }\n\n    return {\n      instructions,\n      question,\n      answer,\n      //layout: [['instructions', 'question'], ['answer', 'diagram']]\n    }\n\n  }\n}\n\n\nexport class IdentifyQuadrant extends QGen {\n  static info = {\n    name: 'Identify Quadrant',\n    description: 'Identify the quadrant of an angle given the sign of two trig functions'\n  }\n\n  static params = {\n    functions: {\n      label: 'Trig functions',\n      type: 'multiple-select',\n      minSelections: 2,\n      options: ['sin', 'cos', 'tan', 'csc', 'sec', 'cot'],\n    },\n    quadrant: {\n      label: 'Quadrant',\n      type: 'multiple-select',\n      minSelections: 1,\n      options: [1, 2, 3, 4],\n    }\n  }\n\n  static defaultParams = {\n    functions: {sin: true, cos: true, tan: true, csc: true, sec: true, cot: true},\n    quadrant: {1: true, 2: true, 3: true, 4: true},\n  }\n\n  static options = {\n    singleColumn: true\n  }\n\n  generate(params) {\n    const rd = this.random\n    \n    const functions = {\n      // funcs  Q1  Q2  Q3  Q4\n      sin: [[], 1,  1, -1, -1],\n      cos: [[], 1, -1, -1,  1],\n      tan: [[], 1, -1,  1, -1],\n    }\n    for (const f in params.functions) {\n      if (params.functions[f]) {\n        if (f === 'sin' || f === 'csc') {\n          functions.sin[0].push(f)\n        } else if (f === 'cos' || f === 'sec') {\n          functions.cos[0].push(f)\n        } else if (f === 'tan' || f === 'cot') {\n          functions.tan[0].push(f)\n        }\n      }\n    }\n\n    const quadrant = rd.choice(Object.keys(params.quadrant).filter(k => params.quadrant[k]))\n    const answer = {1: 'I', 2: 'II', 3: 'III', 4: 'IV'}[quadrant]\n    const ineq = {[-1]: '< 0', 1: '> 0'}\n    const angle = rd.choice(['theta', 'omega', 'alpha', 'beta'])\n\n    const funcChoices = Object.keys(functions).filter(f => functions[f][0].length > 0)\n    const funcKeys = rd.sample(funcChoices, 2)\n    const funcs = funcKeys.map(f => rd.choice(functions[f][0]))\n  \n    const clue = i => `\\\\${funcs[i]}\\\\${angle} ${ineq[functions[funcKeys[i]][quadrant]]}`\n    const question = `If $$${clue(0)}$$ and $$${clue(1)}$$, which quadrant is $$\\\\${angle}$$ in?`\n\n    return {\n      question,\n      answer: {\n        correct: answer,\n        choices: ['I', 'II', 'III', 'IV'],\n        correctIndex: quadrant-1,\n        listDirection: 'horizontal',\n      }\n    }\n  }\n}\n\nexport class SolveRightTriangle extends QGen {\n  static info = {\n    name: 'Solve Right Triangle',\n    description: 'Find all missing side and angle measures for a right triangle'\n  }\n\n  static params = {\n    given: {\n      label: 'Givens',\n      type: 'multiple-select',\n      minSelections: 1,\n      options: [\n        {value: 'HL', label: 'Hypotenuse-Leg'},\n        {value: 'LL', label: 'Leg-Leg'},\n        {value: 'HA', label: 'Hypotenuse-Angle'}, \n        {value: 'LA', label: 'Leg-Angle'},\n      ],\n    },\n  }\n\n  static defaultParams = {\n    given: {HL: true, LL: true, HA: true, 'LA': true}\n  }\n\n  generate(params) {\n    const rd = this.random\n    const given = rd.choice(Object.keys(params.given).filter(k => params.given[k]))\n    \n    // Determine givens\n    let givens\n    if (given === 'HL') {\n      if (rd.bool()) {\n        givens = ['a', 'c']\n      } else {\n        givens = ['b', 'c']\n      }\n    }\n\n    else if (given === 'LL') {\n      givens = ['a', 'b']\n    }\n\n    else if (given === 'HA') {\n      if (rd.bool()) {\n        givens = ['c', 'A']\n      } else {\n        givens = ['c', 'B']\n      }\n    }\n\n    else if (given === 'LA') {\n      if (rd.bool()) {\n        if (rd.bool()) {\n          givens = ['a', 'A']\n        } else {\n          givens = ['b', 'B']\n        }\n      } else {\n        if (rd.bool()) {\n          givens = ['a', 'B']\n        } else {\n          givens = ['b', 'A']\n        }\n      }\n    }\n\n    console.log(given)\n    console.log(givens)\n\n    // Generate triangle\n    const C = 90\n    let a, b, c, A, B\n\n    // Use integer angles\n    A = rd.randint(8, 42)\n    while (includes([30, 45, 60, 69, 21], A)) {\n      A = rd.randint(8, 42)\n    }\n    B = 90 - A\n    if (rd.bool()) {\n      A = B\n      B = 90 - A\n    }\n\n    c = rd.randint(8, 90)\n    a = Math.sin(A * Math.PI / 180) * c\n    b = Math.sin(B * Math.PI / 180) * c\n    \n    console.log({a, b, c, A, B})\n\n\n    // Make sure all givens are integers\n    if (given === 'HA') {\n      c = Math.ceil(c)\n      a = Math.sin(A * Math.PI / 180) * c\n      b = Math.sin(B * Math.PI / 180) * c\n    } else if (given === 'LA') {\n      if (includes(givens, 'a')) {\n        a = Math.ceil(a)\n        c = a / Math.sin(A * Math.PI / 180)\n        b = a / Math.tan(A * Math.PI / 180)\n      } else {\n        b = Math.ceil(a)\n        c = b / Math.sin(B * Math.PI / 180)\n        a = b / Math.tan(B * Math.PI / 180)\n      }\n    } else if (given === 'LL') {\n      a = Math.round(a)\n      b = Math.round(b)\n      c = Math.sqrt(a*a + b*b)\n      A = Math.atan(b/a) * 180 / Math.PI\n      B = 90 - A\n    } else if (given === 'HL') {\n      if (includes(givens, 'a')) {\n        a = Math.floor(a)\n        c = Math.ceil(c)\n        b = Math.sqrt(c*c - a*a)\n      } else if (includes(givens, 'b')) {\n        b = Math.floor(b)\n        c = Math.ceil(c)\n        a = Math.sqrt(c*c - b*b)\n      }\n      A = Math.atan(b/a) * 180 / Math.PI\n      B = 90 - A\n    }\n\n    //const units = rd.choice(['cm', 'km', 'in', 'ft', 'm'])\n    \n    const values = {\n      a: roundTo(a, 2),\n      b: roundTo(b, 2),\n      c: roundTo(c, 2),\n      A: roundTo(A, 1) + '\\\\degree',\n      B: roundTo(B, 1) + '\\\\degree',\n      C: roundTo(C, 1) + '\\\\degree'\n    }\n    \n\n    const labels = {C: 'C'}\n\n    let giveninfo = []\n    let answer = []\n    let answerblanks = []\n    for (const k of ['A', 'B', 'a', 'b', 'c']) {\n      if (includes(givens, k)) {\n        giveninfo.push(`${k} = ${values[k]}`)\n        labels[k] = values[k]\n      } else {\n        answerblanks.push(k)\n        answer.push(`${k} = ${values[k]}`)\n        labels[k] = k\n      }\n    }\n\n    const question = [\n      `Given that ${giveninfo.slice(0,-1).map(g => '$$' + g + '$$').join(', ')} and $$${giveninfo[giveninfo.length-1]}$$,`,\n      'determine the measure of all sides and angles for right triangle $$ABC$$. The diagram is __not__ to scale.'\n    ].join(' ')\n\n    const diagram = [\n      'CoordinatePlane', {span: \"0,0 4,3\", axis: false, grid: false, clip: false, height: '1.3in'},\n      //['Style', {exactName: 'svgplot-grid'}, ['Grid', {span: [0,0,4,3]}]],\n      ['Path', {points: \"3.5,0 3.5,0.5 4,0.5\", style: 'geometry anglemark'}],\n      ['Polygon', {points: \"0,0 4,0 4,3\", style: \"geometry\", markers: '...'}],\n      \n      ['Overlay', {x: 4, y: 1.5, anchor: 'W', displacement: '1mm'}, `$$${labels.a}$$`],\n      ['Overlay', {x: 2.2, y: 0, anchor: 'N', displacement: '1mm'}, `$$${labels.b}$$`],\n      [\n        'Overlay', \n        {x: 2, y: 1.5, anchor: 'SE', displacement: '1mm', rotate: '30' },\n        `$$${labels.c}$$`,\n      ],\n      [\n        'Overlay', \n        {\n          x: 4, y: 3, \n          displacement: {angle: 245, radius: labels.B === 'B' ? '7mm': '8.5mm'}\n        }, \n        `$$${labels.B}$$`\n      ],\n      [\n        'Overlay', \n        {\n          x: 0, y: 0, \n          displacement: {\n            angle: labels.A === 'A' ? 18 : 15, \n            radius: labels.A === 'A' ? '9mm' : '11mm',\n          }\n        },\n        `$$${labels.A}$$`\n      ],\n    ]\n\n    function answerPrompt(s) {\n      if (includes(['a', 'b', 'c'], s)) {\n        return `length $$${s} = $$`\n      }\n      if (includes(['A', 'B'], s)) {\n        return `$$m\\\\angle{${s}} = $$`\n      }\n    }\n\n    return {\n      question,\n      diagram,\n      answer: {\n        correct: answer.map(a => '$$' + a + '$$').join(', '),\n        prompt: [\n          'AnswerBlanks', {box: true},\n          ...answerblanks.map(answerPrompt)\n        ]\n      },\n    }\n  }\n}","import math from 'mathjs'\nimport Polynomial from 'polynomial'\nimport fraction from 'fraction.js'\nimport QGen from './QGen'\nimport _ from 'lodash'\n\n\nexport class RationalGraph extends QGen {\n\tstatic info = {\n\t\tname: 'Rational Graph',\n\t\tdescription: 'Determine the equation from the graph of a rational function',\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\n\t\tconst variant = params.variant\n\n\t\tconst makeFunction = (top, bottom) => {\n\t\t\tlet f = function(x) {\n\t\t\t\tlet n = 1\n\t\t\t\tlet d = 1\n\t\t\t\tfor (const r of top) {\n\t\t\t\t\tn *= (x - r)\n\t\t\t\t}\n\t\t\t\tfor (const r of bottom) {\n\t\t\t\t\td *= (x - r)\n\t\t\t\t}\n\t\t\t\treturn n / d\n\t\t\t}\n\t\t\treturn f\n\t\t}\n\n\t\tfunction generateValues() {\n\t\t\tlet vals = rd.sampleRange(1, 8, 4).map(v => rd.bool() ? v : -v)\n\t\t\tlet roots = [vals[0]]\n\t\t\tlet holes = [vals[1]]\n\t\t\tlet asymptotes = [vals[2]]\n\t\t\tif (rd.random() < 0.5) {\n\t\t\t\tasymptotes.push(vals[3])\n\t\t\t} else if (rd.random() < 0.8) {\n\t\t\t\tholes.push(vals[3])\n\t\t\t}\n\t\t\treturn ({roots, holes, asymptotes})\n\t\t}\n\n\t\tfunction allHolesInRange(holes, f) {\n\t\t\tfor (const r of holes) {\n\t\t\t\tif (f(r) <= -8 || f(r) >= 8) {\n\t\t\t\t\treturn false\n\t\t\t\t} \n\t\t\t}\n\t\t\treturn true\n\t\t}\n\n\t\tlet roots, holes, asymptotes, f\n\t\tlet isGood = false\n\n\t\twhile (!isGood) {\n\t\t\t({roots, holes, asymptotes} = generateValues())\n\t\t\tf = makeFunction(roots, asymptotes)\n\t\t\tisGood = allHolesInRange(holes, f)\n\t\t}\n\t\t\n\t\tconst graph = [\n\t\t\t'CoordinatePlane',\n\t\t\t{span: [-10,-8,10,8], height: '1.8in'},\n\t\t\t[\n\t\t\t\t'RationalFunction',\n\t\t\t\t{\n\t\t\t\t\tdomain: [-12,12],\n\t\t\t\t\trange: [-10,10],\n\t\t\t\t\troots, holes, asymptotes,\n\t\t\t\t}\n\t\t\t]\n\t\t]\n\n\t\tfunction fmtAns(ans) {\n\t\t\tlet numer = ''\n\t\t\tfor (const r of ans.top.sort((a,b) => b-a)) {\n\t\t\t\tnumer += '(' + math.simplify(`x - ${r}`).toString() + ')'\n\t\t\t}\n\t\t\tlet denom = ''\n\t\t\tfor (const r of ans.bottom.sort((a,b) => b-a)) {\n\t\t\t\tdenom += '(' + math.simplify(`x - ${r}`).toString() + ')'\n\t\t\t}\n\t\t\treturn `$$\\\\displaystyle y = \\\\frac{ ${numer} }{ ${denom} }$$`\n\t\t}\n\n\t\tconst answer = {top: [...roots, ...holes], bottom: [...holes, ...asymptotes]}\n\n\t\tconst wrongs = [\n\t\t\t{top: [...holes, ...asymptotes], bottom: [...holes, ...roots]},\n\t\t\t{top: [...roots], bottom: [...holes, ...asymptotes]},\n\t\t\t{top: [...roots, ...holes].map(r => -r), bottom: [...holes, ...asymptotes].map(r => -r)},\n\t\t\t{top: [...holes, ...asymptotes].map(r => -r), bottom: [...holes, ...roots].map(r => -r)},\n\t\t]\n\n\t\tconst i = rd.randint(0,wrongs.length)\n\t\tconst choices = rd.shuffle([answer, ...wrongs].map(fmtAns), i)\n\n\t\treturn {\n\t\t\tinstructions: 'Choose the equation that best describes the graph shown.',\n\t\t\tdiagram: graph,\n\t\t\tanswer: {\n\t\t\t\tcorrect: fmtAns(answer),\n\t\t\t\tchoices: choices,\n\t\t\t\tcorrectIndex: i,\n\t\t\t\tprompt: [\n\t\t\t\t\t'AnswerBlanks',\n\t\t\t\t\t{height: '8em', width: '20em'},\n\t\t\t\t\t'$$y = $$', \n\t\t\t\t],\n\t\t\t},\n\t\t\toptions: { variant },\n\t\t\tvariants: {\n\t\t\t\tfreeResponse: {\n\t\t\t\t\tinstructions: 'Write the equation that best describes the graph shown.',\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n\nexport class IncreasingIntervals extends QGen {\n\tstatic info = {\n\t\tname: 'Increasing Intervals',\n\t\tdescription: 'Identify intervals over which a graph is increasing'\n\t}\n\n\tstatic params = {\n\t\ttoFind: {\n\t\t\tlabel: 'Type of interval to find',\n\t\t\ttype: 'select',\n\t\t\toptions: ['increasing', 'decreasing', 'either'],\n\t\t},\n\t\tstyle: {\n\t\t\tlabel: 'Graph style',\n\t\t\ttype: 'select',\n\t\t\toptions: ['jagged', 'smooth'],\n\t\t},\n\t\tpoints: {\n\t\t\tlabel: 'Mark points',\n\t\t\ttype: 'bool',\n\t\t}\n\t}\n\n\tstatic defaultParams = {\n\t\ttoFind: 'increasing',\n\t\tstyle: 'smooth',\n\t\tpoints: true,\n\t}\n\n\tinterpolatePath(points) {\n\t\t// smooths path so that 1st deriv = 0 at each point\n\t\tconst pts = Array.isArray(points[0]) ? points.map(p => ({x: p[0], y: p[1]})) : points\n\t\tlet d = `M${pts[0].x},${pts[0].y}`\n\t\tlet prev = pts[0]\n\t\tfor (let i = 1; i < pts.length; i++) {\n\t\t\tconst p = pts[i]\n\t\t\tconst x1 = (2*prev.x + p.x) / 3\n\t\t\tconst x2 = (prev.x + 2*p.x) / 3\n\t\t\td += ` C ${x1},${prev.y} ${x2},${p.y} ${p.x},${p.y}`\n\t\t\tprev = p\n\t\t}\n\t\treturn d\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\n\t\tconst toFind = rd.choice({\n\t\t\tincreasing: ['inc'],\n\t\t\tdecreasing: ['dec'],\n\t\t\teither: ['inc', 'dec']\n\t\t}[params.toFind])\n\n\t\tconst xs = [-10]\n\t\tlet prev = -10\n\t\twhile (prev < 7) {\n\t\t\tconst next = rd.randint(prev+3, prev+5)\n\t\t\tif (next > 7) {\n\t\t\t\txs.push(8)\n\t\t\t} else {\n\t\t\t\txs.push(next)\n\t\t\t}\n\t\t\tprev = xs[xs.length-1]\n\t\t}\n\t\txs.push(10)\n\n\t\tconst yRange = [-4,4]\n\t\tconst ys = [rd.randint(...yRange)]\n\n\t\tlet maxConstantIntervals = 2\n\t\tlet which\n\t\twhile (ys.length < xs.length) {\n\t\t\tlet possible = []\n\t\t\tconst prev = ys[ys.length-1]\n\t\t\tif (which !== 'dec' & prev >= yRange[0]+2) {\n\t\t\t\tpossible.push('dec')\n\t\t\t}\n\t\t\tif (which !== 'inc' & prev <= yRange[1]-2) {\n\t\t\t\tpossible.push('inc')\n\t\t\t}\n\t\t\tif (which !== 'const' & maxConstantIntervals > 0) {\n\t\t\t\tpossible.push('const')\n\t\t\t\tmaxConstantIntervals -= 1\n\t\t\t}\n\t\t\twhich = rd.choice(possible)\n\t\t\tif (which === 'dec') {\n\t\t\t\tys.push(rd.randint(Math.max(yRange[0], prev-7), prev-2))\n\t\t\t} else if (which === 'inc') {\n\t\t\t\tys.push(rd.randint(prev+2, Math.min(yRange[1], prev+7)))\n\t\t\t} else {\n\t\t\t\tys.push(prev)\n\t\t\t}\n\t\t}\n\n\t\tif (rd.random() < 0.5) {\n\t\t\tys.reverse()\n\t\t}\n\n\t\tconst intervals = []\n\t\tfor (let i = 1; i < ys.length; i++) {\n\t\t\tif (ys[i-1] < ys[i]) {\n\t\t\t\tintervals.push('inc')\n\t\t\t} else if (ys[i-1] === ys[i]) {\n\t\t\t\tintervals.push('const')\n\t\t\t} else {\n\t\t\t\tintervals.push('dec')\n\t\t\t}\n\t\t}\n\n\t\tlet answer = []\n\t\tlet wrongAnswer1 = []  // ys insteas of xs\n\t\tlet wrongAnswer2 = []  // points instead of xs\n\t\tlet wrongAnswer3 = []  // switch dec/inc\n\t\tlet wrongAnswer4 = []  // switch dec/inc, ys instead of xs\n\n\t\tlet points = [\n\t\t\t{x: xs[0], y: ys[0]},\n\t\t]\n\t\tfor (let i=0; i < intervals.length; i++) {\n\t\t\tpoints.push({x: xs[i+1], y: ys[i+1]})\n\t\t\tif (intervals[i] === toFind) {\n\t\t\t\tanswer.push({start: xs[i], stop: xs[i+1]})\n\t\t\t\twrongAnswer1.push({start: ys[i], stop: ys[i+1]})\n\t\t\t\twrongAnswer2.push({start: xs[i], stop: ys[i]})\n\t\t\t\twrongAnswer2.push({start: xs[i+1], stop: ys[i+1]})\n\t\t\t} else if (intervals[i] === {'inc': 'dec', 'dec': 'inc'}[toFind]) {\n\t\t\t\twrongAnswer3.push({start: xs[i], stop: xs[i+1]})\n\t\t\t\twrongAnswer4.push({start: ys[i], stop: ys[i+1]})\n\t\t\t}\n\t\t}\n\n\t\tconst path = params.style === 'smooth' ? {d: this.interpolatePath(points)} : {points}\n\t\tif (params.points) {\n\t\t\tpath.markers = '...'\n\t\t}\n\t\t\n\t\tconst diagram = [\n\t\t\t'CoordinatePlane', {span: [-10,yRange[0]-1,10,yRange[1]+1], height: '1.4in', clip: false},\n\t\t\t['Path', path]\n\t\t]\n\t\t\n\t\tconst fullName = {inc: 'increasing', dec: 'decreasing'}[toFind]\n\n\t\tfunction fmtAns(ans) {\n\t\t\tif (ans.length === 0) {\n\t\t\t\treturn 'None'\n\t\t\t}\n\t\t\treturn ans.map((int) => `$$(${int.start}, ${int.stop})$$`).join(', ')\n\t\t}\n\n\t\tconst wrongs = [wrongAnswer1, wrongAnswer2, wrongAnswer3, wrongAnswer4]\n\t\tconst answerIndex = rd.randint(0, wrongs.length)\n\t\tconst choices = rd.shuffle([answer, ...wrongs], answerIndex).map(fmtAns)\n\n\t\treturn ({\n\t\t\tinstructions: `Determine the intervals over which the function is ***${fullName}***.`,\n\t\t\tdiagram: diagram,\n\t\t\tanswer: {\n\t\t\t\tcorrect: fmtAns(answer),\n\t\t\t\tchoices: choices,\n\t\t\t\tcorrectIndex: answerIndex,\n\t\t\t\tprompt: ['EmptySpace', {width: '2in'}]\n\t\t\t}\n\t\t})\n\t}\n}\n\n\nexport class GraphLinearInequalities extends QGen {\n\tstatic info = {\n\t\tname: 'Graph Inequalities',\n\t\tdescription: 'Graph the solution to a system of two linear inequalities',\n\t}\n\n\n\tstatic options = {\n\t\tsingleColumn: true,\n\t\tvariants: ['freeResponse'],\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\t\t\n\t\tlet [x1, y1, y2] = rd.sampleRange(2,7,3)\n\t\tlet x2 = rd.randint(-7,-2)\n\t\tconst rotation = rd.randint(0,3)\n\t\tfor (let i = 0; i < rotation; i++) {\n\t\t\t[x1, y1, x2, y2] = [-y1, x1, -y2, x2]\n\t\t}\n\t\tif (x1 > 0 && x2 > 0) {\n\t\t\t[x1, y1, x2, y2] = [-y1, x1, -y2, x2]\n\t\t}\n\n\t\tconst [ineq1, ineq2] = rd.shuffle([rd.choice(['<', '>']), rd.choice(['<=', '>='])])\n\n\t\tconst line1 = {a: y1, b: x1, c: x1*y1, ineq: ineq1, xInt: x1, yInt: y1}\n\t\tconst line2 = {a: y2, b: x2, c: x2*y2, ineq: ineq2, xInt: x2, yInt: y2}\n\n\t\tconst withsign = n => n < 0 ? n : '+' + n\n\t\tconst latexineq = ineq => {\n\t\t\tif (ineq === '<=') return '\\\\leq'\n\t\t\tif (ineq === '>=') return '\\\\geq'\n\t\t\treturn ineq\n\t\t}\n\n\t\tconst latexeqn = f => `${f.a}x ${withsign(f.b)}y &${latexineq(f.ineq)} ${f.c}`\n\n\t\tconst question = `$$\\\\displaystyle\\\\left\\\\{\\\\begin{aligned}\\n${latexeqn(line1)} \\\\\\\\\\n${latexeqn(line2)}\\n\\\\end{aligned}\\\\right.$$`\n\n\t\tconst blankgraph = ['CoordinatePlane', {span: \"-10,-10 10,10\", height: \"1.8in\"}]\n\n\t\tconst correct = {\n\t\t\tlines: [], \n\t\t\tclips: [],\n\t\t}\n\n\t\tfor (const f of [line1, line2]) {\n\t\t\tconst func = x => (f.c - x*f.a) / f.b\n\t\t\tconst points = [[-11, func(-11)], [11, func(11)]]\n\n\t\t\tif (f.ineq === '<' || f.ineq === '>') {\n\t\t\t\tcorrect.lines.push(['Path', {points, style: 'dashed'}])\n\t\t\t} else {\n\t\t\t\tcorrect.lines.push(['Path', {points}])\n\t\t\t}\n\n\t\t\tlet whichside\n\t\t\tif (f.ineq === '<' || f.ineq === '<=') {\n\t\t\t\tif (f.b > 0) {\n\t\t\t\t\twhichside = 'below'\n\t\t\t\t}\telse {\n\t\t\t\t\twhichside = 'above'\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (f.b > 0) {\n\t\t\t\t\twhichside = 'above'\n\t\t\t\t} else {\n\t\t\t\t\twhichside = 'below'\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (whichside === 'above') {\n\t\t\t\tcorrect.clips.push([...points, [11,11], [-11, 11]])\n\t\t\t} else {\n\t\t\t\tcorrect.clips.push([...points, [11,-11], [-11, -11]])\n\t\t\t}\n\t\t}\n\n\t\tconst plotAnswer = a => (\n\t\t\t[\n\t\t\t\t'CoordinatePlane', {span: [-10,-10,10,10], height: '1in', margin: '0.5mm'},\n\t\t\t\t[\n\t\t\t\t\t'Clip', {shape: 'Path', points: a.clips[0]}, [\n\t\t\t\t\t\t'Clip', {shape: 'Path', points: a.clips[1]},\n\t\t\t\t\t\t['Path', {points: [[-11,-11], [-11,11], [11,11], [11,-11]], fill: \"solid\"}]\n\t\t\t\t]],\n\t\t\t\t['Style', {color: '#999'}, ...a.lines],\n\t\t\t\t['Clip', {shape: 'Path', points: a.clips[1]}, a.lines[0] ],\n\t\t\t\t['Clip', {shape: 'Path', points: a.clips[0]}, a.lines[1] ],\n\t\t\t]\n\t\t)\n\n\n\t\treturn {\n\t\t\tinstructions: 'Graph the solution to the system of inequalities.',\n\t\t\tquestion: question,\n\t\t\tanswer: {\n\t\t\t\tprompt: blankgraph,\n\t\t\t\tcorrect: plotAnswer(correct),\n\t\t\t},\n\t\t}\n\t}\n}\n\n\nfunction eqnFromPoints(p1, p2) {\n\tconst m = fraction(p2[1] - p1[1], p2[0] - p1[0])\n\tconst b = p1[1] - m*p1[0]\n\tconst f = x => m*x + b\n\tPolynomial.setField('Q')\n\tconst latex = new Polynomial([b, m]).toLatex()\n\treturn ({f, latex})\n}\n\n\nclass WritePiecewise extends QGen {\n\tstatic info = {\n\t\tname: 'Write Piecewise Function',\n\t\tdescription: 'Write the equation for a piecewise function from its graph.'\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\n\t\tconst domain = [-9,9]\n\t\tconst range = [-10,10]\n\n\t\tconst order = rd.sample(['inc', 'dec', 'const'], 3)\n\n\n\n\t\tconst eqns = []\n\n\t\tconst pieces = []\n\t\tconst xs = [domain[0], -3, 3, domain[1]]\n\n\n\t\tconst left = [rd.bool(), rd.bool()] // does the function go with the left at the domain break?\n\n\t\tconst markers = [\n\t\t\t['<', '.', '.'], \n\t\t\t['.', '.', '.'], \n\t\t\t['.', '.', '>'], \n\t\t]\n\n\t\tconst domainIneqs = [\n\t\t\t['\\\\leq', '\\\\leq'],\n\t\t\t['\\\\leq', '\\\\leq'],\n\t\t\t['\\\\leq', '\\\\leq'],\n\t\t]\n\n\t\tif (left[0]) {\n\t\t\tmarkers[1][0] = 'o'\n\t\t\tdomainIneqs[1][0] = '<'\n\t\t} else {\n\t\t\tmarkers[0][2] = 'o'\n\t\t\tdomainIneqs[0][1] = '<'\n\t\t}\n\t\tif (left[1]) {\n\t\t\tmarkers[2][0] = 'o'\n\t\t\tdomainIneqs[2][0] = '<'\n\t\t} else {\n\t\t\tmarkers[1][2] = 'o'\n\t\t\tdomainIneqs[1][1] = '<'\n\t\t}\n\n\t\tconst answer = `$$y = \\\\left\\\\{\\\\begin{array}{r l r}\n\t${eqns[0].latex} & \\\\text{ for } & -\\\\infty ${domainIneqs[0][0]} x ${domainIneqs[0][1]} ${xs[1]} \\\\\\\\\n\t${eqns[1].latex} & \\\\text{ for } & ${xs[1]} ${domainIneqs[1][0]} x ${domainIneqs[1][1]} ${xs[2]} \\\\\\\\\n\t${eqns[2].latex} & \\\\text{ for } & ${xs[2]} ${domainIneqs[2][0]} x ${domainIneqs[2][1]} \\\\infty \\\\\\\\\n\\\\end{array}\\\\right.$$`\n\n\t\tconst paths = [\n\t\t\t['Path', {points: [pieces[0]], markers: markers[0].join('')}],\n\t\t\t['Path', {points: [pieces[1]], markers: markers[1].join('')}],\n\t\t\t['Path', {points: [pieces[2]], markers: markers[2].join('')}],\n\t\t]\n\n\t\tconst diagram = [\n\t\t\t'CoordinatePlane', {\n\t\t\t\tspan: [domain[0]-1, range[0], domain[1]+1, range[1]], \n\t\t\t\tclip: false,\n\t\t\t\theight: '2in',\n\t\t\t},\n\t\t\t...paths\n\t\t]\n\n\t\treturn {\n\t\t\tinstructions: 'Write the equation for the piecewise function shown.',\n\t\t\tdiagram,\n\t\t\tanswer,\n\t\t}\n\t}\n}","/*\nEvery \n```\nexport class ... extends QGen {\n  ...\n  generate() {\n    ...\n  }\n}\n```\nis a question generator. The `generate()` method describes how the question\nis generated and returns an object that looks something like: \n```\n{\n  instructions: ...,\n  question: ...,\n  diagram: ...,\n  answer: ...\n}\n```\nAny of the four fields (instructions, question, diagram, and answer) can be\nleft out if not needed.\n*/\n\n\nimport QGen from './QGen'\nimport fraction from 'fraction.js'\nimport Polynomial from 'polynomial'\n\n\nexport class MinimalGenerator extends QGen {\n  /*\n  A minimal question generator - this generator does not have any 'info'\n  set. The name therefore defaults to the class name (in this case \n  'MinimalGenerator')\n  */\n\n  generate() {\n    return {\n      instructions: 'instructions here',\n      question: 'question here',\n      diagram: 'diagram here',\n      answer: 'answer here',\n    }\n  }\n}\n\n\nexport class EasySum extends QGen {\n  static info = {\n    name: 'Easy Sum',\n    description: 'Calculate the sum of two 1-digit integers'\n  }\n\n  static options = {\n    // this question takes only half the width of the page\n    singleColumn: true, \n  }\n\n  generate() {\n    const rd = this.random\n    /* \n    You can generate random numbers in other ways, but this has the\n    seed set correctly and has several handy methods built in.\n    Look in ./tools/random_randomjs.js to see available methods\n    rd.randint(m, n) generates a random integer between m and n (inclusive)\n    */\n    const a = rd.randint(1,9)\n    const b = rd.randint(1,9)\n    const answer = a + b\n\n    return {\n      instructions: 'Calculate the sum:',\n      question: `$$${a} + ${b} =$$ ?`, \n      answer: '$$' + answer + '$$',\n      /*\n      The question and answer are wrapped in $$...$$ to signify math mode\n      this is not strictly necessary for this particular question, since \n      everything is an integer that can be displayed without latex, but \n      it is a good idea to put the numbers in math mode anyway for \n      consistent styling\n      */\n    }\n  }\n}\n\n\nexport class SimpleGraph extends QGen {\n  static info = {\n    name: 'Simple Graph',\n    description: 'Coordinate plane with two points plotted.',\n  }\n\n  static options = {\n    singleColumn: true,\n  }\n\n  generate() {\n    const rd = this.random\n\n    let x1, x2, y1, y2\n    while (x1 === x2 && y1 === y2) {\n      // pick 4 numbers at random, each from -5 to 5 (inclusive)\n      // and regenerate if the two points are identical\n      x1 = rd.randint(-5,5)\n      x2 = rd.randint(-5,5)\n      y1 = rd.randint(-5,5)\n      y2 = rd.randint(-5,5) \n    }\n\n    let answer\n    if (x1 === x2) {\n      answer = 'undefined'\n    } else if (y1 === y2) {\n      answer = '$$0$$'\n    } else {\n      // using the fraction.js library will simplify the fraction \n      // (if necessary) and give us the latex formula\n      answer = '$$' + fraction(y2-y1, x2-x1).toLatex() + '$$'\n    }\n\n    return {\n      instructions: 'Calculate the slope between the two points shown on the graph.',\n      answer,\n      diagram: [\n        'CoordinatePlane',\n        {\n          span: [-6,-6,6,6], // left, bottom, right, top; can also be a string, e.g. \"-6,-6 6,6\"\n          height: '1.5in', // height on the page - you need to provide either height or width\n          axis: true,  // whether to show the axis; default is true\n          grid: true,  // whether to show the grid; default is true\n          clip: false, // whether to clip elements on the graph to the grid (rather than grid+margins); default is true\n        },\n        [\n          'Path', \n          {\n            points: [[x1, y1], [x2, y2]], \n            style: 'dashed',  // make the path dashed rather than solid\n            markers: '.-.',  // place a point mark at the two endpoints\n          },\n        ],\n      ]\n    }\n  }\n}\n\n\nexport class AnswerPrompt extends QGen {\n  static info = {\n    name: 'Answer Prompt',\n    description: 'Generator with spot for answer'\n  }\n\n  static options = {\n    singleColumn: true,\n  }\n\n  generate() {\n    const rd = this.random\n\n    // This question will also ask for slope, but without a graph\n    // We'll generate it the same way as the last one\n    let x1, x2, y1, y2\n    while (x1 === x2 && y1 === y2) {\n      x1 = rd.randint(-5,5)\n      x2 = rd.randint(-5,5)\n      y1 = rd.randint(-5,5)\n      y2 = rd.randint(-5,5) \n    }\n\n    const rise = y2 - y1\n    const run = x2 - x1\n    let answer = `rise: $$${rise}$$, run: $$${run}$$, slope: `\n    if (run === 0) {\n      answer += 'undefined'\n    } else if (rise === 0) {\n      answer += '$$0$$'\n    } else {\n      answer += '$$' + fraction(rise, run).toLatex() + '$$'\n    }\n\n    return {\n      instructions: 'Calculate the slope between the two points:',\n      question: `$$(${x1},${y1})$$ and $$(${x2},${y2})$$`,\n      answer: {\n        prompt: ['AnswerBlanks', 'rise = ', 'run = ', 'slope = '],\n        correct: answer,\n      }\n    }\n  }\n}\n\n\nexport class PolynomialLibrary extends QGen {\n\tstatic info = {\n\t\tname: 'Factor Quadratic',\n\t\tdescription: 'Factor quadratic question using polynomial.js library'\n  }\n  \n  static options = {\n    singleColumn: true\n  }\n\n\tgenerate() {\n\t\tconst rd = this.random\n\n\t\t// generate two integers to be the roots of the quadratic:\n\t\tconst a = rd.randint(-12,12)\n\t\tconst b = rd.randint(-12,12)\n\n\t\t// first linear factor: x - a\n\t\tconst lin1 = new Polynomial({\n\t\t\t1: 1, // coefficient of x^1\n\t\t\t0: -a, // coefficient of x^0 (constant term)\n\t\t})\n\n\t\t// second linear factor: x - b\n\t\tconst lin2 = new Polynomial({1: 1, 0: -b})\n\n\t\tconst quadratic = lin1.mul(lin2)\n\n\t\treturn {\n\t\t\tinstructions: 'Solve the quadratic equation:',\n\t\t\tquestion: `$$${quadratic.toLatex()} = 0$$`,\n\t\t\tanswer: `$$x = ${a}, ${b}$$`,\n\t\t}\n\t}\n}","import * as questionTypes from '../../questions'\nconst modules = questionTypes.modules\n\n\nlet questionBank = {}\nfor (const set of Object.keys(modules)) {\n  for (const q in modules[set]) {\n    const generator = modules[set][q]\n    const k = `${set}.${q}`\n    const {name, tags, description} = generator.register()\n    questionBank[k] = {name, tags, description, generator}\n  }\n}\n\nfor (const set of ['examples', 'tests']) {\n  for (const q in questionTypes[set]) {\n    const generator = questionTypes[set][q]\n    const k = `${set}.${q}`\n    const {name, tags, description} = generator.register()\n    questionBank[k] = {name: `_${set}:${name}`, tags, description, generator}\n  }\n}\n\nexport default questionBank","import * as geometry from './geometry'\nimport * as picofermi from './picofermi'\nimport * as polynomials from './polynomials'\nimport * as transformations from './transformations'\nimport * as trigonometry from './trigonometry'\nimport * as othergenerators from './othergenerators'\n\nimport * as simpleexamples from './simpleexamples'\n\nimport * as generatortests from './generatortests'\n\n\nexport const modules = {\n  geometry, \n  picofermi,\n  polynomials,\n  othergenerators, \n  transformations,\n  trigonometry,\n}\n\nexport const tests = generatortests\n\nexport const examples = simpleexamples\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport questionbank from './questionbank'\nimport { includes } from 'lodash'\nimport styles from './styles.module.css'\nimport { addToDocument } from '../../actions/document'\n\nfunction hasKwd(item, kwd) {\n  for (const v of [...item.name.split(' '), ...(item.tags || [])].map(t => t.toLowerCase())) {\n    if (includes(v, kwd.replace(',', ''))) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction checkForKwds(item, kwds=[]) {\n  for (const k of kwds.map(k => k.toLowerCase())) {\n    if (!hasKwd(item, k)) {\n      return false\n    }\n  }\n  // item contains all keywords\n  return true\n}\n\nfunction sortByName(a, b) {\n  if (a.name < b.name) return -1\n  if (a.name > b.name) return 1\n  return 0\n}\n\n\nclass QuestionSearch extends React.Component {\n  static defaultProps = {\n    questionTypes: questionbank\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      input: '',\n      kwds: [],\n      selection: null\n    }\n  }\n\n  clearSearch = () => {\n    this.setState({ input: '', kwds: [], selection: null})\n  }\n\n  updateSearch = evt => {\n    const input = evt.target.value\n    const kwds = input.split(' ').map(k => k.toLowerCase())\n    this.setState({ input, kwds, selection: null })\n  }\n\n  setSelection(id) {\n    this.setState({selection: id})\n  }\n\n  generateAndAdd = () => {\n    const questionType = this.state.selection\n    if (questionType) {\n      console.log(`Generating ${questionType}`)\n      try {\n        const qtype = this.props.questionTypes[questionType].generator\n        const question = new qtype()\n        this.props.addToDocument(question.output())\n      } catch(e) {\n        console.log('failed')\n        console.log(e)\n      }\n    }\n  }\n\n  renderResults() {\n    //const qtypes = Object.keys(this.props.questionTypes).map(k => ({\n    //  id: k, ...this.props.questionTypes[k].register()\n    //})).sort(sortByID)\n    const results = (\n      Object.keys(this.props.questionTypes)\n        .map(k => ({id: k, ...this.props.questionTypes[k]}))\n        .filter(q => checkForKwds(q, this.state.kwds))\n        .sort(sortByName)\n    )\n    const className = styles.ResultContainer + ' ui-input'\n    if (results.length) {\n      return (\n        <div className={className}>\n          {results.map(r => (\n            <div key={r.id} \n              className={styles.SearchResult + (r.id === this.state.selection ? ' ' + styles.Selected : '')}\n              onClick={() => this.setSelection(r.id)}\n              onDoubleClick={this.generateAndAdd}\n              title={r.description}\n            >\n              {r.name}\n            </div>\n          ))}\n        </div>\n      )\n    } else {\n      return (\n        <div className={className}>\n          <span className={styles.SearchResultNone + ' ' + styles.SearchResult}>No results</span>\n        </div>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <input type=\"search\"\n          onChange={this.updateSearch}\n          value={this.state.input}\n          onDoubleClick={this.clearSearch}\n          placeholder=\"filter\"\n        />\n        {this.renderResults()}\n        <button onClick={this.generateAndAdd}>Add</button>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: q => dispatch(addToDocument(q))\n})\n\n\nexport default connect(null, mapDispatchToProps)(QuestionSearch)","import React from 'react';\nimport { connect } from 'react-redux';\nimport ReactModal from 'react-modal';\nimport { Preview, SideBar, StatusBar, TopBar, Wrapper } from './AppLayout'\nimport Document from './Document/Document'\nimport CustomQuestion from './CustomQuestion'\nimport { UploadModal, SavePopup, SettingsModal, NotesModal } from './Modals'\nimport { CheckStateButton } from './Debug'\nimport {\n  AllowEditingToggle,\n  AnswerKeyToggle,\n  FixPagination,\n  FontFamily,\n  FontSize,\n  GUImode,\n  PreviewZoom,\n  StartNumbering\n} from './Settings'\nimport {\n  addToDocument,\n  removeLast,\n  clearAll,\n} from '../actions/document'\nimport { QuestionSearch } from './GeneratorMenu'\n\nimport '../stylesheets/styles.global.css'\n\n\nReactModal.setAppElement('#root')\nObject.assign(ReactModal.defaultStyles.content, {\n  borderRadius: '4px',\n  borderColor: 'var(--ui-border-1, #999)',\n  background: 'var(--ui-bg-1, #eee)',\n  padding: '5mm',\n  top: '10px',\n  left: '10px',\n  right: '10px',\n  bottom: '10px',\n})\nObject.assign(ReactModal.defaultStyles.overlay, {\n  background: 'rgba(10,10,10,0.3)',\n})\n\n\nclass AppWrapper extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      modal: 'none',\n    }\n  }\n\n  addToDoc = (elem) => {\n    this.props.addToDocument(elem)\n  }\n\n  closeModal = () => this.setState({modal: 'none'})\n  openRpcTest = () => this.setState({modal: 'RpcTest'})\n  openCustomQuestion = () => this.setState({modal: 'CustomQuestion'})\n  openSettings = () => this.setState({modal: 'Settings'})\n  openUpload = () => this.setState({modal: 'Upload'})\n  openSave = () => this.setState({modal: 'Save'})\n\n  render() {\n    const toplabel = {margin: '0 0 0 0.5em'}\n    return (\n      <Wrapper >\n        {/* customTitleBar ? <TitleBar /> : null */}\n        <TopBar>\n          <button onClick={this.openUpload}>Load</button>\n          <button onClick={this.openSave}>Save</button>\n          <button onClick={window.print}>Print/PDF</button>\n          <button onClick={this.openSettings}>Settings</button>\n          <label htmlFor=\"show-answer-key-checkbox\" style={toplabel}>Answer Key:</label><AnswerKeyToggle />\n          <span style={toplabel}>Start Numbering:</span><StartNumbering />\n          <span style={toplabel}>Font:</span><FontFamily/><FontSize />\n          <span style={toplabel}>Zoom:</span><PreviewZoom defaultValue=\"100\"/>\n          <label htmlFor=\"allow-editing-checkbox\" style={toplabel}>Allow Editing:</label><AllowEditingToggle />\n          <div style={{width: '3mm'}} />\n          <FixPagination/>\n        </TopBar>\n        <Preview>\n          <Document/>\n        </Preview>\n        <SideBar>\n          <QuestionSearch/>\n          <button onClick={this.openCustomQuestion}>Custom Question</button>\n          <button onClick={this.props.removeLast}>Remove Last</button>\n          <button onClick={this.props.clearAll}>Clear All</button>\n          <div style={{margin: 'auto'}}></div>\n          <GUImode/>\n          <button onClick={() => this.setState({modal: 'Notes'})}>Notes</button>\n          <CheckStateButton>Log State</CheckStateButton>\n        </SideBar>\n        { this.props.statusBar ? <StatusBar><span>{this.props.statusBar}</span></StatusBar> : null }\n\n        <SettingsModal isOpen={this.state.modal === 'Settings'} onRequestClose={this.closeModal}/>\n\n        <ReactModal\n          isOpen={this.state.modal === 'CustomQuestion'}\n          onRequestClose={this.closeModal}\n        >\n          <button onClick={this.closeModal}>Close</button>\n          <CustomQuestion onRequestClose={this.closeModal}/>\n        </ReactModal>\n\n        <NotesModal isOpen={this.state.modal === 'Notes'} onRequestClose={this.closeModal}/>\n        <UploadModal isOpen={this.state.modal === 'Upload'} onRequestClose={this.closeModal}/>\n        <SavePopup isOpen={this.state.modal === 'Save'} onRequestClose={this.closeModal}/>\n\n      </Wrapper>\n    )\n\n  }\n}\n\nconst mapStateToProps = state => ({\n  statusBar: \"\",\n  fontFamilyUI: state.config.fontFamilyUI,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: q => dispatch(addToDocument(q)),\n  removeLast: () => dispatch(removeLast()),\n  clearAll: () => dispatch(clearAll()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AppWrapper)","import React from 'react';\nimport { Provider } from 'react-redux';\nimport App from './App'\n\n\nexport default class Root extends React.Component {\n  render() {\n    const { store } = this.props;\n    return (\n      <Provider store={store}>\n        <App />\n      </Provider>\n    )\n  }\n}\n","import {\n  ADD_TO_DOCUMENT,\n  CLEAR_ALL,\n  REMOVE_LAST,\n  UPDATE_ELEMENT,\n  UPDATE_HEADER,\n  SET_DOCUMENT_STARTNUMBERING,\n  ADD_PAGEBREAK_BEFORE,\n  DELETE_HEADER,\n  DELETE_ELEMENT,\n  CLEAR_PAGEBREAKS,\n  LOAD_DOCUMENT,\n} from '../actions/document'\n\n\n\nconst initialState = {\n  content: {},\n  order: [],\n  headers: {\n    '0': ['PageHeader', {rows: []}],\n    '1': [\n      'PageHeader', {\n        rows: [\n          ['Assignment', 'Name ___'],\n          [null, 'Date __ Class _'],\n        ]\n      }\n    ],\n  },\n  footers: {},\n  pagebreaks: [],\n  startNumbering: 1,\n}\n\nconst document = function(state=initialState, action) {\n  switch (action.type) {\n    // content\n    case ADD_TO_DOCUMENT:\n      return {\n        ...state, \n        content: {\n          ...state.content, \n          [+action.payload.id]: action.payload.element\n        },\n        order: [...state.order, +action.payload.id]\n      }\n    case CLEAR_ALL:\n      return {\n        ...state, \n        content: {},\n        order: [], \n        pagebreaks: [],\n      }\n    case REMOVE_LAST:\n      return {\n        ...state, \n        order: state.order.slice(0,-1), \n        pagebreaks: state.pagebreaks.filter(n => n < state.order.length-1),\n      }\n    case DELETE_HEADER:\n      const headers = {...state.headers}\n      if (+action.payload === 0 || +action.payload === 1) {\n        headers[+action.payload] = ['PageHeader', {rows: []}]\n        return {...state, headers}\n      } else {\n        delete headers[+action.payload]\n        return {...state, headers}\n      }\n    case DELETE_ELEMENT:\n      //Note that this does not remove the element from 'content', only from 'order'\n      return {\n        ...state, \n        order: state.order.filter(id => id !== +action.payload),\n        pagebreaks: state.pagebreaks.filter(n => n < state.order.length-1),\n      }\n    case UPDATE_HEADER:\n      return {\n        ...state, \n        headers: {...state.headers, [+action.payload.id]: action.payload.data}\n      }\n    case UPDATE_ELEMENT:\n      return {\n        ...state, \n        content: {...state.content, [+action.payload.id]: action.payload.data}\n      }\n\n\n    // settings\n    case SET_DOCUMENT_STARTNUMBERING:\n      return {...state, startNumbering: action.payload}\n\n\n\n    // view\n    case ADD_PAGEBREAK_BEFORE:\n      for (const i in state.order) {\n        if (state.order[i] === action.payload) {\n          return {...state, pagebreaks: [...state.pagebreaks, i]}\n        }\n      }\n      return state\n    case CLEAR_PAGEBREAKS:\n      return {...state, pagebreaks: []}\n    case LOAD_DOCUMENT:\n      return {...action.payload}\n    \n    default:\n      return state\n  }\n}\n\nexport default document\n\n","import {\n  ADD_FONTFAMILY,\n  SET_ALLOW_EDITING,\n  SET_FONTFAMILY_UI,\n  SET_SHOW_ANSWERKEY,\n  SET_HIDDEN_COUNT,\n  SET_UI_THEME,\n  SET_DEBUG_VIEW,\n  SET_FILENAME,\n} from '../actions/config'\n\nconst initialState = {\n  //titleBarStyle: 'default',\n  localFonts: [],\n  fontFamilyUI: 'select',\n  showAnswerKey: true,\n  allowEditing: true,\n  numberHidden: 0,\n  uiTheme: 'light',\n  debugView: false,\n}\n\nconst config = function(state=initialState, action) {\n  switch(action.type) {\n    case ADD_FONTFAMILY:\n      return {\n        ...state, \n        localFonts: [...state.localFonts.filter(f => f !== action.payload), action.payload],\n      }\n    case SET_ALLOW_EDITING:\n      return {...state, allowEditing: action.payload}\n    case SET_FONTFAMILY_UI:\n      return {...state, fontFamilyUI: action.payload}\n    case SET_SHOW_ANSWERKEY:\n      return {...state, showAnswerKey: action.payload}\n    case SET_HIDDEN_COUNT:\n      return {...state, numberHidden: action.payload}\n    case SET_UI_THEME:\n      let date = new Date()\n      date.setTime(date.getTime() + 1000 * 3600)\n      document.cookie = `ui-theme=${action.payload};expires=${date.toUTCString()}`\n      return {...state, uiTheme: action.payload}\n    case SET_DEBUG_VIEW:\n      return {...state, debugView: action.payload}\n    case SET_FILENAME:\n      return {...state, filename: action.payload}\n    default:\n      return state\n  }\n}\n\nexport default config","import { kebabCase } from 'lodash'\n\nexport function setStyle(style) {\n  document.documentElement.style.setProperty('--doc-font-family', style.fontFamily)\n  document.documentElement.style.setProperty('--doc-font-size', style.fontSize)\n  document.documentElement.style.setProperty('--doc-math-font-size', style.mathFontSize)\n  document.documentElement.style.setProperty('--doc-math-font-weight', style.mathFontWeight)\n  const mathFontFamily = style.mathFontFamily\n  if (mathFontFamily === '__MATCH__') {\n    document.documentElement.style.setProperty('--doc-math-font-family', 'var(--doc-font-family)')\n  } else if (mathFontFamily === '__DEFAULT__') {\n    document.documentElement.style.removeProperty('--doc-math-font-family')\n  } else {\n    document.documentElement.style.setProperty('--doc-math-font-family', mathFontFamily)\n  }\n  for (const k in style.graph) {\n    document.documentElement.style.setProperty(`--vg-${kebabCase(k)}`, style.graph[k])\n  }\n}","import { defaultsDeep } from 'lodash'\nimport { setStyle } from '../stylesetter'\nimport {\n  SET_DOCUMENT_FONTFAMILY,\n  SET_DOCUMENT_FONTSIZE,\n  SET_MATH_FONTSIZE,\n  SET_MATH_FONTWEIGHT,\n  SET_MATH_FONTFAMILY,\n  SET_PAGE_MARGIN,\n  SET_PAGE_SIZE,\n  UPDATE_GRAPHSTYLE,\n  RESET_GRAPHSTYLE,\n  LOAD_STYLE,\n} from '../actions/style'\n\nimport { kebabCase } from 'lodash'\n\nconst initialState = {\n  columns: true,\n  fontFamily: 'cmu_sansserif',\n  fontSize: '9pt',\n  mathFontFamily: '__DEFAULT__',\n  mathFontSize: '1.1em',\n  mathFontWeight: 'normal',\n  pageSize: 'letter',\n  pageOrientation: 'portrait',\n  pageMargin: '.5in',\n  graph: {\n    asymptoteColor: '#888888',\n    asymptoteWidth: '0.6mm',\n    axisColor: '#111111',\n    axisWidth: '0.3mm',\n    fillOpacity: '0.2',\n    function1Color: '#ff3600',\n    function2Color: '#0080d9',\n    //function3Color: '#70cc3e',\n    functionWidth: '0.4mm',\n    geomColor: '#000000',\n    geomWidth: '0.3mm',\n    gridColor: '#888888',\n    gridWidth: '0.1mm',\n    labelFontSize: '1em',\n  },\n}\n\nconst style = function(state=initialState, action) {\n  switch(action.type) {\n    // Fonts\n    case SET_DOCUMENT_FONTFAMILY:\n      document.documentElement.style.setProperty('--doc-font-family', action.payload)\n      return {...state, fontFamily: action.payload}\n    case SET_DOCUMENT_FONTSIZE:\n      document.documentElement.style.setProperty('--doc-font-size', action.payload)\n      return {...state, fontSize: action.payload}\n    case SET_MATH_FONTSIZE:\n      document.documentElement.style.setProperty('--doc-math-font-size', action.payload)\n      return {...state, mathFontSize: action.payload}\n    case SET_MATH_FONTWEIGHT:\n      document.documentElement.style.setProperty('--doc-math-font-weight', action.payload)\n      return {...state, mathFontWeight: action.payload}\n    case SET_MATH_FONTFAMILY:\n      if (action.payload === '__MATCH__') {\n        document.documentElement.style.setProperty('--doc-math-font-family', 'var(--doc-font-family)')\n        //document.documentElement.style.setProperty('--doc-math-font-spacing', '.03em')\n      } else if (action.payload === '__DEFAULT__') {\n        document.documentElement.style.removeProperty('--doc-math-font-family')\n        //document.documentElement.style.removeProperty('--doc-math-font-spacing')\n      } else {\n        document.documentElement.style.setProperty('--doc-math-font-family', action.payload)\n        //document.documentElement.style.setProperty('--doc-math-font-spacing', '.03em')\n      }\n      return {...state, mathFontFamily: action.payload}\n\n    // Page Layout\n    case SET_PAGE_SIZE:\n      return {...state, pageSize: action.payload}\n    case SET_PAGE_MARGIN:\n      return {...state, pageMargin: action.payload}\n\n    // Graph Style\n    case UPDATE_GRAPHSTYLE:\n      for (const k in action.payload) {\n        document.documentElement.style.setProperty(`--vg-${kebabCase(k)}`, action.payload[k])\n      }\n      return {...state, graph: {...state.graph, ...action.payload}}\n    case RESET_GRAPHSTYLE:\n      for (const k in initialState.graph) {\n        document.documentElement.style.setProperty(`--vg-${kebabCase(k)}`, initialState.graph[k])\n      }\n      return {...state, graph: {...initialState.graph}}\n    \n    case LOAD_STYLE:\n      const newstyle = defaultsDeep({}, action.payload, state)\n      setStyle(newstyle)\n      return newstyle\n\n    default:\n      return state\n  }\n}\n\nexport default style","import { combineReducers } from 'redux'\nimport document from './document'\nimport config from './config'\nimport style from './style'\n\nconst rootReducer = combineReducers({\n  config, document, style\n})\n\nexport default rootReducer\n\nexport {\n  config,\n  document,\n  style,\n}","import React from 'react';\nimport Root from './containers/Root';\nimport { createStore } from 'redux';\nimport rootReducer from './reducers';\nimport initialize from './initialize'\n\n\nconst store = initialize(createStore(rootReducer));\n\nconst App = () => <Root store={store} />\n\nexport default App;","import WebFont from 'webfontloader'\nimport { addFontFamily, setUITheme } from './actions/config'\nimport { setStyle } from './stylesetter'\nimport initializeDev from './initialize-dev'\n\nfunction loadFonts(store) {\n  WebFont.load({\n    custom: {\n      families: [\n        //'cmu_bright',\n        //'cmu_concrete',\n        'cmu_sansserif',\n        'cmu_serif',\n        //'katex_main', \n        //'katex_sansserif', \n      ].map(f => `${f}:n4,i4,n7,i7`),\n      urls: ['./stylesheets/styles.global.css'],\n    },\n    /*\n    google: {\n      families: [\n        'IBM Plex Serif:n4,i4,n7,i7', \n        'IBM Plex Sans:n4,i4,n7,i7', \n      ],\n    },\n    */\n    fontactive: (family) => store.dispatch(addFontFamily(family)),\n    fontinactive: (family) => console.error(`Could not load font ${family}`),\n  })\n}\n\nfunction checkCookie(store) {\n  const state = store.getState()\n  let themeset = false\n  const cookie = document.cookie\n  if (cookie) {\n    for (const c of cookie.split(';')) {\n      const [k, v] = c.split('=')\n      if (k === 'ui-theme') {\n        store.dispatch(setUITheme(v))\n        themeset = true\n      }\n    }\n  }\n  if (!themeset) {\n    store.dispatch(setUITheme(state.config.uiTheme))\n  }\n}\n\nexport default function intialize(store) {\n  loadFonts(store)\n  checkCookie(store)\n  setStyle(store.getState().style)\n  //initializeDev(store)\n  return store\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n\n"],"sourceRoot":""}