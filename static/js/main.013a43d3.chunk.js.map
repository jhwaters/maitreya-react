{"version":3,"sources":["containers/Settings/Graph/styles.module.css","components/styles.module.css","containers/CustomQuestion/styles.module.css","containers/Settings/styles.module.css","components/Preview.js","components/SideBar.js","components/StatusBar.js","components/TopBar.js","components/Wrapper.js","actions/document.js","renderMethods/primaryTypes/Text.js","renderMethods/primaryTypes/VG/InitialDefs.js","renderMethods/primaryTypes/VG/CartesianPlane.js","renderMethods/primaryTypes/VG/Style.js","renderMethods/primaryTypes/VG/Paths.js","renderMethods/primaryTypes/VG/Geometry.js","renderMethods/primaryTypes/VG/other.js","renderMethods/primaryTypes/VG/Marks.js","renderMethods/primaryTypes/VG/Functions.js","renderMethods/primaryTypes/VG/Transforms.js","renderMethods/primaryTypes/VG/Clip.js","renderMethods/secondaryTypes/Answer.js","renderMethods/secondaryTypes/Header.js","renderMethods/secondaryTypes/JsonML.js","renderMethods/secondaryTypes/Question.js","renderMethods/renderTypes.js","renderMethods/secondaryTypes/Layouts.js","renderMethods/secondaryTypes/Container.js","renderMethods/primaryTypes/Empty.js","renderMethods/primaryTypes/Html.js","renderMethods/secondaryTypes/List.js","renderMethods/primaryTypes/VectorGraphic.js","renderMethods/primaryTypes/Vega.js","renderMethods/RenderElement.js","renderMethods/editing/DefaultEditor.js","renderMethods/editing/Header.js","renderMethods/editing/Question.js","renderMethods/editing/index.js","containers/Document/TopLevelElement.js","containers/Document/pagesize.js","containers/Document/MeasuredPage.js","containers/Document/Page.js","containers/Document/AnswerKey.js","containers/Document/Document.js","containers/Settings/Font/AddLocalFont.js","actions/config.js","containers/Settings/Font/FontFamilyUI.js","actions/style.js","containers/Settings/Font/FontFamilyInput.js","containers/Settings/Font/FontFamilySelect.js","containers/Settings/Font/FontFamily.js","containers/Settings/Font/FontSize.js","containers/Settings/Font/MathFontSettings.js","containers/Settings/Font/TextPreview.js","containers/Settings/Font/index.js","containers/Settings/Font/FontSettings.js","containers/CustomQuestion/LatexExamples.js","containers/CustomQuestion/GraphMaker.js","containers/CustomQuestion/CustomQuestion.js","containers/CustomQuestion/index.js","containers/Notes.js","containers/Debug/CheckState.js","containers/Settings/Graph/GraphStyle.js","containers/Settings/Graph/GraphPreview.js","containers/Settings/Graph/GraphSettings.js","containers/Settings/Graph/index.js","containers/Settings/SettingsPage.js","containers/Settings/AllowEditing.js","containers/Settings/AnswerKeyToggle.js","containers/Settings/FixPagination.js","containers/Settings/PageMargin.js","containers/Settings/PreviewZoom.js","containers/Settings/StartNumbering.js","containers/Settings/index.js","questions/tools/handystuff.js","questions/tools/random_randomjs.js","questions/QGen.js","questions/examplequestions.js","questions/tools/QuadTree.js","questions/tools/svgplot.js","questions/demogenerators.js","questions/transformations.js","containers/App.js","containers/Root.js","reducers/document.js","reducers/config.js","reducers/style.js","reducers/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Layout","SettingTable","StyleSetting","Preview","Wrapper","Wrapper-TitleBar-StatusBar","Wrapper-TopBar","Wrapper-TopBar-StatusBar","SideBar","StatusBar","TitleBar","TopBar","PreviewOuter","PreviewInner","GraphMakerBody","GraphMakerInput","GraphMakerPreview","LatexExamples","SettingPage","Title","SettingSection","LeftBar","NavArea","NavButton","active","Previewer","react_default","a","createElement","className","styles","this","props","children","React","Component","classNames","join","elemID","addToDocument","elem","type","payload","element","id","defaultOptions","markdown","render","superscript","subscript","smartarrows","math","delimiters","display","left","right","inline","MathAndMarkdown","_ref","data","options","katexOptions","errorCallback","console","error","text","i","length","delimiter","splitAtDelimiters","splitWithDelimiters","map","c","Text_InlineMarkdown","key","markdownOptions","Text_PlainText","Text_KatexMath","Object","objectSpread","displayMode","PlainText","_ref2","toString","KatexMath","_ref3","html","katex","renderToString","dangerouslySetInnerHTML","__html","e","ParseError","raw","InlineMarkdown","_ref4","md","MarkdownIt","use","mdsub","mdsup","mdsmartarrows","renderInline","ArrowMarker","style","concat","viewBox","refX","refY","markerWidth","markerHeight","markerUnits","orient","d","ArrowMarkerFwd","ArrowMarkerRev","PointMarker","cx","cy","r","BigPointMarker","_ref5","HoleMarker","_ref6","InitialDefs","Fragment","s","InitialDefs_ArrowMarker","InitialDefs_ArrowMarkerFwd","InitialDefs_ArrowMarkerRev","InitialDefs_PointMarker","InitialDefs_BigPointMarker","InitialDefs_HoleMarker","makesrange","min","max","step","arguments","undefined","anchor","v","splice","push","AxisH","span","_props$origin","origin","orig","vectorEffect","AxisV","_props$origin2","Grid","_props$step","_props$origin3","axis","toConsumableArray","x","y","xvals","apply","yvals","hAxis","vAxis","CartesianPlane_AxisV","CartesianPlane_AxisH","CartesianPlane","_props$autogrid","background","autogrid","padding","_props$style","otherprops","objectWithoutProperties","x0","x1","y0","y1","xpad","ypad","clipPadX","clipPadY","w","h","transforms","params","assign","Style_Style","name","Transforms_Transforms","list","CartesianPlane_Grid","Clip_ClipRect","styleIDs","CircleFill1","width","height","patternUnits","class","CircleFill2","_ref7","DiagonalFill1","_ref8","points","DiagonalFill2","_ref9","patternTransform","Style","role","pathColor","pathWidth","pathFill","pathMarkers","styleID","needDefs","markers","positions","result","parseMarkerString","k","_arr","_i","markerShape","url","_arr2","_i2","fillPattern","Style_ArrowMarkerFwd","Style_ArrowMarkerRev","Style_PointMarker","Style_BigPointMarker","Style_HoleMarker","Style_CircleFill1","Style_CircleFill2","Style_DiagonalFill1","Style_DiagonalFill2","pathFromPoints","Array","isArray","p","Path","_props$points","_props$effects","effects","_props$connect","connect","_props$classNames","classes","interpolate","pt","pts","prev","x2","interpolatePathCubicH","ScatterPlot","scatterPathFromPoints","GeomSegment","_props$role","Paths_Path","GeomRay","_props$role2","GeomLine","_props$role3","Asymptote","_props$role4","ShadedRegion","_props$connect2","_props$role5","Polygon","vertices","_props$connect3","_props$role6","Circle","Layer","Text","transform","Rotate","deg","degrees","radians","Math","PI","Mark","coords","Point","Hole","calcPath","f","domain","path","PolynomialFunction","coefficients","ans","pow","RationalFunction","_domainPts","_props$roots","roots","_props$holes","holes","_props$asymptotes","asymptotes","_props$numerLC","numerLC","_props$denomLC","denomLC","_props$step2","_props$range","range","_props$renderAsymptot","renderAsymptotes","_props$renderRoots","renderRoots","_props$renderHoles","renderHoles","num","den","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","value","err","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","domainPts","defineProperty","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","filter","domains","dp","keys","sort","b","v1","v2","val","def","paths","dom","ha","vas","Paths_Asymptote","Marks_Point","Marks_Hole","matrix","_params","slicedToArray","_params$","_params$2","_params$3","_params$4","_params$5","_params$6","_params$x2","_params$y2","scale","_params$x","_params$y","translate","Transforms","transformlist","t","str","clipCounter","ClipRect","_span","clipID","clipPath","AnswerBlank","margin","minWidth","minHeight","RenderElement","content","label","renderHeaderElement","parts","current","isBlank","blankSize","nextChar","size","parseHeader","JsonML","parsed","tagname","constructor","slice","parseJsonML","child","inherited","JsonML_JsonML","JSON","stringify","renderJsonMLChild","QuestionLayout","_ref$options","_ref$layout","layout","_ref$direction","direction","newDirection","row","column","area","renderElement","isMultipleChoice","answer","choices","Question","_ref2$options","opts","defaultsDeep","_options","instructions","question","diagram","multipleChoice","freeResponse","prompt","Question_QuestionLayout","renderTypes","answerkey","_ref4$options","correctIndex","correct","answerblanks","dat","Answer_AnswerBlank","answerchoices","listDirection","items","_data$align2","align","flexFlow","alignItems","el","container","_data$direction","flexDirection","emptyspace","header","dangerouslySetInnerHtml","jsonml","_data$type","_data$spaceAfterItem","spaceAfterItem","listStyleType","marginBottom","mdmath","inlineRenderer","blockRenderer","inlineOpen","inlineClose","blockOpen","blockClose","question-nonumber","Question_Question","_data$align","table","_data$headings","headings","_data$rows","rows","border","trstyle","tdstyle","Text_MathAndMarkdown","vectorgraphic","SvgJsonML","_data","toArray","renderType","VG","vega","react_vega_min_default","spec","vega-lite","react_vega_lite_min_default","renderAs","RenderType","DefaultEditor","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","updateAndClose","onUpdateElement","state","onRequestClose","deleteAndClose","onDeleteElement","revertChanges","setState","gridTemplateColumns","onClick","justifySelf","renderEditor","renderPreview","Header","headingAddRow","newdata","setData","headingRemoveRow","lr","newrow","_this2","inputStyle","borderStyle","onChange","evt","headingUpdate","target","checkMC","newState","toggleMC","isMC","checked","updateInstructions","updateVersionDefault","updateInstructionsMC","updateVersionMC","updateInstructionsFR","updateVersionFR","updateQuestion","updateQuestionMC","updateQuestionFR","fieldname","overrides","updaters","default","mc","fr","cols","renderMCToggle","textAlign","renderInstructionsOrQuestionInputs","get","prototype","dispatch","updateElement","deleteElement","editing_Header_Header","editing_Question_Question","editing_DefaultEditor","TopLevelElement","openEditor","modal","closeModal","divprops","canEdit","onDoubleClick","title","lib_default","isOpen","editing","defaultProps","config","allowEditing","portrait","A3","A4","A5","letter","legal","landscape","MeasuredPage","innerH","inner","clientHeight","outerH","outer","overflows","createRef","oldstate","newstate","onOverflow","forceUpdate","addPageBreakBefore","contentIDs","pageOrientation","pageSize","_this$getPageSize","getPageSize","pageMargin","pageNumber","headers","outerclassname","outerstyle","getOuterStyle","innerstyle","getInnerStyle","headerID","getHeaderID","ref","Document_TopLevelElement","document","footers","Page","orientation","order","Document_Page","pagebreaks","showAnswerKey","hidden","numberHidden","debugView","len","visibleIDs","slices","pages","InitialDefs_InitialDefs","ids","Document_MeasuredPage","Document_AnswerKey","AddLocalFont","addFont","fontName","input","addLocalFont","family","spellCheck","buttonLabel","font","FontFamilyUI","setFontFamilyUI","fontFamilyUI","inputtype","setDocumentFontFamily","updateGraphStyle","FontFamilyInput","fontFamily","setFontFamily","setCss","body","setProperty","GoogleFonts","BrowserFonts","fontSort","aName","toUpperCase","bName","FontFamilySelect","fontList","localFonts","optionLabel","disabled","renderFontOption","Font_FontFamilyInput","Font_FontFamilySelect","FontSizeSelect","setDocFontSize","fontSize","setDocumentFontSize","renderSizeOptions","MathFontSettings","onChangeSize","setSize","onChangeWeight","setWeight","weight","setSizeCss","setMathFontSize","setWeightCss","setMathFontWeight","currentSize","bold","currentWeight","mathFontSize","mathFontWeight","tabsize","onKeyDown","keyCode","start","selectionStart","end","selectionEnd","substring","fill","preventDefault","TextPreview","updatePreview","outputStyle","output","defaultValue","split","json","parse","wrapperElement","FontSettings","Font_FontFamilyUI","Font_FontFamily","Font_AddLocalFont","justifyItems","Font_MathFontSettings","--doc-font-size","Font_TextPreview","latexfmt","String","replace","examples","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_templateObject10","_templateObject11","_templateObject12","_templateObject13","_templateObject14","_templateObject15","_templateObject16","RenderExample","LatexExamples_RenderExample","round","n","floor","calcParametric","abs","parseFunction","func","compile","scope","eval","GraphMaker","updateMode","mode","updateStandard","standard","updateInverse","inverse","updateParametricX","parametricX","updateParametricY","parametricY","updateX0","updateX1","updateY0","updateY1","updateT0","t0","updateT1","t1","updateStep","updateHeight","updateAutoDomain","autoDomain","updateAutoSize","autoSize","onSubmit","getData","getDomain","ymap","xmap","xpmap","ypmap","graphSize","getFunction","GraphMakerHeading","renderMode","renderInputs","renderDomainInput","renderGridInputs","renderHeightInput","CustomQuestion","openExamples","openGraphMaker","updateDiagram","updateAnswer","updateJSON","updateInputType","inputType","getDataFromState","addQuestion","previewStyle","gridTemplateAreas","gridArea","backgroundColor","color","CustomQuestion_LatexExamples","CustomQuestion_GraphMaker","q","thing","Notes","fontWeight","marginRight","CheckStateButton","logState","log","GraphStyle","setValue","cssName","kebabCase","propertyName","Color","Width","Opacity","mapDispatchToProps","createComponent","base","StyleSettingComponent","_base","inherits","graph","Plot1PathColor","PlotPathWidth","Plot2PathColor","GeomPathColor","GeomPathWidth","AsymptoteColor","AsymptoteWidth","AxisColor","AxisWidth","GridColor","GridWidth","ShadedRegionOpacity","SwapButton","_this3","doSwap","_this3$props$updateGr","cssName1","current2","cssName2","current1","propertyName1","propertyName2","PlotColorSwap","plot1PathColor","plot2PathColor","updates","PreviewXYPlot","vasymptotes","g","fpoints","gpoints","fpt","gpt","reverse","CartesianPlane_CartesianPlane","Paths_ShadedRegion","Functions_RationalFunction","PreviewGeom","Paths_Polygon","Geometry_Circle","Paths_GeomRay","Paths_GeomLine","Paths_GeomSegment","GraphSettings","changeStyle","resetToDefaults","resetGraphStyle","GraphPreview_PreviewGeom","GraphPreview_PreviewXYPlot","colSpan","Settings","renderStyleSettings","SettingsPage","showFontSettings","showing","showGraphSettings","Font","Graph","renderSettings","AllowEditing","toggle","setAllowEditing","AnswerKeyToggle","setShowAnswerKey","bool","FixPagination","reset","clearPageBreaks","setHiddenCount","total","setTimeout","check","MarginOptions","SetPageMargin","updateFromSelection","m","setPageMargin","PreviewZoom","setFromInput","magnification","selection","setPreviewZoom","perc","z","StartNumbering","setNumbering","startat","setCSSVariable","setDocumentStartNumbering","startNumbering","stop","inclusive","mathjsrange","gcd","listFactors","_ref$include","include1","_ref$includeN","includeN","Randomizer","seed","engine","Random","engines","mt19937","createClass","autoSeed","integer","real","array","first","shuffled","shuffle","pick","pop","sample","randint","randomSeedGenerator","QGen","randomSeed","random","randomizer","out","generate","_getParams","_specialCaseKeys","_specialCaseValues","getOptions","info","randomPolynomialCoefficients","degree","_ref$maxCoefficient","maxCoefficient","_ref$terms","terms","rd","whichterms","choice","SolveQuadratic","_QGen","_rd$sample","_rd$sample2","r1","r2","poly","Polynomial","2","1","0","rand","add","toLatex","description","FactorQuadraticHard","_QGen2","a1","a2","b1","b2","p1","p2","RationalGraph","_QGen3","makeFunction","top","bottom","generateValues","vals","allHolesInRange","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","isGood","_generateValues","fmtAns","numer","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","simplify","denom","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","wrongs","FindIntervals","_QGen4","toFind","xs","which","yRange","ys","maxConstantIntervals","possible","intervals","wrongAnswer1","wrongAnswer2","wrongAnswer3","wrongAnswer4","inc","dec","mid","fullName","int","answerIndex","IncreasingIntervals","_FindIntervals","DecreasingIntervals","_FindIntervals2","angle1","rotateBy","intersect1","pp","cos","sin","top1","bottom1","difference","intersect2","top2","bottom2","RationalZeroTheorem","_QGen6","primes","leading_coeff","trailing_coeff","num_coeffs","correctNumerators","correctDenominators","allPossibleZeros","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","numCorrect","correctAnswers","_","includes","wrongAnswers","allChoices","poprandom","fraction","test","subdivide","depth","searchDepth","hd","createTree","contourPresent","RationalPlot","inv","numRoots","numAsymptotes","values","sampleRange","PolynomialPlot","coeffs","tex","PlotStyling","path1","path2","path3","path4","FontTest","lines","chars","_i3","dontConfuse","line","j","_arr3","_i4","QuadTreePlotTest","_QGen5","f1","f2","VegaLite","_QGen7","function","mark","encoding","field","$schema","signals","bind","scales","nice","zero","axes","titleFont","marks","from","facet","groupby","encode","enter","stroke","strokeWidth","update","signal","fillOpacity","hover","TransformTracker","parent","mul","translateX","translateY","scaleX","scaleY","cubic","exp2","log2","quad","sqrt","valueOf","setField","div","kStr","aStr","MatchTransformations","parents","eqns","shiftV","shiftH","stretchV","stretchH","compressH","eqn","graphPoints","eqnScramble","shuffleRange","graphScramble","indexOf","questionBank","examplequestions","register","transformations","demogenerators","ReactModal","setAppElement","defaultStyles","borderRadius","borderColor","overlay","AppWrapper","addToDoc","generateAndAdd","questionType","questionTypeSelect","qtype","questionTypes","openRpcTest","openCustomQuestion","openSettings","A","B","toplabel","components_Wrapper","components_TopBar","window","print","Settings_AnswerKeyToggle","Settings_StartNumbering","FontSize","PageMargin","Settings_PreviewZoom","Settings_AllowEditing","Settings_FixPagination","containers_Document_Document","components_SideBar","renderQuestionList","removeLast","clearAll","CheckState","statusBar","components_StatusBar","containers_CustomQuestion","containers_Notes","Root","store","es","containers_App","initialState","action","asymptoteColor","asymptoteWidth","axisColor","axisWidth","gridColor","gridWidth","plotPathWidth","geomPathColor","geomPathWidth","shadedRegionOpacity","rootReducer","combineReducers","createStore","App","Root_Root","Boolean","location","hostname","match","ReactDOM","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.013a43d3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Layout\":\"styles_Layout__2DVPj\",\"SettingTable\":\"styles_SettingTable__37d46\",\"StyleSetting\":\"styles_StyleSetting__3Xjp4\",\"Preview\":\"styles_Preview__x9yKo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"styles_Wrapper__QmsU2\",\"Wrapper-TitleBar-StatusBar\":\"styles_Wrapper-TitleBar-StatusBar__dCCA9\",\"Wrapper-TopBar\":\"styles_Wrapper-TopBar__bDS_q\",\"Wrapper-TopBar-StatusBar\":\"styles_Wrapper-TopBar-StatusBar__3am6d\",\"SideBar\":\"styles_SideBar__11KBm\",\"StatusBar\":\"styles_StatusBar__3LGjN\",\"TitleBar\":\"styles_TitleBar__315t0\",\"TopBar\":\"styles_TopBar__I1VNN\",\"PreviewOuter\":\"styles_PreviewOuter__aClrK\",\"PreviewInner\":\"styles_PreviewInner__2lsw-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GraphMakerBody\":\"styles_GraphMakerBody__11R3v\",\"GraphMakerInput\":\"styles_GraphMakerInput__3qT0d\",\"GraphMakerPreview\":\"styles_GraphMakerPreview__2opkG\",\"LatexExamples\":\"styles_LatexExamples__1VuMU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SettingPage\":\"styles_SettingPage__2u-qK\",\"Title\":\"styles_Title__3GTDx\",\"SettingSection\":\"styles_SettingSection__2TB1w\",\"LeftBar\":\"styles_LeftBar__3l1eD\",\"NavArea\":\"styles_NavArea__1p8EW\",\"NavButton\":\"styles_NavButton__2-ksX\",\"active\":\"styles_active__3Py5l\"};","import React from 'react'\nimport styles from './styles.module.css'\n\nclass Previewer extends React.Component {\n  render() {\n    \n\n    return (\n      <div className={styles.PreviewOuter}>\n        <div className={styles.PreviewInner}>\n          {this.props.children}\n        </div>\n      </div>\n    )\n\n  }\n}\n\nexport default Previewer","import React from 'react'\nimport styles from './styles.module.css'\n\nclass SideBar extends React.Component {\n  render() {\n    return (\n      <div className={styles.SideBar}>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport default SideBar","import React from 'react'\nimport styles from './styles.module.css'\n\nconst StatusBar = (props) => {\n  return (\n    <div className={styles.StatusBar}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default StatusBar","import React from 'react'\nimport styles from './styles.module.css'\n\nconst TopBar = (props) => {\n  return (\n    <div className={styles.TopBar}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default TopBar","import React from 'react'\nimport styles from './styles.module.css'\n\nclass Wrapper extends React.Component {\n  \n  render() {\n    let classNames = [styles.Wrapper, styles['Wrapper-TopBar']]\n\n    return (\n      <div className={classNames.join(' ')}>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport default Wrapper","export const ADD_TO_DOCUMENT = 'ADD_TO_DOCUMENT'\nexport const CLEAR_ALL = 'CLEAR_ALL'\nexport const REMOVE_LAST = 'REMOVE_LAST'\nexport const UPDATE_ELEMENT = 'UPDATE_ELEMENT'\nexport const DELETE_ELEMENT = 'DELETE_ELEMENT'\nexport const SET_DOCUMENT_STARTNUMBERING = 'SET_DOCUMENT_STARTNUMBERING'\nexport const ADD_PAGEBREAK_BEFORE = 'ADD_PAGEBREAK_BEFORE' // need to come up with a better way to do this\nexport const CLEAR_PAGEBREAKS = 'CLEAR_PAGEBREAKS'\n\nlet elemID = 0\n\n// Document content\n\nexport const addToDocument = (elem) => ({\n  type: ADD_TO_DOCUMENT,\n  payload: {element: elem, id: ++elemID}\n})\n\nexport const clearAll = () => ({\n  type: CLEAR_ALL\n})\n\nexport const removeLast = () => ({\n  type: REMOVE_LAST,\n})\n\nexport const updateElement = (id, element) => ({\n  type: UPDATE_ELEMENT,\n  payload: { id, element }\n})\n\nexport const deleteElement = (id) => ({\n  type: DELETE_ELEMENT,\n  payload: id,\n})\n\n// Document settings\n\n\nexport const setDocumentStartNumbering = (n) => ({\n  type: SET_DOCUMENT_STARTNUMBERING,\n  payload: n\n})\n\n\n\n// Document view\n\nexport const addPageBreakBefore = (id) => ({\n  type: ADD_PAGEBREAK_BEFORE,\n  payload: id\n})\n\nexport const clearPageBreaks = () => ({\n  type: CLEAR_PAGEBREAKS\n})\n\n\n","/*\nThis renders math in text using markdown, and simple markdown using\nmarkdown-it's inline renderer. For more complicated markdown, use\nthe 'markdown' type, which will be passed to the 'renderMarkdown' function\n*/\n\nimport React from 'react'\nimport katex from 'katex'\nimport { defaultsDeep } from 'lodash'\nimport MarkdownIt from 'markdown-it'\nimport mdsup from 'markdown-it-sup'\nimport mdsub from 'markdown-it-sub'\nimport mdsmartarrows from 'markdown-it-smartarrows'\nimport mdmath from 'markdown-it-math'\nimport splitAtDelimiters  from 'katex/contrib/auto-render/splitAtDelimiters'\n\n\nconst defaultOptions = {\n  markdown: {\n    render: true,\n    superscript: true,\n    subscript: true,\n    smartarrows: true,\n  },\n\n  math: {\n    render: true,\n    delimiters: {\n      display: {left: '$$$', right: '$$$'},\n      inline: {left: '$$', right: '$$'},\n    },\n  }\n};\n\n\n\n// from katex:\nconst splitWithDelimiters = function(text, delimiters) {\n  let data = [{type: \"text\", data: text}];\n  for (let i = 0; i < delimiters.length; i++) {\n    const delimiter = delimiters[i];\n    data = splitAtDelimiters(\n      data, delimiter.left, delimiter.right,\n      delimiter.display || false);\n  }\n  return data;\n};\n\nconst MathAndMarkdown = ({data, options}) => {\n  /**\n   * Split text using Katex, then render pieces with katex (if math)\n   * or markdown (inline only)\n   */\n  const katexOptions = {\n    delimiters: [\n      {left: options.math.delimiters.display.left, right: options.math.delimiters.display.right, display: true},\n      {left: options.math.delimiters.inline.left, right: options.math.delimiters.inline.right, display: false},\n    ],\n    errorCallback: console.error,\n  }\n\n  return (\n    <span>\n      {splitWithDelimiters(data, katexOptions.delimiters).map((c,i) => {\n        if (c.type === 'text') {\n          if (options.markdown.render) {\n            return <InlineMarkdown key={i} data={c.data} markdownOptions={options.markdown} />\n          } else {\n            return <PlainText key={i} data={c.data} />\n          }\n        } else {\n          return <KatexMath key={i} data={c} katexOptions={{...katexOptions, displayMode: c.display}} />\n        }\n      })}\n    </span>\n  )\n}\n\nconst PlainText = ({data}) => {\n  return <span>{data.toString()}</span>\n}\n\nconst KatexMath = ({data, katexOptions}) => {\n  try {\n    const html = katex.renderToString(data.data, katexOptions);\n    return <span dangerouslySetInnerHTML={{__html: html}} />\n  } catch (e) {\n    if (!(e instanceof katex.ParseError)) {\n      throw e;\n    }\n    katexOptions.errorCallback(\n      \"KaTeX auto-render: Failed to parse `\" + data.data + \"` with \", e\n    );\n    return <span>{data.raw}</span>\n  }\n}\n\nconst InlineMarkdown = ({data, markdownOptions}) => {\n  let md = new MarkdownIt()\n  if (markdownOptions.subscript) { md = md.use(mdsub); }\n  if (markdownOptions.superscript) { md = md.use(mdsup); }\n  if (markdownOptions.smartarrows) { md = md.use(mdsmartarrows); }\n  const html = md.renderInline(data)\n  return <span dangerouslySetInnerHTML={{__html: html}} />\n}\n\nexport const Text = ({data, options}) => {\n  if (typeof data === 'number') {\n    return <PlainText data={data.toString()} />\n  } else {\n    const opts = defaultsDeep({}, options, defaultOptions)\n    if (opts.math.render) {\n      return <MathAndMarkdown data={data} options={opts} />\n    } else if (opts.markdown.render) {\n      return <InlineMarkdown data={data} markdownOptions={opts.markdown} />\n    } else {\n      return <PlainText data={data} />\n    }\n  }\n}\n\nexport const Markdown = ({data, options}) => {\n  const opts = defaultsDeep({}, options, defaultOptions)\n  let md = new MarkdownIt()\n  if (opts.markdown.subscript) { md = md.use(mdsub); }\n  if (opts.markdown.superscript) { md = md.use(mdsup); }\n  if (opts.markdown.smartarrows) { md = md.use(mdsmartarrows); }\n  if (opts.math.render) {\n    md = md.use(mdmath, {\n      inlineRenderer: (str) => katex.renderToString(str),\n      blockRenderer: (str) => '<div class=\"math-block\">' + katex.renderToString(str, {displayMode: true}) + '</div>',\n      inlineOpen: opts.math.delimiters.inline.left,\n      inlineClose: opts.math.delimiters.inline.right,\n      blockOpen: opts.math.delimiters.display.left,\n      blockClose: opts.math.delimiters.display.right,\n    })\n  }\n  return (\n    <span dangerouslySetInnerHTML={{__html: md.render(data)}} ></span> \n  )\n}\n\n\n\n\n\n\n/*\nconst defaultDelimiters = {\n  display: {left: '$$$', right: '$$$'},\n  inline: {left: '$$', right: '$$'},\n}\n\nconst replaceMathDelimiters = function(text, options, delimiters=defaultDelimiters) {\n  let optionsCopy = {...options.katex}\n  const data = splitWithDelimiters(text, optionsCopy.delimiters)\n  let result = \"\"\n  for (let i = 0; i < data.length; i++) {\n    if (data[i].type === \"text\") {\n      result += data[i].data\n    } else if (data[i].display) {\n      result += `${delimiters.display.left}${data[i].data}${delimiters.display.right}`\n    } else {\n      result += `${delimiters.inline.left}${data[i].data}${delimiters.inline.right}`\n    }\n  }\n  return result\n}\n*/\n","import React from 'react'\n\n\nconst ArrowMarker = ({style}) => {\n  const id = `vg-marker-${style}-arrow`\n  const className = `vg-marker-${style}`\n  return (\n    <marker id={id} viewBox=\"0 0 10 10\" refX=\"3\" refY=\"5\"\n      markerWidth=\".4\" markerHeight=\".4\"\n      markerUnits=\"strokeWidth\"\n      orient=\"auto-start-reverse\">\n      <path d=\"M 2 5 L 0 0 L 10 5 L 0 10 z\" className={className} />\n    </marker>\n  )\n}\n\nconst ArrowMarkerFwd = ({style}) => {\n  const id = `vg-marker-${style}-arrowf`\n  const className = `vg-marker-${style}`\n  return (\n    <marker id={id} viewBox=\"0 0 10 10\" refX=\"3\" refY=\"5\"\n      markerWidth=\".4\" markerHeight=\".4\"\n      markerUnits=\"strokeWidth\"\n      orient=\"auto\">\n      <path d=\"M 2 5 L 0 0 L 10 5 L 0 10 z\" className={className} />\n    </marker>\n  )\n}\n\nconst ArrowMarkerRev = ({style}) => {\n  const id = `vg-marker-${style}-arrowr`\n  const className = `vg-marker-${style}`\n  return (\n    <marker id={id} viewBox=\"0 0 10 10\" refX=\"7\" refY=\"5\"\n      markerWidth=\".4\" markerHeight=\".4\"\n      markerUnits=\"strokeWidth\"\n      orient=\"auto\">\n      <path d=\"M 8 5 L 10 0 L 0 5 L 10 10 z\" className={className}/>\n    </marker>\n  )\n}\n\nconst PointMarker = ({style}) => {\n  const id = `vg-marker-${style}-point`\n  const className = `vg-marker-${style}`\n  return (\n    <marker id={id} viewBox=\"0 0 10 10\" refX=\"5\" refY=\"5\"\n      markerWidth=\".2\" markerHeight=\".2\"\n      markerUnits=\"strokeWidth\">\n      <circle cx=\"5\" cy=\"5\" r=\"5\" className={className} />\n    </marker>\n  )\n}\n\nconst BigPointMarker = ({style}) => {\n  const id = `vg-marker-${style}-bigpoint`\n  const className = `vg-marker-${style}`\n  return (\n    <marker id={id} viewBox=\"0 0 10 10\" refX=\"5\" refY=\"5\"\n      markerWidth=\".3\" markerHeight=\".3\"\n      markerUnits=\"strokeWidth\">\n      <circle cx=\"5\" cy=\"5\" r=\"5\" className={className} />\n    </marker>\n  )\n}\n\nconst HoleMarker = ({style}) => {\n  const id = `vg-marker-${style}-hole`\n  const className = `vg-marker-${style}`\n  return (\n    <marker id={id} viewBox=\"0 0 10 10\" refX=\"5\" refY=\"5\"\n      markerWidth=\".4\" markerHeight=\".4\"\n      markerUnits=\"strokeWidth\">\n      <circle cx=\"5\" cy=\"5\" r=\"5\" className={className}/>\n      <circle cx=\"5\" cy=\"5\" r=\"3\" className='vg-marker-hole' />\n    </marker>\n  )\n}\n\n\nexport const InitialDefs = () => {\n  const styles = ['asymptote', 'axis', 'grid']\n  return (\n    <>\n    {styles.map(s => <ArrowMarker key={`arrow-${s}`} style={s}/> )}\n    {styles.map(s => <ArrowMarkerFwd key={`arrowf-${s}`} style={s}/> )}\n    {styles.map(s => <ArrowMarkerRev key={`arrowr-${s}`} style={s}/> )}\n    {styles.map(s => <PointMarker key={`pt-${s}`} style={s}/> )}\n    {styles.map(s => <BigPointMarker key={`bigpt-${s}`} style={s}/> )}\n    {styles.map(s => <HoleMarker key={`hole-${s}`} style={s}/> )}\n    </>\n  )\n}","import React from 'react'\nimport { ClipRect } from '.'\nimport { Transforms } from '.'\nimport { Style } from '.'\n\nexport function makesrange(min, max, step=1, anchor) {\n\tif (anchor === undefined) {\n\t\tanchor = min;\n\t} else if (anchor < min) {\n\t\tanchor = min;\n\t} else if (anchor > max) {\n\t\tanchor = max;\n\t}\n\tlet r = [anchor,];\n\tlet v = anchor - step;\n\twhile (v >= min) {\n\t\t\tr.splice(0, 0, v);\n\t\t\tv -= step;\n\t}\n\tv = anchor + step;\n\twhile (v <= max) {\n\t\t\tr.push(v);\n\t\t\tv += step;\n\t}\n\treturn r;\n}\n\n\n\n\n\nconst AxisH = (props) => {\n  const {span, origin=[0,0]} = props\n  const orig = `${origin[0]},${origin[1]}`\n  return (\n    <>\n    {span[0] === origin[0] ? null : <path className='vg-path vg-axis vg-axis-neg' d={`M${orig}H${span[0]}`} vectorEffect='non-scaling-stroke'/>}\n    <path className='vg-path vg-axis vg-axis-pos' d={`M${orig}H${span[1]}`} vectorEffect='non-scaling-stroke'/>\n    </>\n  )\n}\n\nconst AxisV = (props) => {\n  const {span, origin=[0,0]} = props\n  const orig = `${origin[0]},${origin[1]}`\n  return (\n    <>\n    {span[0] === origin[1] ? null : <path className='vg-path vg-axis vg-axis-neg' d={`M${orig}V${span[0]}`} vectorEffect='non-scaling-stroke'/>}\n    <path className='vg-path vg-axis vg-axis-pos' d={`M${orig}V${span[1]}`} vectorEffect='non-scaling-stroke'/>\n    </>\n  )\n}\n\nexport const Grid = (props) => {\n  const {span, step=[1,1], origin=[0,0]} = props\n  const axis = props.axis !== undefined ? props.axis : [...origin]\n\n  const x = {span: [+span[0], +span[2]], step: +step[0], origin: +origin[0]}\n  const y = {span: [+span[1], +span[3]], step: +step[1], origin: +origin[1]}\n\n  const xvals = x.step ? makesrange(...x.span, x.step, x.origin) : []\n  const yvals = y.step ? makesrange(...y.span, y.step, y.origin) : []\n\n  let hAxis = axis === null ? false : (axis[1] === null ? false : true)\n  let vAxis = axis === null ? false : (axis[0] === null ? false : true)\n\n  return (\n    <>\n      {xvals.map(v => <path key={`x-${v}`} className='vg-path vg-grid' d={`M${v},${y.span[0]}V${y.span[1]}`} vectorEffect='non-scaling-stroke'/>)}\n      {yvals.map(v => <path key={`y-${v}`} className='vg-path vg-grid' d={`M${x.span[0]},${v}H${x.span[1]}`} vectorEffect='non-scaling-stroke'/>)}\n      {vAxis ? <AxisV span={y.span} origin={axis} /> : null}\n      {hAxis ? <AxisH span={x.span} origin={axis} /> : null}\n    </>\n  )\n}\n\n\n\n\nexport const CartesianPlane = (props) => {\n  const {\n    span, background, autogrid=false,\n    padding, style='xyplot', ...otherprops\n  } = props\n  const x0 = +span[0]\n  const x1 = +span[2]\n  const y0 = +span[1]\n  const y1 = +span[3]\n  const xpad = (x1 - x0) * .1\n  const ypad = (y1 - y0) * .1\n  const clipPadX = padding === undefined ? (x1 - x0) * .005 : padding\n  const clipPadY = padding === undefined ? (y1 - y0) * .005 : padding\n  const w = x1 - x0\n  const h = y1 - y0\n\n  //const viewBox = `${x0-xpad} ${-y1-ypad} ${w+2*xpad} ${h+2*ypad}`\n  const viewBox = `${x0-xpad} ${y0-ypad} ${w+2*xpad} ${h+2*ypad}`\n  const transforms = [\n    {type: 'translate', params: {y: y0+y1}},\n    {type: 'scale', params: {y: -1}}\n  ]\n\n  return (\n    <svg viewBox={viewBox} className='vg-primary'\n      {...otherprops}>\n      <Style name={style}>\n        <Transforms list={transforms}>\n          {autogrid ? <Grid span={span} /> : null}\n          <ClipRect span={[x0-clipPadX, y0-clipPadY, x1+clipPadX, y1+clipPadY]}>\n            {props.children}\n          </ClipRect>\n        </Transforms>\n      </Style>\n    </svg>\n  )\n}","import React from 'react'\n\nlet styleIDs = 0\n\n/*\nexport const ArrowMarker = ({id}) => {\n  return (\n    <marker id={id} viewBox=\"0 0 10 10\" refX=\"3\" refY=\"5\"\n      markerWidth=\".4\" markerHeight=\".4\"\n      markerUnits=\"strokeWidth\"\n      orient=\"auto-start-reverse\">\n      <path d=\"M 2 5 L 0 0 L 10 5 L 0 10 z\" className='vg-marker' />\n    </marker>\n  )\n}\n*/\n\nexport const ArrowMarkerFwd = ({id}) => {\n  return (\n    <marker id={id} viewBox=\"0 0 10 10\" refX=\"3\" refY=\"5\"\n      markerWidth=\".4\" markerHeight=\".4\"\n      markerUnits=\"strokeWidth\"\n      orient=\"auto\">\n      <path d=\"M 2 5 L 0 0 L 10 5 L 0 10 z\" className='vg-marker' />\n    </marker>\n  )\n}\n\nexport const ArrowMarkerRev = ({id}) => {\n  return (\n    <marker id={id} viewBox=\"0 0 10 10\" refX=\"7\" refY=\"5\"\n      markerWidth=\".4\" markerHeight=\".4\"\n      markerUnits=\"strokeWidth\"\n      orient=\"auto\">\n      <path d=\"M 8 5 L 10 0 L 0 5 L 10 10 z\" className='vg-marker'/>\n    </marker>\n  )\n}\n\nexport const PointMarker = ({id}) => {\n  return (\n    <marker id={id} viewBox=\"0 0 10 10\" refX=\"5\" refY=\"5\"\n      markerWidth=\".2\" markerHeight=\".2\"\n      markerUnits=\"strokeWidth\">\n      <circle cx=\"5\" cy=\"5\" r=\"5\" className='vg-marker' />\n    </marker>\n  )\n}\n\nexport const BigPointMarker = ({id}) => {\n  return (\n    <marker id={id} viewBox=\"0 0 10 10\" refX=\"5\" refY=\"5\"\n      markerWidth=\".3\" markerHeight=\".3\"\n      markerUnits=\"strokeWidth\">\n      <circle cx=\"5\" cy=\"5\" r=\"5\" className='vg-marker' />\n    </marker>\n  )\n}\n\nexport const HoleMarker = ({id}) => {\n  return (\n    <marker id={id} viewBox=\"0 0 10 10\" refX=\"5\" refY=\"5\"\n      markerWidth=\".4\" markerHeight=\".4\"\n      markerUnits=\"strokeWidth\">\n      <circle cx=\"5\" cy=\"5\" r=\"5\" className='vg-marker'/>\n      <circle cx=\"5\" cy=\"5\" r=\"3\" className='vg-marker-hole' />\n    </marker>\n  )\n}\n\nexport const CircleFill1 = ({id}) => {\n  return (\n    <pattern id={id} viewBox='0 0 8 8' \n      width='2%' height='2%' \n      patternUnits='userSpaceOnUse'>\n      <circle cx='2' cy='2' r='2' class='vg-marker' />\n      <circle cx='6' cy='6' r='2' class='vg-marker' />\n    </pattern>\n  )\n}\n\nexport const CircleFill2 = ({id}) => {\n  return (\n    <pattern id={id} viewBox='0 0 8 8' \n      width='2%' height='2%' \n      patternUnits='userSpaceOnUse'>\n      <circle cx='2' cy='6' r='2' class='vg-marker' />\n      <circle cx='6' cy='2' r='2' class='vg-marker' />\n    </pattern>\n  )\n}\n\n\nexport const DiagonalFill1 = ({id}) => {\n  return (\n    <pattern id={id} viewBox='0 0 10 10' \n      width='4%' height='4%'\n      patternUnits='userSpaceOnUse'>\n      <polygon points='0,0 5,0 10,5 10,10' class='vg-marker' />\n      <polygon points='0,5 0,10 5,10' class='vg-marker' />\n    </pattern>\n  )\n}\n\nexport const DiagonalFill2 = ({id}) => {\n  return (\n    <pattern id={id} viewBox='0 0 10 10' \n      width='4%' height='4%'\n      patternTransform='scale(-1,-1)'\n      patternUnits='userSpaceOnUse'>\n      <polygon points='0,0 5,0 10,5 10,10' class='vg-marker' />\n      <polygon points='0,5 0,10 5,10' class='vg-marker' />\n    </pattern>\n  )\n}\n\n\nexport const parseMarkerString = s => {\n  const positions = ['start', 'mid', 'end']\n  if (s.length === 3) {\n    const result = {}\n    for (let i=0; i<3; i++) {\n      if (s[i] === '<') result[positions[i]] = 'arrowr'\n      else if (s[i] === '>') result[positions[i]] = 'arrowf'\n      else if (s[i] === '.') result[positions[i]] = 'point'\n      else if (s[i] === 'o') result[positions[i]] = 'hole'\n      else if (s[i] === '-') result[positions[i]] = 'none'\n    }\n    return result\n  }\n  return ({})\n}\n\nexport const Style = props => {\n  const {name, role, pathColor, pathWidth, pathFill, pathMarkers} = props\n  const styleID = `styleLayer-${++styleIDs}`\n  const classNames = []\n  const style = {}\n  let needDefs = false\n\n  if (name) {\n    classNames.push(`vg-style-${name}`)\n    needDefs = true\n  }\n  if (role) {\n    classNames.push(`vg-${role}`)\n    needDefs = true\n  }\n  if (pathColor) {\n    style['--vg-path-color'] = pathColor\n    needDefs = true\n  }\n  if (pathWidth) {\n    style['--vg-path-width'] = pathWidth\n    needDefs = true\n  }\n  if (pathFill) {\n    style['--vg-path-fill'] = pathFill\n    needDefs = true\n  }\n\n  if (pathMarkers) {\n    if (pathMarkers) {\n      const markers = parseMarkerString(pathMarkers)\n      for (const k in markers) {\n        style[`--vg-path-marker-${k}`] = (\n          markers[k] === 'none' \n          ? 'none' \n          : `var(--vg-marker-${markers[k]})`\n        )\n      }\n    }\n  }\n\n  if (needDefs) {\n    for (const markerShape of ['arrowf', 'arrowr', 'point', 'bigpoint', 'hole']) {\n      const url = `url(#vg-style-${styleID}-marker-${markerShape})`\n      style['--vg-marker-' + markerShape] = url\n    }\n    for (const fillPattern of ['circle1', 'circle2', 'diagonal1', 'diagonal2']) {\n      style[`--vg-fillpattern-${fillPattern}`] = `url(#vg-style-${styleID}-fillpattern-${fillPattern})`\n    }\n    \n    return (\n      <g className={classNames.join(' ')} style={style}>\n        <defs>\n          <ArrowMarkerFwd id={`vg-style-${styleID}-marker-arrowf`}/>\n          <ArrowMarkerRev id={`vg-style-${styleID}-marker-arrowr`}/>\n          <PointMarker id={`vg-style-${styleID}-marker-point`}/>\n          <BigPointMarker id={`vg-style-${styleID}-marker-bigpoint`}/>\n          <HoleMarker id={`vg-style-${styleID}-marker-hole`}/>\n          <CircleFill1 id={`vg-style-${styleID}-fillpattern-circle1`}/>\n          <CircleFill2 id={`vg-style-${styleID}-fillpattern-circle2`}/>\n          <DiagonalFill1 id={`vg-style-${styleID}-fillpattern-diagonal1`}/>\n          <DiagonalFill2 id={`vg-style-${styleID}-fillpattern-diagonal2`}/>\n        </defs>\n        {props.children}\n      </g>\n    )\n  } else {\n    return (\n      <g className={classNames.join(' ')} >\n        {props.children}\n      </g>\n    )\n  }\n\n}","import React from 'react'\nimport { parseMarkerString } from './Style'\n\nfunction pointFromArray(pt) {\n  return `${pt[0]},${pt[1]}`\n}\n\n\nfunction pointFromXY(pt) {\n  return `${pt.x},${pt.y}`\n}\n\nfunction XYtoArray(pt) {\n  return [pt.x, pt.y]\n}\n\n\nexport function pathFromPoints(points) {\n  if (Array.isArray(points[0])) {\n    return `M${points.map(p => `${p[0]},${p[1]}`).join('L')}`\n  }\n  return `M${points.map(p => `${p.x},${p.y}`).join('L')}`\n}\n\nexport function scatterPathFromPoints(points) {\n  if (Array.isArray(points[0])) {\n    return points.map(p => `M${p[0]},${p[1]}`).join(' ')\n  }\n  return points.map(p => `M${p.x},${p.y}`).join(' ')\n}\n\n\nfunction interpolatePathCubicH(points) {\n  const pts = Array.isArray(points[0]) ? points : points.map(p => [p.x, p.y])\n  let d = `M ${pointFromArray(pts[0])}`\n  let prev = pts[0]\n  for (let i = 1; i < pts.length; i++) {\n    const p = pts[i]\n    const x1 = (2*prev[0] + p[0]) / 3\n    const x2 = (prev[0] + 2*p[0]) / 3\n    d += ` C ${x1},${prev[1]} ${x2},${p[1]} ${p[0]},${p[1]}`\n    prev = p\n  }\n  return d\n}\n\n\nexport const Path = props => {\n  const {points=[], effects={}, style, connect=false, classNames=([]), role} = props\n\n  const classes = ['vg-path', ...classNames]\n  if (role) classes.push('vg-' + role)\n\n  if (style) classes.push(`vg-style-${style}`)\n  \n  let d = pathFromPoints(points)\n  \n  if (effects && effects.interpolate) {\n    if (effects.interpolate === 'cubic-h') {\n      d = interpolatePathCubicH(points)\n    }\n  } else {\n    d = pathFromPoints(points)\n  }\n  \n  if (connect) {\n    d += 'z'\n  }\n  return (\n    <path className={classes.join(' ')}\n      d={d}\n      vectorEffect='non-scaling-stroke'\n    />\n  )\n}\n\nexport const ScatterPlot = (props={}) => {\n  const {points} = props\n  return (\n    <path className='vg-scatterplot' \n      d={scatterPathFromPoints(points)} \n      vectorEffect='non-scaling-stroke' />\n  )\n}\n\n\nexport const GeomSegment = props => {\n  const {role='geomsegment', ...otherprops} = props\n  return <Path {...otherprops} role={role}/>\n}\n\nexport const GeomRay = props => {\n  const {role='geomray', ...otherprops} = props\n  return <Path {...otherprops} role={role}/>\n}\n\nexport const GeomLine = props => {\n  const {role='geomline', ...otherprops} = props\n  return <Path {...otherprops} role={role}/>\n}\n\nexport const Asymptote = props => {\n  const {role='asymptote', ...otherprops} = props\n  return <Path {...otherprops} role={role}/>\n}\n\nexport const ShadedRegion = props => {\n  const {connect=true, role='shaded-region', ...otherprops} = props\n  return <Path {...otherprops} connect={connect} role={role} />\n}\n\nexport const Polygon = props => {\n  const {vertices, connect=true, role='polygon', ...otherprops} = props\n  if (vertices) {\n    return <Path {...otherprops} connect={connect} role={role} points={vertices}/>\n  }\n  return <Path {...otherprops} connect={connect} role={role} />\n}","import React from 'react'\n\n\nexport const Circle = (props) => {\n  const {cx, cy, r, ...otherprops} = props\n  return <circle className='vg-path geom-circle' cx={cx} cy={cy} r={r} {...otherprops} vectorEffect='non-scaling-stroke'/>\n}\n\n","import React from 'react'\n\nexport const Layer = (props) => {\n  return (\n    <g {...props}>\n      {props.children}\n    </g>\n  )\n}\n\nexport const Text = (props) => {\n  const {x, y, children, ...otherprops} = props\n  return (\n    <text className='vg-text' x={x} y={-y} {...otherprops} transform='scale(1,-1)' vectorEffect='non-scaling-stroke'>\n      {props.children}\n    </text>\n  )\n}\n\nexport const Rotate = (props) => {\n  const deg = props.degrees !== undefined ? props.degrees : props.radians * 180 / Math.PI \n  return (\n    <g transform={`rotate(${deg})`}>\n      {props.children}\n    </g>\n  )\n}\n\n","import React from 'react'\n\nexport const Mark = props => {\n  const {x, y, coords, role, style} = props\n  const d = `M${coords ? `${coords[0]},${coords[1]}` : `${x},${y}`}z`\n  const classNames = ['vg-mark']\n  if (role) classNames.push(`vg-${role}`)\n  if (style) classNames.push(`vg-style-${style}`)\n  return (\n    <path className={classNames.join(' ')}\n      vectorEffect='non-scaling-stroke'\n      d={d}\n    />\n  )\n}\n\nexport const Point = props => {\n  const {x, y, coords, role, style} = props\n  const d = `M${coords ? `${coords[0]},${coords[1]}` : `${x},${y}`}z`\n  const classNames = ['vg-mark', 'vg-point']\n  if (role) classNames.push(`vg-${role}`)\n  if (style) classNames.push(`vg-style-${style}`)\n  return (\n    <path className={classNames.join(' ')}\n      vectorEffect='non-scaling-stroke'\n      d={d}\n    />\n  )\n}\n\nexport const Hole = props => {\n  const {x, y, coords, role, style} = props\n  const d = `M${coords ? `${coords[0]},${coords[1]}` : `${x},${y}`}z`\n  const classNames = ['vg-mark', 'vg-hole']\n  if (role) classNames.push(`vg-${role}`)\n  if (style) classNames.push(`vg-style-${style}`)\n  return (\n    <path className={classNames.join(' ')}\n      vectorEffect='non-scaling-stroke'\n      d={d}\n    />\n  )\n}","import React from 'react'\nimport { Path, Asymptote, Point, Hole } from '.'\n\n\nconst calcPath = function(f, domain, step=0.1) {\n  let path = []\n  let x = domain[0]\n  while (x < domain[1]) {\n    path.push({x: x, y: f(x)})\n    x += step\n  }\n  path.push(({x: domain[1], y: f(domain[1])}))\n  return path\n}\n\nexport const PolynomialFunction = (props) => {\n  const { \n    coefficients, domain, step=0.1,\n    ...otherprops\n  } = props\n\n  const f = (x) => {\n    let ans = 0\n    for (const deg in coefficients) {\n      ans += coefficients[deg] * Math.pow(x,deg)\n    }\n    return ans\n  }\n\n  return <Path points={calcPath(f, domain, step)} {...otherprops}/>\n}\n\nexport const RationalFunction = (props) => {\n  const {\n    roots=[], holes=[], asymptotes=[], numerLC=1, denomLC=1, \n    domain, step=0.1, range=[-1000,1000], \n    renderAsymptotes=true, renderRoots=true, renderHoles=true,\n    role\n  } = props\n\n  const f = (x) => {\n    let num = numerLC\n    let den = denomLC\n    for (const r of roots) {\n      num *= (x - r)\n    }\n    for (const r of asymptotes) {\n      den *= (x - r)\n    }\n    return num / den\n  }\n\n  const domainPts = {\n    [+domain[0]] : true,\n    [+domain[1]] : true,\n  }\n\n  for (const r of asymptotes.filter(r => r >= domain[0] && r <= domain[1])) {\n    domainPts[+r] = false\n  }\n\n  const domains = []\n  const dp = Object.keys(domainPts).sort((a,b) => a-b)\n  for (let i = 1; i<dp.length; i++) {\n    const [v1, v2] = [dp[i-1], dp[i]]\n    domains.push([\n      {val: v1, def: domainPts[v1]},\n      {val: v2, def: domainPts[v2]}, \n    ])\n  }\n  \n  const paths = []\n  for (const d of domains) {\n    \n    const dom = [\n      d[0].def ? +d[0].val : +d[0].val + step,\n      d[1].def ? +d[1].val : +d[1].val - step,\n    ]\n    let path = calcPath(f, dom, step)\n    if (!d[0].def) {\n      let p = path[0]\n      while (p.y > range[0] && p.y < range[1]) {\n        const x = (3*d[0].val + p.x) / 4\n        p = {x, y: f(x)}\n        path = [p, ...path]\n      }\n    }\n    if (!d[1].def) {\n      let p = path[path.length-1]\n      while (p.y > range[0] && p.y < range[1]) {\n        const x = (3*d[1].val + p.x) / 4\n        p = {x, y: f(x)}\n        path.push(p)\n      }\n    }\n    paths.push(path)\n  }\n\n  const vas = asymptotes.map(x => [{x: x, y: range[0]}, {x: x, y: range[1]}])\n  let ha\n  if (asymptotes.length > roots.length) {\n    ha = [{x: domain[0], y: 0}, {x: domain[1], y: 0}]\n  } else if (asymptotes.length === roots.length) {\n    ha = [{x: domain[0], y: numerLC/denomLC}, {x: domain[1], y: numerLC/denomLC}]\n  }\n\n  const classNames = ['vg-rational-function']\n\n  return (\n    <g className={classNames.join(' ')}>\n      {renderAsymptotes && ha ? <Asymptote key='hasym' points={ha} /> : null}\n      {renderAsymptotes ? vas.map(p => <Asymptote key={`asym${p[0].x}`} points={p} />) : null}\n      {paths.map(p => <Path key={`path${p[0].x}`} points={p} role={role} />)}\n      {renderRoots ? roots.map(x => <Point key={`root${x}`} x={x} y={f(x)} />): null}\n      {renderHoles ? holes.map(x => <Hole key={`hole${x}`} x={x} y={f(x)} />) : null}\n    </g>\n  )\n}\n","import React from 'react'\n\nconst translate = params => {\n  const {x=0, y=0} = params\n  return `translate(${x},${y})`\n}\n\nconst scale = params => {\n  const {x=1, y=1} = params\n  return `scale(${x},${y})`\n}\n\nconst matrix = params => {\n  const [a=1, b=0, c=0, d=1, e=0, f=0] = params\n  return `matrix(${a},${b},${c},${d},${e},${f})`\n}\n\nconst transform = props => {\n  const {type, params} = props\n  switch(type) {\n    case 'matrix': return matrix(params)\n    case 'scale': return scale(params)\n    case 'translate': return translate(params)\n    case 'invertXY': return matrix([0,1,1,0])\n    default: return 'none'\n  }\n}\n\nexport const Transforms = props => {\n  const {list} = props\n  const transformlist = []\n  if (list) {\n    for (const t of list) {\n      const str = typeof t === 'string' ? transform({type: t}) : transform(t)\n      if (str !== 'none') {\n        transformlist.push(str)\n      }\n    }\n  }\n  return (\n    <g transform={transformlist.length === 0 ? undefined : transformlist.join(' ')}>\n      {props.children}\n    </g>\n  ) \n}","import React from 'react'\n\n\n\nlet clipCounter = 1\n\nexport const ClipRect = props => {\n  const {span} = props\n  const [x0, y0, x1, y1] = span\n  const w = x1 - x0, h = y1 - y0\n  const clipID = ++clipCounter\n  return (\n    <>\n      <defs>\n        <clipPath id={`clip-path-${clipID}`}>\n          <rect x={x0} y={y0} width={w} height={h}/>\n        </clipPath>\n      </defs>\n      <g clipPath={`url(#clip-path-${clipID})`}>\n        {props.children}\n      </g>\n    </>\n  )\n}","import React from 'react'\nimport { RenderElement } from '../RenderElement'\n\nexport const AnswerChoices = ({data, options}) => {\n  const classNames = ['answerchoice-list']\n  if (options.answerchoices && options.answerchoices.listDirection === 'horizontal') {\n    classNames.push('answerchoice-list-horizontal')\n  }\n  return (\n    <ol className={classNames.join(' ')} type='a'>\n      {data.map((d,i) => (\n        <li key={`choice-${i}`}\n          className='answerchoice-item'>\n          <RenderElement content={d} inherited={options} />\n        </li>\n      ))}\n    </ol>\n  )\n}\n\n\n\nconst AnswerBlank = ({data, options}) => {\n  const style = {margin: '0'}\n  \n  if (data.width !== undefined) {\n    style.minWidth = data.width\n  }\n  if (data.height !== undefined) {\n    style.minHeight = data.height\n  }\n\n  return (\n    <tr>\n      <td><RenderElement content={data.label === undefined ? 'answer:' : data.label} /></td>\n      <td><div className='blank-underline answerblank' style={style}/></td>\n    </tr>\n  )\n}\n\nexport const AnswerBlanks = ({data, options}) => {\n  return (\n    <table className='answerblanks'>\n      <tbody>\n        {data.map((d,i) => {\n          const dat = typeof d === 'string' ? {label: d} : d\n          return (\n            <AnswerBlank \n              key={`answerblank=${dat.label}-${i}`} \n              data={dat}\n              options={options}\n            />\n        )})}\n      </tbody>\n    </table>\n  )\n}","/**\n * ATM this is not technically a secondary type\n * It's here because I may allow headings to use Markdown,\n * although that will interfere with the auto-blanks\n */\n\nimport React from 'react'\n\nconst parseHeader = (text) => {\n  let result = []\n  let current = ''\n  let isBlank = false\n  let i = 0\n  let blankSize = 0\n  while (i < text.length) {\n    const nextChar = text[i]\n    if (isBlank) {\n      if (nextChar === '_') {\n        blankSize += 1\n      } else {\n        result.push({type: 'blank', size: blankSize})\n        current = nextChar\n        isBlank = false\n        blankSize = 0\n      }\n    } else {\n      if (nextChar === '_') {\n        if (current !== '') {\n          result.push({type: 'text', text: current})\n          current = ''\n        }\n        isBlank = true\n        blankSize = 1\n      } else {\n        current += nextChar\n      }\n    }\n    i += 1\n  }\n  if (isBlank) {\n    if (blankSize > 0) {\n      result.push({type: 'blank', size: blankSize})\n    }\n  } else {\n    if (current !== '') {\n      result.push({type: 'text', text: current})\n    }\n  }\n  return result\n}\n\nconst renderHeaderElement = (text) => {\n  const parts = parseHeader(text)\n  return (\n    <>\n      {parts.map((p, i) => {\n        if (p.type === 'text') {\n          return (\n            <div key={i} style={{display: 'inline-block'}}>{p.text}</div>\n          )\n        } else {\n          const w = `${1 + 3*(p.size - 1)}cm`\n          return (\n            <div key={i} className='blank-underline blank-underline-header' style={{width: w}} />\n          )\n        }\n      })}\n    </>\n  )\n}\n\nexport const Header = ({data, options}) => {\n  /**\n   * @param data: array where each entry is {left, right}\n   */\n\n  if (data.length === 0) {\n    return <div className='header header-empty' />\n  } else {\n    return (\n      <table className='header'>\n        <tbody>\n          {data.map((row, i) => {\n            const {left, right} = row\n            return (\n              <tr key={i}>\n                <td>\n                  {renderHeaderElement(left || '')}\n                </td>\n                <td>\n                  {renderHeaderElement(right || '')}\n                </td>\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n    )\n  }\n}","import React from 'react'\nimport { RenderElement } from '../RenderElement'\n\nconst isArray = Array.isArray\n\nconst renderJsonMLChild = function(child, options) {\n  if (isArray(child)) {\n    try {\n      return <JsonML data={child} options={options} />\n    } catch(e) {\n      return <code className=\"error error-render\">{JSON.stringify(child)}</code>\n    }\n  } else {\n    return <RenderElement content={child} inherited={options} />\n  }\n}\n\nconst parseJsonML = function(data) {\n  if (typeof data[0] === 'string') {\n    const tagname = data[0]\n    let props = {}\n    let children = []\n    let i = 1\n    if (data[1]) {\n      if (data[1].constructor === Object) {\n        for (const k in data[1]) {\n          if (k === 'children') {\n            children = data[1][k]\n          } else {\n            props[k] = data[1][k]\n          }\n        }\n        i = 2\n      }\n    }\n    children = children.concat(data.slice(i))\n    return {tagname: tagname, props: props, children: children}\n  }\n  return null\n}\n\nexport const JsonML = ({data, options}) => {\n  const parsed = parseJsonML(data)\n  if (parsed) {\n    return React.createElement(\n      parsed.tagname, \n      parsed.props, \n      ...parsed.children.map(c => renderJsonMLChild(c, options))\n    )\n  } else {\n    return null\n  }\n}","import React from 'react'\nimport { defaultsDeep } from 'lodash'\nimport { renderElement } from '../RenderElement'\n\n\n\nconst QuestionLayout = ({\n  content, options={},\n  layout=[[['instructions', 'question', 'answer'], 'diagram']], \n  direction='column',\n}={}) => {\n\n  const className = `question-layout question-layout-${direction}`\n  const newDirection = {row: 'column', column: 'row'}[direction]\n\n  return (\n    <div className={className}>\n      {layout.map((area, i) => {\n        if (Array.isArray(area)) {\n          return (\n            <QuestionLayout key={`region-${i}`} \n              content={content} options={options}\n              layout={area} direction={newDirection} \n            />\n          )\n        } else {\n          if (content[area]) {\n            const classNames = ['question-area', `question-area-${area}`]\n            return (\n              <div key={area} className={classNames.join(' ')}>\n                {renderElement(content[area], options)}\n              </div>\n            )\n          }\n        }\n        return null\n      })}\n    </div>\n  )\n}\n\n\nfunction isMultipleChoice(data, options={}) {\n  if (options.isMultipleChoice !== undefined) {\n    return options.isMultipleChoice\n  }\n  if (data.answer && typeof data.answer !== 'string') {\n    if (data.answer.choices) {\n      return true\n    }\n  }\n  return false\n}\n\n\nexport const Question = ({data, options={}}) => {\n  const opts = defaultsDeep({}, data._options || {}, options)\n  let {instructions, question, diagram} = data\n  const content = {instructions, question, diagram}\n  const {layout} = opts\n\n  // Determine what to render in answer space\n  if (isMultipleChoice(data, opts)) {\n    Object.assign(content, data.multipleChoice)\n    content.answer = {\n      type: 'answerchoices',\n      data: data.answer.choices,\n    }\n  } else {\n    Object.assign(content, data.freeResponse)\n    if (data.answer && data.answer.prompt !== undefined) {\n      if (data.answer.prompt !== null) {\n        if (typeof data.answer.prompt === 'string') {\n          content.answer = {\n            type: 'answerblanks',\n            data: [data.answer.prompt],\n          }\n        } else if (Array.isArray(data.answer.prompt)) {\n          content.answer = {\n            type: 'answerblanks',\n            data: data.answer.prompt,\n          }\n        } else {\n          content.answer = data.answer.prompt\n        }\n      }\n    } else {\n      content.answer = {\n        type: 'emptyspace',\n        data: {height: '1cm', width: '2cm'}\n      }\n    }\n  }\n  return <QuestionLayout content={content} options={opts} layout={layout}/>\n}\n\n\nexport const NumberedQuestion = ({data, options}) => {\n  return (\n    <div className='question-wrapper'>\n      <Question data={data} options={options} />\n    </div>\n  )\n}\n\nexport const AnswerKey = ({data, options={}}) => {\n  const letters = 'abcdefg'\n  if (isMultipleChoice(data, options)) {\n    if (data.answer.choices && data.answer.correctIndex !== undefined) {\n      if (Array.isArray(data.answer.correctIndex)) {\n        return data.answer.correctIndex.map(i => letters[i]).join(', ')\n      } else {\n        return letters[data.answer.correctIndex]\n      }\n    }\n  }\n  if (data.answer !== undefined && data.answer !== null) {\n    if (data.answer.correct) {\n      return renderElement(data.answer.correct, options)\n    }\n    if (data.answer.type || typeof data.answer === 'string' || typeof data.answer === 'number') {\n      return renderElement(data.answer, options)\n    }\n  }\n  return null\n}","import {\n  EmptySpace,\n  Html,\n  Markdown,\n  Text,\n  VectorGraphic,\n  Vega,\n  VegaLite\n} from './primaryTypes'\n\nimport {\n  AnswerBlanks,\n  AnswerChoices,\n  AnswerKey,\n  Container,\n  Header,\n  JsonML,\n  List, Table, Row, Column,\n  NumberedQuestion,\n  Question,\n} from './secondaryTypes'\n\nexport const renderTypes = {\n  answerkey: AnswerKey,\n  answerblanks: AnswerBlanks,\n  answerchoices: AnswerChoices,\n  //'answer-choices': AnswerChoices,\n  column: Column,\n  container: Container,\n  emptyspace: EmptySpace,\n  header: Header,\n  html: Html,\n  jsonml: JsonML,\n  list: List,\n  markdown: Markdown,\n  'question-nonumber': Question,\n  question: NumberedQuestion,\n  row: Row,\n  table: Table,\n  text: Text,\n  vectorgraphic: VectorGraphic,\n  vega: Vega,\n  'vega-lite': VegaLite,\n}\n\n\n// If type is undefined:\nexport const detectType = function(elem) {\n  if (Array.isArray(elem)) return 'list'\n  if (typeof elem === 'string') return 'text'\n  if (typeof elem === 'number') return 'text'\n}\n\nexport default renderTypes\n","import React from 'react'\nimport { renderElement } from '..'\n\nexport const Table = ({data, options}) => {\n  const {headings=[], rows=[], border} = data\n  const tablestyle = {margin: '2mm'}\n  const trstyle = {}\n  const tdstyle = {}\n  if (border !== undefined) {\n    tdstyle.border = border\n  }\n  return (\n    <table style={tablestyle}>\n      {headings.length > 0 ? (\n        <thead>\n          <tr style={trstyle}>\n            {headings.map((h,i) => <th key={i}>{renderElement(h, options)}</th>)}\n          </tr>\n        </thead>\n      ) : null}\n      <tbody>\n        {rows.map((r,i) => (\n          <tr key={i} style={trstyle}>\n            {r.map((d,i) => <td key={i} style={tdstyle}>{renderElement(d, options)}</td>)}\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  )\n}\n\nexport const Row = ({data, options}) => {\n  const {items, align='center'} = data\n  const style = {\n    display: 'flex',\n    flexFlow: 'row nowrap',\n    alignItems: align,\n  }\n  return (\n    <div style={style}>\n      {items.map((el, i) => renderElement(el, options))}\n    </div>\n  )\n}\n\nexport const Column = ({data, options}) => {\n  const {items, align='center'} = data\n  const style = {\n    display: 'flex',\n    flexFlow: 'column nowrap',\n    alignItems: align,\n  }\n  return (\n    <div style={style}>\n      {items.map((el, i) => renderElement(el, options))}\n    </div>\n  )\n}","import React from 'react'\nimport { renderElement } from '..'\n\nexport const Container = ({data, options}) => {\n  const {direction='column', items} = data\n  return (\n    <div style={{display: 'flex', flexDirection: direction}}>\n      {items.map((el, i) => (\n        <div key={i}>\n          {renderElement(el, options)}\n        </div>\n      ))}\n    </div>\n  )\n}","import React from 'react'\n\nexport const EmptySpace = ({data, options}) => {\n  const {width, height} = data\n  return (\n    <div style={{width, height, margin: '0'}} />\n  )\n}","import React from 'react'\n\nexport const Html = ({data}) => {\n  return (\n    <span dangerouslySetInnerHtml={{__html: data}}/>\n  )\n}","import React from 'react'\nimport { renderElement } from '..'\n\nexport const List = ({data, options}) => {\n  const {type='lower-roman', spaceAfterItem='0', items} = data\n  return (\n    <ol style={{listStyleType: type}}>\n      {items.map((elem, i) => <li key={i} style={{marginBottom: spaceAfterItem}}>{renderElement(elem, options)}</li>)}\n    </ol>\n  )\n}","import React from 'react'\nimport * as VG from './VG'\n\nconst SvgJsonML = (data, options) => {\n  try {\n    if (typeof data === 'string') {\n      return data\n    }\n    let [type, props, ...children] = data\n    if (props) {\n      if (Array.isArray(props) || typeof props === 'string') {\n        children.splice(0,0,props)\n        props = {}\n      }\n    }\n    const renderType = VG[type]\n    return React.createElement(renderType, props, ...children.map(c => SvgJsonML(c, options)))\n  } catch(e) {\n    console.error(e)\n    return null\n  }\n}\n\nexport const VectorGraphic = ({data, options}) => SvgJsonML(data, options)\n","import React from 'react'\nimport ReactVega from 'react-vega'\nimport ReactVegaLite from 'react-vega-lite'\n\nexport const Vega = ({data, options}) => {\n  return (\n    <ReactVega spec={data} />\n  )\n}\n\nexport const VegaLite = ({data, options}) => {\n  return (\n    <ReactVegaLite spec={data} />\n  )\n}","import React from 'react'\nimport { defaultsDeep } from 'lodash'\nimport { renderTypes, detectType } from './renderTypes'\n\n\nfunction renderAs(type, data, options) {\n  const RenderType = renderTypes[type]\n  if (RenderType) {\n    return (\n      <RenderType \n        data={data} \n        options={options} \n      />\n    )\n  } else {\n    console.error(`No render method for type ${type}`)\n    return <code className='error-failed-render'>{JSON.stringify(data)}</code>\n  }\n}\n\nconst isArray = Array.isArray\n\nexport const RenderElement = ({content, inherited}) => renderElement(content, inherited)\n\nexport const renderElement = function(content, inherited) {\n  try {\n    if (typeof content === 'string' || typeof content === 'number') {\n      return renderAs('text', content, inherited)\n    }\n    if (isArray(content)) {\n      return renderAs('list', {items: content}, inherited)\n    }\n    let {type, data, options} = content\n    if (!type) {\n      type = detectType(data)\n    }\n    if (data) {\n      return renderAs(type, data, inherited ? defaultsDeep({}, options, inherited) : options)\n    }\n    return <code className='error-failed-render'>{JSON.stringify(content)}</code>\n  } catch(e) {\n    console.error(e)\n    return <code className='error-failed-render'>{JSON.stringify(content)}</code>\n  }\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { renderElement } from '..'\n\n\n\n\nclass DefaultEditor extends React.Component {\n  static propTypes = {\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n    element: PropTypes.object.isRequired,\n    onUpdateElement: PropTypes.func.isRequired,\n    onDeleteElement: PropTypes.func.isRequired,\n    onRequestClose: PropTypes.func,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      type: props.element.type,\n      data: props.element.data || {},\n      options: props.element.options || {},\n    }\n  }\n\n  updateAndClose = () => {\n    this.props.onUpdateElement(this.props.id, this.state)\n    this.props.onRequestClose()\n  }\n\n  deleteAndClose = () => {\n    this.props.onDeleteElement(this.props.id)\n    this.props.onRequestClose()\n  }\n\n  setData(data) {\n    this.setState({data: data})\n  }\n\n  revertChanges = () => {\n    this.setState({\n      type: this.props.element.type,\n      data: this.props.element.data || {},\n      options: this.props.element.options || {},\n    })\n  }\n\n  renderEditor() {\n    return <div>Editing is not yet implemented for this type of element.</div>\n  }\n\n  renderPreview() {\n    return (\n      <div className='document preview-area' style={{margin: '3mm 1mm'}}>\n        {renderElement(this.state)}\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <>\n        <div style={{\n          width: '100%',\n          display: 'grid', \n          gridTemplateColumns: 'auto auto auto 1fr auto',\n          margin: '0 0 5mm 0',\n        }}>\n          <button onClick={this.updateAndClose}>Apply Changes</button>\n          <button onClick={this.revertChanges}>Revert Changes</button>\n          <button onClick={this.props.onRequestClose}>Cancel</button>\n          <span />\n          <button onClick={this.deleteAndClose} style={{justifySelf: 'right'}}>Delete</button>\n        </div>\n        {this.renderEditor()}\n        {this.renderPreview()}\n      </>\n    )\n  }\n}\n\n\nexport default DefaultEditor","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\n\n\nexport default class Header extends DefaultEditor {\n\n  headingUpdate(row, lr, text) {\n    let newrow = {...this.state.data[row]}\n    newrow[lr] = text\n    let newdata = [...this.state.data]\n    newdata[row] = newrow\n    this.setData(newdata)\n  }\n\n  headingAddRow = () => {\n    const newdata = [...this.state.data, {left: '', right: ''}]\n    this.setData(newdata)\n  }\n\n  headingRemoveRow = () => {\n    const newdata = this.state.data.slice(0,-1)\n    this.setData(newdata)\n  }\n\n  renderEditor() {\n    const data = this.state.data\n    const inputStyle = {\n      width: '100%',\n      borderStyle: 'dashed',\n      //fontSize: '0.8em',\n      //fontFamily: 'var(--doc-font-family, monospace)',\n      margin: '1mm',\n      padding: '1mm',\n    }\n    return (\n      <div>\n      <p>\n        Underscores will be translated into a blank underlined space.\n      </p>\n      <table className='header'>\n        <tbody>\n          {data.map((row, i) => {\n            const {left, right} = row\n            return (\n              <tr key={i} >\n                <td style={{border: 'none', padding: '0 1em 0 0'}}>\n                  <input \n                    onChange={(evt) => this.headingUpdate(i, 'left', evt.target.value)}\n                    value={left || ''} \n                    style={inputStyle}\n                  />\n                </td>\n                <td style={{border: 'none', padding: '0 1em 0 0'}}>\n                  <input \n                    onChange={(evt) => this.headingUpdate(i, 'right', evt.target.value)}\n                    value={right || ''} \n                    style={inputStyle}\n                  />\n                </td>\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n      <button onClick={this.headingRemoveRow}>-</button>\n      <button onClick={this.headingAddRow}>+</button>\n      </div>\n    )\n  }\n\n}","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\nimport { renderElement } from '..'\nimport styles from './styles.module.css'\n\nfunction checkMC(data, options) {\n  if (options.isMultipleChoice === undefined) {\n    if (data.answer && data.answer.choices) {\n      return true\n    } else {\n      return false\n    }\n  } else {\n    return options.isMultipleChoice\n  }\n}\n\n\nexport default class Question extends DefaultEditor {\n  constructor(props) {\n    super(props)\n    this.state.options.isMultipleChoice = checkMC(this.state.data, this.state.options)\n  }\n\n  revertChanges = () => {\n    const newState = ({\n      type: this.props.element.type,\n      data: this.props.element.data || {},\n      options: this.props.element.options || {},\n    })\n    newState.options.isMultipleChoice = checkMC(newState.data, newState.options)\n    this.setState(newState)\n  }\n\n  toggleMC = evt => {\n    this.isMC = evt.target.checked\n    this.setState({options: {...this.state.options, isMultipleChoice: evt.target.checked}})\n  }\n\n  updateVersionDefault(k, v) {\n    this.setState({data: {...this.state.data, [k]: v}})\n  } \n  updateVersionMC(k, v) {\n    const multipleChoice = {...this.state.data.multipleChoice}\n    if (v === '') {\n      delete multipleChoice[k]\n    } else {\n      multipleChoice[k] = v\n    }\n    this.setState({data: {...this.state.data, multipleChoice}})\n  }\n  updateVersionFR(k, v) {\n    const freeResponse = {...this.state.data.freeResponse}\n    if (v === '') {\n      delete freeResponse[k]\n    } else {\n      freeResponse[k] = v\n    }\n    this.setState({data: {...this.state.data, freeResponse}})\n  }\n\n  updateInstructions = evt => this.updateVersionDefault('instructions', evt.target.value)\n  updateInstructionsMC = evt => this.updateVersionMC('instructions', evt.target.value)\n  updateInstructionsFR = evt => this.updateVersionFR('instructions', evt.target.value)\n\n  updateQuestion = evt => this.updateVersionDefault('question', evt.target.value)\n  updateQuestionMC = evt => this.updateVersionMC('question', evt.target.value)\n  updateQuestionFR = evt => this.updateVersionFR('question', evt.target.value)\n\n  renderInstructionsOrQuestionInputs(fieldname) {\n    const isMC = this.state.options.isMultipleChoice\n    const overrides = isMC ? this.state.data.multipleChoice || {} : this.state.data.freeResponse || {}\n    const updaters = {\n      instructions: {\n        default: this.updateInstructions,\n        mc: this.updateInstructionsMC,\n        fr: this.updateInstructionsFR,\n      },\n      question: {\n        default: this.updateQuestion,\n        mc: this.updateQuestionMC,\n        fr: this.updateQuestionFR,\n      }\n    }[fieldname]\n    return (\n      <>\n      <td>\n        <textarea value={this.state.data[fieldname]} \n          onChange={updaters.default}\n          cols=\"40\"\n          rows=\"4\"\n        />\n      </td>\n      <td>\n        {isMC ? (\n          <textarea value={overrides[fieldname] || ''} \n            onChange={updaters.mc}\n            cols=\"40\"\n            rows=\"4\"\n          />\n        ) : (\n          <textarea value={overrides[fieldname] || ''} \n            onChange={updaters.fr}\n            cols=\"40\"\n            rows=\"4\"\n          />\n        )}\n      </td>\n      </>\n    )\n  }\n\n\n  renderDiagram() {\n    return null\n  }\n\n  renderMCToggle() {\n    if (this.state.data.answer && this.state.data.answer.choices) {\n      return (\n        <>\n          Multiple Choice:\n          <input type=\"checkbox\" \n            checked={this.state.options.isMultipleChoice}\n            onChange={this.toggleMC}\n          />\n        </>\n      )\n    }\n    return null\n  }\n\n  renderEditor() {\n    const isMC = this.state.options.isMultipleChoice\n    const data = this.state.data\n\n    return (\n      <div>\n        {this.renderMCToggle()}\n        <table>\n          <tbody>\n            <tr>\n              <td></td>\n              <td style={{textAlign: 'center'}}>Default</td>\n              <td style={{textAlign: 'center'}}>{isMC ? 'Multiple Choice' : 'Free Response'} Version</td>\n            </tr>\n            <tr>\n              <td>Instructions</td>\n              {this.renderInstructionsOrQuestionInputs('instructions')}\n            </tr>\n            <tr>\n              <td>Question</td>\n              {this.renderInstructionsOrQuestionInputs('question')}\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n\n  renderPreview() {\n\n    return (\n      <>\n      {super.renderPreview()}\n      <div className='document preview-area' style={{margin: '3mm 1mm'}}>\n        {renderElement({...this.state, type: 'answerkey'})}\n      </div>\n      </>\n    )\n  }\n\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { updateElement, deleteElement } from '../../actions/document'\n\nimport DefaultEditor from './DefaultEditor'\nimport Header from './Header'\nimport Question from './Question'\n\n\n\nconst EditElement = (props) => {\n  if (props.element.type === 'header') return <Header {...props} />\n  if (props.element.type === 'question') return <Question {...props} />\n  return <DefaultEditor {...props} />\n}\n\n\nconst mapDispatchToProps = dispatch => ({\n  onUpdateElement: (id, elem) => dispatch(updateElement(id, elem)),\n  onDeleteElement: (id) => dispatch(deleteElement(id)),\n})\n\nexport default connect(null, mapDispatchToProps)(EditElement)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport ReactModal from 'react-modal'\nimport { RenderElement } from '../../renderMethods'\n//import { updateElement, deleteElement } from '../../actions/document'\nimport EditElement from '../../renderMethods/editing'\n\n\nclass TopLevelElement extends React.Component {\n  static propTypes = {\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n    element: PropTypes.object.isRequired,\n    canEdit: PropTypes.bool.isRequired,\n  }\n\n  static defaultProps = {\n    canEdit: false,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      modal: 'none',\n    }\n  }\n\n  openEditor = () => this.setState({modal: 'edit'})\n  closeModal = () => this.setState({modal: 'none'})\n\n  render() {\n    const divprops = (\n      this.props.canEdit \n      ? {className: 'editable', onDoubleClick: this.openEditor, title: 'Double-click to edit'} \n      : {}\n    )\n    return (\n      <>\n      <div {...divprops}>\n        <RenderElement content={this.props.element} />\n      </div>\n      <ReactModal isOpen={this.state.modal === 'edit'}\n        onRequestClose={this.closeModal}\n        style={{\n          //content: {\n          //  top: '20%'\n          //}\n        }}\n      >\n        <EditElement\n          id={this.props.id}\n          element={this.props.element}\n          onRequestClose={this.closeModal}\n        />\n      </ReactModal>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  canEdit: state.config.allowEditing,\n})\n//const mapDispatchToProps = dispatch => ({\n//})\n\nexport default connect(mapStateToProps)(TopLevelElement)","// Sizes from papercss, measurements in mm\n\nexport const portrait = {\n  A3: { width: 297, height: 419 },\n  A4: { width: 210, height: 296 },\n  A5: { width: 148, height: 209 },\n  letter: { width: 216, height: 279 },\n  legal: { width: 216, height: 356 },\n}\n\nexport const landscape = {\n  A3: { width: 420, height: 296 },\n  A4: { width: 297, height: 209 },\n  A5: { width: 210, height: 147 },\n  letter: { width: 280, height: 215 },\n  legal: { width: 357, height: 215 },\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { addPageBreakBefore } from '../../actions/document'\nimport TopLevelElement from './TopLevelElement'\nimport { portrait, landscape } from './pagesize'\n\n\n\nclass MeasuredPage extends React.Component {\n  static propTypes = {\n    headerID: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    footerID: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    contentIDs: PropTypes.array.isRequired,\n    content: PropTypes.object.isRequired,\n    pageSize: PropTypes.string.isRequired,\n    pageOrientation: PropTypes.string.isRequired,\n    pageMargin: PropTypes.string.isRequired,\n    addPageBreakBefore: PropTypes.func.isRequired,\n    pageNumber: PropTypes.number,\n  }\n\n  static defaultProps = {\n    contentIDs: [],\n    pageSize: 'letter',\n    pageOrientation: 'portrait',\n    pageMargin: '10mm 10mm 10mm 10mm',\n  }\n\n  constructor(props) {\n    super(props)\n    this.inner = React.createRef()\n    this.outer = React.createRef()\n    this.state = {overflows: false}\n  }\n\n  innerH = () => this.inner.current.clientHeight\n  outerH = () => this.outer.current.clientHeight\n  overflows = () => this.innerH() > this.outerH()\n\n  componentDidUpdate() {\n    const oldstate = this.state.overflows\n    const newstate = this.overflows()\n    if (oldstate !== newstate) {\n      if (newstate) {\n        this.onOverflow()\n      }\n      this.setState({overflows: newstate})\n      this.forceUpdate()\n    }\n  }\n\n  onOverflow() {\n    this.props.addPageBreakBefore(this.props.contentIDs[this.props.contentIDs.length-1])\n  }\n\n  getPageSize()  {\n    if (this.props.pageOrientation === 'landscape') {\n      return landscape[this.props.pageSize]\n    } else {\n      return portrait[this.props.pageSize]\n    }\n  }\n\n  getOuterStyle() {\n    const {width, height} = this.getPageSize()\n    return {width: `${width}mm`, height: `${height}mm`}\n  }\n\n  getInnerStyle() {\n    return {\n      height: 'fit-content',\n      margin: '0',\n      padding: this.props.pageMargin,\n    }\n  }\n\n  getHeaderID() {\n    if (this.props.pageNumber in this.props.headers) {\n      return this.props.pageNumber\n    }\n    return 'default'\n  }\n\n  render() {\n    let outerclassname = (\n      this.state.overflows \n      ? 'page-outer page-overflowing' \n      : 'page-outer'\n    )\n\n    const outerstyle = this.getOuterStyle()\n    const innerstyle = this.getInnerStyle()\n    const headerID = this.getHeaderID()\n    return (\n      <div className={outerclassname} ref={this.outer} style={outerstyle}>\n        <div className='page-inner' ref={this.inner} style={innerstyle}>\n          <TopLevelElement key={`header-${headerID}`}\n            id={`header.${headerID}`}\n            element={this.props.headers[headerID]}\n          />\n          {this.props.contentIDs.map((id) => (\n            <TopLevelElement key={`contentElement-${id}`}\n              element={this.props.content[id]}\n              id={id}\n            />\n          ))}\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  headers: state.document.headers,\n  footers: state.document.footers,\n  content: state.document.content,\n  pageSize: state.style.pageSize,\n  pageOrientation: state.style.pageOrientation,\n  pageMargin: state.style.pageMargin,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  addPageBreakBefore: (id) => dispatch(addPageBreakBefore(id)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MeasuredPage)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { portrait, landscape } from './pagesize'\n\n\nclass Page extends React.Component {\n\n  getPageSize()  {\n    if (this.props.orientation === 'landscape') {\n      return landscape[this.props.size]\n    } else {\n      return portrait[this.props.size]\n    }\n  }\n\n  getOuterStyle() {\n    const {width, height} = this.getPageSize()\n    return {\n      width: `${width}mm`, \n      height: `${height}mm`,\n      padding: '0',\n    }\n  }\n\n  getInnerStyle() {\n    return {\n      margin: '0',\n      width: '100%',\n      height: '100%',\n      padding: this.props.margin,\n    }\n  }\n\n  render() {\n    return (\n      <div className='page-outer' style={this.getOuterStyle()}>\n        <div className='page-inner' style={this.getInnerStyle()}>\n          {this.props.children}\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  size: state.style.pageSize,\n  orientation: state.style.pageOrientation,\n  margin: state.style.pageMargin,\n})\n\nexport default connect(mapStateToProps)(Page)","import React from 'react'\nimport { connect } from 'react-redux'\nimport Page from './Page'\nimport { RenderElement } from '../../renderMethods'\n\n\nconst AnswerKey = (props) => {\n  return (\n    <Page>\n      <h3>Answer Key</h3>\n      <div className='answerkey'>\n        {props.contentIDs.map(id => {\n          const element = props.content[id]\n          if (element.type === 'question') {\n            return (\n              <div key={`answer-${id}`} className='answerkey-item'>\n                <RenderElement content={{...element, type: 'answerkey'}} />\n              </div>\n            )\n          } else {\n            return null\n          }\n        })}\n      </div>\n    </Page>\n  )\n}\n\nconst mapStateToProps = state => ({\n  contentIDs: state.document.order,\n  content: state.document.content\n})\n\nexport default connect(mapStateToProps)(AnswerKey)","import React from 'react'\n//import Page from './Page'\nimport MeasuredPage from './MeasuredPage'\nimport AnswerKey from './AnswerKey'\nimport { connect } from 'react-redux'\nimport { InitialDefs } from '../../renderMethods/primaryTypes/VG'\n\n\nimport Scratch from './scratchpage'\n\n\nconst Document = (props) => {\n  const len = props.contentIDs.length - props.hidden\n  const visibleIDs = props.contentIDs.slice(0,len)\n  let prev = 0\n  let slices = []\n  for (const i of props.pagebreaks) {\n    if (i < len) {\n      slices.push([prev, i])\n      prev = i\n    }\n  }\n  slices.push([prev])\n  const pages = slices.map(s => visibleIDs.slice(...s))\n\n  return (\n    <div className={props.debugView ? 'document debug-view' : 'document'}>\n      <svg height='0' width='0'>\n        <defs>\n          <InitialDefs />\n        </defs>\n      </svg>\n      {(\n        pages.length > 0 \n        ? pages.map((ids,i) => (\n          <MeasuredPage key={`page-${i+1}`} \n            pageNumber={i+1}\n            contentIDs={ids}\n          />\n        )) : null\n      )}\n      {props.showAnswerKey ? <AnswerKey /> : null}\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  contentIDs: state.document.order,\n  pagebreaks: state.document.pagebreaks,\n  showAnswerKey: state.config.showAnswerKey,\n  style: state.style,\n  hidden: state.config.numberHidden,\n  debugView: state.config.debugView,\n})\n\nexport default connect(mapStateToProps)(Document)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { addLocalFont } from '../../../actions/config'\n\nclass AddLocalFont extends React.Component {\n  static propTypes = {\n    addLocalFont: PropTypes.func.isRequired,\n    buttonLabel: PropTypes.string.isRequired,\n  }\n\n  static defaultProps = {\n    buttonLabel: 'Add'\n  }\n\n  constructor(props) {\n    super(props)\n    this.input = React.createRef()\n  }\n\n  addFont = () => {\n    const fontName = this.input.current.value\n    this.props.addLocalFont({family: fontName})\n  }\n\n  render() {\n    return (\n      <>\n      <input ref={this.input} spellCheck={false} />\n      <button onClick={this.addFont}>{this.props.buttonLabel}</button>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addLocalFont: (font) => dispatch(addLocalFont(font)),\n})\n\nexport default connect(null, mapDispatchToProps)(AddLocalFont)","export const ADD_LOCAL_FONT = 'ADD_LOCAL_FONT'\nexport const SET_ALLOW_EDITING = 'SET_ALLOW_EDITING'\nexport const SET_FONTFAMILY_UI = 'SET_FONTFAMILY_UI'\nexport const SET_SHOW_ANSWERKEY = 'SET_SHOW_ANSWERKEY'\nexport const SET_HIDDEN_COUNT = 'SET_HIDDEN_COUNT'\n\nexport const addLocalFont = (font) => ({\n  type: 'ADD_LOCAL_FONT',\n  payload: font,\n})\n\nexport const setAllowEditing = (b) => ({\n  type: SET_ALLOW_EDITING,\n  payload: b,\n})\n\nexport const setFontFamilyUI = (inputType) => ({\n  type: SET_FONTFAMILY_UI,\n  payload: inputType,\n})\n\nexport const setShowAnswerKey = (bool) => ({\n  type: SET_SHOW_ANSWERKEY,\n  payload: bool,\n})\n\nexport const setHiddenCount = (n) => ({\n  type: SET_HIDDEN_COUNT,\n  payload: n,\n})\n\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setFontFamilyUI } from '../../../actions/config'\n\nclass FontFamilyUI extends React.Component {\n  static propTypes = {\n    current: PropTypes.string,\n    setFontFamilyUI: PropTypes.func.isRequired\n  }\n\n  setFontFamilyUI = (evt) => {\n    this.props.setFontFamilyUI(evt.target.value)\n  }\n\n  render() {\n    return (\n      <select onChange={this.setFontFamilyUI} value={this.props.current}>\n        <option value='input'>Input</option>\n        <option value='select'>Menu</option>\n      </select>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.config.fontFamilyUI\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setFontFamilyUI: (inputtype) => dispatch(setFontFamilyUI(inputtype)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontFamilyUI)","export const SET_DOCUMENT_FONTFAMILY = 'SET_DOCUMENT_FONTFAMILY'\nexport const SET_DOCUMENT_FONTSIZE = 'SET_DOCUMENT_FONTSIZE'\nexport const SET_MATH_FONTSIZE = 'SET_MATH_FONTSIZE'\nexport const SET_MATH_FONTWEIGHT = 'SET_MATH_FONTWEIGHT'\nexport const SET_PAGE_MARGIN = 'SET_PAGE_MARGIN'\nexport const UPDATE_GRAPHSTYLE = 'UPDATE_GRAPHSTYLE'\nexport const RESET_GRAPHSTYLE = 'RESET_GRAPHSTYLE'\n\n// Document font\nexport const setDocumentFontFamily = (family) => ({\n  type: SET_DOCUMENT_FONTFAMILY,\n  payload: family\n})\nexport const setDocumentFontSize = (size) => ({\n  type: SET_DOCUMENT_FONTSIZE,\n  payload: size\n})\n\n// Document Math Font\nexport const setMathFontSize = (size) => ({\n  type: SET_MATH_FONTSIZE,\n  payload: size\n})\nexport const setMathFontWeight = (weight) => ({\n  type: SET_MATH_FONTWEIGHT,\n  payload: weight\n})\n\n// Page Layout\nexport const setPageMargin = (margins) => ({\n  type: SET_PAGE_MARGIN,\n  payload: margins\n})\n\n// Graph Style\nexport const updateGraphStyle = (props) => ({\n  type: UPDATE_GRAPHSTYLE,\n  payload: props,\n})\n\nexport const resetGraphStyle = () => ({\n  type: RESET_GRAPHSTYLE,\n})","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setDocumentFontFamily } from '../../../actions/style'\n\n\nclass FontFamilyInput extends React.Component {\n  static propTypes = {\n    current: PropTypes.string,\n    setDocumentFontFamily: PropTypes.func,\n  }\n\n  constructor(props) {\n    super(props)\n    this.setCss(props.current)\n  }\n\n  setCss(fontFamily) {\n    document.body.style.setProperty('--doc-font-family', fontFamily)\n  }\n\n  setFontFamily(fontFamily) {\n    this.setCss(fontFamily)\n    this.props.setDocumentFontFamily(fontFamily)\n  }\n\n  onChange = (evt) => {\n    const value = evt.target.value\n    const fontFamily = value.slice(0,7) === '_LOCAL_' ? value.slice(8) : value\n    this.setFontFamily(fontFamily)\n  }\n\n  render() {\n    return (\n      <input \n        value={this.props.current}\n        spellCheck={false}\n        onChange={this.onChange}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.style.fontFamily,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setDocumentFontFamily: (family) => dispatch(setDocumentFontFamily(family)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontFamilyInput)","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { setDocumentFontFamily } from '../../../actions/style'\n\n\nconst GoogleFonts = [\n  {family: 'Computer Modern Serif'},\n  {family: 'Lora'},\n  {family: 'Source Sans Pro'},\n]\n\nconst BrowserFonts = [\n  {label: 'Serif (browser default)', family: 'serif'},\n  {label: 'Sans-serif (browser default)', family: 'sans-serif'},\n]\n\nfunction fontSort(a, b) {\n  const aName = (a.label ? a.label : a.family).toUpperCase()\n  const bName = (b.label ? b.label : b.family).toUpperCase()\n  if (aName < bName) { return -1 }\n  if (aName > bName) { return 1}\n  return 0\n}\n\n\nfunction renderFontOption(font) {\n  const {family, label} = font\n  if (family === \"0\") {\n    const optionLabel = label ? label : \"---\"\n    return (\n      <option key={`font-null-${optionLabel}`}\n        value=\"0\"\n        disabled\n      >{optionLabel}</option>\n    )\n  } else {\n    const optionLabel = label ? label : family\n    return (\n      <option key={`font-family-option-${family}`}\n        value={family}\n        >{optionLabel}</option>\n    )\n  }\n}\n\n\n\n//////////////////////////////\n//\n// COMPONENT\n//\n////////////////////////////\n\n\nclass FontFamilySelect extends React.Component {\n  static propTypes = {\n    current: PropTypes.string,\n    localFonts: PropTypes.array.isRequired,\n    setDocumentFontFamily: PropTypes.func.isRequired,\n  }\n\n  static defaultProps = {\n    localFonts: [],\n  }\n\n  constructor(props) {\n    super(props)\n    this.setCss(props.current)\n  }\n\n  fontList = () => {\n    let result = [\n      ...GoogleFonts.sort(fontSort),\n      ...BrowserFonts, \n    ]\n    if (this.props.localFonts.length > 0) {\n      result.push({family: \"0\"})\n      result = result.concat(this.props.localFonts.sort(fontSort))\n    }\n    return result\n  }\n\n  setCss(fontFamily) {\n    document.body.style.setProperty('--doc-font-family', fontFamily)\n  }\n\n  setFontFamily(fontFamily) {\n    this.setCss(fontFamily)\n    this.props.setDocumentFontFamily(fontFamily)\n  }\n\n  onChange = (evt) => {\n    const value = evt.target.value\n    const fontFamily = value.slice(0,7) === '_LOCAL_' ? value.slice(8) : value\n    if (fontFamily) {\n      this.setFontFamily(fontFamily)\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <select\n          value={this.props.current}\n          onChange={this.onChange}\n        >\n          {this.fontList().map((f) => renderFontOption(f))}\n        </select>\n      </>\n    )\n  }\n}\n\n\nconst mapStateToProps = state => ({\n  current: state.style.fontFamily,\n  localFonts: [...state.config.localFonts],\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setDocumentFontFamily: (family) => dispatch(setDocumentFontFamily(family)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontFamilySelect)","import React from 'react'\nimport { connect } from 'react-redux'\nimport FontFamilyInput from './FontFamilyInput'\nimport FontFamilySelect from './FontFamilySelect'\n\nconst FontFamily = ({fontFamilyUI}) => (\n  fontFamilyUI === 'input' ? <FontFamilyInput/> : <FontFamilySelect/>\n)\n\nconst mapStateToProps = state => ({fontFamilyUI: state.config.fontFamilyUI})\n\nexport default connect(mapStateToProps)(FontFamily)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setDocumentFontSize } from '../../../actions/style'\n\n\nclass FontSizeSelect extends React.Component {\n\n  static propTypes = {\n    current: PropTypes.string.isRequired,\n    setDocumentFontSize: PropTypes.func.isRequired,\n  }\n\n  constructor(props) {\n    super(props)\n    this.setCss(props.current)\n  }\n\n  setCss(fontSize) {\n    document.body.style.setProperty('--doc-font-size', fontSize)\n  }\n\n  setDocFontSize(size) {\n    this.setCss(size)\n    this.props.setDocumentFontSize(size)\n  }\n\n  onChange = (evt) => {\n    this.setDocFontSize(evt.target.value)\n  }  \n\n  renderSizeOptions() {\n    const options = [5, 6, 7, 8, 9, 10, 11, 12, 13]\n    return (\n      <>\n      {options.map((s) => {\n        const size = `${s}pt`\n        return (\n          <option \n            value={size}\n            key={`fontOption-${size}`}\n          >{size}</option>\n        )\n      })}\n      </>\n    )\n  }\n\n  render() {\n    return (\n      <>\n        <select \n          value={this.props.current}\n          onChange={this.onChange}\n        >\n          {this.renderSizeOptions()}\n        </select>\n      </>\n    )\n  }\n}\n\n\nconst mapStateToProps = state => ({\n  current: state.style.fontSize,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setDocumentFontSize: (size) => dispatch(setDocumentFontSize(size)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontSizeSelect)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setMathFontSize, setMathFontWeight } from '../../../actions/style'\n\nclass MathFontSettings extends React.Component {\n  static propTypes = {\n    currentSize: PropTypes.string,\n    currentWeight: PropTypes.string,\n    setMathFontSize: PropTypes.func.isRequired,\n    setMathFontWeight: PropTypes.func.isRequired,\n  }\n\n  setSizeCss(size) {\n    document.body.style.setProperty('--doc-math-font-size', size)\n  }\n\n  setWeightCss(weight) {\n    document.body.style.setProperty('--doc-math-font-weight', weight)\n  }\n\n  setSize(size) {\n    this.setSizeCss(size)\n    this.props.setMathFontSize(size)\n  }\n\n  setWeight(weight) {\n    this.setWeightCss(weight)\n    this.props.setMathFontWeight(weight)\n  }\n\n  onChangeSize = (evt) => {\n    this.setSize(evt.target.value)\n  }\n\n  onChangeWeight = (evt) => {\n    if (evt.target.checked) {\n      this.setWeight('bold')\n    } else {\n      this.setWeight('normal')\n    }\n  }\n\n  render() {\n    return (\n      <>\n        Relative Size:\n        <select\n          onChange={this.onChangeSize}\n          value={this.props.currentSize}\n        >\n          <option value='0.6em'>0.6</option>\n          <option value='0.7em'>0.7</option>\n          <option value='0.8em'>0.8</option>\n          <option value='0.9em'>0.9 (default)</option>\n          <option value='1em'>1.0</option>\n          <option value='1.1em'>1.1</option>\n          <option value='1.2em'>1.2</option>\n          <option value='1.3em'>1.3</option>\n          <option value='1.4em'>1.4</option>\n        </select>\n        Bold:\n        <input ref={this.bold} \n          onChange={this.onChangeWeight}\n          type=\"checkbox\"\n          checked={this.props.currentWeight === 'bold'}\n        />\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  currentSize: state.style.mathFontSize,\n  currentWeight: state.style.mathFontWeight,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setMathFontSize: (size) => dispatch(setMathFontSize(size)),\n  setMathFontWeight: (weight) => dispatch(setMathFontWeight(weight)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MathFontSettings)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { RenderElement } from '../../../renderMethods'\n\n\n\nconst tabsize = 2;\n\nfunction onKeyDown(evt) {\n  if (evt.keyCode === 9) { // handle tab\n    let target = evt.target;\n    const start = target.selectionStart;\n    const end = target.selectionEnd;\n    const value = target.value;\n    target.value = value.substring(0,start) + Array(tabsize).fill(' ').join('') + value.substring(end);\n    target.selectionStart = start + tabsize;\n    target.selectionEnd = end + tabsize;\n    evt.preventDefault();\n  } else if (evt.keyCode === 8) { // handle backspace\n    let target = evt.target;\n    const start = target.selectionStart;\n    if (start === target.selectionEnd) {\n      const value = target.value;\n      if (value.substring(start-tabsize, start) === Array(tabsize).fill(' ').join('')) {\n        target.value = value.substring(0,start-tabsize) + value.substring(start);\n        target.selectionStart = start - tabsize;\n        target.selectionEnd = start - tabsize;\n        evt.preventDefault();\n      }\n    }\n  }\n}\n\nclass TextPreview extends React.Component {\n  static propTypes = {\n    defaultValue: PropTypes.string,\n    renderType: PropTypes.string.isRequired\n  }\n\n  static defaultProps = {\n    renderType: 'text',\n    wrapperElement: 'div',\n  }\n\n  constructor(props) {\n    super(props)\n    const style = this.props.style || {}\n    this.inputStyle = style.input || {}\n    this.outputStyle = style.output || {}\n    this.input = React.createRef()\n    this.state = { text: props.defaultValue || '' }\n  }\n\n  updatePreview = (evt) => {\n    this.setState({ text: evt.target.value })\n  }\n\n  renderPreview() {\n    if (this.props.renderType === 'text') {\n      return this.state.text.split('\\n\\n').map((t,i) => (\n        <RenderElement key={i} content={t} />\n      ))\n    } else if (this.props.renderType === 'json') {\n      try {\n        const json = JSON.parse(this.state.text)\n        return <RenderElement content={json} />\n      } catch(e) {\n        return \"Failed to render\"\n      }\n    }\n  }\n\n  render() {\n    return (\n      <>\n      <this.props.wrapperElement className='text-preview-input' >\n        <textarea \n          style={this.inputStyle}\n          onChange={this.updatePreview}\n          onKeyDown={onKeyDown}\n          value={this.state.text}\n        />\n      </this.props.wrapperElement>\n      <this.props.wrapperElement className='text-preview-output' >\n        <div className='document' style={this.outputStyle}>\n          {this.renderPreview()}\n        </div>\n      </this.props.wrapperElement>\n      </>\n    )\n  }\n}\n\nexport default TextPreview","import AddLocalFont from './AddLocalFont'\nimport FontFamilyUI from './FontFamilyUI'\nimport FontFamily from './FontFamily'\nimport FontSize from './FontSize'\nimport FontSettings from './FontSettings'\nimport TextPreview from './TextPreview'\n\nexport {\n  FontFamily,\n  FontSize,\n  AddLocalFont,\n  FontFamilyUI,\n  FontSettings,\n  TextPreview\n}\n\nexport default FontSettings","import React from 'react'\nimport FontFamily from './FontFamily'\nimport MathFontSettings from './MathFontSettings'\nimport FontFamilyUI from './FontFamilyUI'\nimport AddLocalFont from './AddLocalFont'\nimport TextPreview from './TextPreview'\n\nconst previewtext = `To solve an equation of the form $$ax^2 + bx + c = 0$$, use the quadratic formula:\n\n$$$x = \\\\frac{-b \\\\pm \\\\sqrt{b^2 - 4ac}}{2a}$$$\n\nThe volume of a sphere is $$\\\\frac{4}{3}\\\\pi r^3$$.\n\nRemember that $$e^{i\\\\theta} = \\\\cos\\\\theta + i\\\\sin\\\\theta$$.`\n\n\nconst FontSettings = () => {\n  return (\n    <>\n      <h4>Document Font</h4>\n      <div>\n        Font Selection Method: <FontFamilyUI />\n      </div>\n      <div>\n        Font: <FontFamily/> \n      </div>\n      <div>\n        Add Local Font to Menu: <AddLocalFont buttonLabel=\"Add To List\" /> (You will then need to select it from the menu)\n      </div>\n      <h4>Math Font</h4>\n      <div style={{justifyItems: 'right'}}>\n        <MathFontSettings />\n      </div>\n      <h4>Preview</h4>\n      <div style={{display: 'flex', flexDirection: 'row', '--doc-font-size': '11pt'}}>\n        <TextPreview wrapperElement='div' defaultValue={previewtext} style={{input: {height: '100%'}, output: {height: '100%'}}}/>      \n      </div>\n    </>\n  )\n}\n\nexport default FontSettings","import React from 'react'\nimport { RenderElement } from '../../renderMethods'\nimport { TextPreview } from '../Settings/Font'\nimport styles from './styles.module.css'\n\nconst latexfmt = (...a) => String.raw(...a).replace('\\\\`', '`');\n\nconst examples = [\n  'Text can be _italic_, __bold__, or ___both___.',\n  'Or, *asterisks* will **accomplish** the ***same thing***.',\n  latexfmt`f: x --> x^3^ - 3x^2^ + 9x - 8 doesn't look as nice as $$f: x \\mapsto x^3 - 3x^2 + 9x - 8$$`,\n  latexfmt`**Markdown:** a~n~ = a~n-1~ + 2n - 1 , **LaTeX:** $$a_n = a_{n-1} + 2n - 1$$`,\n  latexfmt`There are two ways to write a fraction: $$\\frac{24}{18} = {4 \\over 3}$$`,\n  latexfmt`$$V = \\frac{4}{3}\\pi r^3$$`,\n  latexfmt`Use the quadratic formula to solve for $$x$$: $$$x = { -b \\pm \\sqrt{b^2 - 4ac} \\over 2a }$$$`,\n  latexfmt`Determine the measure of $$\\angle{ABC}$$.`,\n  latexfmt`$$\\overline{AB}$$ is a line segment. $$\\overleftrightarrow{CD}$$ is a line. $$\\overrightarrow{EF}$$ is a ray.`,\n  latexfmt`Prove that $$\\triangle{ABC} \\cong \\triangle{DEF}$$.`,\n  latexfmt`Given $$\\vec{u} = \\langle 3,5 \\rangle$$ and $$\\vec{v} = \\langle -4, 9 \\rangle$$, calculate $$\\vec{u} \\cdot \\vec{v}$$.`,\n  latexfmt`Remember that $$re^{i\\theta} = r(\\cos\\theta + i\\sin\\theta)$$`,\n  latexfmt`$$$\\int_a^b f'(x)dx = f(b) - f(a)$$$`,\n  latexfmt`$$$\\sum_{n=0}^{\\infty}\\frac{f^{(n)}(a)}{n!}(x-a)^n$$$`,\n  latexfmt`$$\\lnot (p \\land q) \\iff (\\lnot p \\lor \\lnot q)$$`,\n\n  latexfmt`$$$\na_{n+1} = \\left\\{\\begin{array}{r l}\n  3a_n + 1 & \\text{if $a_n$ is odd} \\\\\n  a_n \\div 2 & \\text{if $a_n$ is even} \\\\\n\\end{array}\\right.\n$$$`,\n\n  latexfmt`$$$\n\\left[\\begin{array}{r r r}\n   1 &   4 &  -9 \\\\\n  16 & -25 &  66 \\\\\n  49 &  64 & -81 \\\\\n\\end{array}\\right]\n$$$`,\n\n  latexfmt`$$\\forall\\ \\epsilon > 0, x \\in \\mathbb{R},\\ \\exists\\ \\delta > 0 \\text{ such that } 0 < |x-c| < \\delta \\implies |f(x) - L| < \\epsilon$$`,\n\n]\n\n/*\nconst RenderExample = ({text}) => {\n  return (\n    <>\n    <pre style={{\n      backgroundColor: 'rgba(255,255,200,0.5)',\n      border: '1px solid black',\n      padding: '0.5rem',\n      overflowX: 'scroll',\n    }}>{text}</pre>\n    <span className='document' \n      style={{\n      paddingLeft: '0.5rem',\n      fontSize: '1em',\n    }}>\n      <RenderElement content={{type: 'text', data: text}}/>\n    </span>\n    </>\n  )\n}\n*/\n\nconst RenderExample = ({text}) => (\n  <tr>\n    <TextPreview wrapperElement='td' defaultValue={text} />\n  </tr>\n)\n\nconst LatexExamples = (props) => {\n  return (\n    <div style={{padding: '3mm 0 3mm 0'}}>\n    <div>\n      <span>Examples:</span>\n      <button onClick={props.onRequestClose}>Close</button>\n    </div>\n    <table className={styles.LatexExamples}>\n      <tbody>\n      {examples.map((s, i) => (\n          <RenderExample key={`render-example-${i}`} text={s} />\n      ))}\n      </tbody>\n    </table>\n    <div>\n      <button onClick={props.onRequestClose}>Close</button>\n    </div>\n    </div>\n  )\n}\n\nexport default LatexExamples","import React from 'react'\nimport { RenderElement } from '../../renderMethods'\nimport styles from './styles.module.css'\nimport math from 'mathjs'\n\n\nconst round = function(v, n) {\n  const d = Math.pow(10,n)\n  return Math.floor(d*v) / d\n}\n\nfunction calcParametric(x, y, domain, step) {\n  const f = (t) => ({x: round(x(t), 6), y: round(y(t), 6)})\n  let paths = []\n  let points = []\n  let t = domain[0]\n  while (t < domain[1]) {\n    try {\n      const pt = f(t)\n      if (points.length > 0 && Math.abs(pt.y - points[points.length-1].y) > 100) {\n        paths.push(points)\n        points = [pt]\n      } else {\n        points.push(pt)\n      }\n    } catch(e) {\n      if (points.length > 0) {\n        paths.push(points)\n        points = []\n      }\n    }\n    t += step\n  }\n  try {\n    points.push(f(domain[1]))\n  } catch(e) {}\n  if (points.length > 0) paths.push(points)\n  return paths\n}\n\nfunction parseFunction(str) {\n  try {\n    const nodes = math.parse(str)\n    const func = nodes.compile()\n    return scope => func.eval(scope)\n  } catch(e) {\n    console.error(e)\n  }\n}\n\n\n\nclass GraphMaker extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      mode: 'standard',\n      standard: 'x',\n      inverse: 'y',\n      parametricX: 't',\n      parametricY: 't',\n      x0: -10,\n      x1: 10,\n      y0: -10,\n      y1: 10,\n      t0: -10,\n      t1: 10,\n      step: 0.1,\n      height: 1.5,\n      autoDomain: 'auto',\n      autoSize: 'auto',\n    }\n  }\n\n  updateMode = evt => this.setState({mode: evt.target.value})\n  updateStandard = evt => this.setState({standard: evt.target.value})\n  updateInverse = evt => this.setState({inverse: evt.target.value})\n  updateParametricX = evt => this.setState({parametricX: evt.target.value})\n  updateParametricY = evt => this.setState({parametricY: evt.target.value})\n  updateX0 = evt => this.setState({x0: evt.target.value})\n  updateX1 = evt => this.setState({x1: evt.target.value})\n  updateY0 = evt => this.setState({y0: evt.target.value})\n  updateY1 = evt => this.setState({y1: evt.target.value})\n  updateT0 = evt => this.setState({t0: evt.target.value})\n  updateT1 = evt => this.setState({t1: evt.target.value})\n  updateStep = evt => this.setState({step: evt.target.value})\n  updateHeight = evt => this.setState({height: evt.target.value})\n  updateAutoDomain = evt => this.setState({autoDomain: evt.target.value})\n  updateAutoSize = evt => this.setState({autoSize: evt.target.value})\n\n  renderMode() {\n    return (\n      <select value={this.state.mode}\n        onChange={this.updateMode}\n      >\n        <option value='standard' title=\"y is a function of x\">Standard</option>\n        <option value='inverse' title=\"x is a function of y\">Inverse</option>\n        <option value='parametric' title=\"x and y are functions of t\">Parametric</option>\n      </select>\n    )\n  }\n\n  renderGridInputs() {\n    return (\n      <>\n      <table>\n        <tbody>\n          <tr>\n            <th /><th>Min</th><th>Max</th>\n          </tr>\n          <tr>\n            <td>x</td>\n            <td><input type=\"number\" value={this.state.x0} onChange={this.updateX0} /></td>\n            <td><input type=\"number\" value={this.state.x1} onChange={this.updateX1} /></td>\n          </tr>\n          <tr>\n            <td>y</td>\n            <td><input type=\"number\" value={this.state.y0} onChange={this.updateY0} /></td>\n            <td><input type=\"number\" value={this.state.y1} onChange={this.updateY1} /></td>\n          </tr>\n        </tbody>\n      </table>\n      </>\n    )\n  }\n\n  renderInputs() {\n    if (this.state.mode === 'standard') {\n      return (\n        <table>\n          <tbody>\n            <tr>\n              <td>y=</td>\n              <td><textarea value={this.state.standard} onChange={this.updateStandard}/></td> \n            </tr>\n          </tbody>\n        </table>\n      )\n    }\n    if (this.state.mode === 'inverse') {\n      return (\n        <table>\n          <tbody>\n            <tr>\n              <td>x=</td>\n              <td><textarea value={this.state.inverse} onChange={this.updateInverse}/></td> \n            </tr>\n          </tbody>\n        </table>\n      )\n    }\n    if (this.state.mode === 'parametric') {\n      return (\n        <table>\n          <tbody>\n            <tr>\n              <td>x=</td>\n              <td><textarea value={this.state.parametricX} onChange={this.updateParametricX}/></td>\n            </tr>\n            <tr>\n              <td>y=</td>\n              <td><textarea value={this.state.parametricY} onChange={this.updateParametricY}/></td>\n            </tr>\n          </tbody>\n        </table>\n      )\n    }\n  }\n\n\n  renderDomainInput() {\n    return (\n      <>\n      Step:\n      <input type=\"number\" \n        step={0.01}\n        value={this.state.step} \n        onChange={this.updateStep}\n        min={0}\n      /><br/>\n        Domain: \n        {this.state.mode !== 'parametric' ? (\n          <select value={this.state.autoDomain} onChange={this.updateAutoDomain}>\n            <option value='auto'>Auto</option>\n            <option value='custom'>Custom</option>\n          </select>\n        ) : <br/>}\n        {(this.state.autoDomain === 'custom' || this.state.mode === 'parametric') ? (\n          <div>\n          <input type=\"number\" value={this.state.t0} onChange={this.updateT0} />\n          to \n          <input type=\"number\" value={this.state.t1} onChange={this.updateT1} />\n          </div>\n        ) : null }        \n      </>\n    )\n  }\n\n  renderHeightInput() {\n    return (\n      <>\n      Height:\n      <select value={this.state.autoSize} onChange={this.updateAutoSize}>\n        <option value='auto'>Default</option>\n        <option value='custom'>Custom</option>\n      </select>\n      {this.state.autoSize === 'custom' ? (\n        <>\n          <br/>\n          Inches:\n          <input type=\"number\"\n            step={0.1}\n            value={this.state.height}\n            onChange={this.updateHeight}\n            min={0}\n          />\n        </>\n      ) : null}\n      </>\n    )\n  }\n\n  graphSize() {\n    return {\n      span: [\n        +this.state.x0, \n        +this.state.y0, \n        +this.state.x1, \n        +this.state.y1\n      ],\n    }\n  }\n\n  getDomain() {\n    if (this.state.mode === 'parametric' || this.state.autoDomain === 'custom') {\n      return [+this.state.t0, +this.state.t1]\n    }\n    if (this.state.mode === 'standard') {\n      return [+this.state.x0, +this.state.x1]\n    }\n    if (this.state.mode === 'inverse') {\n      return [+this.state.y0, +this.state.y1]\n    }\n  }\n\n  getFunction() {\n    const step = this.state.step > 0 ? +this.state.step : 0.002\n    const domain = this.getDomain()\n    switch(this.state.mode) {\n      case 'standard':\n        const ymap = parseFunction(this.state.standard)\n        if (ymap) {\n          const paths = calcParametric(t=>t, x=>ymap({x}), domain, step)\n          return paths.map(p => ['Path', {points: p}])\n        }\n        return null\n\n      case 'inverse':\n        const xmap = parseFunction(this.state.inverse)\n        if (xmap) {\n          const paths = calcParametric(y=>xmap({y}), t=>t, domain, step)\n          return paths.map(p => ['Path', {points: p}])\n        }\n        return null\n      case 'parametric':\n        const xpmap = parseFunction(this.state.parametricX)\n        const ypmap = parseFunction(this.state.parametricY)\n        if (xpmap && ypmap) {\n          const paths = calcParametric(t=>xpmap({t}), t=>ypmap({t}), domain, step)\n          return paths.map(p => ['Path', {points: p}])\n        }\n        return null\n      default:\n        return null\n    }\n  }\n\n  getData() {\n    let props = {\n      ...this.graphSize(), \n      autogrid: true,\n    }\n    if (this.state.autoSize === 'custom') {\n      props.height = this.state.height + 'in'\n    } else {\n      props.height = '2in'\n    }\n    const paths = this.getFunction()\n    if (paths) {\n      return ['CartesianPlane', props, ...paths]\n    }\n    return ['CartesianPlane', props]\n  }\n\n  onSubmit = () => {\n    this.props.onSubmit({type: 'vectorgraphic', data: this.getData()})\n    this.props.onRequestClose()\n  }\n\n  render() {\n    return (\n      <div className={styles.GraphMaker}>\n        <div className={styles.GraphMakerHeading}>\n          <button onClick={this.onSubmit}>Apply</button>\n          <button onClick={this.props.onRequestClose}>Cancel</button>\n        </div>\n        <div className={styles.GraphMakerBody}>\n          <div className={styles.GraphMakerInput}>\n            <div style={{margin: '3mm'}}>\n              Graphing Mode {this.renderMode()}\n              {this.renderInputs()}\n            </div>\n            <div style={{margin: '3mm'}}>\n            {this.renderDomainInput()}\n            </div>\n            <div style={{margin: '3mm'}}>\n              {this.renderGridInputs()}\n            </div>\n            <div>\n              {this.renderHeightInput()}\n            </div>\n          </div>\n          <div className={styles.GraphMakerPreview}>\n            <div className='document preview-area'>\n              <RenderElement content={{type: 'vectorgraphic', data: this.getData()}} />\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport default GraphMaker","import React from 'react'\nimport { connect } from 'react-redux'\nimport { RenderElement } from '../../renderMethods'\nimport { addToDocument } from '../../actions/document'\nimport LatexExamples from './LatexExamples'\nimport GraphMaker from './GraphMaker'\nimport ReactModal from 'react-modal'\n\nconst tabsize = 2;\n\nfunction onKeyDown(evt) {\n  if (evt.keyCode === 9) { // handle tab\n    let target = evt.target;\n    const start = target.selectionStart;\n    const end = target.selectionEnd;\n    const value = target.value;\n    target.value = value.substring(0,start) + Array(tabsize).fill(' ').join('') + value.substring(end);\n    target.selectionStart = start + tabsize;\n    target.selectionEnd = end + tabsize;\n    evt.preventDefault();\n  } else if (evt.keyCode === 8) { // handle backspace\n    let target = evt.target;\n    const start = target.selectionStart;\n    if (start === target.selectionEnd) {\n      const value = target.value;\n      if (value.substring(start-tabsize, start) === Array(tabsize).fill(' ').join('')) {\n        target.value = value.substring(0,start-tabsize) + value.substring(start);\n        target.selectionStart = start - tabsize;\n        target.selectionEnd = start - tabsize;\n        evt.preventDefault();\n      }\n    }\n  }\n}\n\n\nclass CustomQuestion extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      inputType: 'manual',\n      instructions: '',\n      question: '',\n      answer: '',\n      diagram: '',\n      json: '',\n      modal: 'none',\n    }\n    this.inputType = React.createRef()\n    this.instructions = React.createRef()\n    this.question = React.createRef()\n    this.answer = React.createRef()\n    this.json = React.createRef()\n  }\n\n  openExamples = () => this.setState({ modal: 'examples' })\n  openGraphMaker = () => this.setState({modal: 'graph'})\n  closeModal = () => this.setState({ modal: 'none' })\n\n  updateInstructions = (evt) => {\n    this.setState({ instructions: evt.target.value })\n  }\n  updateQuestion = (evt) => {\n    this.setState({ question: evt.target.value })\n  }\n  updateDiagram = (diagram) => {\n    this.setState({diagram})\n  }\n  updateAnswer = (evt) => {\n    this.setState({ answer: {...this.state.answer, correct: evt.target.value }})\n  }\n  updateJSON = (evt) => {\n    this.setState({ json: evt.target.value })\n  }\n\n  updateInputType = (evt) => {\n    const inputType = evt.target.value\n    const data = this.getDataFromState()\n    if (data) {\n      if (inputType === 'json') {\n        const json = JSON.stringify(data,null,2)\n        if (json.length <= 2) {\n          this.setState({inputType, json: ''})\n        } else {\n          this.setState({inputType, json})\n        }\n      } else {\n        const newstate = {}\n        for (const k of ['instructions', 'question', 'answer']) {\n          if (data[k]) {\n            if (typeof data[k] === 'string') newstate[k] = data[k];\n            else if (data[k].type === 'text') newstate[k] = data[k].data;\n            else newstate[k] = '';\n          } else {\n            newstate[k] = '';\n          }\n        }\n        this.setState({ inputType, ...newstate })\n      }\n    } else {\n      this.setState({inputType})\n    }\n  }\n\n  getDataFromState() {\n    if (this.state.inputType === 'manual') {\n      let data = {}\n      for (const k of ['instructions', 'question', 'answer']) {\n        if (this.state[k]) {\n          data[k] = this.state[k]\n        }\n      }\n      if (this.state.diagram) {\n        data.diagram = this.state.diagram\n      }\n      return data\n    } else if (this.state.inputType === 'json') {\n      try {\n        const data = JSON.parse(this.state.json)\n        return data\n      } catch(e) {\n      }\n    }\n  }\n\n  addQuestion = () => {\n    const data = this.getDataFromState()\n    this.props.addToDocument({type: 'question', data})\n    this.props.onRequestClose()\n  }\n\n  renderInputs() {\n    if (this.state.inputType === 'manual') {\n      const inputStyle = {width:'30rem'}\n      return (\n        <div >\n          <p>\n            Tip: Text surrounded with $$ ... $$ will be treated as a math formula.\n          </p>\n          <button onClick={this.openExamples}>See Examples</button>\n          <p>Instructions:</p>\n          <textarea \n            value={this.state.instructions}\n            onChange={this.updateInstructions}\n            style={inputStyle}\n            ></textarea>\n\n          <p>Question:</p>\n          <textarea \n            value={this.state.question}\n            onChange={this.updateQuestion}\n            style={inputStyle}\n          ></textarea>\n\n          <p>Diagram:</p>\n          <button onClick={this.openGraphMaker}>Add Graph</button>\n          \n          <p>Answer:</p>\n          <textarea \n            value={this.state.answer.correct}\n            onChange={this.updateAnswer}\n            style={inputStyle}\n          ></textarea>\n        </div>\n      )\n    } else {\n      return (\n        <>\n          <p>Enter JSON:</p>\n          <textarea \n            value={this.state.json}\n            onChange={this.updateJSON}\n            onKeyDown={onKeyDown}\n            spellCheck={false}\n            style={{width:'30rem', height: '10rem', fontSize: '0.9em'}}\n          />\n          <br/>\n        </>\n      )\n    }\n  }\n\n  renderPreview() {\n    const data = this.getDataFromState()\n    const previewStyle = {\n      margin: '2mm',\n      width: 'fit-content',\n      fontSize: '1.2em',\n      minWidth: '3in',\n    }\n\n    return (\n      <>\n      <p>Question</p>\n      <div className='document preview-area' style={previewStyle}>\n        {data ? <RenderElement content={{type: 'question-nonumber', data}} /> : null}\n      </div>\n      <p>Answer</p>\n      <div className='document preview-area' style={previewStyle}>\n        {data ? <RenderElement content={{type: 'answerkey',  data}} /> : null}\n      </div>\n      </>\n    )\n  }\n\n  render() {\n    const divstyle = {\n      width: 'auto',\n      padding: '0',\n      margin: '0',\n      display: 'grid',\n      gridTemplateAreas: '\"inputs preview\"',\n      gridTemplateColumns: 'auto auto',\n    }\n    return (\n      <>\n      <div style={divstyle}>\n        <div style={{gridArea: 'inputs'}}>\n          <h4 style={{gridArea: 'title'}}>Custom Question</h4>\n          <select ref={this.inputType} onChange={this.updateInputType}>\n            <option value=\"manual\">Manual</option>\n            <option value='json'>JSON</option>\n          </select>\n          {this.renderInputs()}\n        </div>\n        <div style={{gridArea: 'preview'}}>\n          <h4>Preview</h4>\n          {this.renderPreview()}\n        </div>\n      </div>\n      <button onClick={this.addQuestion}>Add to Assignment</button>\n\n\n      <ReactModal isOpen={this.state.modal === 'examples'}\n        onRequestClose={this.closeModal}\n        style={{\n          content: {\n            backgroundColor: 'var(--ui-page, white)',\n            color: 'black',\n            //top: '0',\n            //bottom: '0',\n            //borderTop: 'none',\n            //borderBottom: 'none',\n            //left: '50px',\n            //right: '50px',\n          }\n        }}\n      >\n        <LatexExamples onRequestClose={this.closeModal}/>\n      </ReactModal>\n\n      <ReactModal isOpen={this.state.modal === 'graph'}\n        onRequestClose={this.closeModal}\n      >\n        <GraphMaker onRequestClose={this.closeModal} onSubmit={this.updateDiagram}/>\n      </ReactModal>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: (q) => dispatch(addToDocument(q))\n})\n\nexport default connect(null, mapDispatchToProps)(CustomQuestion)","import { connect } from 'react-redux'\nimport CustomQuestion from './CustomQuestion'\nimport {\n  addToDocument\n} from '../../actions/document'\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: (thing) => dispatch(addToDocument(thing))\n})\n\nexport default connect(null, mapDispatchToProps)(CustomQuestion)","import React from 'react'\n\n\nconst Notes = (props) => {\n\n  return (\n    <>\n    <span style={{fontWeight: 'bold', fontSize: '1em'}}>\n      <span style={{marginRight: '3mm'}}>Notes</span>\n      <button onClick={props.onRequestClose}>Close</button>\n    </span>\n    <div>\n      <p>Double-click on the document to edit an element.</p>\n      <p>Create a PDF by selecting \"Save to PDF\" when printing.</p>\n      <p>Make sure the scale is set to 100% when printing.</p>\n      <p>\n        Changing the font size or deleting questions from the middle of the\n        document can cause the calculated page breaks to no longer be \n        appropriate. Use the 'Fix Pagination' button to quickly recalculate \n        all page breaks.\n      </p>\n\n      <h4>Issues</h4>\n      <p>\n        In some browsers only the first page prints.\n      </p>\n\n    </div>\n    </>\n  )\n}\n\nexport default Notes","import React from 'react'\nimport { connect } from 'react-redux'\n\nclass CheckStateButton extends React.Component {\n\n  logState = () => {console.log(this.props.state)}\n\n  render() {\n    return <button onClick={this.logState}>{this.props.children}</button>\n  }\n}\n\nconst mapStateToProps = state => ({\n  state: state,\n})\n\nexport default connect(mapStateToProps)(CheckStateButton)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { kebabCase } from 'lodash'\nimport { updateGraphStyle } from '../../../actions/style'\n\nfunction setCss(k, v) {\n  document.body.style.setProperty(k, v)\n}\n\nclass GraphStyle extends React.Component {\n  static propTypes = {\n    updateGraphStyle: PropTypes.func.isRequired,\n    propertyName: PropTypes.string.isRequired,\n    current: PropTypes.string.isRequired,\n  }\n\n  constructor(props) {\n    super(props)\n    this.cssName = `--vg-${kebabCase(props.propertyName)}`\n  }\n\n  componentDidMount() {\n    setCss(this.cssName, this.props.current)\n  }\n\n  componentDidUpdate() {\n    setCss(this.cssName, this.props.current)\n  }\n\n  setValue(value) {\n    this.props.updateGraphStyle({[this.props.propertyName]: value})\n  }\n\n  onChange = (evt) => {\n    this.setValue(evt.target.value)\n  }\n\n}\n\nclass Color extends GraphStyle {\n  render() {\n    return (\n      <input type='color'\n        value={this.props.current}\n        onChange={this.onChange}\n      />\n    )\n  }\n}\n\nclass Width extends GraphStyle {\n  onChange = (evt) => {\n    this.setValue(evt.target.value + 'mm')\n  }\n  render() {\n    return (\n      <input type='range'\n        value={this.props.current.slice(0,-2)}\n        onChange={this.onChange}\n        min='0'\n        max='1'\n        step='0.01'\n      />\n    )\n  }\n}\n\nclass Opacity extends GraphStyle {\n  render() {\n    return (\n      <input type='range'\n        value={this.props.current}\n        onChange={this.onChange}\n        min='0'\n        max='1'\n        step='0.01'\n      />\n    )\n  }\n}\n\n\nconst mapDispatchToProps = dispatch => ({\n  updateGraphStyle: (props) => dispatch(updateGraphStyle(props))\n})\n\nfunction createComponent(base, propertyName) {\n  class StyleSettingComponent extends base {\n    static defaultProps = ({propertyName: propertyName})\n  }\n  \n  return connect(\n    state => ({current: state.style.graph[propertyName]}), \n    mapDispatchToProps\n  )(StyleSettingComponent)\n}\n\n\nexport const Plot1PathColor = createComponent(Color, 'plot1PathColor')\nexport const PlotPathWidth = createComponent(Width, 'plotPathWidth')\nexport const Plot2PathColor = createComponent(Color, 'plot2PathColor')\nexport const GeomPathColor = createComponent(Color, 'geomPathColor')\nexport const GeomPathWidth = createComponent(Width, 'geomPathWidth')\nexport const AsymptoteColor = createComponent(Color, 'asymptoteColor')\nexport const AsymptoteWidth = createComponent(Width, 'asymptoteWidth')\nexport const AxisColor = createComponent(Color, 'axisColor')\nexport const AxisWidth = createComponent(Width, 'axisWidth')\nexport const GridColor = createComponent(Color, 'gridColor')\nexport const GridWidth = createComponent(Width, 'gridWidth')\nexport const ShadedRegionOpacity = createComponent(Opacity, 'shadedRegionOpacity')\n\n\n\n\nclass SwapButton extends React.Component {\n  static propTypes = {\n    current1: PropTypes.string.isRequired,\n    current2: PropTypes.string.isRequired,\n    propertyName1: PropTypes.string.isRequired,\n    propertyName2: PropTypes.string.isRequired,\n    updateGraphStyle: PropTypes.func.isRequired,\n  }\n\n  constructor(props) {\n    super(props)\n    this.cssName1 = `--vg-${kebabCase(props.propertyName1)}`\n    this.cssName2 = `--vg-${kebabCase(props.propertyName2)}`\n  }\n\n  doSwap = () => {\n    setCss(this.cssName1, this.current2)\n    setCss(this.cssName2, this.current1)\n    this.props.updateGraphStyle({\n      [this.props.propertyName1]: this.props.current2,\n      [this.props.propertyName2]: this.props.current1,\n    })\n  }\n\n  render() {\n    return (\n      <button onClick={this.doSwap}>{this.props.children}</button>\n    )\n  }\n}\n\nexport const PlotColorSwap = connect(\n  state => ({\n    current1: state.style.graph.plot1PathColor, \n    current2: state.style.graph.plot2PathColor,\n    propertyName1: 'plot1PathColor',\n    propertyName2: 'plot2PathColor'\n  }),\n  dispatch => ({\n    updateGraphStyle: updates => dispatch(updateGraphStyle(updates)),\n  })\n)(SwapButton)","import React from 'react'\nimport { \n  CartesianPlane, Path,\n  Asymptote, Point, Hole, ShadedRegion,\n  RationalFunction, Transforms, Style,\n\n  Circle, Polygon, GeomRay, GeomLine, GeomSegment,\n} from '../../../renderMethods/primaryTypes/VG'\n\n\nexport const PreviewXYPlot = () => {\n  \n  \n  const vasymptotes = [-3]\n  const holes = [-5]\n  const hasymptotes = [2]\n\n  //const f = x => 2*Math.sin(x*Math.PI/4) + 7\n  //const g = x => (x+2)*(x-8)/2 + (x+2)/5 + 5\n\n  const f = x => (x-2)*(x-7) - 3 + (x/3)\n  const g = x => -(x-2)*(x-7) - 3 + (x/3)\n\n\n  const regionTop = []\n  const regionBottom = []\n  const fpoints = []\n  const gpoints = []\n  const step = 0.3\n\n  let x = -5\n  while (x <= 11) {\n    const fpt = ({x, y: f(x)})\n    const gpt = ({x, y: g(x)})\n    fpoints.push(fpt)\n    gpoints.push(gpt)\n    x += step\n  }\n\n  \n\n  const region = [...regionBottom, ...regionTop.reverse()]\n\n  return (\n    <CartesianPlane span={[-10,-10,10,10]} style='xyplot' autogrid={true} width=\"3in\">\n      {vasymptotes.map(p => <Asymptote key={`va-${p}`} points={[{x: p, y: -12}, {x: p, y: 12}]} />)}\n      {hasymptotes.map(p => <Asymptote key={`ha-${p}`} points={[{x: -12, y: p}, {x: 12, y: p}]} />)}\n        \n\n      <Style role='secondary'>\n        <ShadedRegion points={fpoints} />\n        <Path points={fpoints} />\n      </Style>\n\n      <Style role='primary'>\n        <Transforms list={[{type: 'translate', params: {x: 0, y: 2}}]}>\n          <RationalFunction \n            numerLC={2}\n            asymptotes={vasymptotes} \n            holes={holes} \n            domain={[-11,-3]} renderAsymptotes={false}\n          />\n        </Transforms>\n        <ShadedRegion points={gpoints}/>\n        <Path points={gpoints}/>\n        <Point x='2' y={f(2)} />\n        <Point x='7' y={f(7)} />\n      </Style>\n\n    </CartesianPlane>\n  )\n}\n\nexport const PreviewGeom = () => {\n\n  const poly= [\n    [13,11], [17,12], [18,16], [15,18], [11,14]\n  ]\n  const ray = [[2,12], [7,13]]\n  const line = [[8,17], [2,18]]\n  const seg = [[7,15], [2,15]]\n  const circ = ({cx: 4, cy: 7, r: 2})\n\n  return (\n    <CartesianPlane span={[0,0,20,20]} style='geom' autogrid={true} width='3in'>\n      <Polygon vertices={poly} />\n      <Circle {...circ} />\n      <GeomRay points={ray} />\n      <GeomLine points={line} />\n      <GeomSegment points={seg} />\n    </CartesianPlane>\n  )\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { resetGraphStyle } from '../../../actions/style'\nimport {\n  Plot1PathColor, PlotPathWidth, Plot2PathColor, PlotColorSwap,\n  GeomPathColor, GeomPathWidth,\n  AsymptoteColor, AsymptoteWidth,\n  AxisColor, AxisWidth,\n  GridColor, GridWidth,\n  ShadedRegionOpacity,\n} from './GraphStyle'\nimport { PreviewXYPlot, PreviewGeom } from './GraphPreview'\n\nimport styles from './styles.module.css'\n\n\nclass GraphSettings extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {style: 'xy-plot'}\n  }\n\n  changeStyle = evt => {\n    this.setState({style: evt.target.value})\n  }\n\n  resetToDefaults = () => {\n   this.props.resetGraphStyle()\n  }\n\n  renderPreview() {\n    if (this.state.style === 'geom') {\n      return <PreviewGeom />\n    }\n    return <PreviewXYPlot />\n  }\n\n  renderStyleSettings() {\n    if (this.state.style === 'xy-plot') {\n      return (\n        <>\n          <tr>\n            <td>Primary</td>\n            <td><Plot1PathColor/></td>\n            <td><PlotPathWidth/></td>\n          </tr>\n          <tr>\n            <td>Secondary</td>\n            <td><Plot2PathColor/></td>\n            <td><PlotColorSwap>Swap Colors</PlotColorSwap></td>\n          </tr>\n          <tr>\n            <td>Asymptote</td>\n            <td><AsymptoteColor/></td>\n            <td><AsymptoteWidth/></td>\n          </tr>\n          <tr>\n            <td colSpan='2'>Fill</td>\n            <td><ShadedRegionOpacity /></td>\n          </tr>\n        </>\n      )\n    }\n    if (this.state.style === 'geom') {\n      return (\n        <>\n          <tr>\n            <td>Path</td>\n            <td><GeomPathColor/></td>\n            <td><GeomPathWidth/></td>\n          </tr>\n        </>\n      )\n    }\n    return null\n  }\n\n  render() {\n    return (\n      <div className={styles.Layout}>\n        <div className={styles.Settings}>\n          <h3>Graph Style</h3>\n          <button onClick={this.resetToDefaults}>Reset to Defaults</button>\n          \n          <table className={styles.SettingTable}>\n\n            <thead>\n              <tr>\n                <th></th>\n                <th>Color</th>\n                <th>Thickness</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>Axis</td>\n                <td><AxisColor/></td>\n                <td><AxisWidth/></td>\n              </tr>\n\n              <tr>\n                <td>Grid</td>\n                <td><GridColor/></td>\n                <td><GridWidth/></td>\n              </tr>\n              <tr>\n                <td colSpan='3' >\n                  <div style={{margin: '5mm 0'}}>\n                    <span>Editing style for </span>\n                    <select onChange={this.changeStyle} value={this.state.style}>\n                      <option value='geom'>geometry</option>\n                      <option value='xy-plot'>xy-plot</option>\n                    </select>\n                  </div>\n                </td>\n              </tr>\n\n              {this.renderStyleSettings()}\n            </tbody>\n\n          </table>\n        </div>\n        <div className={styles.Preview}>\n          <div className='document preview-area'>\n            {this.renderPreview()}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  resetGraphStyle: () => dispatch(resetGraphStyle()),\n})\n\nexport default connect(null, mapDispatchToProps)(GraphSettings)","import GraphSettings from './GraphSettings'\n\nexport default GraphSettings","import React from 'react'\nimport FontSettings from './Font'\nimport GraphSettings from './Graph'\nimport styles from './styles.module.css'\n\n\nclass SettingsPage extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {showing: 'font'}\n  }\n\n  showFontSettings = () => {\n    this.setState({showing: 'font'})\n  }\n  showGraphSettings = () => {\n    this.setState({showing: 'graph'})\n  }\n\n  renderSettings() {\n    switch (this.state.showing) {\n      case 'font': return <FontSettings/>\n      case 'graph': return <GraphSettings/>\n      default: return null\n    }\n  }\n\n  render() {\n    return (\n      <div className={styles.SettingPage}>\n\n        <div className={styles.LeftBar}>\n          <div>\n            <span className={styles.Title}>Settings</span>\n          </div>\n          \n          <div className={styles.NavArea}>\n            <button\n              className={styles.NavButton}\n              onClick={this.showFontSettings}\n              disabled={this.state.showing === 'font'}\n            >Fonts</button>\n            <button\n              className={styles.NavButton}\n              onClick={this.showGraphSettings}\n              disabled={this.state.showing === 'graph'}\n            >Graphs</button>\n          </div>\n\n          <div>\n            <button onClick={this.props.onRequestClose}>Close</button>\n          </div>\n          \n        </div>\n        \n        <div className={styles.SettingSection}>\n          {this.renderSettings()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default SettingsPage","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setAllowEditing } from '../../actions/config'\n\nclass AllowEditing extends React.Component {\n  static propTypes = {\n    current: PropTypes.bool.isRequired,\n    setAllowEditing: PropTypes.func.isRequired,\n  }\n\n  toggle = (evt) => {\n    if (evt.target.checked) {\n      this.props.setAllowEditing(true)\n    } else {\n      this.props.setAllowEditing(false)\n    }\n  }\n\n  render() {\n    return (\n      <input\n        onChange={this.toggle}\n        type='checkbox' \n        checked={this.props.current}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.config.allowEditing,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setAllowEditing: (b) => dispatch(setAllowEditing(b)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AllowEditing)","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { setShowAnswerKey } from '../../actions/config'\n\n\nclass AnswerKeyToggle extends React.Component {\n  static propTypes = {\n    current: PropTypes.bool.isRequired,\n    setShowAnswerKey: PropTypes.func.isRequired,\n  }\n\n  toggle = (evt) => {\n    if (evt.target.checked) {\n      this.props.setShowAnswerKey(true)\n    } else {\n      this.props.setShowAnswerKey(false)\n    }\n  }\n\n  render() {\n    return (\n      <input\n        onChange={this.toggle}\n        type='checkbox' \n        checked={this.props.current}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.config.showAnswerKey,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setShowAnswerKey: (bool) => dispatch(setShowAnswerKey(bool)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AnswerKeyToggle)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setHiddenCount } from '../../actions/config'\nimport { clearPageBreaks } from '../../actions/document'\n\nclass FixPagination extends React.Component {\n  static propTypes = {\n    hidden: PropTypes.number.isRequired,\n    setHiddenCount: PropTypes.func.isRequired,\n  }\n\n  reset = () => {\n    this.props.clearPageBreaks()\n    this.props.setHiddenCount(this.props.total)\n  }\n\n  check() {\n    setTimeout(() => {\n      if (this.props.hidden > 0) {\n        this.props.setHiddenCount(this.props.hidden-1)\n      }\n    }, 20)\n  }\n\n  componentDidMount() {\n    this.check()\n  }\n\n  componentDidUpdate() {\n    this.check()\n  }\n\n  render() {\n    return (\n      <button onClick={this.reset}>Fix Pagination</button>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  hidden: state.config.numberHidden,\n  total: state.document.order.length,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setHiddenCount: n => dispatch(setHiddenCount(n)),\n  clearPageBreaks: () => dispatch(clearPageBreaks()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FixPagination)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setPageMargin } from '../../actions/style'\n\nconst MarginOptions = [\n  '5mm',\n  '10mm',\n  '15mm',\n  '20mm',\n]\n\nclass SetPageMargin extends React.Component {\n\n  static propTypes = {\n    current: PropTypes.string.isRequired,\n    setPageMargin: PropTypes.func.isRequired,\n  }\n\n  setPageMargin(margin) {\n    this.props.setPageMargin(margin)\n  }\n\n  updateFromSelection = (evt) => {\n    const m = evt.target.value\n    this.setPageMargin(m)\n  }\n\n  render() {\n    return (\n      <select\n        onChange={this.updateFromSelection}\n        value={this.props.current}\n      >\n        {MarginOptions.map((m) => (\n          <option key={m} value={`${m} ${m} ${m} ${m}`}>{m}</option>\n        ))}\n      </select>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.style.pageMargin,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setPageMargin: (m) => dispatch(setPageMargin(m))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SetPageMargin)","import React from 'react'\nimport PropTypes from 'prop-types'\n\nclass PreviewZoom extends React.Component {\n  static propTypes = { type: PropTypes.string.isRequired }\n\n  static defaultProps = { type: 'selection' }\n\n  constructor(props) {\n    super(props)\n    this.selection = React.createRef()\n    this.default = 110\n    this.setPreviewZoom(this.default)\n  }\n\n  setPreviewZoom(perc) {\n    const scale = perc / 100.0\n    \n    const transform = `matrix(${[scale, 0, 0, scale, 0, 0].join(',')})`\n    document.body.style.setProperty('--previewInnerTransform', transform)\n  }\n\n  setFromInput = () => {\n    const magnification = +this.selection.current.value\n    this.setPreviewZoom(magnification)\n  }\n\n  render() {\n    if (this.props.type === 'input') {\n      return (\n        <input\n          ref={this.selection} \n          type=\"number\"\n          min=\"70\"\n          max=\"150\"\n          step=\"5\"\n          defaultValue={this.default}\n          onChange={this.setFromInput}\n        ></input>\n      )\n    } else {\n      const options = [70, 80, 90, 100, 110, 120, 130, 140, 150]\n      return (\n        <select\n          ref={this.selection}\n          defaultValue={this.default}\n          onChange={this.setFromInput}>\n          {options.map((z) => <option key={`zoom-option-${z}`} value={z}>{z}</option>)}\n        </select>\n      )\n    }\n  }\n}\n\nexport default PreviewZoom","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setDocumentStartNumbering } from '../../actions/document'\n\nclass StartNumbering extends React.Component {\n\n  setCSSVariable(n) {\n    document.body.style.setProperty('--doc-startnumber', n-1)\n  }\n\n  setNumbering = evt => {\n    const startat = evt.target.value\n    if (startat) {\n      this.setCSSVariable(startat)\n      this.props.setDocumentStartNumbering(startat)\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <input \n          onChange={this.setNumbering}\n          type='number' \n          min='1'\n          value={this.props.current}\n          style={{width: '3em', minWidth: '2em'}}></input>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.document.startNumbering,\n})\nconst mapDispatchToProps = dispatch => ({\n  setDocumentStartNumbering: (n) => dispatch(setDocumentStartNumbering(n)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StartNumbering)","import SettingsPage from './SettingsPage'\n\nimport { FontFamily, FontSize, AddLocalFont, FontFamilyUI } from './Font'\nimport AllowEditingToggle from './AllowEditing'\nimport AnswerKeyToggle from './AnswerKeyToggle'\nimport FixPagination from './FixPagination'\nimport PageMargin from './PageMargin'\nimport PreviewZoom from './PreviewZoom'\nimport StartNumbering from './StartNumbering'\n\nexport {\n  AddLocalFont,\n  AllowEditingToggle,\n  AnswerKeyToggle,\n  FixPagination,\n  FontFamily,\n  FontFamilyUI,\n  FontSize,\n  PageMargin,\n  PreviewZoom,\n  StartNumbering,\n}\n\nexport default SettingsPage","import {\n  range as mathjsrange \n} from 'mathjs'\n\nexport const range = function(start, stop, inclusive=false) {\n  return mathjsrange(start, stop, inclusive)._data\n}\n\nexport const gcd = function(a, b) {\n  if (a > b) {\n    return gcd(b, a)\n  } else if (a === 0) {\n    return b\n  } else {\n    return gcd(b % a, a)\n  }\n}\n\nexport const divrem = function(n, p) {\n  let r = n\n  let d = 0\n  while (r % p === 0) {\n    r = r / p\n    d += 1\n  }\n  return [d, r]\n}\n\nexport const primeFactorization = function(n) {\n  let result = {}\n  let r = n\n  let d\n  let p = 2\n  if (r % p === 0) {\n    [d, r] = divrem(r, p)\n    result[p] = d\n  }\n  p = 3\n  if (r % p === 0) {\n    [d, r] = divrem(r, p)\n    result[p] = d\n  }\n  p = 5\n  while (p * p <= r) {\n    if (r % p === 0) {\n      [d, r] = divrem(r, p)\n      result[p] = d\n    }\n    if (r === 1) {\n      return result\n    }\n    p += 2\n    if (r % p === 0) {\n      [d, r] = divrem(r, p)\n      result[p] = d\n    }\n    if (r === 1) {\n      return result\n    }\n    p += 4\n  }\n  if (r !== 1) {\n    result[r] = 1\n  }\n  return result\n}\n\nexport const listFactors = function(n, {include1=false, includeN=false}) {\n  let result = []\n  const start = include1 ? 1 : 2\n  const stop = includeN ? n : n-1\n  for (let i = start; i <= stop; i++) {\n    if (n % i === 0) {\n      result.push(i)\n    } \n  }\n  return result\n}\n","import Random from 'random-js'\n\nexport class Randomizer {\n  constructor(seed=null) {\n    this.seed = seed\n    this.engine = Random.engines.mt19937()\n    this.reset()\n  }\n\n  reset() {\n    if (this.seed !== null) {\n      this.engine.seed(this.seed)\n    } else {\n      this.engine.autoSeed()\n    }\n  }\n\n  randint(min, max) {\n    return Random.integer(min, max)(this.engine)\n  }\n\n  real(min, max, inclusive=false) {\n    return Random.real(min, max, inclusive)(this.engine)\n  }\n\n  random(max=1.0) {\n    return this.real(0, max, false)\n  }\n\n  shuffle(array, first) {\n    if (first !== undefined) {\n      let shuffled = Random.shuffle(this.engine, array.slice(1))\n      return [...shuffled.slice(0,first), array[0], ...shuffled.slice(first)]\n    } else {\n      return Random.shuffle(this.engine, array)\n    }\n  }\n\n  shuffleRange(start, end) {\n    let range = []\n    for (let i = start; i <= end; i++) range.push(i);\n    return this.shuffle(range)\n  }\n\n  choice(array) {\n    return Random.pick(this.engine, array)\n  }\n\n  sample(pop, size) {\n    return Random.sample(this.engine, pop, size)\n  }\n\n  sampleRange(start, end, size) {\n    let range = []\n    for (let i = start; i <= end; i++) range.push(i);\n    return this.sample(range, size)\n  }\n\n  poprandom(array) {\n    const i = this.randint(0,array.length-1)\n    return array.splice(i,1)[0]\n  }\n}\n\n","//import math from 'mathjs'\nimport { Randomizer } from './tools/random_randomjs'\nimport { defaultsDeep } from 'lodash'\n\nlet randomSeedGenerator = new Randomizer()\n\nclass QGen {\n  constructor(props={}) {\n    this.params = props.params || {}\n    //this.randomSeed = props.randomSeed || math.randomInt(0, math.pow(2,32))\n    this.randomSeed = props.randomSeed || randomSeedGenerator.randint(0, Math.pow(2, 32)-1)\n    this.random = new Randomizer(this.randomSeed)\n  }\n\n  static register() {\n    let result = {name: this.name}\n    return {...result, ...this.info}\n  }\n\n  getOptions() {\n    return this.constructor.options\n  }\n\n  _specialCaseValues(k, v) {\n    if (Array.isArray(v)) {\n      if (k === 'answer') {\n        return {type: 'answerchoices', data: v}\n      }\n      return {type: 'list', data: {items: v}}  \n    }\n    return v\n  }\n\n  _specialCaseKeys(k, v) {\n    //if (k === 'answer') return '_answer'\n    return k\n  }\n\n  setRandomSeed(seed) {\n    this.randomizer.seed(seed)\n  }\n\n  _getParams() {\n    let result = ({})\n    for (const k in this.constructor.params) {\n      if (this.params[k] !== undefined) {\n        result[k] = this.params[k]\n      } else {\n        result[k] = this.constructor.params[k].default\n      }\n    }\n    return result\n  }\n\n  output() {\n    const out = this.generate(this._getParams())\n    let content = {}\n    for (const k in out) {\n      content[this._specialCaseKeys(k)] = this._specialCaseValues(k, out[k])\n    }\n    return {\n      type: 'question',\n      data: content,\n      options: this.getOptions(),\n    }\n  }\n}\n\nexport default QGen","import math from 'mathjs'\nimport Polynomial from 'polynomial'\nimport fraction from 'fraction.js'\nimport { range, gcd, listFactors } from './tools/handystuff'\nimport QGen from './QGen'\nimport _ from 'lodash'\n\n\n/***** Handy Things *********/\n\nfunction randomPolynomialCoefficients({degree, maxCoefficient=12, terms='auto'}={}) {\n\tconst rd = this.random\n\tif (terms === 'auto') {\n\t\tterms = degree + 1\n\t}\n\tlet p = {}\n\tconst whichterms = rd.sample(range(0,degree), terms-1)\n\tp[degree] = rd.randint(1, maxCoefficient)\n\n\tfor (const d of whichterms) {\n\t\tp[d] = rd.randint(1, maxCoefficient) * rd.choice([-1,1])\n\t}\n\treturn p\n}\n\nfunction randomPolynomial(props={}) {\n\tconst p = randomPolynomialCoefficients.call(this, props)\n\treturn new Polynomial(p)\n}\n\n\n\n/***********************\n\n\nQuestion Generators \n\n\n************************/\n\n\nexport class SolveQuadratic extends QGen {\n\tstatic info = {\n\t\tname: 'Solve Quadratic',\n\t\tdescription: 'Solve a quadratic equation with integer solutions.'\n\t}\n\n\tstatic options = {\n\t\tlayout: [['instructions', 'question'], ['answer', 'diagram']]\n\t}\n\n\n\tgenerate(props) {\n\t\tconst rd = this.random\n\t\tconst [r1, r2] = rd.sample(range(-12,13), 2)\n\n\t\tconst a = 1\n\t\tconst b = -(r1 + r2)\n\t\tconst c = r1 * r2\n\n\t\tconst poly = new Polynomial({2: a, 1: b, 0: c})\n\t\tconst rand = randomPolynomial.call(this, {degree: 2, maxCoefficient: 7, terms: 2})\n\t\t\n\t\tconst [left, right] = rd.random() < 0.5 ? [poly.add(rand), rand] : [rand, poly.add(rand)]\n\n\t\tfunction fmtAns(ans) {\n\t\t\treturn'$$x = ' + ans.sort((a, b) => a > b).join(', ') + '$$'\n\t\t}\n\n\t\treturn {\n\t\t\tinstructions: 'Determine the values of $$x$$ that satisfy the equation:',\n\t\t\tquestion: '$$' + left.toLatex() + ' = ' + right.toLatex() +'$$',\n\t\t\tanswer: fmtAns([r1, r2]),\n\t\t}\n\t}\n}\n\nexport class FactorQuadraticHard extends QGen {\n\tstatic info = {\n\t\tname: 'Factor Quadratic (Hard)',\n\t\tdescription: 'Factor a quadratic using AC method.'\n\t}\n\n\tstatic options = {\n\t\tlayout: [['instructions', 'question'], ['answer', 'diagram']],\n\t}\n\n\tgenerate(params) {\n\t\tlet rd = this.random\n\n\t\tconst a1 = rd.randint(2,5)\n\t\tconst a2 = rd.randint(2,8-a1)\n\n\t\tlet b1 = rd.randint(1,14-a2)\n\t\twhile (gcd(a1, b1) !== 1) {\n\t\t\tb1 = rd.randint(1,14-a2)\n\t\t}\n\t\tb1 *= rd.choice([-1,1])\n\n\t\t\n\t\tlet b2 = rd.randint(2, 14-a1)\n\t\twhile (gcd(a2, b2) !== 1) {\n\t\t\tb2 = rd.randint(1,14-a1)\n\t\t}\n\t\tb2 *= rd.choice([-1,1])\n\n\t\t// prevent difference of squares\n\t\twhile ((a1 === a2 && b1 === -b2) || (a1 === -a2 && b1 === b2)) {\n\t\t\tb2 = rd.randint(2, 14-a1)\n\t\t\twhile (gcd(a2, b2) !== 1) {\n\t\t\t\tb2 = rd.randint(1,14-a1)\n\t\t\t}\n\t\t\tb2 *= rd.choice([-1,1])\n\t\t}\n\n\t\tconst p1 = new Polynomial({1: a1, 0: b1})\n\t\tconst p2 = new Polynomial({1: a2, 0: b2})\n\n\t\tconst a = a1 * a2\n\t\tconst b = a1 * b2 + a2 * b1\n\t\tconst c = b1 * b2\n\n\t\tconst poly = new Polynomial({2: a, 1: b, 0: c})\n\n\t\tconst answer = `$$(${p1.toLatex()})(${p2.toLatex()})$$`\n\n\t\treturn {\n\t\t\tinstructions: 'Rewrite as the product of linear factors:',\n\t\t\tquestion: `$$${poly.toLatex()}$$`,\n\t\t\tanswer: answer,\n\t\t}\n\t}\n}\n\n\nexport class RationalGraph extends QGen {\n\tstatic info = {\n\t\tname: 'Rational Graph',\n\t\tdescription: 'Determine the equation from the graph of a rational function'\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\n\t\tconst makeFunction = (top, bottom) => {\n\t\t\tlet f = function(x) {\n\t\t\t\tlet n = 1\n\t\t\t\tlet d = 1\n\t\t\t\tfor (const r of top) {\n\t\t\t\t\tn *= (x - r)\n\t\t\t\t}\n\t\t\t\tfor (const r of bottom) {\n\t\t\t\t\td *= (x - r)\n\t\t\t\t}\n\t\t\t\treturn n / d\n\t\t\t}\n\t\t\treturn f\n\t\t}\n\n\t\tfunction generateValues() {\n\t\t\tlet vals = rd.sample(range(1, 9), 4).map(v => rd.random() < 0.5 ? v : -v)\n\t\t\tlet roots = [vals[0]]\n\t\t\tlet holes = [vals[1]]\n\t\t\tlet asymptotes = [vals[2]]\n\t\t\tif (rd.random() < 0.5) {\n\t\t\t\tasymptotes.push(vals[3])\n\t\t\t} else if (rd.random() < 0.8) {\n\t\t\t\tholes.push(vals[3])\n\t\t\t}\n\t\t\treturn ({roots, holes, asymptotes})\n\t\t}\n\n\t\tfunction allHolesInRange(holes, f) {\n\t\t\tfor (const r of holes) {\n\t\t\t\tif (f(r) <= -10 || f(r) >= 10) {\n\t\t\t\t\treturn false\n\t\t\t\t} \n\t\t\t}\n\t\t\treturn true\n\t\t}\n\n\t\tlet roots, holes, asymptotes, f\n\t\tlet isGood = false\n\n\t\twhile (!isGood) {\n\t\t\t({roots, holes, asymptotes} = generateValues())\n\t\t\tf = makeFunction(roots, asymptotes)\n\t\t\tisGood = allHolesInRange(holes, f)\n\t\t}\n\t\t\n\n\t\tconst graph = [\n\t\t\t'CartesianPlane',\n\t\t\t{span: [-10,-10,10,10], autogrid: true, height: '2.2in'},\n\t\t\t[\n\t\t\t\t'RationalFunction',\n\t\t\t\t{\n\t\t\t\t\tdomain: [-12,12],\n\t\t\t\t\trange: [-12,12],\n\t\t\t\t\troots, holes, asymptotes,\n\t\t\t\t}\n\t\t\t]\n\t\t]\n\n\n\t\tfunction fmtAns(ans) {\n\t\t\tlet numer = ''\n\t\t\tfor (const r of ans.top.sort((a,b) => b-a)) {\n\t\t\t\tnumer += '(' + math.simplify(`x - ${r}`).toString() + ')'\n\t\t\t}\n\t\t\tlet denom = ''\n\t\t\tfor (const r of ans.bottom.sort((a,b) => b-a)) {\n\t\t\t\tdenom += '(' + math.simplify(`x - ${r}`).toString() + ')'\n\t\t\t}\n\t\t\treturn `$$y = \\\\displaystyle\\\\frac{ ${numer} }{ ${denom} }$$`\n\t\t}\n\n\t\tconst answer = {top: [...roots, ...holes], bottom: [...holes, ...asymptotes]}\n\n\t\tconst wrongs = [\n\t\t\t{top: [...holes, ...asymptotes], bottom: [...holes, ...roots]},\n\t\t\t{top: [...roots], bottom: [...holes, ...asymptotes]},\n\t\t\t{top: [...roots, ...holes].map(r => -r), bottom: [...holes, ...asymptotes].map(r => -r)},\n\t\t\t{top: [...holes, ...asymptotes].map(r => -r), bottom: [...holes, ...roots].map(r => -r)},\n\t\t]\n\n\t\tconst i = rd.randint(0,wrongs.length)\n\t\tconst choices = rd.shuffle([answer, ...wrongs].map(fmtAns), i)\n\n\t\treturn {\n\t\t\tinstructions: 'Choose the equation that best describes the graph shown.',\n\t\t\tfreeResponse: {\n\t\t\t\tinstructions: 'Write the equation that best describes the graph shown.'\n\t\t\t},\n\t\t\tdiagram: {\n\t\t\t\ttype: 'vectorgraphic',\n\t\t\t\tdata: graph,\n\t\t\t},\n\t\t\tanswer: {\n\t\t\t\tcorrect: fmtAns(answer),\n\t\t\t\tchoices: choices,\n\t\t\t\tcorrectIndex: i,\n\t\t\t\tprompt: [{label: '$$y = $$', height: '8em', width: '20em'}],\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n\nexport class FindIntervals extends QGen {\n\tstatic info = {\n\t\tname: 'Intervals - Either',\n\t\tdescription: 'Identify intervals over which a graph is increasing or decreasing'\n\t}\n\n\tstatic params = {\n\t\ttoFind: {\n\t\t\tlabel: 'Type of interval to find',\n\t\t\ttype: 'multipleselect',\n\t\t\toptions: [\n\t\t\t\t{value: 'inc', label: 'increasing'}, \n\t\t\t\t{value: 'dev', label: 'decreasing'}\n\t\t\t],\n\t\t\tdefault: ['inc', 'dec'],\n\t\t},\n\t\tstyle: {\n\t\t\tlabel: 'Graph style',\n\t\t\ttype: 'select',\n\t\t\toptions: ['jagged', 'smooth'],\n\t\t\tdefault: 'smooth'\n\t\t},\n\t\tpoints: {\n\t\t\tlabel: 'Mark points',\n\t\t\ttype: 'bool',\n\t\t\tdefault: false,\n\t\t}\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\n\t\tconst toFind = rd.choice(params.toFind)\n\n\t\tconst xs = [-10]\n\t\tlet prev = -10\n\t\twhile (prev < 7) {\n\t\t\tconst next = rd.randint(prev+3, prev+5)\n\t\t\tif (next > 7) {\n\t\t\t\txs.push(8)\n\t\t\t} else {\n\t\t\t\txs.push(next)\n\t\t\t}\n\t\t\tprev = xs[xs.length-1]\n\t\t}\n\t\txs.push(10)\n\n\t\tconst yRange = [-4,4]\n\t\tconst ys = [rd.randint(...yRange)]\n\n\t\tlet maxConstantIntervals = 2\n\t\tlet which\n\t\twhile (ys.length < xs.length) {\n\t\t\tlet possible = []\n\t\t\tconst prev = ys[ys.length-1]\n\t\t\tif (which !== 'dec' & prev >= yRange[0]+2) {\n\t\t\t\tpossible.push('dec')\n\t\t\t}\n\t\t\tif (which !== 'inc' & prev <= yRange[1]-2) {\n\t\t\t\tpossible.push('inc')\n\t\t\t}\n\t\t\tif (which !== 'const' & maxConstantIntervals > 0) {\n\t\t\t\tpossible.push('const')\n\t\t\t\tmaxConstantIntervals -= 1\n\t\t\t}\n\t\t\twhich = rd.choice(possible)\n\t\t\tif (which === 'dec') {\n\t\t\t\tys.push(rd.randint(Math.max(yRange[0], prev-7), prev-2))\n\t\t\t} else if (which === 'inc') {\n\t\t\t\tys.push(rd.randint(prev+2, Math.min(yRange[1], prev+7)))\n\t\t\t} else {\n\t\t\t\tys.push(prev)\n\t\t\t}\n\t\t}\n\n\t\tif (rd.random() < 0.5) {\n\t\t\tys.reverse()\n\t\t}\n\n\t\tconst intervals = []\n\t\tfor (let i = 1; i < ys.length; i++) {\n\t\t\tif (ys[i-1] < ys[i]) {\n\t\t\t\tintervals.push('inc')\n\t\t\t} else if (ys[i-1] === ys[i]) {\n\t\t\t\tintervals.push('const')\n\t\t\t} else {\n\t\t\t\tintervals.push('dec')\n\t\t\t}\n\t\t}\n\n\t\tlet answer = []\n\t\tlet wrongAnswer1 = []  // ys insteas of xs\n\t\tlet wrongAnswer2 = []  // points instead of xs\n\t\tlet wrongAnswer3 = []  // switch dec/inc\n\t\tlet wrongAnswer4 = []  // switch dec/inc, ys instead of xs\n\n\t\tlet points = [\n\t\t\t{x: xs[0], y: ys[0]},\n\t\t]\n\t\tfor (let i=0; i < intervals.length; i++) {\n\t\t\tpoints.push({x: xs[i+1], y: ys[i+1]})\n\t\t\tif (intervals[i] === toFind) {\n\t\t\t\tanswer.push({start: xs[i], stop: xs[i+1]})\n\t\t\t\twrongAnswer1.push({start: ys[i], stop: ys[i+1]})\n\t\t\t\twrongAnswer2.push({start: xs[i], stop: ys[i]})\n\t\t\t\twrongAnswer2.push({start: xs[i+1], stop: ys[i+1]})\n\t\t\t} else if (intervals[i] === {'inc': 'dec', 'dec': 'inc'}[toFind]) {\n\t\t\t\twrongAnswer3.push({start: xs[i], stop: xs[i+1]})\n\t\t\t\twrongAnswer4.push({start: ys[i], stop: ys[i+1]})\n\t\t\t}\n\t\t}\n\n\t\tconst effects = params.style === 'smooth' ? {interpolate: 'cubic-h'} : {}\n\t\tconst markers = params.points ? {mid: 'point'} : undefined\n\t\t\n\t\tconst diagram = [\n\t\t\t\"CartesianPlane\",\n\t\t\t{\n\t\t\t\tspan: [-10,yRange[0]-1,10,yRange[1]+1], \n\t\t\t\tautogrid: true,\n\t\t\t\theight: '1.3in', \n\t\t\t},\n\t\t\t[\"Path\", { points, effects, markers }]\n\t\t]\n\t\t\n\t\tconst fullName = {inc: 'increasing', dec: 'decreasing'}[toFind]\n\n\t\tfunction fmtAns(ans) {\n\t\t\tif (ans.length === 0) {\n\t\t\t\treturn 'None'\n\t\t\t}\n\t\t\treturn '$$' + ans.map((int) => `(${int.start}, ${int.stop})`).join(', ') + '$$'\n\t\t}\n\n\t\tconst wrongs = [wrongAnswer1, wrongAnswer2, wrongAnswer3, wrongAnswer4]\n\t\tconst answerIndex = rd.randint(0, wrongs.length)\n\t\tconst choices = rd.shuffle([answer, ...wrongs], answerIndex).map(fmtAns)\n\n\t\treturn ({\n\t\t\tquestion: `Determine the intervals over which the function is ***${fullName}***.`,\n\t\t\tdiagram: {\n\t\t\t\ttype: 'vectorgraphic',\n\t\t\t\tdata: diagram,\n\t\t\t},\n\t\t\tanswer: {\n\t\t\t\tcorrect: fmtAns(answer),\n\t\t\t\tchoices: choices,\n\t\t\t\tcorrectIndex: answerIndex,\n\t\t\t\tprompt: [{width: '2in'}]\n\t\t\t}\n\t\t})\n\t}\n}\n\nexport class IncreasingIntervals extends FindIntervals {\n\tstatic info = {\n\t\tname: 'Intervals - Increasing',\n\t\tdescription: 'Identify intervals over which a graph is increasing',\n\t}\n\n\tstatic params = {\n\t\ttoFind: {\n\t\t\tlabel: 'Type of interval to find',\n\t\t\ttype: 'multipleselect',\n\t\t\toptions: [\n\t\t\t\t{value: 'inc', label: 'increasing'}, \n\t\t\t\t{value: 'dev', label: 'decreasing'}\n\t\t\t],\n\t\t\tdefault: ['inc'],\n\t\t},\n\t\tstyle: {\n\t\t\tlabel: 'Graph style',\n\t\t\ttype: 'select',\n\t\t\toptions: ['jagged', 'smooth'],\n\t\t\tdefault: 'smooth'\n\t\t},\n\t\tpoints: {\n\t\t\tlabel: 'Mark points',\n\t\t\ttype: 'bool',\n\t\t\tdefault: false,\n\t\t}\n\t}\n}\n\nexport class DecreasingIntervals extends FindIntervals {\n\tstatic info = {\n\t\tname: 'Intervals - Decreasing',\n\t\tdescription: 'Identify intervals over which a graph is decreasing',\n\t}\n\n\tstatic params = {\n\t\ttoFind: {\n\t\t\tlabel: 'Type of interval to find',\n\t\t\ttype: 'multipleselect',\n\t\t\toptions: [\n\t\t\t\t{value: 'inc', label: 'increasing'}, \n\t\t\t\t{value: 'dev', label: 'decreasing'}\n\t\t\t],\n\t\t\tdefault: ['dec'],\n\t\t},\n\t\tstyle: {\n\t\t\tlabel: 'Graph style',\n\t\t\ttype: 'select',\n\t\t\toptions: ['jagged', 'smooth'],\n\t\t\tdefault: 'smooth'\n\t\t},\n\t\tpoints: {\n\t\t\tlabel: 'Mark points',\n\t\t\ttype: 'bool',\n\t\t\tdefault: false,\n\t\t}\n\t}\n}\n\n\nclass AngleMeasure extends QGen {\n\tstatic info = {\n\t\tname: 'Angle Measure',\n\t\tdescription: '',\n\t}\n\n\tgenerate(params) {\n\n\t\tconst translate = (a, b) => [a[0] + b[0], a[1]+ b[1]]\n\t\tconst difference = (a, b) => [a[0] - b[0], a[1] - b[1]]\n\t\t//const complexMult = (a, b) => [a[0] * b[0] - a[1] * b[1], a[1] * b[0] + a[0] * b[1]]\n\t\t/*\n\t\tconst rotate = (pt, angle, center=[0,0]) => {\n\t\t\tconst radians = angle * Math.PI / 180\n\t\t\tconst rotator = [Math.cos(radians), Math.sin(radians)]\n\t\t\tconst recenter = difference(pt, center)\n\t\t\treturn translate(complexMult(recenter, rotator), center)\n\t\t}\n\t\t*/\n\n\t\tconst rd = this.random\n\n\t\tconst angle1 = rd.randint(35, 145)\n\n\t\tconst rotateBy = rd.randint(0, 359)\n\t\t//let diagram = new Canvas(-20, -20, 20, 20, {height: '1.5in'})\n\t\t//let graph = new PlotElement('g', {transform: `rotate(${rotateBy})`})\n\n\t\tconst intersect1 = [-5,0]\n\t\tconst r = 10\n\t\tconst pp = [r * Math.cos(angle1 * Math.PI / 180), r * Math.sin(angle1 * Math.PI / 180)]\n\t\tconst top1 = translate(intersect1, pp)\n\t\tconst bottom1 = difference(intersect1, pp)\n\n\t\tconst intersect2 = [intersect1[0] + r, intersect1[1]]\n\t\tconst top2 = [top1[0] + r, top1[1]]\n\t\tconst bottom2 = [bottom1[0] + r, bottom1[1]]\n\n\t\tconst left = [intersect1[0] - r, intersect1[1]]\n\t\tconst right = [intersect2[0] + r, intersect2[1]]\n\n\t\t\n\t\tconst diagram = [\n\t\t\t'CartesianPlane',\n\t\t\t{span: [-20,-20,20,20], height: '3in', autogrid: false, style: 'geom'},\n\t\t\t[\n\t\t\t\t'Rotate', \n\t\t\t\t{degrees: rotateBy},\n\t\t\t\t['GeomLine', {points: [left, right]}],\n\t\t\t\t['GeomLine', {points: [top1, bottom1]}],\n\t\t\t\t['GeomLine', {points: [top2, bottom2]}],\n\t\t\t\t['Point', {coords: intersect1}],\n\t\t\t\t['Point', {coords: intersect2}]\n\t\t\t]\n\t\t]\n\n\n\t\treturn {\n\t\t\tinstructions: 'Work in progress',\n\t\t\tdiagram: {\n\t\t\t\t'type': 'vectorgraphic',\n\t\t\t\t'data': diagram,\n\t\t\t}\n\t\t}\n\n\t}\n}\n\nexport class RationalZeroTheorem extends QGen {\n\tstatic info = {\n\t\tname: 'Rational Zero Theorem',\n\t\tdescription: 'State possible rational zeros for a polynomial function.'\n\t}\n\n\tstatic options = {\n\t\tanswerchoices: {\n\t\t\tlistDirection: 'horizontal'\n\t\t}\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\t\tlet primes = rd.sample([1, 2, 3, 5, 7, 11], 4)\n\t\tfor (const i in primes) {\n\t\t\tif (primes[i] === 1) {\n\t\t\t\tif (i === 0 | i === 2) {\n\t\t\t\t\tprimes[i+1] = Math.pow(primes[i+1], rd.randint(1,2))\n\t\t\t\t} else {\n\t\t\t\t\tprimes[i-1] = Math.pow(primes[i-1], rd.randint(1,2))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (const i in primes) {\n\t\t\tif (primes[i] === 2 | primes[i] === 3) {\n\t\t\t\tprimes[i] = Math.pow(primes[i], rd.randint(1,2))\n\t\t\t}\n\t\t}\n\t\tconst leading_coeff = primes[0] * primes[1]\n\t\tconst trailing_coeff = primes[2] * primes[3]\n\t\tconst degree = rd.randint(3,6)\n\t\tconst num_coeffs = rd.randint(3,degree)\n\t\tlet poly = randomPolynomialCoefficients.call(this, {degree: degree, terms: num_coeffs})\n\t\tpoly[0] = trailing_coeff\n\t\tpoly[degree] = leading_coeff\n\t\tconst f = new Polynomial(poly)\n\n\t\tconst question = '$$f(x) = ' + f.toLatex() + '$$'\n\t\t\n\t\tconst correctNumerators = listFactors(trailing_coeff, {include1: true, includeN: true})\n\t\tconst correctDenominators = listFactors(leading_coeff, {include1: true, includeN: true})\n\t\t\n\t\tconst allPossibleZeros = []\n\t\tfor (const a of correctNumerators) {\n\t\t\tfor (const b of correctDenominators) {\n\t\t\t\tallPossibleZeros.push(`${a}/${b}`)\n\t\t\t}\n\t\t}\n\n\t\tconst numCorrect = rd.choice([0,1,1,2,2,2,2,3,3,4])\n\t\tconst correctAnswers = []\n\t\twhile (correctAnswers.length < numCorrect) {\n\t\t\tconst [a, b] = [rd.choice(correctNumerators), rd.choice(correctDenominators)]\n\t\t\tconst s = `${a}/${b}`\n\t\t\tif (!_.includes(correctAnswers, s)) {\n\t\t\t\tcorrectAnswers.push(s)\n\t\t\t}\n\t\t}\n\n\t\tconst wrongAnswers = []\n\t\twhile (wrongAnswers.length < 4-numCorrect) {\n\t\t\tconst [a,b] = [rd.choice(correctDenominators), rd.choice(correctNumerators)]\n\t\t\tconst s = `${a}/${b}`\n\t\t\tif (!(s == '1/1') && !_.includes(wrongAnswers, s)) {\n\t\t\t\twrongAnswers.push(s)\n\t\t\t}\n\t\t}\n\n\t\tconst allChoices = [...correctAnswers, ...wrongAnswers]\n\t\tconst shuffled = []\n\t\tconst correctIndex = numCorrect ? [] : 4\n\t\tfor (let i = 0; i < 4; i++) {\n\t\t\tconst a = rd.poprandom(allChoices)\n\t\t\tif (_.includes(correctAnswers, a)) {\n\t\t\t\tcorrectIndex.push(i)\n\t\t\t}\n\t\t\tshuffled.push(a)\n\t\t}\n\n\t\treturn {\n\t\t\tinstructions: \"Which of the following are possible zeros of the function according to the _Rational Zero Theorem_? Choose ***all*** that apply.\",\n\t\t\tquestion: question,\n\t\t\tanswer: {\n\t\t\t\tcorrect: allPossibleZeros.map(s => `$$${fraction(s).toLatex()}$$`).join(', '),\n\t\t\t\tchoices: [...shuffled.map(s => `$$\\\\displaystyle ${fraction(s).toLatex()}$$`), 'None of these'],\n\t\t\t\tcorrectIndex: correctIndex,\n\t\t\t},\n\t\t\tfreeResponse: {\n\t\t\t\tinstructions: \"List all possible rational zeros of the function (according to the _Rational Zero Theorem_).\"\n\t\t\t}\n\t\t}\n\t}\n}\n","\n\nconst test = function(f, x, y) {\n  const r = f({x: x, y: y})\n  if (r > 0) { return 'gt' }\n  if (r < 0) { return 'lt'}\n  return 'eq'\n}\n\nconst contourPresent = function(f, x, y, d) {\n  const p = d / 30\n  let q, r, s, t\n  try {\n    q = test(f, x, y)\n  } catch(e) {\n    q = test(f, x+p, y+p)\n  }\n  \n  try {\n    r = test(f, x+d, y)\n  } catch(e) {\n    r = test(f, x+d-p, y+p)\n  }\n  if (r !== q) return true\n\n  try {\n    s = test(f, x+d, y+d)\n  } catch(e) {\n    s = test(f, x+d-p, y+d-p)\n  }\n  if (s !== q) return true\n\n  try {\n    t = test(f, x, y+d)\n  } catch(e) {\n    t = test(f, x+p, y+d-p)\n  }\n  if (t !== q) return true\n\n  return false\n}\n\n\nconst subdivide = function(f, x, y, d, depth, searchDepth) {\n  const hd = d / 2\n  const props = [hd, depth-1, searchDepth-1]\n  return [\n    ...createTree(f, x, y, ...props),\n    ...createTree(f, x+hd, y, ...props),\n    ...createTree(f, x+hd, y+hd, ...props),\n    ...createTree(f, x, y+hd, ...props)\n  ]\n}\n\nconst createTree = function(f, x, y, d, depth, searchDepth) {\n  if (searchDepth > 0) {\n    return subdivide(f, x, y, d, depth, searchDepth)\n  } else {\n    if (contourPresent(f, x, y, d)) {\n      if (depth > 0) {\n        return subdivide(f, x, y, d, depth, searchDepth)\n      } else {\n        return [{x: x+d/2, y: y+d/2}]\n      }\n    } else {\n      return []\n    }\n  }\n}\n\n\nclass QuadTree {\n\tconstructor({left, right, x=-10, y=-10, d=20, depth=10, searchDepth=6}) {\n    this.f = p => left(p) - right(p)\n\t\tthis.x = x\n\t\tthis.y = y\n\t\tthis.d = d\n\t\tthis.depth = depth\n\t\tthis.searchDepth = searchDepth\n\t}\n\n\tcalcPoints() {\n\t\treturn createTree(this.f, this.x, this.y, this.d, this.depth, this.searchDepth)\n\t}\n}\n\nexport {\n  QuadTree,\n  createTree,\n}","import { createTree } from './QuadTree'\n\n\nexport function makesrange(min, max, step=1, anchor) {\n\tif (anchor === undefined) {\n\t\tanchor = min;\n\t} else if (anchor < min) {\n\t\tanchor = min;\n\t} else if (anchor > max) {\n\t\tanchor = max;\n\t}\n\tlet r = [anchor,];\n\tlet v = anchor - step;\n\twhile (v >= min) {\n\t\t\tr.splice(0, 0, v);\n\t\t\tv -= step;\n\t}\n\tv = anchor + step;\n\twhile (v <= max) {\n\t\t\tr.push(v);\n\t\t\tv += step;\n\t}\n\treturn r;\n}\n\nexport function round(n, d) {\n\treturn Math.round(d * Math.pow(10,d)) / Math.pow(10,d)\n}\n\nconst clipdef = ({span, padX, padY, clipID}) => {\n\tconst [x0, y0, x1, y1] = span\n\tconst w = x1 - x0, h = y1 - y0\n\treturn (\n\t\t[\n\t\t\t'defs'\n\t\t\t[\n\t\t\t\t'clipPath', {id: `clip-path-${clipID}`},\n\t\t\t\t[\n\t\t\t\t\t'rect', {x: x0-padX, y: y0-padY, width: w+2*padX, height: h+2*padY}\n\t\t\t\t]\n\t\t\t]\n\t\t]\n\t)\n}\n\nlet clipCounter = 0\n\nexport const cartesianPlane = function(props, ...children) {\n\tconst {span, autogrid=false, padding, ...otherprops} = props\n  const [x0, y0, x1, y1] = span\n  const xpad = (x1 - x0) * .1\n  const ypad = (y1 - y0) * .1\n  const clipPadX = padding === undefined ? (x1 - x0) * .005 : padding\n  const clipPadY = padding === undefined ? (y1 - y0) * .005 : padding\n  const w = x1 - x0\n  const h = y1 - y0\n  const viewBox = `${x0-xpad} ${-y1-ypad} ${w+2*xpad} ${h+2*ypad}`\n\n  const clipID = ++clipCounter\n\n  return (\n\t\t[\n\t\t\t'svg', {viewBox, className: 'plot-cartesian-plane', ...otherprops},\n\t\t\tclipdef({span, padX: clipPadX, padY: clipPadY, clipID}),\n\t\t\t[\n\t\t\t\t'g', {style: {transform: 'scale(1,-1)'}},\n\t\t\t\t(autogrid ? grid({x: {start: x0, end: x1}, y: {start: y0, end: y1}}) : null),\n\t\t\t\t[\n\t\t\t\t\t'g', {clipPath: `url(#clip-path-${clipID})`},\n\t\t\t\t\t...children,\n\t\t\t\t]\n\t\t\t]\n\t\t]\n\t)\n}\n\n\nexport const grid = function(props) {\n\tconst x = {step: 1, axis: 0}\n  const y = {step: 1, axis: 0}\n  Object.assign(x, props.x)\n  Object.assign(y, props.y)\n\n\tlet t\n  const xvals = []\n  if (x.step) {\n    t = x.start\n    while (t <= x.end) {\n      xvals.push(t);\n      t += x.step\n    }\n  }\n\n  const yvals = []\n  if (y.step) {\n    t = y.start\n    while (t <= y.end) {\n      yvals.push(t);\n      t += y.step\n    }\n\t}\n\n\tconst xmap = v => ['path', {\n\t\tclassName: 'plot-grid-line', \n\t\td: `M${v},${y.start}V${y.end}`,\n\t\tvectorEffect: 'non-scaling-stroke',\n\t}]\n\n\tconst ymap = v => ['path', {\n\t\tclassName: 'plot-grid-line',\n\t\td: `M${x.start},${v}H${x.end}`,\n\t\tvectorEffect: 'non-scaling-stroke',\n\t}]\n\t\n\treturn ['g', \n\t\t...xvals.map(xmap),\n\t\t...yvals.map(ymap),\n\t\t['path', {className: 'plot-axis', d: `M${x.axis},${y.start}V${y.end}`, vectorEffect: 'non-scaling-stroke'}],\n\t\t['path', {className: 'plot-axis', d: `M${x.start},${y.axis}H${x.end}`, vectorEffect: 'non-scaling-stroke'}],\n\t]\n}\n\nexport const point = (props) => {\n\tconst {x, y, coords, ...otherprops} = props\n\tconst pt = coords ? `${coords[0]},${coords[1]}` : `${x},${y}`\n  const d = `M${pt}L${pt}z`\n  return [\n\t\t'path', \n\t\t{d, className: 'plot-path-point', vectorEffect: 'non-scaling-stroke'},\n\t]\n}\n\nexport const hole = (props) => {\n  const {x, y, coords, inner, outer} = props\n  const d = `M${coords ? `${coords[0]},${coords[1]}` : `${x},${y}`}z`\n  return [\n\t\t'path',\n\t\t{d, className: 'plot-hole', vectorEffect: 'non-scaling-slope'},\n\t]\n}\n\n\nconst defaultMarker = p => ['circle', {cx: p.x, cy: p.y, r: '0.05'}]\n\nexport const quadTreePlot = function(\n\tquadtreeprops, \n\t{marker=defaultMarker, style={fill: 'rgba(200,0,100,0.6)'}}={}\n) {\n\tconst {f, x, y, d, depth, searchDepth} = quadtreeprops\n\tconst points = createTree(f, x, y, d, depth, searchDepth)\n\treturn [\n\t\t'g', {style: style},\n\t\t...points.map(marker),\n\t]\n}\n","import QGen from './QGen'\nimport * as svg from './tools/svgplot'\nimport { createTree } from './tools/QuadTree'\n\n\nexport class RationalPlot extends QGen {\n  static info = {\n    name: 'RationalFunction',\n    description: 'test vectorgraphic RationalFunction'\n  }\n\n  generate(params) {\n    const rd = this.random\n\n    const inv = rd.choice([true, false])\n\n    const numRoots = rd.randint(0,2)\n    const numAsymptotes = rd.randint(1,3)\n    const numHoles = rd.randint(0,2)\n    const total = numRoots + numAsymptotes + numHoles\n    const values = rd.sampleRange(-9,9,total)\n    const roots = values.slice(0,numRoots)\n    const asymptotes = values.slice(numRoots, numRoots+numAsymptotes)\n    const holes = values.slice(numRoots+numAsymptotes)\n    const domain = [-11,11]\n\n    const [x, y] = inv ? ['y', 'x'] : ['x', 'y']\n\n    let num = ''\n    let den = ''\n\n    for (const r of [...roots, ...holes].sort((a,b) => b-a)) {\n      if (r === 0) {\n        num = `${x}${num}`\n      } else if (r > 0) {\n        num = `${num}(${x}-${r})`\n      } else {\n        num = `${num}(${x}+${-r})`\n      }\n    }\n\n    for (const r of [...asymptotes, ...holes].sort((a,b) => b-a)) {\n      if (r === 0) {\n        den = `${x}${den}`\n      } else if (r > 0) {\n        den = `${den}(${x}-${r})`\n      } else {\n        den = `${den}(${x}+${-r})`\n      }\n    }\n\n    if (num === '') num = '1'\n    if (den === '') den = '1'\n\n    const graph = {\n      type: 'vectorgraphic',\n      data: [\n        'CartesianPlane',\n        {span: [-10,-10,10,10], autogrid: true, height: '2in'},\n        [\n          'Transforms',\n          {list: [inv ? 'invertXY' : 'none']},\n          [\n            'RationalFunction',\n            {roots, holes, asymptotes, domain}\n          ]\n        ]\n      ]\n    }\n\n    return {\n      question: `The graph of $$\\\\displaystyle ${y} = \\\\frac{${num}}{${den}}$$`,\n      diagram: graph,\n    }\n\n\n  }\n}\n\nexport class PolynomialPlot extends QGen {\n  static info = {\n    name: 'PolynomialFunction',\n    description: 'test vectorgraphic PolynomialFunction'\n  }\n\n  generate(params) {\n    const rd = this.random\n\n    const deg = rd.randint(2,7)\n    const inv = rd.choice([true, false])\n    let coeffs = rd.sample([-5,-4,-3,-2,-1,0,1,2,3,4,5], deg+1)\n    const denom = rd.randint(2, 21)\n    \n    if (coeffs[coeffs.length-1] === 0) {\n      coeffs = coeffs.slice(0,-1)\n    }\n    const [v, w] = inv ? ['y', 'x'] : ['x', 'y']\n    let tex = ''\n    for (let i = coeffs.length-1; i >= 0; i--) {\n      const c = coeffs[i]\n      const x = i === 0 ? '' : `${v}^{${i}}`\n      if (c > 0) {\n        if (i < coeffs.length-1) tex += '+';\n        if (c !== 1 || i === 0) tex += c;\n        tex += x\n      } else if (c < 0) {\n        if (c !== -1 || i === 0) {\n          tex += c\n        } else {\n          tex += '-'\n        }\n        tex += x\n      }\n    }\n\n    const transform = inv ? 'invertXY' : 'none'\n\n    const graph = [\n      'CartesianPlane',\n      {span: [-10,-10,10,10], autogrid: true, width: '2in'},\n      [\n        'Transforms',\n        {list: [transform]},\n        [\n          'PolynomialFunction',\n          {coefficients: coeffs.map(c => c/denom), domain: [-11,11]}\n        ]\n      ]\n    ]\n\n    const question = `The graph of a $$\\\\displaystyle ${w} = \\\\frac{1}{${denom}}(${tex})$$`\n\n    return {\n      question: question,\n      diagram: {\n        type: 'vectorgraphic',\n        data: graph,\n      },\n      answer: {\n        prompt: null,\n      }\n    }\n  }\n}\n\nexport class PlotStyling extends QGen {\n  static info = {\n    name: 'Plot Style',\n    description: 'test applying custom styling to vectorgraphic'\n  }\n\n  generate(params) {\n    const x = t => 9*Math.sin(t)\n    const y = t => 9*Math.sin(1.17*t)\n    const step = 0.1\n    let path1 = []\n    let path2 = []\n    let path3 = []\n    let path4 = []\n\n    let t = -36\n\n    while (t <= -18) {\n      path1.push([x(t), y(t)])\n      t += step\n    }\n    path1.push([x(t), y(t)])\n\n    while (t <= 0) {\n      path2.push([x(t), y(t)])\n      t += step\n    }\n    path2.push([x(t), y(t)])\n\n    while (t <= 18) {\n      path3.push([x(t), y(t)])\n      t += step\n    }\n    path3.push([x(t), y(t)])\n\n\n    while (t <= 36) {\n      path4.push([x(t), y(t)])\n      t += step\n    }\n    path4.push([x(t), y(t)])\n\n\n    return {\n      answer: {prompt: null},\n      question: 'The graph of $$(x,y) = (9\\\\sin(t), 9\\\\cos(1.17t))$$ for $$-36 \\\\leq t \\\\leq 36$$:',\n      diagram: {\n        type: 'vectorgraphic', \n        data: [\n          'CartesianPlane', \n          {\n            span: [-10,-10,10,10], \n            autogrid: false,\n            height: '3in',\n          },\n          [\n            'Layer', {},\n            [\n              'Style', {pathColor: 'hsl(340,70%,60%)'},\n              ['Path', {points: path4}],\n            ],\n            [\n              'Style', {pathColor: 'hsl(30,90%,50%)'},\n              ['Path', {points: path3}],\n            ],\n            [\n              'Style', {pathColor: 'hsl(80,90%,40%)'},\n              ['Path', {points: path2}],\n            ],\n            [\n              'Style', {pathColor: 'hsl(170,90%,40%)'},\n              ['Path', {points: path1}],\n            ]\n          ]\n        ]\n      }\n    }\n  }\n}\n\n\nexport class FontTest extends QGen {\n  static info = {\n    name: \"Font Test\"\n  }\n\n  generate(params) {\n    \n    const text = 'the quick brown fox jumps over the lazy dog 1234567890'\n\n    let lines = []\n\n    for (const chars of [text, text.toUpperCase()]) {\n      for (const x of ['', '_', '__', '___']) {\n        lines.push(`${x}${chars}${x}`)\n      }\n    }\n\n    lines.push('$$\\\\text{' + text + '}$$ (LaTeX)')\n\n    const dontConfuse = ['IJl1']\n\n    for (const d of dontConfuse) {\n      let line = []\n      for (let i = 0; i < d.length-1; i++) {\n        for (let j = i+1; j < d.length; j++) {\n          line.push(d[i] + d[j])\n        }\n      }\n      for (const x of ['', '_', '__', '___']) {\n        lines.push(`${x}${line.join(' ')}${x}`)\n      }\n    }\n\n    const question = [\n      '_y = ax^2^ + bx +c_', \n      '$$y = ax^2 + bx + c$$',\n    ].join('  \\n')\n\n    return {\n      instructions: lines.join('  \\n'),\n      question: question,\n    }\n  }\n}\n\nexport class QuadTreePlotTest extends QGen {\n  static info = {\n    name: 'QuadTree Plot Test',\n    description: 'Test alternate graphing algorithm'\n  }\n\n  generate(params) {\n    const f1 = ({x, y}) => Math.pow(Math.sin(x*x), 1)\n    const f2 = ({x, y}) => Math.pow(Math.cos(y*y), 1)\n    //const f3 = ({x, y}) => Math.pow(Math.sin(y*y), 1)\n    //const f4 = ({x, y}) => Math.pow(Math.cos(x*x), 1)\n\n    \n    let points = createTree(pt => f1(pt) - f2(pt), -7, -7, 14, 8, 7)\n\n    /*\n    const marker = ({x, y}) => ['circle', {cx: x, cy: y, r: '0.1'}]\n\n    const graph = svg.cartesianPlane(\n      {span: [-7,-7,7,7], autogrid: true, height: '5in', width: '5in'},\n      [\n        'g', {style: {fill: 'rgba(200,0,100,0.3)'}},\n        ...points.map(marker),\n      ]\n    )\n    */\n   const graph = [\n     'CartesianPlane',\n     {span: [-7,-7,7,7], autogrid: true, width: '2.5in'},\n     [\n       'ScatterPlot',\n       { points }\n     ]\n   ]\n\n\n\n    return {\n      answer: null,\n      question: \"The graph of $$\\\\sin(x^2) = \\\\cos(y^2)$$:\",\n      diagram: {\n        type: 'vectorgraphic',\n        data: graph,\n      }\n    }\n  }\n}\n\nclass MdTest extends QGen {\n\n  static info = {\n    name: 'Formatting Test',\n    description: 'Test markdown/latex'\n  }\n\n  generate(params) {\n\n    const mdtest = `# Heading\n\nRegular, _Italic_, __Bold__, ___Both___, ~sub~script, ^super^script,  \\`monospaced\\`,  \narrows: --> <-- ==> <== <--> <==>\n\nThe formula $$x = \\\\frac{-b \\\\pm \\\\sqrt{b^2 - 4ac}}{2a}$$\nis used to solve quadratic equations.\n\nThe Collatz Function:\n$$$f(n) = \\\\left\\\\{ \\\\begin{array}{rl}\n  n \\\\div 2 & \\\\text{ if $n$ is even} \\\\\\\\\n  3n+1 & \\\\text{ if $n$ is odd}\n\\\\end{array}\\\\right.$$$\n\n- Thing A\n  - Thing A.1\n  - Thing A.2\n- Thing B\n\ninput ($$x$$) | output ($$y$$)\n:-: | :-:\n-3  | 3\n-2  | -2 \n-1  | -5\n 0  | -6\n\n> All summations have a beginning, all effect has a  \n> story, all kindness begins with the sown seed.  \n> Thought buds toward radiance. The gospel of  \n> light is the crossroads of -- indolence, or action.  \n> \n> Be ignited, or be gone.\n\n[Hyperlink](https://npr.org)\n\n${'```'}python\ndef gcd(a, b):\n    if a == b or b == 0:\n        return a\n    elif a == 0:\n        return b\n    else:\n      return gcd(a, a-b) if a > b else gcd(b, b-a)\n${'```'}\n`\n\n    return ({\n      answer: null,\n      question: {\n        type: 'markdown',\n        data: mdtest,\n      },\n    })\n  }\n\n}\n\n\n\nexport class VegaLite extends QGen {\n  static info = {\n    name: 'Vega Lite',\n    description: 'test vega-lite render type'\n  }\n\n  generate(params) {\n    let points = []\n\n    const f = x => ({x: x, y: 6*x - x*x, function: 'f'})\n    const g = x => ({x: x, y: 5*Math.sin(x), function: 'g'})\n\n    let t = 0\n    while (t <= 7) {\n      points.push(f(t))\n      points.push(g(t))\n      t += 0.2\n    }\n\n    const diagram2 = {\n      data: { values: points },\n      mark: {\n        type: 'line', \n        interpolate: 'monotone',\n      },\n      \"encoding\": {\n        x: {\n          field: 'x', \n          type: 'quantitative',\n        },\n        y: {\n          field: 'y', \n          type: 'quantitative',\n        },\n        color: {\n          field: 'function',\n          type: 'nominal'\n        }\n      },\n    }\n\n    return {\n      answer: null,\n      instructions: 'The graphs of $$f(x) = - x^2 + 6x$$ and $$g(x) = 5\\\\sin(x)$$',\n      diagram: {\n        type: 'vega-lite',\n        data: diagram2,\n      }\n    }\n  }\n}\n\nclass VegaTest extends QGen {\n  static info = {\n    name: 'Vega Test',\n    description: 'Test Vega rendering'\n  }\n\n  generate(params) {\n    return {\n      answer: null,\n      instructions: \"Rendered with Vega:\",\n      diagram: {\n        type: 'vega',\n        data: {\n          \"$schema\": \"https://vega.github.io/schema/vega/v4.json\",\n          \"width\": 500,\n          \"height\": 200,\n          \"padding\": 5,\n        \n          \"signals\": [\n            {\n              \"name\": \"interpolate\",\n              \"value\": \"linear\",\n              \"bind\": {\n                \"input\": \"select\",\n                \"options\": [\n                  \"basis\",\n                  \"cardinal\",\n                  \"catmull-rom\",\n                  \"linear\",\n                  \"monotone\",\n                  \"natural\",\n                  \"step\",\n                  \"step-after\",\n                  \"step-before\"\n                ]\n              }\n            }\n          ],\n        \n          \"data\": [\n            {\n              \"name\": \"table\",\n              \"values\": [\n                {\"x\": 0, \"y\": 28, \"c\":0}, {\"x\": 0, \"y\": 20, \"c\":1},\n                {\"x\": 1, \"y\": 43, \"c\":0}, {\"x\": 1, \"y\": 35, \"c\":1},\n                {\"x\": 2, \"y\": 81, \"c\":0}, {\"x\": 2, \"y\": 10, \"c\":1},\n                {\"x\": 3, \"y\": 19, \"c\":0}, {\"x\": 3, \"y\": 15, \"c\":1},\n                {\"x\": 4, \"y\": 52, \"c\":0}, {\"x\": 4, \"y\": 48, \"c\":1},\n                {\"x\": 5, \"y\": 24, \"c\":0}, {\"x\": 5, \"y\": 28, \"c\":1},\n                {\"x\": 6, \"y\": 87, \"c\":0}, {\"x\": 6, \"y\": 66, \"c\":1},\n                {\"x\": 7, \"y\": 17, \"c\":0}, {\"x\": 7, \"y\": 27, \"c\":1},\n                {\"x\": 8, \"y\": 68, \"c\":0}, {\"x\": 8, \"y\": 16, \"c\":1},\n                {\"x\": 9, \"y\": 49, \"c\":0}, {\"x\": 9, \"y\": 25, \"c\":1}\n              ]\n            }\n          ],\n        \n          \"scales\": [\n            {\n              \"name\": \"x\",\n              \"type\": \"point\",\n              \"range\": \"width\",\n              \"domain\": {\"data\": \"table\", \"field\": \"x\"}\n            },\n            {\n              \"name\": \"y\",\n              \"type\": \"linear\",\n              \"range\": \"height\",\n              \"nice\": true,\n              \"zero\": true,\n              \"domain\": {\"data\": \"table\", \"field\": \"y\"}\n            },\n            {\n              \"name\": \"color\",\n              \"type\": \"ordinal\",\n              \"range\": \"category\",\n              \"domain\": {\"data\": \"table\", \"field\": \"c\"}\n            }\n          ],\n        \n          \"axes\": [\n            {\"orient\": \"bottom\", \"scale\": \"x\", 'titleFont': 'Zilla Slab'},\n            {\"orient\": \"left\", \"scale\": \"y\"}\n          ],\n        \n          \"marks\": [\n            {\n              \"type\": \"group\",\n              \"from\": {\n                \"facet\": {\n                  \"name\": \"series\",\n                  \"data\": \"table\",\n                  \"groupby\": \"c\"\n                }\n              },\n              \"marks\": [\n                {\n                  \"type\": \"line\",\n                  \"from\": {\"data\": \"series\"},\n                  \"encode\": {\n                    \"enter\": {\n                      \"x\": {\"scale\": \"x\", \"field\": \"x\"},\n                      \"y\": {\"scale\": \"y\", \"field\": \"y\"},\n                      \"stroke\": {\"scale\": \"color\", \"field\": \"c\"},\n                      \"strokeWidth\": {\"value\": 2}\n                    },\n                    \"update\": {\n                      \"interpolate\": {\"signal\": \"interpolate\"},\n                      \"fillOpacity\": {\"value\": 1}\n                    },\n                    \"hover\": {\n                      \"fillOpacity\": {\"value\": 0.5}\n                    }\n                  }\n                }\n              ]\n            }\n          ]\n        }\n        \n      }\n    }\n  }\n}\n","import Polynomial from 'polynomial'\nimport fraction from 'fraction.js'\n\nimport QGen from './QGen'\n\n\n\nclass TransformTracker {\n\t// y = a * f((x - h)/b) + k\n\tconstructor(parent) {\n\t\tthis.parent = parent\n\t\tthis.a = fraction(1)\n\t\tthis.b = fraction(1)\n\t\tthis.h = 0\n\t\tthis.k = 0\n\t}\n\n  translate(x,y) { this.h += x; this.k += y }\n  scale(x,y) { this.b = this.b.mul(x); this.a = this.a.mul(y) }\n\ttranslateX(n) { this.h += n }\n\ttranslateY(n) { this.k += n }\n\tscaleX(n) { this.b = this.b.mul(n) }\n\tscaleY(n) { this.a = this.a.mul(n) }\n\t\n\tshiftH(n) { this.translateX(n) }\n\tshiftV(n) { this.translateY(n) }\n\tstretchH(n) { this.scaleX(n) }\n\tstretchV(n) { this.scaleY(n) }\n\tcompressH(n) { this.scaleX(fraction(1,n)) }\n\tcompressV(n) { this.scaleY(fraction(1,n)) }\n\treflectH() { this.b = -this.b }\n  reflectV() { this.a = -this.a }\n  up(n) { this.translateY(n) }\n  down(n) { this.translateY(-n) }\n\n\tf() {\n\t\tconst parent = {\n\t\t\t'abs': x => Math.abs(x),\n\t\t\t'cubic': x => x*x*x,\n\t\t\t'exp2': x => Math.pow(2,x),\n\t\t\t'log2': x => Math.log2(x),\n\t\t\t'quad': x => x*x,\n\t\t\t'sqrt': x => Math.sqrt(x),\n\t\t}[this.parent]\n\t\tconst {a, b, h, k} = this\n\t\treturn x => a * parent((x - h)/b) + k \n  }\n  \n  vgTransform() {\n    return ({type: 'matrix', params: [this.b.valueOf(), 0, 0, this.a.valueOf(), this.h, this.k]})\n  }\n\n\ttoLatex() {\n\t\tPolynomial.setField('Q')\n\t\tconst {parent, a, b, h, k} = this\n\t\tconst inner = new Polynomial([fraction(-h).div(b), fraction(1).div(b)]).toLatex()\n\t\tconst kStr = k === 0 ? '' : k < 0 ? k.toString() : '+' + k.toString()\n\t\tconst aStr = a == 1 ? '' : a == -1 ? '-' : a.toString()\n\t\tif (parent === 'sqrt') {\n\t\t\treturn `${aStr}\\\\sqrt{${inner}}${kStr}`\n\t\t}\n\t\tif (parent === 'quad') {\n\t\t\tif (b == 1 && h === 0) {\n\t\t\t\treturn `${aStr}x^2${kStr}`\n\t\t\t}\n\t\t\treturn `${aStr}(${inner})^2${kStr}`\n\t\t}\n\t\tif (parent === 'cubic') {\n\t\t\tif (b == 1 && h === 0) {\n\t\t\t\treturn `${aStr}x^3${kStr}`\n\t\t\t}\n\t\t\treturn `${aStr}(${inner})^3${kStr}`\n\t\t}\n\t\tif (parent === 'abs') {\n\t\t\treturn `${aStr}|${inner}|${kStr}`\n\t\t}\n\t\tif (parent === 'exp2') {\n\t\t\tif (aStr) {\n\t\t\t\treturn `${aStr} \\\\cdot 2^{${inner}}${kStr}`\n\t\t\t}\n\t\t\treturn `${aStr}2^{${inner}}${kStr}`\n\t\t}\n\t\tif (parent === 'log2') {\n\t\t\treturn `${aStr}\\\\log_{2}(${inner})${kStr}`\n\t\t}\n\t}\n}\n\n\n\n\n\n\nexport class MatchTransformations extends QGen {\n\tstatic info = {\n\t\tname: 'Match Transformations',\n\t\tdescription: 'Match equations with graphs'\n\t}\n\n\tstatic params = {\n\t\tparents: {\n\t\t\tlabel: 'Allowed Parent Functions',\n\t\t\ttype: 'multipleselect',\n\t\t\toptions: [\n\t\t\t\t{value: 'sqrt', label: 'Square root'},\n\t\t\t\t{value: 'quad', label: 'Quadratic'},\n\t\t\t\t{value: 'abs', label: 'Absolute value'},\n\t\t\t\t{value: 'cubic', label: 'Cubic'}, // cubic is problematic because reflections are ambiguous\n\t\t\t\t{value: 'exp2', label: 'Exponential'},\n\t\t\t\t{value: 'log2', label: 'Logarithm'},\n\t\t\t],\n\t\t\tdefault: ['sqrt', 'quad', 'abs', 'exp2', 'log2'],\n\t\t}\n\t}\n\n\tstatic options = {\n\t\tlayout: ['instructions', 'question', ['answer', 'diagram']]\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\n\t\tconst parent = rd.choice(params.parents)\n\n\t\tconst transforms = (\n\t\t\tparent === 'cubic' \n\t\t\t? ['up', 'down', 'left', 'right', 'stretchV', rd.choice(['flipLR', 'flipDown'])]\n\t\t\t: ['up', 'down', 'left', 'right', 'flipDown', 'flipLR']\n\t\t)\n\t\t\n\t\tlet eqns = []\n\t\tlet paths = []\n\n\t\tconst v = rd.randint(2,5)\n\t\tfor (const t of transforms) {\n\t\t\tconst func = new TransformTracker(parent)\n\n\t\t\tif (t === 'up') func.shiftV(v)\n\t\t\telse if (t === 'down') func.shiftV(-v)\n\t\t\telse if (t === 'left') func.shiftH(-v)\n\t\t\telse if (t === 'right') func.shiftH(v)\n\t\t\telse if (t === 'stretchV') func.stretchV(v)\n\t\t\telse if (t === 'flipDown') func.stretchV(-v)\n\t\t\telse if (t === 'stretchH') func.stretchH(v)\n\t\t\telse if (t === 'flipLR') func.compressH(-v)\n\n\t\t\tconst eqn = func.toLatex()\n      eqns.push(`$$y = ${eqn}$$`)\n\n\t\t\tconst f = func.f()\n\t\t\tconst points = []\n\t\t\tlet start, stop\n\t\t\tconst {a, b, h, k} = func\n\t\t\tif (func.parent === 'sqrt') {\n\t\t\t\t[start, stop] = b < 0 ? [-10, h*b] : [h*b, 10]\n\t\t\t}\n\t\t\telse if (func.parent === 'log2') {\n\t\t\t\tif (b < 0) {\n\t\t\t\t\t[start, stop] = [-10, h*b-0.01]\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t[start, stop] = [h*b+0.01, 10]\n\t\t\t\t\tpoints.push({x: h*b, y: -a*1000})\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t[start, stop] = [-10, 10]\n\t\t\t}\n\t\t\tlet x = start\n\t\t\twhile (x <= stop) {\n\t\t\t\tconst y = f(x)\n\t\t\t\tpoints.push({x, y})\n\t\t\t\tx += 0.2\n\t\t\t}\n\t\t\tif (func.parent === 'log2' && b < 0) {\n\t\t\t\tpoints.push({x: h*b, y: -a*1000})\n\t\t\t}\n      paths.push(points)\n\t\t}\n\n\t\tconst graphPoints = points => ({\n\t\t\ttype: 'vectorgraphic',\n\t\t\tdata: [\n\t\t\t\t'CartesianPlane', \n\t\t\t\t{ span: [-7,-7,7,7], autogrid: true, height: '1.2in' },\n\t\t\t\t['Path', { points }]\n\t\t\t]\n\t\t})\n\n\t\tconst eqnScramble = rd.shuffleRange(0, 5)\n\t\tconst graphScramble = rd.shuffleRange(0, 5)\n\n\t\tconst letters = 'ABCDEF'\n\n\n\t\tconst diagrams = {\n\t\t\ttype: 'table',\n\t\t\tdata: {\n\t\t\t\tborder: 'none',\n\t\t\t\trows: [\n\t\t\t\t\t[\n\t\t\t\t\t\t{type: 'row', data: {items: ['A)', graphPoints(paths[graphScramble[0]])]}},\n\t\t\t\t\t\t{type: 'row', data: {items: ['B)', graphPoints(paths[graphScramble[1]])]}},\n\t\t\t\t\t\t{type: 'row', data: {items: ['C)', graphPoints(paths[graphScramble[2]])]}},\n\t\t\t\t\t], [\n\t\t\t\t\t\t{type: 'row', data: {items: ['D)', graphPoints(paths[graphScramble[3]])]}},\n\t\t\t\t\t\t{type: 'row', data: {items: ['E)', graphPoints(paths[graphScramble[4]])]}},\n\t\t\t\t\t\t{type: 'row', data: {items: ['F)', graphPoints(paths[graphScramble[5]])]}},\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\n\t\tconst eqnTable = {\n\t\t\ttype: 'table',\n\t\t\tdata: {\n\t\t\t\theadings: ['Equation', 'Graph'],\n\t\t\t\trows: [\n\t\t\t\t\t...eqnScramble.map(i => [\n\t\t\t\t\t\teqns[i], \n\t\t\t\t\t\t{type: 'emptyspace', data: {height: '7mm', width: '7mm'}},\n\t\t\t\t\t])\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\n\t\tconst answer = eqnScramble.map(i => letters[graphScramble.indexOf(i)]).join(', ')\n\n\t\treturn {\n\t\t\tinstructions: 'Fill in the table to match each equation to its graph.',\n\t\t\tdiagram: diagrams,\n\t\t\tanswer: {\n\t\t\t\tprompt: eqnTable,\n\t\t\t\tcorrect: answer,\n\t\t\t}\n\t\t}\n\n\t}\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport ReactModal from 'react-modal';\nimport {\n  Preview,\n  SideBar,\n  StatusBar,\n  TopBar,\n  Wrapper,\n} from '../components'\nimport Document from './Document/Document'\nimport CustomQuestion from './CustomQuestion'\nimport Notes from './Notes'\nimport { CheckStateButton } from './Debug'\nimport SettingsPage, {\n  AllowEditingToggle,\n  AnswerKeyToggle,\n  FixPagination,\n  FontFamily,\n  FontSize,\n  PageMargin,\n  PreviewZoom,\n  StartNumbering\n} from './Settings'\n\n\nimport '../stylesheets/styles.global.css'\n\nimport {\n  addToDocument,\n  removeLast,\n  clearAll,\n} from '../actions/document'\n\nimport {\n  examplequestions, transformations, demogenerators\n} from '../questions'\n\n\nlet questionBank = {}\nfor (const q in examplequestions) {\n  const n = examplequestions[q].register().name\n  questionBank[n] = examplequestions[q]\n}\nfor (const q in transformations) {\n  const n = transformations[q].register().name\n  questionBank[n] = transformations[q]\n}\nfor (const q in demogenerators) {\n  const n = `_ ${demogenerators[q].register().name}`\n  questionBank[n] = demogenerators[q]\n}\n\n\nReactModal.setAppElement('#root')\nObject.assign(ReactModal.defaultStyles.content, {\n  borderRadius: '4px',\n  borderColor: 'var(--ui-border-1, #999)',\n  background: 'var(--ui-bg-1, #eee)',\n  padding: '5mm',\n  top: '10px',\n  left: '10px',\n  right: '10px',\n  bottom: '10px',\n})\nObject.assign(ReactModal.defaultStyles.overlay, {\n  background: 'rgba(100,100,100,0.2)',\n})\n\n\n//let questionID = 0;\n\nclass AppWrapper extends React.Component {\n  constructor(props) {\n    super(props)\n    this.questionTypeSelect = React.createRef()\n    this.state = {\n      modal: 'none',\n    }\n  }\n\n  addToDoc = (elem) => {\n    this.props.addToDocument(elem)\n  }\n\n  generateAndAdd = () => {\n    const questionType = this.questionTypeSelect.current.value\n    if (questionType !== '__NONE__') {\n      console.log(`Generating ${questionType}`)\n      try {\n        const qtype = this.props.questionTypes[questionType]\n        const question = new qtype()\n        this.addToDoc(question.output())\n      } catch(e) {\n        console.log('failed')\n        console.log(e)\n      }\n    }\n  }\n\n  closeModal = () => this.setState({modal: 'none'})\n  openRpcTest = () => this.setState({modal: 'RpcTest'})\n  openCustomQuestion = () => this.setState({modal: 'CustomQuestion'})\n  openSettings = () => this.setState({modal: 'Settings'})\n  \n  renderQuestionList() {\n    const sortfunc = (a, b) => {\n      const A = a.toUpperCase(), B = b.toUpperCase()\n      if (A > B) return 1\n      if (A < B) return -1\n      return 0\n    }\n\n    return Object.keys(this.props.questionTypes).sort(sortfunc).map(k => {\n      const register = this.props.questionTypes[k].register()\n      return (\n        <option key={`qtype${k}`} \n          title={register.description}\n          value={k} >\n          {k}\n        </option>\n      )\n    })\n  }\n\n  render() {\n    const toplabel = {margin: '0 0 0 0.5em'}\n    return (\n      <Wrapper >\n        {/* customTitleBar ? <TitleBar /> : null */}\n        <TopBar>\n          <button onClick={window.print}>Print / PDF</button>\n          <button onClick={this.openSettings}>Settings</button>\n          <span style={toplabel}>Answer Key:</span><AnswerKeyToggle />\n          <span style={toplabel}>Start Numbering:</span><StartNumbering />\n          <span style={toplabel}>Font:</span><FontFamily/><FontSize />\n          <span style={toplabel}>Margins:</span><PageMargin />\n          <span style={toplabel}>Zoom:</span><PreviewZoom />\n          <span style={toplabel}>Allow Editing:</span><AllowEditingToggle />\n          <div style={{width: '3mm'}} />\n          <FixPagination/>\n        </TopBar>\n        <Preview>\n          <Document/>\n        </Preview>\n        <SideBar>\n          <select ref={this.questionTypeSelect} defaultValue='__NONE__'>\n            <option value='__NONE__' disabled>Question Type</option>\n            <option value='__NONE__' disabled>-------</option>\n            {this.renderQuestionList()}\n          </select>\n          <button onClick={this.generateAndAdd}>Add</button>\n          <button onClick={this.openCustomQuestion}>Custom Question</button>\n          <button onClick={this.props.removeLast}>Remove Last</button>\n          <button onClick={this.props.clearAll}>Clear All</button>\n          <div style={{height: '1in'}}></div>\n          <button onClick={() => this.setState({modal: 'Notes'})}>Notes</button>\n          <CheckStateButton>Log State</CheckStateButton>\n        </SideBar>\n        { this.props.statusBar ? <StatusBar><span>{this.props.statusBar}</span></StatusBar> : null }\n\n        <ReactModal\n          isOpen={this.state.modal === 'Settings'}\n          onRequestClose={this.closeModal}\n          style={{\n            content: {\n              top: 0,\n              bottom: 0,\n              left: 0,\n              right: 0,\n              padding: 0,\n            },\n          }}\n        >\n          <SettingsPage onRequestClose={this.closeModal}/>\n        </ReactModal>\n\n        <ReactModal\n          isOpen={this.state.modal === 'CustomQuestion'}\n          onRequestClose={this.closeModal}\n        >\n          <CustomQuestion onRequestClose={this.closeModal}/>\n          <button onClick={this.closeModal}>Close</button>\n        </ReactModal>\n\n        <ReactModal\n          isOpen={this.state.modal === 'Notes'}\n          onRequestClose={this.closeModal}\n          style={{\n            content: {\n              width: '4in',\n              top: '1in',\n              left: '1in',\n              right: 'unset',\n              bottom: 'unset',\n              color: 'black',\n              backgroundColor: 'var(--ui-page, white)',\n            }\n          }}\n        >\n          <Notes onRequestClose={this.closeModal} />\n        </ReactModal>\n\n      </Wrapper>\n    )\n\n  }\n}\n\nconst mapStateToProps = state => ({\n  questionTypes: questionBank,\n  statusBar: \"\",\n  fontFamilyUI: state.config.fontFamilyUI,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: q => dispatch(addToDocument(q)),\n  removeLast: () => dispatch(removeLast()),\n  clearAll: () => dispatch(clearAll()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AppWrapper)","import React from 'react';\nimport { Provider } from 'react-redux';\nimport App from './App'\n\n\nexport default class Root extends React.Component {\n  render() {\n    const { store } = this.props;\n    return (\n      <Provider store={store}>\n        <App />\n      </Provider>\n    )\n  }\n}\n","import {\n  ADD_TO_DOCUMENT,\n  CLEAR_ALL,\n  REMOVE_LAST,\n  UPDATE_ELEMENT,\n  SET_DOCUMENT_STARTNUMBERING,\n  ADD_PAGEBREAK_BEFORE,\n  DELETE_ELEMENT,\n  CLEAR_PAGEBREAKS,\n} from '../actions/document'\n\n\n\nconst initialState = {\n  content: {},\n  order: [],\n  headers: {\n    1: {\n      type: 'header',\n      data: [\n        {left: 'Assignment', right: 'Name ___'},\n        {right: 'Date __ Class _'},\n      ],\n    },\n    default: {type: 'header', data: []},\n  },\n  footers: {},\n  pagebreaks: [],\n  startNumbering: 1,\n}\n\nconst document = function(state=initialState, action) {\n  switch (action.type) {\n    // content\n    case ADD_TO_DOCUMENT:\n      return {\n        ...state, \n        content: {...state.content, [action.payload.id]: action.payload.element},\n        order: [...state.order, action.payload.id]\n      }\n    case CLEAR_ALL:\n      return {\n        ...state, \n        content: {},\n        order: [], \n        pagebreaks: [],\n      }\n    case REMOVE_LAST:\n      return {\n        ...state, \n        order: state.order.slice(0,-1), \n        pagebreaks: state.pagebreaks.filter(n => n < state.order.length),\n      }\n    case DELETE_ELEMENT:\n      if (typeof action.payload === 'string') {\n        if (action.payload.split('.')[0] === 'header') {\n          return {\n            ...state, headers: {...state.headers, [action.payload.split('.')[1]]: {type: 'header', data: []}}\n          }\n        }\n\n      }\n      //Note that this does not remove the element from 'content', only from 'order'\n      return {\n        ...state, \n        order: state.order.filter(id => id !== action.payload),\n        pagebreaks: state.pagebreaks.filter(n => n < state.order.length),\n      }\n    case UPDATE_ELEMENT:\n      if (typeof action.payload.id === 'string') {\n        if (action.payload.id.split('.')[0] === 'header') {\n          return {\n            ...state, \n            headers: {...state.headers, [action.payload.id.split('.')[1]]: action.payload.element}}\n        }\n      }\n      return {\n        ...state, \n        content: {...state.content, [action.payload.id]: action.payload.element}\n      }\n\n\n    // settings\n    case SET_DOCUMENT_STARTNUMBERING:\n      return {...state, startNumbering: action.payload}\n\n\n\n    // view\n    case ADD_PAGEBREAK_BEFORE:\n      for (const i in state.order) {\n        if (state.order[i] === action.payload) {\n          return {...state, pagebreaks: [...state.pagebreaks, i]}\n        }\n      }\n      return state\n    case CLEAR_PAGEBREAKS:\n      return {...state, pagebreaks: []}\n      \n    \n    default:\n      return state\n  }\n}\n\nexport default document\n\n","import {\n  ADD_LOCAL_FONT,\n  SET_ALLOW_EDITING,\n  SET_FONTFAMILY_UI,\n  SET_SHOW_ANSWERKEY,\n  SET_HIDDEN_COUNT,\n  SET_DEBUG_VIEW,\n} from '../actions/config'\n\nconst initialState = {\n  //titleBarStyle: 'default',\n  localFonts: [],\n  fontFamilyUI: 'select',\n  showAnswerKey: true,\n  allowEditing: true,\n  numberHidden: 0,\n}\n\nconst config = function(state=initialState, action) {\n  switch(action.type) {\n    case ADD_LOCAL_FONT:\n      return {...state, localFonts: [...state.localFonts, action.payload]}\n    case SET_ALLOW_EDITING:\n      return {...state, allowEditing: action.payload}\n    case SET_FONTFAMILY_UI:\n      return {...state, fontFamilyUI: action.payload}\n    case SET_SHOW_ANSWERKEY:\n      return {...state, showAnswerKey: action.payload}\n    case SET_HIDDEN_COUNT:\n      return {...state, numberHidden: action.payload}\n    default:\n      return state\n  }\n}\n\nexport default config","import {\n  SET_DOCUMENT_FONTFAMILY,\n  SET_DOCUMENT_FONTSIZE,\n  SET_MATH_FONTSIZE,\n  SET_MATH_FONTWEIGHT,\n  SET_PAGE_MARGIN,\n  UPDATE_GRAPHSTYLE,\n  RESET_GRAPHSTYLE,\n} from '../actions/style'\n\n\nconst initialState = {\n  fontFamily: 'serif',\n  fontSize: '8pt',\n  mathFontSize: '0.9em',\n  mathFontWeight: 'normal',\n  pageSize: 'letter',\n  pageOrientation: 'portrait',\n  pageMargin: '10mm 10mm 10mm 10mm',\n  graph: {\n    asymptoteColor: '#777777',\n    asymptoteWidth: '0.7mm',\n    axisColor: '#222222',\n    axisWidth: '0.3mm',\n    gridColor: '#888888',\n    gridWidth: '0.1mm',\n    plot1PathColor: '#ff2600',\n    plot2PathColor: '#0044cc',\n    //plot3PathColor: '#00aa33',\n    plotPathWidth: '0.5mm',\n    geomPathColor: '#009955',\n    geomPathWidth: '0.5mm',\n    shadedRegionOpacity: '0.3',\n  },\n}\n\nconst style = function(state=initialState, action) {\n  switch(action.type) {\n    // Fonts\n    case SET_DOCUMENT_FONTFAMILY:\n      return {...state, fontFamily: action.payload}\n    case SET_DOCUMENT_FONTSIZE:\n      return {...state, fontSize: action.payload}\n    case SET_MATH_FONTSIZE:\n      return {...state, mathFontSize: action.payload}\n    case SET_MATH_FONTWEIGHT:\n      return {...state, mathFontWeight: action.payload}\n\n    // Page Layout\n    case SET_PAGE_MARGIN:\n      return {...state, pageMargin: action.payload}\n\n    // Graph Style\n    case UPDATE_GRAPHSTYLE:\n      return {...state, graph: {...state.graph, ...action.payload}}\n    case RESET_GRAPHSTYLE:\n      return {...state, graph: {...initialState.graph}}\n\n    default:\n      return state\n  }\n}\n\nexport default style","import { combineReducers } from 'redux'\nimport document from './document'\nimport config from './config'\nimport style from './style'\n\nconst rootReducer = combineReducers({\n  config, document, style\n})\n\nexport default rootReducer","import React from 'react';\nimport Root from './containers/Root';\nimport { createStore } from 'redux';\nimport rootReducer from './reducers';\n\nconst store = createStore(rootReducer);\n\nconst App = () => <Root store={store} />\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n"],"sourceRoot":""}