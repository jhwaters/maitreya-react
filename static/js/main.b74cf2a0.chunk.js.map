{"version":3,"sources":["containers/Settings/styles.module.css","components/styles.module.css","components/Preview.js","components/SideBar.js","components/StatusBar.js","components/TitleBar.js","components/TopBar.js","components/Wrapper.js","renderMethods/defaultOptions.js","renderMethods/renderHtml.js","renderMethods/splitAtDelimiters.js","renderMethods/renderText.js","renderMethods/renderMarkdown.js","renderMethods/renderJsonML.js","renderMethods/renderData.js","renderMethods/renderVega.js","renderMethods/renderElement.js","containers/Document/components/AnswerKey.js","containers/Document/components/Heading.js","containers/Document/components/QuestionEditor.js","containers/Document/QuestionHandler.js","containers/Document/components/QuestionSet.js","containers/Document/components/QuestionWrapper.js","containers/Document/Document.js","containers/Document/index.js","containers/CustomQuestion/CustomQuestion.js","actions/document.js","containers/CustomQuestion/index.js","containers/Settings/AddLocalFont.js","actions/config.js","containers/Settings/SettingsPage.js","containers/Settings/FontFamily.js","containers/Settings/FontSize.js","containers/Settings/PageMargins.js","containers/Settings/PreviewZoom.js","containers/Settings/StartNumbering.js","containers/Settings/index.js","containers/Notes.js","containers/Debug/CheckState.js","questions/tools/domElement.js","questions/tools/QuadTree.js","questions/tools/plot.js","questions/tools/handystuff.js","questions/tools/random_randomjs.js","questions/QGen.js","questions/examplequestions.js","questions/demogenerators.js","containers/App.js","containers/Root.js","reducers/document.js","reducers/config.js","reducers/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","SettingsPage","Modal","Overlay","Wrapper","WrapperTitleBar","WrapperTopBar","PreviewOuter","PreviewInner","SideBar","StatusBar","TitleBar","TopBar","Previewer","react_default","a","createElement","className","styles","this","props","children","React","Component","classNames","customTitleBar","push","join","defaultOptions","markdown","render","superscript","subscript","smartarrows","math","delimiters","display","left","right","inline","renderHtml","content","Fragment","dangerouslySetInnerHtml","__html","findEndOfMath","delimiter","text","startIndex","index","braceLevel","delimLength","length","character","slice","splitAtDelimiters","startData","leftDelim","rightDelim","finalData","i","type","data","lookingForLeft","currIndex","nextIndex","indexOf","rawData","reactRenderMathInText","options","optionsCopy","errorCallback","console","error","splitWithDelimiters","reactRenderMarkdownInText","displayMode","html","katex","renderToString","dangerouslySetInnerHTML","e","ParseError","apply","concat","md","MarkdownIt","use","mdsub","mdsup","mdsmartarrows","renderInline","renderText","toString","require","markdownIt","mdmath","opts","arguments","undefined","inlineRenderer","str","blockRenderer","inlineOpen","inlineClose","blockOpen","blockClose","isArray","Array","renderJsonML","parsed","tagname","constructor","Object","k","parseJsonML","toConsumableArray","map","c","child","renderData","renderElement","renderJsonMLChild","d","renderAnswerChoices","renderMarkdown","react_vega_min_default","spec","renderVega","react_vega_lite_min_default","renderVegaLite","log","JSON","stringify","elem","defaultsDeep","AnswerKey","_ref","questions","_ref$startNumbering","startNumbering","start","q","key","question","generated","answer","choices","answerIndex","renderAnswer","HeadingBlank","_ref$size","size","w","style","width","renderHeading","parts","result","current","isBlank","blankSize","nextChar","parseHeading","p","Heading_HeadingBlank","defaultHeading","Heading","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","clearEdits","newEdits","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","state","heading","Symbol","iterator","next","done","row","value","objectSpread","err","return","setState","edits","openEditor","editorOpen","closeEditor","updateHeading","newHeading","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","applyEdits","applyAndClose","resetToDefault","addRow","removeRow","lr","newRow","_this2","onDoubleClick","title","height","lib_default","isOpen","onRequestClose","border","defaultValue","onChange","evt","updateElement","target","fontFamily","marginTop","onClick","bottom","QuestionEditor","changeSelection","active","areaNames","defaultGridAreas","QuestionHandler","editorActive","_props$question","_props$question$param","params","_props$question$optio","_","partition","keys","wrapper","gridTemplateAreas","includes","setGridAreas","toDisplay","line","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","split","areas","wrapperStyle","components_QuestionWrapper","components_QuestionEditor","QuestionSet","Document_QuestionHandler","QuestionWrapper","_ref2","name","gridArea","renderArea","Document","scale","order","sectionClass","settings","pageMargins","components_Heading","components_QuestionSet","components_AnswerKey","connect","document","CustomQuestion","updateInstructions","updatePreview","updateQuestion","updateAnswer","addQuestion","getInput","previewQuestion","preview","updateInputType","inputType","instructions","jsonInput","createRef","inputs","fieldname","newpreview","defineProperty","parse","inputStyle","ref","marginLeft","qid","payload","id","updateDocumentSettings","dispatch","AddLocalFont","addFont","fontName","input","addLocalFont","family","font","Settings_AddLocalFont","GoogleFonts","BrowserFonts","label","fontSort","b","aName","toUpperCase","bName","nullkey","renderFontOption","optionLabel","disabled","FontFamilySelect","fontList","sort","localFonts","setFromSelection","selection","setCSSVariable","setDocFontFamily","default","body","setProperty","applyButton","f","setDocFont","config","FontSizeSelect","setDocFontSize","fontSize","s","renderSizeOptions","MarginOptions","SetPageMargins","setPageMargins","marginSize","m","renderOptions","PreviewZoom","setFromInput","magnification","setPreviewZoom","matrix","min","max","step","z","StartNumbering","setNumbering","startat","latexfmt","String","raw","replace","examples","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_templateObject10","_templateObject11","_templateObject12","_templateObject13","_templateObject14","_templateObject15","_templateObject16","RenderExample","backgroundColor","padding","overflowX","paddingLeft","Notes","marginBottom","Notes_RenderExample","CheckStateButton","logState","tryChild","jsonml","thing","_type","_props","_children","DomElement","_len","_key","test","x","y","r","subdivide","depth","searchDepth","hd","createTree","contourPresent","makesrange","anchor","v","splice","SvgElement","_DomElement","inherits","createClass","Canvas","_SvgElement","x0","y0","x1","y1","_getPrototypeOf2","extra","h","viewBox","Layer","_SvgElement2","_getPrototypeOf3","CartesianPlane","_Canvas","construct","transform","GridX","GridY","Grid","values","span","axisAt","gridStyle","axisStyle","assign","stroke","strokeWidth","strokeOpacity","linePath","_this3","makeLine","Path","_SvgElement4","points","_this4","roundTo","Plot","_this5","_ref$xRange","xRange","_ref$yRange","yRange","_ref$step","_ref$maxD","maxD2","_ref$roundTo","_ref$style","fill","Parametric","_Plot","_this6","_ref2$ymap","ymap","t","_ref2$xmap","xmap","_ref2$domain","domain","pt","t0","p0","t1","p1","tryEval","dx","dy","paths","l","path","calculatePaths","pts","Piecewise","_Plot2","pieces","_this7","_ref4","pieceprops","Rational","_Plot3","rationalProps","_this8","roots","holes","vas","den","num","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","_this9","sortedDiscontinuities","stop","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","xvals","domains","asyms","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","strokeDasharray","holeStyle","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","cx","cy","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","_plotVerticalAsymptotes","_plotFunction","_plotRoots","_plotHoles","range","inclusive","mathjsrange","_data","gcd","Randomizer","seed","engine","Random","engines","mt19937","reset","autoSeed","integer","real","array","first","shuffled","shuffle","pick","pop","sample","randint","popped","remaining","randomSeedGenerator","QGen","kwds","randomSeed","Math","pow","random","margin","randomizer","defaults","out","generate","_getParams","_handleSpecialCases","method","getOptions","info","randomPolynomialCoefficients","degree","_ref$maxCoefficient","maxCoefficient","_ref$terms","terms","rd","whichterms","choice","SolveQuadratic","_QGen","ans","_rd$sample","_rd$sample2","slicedToArray","r1","r2","poly","Polynomial","2","1","0","rand","_ref3","add","toLatex","description","FactorQuadraticHard","_QGen2","a1","a2","b1","b2","p2","RationalGraph","_QGen3","vals","graph","addGrid","rat","fmtAns","numer","top","simplify","denom","wrongs","diagram","FindIntervals","_QGen4","toFind","increasing","decreasing","xs","prev","which","ys","maxConstantIntervals","possible","reverse","intervals","wrongAnswer1","wrongAnswer2","wrongAnswer3","wrongAnswer4","inc","dec","fullName","int","toJsonML","IncreasingIntervals","_FindIntervals","DecreasingIntervals","_FindIntervals2","AngleMeasure","_QGen5","translate","difference","angle1","rotateBy","intersect1","pp","cos","PI","sin","top1","bottom1","intersect2","top2","bottom2","plotPoint","plotSegment","RationalRootTheorem","_QGen6","primes","leading_coeff","trailing_coeff","num_coeffs","FontTest","lines","_arr","_i","chars","_arr2","_i3","dontConfuse","_i2","j","_arr3","_i4","QuadTreePlotTest","f1","f2","_this$random$sample","_this$random$sample2","color1","color2","color","fillOpacity","MdTest","VegaLite","mark","interpolate","encoding","field","axisX","titleFont","VegaTest","$schema","signals","bind","scales","nice","zero","axes","orient","marks","from","facet","groupby","encode","enter","update","signal","hover","questionBank","examplequestions","n","register","ReactModal","setAppElement","AppWrapper","addNew","generateAndAdd","questionType","questionTypeSelect","qtype","questionTypes","output","closeModal","modal","openRpcTest","openCustomEditor","openSettings","A","B","hidden","titleBarStyle","components_Wrapper","components_TitleBar","components_TopBar","window","print","FontFamily","FontSize","PageMargins","Settings_PreviewZoom","Settings_StartNumbering","Preview","containers_Document","components_SideBar","renderQuestionList","removeLast","clearAll","CheckState","components_StatusBar","statusBar","containers_CustomQuestion","Settings","containers_Notes","Root","store","es","containers_App","initialState","action","lastId","newquestions","rootReducer","combineReducers","createStore","App","Root_Root","Boolean","location","hostname","match","ReactDOM","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.b74cf2a0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"SettingsPage\":\"styles_SettingsPage__3aIWR\",\"Modal\":\"styles_Modal__2Q7kX\",\"Overlay\":\"styles_Overlay__1XeAm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"styles_Wrapper__QmsU2\",\"WrapperTitleBar\":\"styles_WrapperTitleBar__1uVIm\",\"WrapperTopBar\":\"styles_WrapperTopBar__3TDGm\",\"PreviewOuter\":\"styles_PreviewOuter__aClrK\",\"PreviewInner\":\"styles_PreviewInner__2lsw-\",\"SideBar\":\"styles_SideBar__11KBm\",\"StatusBar\":\"styles_StatusBar__3LGjN\",\"TitleBar\":\"styles_TitleBar__315t0\",\"TopBar\":\"styles_TopBar__I1VNN\"};","import React from 'react'\nimport styles from './styles.module.css'\n\nclass Previewer extends React.Component {\n  render() {\n    \n\n    return (\n      <div className={styles.PreviewOuter}>\n        <div className={styles.PreviewInner}>\n          {this.props.children}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Previewer","import React from 'react'\nimport styles from './styles.module.css'\n\nclass SideBar extends React.Component {\n  render() {\n    return (\n      <div className={styles.SideBar}>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport default SideBar","import React from 'react'\nimport styles from './styles.module.css'\n\nconst StatusBar = (props) => {\n  return (\n    <div className={styles.StatusBar}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default StatusBar","import React from 'react'\nimport styles from './styles.module.css'\n\nconst TitleBar = () => {\n  return (\n    <div className={styles.TitleBar}>\n      TitleBar\n    </div>\n  )\n}\n\nexport default TitleBar","import React from 'react'\nimport styles from './styles.module.css'\n\nconst TopBar = (props) => {\n  return (\n    <div className={styles.TopBar}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default TopBar","import React from 'react'\nimport styles from './styles.module.css'\n\nclass Wrapper extends React.Component {\n  \n  render() {\n    let classNames = [styles.Wrapper]\n    if (this.props.customTitleBar) {\n      classNames.push(styles.WrapperTitleBar)\n    } else {\n      classNames.push(styles.WrapperTopBar)\n    }\n\n    return (\n      <div className={classNames.join(' ')}>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport default Wrapper","export const defaultOptions = {\n  markdown: {\n    render: true,\n    superscript: true,\n    subscript: true,\n    smartarrows: true,\n  },\n\n  math: {\n    render: true,\n    delimiters: {\n      display: {left: '$$$', right: '$$$'},\n      inline: {left: '$$', right: '$$'},\n    },\n  }\n\n};\n\n/*\nconst isObject = function(thing) {\n  return (thing && typeof thing === 'object' && !Array.isArray(thing))\n}\n\nconst deepAssign = function(target, ...updates) {\n  if (!updates.length) return target;\n  const source = updates.shift()\n  if (isObject(target) && isObject(source)) {\n    for (const k in source) {\n      if (isObject(source[k])) {\n        if (!target[k]) Object.assign(target, { [k]: {} });\n        deepAssign(target[k], source[k])\n      } else {\n        Object.assign(target, { [k]: source[k] })\n      }\n    }\n  }\n  return deepAssign(target, ...updates)\n}\n\nexport const setOptions = (...options) => deepAssign({}, defaultOptions, ...options)\n*/","import React from 'react'\n\nconst renderHtml = (content) => <React.Fragment dangerouslySetInnerHtml={{__html: content}}/>\n\nexport default renderHtml","/* eslint no-constant-condition:0 */\n\n// this file is copied from from katex\n\nconst findEndOfMath = function(delimiter, text, startIndex) {\n    // Adapted from\n    // https://github.com/Khan/perseus/blob/master/src/perseus-markdown.jsx\n    let index = startIndex;\n    let braceLevel = 0;\n\n    const delimLength = delimiter.length;\n\n    while (index < text.length) {\n        const character = text[index];\n\n        if (braceLevel <= 0 &&\n            text.slice(index, index + delimLength) === delimiter) {\n            return index;\n        } else if (character === \"\\\\\") {\n            index++;\n        } else if (character === \"{\") {\n            braceLevel++;\n        } else if (character === \"}\") {\n            braceLevel--;\n        }\n\n        index++;\n    }\n\n    return -1;\n};\n\nconst splitAtDelimiters = function(startData, leftDelim, rightDelim, display) {\n    const finalData = [];\n\n    for (let i = 0; i < startData.length; i++) {\n        if (startData[i].type === \"text\") {\n            const text = startData[i].data;\n\n            let lookingForLeft = true;\n            let currIndex = 0;\n            let nextIndex;\n\n            nextIndex = text.indexOf(leftDelim);\n            if (nextIndex !== -1) {\n                currIndex = nextIndex;\n                finalData.push({\n                    type: \"text\",\n                    data: text.slice(0, currIndex),\n                });\n                lookingForLeft = false;\n            }\n\n            while (true) {\n                if (lookingForLeft) {\n                    nextIndex = text.indexOf(leftDelim, currIndex);\n                    if (nextIndex === -1) {\n                        break;\n                    }\n\n                    finalData.push({\n                        type: \"text\",\n                        data: text.slice(currIndex, nextIndex),\n                    });\n\n                    currIndex = nextIndex;\n                } else {\n                    nextIndex = findEndOfMath(\n                        rightDelim,\n                        text,\n                        currIndex + leftDelim.length);\n                    if (nextIndex === -1) {\n                        break;\n                    }\n\n                    finalData.push({\n                        type: \"math\",\n                        data: text.slice(\n                            currIndex + leftDelim.length,\n                            nextIndex),\n                        rawData: text.slice(\n                            currIndex,\n                            nextIndex + rightDelim.length),\n                        display: display,\n                    });\n\n                    currIndex = nextIndex + rightDelim.length;\n                }\n\n                lookingForLeft = !lookingForLeft;\n            }\n\n            finalData.push({\n                type: \"text\",\n                data: text.slice(currIndex),\n            });\n        } else {\n            finalData.push(startData[i]);\n        }\n    }\n\n    return finalData;\n};\n\nexport default splitAtDelimiters;\n","/*\nThis renders math in text using markdown, and simple markdown using\nmarkdown-it's inline renderer. For more complicated markdown, use\nthe 'markdown' type, which will be passed to the 'renderMarkdown' function\n*/\n\nimport React from 'react'\nimport katex from 'katex'\nimport MarkdownIt from 'markdown-it'\nimport mdsup from 'markdown-it-sup'\nimport mdsub from 'markdown-it-sub'\nimport mdsmartarrows from 'markdown-it-smartarrows'\nimport splitAtDelimiters  from './splitAtDelimiters'\n\n\nconst splitWithDelimiters = function(text, delimiters) {\n  let data = [{type: \"text\", data: text}];\n  for (let i = 0; i < delimiters.length; i++) {\n    const delimiter = delimiters[i];\n    data = splitAtDelimiters(\n      data, delimiter.left, delimiter.right,\n      delimiter.display || false);\n  }\n  return data;\n};\n\n\nconst reactRenderMathInText = function(text, options) {\n  let optionsCopy = {\n    delimiters: [\n      {left: options.math.delimiters.display.left, right: options.math.delimiters.display.right, display: true},\n      {left: options.math.delimiters.inline.left, right: options.math.delimiters.inline.right, display: false},\n    ],\n    errorCallback: console.error,\n  }\n  const data = splitWithDelimiters(text, optionsCopy.delimiters);\n  let children = []\n  for (let i = 0; i < data.length; i++) {\n    if (data[i].type === \"text\") {\n      children.push(reactRenderMarkdownInText(data[i].data, options))\n    } else {\n      const math = data[i].data\n      optionsCopy.displayMode = data[i].display\n      try {\n        const html = katex.renderToString(math, optionsCopy);\n        children.push(React.createElement('span', {dangerouslySetInnerHTML: {__html: html}}))\n      } catch (e) {\n        if (!(e instanceof katex.ParseError)) {\n          throw e;\n        }\n        optionsCopy.errorCallback(\n          \"KaTeX auto-render: Failed to parse `\" + data[i].data +\n          \"` with \",\n          e\n        );\n        children.push(data[i].rawData)\n      }\n    }\n  }\n  return React.createElement('span', {}, ...children)\n}\n\nconst reactRenderMarkdownInText = function(text, options) {\n  if (options.math.render) {\n    let md = new MarkdownIt()\n    if (options.markdown.subscript) { md = md.use(mdsub); }\n    if (options.markdown.superscript) { md = md.use(mdsup); }\n    if (options.markdown.smartarrows) { md = md.use(mdsmartarrows); }\n    const html = md.renderInline(text)\n    return <span dangerouslySetInnerHTML={{__html: html}} />\n  } else {\n    return text\n  }\n}\n\n/*\nconst defaultDelimiters = {\n  display: {left: '$$$', right: '$$$'},\n  inline: {left: '$$', right: '$$'},\n}\n\nconst replaceMathDelimiters = function(text, options, delimiters=defaultDelimiters) {\n  let optionsCopy = {...options.katex}\n  const data = splitWithDelimiters(text, optionsCopy.delimiters)\n  let result = \"\"\n  for (let i = 0; i < data.length; i++) {\n    if (data[i].type === \"text\") {\n      result += data[i].data\n    } else if (data[i].display) {\n      result += `${delimiters.display.left}${data[i].data}${delimiters.display.right}`\n    } else {\n      result += `${delimiters.inline.left}${data[i].data}${delimiters.inline.right}`\n    }\n  }\n  return result\n}\n*/\n\n\nconst renderText = function(text, options) {\n  if (typeof text === 'number') {\n    return text.toString()\n  } else {\n    if (options.math.render) {\n      return reactRenderMathInText(text, options)\n    } else {\n      return reactRenderMarkdownInText(text, options)\n    }\n  }\n}\n\nexport default renderText","import React from 'react'\nconst katex = require('katex')\nconst markdownIt = require('markdown-it')\nconst mdmath = require('markdown-it-math')\nconst mdsup = require('markdown-it-sup');\nconst mdsub = require('markdown-it-sub');\nconst mdsmartarrows = require('markdown-it-smartarrows')\n\n\nfunction renderText(text, opts = {}) {\n  let md = new markdownIt()\n  if (opts.markdown.subscript) { md = md.use(mdsub); }\n  if (opts.markdown.superscript) { md = md.use(mdsup); }\n  if (opts.markdown.smartarrows) { md = md.use(mdsmartarrows); }\n  if (opts.math.render) {\n    md = md.use(mdmath, {\n      inlineRenderer: (str) => katex.renderToString(str),\n      blockRenderer: (str) => '<div class=\"math-block\">' + katex.renderToString(str, {displayMode: true}) + '</div>',\n      inlineOpen: opts.math.delimiters.inline.left,\n      inlineClose: opts.math.delimiters.inline.right,\n      blockOpen: opts.math.delimiters.display.left,\n      blockClose: opts.math.delimiters.display.right,\n    })\n  }\n\n  return <span dangerouslySetInnerHTML={{__html: md.render(text)}} ></span> \n}\n\n\nexport default renderText","import React from 'react'\nimport renderData from './renderData'\nimport renderElement from './renderElement'\n\nconst isArray = Array.isArray\n\nconst renderJsonMLChild = function(child, options) {\n  if (typeof child === 'string') {\n    return renderData(child, 'text', options)\n  } else if (typeof child === 'number') {\n    return <span>{child.toString()}</span>\n  } else if (isArray(child)) {\n    return renderJsonML(child, options)\n  } else if (child.constructor === Object) {\n    return renderElement(child, options)\n  }\n}\n\nconst parseJsonML = function(data) {\n  if (typeof data[0] === 'string') {\n    const tagname = data[0]\n    let props = {}\n    let children = []\n    let i = 1\n    if (data[1]) {\n      if (data[1].constructor === Object) {\n        for (const k in data[1]) {\n          if (k === 'children') {\n            children = data[1][k]\n          } else {\n            props[k] = data[1][k]\n          }\n        }\n        i = 2\n      }\n    }\n    children = children.concat(data.slice(i))\n    return {tagname: tagname, props: props, children: children}\n  }\n  return null\n}\n\n\nconst renderJsonML = function(data, options) {\n  const parsed = parseJsonML(data)\n  if (parsed) {\n    return React.createElement(parsed.tagname, parsed.props, ...parsed.children.map(c => renderJsonMLChild(c, options)))\n  } else {\n    return null\n  }\n}\n\nexport default renderJsonML","import renderHtml from './renderHtml'\nimport renderText from './renderText'\nimport renderMarkdown from './renderMarkdown'\nimport renderJsonML from './renderJsonML'\nimport { renderVega, renderVegaLite } from './renderVega'\n\nconst renderAnswerChoices = (data, options) => renderJsonML(\n  ['ol', {className: 'AnswerChoices', type: 'a'}, \n  ...data.map(d => ['li', {className: 'AnswerChoice'}, d])], \n  options,\n);\n\nconst renderData = function(data, type, options={}) {\n  switch (type) {\n    case 'text': return renderText(data, options)\n    case 'answerchoices': return renderAnswerChoices(data, options)\n    case 'jsonml': return renderJsonML(data, options)\n    case 'html': return renderHtml(data, options)\n    case 'markdown': return renderMarkdown(data, options)\n    case 'vega': return renderVega(data, options['vega'] | {})\n    case 'vega-lite': return renderVegaLite(data, options['vega-lite'] | {})\n    default:\n      console.log('no rendering method for ', type)\n      console.log({type: type, data: data})\n      return JSON.stringify(data)   \n  }\n}\n\n\nexport default renderData","import React from 'react'\nimport Vega from 'react-vega'\nimport VegaLite from 'react-vega-lite'\n\n\nconst renderVega = function(data, options) {\n  return (\n    <Vega spec={data} />\n  )\n}\n\nconst renderVegaLite = function(data, options) {\n  //const wrapper = options.wrapper || {}\n  return <VegaLite spec={data} />\n}\n\n\nexport { \n  renderVega,\n  renderVegaLite,\n}","import { defaultsDeep } from 'lodash'\nimport { defaultOptions } from './defaultOptions'\nimport renderData from './renderData'\n\n\nconst renderElement = function(elem, options={}) {\n  const opts = defaultsDeep({}, elem.options || {}, options, defaultOptions)\n  if (elem.type) {\n    return renderData(elem.data, elem.type, opts)\n  } else {\n    return renderData(elem, 'text', opts)\n  }\n}\n\nexport default renderElement","import React from 'react'\nimport renderElement from '../../../renderMethods/renderElement'\n\nconst renderAnswer = (question) => {\n  const options = question.options || {}\n  const generated = question.generated || {}\n  let answer = 'no answer provided'\n  if (generated.choices) {\n    if (generated.choices.answerIndex !== undefined) {\n      if (Array.isArray(generated.choices.answerIndex)) {\n        answer = generated.choices.answerIndex.map(i => 'abcdef'[i]).join(', ')\n      } else {\n        answer = 'abcde'[generated.choices.answerIndex]\n      }\n    } else if (generated.answer) {\n      answer = generated.answer\n    }\n  } else {\n    if (generated.answer) {\n      answer = generated.answer\n    }\n  }\n  return renderElement(answer, options)\n}\n\nconst AnswerKey  = ({\n  questions,\n  startNumbering=1,\n}) => {\n  return (\n    <div className='AnswerKey'>\n      <h4>Answer Key</h4>\n      <ol start={startNumbering}>\n        {questions.map((q, i) => <li key={`A${i+startNumbering}`}>{renderAnswer(q)}</li>)}\n      </ol>\n    </div>\n  )\n}\n\nexport default AnswerKey","import React from 'react'\nimport ReactModal from 'react-modal';\n\n\nconst parseHeading = (text) => {\n  let result = []\n  let current = ''\n  let isBlank = false\n  let i = 0\n  let blankSize = 0\n  while (i < text.length) {\n    const nextChar = text[i]\n    if (isBlank) {\n      if (nextChar === '_') {\n        blankSize += 1\n      } else {\n        result.push({type: 'blank', size: blankSize})\n        current = nextChar\n        isBlank = false\n        blankSize = 0\n      }\n    } else {\n      if (nextChar === '_') {\n        if (current !== '') {\n          result.push({type: 'text', text: current})\n          current = ''\n        }\n        isBlank = true\n        blankSize = 1\n      } else {\n        current += nextChar\n      }\n    }\n    i += 1\n  }\n  if (isBlank) {\n    if (blankSize > 0) {\n      result.push({type: 'blank', size: blankSize})\n    }\n  } else {\n    if (current !== '') {\n      result.push({type: 'text', text: current})\n    }\n  }\n  return result\n}\n\nconst HeadingBlank = ({size=3}) => {\n  const w = `${1 + 3*(size - 1)}cm`\n  return (\n    <div className='HeadingBlank' style={{width: w}} />\n  )\n}\n\nconst renderHeading = (text) => {\n  const parts = parseHeading(text)\n  return (\n    <>\n      {parts.map((p, i) => {\n        if (p.type === 'text') {\n          return (\n            <div key={`heading-${text}-${i}`} style={{display: 'inline-block'}}>{p.text}</div>\n          )\n        } else {\n          return (\n            <HeadingBlank key={`heading-${text}-${i}`} size={p.size}/>\n          )\n        }\n      })}\n    </>\n  )\n}\n\n\nconst defaultHeading = () => ([\n  {left: 'Assignment', right: 'Name ___'},\n  {left: '', right: 'Date __ Class _'},\n])\n\nclass Heading extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      heading: defaultHeading(),\n      edits: defaultHeading(),\n      editorOpen: false, \n    }\n    //this.clearEdits()\n  }\n\n  clearEdits = () => {\n    let newEdits = []\n    for (const row of this.state.heading) {\n      newEdits.push({...row})\n    }\n    this.setState({edits: newEdits})\n  }\n\n  openEditor = () => {\n    this.clearEdits()\n    this.setState({editorOpen: true})\n  }\n\n  closeEditor = () => {\n    this.setState({editorOpen: false})\n  }\n\n  updateElement(row, lr, content) {\n    let newRow = {...this.state.edits[row]}\n    newRow[lr] = content\n    let edits = [...this.state.edits]\n    edits[row] = newRow\n    this.setState({edits: edits})\n  }\n\n  updateHeading = () => {\n    let newHeading = []\n    for (const row of this.state.edits) {\n      newHeading.push({...row})\n    }\n    //if (newHeading.length === 0) {\n    //  newHeading.push({left: '', right: ''})\n    //}\n    this.setState({heading: newHeading});\n  }\n\n  applyEdits = () => {\n    this.updateHeading();\n  }\n\n  applyAndClose = () => {\n    this.applyEdits();\n    this.closeEditor();\n  }\n\n  resetToDefault = () => {\n    this.setState({heading: defaultHeading()})\n    this.closeEditor()\n  }\n\n  addRow = () => {\n    this.setState({edits: [...this.state.edits, {left: '', right: ''}]})\n  }\n\n  removeRow = () => {\n    this.setState({edits: this.state.edits.slice(0,-1)})\n  }\n\n  render() {\n\n    return (\n      <>\n      {this.state.heading.length === 0\n      ? (\n        <div className='Heading' onDoubleClick={this.openEditor} title=\"Double-click to edit\"\n          style={{height: '5mm'}}\n        ></div>\n      ) : (\n        <table className='Heading' onDoubleClick={this.openEditor} title=\"Double-click to edit\">\n          <tbody>\n            {this.state.heading.map((row, i) => {\n              const {left, right} = row\n              return (\n                <tr key={`heading-row-${i+1}`}>\n                  <td>{renderHeading(left)}</td>\n                  <td>{renderHeading(right)}</td>\n                </tr>\n              )\n            })}\n          </tbody>\n        </table>\n      )}\n\n\n      <ReactModal\n        isOpen={this.state.editorOpen}\n        onRequestClose={this.closeEditor}\n      >\n        <div>\n          <h4>Edit Document Heading:</h4>\n          <p>Underscores will be translated into an underlined blank space.</p>\n\n          <table className=\"Heading\" style={{width: '100%'}}>\n            <tbody>\n              {this.state.edits.map((row, i) => {\n                const {left, right} = row\n                return (\n                  <tr key={`edit-heading-row-${i+1}`}>\n                    <td style={{border: '2px dotted rgba(0,0,0,0.2)'}}>\n                      <input defaultValue={left} \n                        onChange={(evt) => this.updateElement(i, 'left', evt.target.value)}\n                        style={{\n                          fontFamily: 'var(--doc-font-family, serif)',\n                          width: '100%',\n                          border: 'none',\n                        }}\n                        ></input>\n                    </td>\n                    <td style={{border: '2px dotted rgba(0,0,0,0.2)'}}>\n                      <input defaultValue={right} \n                        onChange={(evt) => this.updateElement(i, 'right', evt.target.value)}\n                        style={{\n                          fontFamily: 'var(--doc-font-family, serif)',\n                          width: '100%',\n                          border: 'none',\n                        }}\n                        ></input>\n                    </td>\n                  </tr>\n                )\n              })}\n            </tbody>\n          </table>\n\n          <div style={{marginTop: '5mm'}}>\n            <button onClick={this.removeRow}>-</button>\n            <button onClick={this.addRow}>+</button>\n          </div>\n\n          <div style={{marginTop: '1cm', bottom: '0'}}>\n            <button onClick={this.applyAndClose}>Apply</button>\n            <button onClick={this.closeEditor}>Cancel</button>\n            <button onClick={this.resetToDefault}>Reset</button>\n          </div>\n          \n          \n        </div>\n      </ReactModal>\n      </>\n    )\n  }\n}\n\nexport default Heading","import React from 'react'\nimport renderElement from '../../../renderMethods/renderElement'\n\nconst Props = {\n  areaNames: [],\n  generated: {},\n  options: {},\n}\n\nclass QuestionEditor extends React.Component<Props> {\n  constructor(props) {\n    super(props)\n    this.state = {\n      areaNames: this.props.areaNames,\n      generated: this.props.generated,\n      options: this.props.options,\n      active: '__none__',\n    }\n  }\n\n  changeSelection = (evt) => this.setState({active: evt.target.value})\n\n  render() {\n    return (\n      <div>\n        <select onChange={this.changeSelection}>\n          <option value='__none__'>NO ELEMENT SELECTED</option>\n          {this.state.areaNames.map(a => <option key={`select${a}`} value={a}>{a}</option>)}\n        </select>\n        <div style={{marginTop: '3mm'}}>\n          {\n            this.state.active === '__none__'\n              ? null \n              : renderElement(this.state.generated[this.state.active], this.state.options)\n              //: (<EditableElement element={this.state.generated[this.state.active]} options={this.state.options} />)\n          }\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default QuestionEditor\n","import React from 'react'\nimport ReactModal from 'react-modal'\nimport _ from 'lodash'\nimport { QuestionWrapper, QuestionEditor } from './components'\n\n\nconst defaultGridAreas = [\n  'question question',\n  'choices diagram'\n]\n\nconst setGridAreas = (keys, options={}) => {\n  if (_.includes(keys, 'instructions')) {\n    if (_.includes(keys, 'question')) {\n      return [\n        'instructions instructions',\n        'question question',\n        'choices diagram',\n      ]\n    } else {\n      return [\n        'instructions instructions',\n        'choices diagram',\n      ]\n    }\n  } else {\n    return defaultGridAreas\n  }\n}\n\n\n\nclass QuestionHandler extends React.Component {\n  constructor(props) {\n    super(props)\n    const {params={}, generated, options={}} = props.question;\n    this.state = {\n      generated: generated,\n      params: params,\n      options: options,\n      editorActive: false,\n    }\n  }\n\n  openEditor = () => { \n    if (!this.state.editorActive) {\n      this.setState({editorActive: true}) \n    }\n  }\n\n  closeEditor = () => { \n    this.setState({editorActive: false}) \n  }\n\n  render() {\n    const generated = this.state.generated\n    const options = this.state.options\n    const areaNames = _.partition(Object.keys(generated), k => k[0] !== '_')[0]\n    const wrapper = options.wrapper || {}\n    const gridTemplateAreas = wrapper.gridTemplateAreas || setGridAreas(areaNames)\n\n    let toDisplay = {}\n    for (const line of gridTemplateAreas) {\n      for (const area of line.split(' ')) {\n        toDisplay[area] = true\n      }\n    }\n\n    let areas = {}\n    for (const a of areaNames) {\n      if (toDisplay[a]) {\n        areas[a] = generated[a]\n      }\n    }\n\n    let wrapperStyle = {\n      display: 'grid',\n      ...wrapper,\n      gridTemplateAreas: gridTemplateAreas.map(line => `\"${line}\"`).join(' ')\n    }\n\n\n    return (\n      <div onDoubleClick={this.openEditor}>\n        <QuestionWrapper areas={areas} style={wrapperStyle} options={options} />\n\n        <ReactModal\n          isOpen={this.state.editorActive}\n          onRequestClose={this.closeEditor}\n        >\n          <h3>Edit Question <button onClick={this.closeEditor}>Close</button></h3>\n          <p>(doesn't work yet)</p>\n          <QuestionEditor areaNames={areaNames} generated={generated} options={options} />\n        </ReactModal>\n\n      </div>\n    )\n  }\n}\n\nexport default QuestionHandler","import React from 'react'\nimport QuestionHandler from '../QuestionHandler'\n\nconst QuestionSet = ({\n  questions,\n  startNumbering=1,\n}) => {\n  return (\n    <div className='QuestionSet'>\n      <ol start={startNumbering}>\n        {questions.map((q, i) => <li key={`Q${i+startNumbering}`}><QuestionHandler question={q} /></li>)}\n      </ol>\n    </div>\n  )\n}\n\nexport default QuestionSet","import React from 'react'\nimport renderElement from '../../../renderMethods/renderElement'\n\n\nconst renderArea = ({name, content, options}) => {\n  const gridArea = content.options ? content.options.gridArea || name : name\n\n  return (\n    <div key={`q-part-${name}`} style={{gridArea: gridArea}}>\n      {renderElement(content, options)}\n    </div>\n  )\n}\n\n\nconst QuestionWrapper = ({areas, style, options}) => {  \n  return (\n    <div className='QuestionWrapper' style={style}>\n      {Object.keys(areas).map((k) => renderArea({name: k, content: areas[k], options: options}))}\n    </div>\n  )\n}\n\nexport default QuestionWrapper","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport { \n  AnswerKey,\n  Heading,\n  QuestionSet,\n} from './components'\n\nclass Document extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {scale: 1}\n  }\n\n  render() {\n    const questions = this.props.order.map(i => this.props.questions[i])\n    const sectionClass = `sheet padding-${this.props.settings.pageMargins}`\n\n    return (\n      <div className=\"Document\" >\n        <div className=\"letter\">\n          <section className={sectionClass}>\n            <Heading />\n            <QuestionSet questions={questions} startNumbering={this.props.settings.startNumbering}/>\n          </section>\n        </div>\n        <div className=\"letter\">\n          <section className={sectionClass}>\n            <AnswerKey questions={questions} startNumbering={this.props.settings.startNumbering}/>\n          </section>\n        </div>\n      </div>\n    )\n  }\n}\n\n\nconst mapStateToProps = state => ({\n  questions: state.document.questions,\n  order: state.document.order,\n  settings: {...state.document.settings},\n})\n\nexport default connect(mapStateToProps)(Document)\n","import Document from './Document'\n\nexport default Document","import React from 'react'\nimport renderElement from '../../renderMethods/renderElement'\n\n\nclass CustomQuestion extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      inputType: 'manual',\n      preview: {\n        instructions: '',\n        question: '',\n        answer: '',\n      }\n    }\n    this.jsonInput = React.createRef()\n    this.inputType = React.createRef()\n    this.inputs = {\n      instructions: React.createRef(),\n      question: React.createRef(),\n      answer: React.createRef(),\n    }\n  }\n\n  updatePreview(fieldname) {\n    const newpreview = {...this.state.preview, [fieldname]: this.inputs[fieldname].current.value}\n    this.setState({preview: newpreview})\n  }\n\n  updateInstructions = () => this.updatePreview('instructions')\n  updateQuestion = () => this.updatePreview('question')\n  updateAnswer = () => this.updatePreview('answer')\n\n  getInput() {\n    switch(this.state.inputType) {\n      case 'json':\n        return JSON.parse(this.jsonInput.current.value)\n      case 'manual':\n        const inputs = {\n          instructions: this.inputs.instructions.current.value,\n          question: this.inputs.question.current.value,\n          answer: this.inputs.answer.current.value,\n        }\n        let generated = {}\n        for (const k in inputs) {\n          if (inputs[k]) {\n            generated[k] = inputs[k]\n          }\n        }\n        return {generated: generated}\n      default:\n        return {generated: {}}\n    }\n  }\n\n  addQuestion = () => {\n    this.props.addQuestion(this.getInput())\n    this.props.onRequestClose()\n  }\n\n  previewQuestion = () => {\n    const data = this.getInput().generated\n    console.log(data)\n    this.setState({preview: data})\n  }\n\n  updateInputType = () => this.setState({\n    inputType: this.inputType.current.value,\n    preview: {instructions: '', question: '', answer: ''},\n  })\n\n  render() {\n    const inputStyle = {width:'20rem'}\n    return (\n      <>\n        <select ref={this.inputType} onChange={this.updateInputType}>\n          <option value=\"manual\">Manual</option>\n          <option value='json'>JSON</option>\n        </select>\n        {this.state.inputType === 'manual'\n          ? (\n            <>\n            <div style={{marginTop: '1rem'}}>\n              Instructions: <br/>\n              <textarea \n                ref={this.inputs.instructions} \n                style={inputStyle}\n                onChange={this.updateInstructions}\n                ></textarea>\n              <span style={{marginLeft: '1rem', fontFamily: 'var(--docFontFamily, serif)'}}>{renderElement(this.state.preview.instructions)}</span>\n              <br />\n              Question: <br/>\n              <textarea \n                ref={this.inputs.question} \n                onChange={this.updateQuestion}\n                style={inputStyle}\n              ></textarea>\n              <span style={{marginLeft: '1rem', fontFamily: 'var(--docFontFamily, serif)'}}>{renderElement(this.state.preview.question)}</span>\n              <br/>\n              Answer: <br/>\n              <textarea \n                ref={this.inputs.answer} \n                style={inputStyle}\n                onChange={this.updateAnswer}\n                ></textarea>\n              <span style={{marginLeft: '1rem', fontFamily: 'var(--docFontFamily, serif)'}}>{renderElement(this.state.preview.answer)}</span>\n            </div>\n            <br />\n            <button onClick={this.addQuestion}>Add to Assignment</button>\n            </>\n          )\n          : (\n            <>\n              <p>Enter JSON</p>\n              <textarea ref={this.jsonInput} style={{width:'30rem', height: '10rem'}}></textarea>\n              <br />\n              <button onClick={this.addQuestion}>Add to Assignment</button>\n            </>\n          )\n        }\n      </>\n    )\n  }\n}\n\nexport default CustomQuestion","export const ADD_QUESTION = 'ADD_QUESTION'\nexport const CLEAR_ALL = 'CLEAR_ALL'\nexport const REMOVE_LAST = 'REMOVE_LAST'\nexport const UPDATE_DOCUMENT_SETTINGS = 'UPDATE_DOCUMENT_CONFIG'\n\nlet qid = 0\n\nexport const addQuestion = (question) => ({\n  type: ADD_QUESTION,\n  payload: {id: qid++, question: question},\n})\n\nexport const clearAll = () => ({\n  type: CLEAR_ALL\n})\n\nexport const removeLast = () => ({\n  type: REMOVE_LAST,\n})\n\nexport const updateDocumentSettings = (props) => ({\n  type: UPDATE_DOCUMENT_SETTINGS,\n  payload: props,\n})\n\nexport const setStartNumbering = (startat) => updateDocumentSettings({startNumbering: startat})\n","import { connect } from 'react-redux'\nimport CustomQuestion from './CustomQuestion'\nimport {\n  addQuestion\n} from '../../actions/document'\n\nconst mapDispatchToProps = dispatch => ({\n  addQuestion: (q) => dispatch(addQuestion(q))\n})\n\nexport default connect(null, mapDispatchToProps)(CustomQuestion)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { addLocalFont } from '../../actions/config'\n\nclass AddLocalFont extends React.Component {\n  constructor(props) {\n    super(props)\n    this.input = React.createRef()\n  }\n\n  addFont = () => {\n    const fontName = this.input.current.value\n    this.props.addLocalFont({family: fontName})\n  }\n\n  render() {\n    return (\n      <>\n      <input ref={this.input}></input>\n      <button onClick={this.addFont}>{this.props.children}</button>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addLocalFont: (font) => dispatch(addLocalFont(font)),\n})\n\nexport default connect(null, mapDispatchToProps)(AddLocalFont)","export const ADD_LOCAL_FONT = 'ADD_LOCAL_FONT'\n\n\nexport const addLocalFont = (font) => ({\n  type: 'ADD_LOCAL_FONT',\n  payload: font\n})\n","import React from 'react'\nimport AddLocalFont from './AddLocalFont'\n//import FontFamily from './FontSelect'\n//import FontSize from './FontSize'\n//import PageMargins from './PageMargins'\n//import StartNumbering from './StartNumbering'\n\nimport styles from './styles.module.css'\n\n\nexport const SettingsPage = (props) => {\n  return (\n    <div className={styles.SettingsPage}>\n      <h3>Settings </h3>\n\n      <h4>Use Local Font</h4>\n      <div>\n      Font Name: <AddLocalFont>Add To List</AddLocalFont> (You will then need to select it from the menu)\n      </div>\n    </div>\n  )\n  /*\n      <h4>Document Font</h4>\n      <div>\n        <FontSelect />\n      </div>\n\n      <h4>Page Margins</h4>\n      <div>\n        <PageMargins />\n      </div>\n\n      <h4>Start Numbering At:</h4>\n      <div>\n        <StartNumbering />\n      </div>\n    </div>\n  */\n}\n\n\n\nexport default SettingsPage","import React from 'react'\nimport { connect } from 'react-redux'\nimport { updateDocumentSettings } from '../../actions/document'\n\n\n\n/*\nIBM Plex Serif looks very similar to Computer Modern,\nwhich will be used in the LaTeX elements.\n*/\n\nconst GoogleFonts = [\n  {family: 'Lora'},\n  {family: 'Roboto Slab'},\n  {family: 'Source Sans Pro'},\n\n  /*\n  {family: 'EB Garamond'},\n  {family: 'Vollkorn'},\n  */\n]\n\nconst BrowserFonts = [\n  {label: 'Serif (browser default)', family: 'serif'},\n  {label: 'Sans-serif (browser default)', family: 'sans-serif'},\n]\n\nfunction fontSort(a, b) {\n  const aName = (a.label ? a.label : a.family).toUpperCase()\n  const bName = (b.label ? b.label : b.family).toUpperCase()\n  if (aName < bName) { return -1 }\n  if (aName > bName) { return 1}\n  return 0\n}\n\nlet nullkey = 0\n\nfunction renderFontOption({family, label}) {\n  if (family === \"0\") {\n    const optionLabel = label ? label : \"---\"\n    return (\n      <option key={`font-null-${++nullkey}`}\n        value=\"0\"\n        disabled\n      >{optionLabel}</option>\n    )\n  } else {\n    const optionLabel = label ? label : family\n    return (\n      <option key={`font-family-option-${family}`}\n        value={family}\n        >{optionLabel}</option>\n    )\n  }\n}\n\nclass FontFamilySelect extends React.Component {\n  constructor(props) {\n    super(props)\n    this.selection = React.createRef()\n    this.setCSSVariable(props.default)\n  }\n\n  fontList = () => {\n    let result = [\n      ...GoogleFonts.sort(fontSort),\n      ...BrowserFonts, \n    ]\n    if (this.props.localFonts.length > 0) {\n      result.push({family: \"0\"})\n      result = result.concat(this.props.localFonts.sort(fontSort))\n    }\n    return result\n  }\n\n  setCSSVariable(fontFamily) {\n    document.body.style.setProperty('--doc-font-family', fontFamily)\n  }\n\n  setDocFontFamily(fontFamily) {\n    this.props.updateDocumentSettings({ fontFamily })\n  }\n\n  setFromSelection = () => {\n    const value = this.selection.current.value\n    const fontFamily = value.slice(0,7) === '_LOCAL_' ? value.slice(8) : value\n    if (fontFamily) {\n      this.setCSSVariable(fontFamily)\n      this.setDocFontFamily(fontFamily)\n    }\n  }  \n\n  render() {\n    if (this.props.applyButton) {\n      return (\n        <>\n          <select ref={this.selection}\n            defaultValue={this.props.default}\n          >\n            {this.fontList().map((f) => renderFontOption(f))}\n          </select>\n          <button onClick={this.setDocFont}>Apply</button>\n        </>\n      )\n    } else {\n      return (\n        <>\n          <select ref={this.selection}\n            defaultValue={this.props.default}\n            onChange={this.setFromSelection}\n          >\n            {this.fontList().map((f) => renderFontOption(f))}\n          </select>\n        </>\n      )\n    }\n  }\n}\n\n\nconst mapStateToProps = state => ({\n  default: state.document.settings.fontFamily,\n  localFonts: [...state.config.localFonts],\n})\n\nconst mapDispatchToProps = dispatch => ({\n  updateDocumentSettings: (settings) => dispatch(updateDocumentSettings(settings)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontFamilySelect)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { updateDocumentSettings } from '../../actions/document'\n\n\n\nclass FontSizeSelect extends React.Component {\n  constructor(props) {\n    super(props)\n    this.selection = React.createRef()\n    this.setCSSVariable(props.default)\n  }\n\n  setCSSVariable(fontSize) {\n    document.body.style.setProperty('--doc-font-size', fontSize)\n  }\n\n  setDocFontSize(size) {\n    this.props.updateDocumentSettings({fontSize: size})\n  }\n\n  setFromSelection = () => {\n    const value = this.selection.current.value\n    if (value) {\n      this.setCSSVariable(value)\n      this.setDocFontSize(value)\n    }\n  }  \n\n  renderSizeOptions() {\n    const options = [5, 6, 7, 8, 9, 10, 11, 12, 13]\n    return (\n      <>\n      {options.map((s) => {\n        const size = `${s}pt`\n        return (\n          <option \n            value={size}\n            key={`fontOption-${size}`}\n          >{size}</option>\n        )\n      })}\n      </>\n    )\n  }\n\n  render() {\n    if (this.props.applyButton) {\n      return (\n        <>\n          <select ref={this.selection}\n            defaultValue={this.props.default}\n          >\n            {this.renderSizeOptions()}\n          </select>\n          <button onClick={this.setFromSelection}>Apply</button>\n        </>\n      )\n    } else {\n      return (\n        <>\n          <select ref={this.selection}\n            defaultValue={this.props.default}\n            onChange={this.setFromSelection}\n          >\n            {this.renderSizeOptions()}\n          </select>\n        </>\n      )\n    }\n  }\n}\n\n\nconst mapStateToProps = state => ({\n  default: state.document.settings.fontSize,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  updateDocumentSettings: (settings) => dispatch(updateDocumentSettings(settings)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontSizeSelect)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { updateDocumentSettings } from '../../actions/document'\n\nconst MarginOptions = ['5mm', '10mm', '15mm', '20mm']\n\n\nclass SetPageMargins extends React.Component {\n  constructor(props) {\n    super(props)\n    this.selection = React.createRef()\n  }\n\n  setPageMargins = () => {\n    const marginSize = this.selection.current.value\n    if (marginSize) {\n      this.props.updateDocumentSettings({pageMargins: marginSize})\n    }\n  }\n\n\n  renderOptions() {\n    return (\n      <>\n        {MarginOptions.map((m) => {\n          return (\n            <option key={`margin-select-${m}`} value={m}>{m}</option>\n          )\n        })}\n      </>\n    )\n  }\n\n  render() {\n    if (this.props.applyButton) {\n      return (\n        <>\n        <select ref={this.selection}\n          defaultValue={this.props.default}\n          >\n          {this.renderOptions()}\n        </select>\n        <button onClick={this.setPageMargins}>Apply</button>\n        </>\n      )\n    } else {\n      return (\n        <select ref={this.selection}\n          onChange={this.setPageMargins}\n          defaultValue={this.props.default}\n          >\n          {this.renderOptions()}\n        </select>\n      )\n    }\n    \n  }\n}\n\n\nconst mapStateToProps = state => ({\n  default: state.document.settings.pageMargins\n})\nconst mapDispatchToProps = dispatch => ({\n  updateDocumentSettings: (settings) => dispatch(updateDocumentSettings(settings))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SetPageMargins)","import React from 'react'\n\nclass PreviewZoom extends React.Component {\n  constructor(props) {\n    super(props)\n    this.selection = React.createRef()\n    this.default = 110\n    this.setPreviewZoom(this.default)\n  }\n\n  setPreviewZoom(magnification) {\n    const scale = magnification / 100.0\n    const matrix = [scale, 0, 0, scale, (magnification-110)*1.5, (magnification-100)*10.8].join(',')\n    document.body.style.setProperty('--previewZoom', `matrix(${matrix})`)\n  }\n\n  setFromInput = () => {\n    const magnification = +this.selection.current.value\n    this.setPreviewZoom(magnification)\n  }\n\n  render() {\n    if (this.props.type & this.props.type === 'input') {\n      return (\n        <input\n          ref={this.selection} \n          type=\"number\"\n          min=\"70\"\n          max=\"150\"\n          step=\"5\"\n          defaultValue={this.default}\n          onChange={this.setFromInput}\n        ></input>\n      )\n    } else {\n      const options = [70, 80, 90, 100, 110, 120, 130, 140, 150]\n      return (\n        <select\n          ref={this.selection}\n          defaultValue={this.default}\n          onChange={this.setFromInput}>\n          {options.map((z) => <option key={`zoom-option-${z}`} value={z}>{z}</option>)}\n        </select>\n      )\n    }\n  }\n}\n\nexport default PreviewZoom","import React from 'react'\nimport { connect } from 'react-redux'\nimport { updateDocumentSettings } from '../../actions/document'\n\nclass StartNumbering extends React.Component {\n  constructor(props) {\n    super(props)\n    this.input = React.createRef()\n  }\n\n  setNumbering = () => {\n    const startat = this.input.current.value\n    if (startat) {\n      this.props.updateDocumentSettings({startNumbering: startat})\n    }\n  }\n\n  render() {\n    if (this.props.applyButton) {\n      return (\n        <>\n          <input \n            type='number' \n            min='1' \n            ref={this.input} \n            style={{width: '2rem'}}></input>\n          <button onClick={this.setNumbering}>Apply</button>\n        </>\n      )\n    } else {\n      return (\n        <>\n          <input \n            onChange={this.setNumbering}\n            type='number' \n            defaultValue='1'\n            min='1' \n            ref={this.input} \n            style={{width: '2rem'}}></input>\n        </>\n      )\n    }\n  }\n}\n\n\nconst mapDispatchToProps = dispatch => ({\n  updateDocumentSettings: (settings) => dispatch(updateDocumentSettings(settings)),\n})\n\nexport default connect(null, mapDispatchToProps)(StartNumbering)","import SettingsPage from './SettingsPage'\n\nimport AddLocalFont from './AddLocalFont'\nimport FontFamilySelect from './FontFamily'\nimport FontSizeSelect from './FontSize'\nimport PageMargins from './PageMargins'\nimport PreviewZoom from './PreviewZoom'\nimport StartNumbering from './StartNumbering'\n\nexport {\n  AddLocalFont,\n  PageMargins,\n  PreviewZoom,\n  FontFamilySelect,\n  FontSizeSelect,\n  StartNumbering,\n}\n\nexport default SettingsPage","import React from 'react'\nimport renderElement from '../renderMethods/renderElement'\n\nconst latexfmt = (...a) => String.raw(...a).replace('\\\\`', '`');\n\nconst examples = [\n  'Text can be _italic_, __bold__, or ___both___.',\n  'Or, *asterisks* will **accomplish** the ***same thing***.',\n  latexfmt`f: x --> x^3^ - 3x^2^ + 9x - 8 doesn't look as nice as $$f: x \\mapsto x^3 - 3x^2 + 9x - 8$$`,\n  latexfmt`**Markdown:** a~n~ = a~n-1~ + 2n - 1 , **LaTeX:** $$a_n = a_{n-1} + 2n - 1$$`,\n  latexfmt`There are two ways to write a fraction: $$\\frac{24}{18} = {4 \\over 3}$$`,\n  latexfmt`$$V = \\frac{4}{3}\\pi r^3$$`,\n  latexfmt`Use the quadratic formula to solve for $$x$$: $$$x = { -b \\pm \\sqrt{b^2 - 4ac} \\over 2a }$$$`,\n  latexfmt`Determine the measure of $$\\angle{ABC}$$.`,\n  latexfmt`$$\\overline{AB}$$ is a line segment. $$\\overleftrightarrow{CD}$$ is a line. $$\\overrightarrow{EF}$$ is a ray.`,\n  latexfmt`Prove that $$\\triangle{ABC} \\cong \\triangle{DEF}$$.`,\n  latexfmt`Given $$\\vec{u} = \\langle 3,5 \\rangle$$ and $$\\vec{v} = \\langle -4, 9 \\rangle$$, calculate $$\\vec{u} \\cdot \\vec{v}$$.`,\n  latexfmt`Remember that $$re^{i\\theta} = r(\\cos\\theta + i\\sin\\theta)$$`,\n  latexfmt`$$$\\int_a^b f'(x)dx = f(b) - f(a)$$$`,\n  latexfmt`$$$\\sum_{n=0}^{\\infty}\\frac{f^{(n)}(a)}{n!}(x-a)^n$$$`,\n  latexfmt`$$\\lnot (p \\land q) \\iff (\\lnot p \\lor \\lnot q)$$`,\n\n  latexfmt`$$$\na_{n+1} = \\left\\{\\begin{array}{r l}\n  3a_n + 1 & \\text{if $a_n$ is odd} \\\\\n  a_n \\div 2 & \\text{if $a_n$ is even} \\\\\n\\end{array}\\right.\n$$$`,\n\n  latexfmt`$$$\n\\left[\\begin{array}{r r r}\n   1 &   4 &  -9 \\\\\n  16 & -25 &  66 \\\\\n  49 &  64 & -81 \\\\\n\\end{array}\\right]\n$$$`,\n\n  latexfmt`$$\\forall\\ \\epsilon > 0, x \\in \\mathbb{R},\\ \\exists\\ \\delta > 0 \\text{ such that } 0 < |x-c| < \\delta \\implies |f(x) - L| < \\epsilon$$`,\n\n]\n\nconst RenderExample = ({text}) => {\n  return (\n    <>\n    <pre style={{\n      backgroundColor: 'rgba(55,55,55,0.01)',\n      border: '1px solid rgba(0,0,0,0.5)',\n      padding: '0.5rem',\n      overflowX: 'scroll',\n    }}>{text}</pre>\n    <span style={{\n      fontFamily: 'var(--docFontFamily, serif)', \n      paddingLeft: '0.5rem',\n    }}>{renderElement(text)}</span>\n    </>\n  )\n}\n\nconst Notes = (props) => {\n  return (\n    <>\n    <style>{`.katex-html { font-size: 12pt; }`}</style>\n    <h4>Notes <span /><button onClick={props.onRequestClose}>Close</button></h4>\n    <div style={{fontSize: '11pt'}}>\n      <p>Double-click the header to edit it.</p>\n      <p>Make sure the scale is set to 100% when printing.</p>\n      <p>Create a PDF by selecting \"Save to PDF\" when printing.</p>\n\n      <h4>Issues</h4>\n      <p>Questions past the first page get cut off.</p>\n      <p>\n        The plotting algorithm (used on the Rational Graph question) \n        needs to be improved.\n      </p>\n\n      <h4>Text formatting for custom questions</h4>\n      <p>\n        Italic and bold font, as well as superscripts, subscripts, and arrows,\n        can be achieved using markdown.\n      </p>\n      <p>\n        Text wrapped in $$ ... $$ will be rendered as a math formula using LaTeX.\n      </p>\n      <p>\n        Use $$$ ... $$$ for display style math.\n      </p>\n\n      <h4>Examples:</h4>\n      {examples.map((s, i) => (\n        <div key={`render-example-${i}`} style={{marginBottom: '1rem'}}>\n          <RenderExample text={s} />\n        </div>\n      ))}\n    </div>\n    <button onClick={props.onRequestClose}>Close</button>\n    </>\n  )\n}\n\nexport default Notes","import React from 'react'\nimport { connect } from 'react-redux'\n\nclass CheckStateButton extends React.Component {\n\n  logState = () => {console.log(this.props.state)}\n\n  render() {\n    return <button onClick={this.logState}>{this.props.children}</button>\n  }\n}\n\nconst mapStateToProps = state => ({\n  state: state,\n})\n\nexport default connect(mapStateToProps)(CheckStateButton)","function tryChild(c) {\n  try {\n    return jsonml(c)\n  } catch(e) {\n    return c\n  }\n}\n\nfunction jsonml(thing) {\n  return [thing._type(), thing._props(), ...thing._children().map(tryChild)]\n}\n\nclass DomElement {\n  constructor(type, props, ...children) {\n    this.type = type\n    if (props) {\n      if (props.constructor === Object) {\n        this.props = props\n        this.children = []\n      } else {\n        this.props = {}\n        this.children = [props]\n      }\n    }\n    this.children = this.children.concat(children)\n  }\n\n  _type() { return this.type }\n  _props() { return this.props }\n  _children() { return this.children }\n\n  jsonml() {\n    return jsonml(this)\n  }\n\n  toJsonML() {\n    return jsonml(this)\n  }\n}\n\nexport {\n  DomElement\n}","\n\nconst test = function(f, x, y) {\n  const r = f({x: x, y: y})\n  if (r > 0) { return 'gt' }\n  if (r < 0) { return 'lt'}\n  return 'eq'\n}\n\nconst contourPresent = function(f, x, y, d) {\n  const p = d / 30\n  let q, r, s, t\n  try {\n    q = test(f, x, y)\n  } catch(e) {\n    q = test(f, x+p, y+p)\n  }\n  \n  try {\n    r = test(f, x+d, y)\n  } catch(e) {\n    r = test(f, x+d-p, y+p)\n  }\n  if (r !== q) { return true }\n\n  try {\n    s = test(f, x+d, y+d)\n  } catch(e) {\n    s = test(f, x+d-p, y+d-p)\n  }\n  if (s !== q) { return true }\n\n  try {\n    t = test(f, x, y+d)\n  } catch(e) {\n    t = test(f, x+p, y+d-p)\n  }\n\n  return false\n}\n\n\nconst subdivide = function(f, x, y, d, depth, searchDepth) {\n  const hd = d / 2\n  const props = [hd, depth-1, searchDepth-1]\n  return [\n    ...createTree(f, x, y, ...props),\n    ...createTree(f, x+hd, y, ...props),\n    ...createTree(f, x+hd, y+hd, ...props),\n    ...createTree(f, x, y+hd, ...props)\n  ]\n}\n\nconst createTree = function(f, x, y, d, depth, searchDepth) {\n  if (searchDepth > 0) {\n    return subdivide(f, x, y, d, depth, searchDepth)\n  } else {\n    if (contourPresent(f, x, y, d)) {\n      if (depth > 0) {\n        return subdivide(f, x, y, d, depth, searchDepth)\n      } else {\n        return [{x: x+d/2, y: y+d/2}]\n      }\n    } else {\n      return []\n    }\n  }\n}\n\n\nclass QuadTree {\n\tconstructor({left, right, x=-10, y=-10, d=20, depth=10, searchDepth=6}) {\n    this.f = p => left(p) - right(p)\n\t\tthis.x = x\n\t\tthis.y = y\n\t\tthis.d = d\n\t\tthis.depth = depth\n\t\tthis.searchDepth = searchDepth\n\t}\n\n\tcalcPoints() {\n\t\treturn createTree(this.f, this.x, this.y, this.d, this.depth, this.searchDepth)\n\t}\n}\n\nexport {\n  QuadTree,\n  createTree,\n}","import { DomElement } from './domElement'\nimport { createTree } from './QuadTree'\n\n\nfunction round(n, places) {\n\tconst d = Math.pow(10, places)\n\treturn Math.round(n * d) / d\n}\n\nfunction makesrange(min, max, step=1, anchor) {\n\tif (anchor === undefined) {\n\t\tanchor = min;\n\t} else if (anchor < min) {\n\t\tanchor = min;\n\t} else if (anchor > max) {\n\t\tanchor = max;\n\t}\n\tlet r = [anchor,];\n\tlet v = anchor - step;\n\twhile (v >= min) {\n\t\t\tr.splice(0, 0, v);\n\t\t\tv -= step;\n\t}\n\tv = anchor + step;\n\twhile (v <= max) {\n\t\t\tr.push(v);\n\t\t\tv += step;\n\t}\n\treturn r;\n}\n\n\nexport class SvgElement extends DomElement {\n\tadd(elem) {\n\t\tthis.children.push(elem)\n\t}\n}\n\nexport class Canvas extends SvgElement {\n\tconstructor(x0, y0, x1, y1, props={}, ...children) {\n\t\tsuper('svg', props, ...children)\n\t\tthis.x0 = x0\n\t\tthis.x1 = x1\n\t\tthis.y0 = y0\n\t\tthis.y1 = y1\n\t\tthis.extra = 0.2\n\t}\n\n\tw() { return this.x1 - this.x0 }\n\n\th() { return this.y1 - this.y0 }\n\n\tviewBox() {\n\t\tconst a = this.x0 - this.extra\n\t\tconst b = this.y0 - this.extra\n\t\tconst c = this.w() + 2*this.extra\n\t\tconst d = this.h() + 2*this.extra\n\t\treturn `${a} ${b} ${c} ${d}`\n\t}\n\n\t_props() {\n\t\treturn {...this.props, viewBox: this.viewBox()}\n\t}\n}\n\nexport class Layer extends SvgElement {\n\tconstructor(props={}, children=[]) {\n\t\tsuper('g', props, ...children)\n\t}\n}\n\nexport class CartesianPlane extends Canvas {\n\n\tviewBox() {\n\t\tconst a = this.x0 - this.extra\n\t\tconst b = -this.y1 - this.extra\n\t\tconst c = this.w() + 2*this.extra\n\t\tconst d = this.h() + 2*this.extra\n\t\treturn `${a} ${b} ${c} ${d}`\n\t}\n\n\t_children() {\n\t\treturn [new SvgElement('g', {transform: 'scale(1,-1)'}, ...this.children)]\n\t}\n\n\taddGrid() {\n\t\tthis.children = [makeGrid(this.x0, this.y0, this.x1, this.y1), ...this.children]\n\t}\n}\n\nclass Grid extends SvgElement {\n\tconstructor(values, span=[-10,10], axisAt=0, gridStyle={}, axisStyle={}, props={}) {\n\t\tsuper('g', props)\n\t\tthis.values = values\n\t\tthis.span = span\n\t\tthis.axisAt = axisAt\n\t\tthis.gridStyle = Object.assign({}, {\n\t\t\tstroke: 'blue', \n\t\t\tstrokeWidth: '0.05',\n\t\t\tstrokeOpacity: '0.3',\n\t\t}, gridStyle)\n\t\tthis.axisStyle = Object.assign({}, {\n\t\t\tstroke: 'black',\n\t\t\tstrokeWidth: '0.1',\n\t\t\tstrokeOpacity: '1',\n\t\t}, axisStyle)\n\t}\n\n\tmakeLine(v) {\n\t\tlet props = {d: this.linePath(v)}\n\t\tif (v === this.axisAt) {\n\t\t\tprops['style'] = this.axisStyle\n\t\t}\n\t\treturn ['path', props, []]\n\t}\n\n\t_props() {\n\t\treturn {...this.props, style: this.gridStyle}\n\t}\n\n\t_children() {\n\t\treturn this.values.map(v => this.makeLine(v))\n\t}\n}\n\nclass GridX extends Grid {\n\tlinePath(v) {\n\t\tconst y0 = this.span[0]\n\t\tconst y1 = this.span[1]\n\t\treturn `M${v},${y0}V${y1}`\n\t}\n}\n\nclass GridY extends Grid {\n\tlinePath(v) {\n\t\tconst x0 = this.span[0]\n\t\tconst x1 = this.span[1]\n\t\treturn `M${x0},${v}H${x1}`\n\t}\n}\n\nfunction makeGrid(x0, y0, x1, y1) {\n\treturn new Layer({}, [\n\t\tnew GridX(makesrange(x0, x1, 1, 0), [y0, y1]),\n\t\tnew GridY(makesrange(y0, x1, 1, 0), [x0, x1])\n\t])\n}\n\nexport class Path extends SvgElement {\n\tconstructor(points, props={}, roundTo=6) {\n\t\tsuper('path', props, [])\n\t\tthis.points = points\n\t\tthis.children = []\n\t\tthis.roundTo = roundTo\n\t}\n\n\td() {\n\t\treturn 'M' + this.points.map(p => `${p[0]},${p[1]}`).join('L')\n\t}\n\n\t_props() {\n\t\treturn {...this.props, d: this.d()}\n\t}\n}\n\n\nclass Plot extends SvgElement {\n\tconstructor({\n\t\txRange=[-10,10],\n\t\tyRange=[-10,10],\n\t\tstep=0.05,\n\t\tmaxD2=0.06,\n\t\troundTo=6,\n\t\tstyle={\n\t\t\tstroke: 'rgb(200,0,100)',\n\t\t\tstrokeOpacity: '0.8',\n\t\t\tstrokeWidth: '0.2',\n\t\t\tfill: 'none',\n\t\t}\n\t}={}) {\n\t\tsuper('g', {}, [])\n\t\tthis.xRange = xRange\n\t\tthis.yRange = yRange\n\t\tthis.step = step\n\t\tthis.maxD2 = maxD2\n\t\tthis.roundTo = roundTo\n\t\tthis.style = style\n\t}\n\n\t_props() {\n\t\treturn {style: this.style}\n\t}\n}\n\nexport class Parametric extends Plot {\n\tconstructor({ymap = t => t, xmap = t => t, domain=[-10, 10]}={}, props={}) {\n\t\tsuper(props)\n\t\tthis.ymap = ymap\n\t\tthis.xmap = xmap\n\t\tthis.domain = domain\n\t}\n\n\tinRange(pt) {\n\t\treturn (\n\t\t\tthis.xRange[0] <= pt[0] \n\t\t\t&& this.xRange[1] >= pt[0]\n\t\t\t&& this.yRange[0] <= pt[1]\n\t\t\t&& this.yRange[1] >= pt[1]\n\t\t)\n\t}\n\n\ttryEval(t) {\n\t\ttry {\n\t\t\tconst y = this.ymap(t)\n\t\t\tconst x = this.xmap(t)\n\t\t\treturn [x, y]\n\t\t} catch(e) {\n\t\t\treturn 'undefined'\n\t\t}\n\t}\n\n\tfill(t0, p0, t1, p1) {\n\t\tif (p0 === 'undefined') {\n\t\t\tif (p1 === 'undefined') {\n\t\t\t\treturn []\n\t\t\t} else {\n\t\t\t\tlet p = 'undefined'\n\t\t\t\tlet t = t0\n\t\t\t\twhile (p === 'undefined' && t < t1) {\n\t\t\t\t\tt += 0.000001\n\t\t\t\t\tp = this.tryEval(t)\n\t\t\t\t}\n\t\t\t\tif (p !== 'undefined' && t < t1) {\n\t\t\t\t\treturn [p, ...this.fill(t, p, t1, p1)]\n\t\t\t\t} else {\n\t\t\t\t\treturn []\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (p1 === 'undefined') {\n\t\t\tlet p = 'undefined'\n\t\t\tlet t = t1\n\t\t\twhile (p === 'undefined' && t > t0) {\n\t\t\t\tt -= 0.000001\n\t\t\t\tp = this.tryEval(t)\n\t\t\t}\n\t\t\tif (p !== 'undefined' && t > t0) {\n\t\t\t\treturn [...this.fill(t0, p0, t, p), p]\n\t\t\t} else {\n\t\t\t\treturn []\n\t\t\t}\n\t\t} else {\n\t\t\tconst dx = p1[0] - p0[0]\n\t\t\tconst dy = p1[1] - p0[1]\n\t\t\tif (dx * dx + dy * dy > this.maxD2) {\n\t\t\t\tconst t = (t0 + t1) * 0.5\n\t\t\t\tconst p = this.tryEval(t)\n\t\t\t\treturn [...this.fill(t0, p0, t, p), ...this.fill(t, p, t1, p1)]\n\t\t\t} else {\n\t\t\t\treturn []\n\t\t\t}\n\t\t}\n\t} \n\n\tcalculatePaths() {\n\n\t\tlet t = this.domain[0]\n\t\tlet p = this.tryEval(t)\n\n\t\twhile (p === 'undefined' && t <= this.domain[1]) {\n\t\t\tt += this.step\n\t\t\tp = this.tryEval(t)\n\t\t}\n\n\t\t\n\t\tlet points = [p]\n\t\tlet t0 = t\n\t\tlet p0 = p\n\t\tt += this.step\n\n\t\twhile (t <= this.domain[1]) {\n\t\t\tp = this.tryEval(t)\n\t\t\tpoints = [...points, p0, ...this.fill(t0, p0, t, p)]\n\t\t\tt0 = t\n\t\t\tp0 = p\n\t\t\tt += this.step\n\t\t}\n\n\t\tlet paths = []\n\t\t\n\t\tlet i = 0\n\t\tlet l = points.length\n\n\t\twhile (i < l) {\n\t\t\twhile (points[i] === 'undefined') {\n\t\t\t\ti += 1\n\t\t\t\tif (i >= l) { break }\n\t\t\t}\n\t\t\tif (i >= l) { break }\n\t\t\tlet start = i\n\t\t\twhile (points[i] !== 'undefined') {\n\t\t\t\ti += 1\n\t\t\t\tif (i >= l) { break }\n\t\t\t}\n\t\t\tlet path = points.slice(start, i)\n\t\t\tpaths.push(path)\n\t\t}\n\n\t\treturn paths\n\t}\n\n\t_children() {\n\t\tconst paths = this.calculatePaths()\n\t\tlet result = []\n\t\tfor (const pts of paths) {\n\t\t\tif (pts.length > 0) {\n\t\t\t\tresult.push(new Path(pts, this.roundTo))\n\t\t\t}\n\t\t}\n\t\treturn result\n\t}\n}\n\n\nexport class Piecewise extends Plot {\n\tconstructor(pieces, props) {\n\t\t/*\n\t\t\tpieces should be objects with ymap and domain, e.g. \n\t\t\tpieces = [\n\t\t\t\t{ ymap: x => x^2, domain: [-10,1] },\n\t\t\t\t{ ymap: x => 3*(x-1) + 1, domain: [1,10] }\n\t\t\t]\n\t\t*/\n\t\tsuper(props)\n\t\tthis.pieces = pieces\t\t\n\t}\n\n\t_children() {\n\t\tlet children = []\n\t\tfor (const {ymap, domain} of this.pieces) {\n\t\t\tconst pieceprops = Object.assign({}, \n\t\t\t\tthis.props, \n\t\t\t\t{ ymap: ymap, domain: domain }\n\t\t\t)\n\t\t\tchildren.push(new Parametric(pieceprops, {style: {}}))\n\t\t}\n\t\treturn children\n\t}\n}\n\n\nexport class Rational extends Plot {\n\tconstructor(rationalProps, props={}) {\n\t\tsuper(props)\n\t\tthis.roots = rationalProps.roots || []\n\t\tthis.holes = rationalProps.holes || []\n\t\tthis.vas = rationalProps.vas || []\n\t\tthis.domain = rationalProps.domain || [-10,10]\n\t}\n\n\tf(x) {\n\t\tlet den = 1\n\t\tfor (const r of this.vas) {\n\t\t\tif (r === x) {\n\t\t\t\treturn 'undefined'\n\t\t\t}\n\t\t\tden *= (x - r)\n\t\t}\n\t\tlet num = 1\n\t\tfor (const r of this.roots) {\n\t\t\tnum *= (x - r)\n\t\t}\n\t\treturn num / den\n\t}\n\n\t_plotFunction() {\n\t\tlet sortedDiscontinuities = []\n\t\tconst start = this.domain[0]\n\t\tconst stop = this.domain[1]\n\t\tfor (const v of [...this.vas].sort((a, b) => a - b)) {\n\t\t\tif (v > this.domain[0] && v < this.domain[1]) {\n\t\t\t\tsortedDiscontinuities.push(v)\n\t\t\t}\n\t\t}\n\n\t\tconst xvals = [start, ...sortedDiscontinuities, stop]\n\n\t\tlet domains = []\n\t\tfor (let i = 1; i < xvals.length; i++) {\n\t\t\tdomains.push( [xvals[i-1]+0.00001, xvals[i]-0.00001] )\n\t\t}\n\t\t\n\t\tconst piecemap = d => ({ ymap: x => this.f(x), domain: d })\n\t\treturn [new Piecewise(domains.map(piecemap), this.props)]\n\t}\n\n\t_plotVerticalAsymptotes() {\n\t\t\n\t\tconst asymptoteStyle = {\n\t\t\tstroke: '#555',\n\t\t\tstrokeOpacity: '0.5',\n\t\t\tstrokeWidth: '0.2',\n\t\t\tstrokeDasharray: \"0.7 0.2\",\n\t\t}\n\n\t\tlet asyms = []\n\t\tfor (const v of this.vas) {\n\t\t\tif (v >= this.xRange[0] && v <= this.xRange[1]) {\n\t\t\t\tasyms.push(new Path([[v, this.yRange[0]], [v, this.yRange[1]]]))\n\t\t\t}\n\t\t}\n\n\t\treturn [new Layer({style: asymptoteStyle}, asyms)]\n\t}\n\n\t_plotHoles() {\n\t\tconst holeStyle = {\n\t\t\tfill: 'white',\n\t\t}\n\n\t\tlet holes = []\n\t\tconst r = 0.25\n\t\tfor (const x of this.holes) {\n\t\t\tconst y = this.f(x)\n\t\t\tholes.push(new SvgElement('circle', {cx: x, cy: y, r: r, style: holeStyle}))\n\t\t}\n\t\treturn holes\n\t}\n\n\t_plotRoots() {\n\t\t//const rootStyle = {}\n\t\tlet roots = []\n\t\tconst r = 0.1\n\t\tfor (const x of this.roots) {\n\t\t\tconst y = this.f(x)\n\t\t\troots.push(new SvgElement('circle', {cx: x, cy: y, r: r}))\n\t\t}\n\t\treturn roots\n\t}\n\n\t_children() {\n\t\treturn [\n\t\t\t...this._plotVerticalAsymptotes(), \n\t\t\t...this._plotFunction(), \n\t\t\t...this._plotRoots(), \n\t\t\t...this._plotHoles(),\n\t\t]\n\t}\n}\n\nconst defaultMarker = (p) => new SvgElement('circle', {cx: p.x, cy: p.y, r: '0.1'})\n\nexport class QuadTreePlot extends SvgElement {\n\tconstructor(quadtreeprops, {marker=defaultMarker, style={fill: 'rgba(200,0,100,0.6)'}}={}) {\n\t\tsuper('g', {style: style})\n\t\tthis.marker = marker\n\t\tthis.quadtreeprops = quadtreeprops\n\t}\n\n\t_type() { return 'g' }\n\t_props() { return this.props }\n\t_children() {\n\t\tconst {f, x, y, d, depth, searchDepth} = this.quadtreeprops\n\t\tconst points = createTree(f, x, y, d, depth, searchDepth)\n\t\tconsole.log(points)\n\t\treturn [...points.map(p => this.marker(p))]\n\t}\n}\n","import {\n  range as mathjsrange \n} from 'mathjs'\n\nexport const range = function(start, stop, inclusive=false) {\n  return mathjsrange(start, stop, inclusive)._data\n}\n\nexport const gcd = (a, b) => {\n  if (a > b) {\n    return gcd(b, a)\n  } else if (a === 0) {\n    return b\n  } else {\n    return gcd(b % a, a)\n  }\n}","import Random from 'random-js'\n\nexport class Randomizer {\n  constructor(seed=null) {\n    this.seed = seed\n    this.engine = Random.engines.mt19937()\n    this.reset()\n  }\n\n  reset() {\n    if (this.seed !== null) {\n      this.engine.seed(this.seed)\n    } else {\n      this.engine.autoSeed()\n    }\n  }\n\n  randint(min, max) {\n    return Random.integer(min, max)(this.engine)\n  }\n\n  real(min, max, inclusive=false) {\n    return Random.real(min, max, inclusive)(this.engine)\n  }\n\n  random(max=1.0) {\n    return this.real(0, max, false)\n  }\n\n  shuffle(array, first) {\n    if (first) {\n      let shuffled = Random.shuffle(this.engine, array.slice(1))\n      return [...shuffled.slice(0,first), array[0], ...shuffled.slice(first)]\n    } else {\n      return Random.shuffle(this.engine, array)\n    }\n  }\n\n  choice(array) {\n    return Random.pick(this.engine, array)\n  }\n\n  sample(pop, size) {\n    return Random.sample(this.engine, pop, size)\n  }\n\n  poprandom(array) {\n    const i = this.randint(0,array.length-1)\n    const v = array[i]\n    const remaining = [...array.slice(0,i), ...array.slice(i+1)]\n    return {\n      popped: v,\n      remaining: remaining\n    }\n  }\n}\n\n","//import math from 'mathjs'\nimport { Randomizer } from './tools/random_randomjs'\nimport { defaultsDeep } from 'lodash'\n\nlet randomSeedGenerator = new Randomizer()\n\nclass QGen {\n  constructor(props={}) {\n    this.kwds = props.params || {}\n    //this.randomSeed = props.randomSeed || math.randomInt(0, math.pow(2,32))\n    this.randomSeed = props.randomSeed || randomSeedGenerator.randint(0, Math.pow(2, 32)-1)\n    this.random = new Randomizer(this.randomSeed)\n  }\n\n  static register() {\n    let result = {name: this.name}\n    return {...result, ...this.info}\n  }\n\n  getOptions() {\n    return this.constructor.options\n  }\n\n  _handleSpecialCases(k, v) {\n    if (k === 'choices' && Array.isArray(v)) {\n      return {\n        type: 'jsonml',\n        data: ['ol', {\n          type: 'a', \n          children: v.map(c => ['li', {style: {margin: '0.3rem'}}, c])\n        }]\n      }\n    } else {\n      return v\n    }\n  }\n\n  setRandomSeed(seed) {\n    this.randomizer.seed(seed)\n  }\n\n  _getParams() {\n    return defaultsDeep({}, this.params, this.constructor.defaults)\n  }\n\n  output() {\n    const out = this.generate(this._getParams())\n    let generated = {}\n    for (const k in out) {\n      generated[k] = this._handleSpecialCases(k, out[k])\n    }\n    return {\n      method: '',\n      randomSeed: this.randomSeed,\n      params: this.params,\n      generated: generated,\n      options: this.getOptions(),\n    }\n  }\n}\n\nexport default QGen","import math from 'mathjs'\nimport Polynomial from 'polynomial'\nimport { CartesianPlane, Rational, SvgElement, Canvas, Path, Parametric } from './tools/plot'\nimport { range, gcd } from './tools/handystuff'\n//import { shuffle, randint, choice, sample } from './random_randomjs'\nimport QGen from './QGen'\nimport _ from 'lodash'\n\n/***** Handy Things *********/\n\nfunction randomPolynomialCoefficients({degree, maxCoefficient=12, terms='auto'}={}) {\n  const rd = this.random\n  if (terms === 'auto') {\n    terms = degree + 1\n  }\n  let p = {}\n  const whichterms = rd.sample(range(0,degree), terms-1)\n  p[degree] = rd.randint(1, maxCoefficient)\n\n  for (const d of whichterms) {\n    p[d] = rd.randint(1, maxCoefficient) * rd.choice([-1,1])\n  }\n  return p\n}\n\nfunction randomPolynomial(props={}) {\n  const p = randomPolynomialCoefficients.call(this, props)\n  return new Polynomial(p)\n}\n\nfunction divrem(n, p) {\n  let r = n\n  let d = 0\n  while (r % p === 0) {\n    r = r / p\n    d += 1\n  }\n  return [d, r]\n}\n\nfunction primeFactorization(n) {\n  let result = {}\n  let r = n\n  let d\n  let p = 2\n  if (r % p === 0) {\n    [d, r] = divrem(r, p)\n    result[p] = d\n  }\n  p = 3\n  if (r % p === 0) {\n    [d, r] = divrem(r, p)\n    result[p] = d\n  }\n  p = 5\n  while (p * p <= r) {\n    if (r % p === 0) {\n      [d, r] = divrem(r, p)\n      result[p] = d\n    }\n    if (r === 1) {\n      return result\n    }\n    p += 2\n    if (r % p === 0) {\n      [d, r] = divrem(r, p)\n      result[p] = d\n    }\n    if (r === 1) {\n      return result\n    }\n    p += 4\n  }\n  if (r !== 1) {\n    result[r] = 1\n  }\n  return result\n}\n\nfunction allFactors(n, {include1=false, includeN=false}) {\n  let result = []\n  const factors = primeFactorization(n)\n  for (const p in factors) {\n    \n  }\n  if (include1) {\n    result.push(1)\n  }\n  if (includeN) {\n    result.push(n)\n  }\n}\n/****************************/\n\nexport class SolveQuadratic extends QGen {\n  static info = {\n    name: 'Solve Quadratic',\n    description: 'Solve a quadratic equation with integer solutions.'\n  }\n\n\n  generate(props) {\n    const rd = this.random\n    const [r1, r2] = rd.sample(range(-12,13), 2)\n\n    const a = 1\n    const b = -(r1 + r2)\n    const c = r1 * r2\n\n    const poly = new Polynomial({2: a, 1: b, 0: c})\n    const rand = randomPolynomial.call(this, {degree: 2, maxCoefficient: 7, terms: 2})\n    \n    const [left, right] = rd.random() < 0.5 ? [poly.add(rand), rand] : [rand, poly.add(rand)]\n\n    function fmtAns(ans) {\n      return'$$x = ' + ans.sort((a, b) => a > b).join(', ') + '$$'\n    }\n\n    return {\n      instructions: 'Determine the values of $$x$$ that satisfy the equation:',\n      question: '$$' + left.toLatex() + ' = ' + right.toLatex() +'$$',\n      answer: fmtAns([r1, r2]),\n    }\n  }\n}\n\nexport class FactorQuadraticHard extends QGen {\n  static info = {\n    name: 'Factor Quadratic (Hard)',\n    description: 'Factor a quadratic using AC method.'\n  }\n\n  static options = {\n    math: {\n      delimiters: {\n        inline: {left: '&', right: '&'},\n        display: {left: '&&', right: '&&'},\n      }\n    }\n  }\n\n  generate(params) {\n    let rd = this.random\n\n    const a1 = rd.randint(2,5)\n    const a2 = rd.randint(2,8-a1)\n\n    let b1 = rd.randint(1,14-a2)\n    while (gcd(a1, b1) !== 1) {\n      b1 = rd.randint(1,14-a2)\n    }\n    b1 *= rd.choice([-1,1])\n\n    \n    let b2 = rd.randint(2, 14-a1)\n    while (gcd(a2, b2) !== 1) {\n      b2 = rd.randint(1,14-a1)\n    }\n    b2 *= rd.choice([-1,1])\n\n    // prevent difference of squares\n    while ((a1 === a2 && b1 === -b2) || (a1 === -a2 && b1 === b2)) {\n      b2 = rd.randint(2, 14-a1)\n      while (gcd(a2, b2) !== 1) {\n        b2 = rd.randint(1,14-a1)\n      }\n      b2 *= rd.choice([-1,1])\n    }\n\n    const p1 = new Polynomial({1: a1, 0: b1})\n    const p2 = new Polynomial({1: a2, 0: b2})\n\n    const a = a1 * a2\n    const b = a1 * b2 + a2 * b1\n    const c = b1 * b2\n\n    const poly = new Polynomial({2: a, 1: b, 0: c})\n\n    const answer = `&(${p1.toLatex()})(${p2.toLatex()})&`\n\n    return {\n      instructions: 'Rewrite as the product of linear factors:',\n      question: `&${poly.toLatex()}&`,\n      answer: answer,\n    }\n  }\n}\n\n\nexport class RationalGraph extends QGen {\n  static info = {\n    name: 'Rational Graph',\n    description: 'Determine the equation from the graph of a rational function'\n  }\n\n  generate(params) {\n    const rd = this.random\n    let vals = rd.sample(range(1, 9), 4).map(v => rd.random() < 0.5 ? v : -v)\n    let roots = [vals[0]]\n    let holes = [vals[1]]\n    let vas = [vals[2]]\n    if (rd.random() < 0.5) {\n      holes.push(vals[3])\n    } else {\n      vas.push(vals[3])\n    }\n\n\n    let graph = new CartesianPlane(-10, -10, 10, 10, {height: '2in'})\n    graph.addGrid()\n    const rat = new Rational({roots: roots, holes: holes, vas: vas})\n    graph.add(rat)\n\n\n    function fmtAns(ans) {\n      let numer = ''\n      for (const r of ans.top.sort((a,b) => a-b)) {\n        numer += '(' + math.simplify(`x - ${r}`).toString() + ')'\n      }\n      let denom = ''\n      for (const r of ans.bottom.sort((a,b) => a-b)) {\n        denom += '(' + math.simplify(`x - ${r}`).toString() + ')'\n      }\n      return `$$y = \\\\displaystyle\\\\frac{ ${numer} }{ ${denom} }$$`\n    }\n\n    const answer = {top: [...roots, ...holes], bottom: [...holes, ...vas]}\n\n    const wrongs = [\n      {top: [...holes, ...vas], bottom: [...holes, ...roots]},\n      {top: [...roots], bottom: [...holes, ...vas]},\n      {top: [...roots, ...holes].map(r => -r), bottom: [...holes, ...vas].map(r => -r)},\n      {top: [...holes, ...vas].map(r => -r), bottom: [...holes, ...roots].map(r => -r)},\n    ]\n\n    const i = rd.randint(0,wrongs.length)\n    const choices = rd.shuffle([answer, ...wrongs].map(fmtAns), i)\n\n    return {\n      instructions: 'Choose the equation that best describes the graph shown.',\n      diagram: {\n        type: 'jsonml',\n        data: graph.jsonml(),\n      },\n      choices: {\n        type: 'answerchoices',\n        data: choices,\n        answerIndex: i,\n      },\n      answer: fmtAns(answer),\n    }\n  }\n}\n\n\n\nexport class FindIntervals extends QGen {\n  static info = {\n    name: 'Intervals - Either',\n    description: 'Identify intervals over which a graph is increasing or decreasing'\n  }\n\n  static params = {\n    toFind: {\n      name: 'Type of interval to find',\n      choices: ['increasing', 'decreasing', 'random'],\n    },\n    style: {\n      name: 'Graph style',\n      choices: ['jagged'],\n    }\n  }\n\n  static defaults = {\n    toFind: 'random',\n    style: 'jagged'\n  }\n\n  generate(params) {\n    const rd = this.random\n\n    const toFind = {\n      increasing: 'inc', \n      decreasing: 'dec', \n      random: rd.choice(['inc', 'dec']),\n    }[params.toFind]\n\n    const xs = [-10]\n    let prev = -10\n    while (prev < 7) {\n      const next = rd.randint(prev+3, prev+5)\n      if (next > 7) {\n        xs.push(8)\n      } else {\n        xs.push(next)\n      }\n      prev = xs[xs.length-1]\n    }\n    xs.push(10)\n\n    \n    \n    const yRange = [-5,5]\n    const ys = [rd.randint(...yRange)]\n\n    let maxConstantIntervals = 2\n    let which\n    while (ys.length < xs.length) {\n      let possible = []\n      const prev = ys[ys.length-1]\n      if (which !== 'dec' & prev >= yRange[0]+2) {\n        possible.push('dec')\n      }\n      if (which !== 'inc' & prev <= yRange[1]-2) {\n        possible.push('inc')\n      }\n      if (which !== 'const' & maxConstantIntervals > 0) {\n        possible.push('const')\n        maxConstantIntervals -= 1\n      }\n      which = rd.choice(possible)\n      if (which === 'dec') {\n        ys.push(rd.randint(Math.max(yRange[0], prev-7), prev-1))\n      } else if (which === 'inc') {\n        ys.push(rd.randint(prev+1, Math.min(yRange[1], prev+7)))\n      } else {\n        ys.push(prev)\n      }\n    }\n\n    if (rd.random() < 0.5) {\n      ys.reverse()\n    }\n\n    const intervals = []\n    for (let i = 1; i < ys.length; i++) {\n      if (ys[i-1] < ys[i]) {\n        intervals.push('inc')\n      } else if (ys[i-1] === ys[i]) {\n        intervals.push('const')\n      } else {\n        intervals.push('dec')\n      }\n    }\n\n    let answer = []\n    let wrongAnswer1 = []  // ys insteas of xs\n    let wrongAnswer2 = []  // points instead of xs\n    let wrongAnswer3 = []  // switch dec/inc\n    let wrongAnswer4 = []  // switch dec/inc, ys instead of xs\n\n    let diagram = new CartesianPlane(-10, yRange[0], 10, yRange[1], {height: '1.2in'})\n    diagram.addGrid()\n\n    let points = [\n      {x: xs[0], y: ys[0]},\n    ]\n    for (let i=0; i < intervals.length; i++) {\n      points.push({x: xs[i+1], y: ys[i+1]})\n      if (intervals[i] === toFind) {\n        answer.push({start: xs[i], stop: xs[i+1]})\n        wrongAnswer1.push({start: ys[i], stop: ys[i+1]})\n        wrongAnswer2.push({start: xs[i], stop: ys[i]})\n        wrongAnswer2.push({start: xs[i+1], stop: ys[i+1]})\n      } else if (intervals[i] === {'inc': 'dec', 'dec': 'inc'}[toFind]) {\n        wrongAnswer3.push({start: xs[i], stop: xs[i+1]})\n        wrongAnswer4.push({start: ys[i], stop: ys[i+1]})\n      }\n    }\n\n    if (params.style === 'jagged') {\n      diagram.add(new Path(points.map(p => [p.x, p.y]), {'style': {\n        stroke: 'rgb(200,0,100)',\n        strokeOpacity: '0.8',\n        strokeWidth: '0.2',\n        fill: 'none',\n      }}))\n    }\n    \n    const fullName = {inc: 'increasing', dec: 'decreasing'}[toFind]\n\n    function fmtAns(ans) {\n      if (ans.length === 0) {\n        return 'None'\n      }\n      return '$$' + ans.map((int) => `(${int.start}, ${int.stop})`).join(', ') + '$$'\n    }\n\n    const wrongs = [wrongAnswer1, wrongAnswer2, wrongAnswer3, wrongAnswer4]\n    const answerIndex = rd.randint(0, wrongs.length)\n    const choices = rd.shuffle([answer, ...wrongs], answerIndex)\n\n    return ({\n      question: `Determine the intervals over which the function is ***${fullName}***.`,\n      diagram: {\n        type: 'jsonml',\n        data: diagram.toJsonML(),\n      },\n      answer: fmtAns(answer),\n      choices: {\n        type: 'answerchoices', \n        data: choices.map(fmtAns),\n        answerIndex: answerIndex,\n      },\n    })\n  }\n}\n\nexport class IncreasingIntervals extends FindIntervals {\n  static info = {\n    name: 'Intervals - Increasing',\n    description: 'Identify intervals over which a graph is increasing',\n  }\n\n  static defaults = {\n    toFind: 'increasing',\n    style: 'jagged',\n  }\n}\n\nexport class DecreasingIntervals extends FindIntervals {\n  static info = {\n    name: 'Intervals - Decreasing',\n    description: 'Identify intervals over which a graph is decreasing',\n  }\n\n  static defaults = {\n    toFind: 'decreasing',\n    style: 'jagged',\n  }\n}\n\n\nexport class AngleMeasure extends QGen {\n  static info = {\n    name: 'Angle Measure',\n    description: '',\n  }\n\n  generate(params) {\n\n    const translate = (a, b) => [a[0] + b[0], a[1]+ b[1]]\n    const difference = (a, b) => [a[0] - b[0], a[1] - b[1]]\n    const complexMult = (a, b) => [a[0] * b[0] - a[1] * b[1], a[1] * b[0] + a[0] * b[1]]\n    const rotate = (pt, angle, center=[0,0]) => {\n      const radians = angle * Math.PI / 180\n      const rotator = [Math.cos(radians), Math.sin(radians)]\n      const recenter = difference(pt, center)\n      return translate(complexMult(recenter, rotator), center)\n    }\n\n    const rd = this.random\n\n    const angle1 = rd.randint(35, 145)\n    const angle2 = 180 - angle1\n\n    const rotateBy = rd.randint(0, 359)\n    let diagram = new Canvas(-20, -20, 20, 20, {height: '1.5in'})\n    let graph = new SvgElement('g', {transform: `rotate(${rotateBy})`})\n\n    const intersect1 = [-5,0]\n    const r = 10\n    const pp = [r * Math.cos(angle1 * Math.PI / 180), r * Math.sin(angle1 * Math.PI / 180)]\n    const top1 = translate(intersect1, pp)\n    const bottom1 = difference(intersect1, pp)\n\n    const intersect2 = [intersect1[0] + r, intersect1[1]]\n    const top2 = [top1[0] + r, top1[1]]\n    const bottom2 = [bottom1[0] + r, bottom1[1]]\n\n    const left = [intersect1[0] - r, intersect1[1]]\n    const right = [intersect2[0] + r, intersect2[1]]\n\n    \n    const plotPoint = (pt) => {\n      return new SvgElement('circle', {cx: pt[0], cy: pt[1], r: '0.4', style: {\n        'fill': 'black'\n      }})\n    }\n\n    const plotSegment = (a, b) => {\n      return new SvgElement('path', {\n        d: `M${a[0]},${a[1]}L${b[0]},${b[1]}`, \n        style: {\n          fill: 'none', \n          stroke: 'black',\n          strokeWidth: '0.2',\n        },\n      })\n    }\n    \n    graph.add(plotSegment(left, right))\n    graph.add(plotSegment(top1, bottom1))\n    graph.add(plotSegment(top2, bottom2))\n    graph.add(plotPoint(intersect1))\n    graph.add(plotPoint(intersect2))\n\n    diagram.add(graph)\n\n    return {\n      instructions: 'Work in progress',\n      diagram: {\n        'type': 'jsonml',\n        'data': diagram.jsonml(),\n      }\n    }\n\n  }\n}\n\nexport class RationalRootTheorem extends QGen {\n  static info = {\n    name: 'Rational Root Theorem',\n    description: 'State possible rational roots for a given function.'\n  }\n\n  generate(params) {\n    const rd = this.random\n    let primes = rd.sample([1, 2, 3, 5, 7, 11], 4)\n    for (const i in primes) {\n      if (primes[i] === 1) {\n        if (i === 0 | i === 2) {\n          primes[i+1] = Math.pow(primes[i+1], rd.randint(1,2))\n        } else {\n          primes[i-1] = Math.pow(primes[i-1], rd.randint(1,2))\n        }\n      }\n    }\n    for (const i in primes) {\n      if (primes[i] === 2 | primes[i] === 3) {\n        primes[i] = Math.pow(primes[i], rd.randint(1,2))\n      }\n    }\n    const leading_coeff = primes[0] * primes[1]\n    const trailing_coeff = primes[2] * primes[3]\n    const degree = rd.randint(3,6)\n    const num_coeffs = rd.randint(3,degree)\n    let poly = randomPolynomialCoefficients.call(this, {degree: degree, terms: num_coeffs})\n    poly[0] = trailing_coeff\n    poly[degree] = leading_coeff\n    const f = new Polynomial(poly)\n\n    const question = '$$y = ' + f.toLatex() + '$$'\n    \n    return {\n      instructions: \"Work in progress\",\n      question: question,\n    }\n  }\n}\n","import QGen from './QGen'\nimport { CartesianPlane, SvgElement } from './tools/plot'\nimport { createTree } from './tools/QuadTree'\n\nexport class FontTest extends QGen {\n  static info = {\n    name: \"Font Test\"\n  }\n\n  generate(params) {\n    \n    const text = 'the quick brown fox jumps over the lazy dog 1234567890'\n\n    let lines = []\n\n    for (const chars of [text, text.toUpperCase()]) {\n      for (const x of ['', '_', '__', '___']) {\n        lines.push(`${x}${chars}${x}`)\n      }\n    }\n\n    lines.push('$$\\\\text{' + text + '}$$ (LaTeX)')\n\n    const dontConfuse = ['IJl1']\n\n    for (const d of dontConfuse) {\n      let line = []\n      for (let i = 0; i < d.length-1; i++) {\n        for (let j = i+1; j < d.length; j++) {\n          line.push(d[i] + d[j])\n        }\n      }\n      for (const x of ['', '_', '__', '___']) {\n        lines.push(`${x}${line.join(' ')}${x}`)\n      }\n    }\n\n    const question = [\n      'Given that _x + y_ = _m_$$\\\\angle$$1, _IJK_ is equilateral ...',\n      'Given that $$x + y = m\\\\angle{1}$$, $$IJK$$ is equilateral ...',\n    ].join('  \\n')\n\n    return {\n      instructions: lines.join('  \\n'),\n      question: question,\n    }\n  }\n}\n\nexport class QuadTreePlotTest extends QGen {\n  static info = {\n    name: 'QuadTree Plot Test',\n    description: 'Test alternate graphing algorithm'\n  }\n\n  generate(params) {\n    const f1 = ({x, y}) => Math.pow(Math.sin(x*x), 1)\n    const f2 = ({x, y}) => Math.pow(Math.cos(y*y), 1)\n    //const f3 = ({x, y}) => Math.pow(Math.sin(y*y), 1)\n    //const f4 = ({x, y}) => Math.pow(Math.cos(x*x), 1)\n\n    let graph = new CartesianPlane(-7, -7, 7, 7, {height: '4in'})\n    let q = createTree(pt => f1(pt) - f2(pt), -7, -7, 14, 9, 8)\n    const marker = ({x, y}) => new SvgElement('circle', {cx: x, cy: y, r: '0.1'})\n    const points = q.map(marker)\n    graph.add(new SvgElement('g', {style: {fill: 'rgba(200,0,100,0.3)'}}, ...points))\n\n    return {\n      question: \"The graph of $$\\\\sin(x^2) = \\\\cos(y^2)$$:\",\n      diagram: {\n        type: 'jsonml',\n        data: graph.toJsonML(),\n      }\n    }\n  }\n}\n\n\n\nclass JsonMlTest extends QGen {\n  static info = {\n    name: 'JsonML',\n    description: 'Test rendering from JsonML',\n  }\n\n  generate(params) {\n    const [color1, color2] = this.random.sample(['red', 'orange', 'yellow', 'green', 'blue', 'purple'], 2)\n\n    return {\n      instructions: {\n        type: 'jsonml',\n        data: [\n          'div', \n            {\n              style: {\n                padding: '2mm',\n                backgroundColor: 'rgba(0,0,0,0.4)',\n                color: 'white',\n              },\n              children: [\n                ['span', 'Child 1'], ['br'],\n                ['span', {style: {'fontFamily': 'sans-serif'}}, 'Child 2'], ['br'],\n              ],\n            }, \n            ['code', 'Child 3'],\n        ]\n      },\n      question: \"What color are the circles?\",\n      answer: `${color1} and ${color2}`,\n      diagram: {\n        type: \"jsonml\",\n        data: [\n          'svg',\n          {\n            viewBox: \"-5 -5 17 10\",\n            width: \"2in\",\n            children: [\n              [\"circle\", {cx: \"0\", cy: \"0\", r: \"4\", style: {\n                fill: color1, \n                fillOpacity: \"0.8\",\n                stroke: 'black',\n                strokeWidth: '0.1',\n              }}],\n              [\"circle\", {cx: \"8\", cy: \"0\", r: \"3\", style: {\n                fill: color2, \n                fillOpacity: \"0.8\",\n                stroke: 'black',\n                strokeWidth: '0.1',\n                title: `This one is ${color2}!`,\n              }}]\n            ]\n          }\n        ]\n      },\n    }\n  }\n}\n\nexport class MdTest extends QGen {\n\n  static info = {\n    name: 'Formatting Test',\n    description: 'Test markdown/latex'\n  }\n\n  generate(params) {\n\n    const mdtest = `# Heading\n\nRegular, _Italic_, __Bold__, ___Both___, ~sub~script, ^super^script,  \\`monospaced\\`,  \narrows: --> <-- ==> <== <--> <==>\n\nThe formula $$x = \\\\frac{-b \\\\pm \\\\sqrt{b^2 - 4ac}}{2a}$$\nis used to solve quadratic equations.\n\nThe Collatz Function:\n$$$f(n) = \\\\left\\\\{ \\\\begin{array}{rl}\n  n \\\\div 2 & \\\\text{ if $n$ is even} \\\\\\\\\n  3n+1 & \\\\text{ if $n$ is odd}\n\\\\end{array}\\\\right.$$$\n\n- Thing A\n  - Thing A.1\n  - Thing A.2\n- Thing B\n\ninput ($$x$$) | output ($$y$$)\n:-: | :-:\n-3  | 3\n-2  | -2 \n-1  | -5\n 0  | -6\n\n> All summations have a beginning, all effect has a  \n> story, all kindness begins with the sown seed.  \n> Thought buds toward radiance. The gospel of  \n> light is the crossroads of -- indolence, or action.  \n> \n> Be ignited, or be gone.\n\n[Hyperlink](https://npr.org)\n\n${'```'}python\ndef gcd(a, b):\n    if a == b or b == 0:\n        return a\n    elif a == 0:\n        return b\n    else:\n      return gcd(a, a-b) if a > b else gcd(b, b-a)\n${'```'}\n`\n\n    return ({\n      question: {\n        type: 'markdown',\n        data: mdtest,\n      },\n    })\n  }\n\n}\n\n\n\nexport class VegaLite extends QGen {\n  static info = {\n    name: 'Vega Lite Test',\n    description: 'Test Vega-Lite rendering'\n  }\n\n  generate(params) {\n    let points = []\n    for (let x = -3; x <= 3; x++) {\n      points.push({x: x, y: x*x})\n    }\n    const diagram2 = {\n      \"data\": {\"values\": points},\n      \"mark\": {\n        'type': 'line', \n        'interpolate': 'monotone',\n      },\n      \"encoding\": {\n        'x': {\n          'field': 'x', \n          'type': 'quantitative',\n        },\n        'y': {\n          'field': 'y', \n          'type': 'quantitative',\n        },\n        axisX: {\n          titleFont: 'Lora'\n        },\n      },\n    }\n\n    return {\n      instructions: 'Rendered with Vega-Lite:',\n      diagram: {\n        type: 'vega-lite',\n        data: diagram2,\n      }\n    }\n  }\n}\n\nexport class VegaTest extends QGen {\n  static info = {\n    name: 'Vega Test',\n    description: 'Test Vega rendering'\n  }\n\n  generate(params) {\n    return {\n      instructions: \"Rendered with Vega:\",\n      diagram: {\n        type: 'vega',\n        data: {\n          \"$schema\": \"https://vega.github.io/schema/vega/v4.json\",\n          \"width\": 500,\n          \"height\": 200,\n          \"padding\": 5,\n        \n          \"signals\": [\n            {\n              \"name\": \"interpolate\",\n              \"value\": \"linear\",\n              \"bind\": {\n                \"input\": \"select\",\n                \"options\": [\n                  \"basis\",\n                  \"cardinal\",\n                  \"catmull-rom\",\n                  \"linear\",\n                  \"monotone\",\n                  \"natural\",\n                  \"step\",\n                  \"step-after\",\n                  \"step-before\"\n                ]\n              }\n            }\n          ],\n        \n          \"data\": [\n            {\n              \"name\": \"table\",\n              \"values\": [\n                {\"x\": 0, \"y\": 28, \"c\":0}, {\"x\": 0, \"y\": 20, \"c\":1},\n                {\"x\": 1, \"y\": 43, \"c\":0}, {\"x\": 1, \"y\": 35, \"c\":1},\n                {\"x\": 2, \"y\": 81, \"c\":0}, {\"x\": 2, \"y\": 10, \"c\":1},\n                {\"x\": 3, \"y\": 19, \"c\":0}, {\"x\": 3, \"y\": 15, \"c\":1},\n                {\"x\": 4, \"y\": 52, \"c\":0}, {\"x\": 4, \"y\": 48, \"c\":1},\n                {\"x\": 5, \"y\": 24, \"c\":0}, {\"x\": 5, \"y\": 28, \"c\":1},\n                {\"x\": 6, \"y\": 87, \"c\":0}, {\"x\": 6, \"y\": 66, \"c\":1},\n                {\"x\": 7, \"y\": 17, \"c\":0}, {\"x\": 7, \"y\": 27, \"c\":1},\n                {\"x\": 8, \"y\": 68, \"c\":0}, {\"x\": 8, \"y\": 16, \"c\":1},\n                {\"x\": 9, \"y\": 49, \"c\":0}, {\"x\": 9, \"y\": 25, \"c\":1}\n              ]\n            }\n          ],\n        \n          \"scales\": [\n            {\n              \"name\": \"x\",\n              \"type\": \"point\",\n              \"range\": \"width\",\n              \"domain\": {\"data\": \"table\", \"field\": \"x\"}\n            },\n            {\n              \"name\": \"y\",\n              \"type\": \"linear\",\n              \"range\": \"height\",\n              \"nice\": true,\n              \"zero\": true,\n              \"domain\": {\"data\": \"table\", \"field\": \"y\"}\n            },\n            {\n              \"name\": \"color\",\n              \"type\": \"ordinal\",\n              \"range\": \"category\",\n              \"domain\": {\"data\": \"table\", \"field\": \"c\"}\n            }\n          ],\n        \n          \"axes\": [\n            {\"orient\": \"bottom\", \"scale\": \"x\", 'titleFont': 'Zilla Slab'},\n            {\"orient\": \"left\", \"scale\": \"y\"}\n          ],\n        \n          \"marks\": [\n            {\n              \"type\": \"group\",\n              \"from\": {\n                \"facet\": {\n                  \"name\": \"series\",\n                  \"data\": \"table\",\n                  \"groupby\": \"c\"\n                }\n              },\n              \"marks\": [\n                {\n                  \"type\": \"line\",\n                  \"from\": {\"data\": \"series\"},\n                  \"encode\": {\n                    \"enter\": {\n                      \"x\": {\"scale\": \"x\", \"field\": \"x\"},\n                      \"y\": {\"scale\": \"y\", \"field\": \"y\"},\n                      \"stroke\": {\"scale\": \"color\", \"field\": \"c\"},\n                      \"strokeWidth\": {\"value\": 2}\n                    },\n                    \"update\": {\n                      \"interpolate\": {\"signal\": \"interpolate\"},\n                      \"fillOpacity\": {\"value\": 1}\n                    },\n                    \"hover\": {\n                      \"fillOpacity\": {\"value\": 0.5}\n                    }\n                  }\n                }\n              ]\n            }\n          ]\n        }\n        \n      }\n    }\n  }\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport ReactModal from 'react-modal';\nimport {\n  Preview,\n  SideBar,\n  StatusBar,\n  TitleBar,\n  TopBar,\n  Wrapper,\n} from '../components'\nimport Document from './Document'\nimport CustomQuestion from './CustomQuestion'\nimport SettingsPage, {\n  FontFamilySelect,\n  FontSizeSelect,\n  PageMargins,\n  PreviewZoom,\n  StartNumbering\n} from './Settings'\nimport Notes from './Notes'\nimport {\n  CheckStateButton\n} from './Debug'\n\nimport '../styles/styles.global.css'\n\nimport {\n  addQuestion,\n  removeLast,\n  clearAll,\n} from '../actions/document'\n\nimport {\n  examplequestions, demogenerators\n} from '../questions'\n\n\nlet questionBank = {}\nfor (const q in examplequestions) {\n  const n = examplequestions[q].register().name\n  questionBank[n] = examplequestions[q]\n}\n//for (const q in demogenerators) {\n//  const n = `_ ${demogenerators[q].register().name}`\n//  questionBank[n] = demogenerators[q]\n//}\n\n\nReactModal.setAppElement('#root')\n\n//let questionID = 0;\n\nclass AppWrapper extends React.Component {\n  constructor(props) {\n    super(props)\n    this.questionTypeSelect = React.createRef()\n    this.state = {\n      modal: 'none',\n    }\n    this.document = React.createRef();\n\n  }\n\n  addNew = (question) => {\n    //const qid = ++questionID;\n    this.props.addQuestion(question)\n  }\n\n  generateAndAdd = () => {\n    const questionType = this.questionTypeSelect.current.value\n    if (questionType !== '__NONE__') {\n      console.log(`Generating ${questionType}`)\n      try {\n        const qtype = this.props.questionTypes[questionType]\n        const question = new qtype()\n        this.addNew(question.output())\n      } catch(e) {\n        console.log('failed')\n        console.log(e)\n      }\n    }\n  }\n\n  closeModal = () => this.setState({modal: 'none'})\n  openRpcTest = () => this.setState({modal: 'RpcTest'})\n  openCustomEditor = () => this.setState({modal: 'CustomEditor'})\n  openSettings = () => this.setState({modal: 'Settings'})\n  \n  renderQuestionList() {\n    const sortfunc = (a, b) => {\n      const A = a.toUpperCase(), B = b.toUpperCase()\n      if (A > B) return 1\n      if (A < B) return -1\n      return 0\n    }\n\n    return Object.keys(this.props.questionTypes).sort(sortfunc).map(k => {\n      const register = this.props.questionTypes[k].register()\n      return (\n        <option key={`qtype${k}`} \n          title={register.description}\n          value={k} >\n          {k}\n        </option>\n      )\n    })\n  }\n\n  render() {\n    const customTitleBar = {\n      'default': false,\n      'hidden': true,\n    }[this.props.titleBarStyle]\n\n    return (\n      <Wrapper customTitleBar={customTitleBar}>\n        { customTitleBar ? <TitleBar /> : null }\n        <TopBar>\n          <button onClick={window.print}>Print</button>\n          <div style={{width: '1cm'}}></div>\n          <span style={{margin: '0 0.5rem'}}>Font:</span><FontFamilySelect /><FontSizeSelect />\n          <span style={{margin: '0 0.5rem'}}>Margins:</span><PageMargins />\n          <span style={{margin: '0 0.5rem'}}>Zoom:</span><PreviewZoom />\n          <span style={{margin: '0 0.5rem'}}>Start Numbering At:</span><StartNumbering />\n        </TopBar>\n        <Preview>\n          <Document ref={this.document}/>\n        </Preview>\n        <SideBar>\n          <select ref={this.questionTypeSelect} defaultValue='__NONE__'>\n            <option value='__NONE__' disabled>Question Type</option>\n            <option value='__NONE__' disabled>-------</option>\n            {this.renderQuestionList()}\n          </select>\n          <button onClick={this.generateAndAdd}>Add</button>\n          <button onClick={this.openCustomEditor}>Custom Question</button>\n          <button onClick={this.props.removeLast}>Remove Last</button>\n          <button onClick={this.props.clearAll}>Clear All</button>\n          <button onClick={() => this.setState({modal: 'Settings'})}>Settings</button>\n          <div style={{height: '1in'}}></div>\n          <button onClick={() => this.setState({modal: 'Notes'})}>Notes</button>\n          <CheckStateButton>Log State</CheckStateButton>\n        </SideBar>\n        <StatusBar><span>{this.props.statusBar}</span></StatusBar>\n\n\n\n        <ReactModal\n          isOpen={this.state.modal === 'CustomEditor'}\n          onRequestClose={this.closeModal}\n        >\n          <CustomQuestion onRequestClose={this.closeModal}/>\n          <button onClick={this.closeModal}>Cancel</button>\n        </ReactModal>\n\n\n        <ReactModal\n          isOpen={this.state.modal === 'Settings'}\n          onRequestClose={this.closeModal}\n        >\n          <SettingsPage onRequestClose={this.closeModal}/>\n          <button onClick={this.closeModal}>Close</button>\n        </ReactModal>\n\n\n        <ReactModal\n          isOpen={this.state.modal === 'Notes'}\n          onRequestClose={this.closeModal}\n        >\n          <Notes onRequestClose={this.closeModal} />\n        </ReactModal>\n\n      </Wrapper>\n    )\n\n  }\n}\n\nconst mapStateToProps = state => ({\n  questionTypes: questionBank,\n  titleBarStyle: state.config.titleBarStyle,\n  statusBar: `Questions: ${state.document.order.length}`\n})\n\nconst mapDispatchToProps = dispatch => ({\n  addQuestion: q => dispatch(addQuestion(q)),\n  removeLast: () => dispatch(removeLast()),\n  clearAll: () => dispatch(clearAll()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AppWrapper)","import React from 'react';\nimport { Provider } from 'react-redux';\nimport App from './App'\n\n\nexport default class Root extends React.Component {\n  render() {\n    const { store } = this.props;\n    return (\n      <Provider store={store}>\n        <App />\n      </Provider>\n    )\n  }\n}\n","import {\n  ADD_QUESTION,\n  CLEAR_ALL,\n  REMOVE_LAST,\n  UPDATE_DOCUMENT_SETTINGS,\n} from '../actions/document'\n\nconst initialState = {\n  questions: {},\n  order: [],\n  settings: {\n    fontFamily: 'Lora',\n    fontSize: '8pt',\n    startNumbering: 1,\n    pageMargins: '10mm',\n  },\n}\n\nconst document = function(state=initialState, action) {\n  switch (action.type) {\n    case ADD_QUESTION:\n      return {\n        ...state, \n        questions: {\n          ...state.questions, \n          [action.payload.id]: action.payload.question,\n        },\n        order: [...state.order, action.payload.id],\n      }\n    case CLEAR_ALL:\n      return {\n        ...state,\n        questions: {},\n        order: [],\n      }\n    case REMOVE_LAST:\n      const lastId = state.order[-1]\n      let newquestions = {...state.questions}\n      delete newquestions[lastId]\n      return {\n        ...state,\n        questions: newquestions,\n        order: state.order.slice(0,-1),\n      }\n    case UPDATE_DOCUMENT_SETTINGS:\n      return {\n        ...state,\n        settings: {\n          ...state.settings,\n          ...action.payload,\n        }\n      }\n    default:\n      return state\n  }\n}\n\nexport default document\n\n","import {\n  ADD_LOCAL_FONT,\n} from '../actions/config'\n\nconst initialState = {\n  titleBarStyle: 'default',\n  localFonts: [],\n}\n\nconst config = function(state=initialState, action) {\n  switch(action.type) {\n    case ADD_LOCAL_FONT:\n      return {\n        ...state,\n        localFonts: [...state.localFonts, action.payload]\n      }\n    default:\n      return state\n  }\n}\n\nexport default config","import { combineReducers } from 'redux'\nimport document from './document'\nimport config from './config'\n\nconst rootReducer = combineReducers({\n  document: document,\n  config: config,\n})\n\nexport default rootReducer","import React from 'react';\nimport Root from './containers/Root';\nimport { createStore } from 'redux';\nimport rootReducer from './reducers';\n\nconst store = createStore(rootReducer);\n\nconst App = () => <Root store={store} />\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}