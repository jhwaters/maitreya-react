{"version":3,"sources":["containers/Settings/Graph/styles.module.css","components/styles.module.css","containers/CustomQuestion/styles.module.css","containers/Settings/styles.module.css","components/Preview.js","components/SideBar.js","components/StatusBar.js","components/TopBar.js","components/Wrapper.js","actions/document.js","renderJson/renderTypes/VectorGraphics/Canvas.js","renderJson/renderTypes/VectorGraphics/CartesianPlane.js","renderJson/renderTypes/VectorGraphics/Functions.js","renderJson/renderTypes/VectorGraphics/Grid.js","renderJson/renderTypes/VectorGraphics/Path.js","renderJson/renderTypes/VectorGraphics/Clip.js","renderJson/renderTypes/VectorGraphics/Markers.js","renderJson/renderTypes/VectorGraphics/Marks.js","renderJson/renderTypes/VectorGraphics/Layer.js","renderJson/renderTypes/VectorGraphics/Label.js","renderJson/parseJson.js","renderJson/JsonRenderer.js","renderJson/renderTypes/VectorGraphics/index.js","renderJson/renderTypes/AnswerSpace.js","renderJson/renderTypes/EmptySpace.js","renderJson/renderTypes/PageHeader.js","renderJson/renderTypes/Question.js","renderJson/renderTypes/Table.js","renderJson/renderTypes/Text.js","renderJson/renderTypes/index.js","renderJson/renderTypes/Plain.js","renderJson/renderTypes/RenderError.js","renderJson/renderTypes/VegaLite.js","renderJson/renderTypes/Container.js","renderJson/editJson/DefaultEditor.js","renderJson/editJson/EditPageHeader.js","renderJson/editJson/EditQuestion.js","renderJson/editJson/index.js","renderJson/editJson/EditText.js","renderJson/index.js","containers/Document/TopLevelElement.js","containers/Document/pagesize.js","containers/Document/MeasuredPage.js","containers/Document/Page.js","containers/Document/AnswerKey.js","containers/Document/Document.js","containers/Settings/Font/AddLocalFont.js","actions/config.js","containers/Settings/Font/FontFamilyUI.js","actions/style.js","containers/Settings/Font/FontFamilyInput.js","containers/Settings/Font/FontFamilySelect.js","containers/Settings/Font/FontFamily.js","containers/Settings/Font/FontSize.js","containers/Settings/Font/MathFontSettings.js","containers/Settings/Font/TextPreview.js","containers/Settings/Font/index.js","containers/Settings/Font/FontSettings.js","containers/CustomQuestion/LatexExamples.js","containers/CustomQuestion/GraphMaker.js","containers/CustomQuestion/CustomQuestion.js","containers/CustomQuestion/index.js","containers/Notes.js","containers/Debug/CheckState.js","containers/Settings/Graph/GraphStyle.js","containers/Settings/Graph/GraphPreview.js","containers/Settings/Graph/GraphSettings.js","containers/Settings/Graph/index.js","containers/Settings/GUImode.js","containers/Settings/SettingsPage.js","containers/Settings/AllowEditing.js","containers/Settings/AnswerKeyToggle.js","containers/Settings/FixPagination.js","containers/Settings/PageMargin.js","containers/Settings/PreviewZoom.js","containers/Settings/StartNumbering.js","containers/Settings/index.js","questions/tools/handystuff.js","questions/tools/random_randomjs.js","questions/QGen.js","questions/examplequestions.js","questions/tools/QuadTree.js","questions/tools/svgplot.js","questions/demogenerators.js","questions/transformations.js","questions/picofermi.js","containers/App.js","containers/Root.js","reducers/document.js","reducers/config.js","reducers/style.js","reducers/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Layout","SettingTable","StyleSetting","Preview","Wrapper","Wrapper-TitleBar-StatusBar","Wrapper-TopBar","Wrapper-TopBar-StatusBar","SideBar","StatusBar","TitleBar","TopBar","PreviewOuter","PreviewInner","GraphMakerBody","GraphMakerInput","GraphMakerPreview","LatexExamples","SettingPage","Title","SettingSection","LeftBar","NavArea","NavButton","active","Previewer","react_default","a","createElement","className","styles","this","props","children","React","Component","classNames","join","elemID","addToDocument","elem","type","payload","element","id","Canvas","span","height","width","_props$cartesian","cartesian","_span","Object","slicedToArray","x1","y1","x2","y2","svgprops","viewBox","concat","undefined","Markers_MarkerSymbols","Markers_MarkerDefs","stylename","transform","style","--vg-text-transform","Fragment","CartesianPlane","w","h","pad","Math","min","Canvas_Canvas","Grid_Grid","Grid_Axis","Layer_Layer","Clip_ClipRect","calcPath","f","domain","step","arguments","length","path","x","push","y","RationalFunction","_domainPts","_props$roots","roots","_props$holes","holes","_props$asymptotes","asymptotes","_props$numerLC","numerLC","_props$denomLC","denomLC","_props$step2","_props$range","range","_props$renderAsymptot","renderAsymptotes","_props$renderRoots","renderRoots","_props$renderHoles","renderHoles","role","num","den","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","value","err","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","domainPts","defineProperty","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","filter","r","domains","dp","keys","sort","b","i","_ref","v1","v2","val","def","paths","_i","d","dom","p","toConsumableArray","ha","vas","map","Path_Asymptote","key","points","Path_Path","Marks_Point","Marks_Hole","makesrange","max","anchor","v","splice","Grid","_props$step","_props$origin","origin","_props$axis","axis","xvals","apply","yvals","vectorEffect","Axis","markerClassNames","s","positions","markers","c","k","pathFromPoints","Array","isArray","interpolatePathCubicH","pt","pts","prev","Path","dd","interpolate","markerprops","assign","Asymptote","Ray","Segment","Line","FillRegion","Polygon","vertices","clipCount","ClipRect","_props$id","clipPath","MarkerSymbols","refX","refY","cx","cy","fill","MarkerDefs","_props$stylename","markerWidth","markerHeight","markerUnits","orient","xlinkHref","Point","coords","Hole","matrix","params","_params","_params$","_params$2","_params$3","_params$4","_params$5","e","_params$6","makeTransform","_params$x2","_params$y2","scale","_params$x","_params$y","translate","styleCount","Layer","transformlist","strokeColor","strokeWidth","layerprops","needDefs","layerstyle","_arr","markerName","transforms","t","_ref2","_ref2$","str","_ref3","_ref4","_ref4$","labelCount","parseJson","json","_json","toArray","slice","constructor","name","JsonRenderer","handled","unhandled","classCallCheck","createClass","message","console","error","n","toString","arr","_this","_parseJson","UnhandledType","objectSpread","RenderType","render","handleError","handleArray","handleString","handleNumber","handleBoolean","handleNull","JSON","stringify","VGRenderer","ClipPath","_props$id2","CoordinatePlane","Label","labelID","PolynomialFunction","coefficients","otherprops","objectWithoutProperties","ans","deg","pow","ScatterPlot","RenderVG","AbstractVectorGraphics","AnswerBlank","margin","minWidth","minHeight","RenderJson","label","parseBorder","border","renderHeaderElement","text","parts","result","current","isBlank","blankSize","nextChar","size","parseHeader","display","QuestionLayout","content","_ref$layout","layout","_ref$direction","direction","newDirection","row","column","area","renderJson","isMultipleChoice","options","answer","choices","Question","_props$options","_props$content","instructions","question","diagram","multipleChoice","listDirection","freeResponse","prompt","Question_QuestionLayout","defaultOptions","renderMath","renderMarkdown","markdown","superscript","subscript","smartarrows","mathDelimiters","left","right","inline","MathAndMarkdown","data","katexOptions","delimiters","errorCallback","delimiter","splitAtDelimiters","splitWithDelimiters","Text_InlineMarkdown","Text_PlainText","Text_KatexMath","displayMode","PlainText","KatexMath","html","katex","renderToString","dangerouslySetInnerHTML","__html","ParseError","raw","InlineMarkdown","md","MarkdownIt","use","mdsub","mdsup","mdsmartarrows","renderInline","Terminal","ABVG","AnswerBlanks","dat","AnswerSpace_AnswerBlank","AnswerKey","correctIndex","correct","EmptySpace","PageHeader","_row","NumberedQuestion","Question_Question","Plain","RenderError","Text","fontFamily","color","opts","defaultsDeep","Text_MathAndMarkdown","VegaLite","react_vega_lite_min_default","spec","NonTerminal","AnswerChoices","Children","Container","_props$direction","_props$border","alignItems","divstyle","justifyItems","flexDirection","flexWrap","Table","headIndex","header","tableprops","borderCollapse","align","alignment","colStyles","blocks","split","block","j","char","colStyle","textAlign","borderLeft","borderRight","parseAlignment","cssvar","TRow","_props$header","rowprops","borderBottom","borderTop","elemstyle","DefaultEditor","possibleConstructorReturn","getPrototypeOf","call","updateAndClose","onUpdateElement","stateToJson","onRequestClose","deleteAndClose","onDeleteElement","revertChanges","setState","state","gridTemplateColumns","onClick","justifySelf","renderEditor","renderPreview","EditPageHeader","headingAddRow","headingRemoveRow","lr","newrow","_this2","rows","inputStyle","borderStyle","padding","onChange","evt","headingUpdate","target","checkMC","newState","toggleMC","checked","updateInstructions","updateVersionDefault","updateInstructionsMC","updateVersionMC","updateInstructionsFR","updateVersionFR","updateQuestion","updateQuestionMC","updateQuestionFR","parsed","fieldname","isMC","overrides","updaters","default","mc","fr","cols","renderMCToggle","renderInstructionsOrQuestionInputs","renderTypes","EditQuestion","updateChild","el","renderChildEditor","connect","dispatch","idstr","_idstr$split","_idstr$split2","updateElement","_idstr$split3","_idstr$split4","deleteElement","DefaultEditor_DefaultEditor","Renderer","TopLevelElement","openEditor","modal","closeModal","divprops","canEdit","onDoubleClick","columns","elemprops","singleColumn","lib_default","isOpen","editJson","defaultProps","config","allowEditing","portrait","A3","A4","A5","letter","legal","landscape","MeasuredPage","innerH","inner","clientHeight","outerH","outer","overflows","createRef","oldstate","newstate","onOverflow","forceUpdate","addPageBreakBefore","contentIDs","pageOrientation","pageSize","_this$getPageSize","getPageSize","pageMargin","pageNumber","headers","outerclassname","outerstyle","getOuterStyle","innerstyle","getInnerStyle","headerID","getHeaderID","ref","Document_TopLevelElement","contentID","document","footers","Page","orientation","order","Document_Page","pagebreaks","showAnswerKey","hidden","numberHidden","debugView","len","visibleIDs","slices","pages","ids","Document_MeasuredPage","Document_AnswerKey","AddLocalFont","addFont","fontName","input","addLocalFont","family","spellCheck","buttonLabel","font","FontFamilyUI","setFontFamilyUI","fontFamilyUI","inputtype","setDocumentFontFamily","updateGraphStyle","FontFamilyInput","setFontFamily","setCss","body","setProperty","GoogleFonts","BrowserFonts","fontSort","aName","toUpperCase","bName","FontFamilySelect","fontList","localFonts","setFromPrompt","customFamily","window","optionLabel","disabled","renderFontOption","Font_FontFamilyInput","Font_FontFamilySelect","FontSizeSelect","setDocFontSize","fontSize","setDocumentFontSize","renderSizeOptions","MathFontSettings","onChangeSize","setSize","onChangeWeight","setWeight","weight","setSizeCss","setMathFontSize","setWeightCss","setMathFontWeight","currentSize","bold","currentWeight","mathFontSize","mathFontWeight","tabsize","onKeyDown","keyCode","start","selectionStart","end","selectionEnd","substring","preventDefault","TextPreview","updatePreview","outputStyle","output","defaultValue","renderType","parse","wrapperElement","FontSettings","Font_FontFamilyUI","Font_FontFamily","Font_AddLocalFont","Font_MathFontSettings","--doc-font-size","Font_TextPreview","latexfmt","String","replace","examples","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_templateObject10","_templateObject11","_templateObject12","_templateObject13","_templateObject14","_templateObject15","_templateObject16","RenderExample","LatexExamples_RenderExample","round","floor","calcParametric","abs","parseFunction","func","math","compile","scope","eval","GraphMaker","updateMode","mode","updateStandard","standard","updateInverse","inverse","updateParametricX","parametricX","updateParametricY","parametricY","updateX0","x0","updateX1","updateY0","y0","updateY1","updateT0","t0","updateT1","t1","updateStep","updateHeight","updateAutoDomain","autoDomain","updateAutoSize","autoSize","onSubmit","getData","title","getDomain","ymap","xmap","xpmap","ypmap","graphSize","autogrid","getFunction","GraphMakerHeading","renderMode","renderInputs","renderDomainInput","renderGridInputs","renderHeightInput","jsonExample","CustomQuestion","openExamples","openGraphMaker","updateDiagram","updateAnswer","updateJSON","updateInputType","inputType","addQuestion","getDataFromState","setJsonExample","previewStyle","gridTemplateAreas","gridArea","backgroundColor","CustomQuestion_LatexExamples","CustomQuestion_GraphMaker","q","thing","Notes","fontWeight","marginRight","CheckStateButton","logState","log","GraphStyle","setValue","cssName","kebabCase","propertyName","Color","Width","Opacity","mapDispatchToProps","createComponent","base","StyleSettingComponent","_base","inherits","graph","Plot1PathColor","PlotPathWidth","Plot2PathColor","GeomPathColor","GeomPathWidth","AsymptoteColor","AsymptoteWidth","AxisColor","AxisWidth","GridColor","GridWidth","FillOpacity","SwapButton","_this3","doSwap","_this3$props$updateGr","cssName1","current2","cssName2","current1","propertyName1","propertyName2","PlotColorSwap","plot1PathColor","plot2PathColor","updates","PreviewXYPlot","vasymptotes","g","fpoints","gpoints","fpt","gpt","reverse","CartesianPlane_CartesianPlane","Path_FillRegion","Functions_RationalFunction","PreviewGeom","Path_Polygon","Path_Ray","Path_Line","Path_Segment","GraphSettings","changeStyle","resetToDefaults","resetGraphStyle","GraphPreview_PreviewGeom","GraphPreview_PreviewXYPlot","colSpan","Settings","renderStyleSettings","GUImode","update","darkMode","setAttribute","removeAttribute","defaultChecked","SettingsPage","showFontSettings","showing","showGraphSettings","Font","Graph","renderSettings","AllowEditing","toggle","setAllowEditing","AnswerKeyToggle","setShowAnswerKey","bool","FixPagination","reset","clearPageBreaks","setHiddenCount","total","setTimeout","check","MarginOptions","SetPageMargin","updateFromSelection","m","setPageMargin","PreviewZoom","updateState","zoom","zoomIn","zoomOut","setZoom","z","renderInput","renderSelect","renderButtons","StartNumbering","setNumbering","startat","setCSSVariable","setDocumentStartNumbering","startNumbering","stop","inclusive","mathjsrange","_data","gcd","listFactors","_ref$include","include1","_ref$includeN","includeN","Randomizer","seed","engine","Random","engines","mt19937","autoSeed","integer","real","array","first","shuffled","shuffle","pick","pop","sample","randint","randomSeedGenerator","QGen","randomSeed","random","randomizer","out","generate","_getParams","_specialCaseKeys","_specialCaseValues","getOptions","info","randomPolynomialCoefficients","degree","_ref$maxCoefficient","maxCoefficient","_ref$terms","terms","rd","whichterms","choice","SolveQuadratic","_QGen","_rd$sample","_rd$sample2","r1","r2","poly","Polynomial","2","1","0","rand","add","toLatex","description","FactorQuadraticHard","_QGen2","a1","a2","b1","b2","p1","p2","RationalGraph","_QGen3","makeFunction","top","bottom","generateValues","vals","allHolesInRange","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","isGood","_generateValues","fmtAns","numer","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","simplify","denom","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","wrongs","IncreasingIntervals","_QGen4","toFind","xs","which","yRange","ys","maxConstantIntervals","possible","intervals","wrongAnswer1","wrongAnswer2","wrongAnswer3","wrongAnswer4","inc","dec","fullName","int","answerIndex","angle1","rotateBy","intersect1","pp","cos","PI","sin","top1","bottom1","difference","intersect2","top2","bottom2","degrees","RationalZeroTheorem","_QGen6","primes","leading_coeff","trailing_coeff","num_coeffs","correctNumerators","correctDenominators","allPossibleZeros","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","numCorrect","correctAnswers","_","includes","wrongAnswers","_ref5","allChoices","poprandom","fraction","GraphLinearInequalities","_QGen7","_rd$sampleRange","sampleRange","_rd$sampleRange2","rotation","_ref6","_ref7","_rd$shuffle","_rd$shuffle2","line1","ineq","xInt","yInt","line2","latexeqn","lines","clips","_loop","_i4","test","subdivide","depth","searchDepth","hd","createTree","contourPresent","RationalPlot","inv","numRoots","numAsymptotes","values","PolynomialPlot","coeffs","tex","PlotStyling","path1","path2","path3","path4","FontTest","chars","_arr2","_i3","dontConfuse","_i2","line","_arr3","QuadTreePlotTest","_QGen5","f1","f2","function","mark","encoding","field","$schema","signals","bind","scales","nice","zero","axes","titleFont","marks","from","facet","groupby","encode","enter","stroke","signal","fillOpacity","hover","TransformTracker","parent","mul","translateX","translateY","scaleX","scaleY","cubic","exp2","log2","quad","sqrt","valueOf","setField","div","kStr","aStr","MatchTransformations","parents","eqns","shiftV","shiftH","stretchV","stretchH","compressH","eqn","eqnScramble","shuffleRange","graphScramble","makebox","indexOf","scramble","digitmap","slotmap","PicoFermiInstructions","PicoFermi","template","Templates","clues","puzzle","blank","gap","PicoFermiSet","versions","answers","Easy01","2637","0018","0123","1034","3352","Easy02","5704","5607","5109","6972","Easy03","1670","4567","1245","1376","Easy04","4312","6543","4129","4230","Easy05","0660","0386","2030","Easy06","3773","2790","7243","8467","Easy07","5809","3899","5593","Hard01","9120","7573","2450","5320","8685","Hard02","3210","5409","4608","1064","Hard03","4989","2954","9724","6139","NoFour","4563","4615","4652","NoEight","4786","8547","0843","9289","8965","AllPicos","2486","7867","4573","5608","9310","VeryHard","9372","1047","0235","3627","4753","questionBank","examplequestions","transformations","App_i","App_arr","set","register","demogenerators","picofermi","App_i2","ReactModal","setAppElement","defaultStyles","borderRadius","borderColor","background","overlay","AppWrapper","addToDoc","generateAndAdd","questionType","questionTypeSelect","qtype","questionTypes","openRpcTest","openCustomQuestion","openSettings","A","B","toplabel","components_Wrapper","components_TopBar","print","Settings_AnswerKeyToggle","Settings_StartNumbering","FontSize","PageMargin","Settings_PreviewZoom","Settings_AllowEditing","Settings_FixPagination","containers_Document_Document","components_SideBar","renderQuestionList","removeLast","clearAll","Settings_GUImode","CheckState","statusBar","components_StatusBar","containers_CustomQuestion","containers_Notes","Root","store","es","containers_App","initialState","action","asymptoteColor","asymptoteWidth","axisColor","axisWidth","gridColor","gridWidth","plotPathWidth","geomPathColor","geomPathWidth","rootReducer","combineReducers","createStore","App","Root_Root","Boolean","location","hostname","match","ReactDOM","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.984735e0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Layout\":\"styles_Layout__2DVPj\",\"SettingTable\":\"styles_SettingTable__37d46\",\"StyleSetting\":\"styles_StyleSetting__3Xjp4\",\"Preview\":\"styles_Preview__x9yKo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"styles_Wrapper__QmsU2\",\"Wrapper-TitleBar-StatusBar\":\"styles_Wrapper-TitleBar-StatusBar__dCCA9\",\"Wrapper-TopBar\":\"styles_Wrapper-TopBar__bDS_q\",\"Wrapper-TopBar-StatusBar\":\"styles_Wrapper-TopBar-StatusBar__3am6d\",\"SideBar\":\"styles_SideBar__11KBm\",\"StatusBar\":\"styles_StatusBar__3LGjN\",\"TitleBar\":\"styles_TitleBar__315t0\",\"TopBar\":\"styles_TopBar__I1VNN\",\"PreviewOuter\":\"styles_PreviewOuter__aClrK\",\"PreviewInner\":\"styles_PreviewInner__2lsw-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GraphMakerBody\":\"styles_GraphMakerBody__11R3v\",\"GraphMakerInput\":\"styles_GraphMakerInput__3qT0d\",\"GraphMakerPreview\":\"styles_GraphMakerPreview__2opkG\",\"LatexExamples\":\"styles_LatexExamples__1VuMU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SettingPage\":\"styles_SettingPage__2u-qK\",\"Title\":\"styles_Title__3GTDx\",\"SettingSection\":\"styles_SettingSection__2TB1w\",\"LeftBar\":\"styles_LeftBar__3l1eD\",\"NavArea\":\"styles_NavArea__1p8EW\",\"NavButton\":\"styles_NavButton__2-ksX\",\"active\":\"styles_active__3Py5l\"};","import React from 'react'\nimport styles from './styles.module.css'\n\nclass Previewer extends React.Component {\n  render() {\n    \n\n    return (\n      <div className={styles.PreviewOuter}>\n        <div className={styles.PreviewInner}>\n          {this.props.children}\n        </div>\n      </div>\n    )\n\n  }\n}\n\nexport default Previewer","import React from 'react'\nimport styles from './styles.module.css'\n\nclass SideBar extends React.Component {\n  render() {\n    return (\n      <div className={styles.SideBar}>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport default SideBar","import React from 'react'\nimport styles from './styles.module.css'\n\nconst StatusBar = (props) => {\n  return (\n    <div className={styles.StatusBar}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default StatusBar","import React from 'react'\nimport styles from './styles.module.css'\n\nconst TopBar = (props) => {\n  return (\n    <div className={styles.TopBar}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default TopBar","import React from 'react'\nimport styles from './styles.module.css'\n\nclass Wrapper extends React.Component {\n  \n  render() {\n    let classNames = [styles.Wrapper, styles['Wrapper-TopBar']]\n\n    return (\n      <div className={classNames.join(' ')}>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport default Wrapper","export const ADD_TO_DOCUMENT = 'ADD_TO_DOCUMENT'\nexport const CLEAR_ALL = 'CLEAR_ALL'\nexport const REMOVE_LAST = 'REMOVE_LAST'\nexport const UPDATE_ELEMENT = 'UPDATE_ELEMENT'\nexport const UPDATE_HEADER = 'UPDATE_HEADER'\nexport const DELETE_ELEMENT = 'DELETE_ELEMENT'\nexport const DELETE_HEADER = 'DELETE_HEADER'\nexport const SET_DOCUMENT_STARTNUMBERING = 'SET_DOCUMENT_STARTNUMBERING'\nexport const ADD_PAGEBREAK_BEFORE = 'ADD_PAGEBREAK_BEFORE' // need to come up with a better way to do this\nexport const CLEAR_PAGEBREAKS = 'CLEAR_PAGEBREAKS'\n\nlet elemID = 0\n\n// Document content\n\nexport const addToDocument = (elem) => ({\n  type: ADD_TO_DOCUMENT,\n  payload: {element: elem, id: ++elemID}\n})\n\nexport const clearAll = () => ({\n  type: CLEAR_ALL\n})\n\nexport const removeLast = () => ({\n  type: REMOVE_LAST,\n})\n\nexport const updateElement = (idstr, data) => {\n  const [type, id] = idstr.split('.')\n  if (type === 'header') {\n    return { type: UPDATE_HEADER, payload: {id: +id, data} }\n  }\n  if (type === 'content') {\n    return { type: UPDATE_ELEMENT, payload: {id: +id, data} }\n  }\n}\n\nexport const deleteElement = (idstr) => {\n  const [type, id] = idstr.split('.')\n  if (type === 'header') {\n    return { type: DELETE_HEADER, payload: +id }\n  }\n  if (type === 'content') {\n    return { type: DELETE_ELEMENT, payload: +id }\n  }\n}\n\nexport const deleteHeader = (id) => ({\n  type: DELETE_HEADER,\n  payload: id,\n})\n\n// Document settings\n\n\nexport const setDocumentStartNumbering = (n) => ({\n  type: SET_DOCUMENT_STARTNUMBERING,\n  payload: n\n})\n\n\n\n// Document view\n\nexport const addPageBreakBefore = (id) => ({\n  type: ADD_PAGEBREAK_BEFORE,\n  payload: id\n})\n\nexport const clearPageBreaks = () => ({\n  type: CLEAR_PAGEBREAKS\n})\n\n\n","import React from 'react'\nimport { MarkerSymbols, MarkerDefs } from '.'\n\nexport const Canvas = props => {\n  const {span, height, width, cartesian=true} = props\n  const [x1, y1, x2, y2] = span\n\n  const svgprops = { viewBox: `${x1} ${y1} ${x2-x1} ${y2-y1}` }\n\n  /*\n  let canvasScale\n  if (height) {\n    canvasScale = height / (y2-y1)\n  }\n  if (width) {\n    const ws = width / (x2-x1)\n    if (ws < canvasScale) {\n      canvasScale = ws\n    }\n  }\n  if (canvasScale) {\n    svgprops.style = {'--vg-canvas-scale': canvasScale}\n  }\n  */\n  \n  if (height !== undefined) { svgprops.height = height }\n  if (width !== undefined) { svgprops.width = width }\n  svgprops.className = 'vg-canvas'\n  if (props.className !== undefined) { svgprops.className += ' ' + props.className }\n  \n  return (\n    <svg {...svgprops} >\n      <MarkerSymbols />\n      <g className='vg-axis'>\n        <MarkerDefs stylename='vg-axis'/>\n      </g>\n      {cartesian ? (\n        <g className='vg-cartesian' \n          transform={`matrix(1,0,0,-1,0,${y1+y2})`}\n          style={{'--vg-text-transform': `scale(1,-1)`}}\n        >\n          {props.children}\n        </g>\n      ) : (\n        <>\n          {props.children}\n        </>\n      )}\n    </svg>\n  )\n}","import React from 'react'\nimport { Canvas, Layer, Grid, ClipRect, Axis } from '.'\n\nexport const CartesianPlane = props => {\n  const {span, width, height} = props\n  const [x1, y1, x2, y2] = span\n  const w = x2 - x1\n  const h = y2 - y1\n  const pad = Math.min(w, h) * 0.05\n  return (\n    <Canvas span={[x1-pad, y1-pad, x2+pad, y2+pad]} \n      cartesian={true} \n      width={width} height={height}\n    >\n      <Grid span={span}/>\n      <Axis x1={x1} x2={x2} y1={0} y2={0} />\n      <Axis x1={0} x2={0} y1={y1} y2={y2} />\n      <Layer style='function-1'>\n        <ClipRect span={span}>\n          {props.children}\n        </ClipRect>\n      </Layer>\n    </Canvas>\n  )\n}","import React from 'react'\nimport { Path, Asymptote, Point, Hole } from '.'\n\n\nconst calcPath = function(f, domain, step=0.1) {\n  let path = []\n  let x = domain[0]\n  while (x < domain[1]) {\n    path.push({x: x, y: f(x)})\n    x += step\n  }\n  path.push(({x: domain[1], y: f(domain[1])}))\n  return path\n}\n\nexport const PolynomialFunction = (props) => {\n  const { \n    coefficients, domain, step=0.1,\n    ...otherprops\n  } = props\n\n  const f = (x) => {\n    let ans = 0\n    for (const deg in coefficients) {\n      ans += coefficients[deg] * Math.pow(x,deg)\n    }\n    return ans\n  }\n\n  return <Path points={calcPath(f, domain, step)} {...otherprops}/>\n}\n\nexport const RationalFunction = (props) => {\n  const {\n    roots=[], holes=[], asymptotes=[], numerLC=1, denomLC=1, \n    domain, step=0.1, range=[-1000,1000], \n    renderAsymptotes=true, renderRoots=true, renderHoles=true,\n    role\n  } = props\n\n  const f = (x) => {\n    let num = numerLC\n    let den = denomLC\n    for (const r of roots) {\n      num *= (x - r)\n    }\n    for (const r of asymptotes) {\n      den *= (x - r)\n    }\n    return num / den\n  }\n\n  const domainPts = {\n    [+domain[0]] : true,\n    [+domain[1]] : true,\n  }\n\n  for (const r of asymptotes.filter(r => r >= domain[0] && r <= domain[1])) {\n    domainPts[+r] = false\n  }\n\n  const domains = []\n  const dp = Object.keys(domainPts).sort((a,b) => a-b)\n  for (let i = 1; i<dp.length; i++) {\n    const [v1, v2] = [dp[i-1], dp[i]]\n    domains.push([\n      {val: v1, def: domainPts[v1]},\n      {val: v2, def: domainPts[v2]}, \n    ])\n  }\n  \n  const paths = []\n  for (const d of domains) {\n    \n    const dom = [\n      d[0].def ? +d[0].val : +d[0].val + step,\n      d[1].def ? +d[1].val : +d[1].val - step,\n    ]\n    let path = calcPath(f, dom, step)\n    if (!d[0].def) {\n      let p = path[0]\n      while (p.y > range[0] && p.y < range[1]) {\n        const x = (3*d[0].val + p.x) / 4\n        p = {x, y: f(x)}\n        path = [p, ...path]\n      }\n    }\n    if (!d[1].def) {\n      let p = path[path.length-1]\n      while (p.y > range[0] && p.y < range[1]) {\n        const x = (3*d[1].val + p.x) / 4\n        p = {x, y: f(x)}\n        path.push(p)\n      }\n    }\n    paths.push(path)\n  }\n\n  const vas = asymptotes.map(x => [{x: x, y: range[0]}, {x: x, y: range[1]}])\n  let ha\n  if (asymptotes.length > roots.length) {\n    ha = [{x: domain[0], y: 0}, {x: domain[1], y: 0}]\n  } else if (asymptotes.length === roots.length) {\n    ha = [{x: domain[0], y: numerLC/denomLC}, {x: domain[1], y: numerLC/denomLC}]\n  }\n\n  const classNames = ['vg-rational-function']\n\n  return (\n    <g className={classNames.join(' ')}>\n      {renderAsymptotes && ha ? <Asymptote key='hasym' points={ha} /> : null}\n      {renderAsymptotes ? vas.map(p => <Asymptote key={`asym${p[0].x}`} points={p} />) : null}\n      {paths.map(p => <Path key={`path${p[0].x}`} points={p} role={role} />)}\n      {renderRoots ? roots.map(x => <Point key={`root${x}`} x={x} y={f(x)} />): null}\n      {renderHoles ? holes.map(x => <Hole key={`hole${x}`} x={x} y={f(x)} />) : null}\n    </g>\n  )\n}\n","import React from 'react'\nimport { MarkerDefs } from '.'\n\nfunction makesrange(min, max, step=1, anchor) {\n\tif (anchor === undefined) {\n\t\tanchor = min;\n\t} else if (anchor < min) {\n\t\tanchor = min;\n\t} else if (anchor > max) {\n\t\tanchor = max;\n\t}\n\tlet r = [anchor,];\n\tlet v = anchor - step;\n\twhile (v >= min) {\n\t\t\tr.splice(0, 0, v);\n\t\t\tv -= step;\n\t}\n\tv = anchor + step;\n\twhile (v <= max) {\n\t\t\tr.push(v);\n\t\t\tv += step;\n\t}\n\treturn r;\n}\n\n\n\nexport const Grid = (props) => {\n  const {span, step=[1,1], origin=[0,0], axis=false} = props\n\n  const [x1, y1, x2, y2] = span\n  const x = {span: [+x1, +x2], step: +step[0], origin: +origin[0]}\n  const y = {span: [+y1, +y2], step: +step[1], origin: +origin[1]}\n\n  const xvals = x.step ? makesrange(...x.span, x.step, x.origin) : []\n  const yvals = y.step ? makesrange(...y.span, y.step, y.origin) : []\n\n  return (\n    <g className='vg-grid'>\n      {xvals.map(v => (\n        <line key={`x-${v}`}\n          x1={v} x2={v} y1={y.span[0]} y2={y.span[1]} \n          vectorEffect='non-scaling-stroke'/>\n      ))}\n      {yvals.map(v => (\n        <line key={`y-${v}`}\n          y1={v} y2={v} x1={x.span[0]} x2={x.span[1]} \n          vectorEffect='non-scaling-stroke'/>\n      ))}\n      {axis ? (\n        <>\n          <Axis x1={x1} x2={x2} y1={origin[0]} y2={origin[0]} />\n          <Axis y1={y1} y2={y2} x1={origin[1]} x2={origin[1]} />\n        </>\n      ) : null}\n    </g>\n  )\n}\n\nconst AxisMarker = () => {\n  return (\n    <path d='M 1,0 Q 0,0 0,4 Q 1,1 3,0 Q 1,-1 0,-4 Q 0,0 1,0'/>\n  )\n}\n\nexport const Axis = props => {\n  const {x1, x2, y1, y2} = props\n  return (\n    <line className='vg-axis' \n      x1={x1} y1={y1} x2={x2} y2={y2} \n      vectorEffect='non-scaling-stroke'\n    />\n  )\n}","import React from 'react'\n\nconst markerClassNames = s => {\n  const positions = ['start', 'mid', 'end']\n  const markers = {}\n  if (s && s.length === 3) {\n    for (let i=0; i<3; i++) {\n      const c = s[i]\n      if (c === '>') markers[positions[i]] = 'arrowfwd'\n      else if (c === '<') markers[positions[i]] = 'arrowrev'\n      else if (c === '.') markers[positions[i]] = 'point'\n      else if (c === 'o') markers[positions[i]] = 'hole'\n      else if (c === '-') markers[positions[i]] = 'none'\n      else markers[positions[i]] = ''\n    }\n  }\n  return Object.keys(markers).map(k => `vg-mark-${k}-${markers[k]}`)\n}\n\nfunction pointFromArray(pt) {\n  return `${pt[0]},${pt[1]}`\n}\n\nexport function pathFromPoints(points) {\n  if (Array.isArray(points[0])) {\n    return `M${points.map(p => `${p[0]},${p[1]}`).join('L')}`\n  }\n  return `M${points.map(p => `${p.x},${p.y}`).join('L')}`\n}\n\nfunction interpolatePathCubicH(points) {\n  const pts = Array.isArray(points[0]) ? points : points.map(p => [p.x, p.y])\n  let d = `M ${pointFromArray(pts[0])}`\n  let prev = pts[0]\n  for (let i = 1; i < pts.length; i++) {\n    const p = pts[i]\n    const x1 = (2*prev[0] + p[0]) / 3\n    const x2 = (prev[0] + 2*p[0]) / 3\n    d += ` C ${x1},${prev[1]} ${x2},${p[1]} ${p[0]},${p[1]}`\n    prev = p\n  }\n  return d\n}\n\n\n\nexport const Path = props => {\n  const {d, points, markers, interpolate, className, style} = props\n  const markerprops = {}\n  const classNames = ['vg-path']\n  if (style) {\n    if (typeof style === 'string') {\n      classNames.push(`vg-path-${style}`)\n    }\n    else {\n      for (const s of style) {\n        classNames.push(`vg-path-${s}`)\n      }\n    }\n  }\n  if (className) classNames.push(className)\n  if (d) {\n    return (\n      <path className={[...classNames, ...markerClassNames(markers)].join(' ')} \n      d={d} {...markerprops} vectorEffect='non-scaling-stroke'/>\n    )\n  } else if (points) {\n    let dd\n    if (interpolate === 'cubic-h') {\n      dd = interpolatePathCubicH(points)\n    } else {\n      dd = pathFromPoints(points)\n    }\n    return (\n      <path className={[...classNames, ...markerClassNames(markers)].join(' ')} \n      d={dd} {...markerprops} vectorEffect='non-scaling-stroke'/>\n    )\n  }\n  return null\n}\n\nexport const Asymptote = props => <Path {...props} className='vg-asymptote'/>\nexport const Ray = props => <Path {...props} className='vg-ray'/>\nexport const Segment = props => <Path {...props} className='vg-segment'/>\nexport const Line = props => <Path {...props} className='vg-line'/>\nexport const ScatterPlot = props => <Path {...props} className='vg-scatterplot'/>\n\nexport const FillRegion = props => {\n  const {d, points, interpolate} = props\n  if (d) {\n    return (\n      <path className='vg-fillregion'  \n      d={d} vectorEffect='non-scaling-stroke'/>\n    )\n  } else if (points) {\n    let dd\n    if (interpolate === 'cubic-h') {\n      dd = interpolatePathCubicH(points)\n    } else {\n      dd = pathFromPoints(points)\n    }\n    return (\n      <path className='vg-fillregion' \n      d={dd} vectorEffect='non-scaling-stroke'/>\n    )\n  }\n  return null\n}\n\nexport const Polygon = props => {\n  const { vertices } = props\n  const d = pathFromPoints(vertices) + 'z'\n  return <path d={d} className='vg-path vg-polygon' vectorEffect='non-scaling-stroke'/>\n}","import React from 'react'\nimport { pathFromPoints } from './Path'\n\nlet clipCount = 0\n\nexport const ClipRect = props => {\n  const {id=`vg-clip-path-${++clipCount}`, span} = props\n  const [x1, y1, x2, y2] = span\n  return (\n    <>\n    <clipPath id={id}>\n      <rect x={x1} y={y1} width={x2-x1} height={y2-y1} />\n    </clipPath>\n    <g clipPath={`url(#${id})`}>\n      {props.children}\n    </g>\n    </>\n  )\n}\n\nexport const ClipPath = props => {\n  const {id=`vg-clip-path-${++clipCount}`, d, points} = props\n  let dd\n  if (d) {\n    dd = d\n  } else {\n    dd = pathFromPoints(points)\n  }\n  return (\n    <>\n    <clipPath id={id}>\n      <path d={dd} />\n    </clipPath>\n    <g clipPath={`url(#${id})`}>\n      {props.children}\n    </g>\n    </>\n  )\n}","import React from 'react'\n\n\nexport const MarkerSymbols = props => {\n  return (\n    <>\n    <symbol id=\"vg-symbol-point\" viewBox=\"-6 -6 12 12\" \n      refX=\"0\" refY=\"0\">\n      <circle cx=\"0\" cy=\"0\" r=\"6\" />\n    </symbol>\n    <symbol id=\"vg-symbol-arrow\" viewBox=\"-12 -12 24 24\" refX=\"0\" refY=\"0\">\n      <path d=\"M -6,0 L -12,-12 L 12,0 L -12,12 z\" />\n    </symbol>\n    <symbol id=\"vg-symbol-hole\" viewBox=\"-6 -6 12 12\" refX=\"0\" refY=\"0\">\n      <circle cx='0' cy='0' r='6'/>\n      <circle cx='0' cy='0' r='3.5' fill='white'/>\n    </symbol>\n    <symbol id=\"vg-symbol-fancyarrow\" viewBox=\"-12 -12 24 24\" refX=\"0\" refY=\"0\">\n      <path d='M 0,0 Q -2,3 -2,12 Q 1,3 7,0 Q 1,-3 -2,-12 Q -2,-3 0,0' />\n    </symbol>\n    </>\n  )\n}\n\nexport const MarkerDefs = props => {\n  const { stylename='vg' } = props\n\n  return (\n    <>\n    <marker id={`${stylename}-marker-arrowfwd`} viewBox=\"0 0 12 12\" refX=\"6\" refY=\"6\"\n      markerWidth=\".4\" markerHeight=\".4\"\n      markerUnits=\"strokeWidth\"\n      orient=\"auto\">\n      <use xlinkHref='#vg-symbol-arrow' \n        x='0' y='0' height='12' width='12' \n        className='vg-marker'/>\n    </marker>\n    <marker id={`${stylename}-marker-arrowrev`} viewBox=\"-6 -6 12 12\" refX=\"0\" refY=\"0\"\n      markerWidth=\".45\" markerHeight=\".45\"\n      markerUnits=\"strokeWidth\"\n      orient=\"auto\">\n      <g transform='rotate(180)'>\n        <use xlinkHref='#vg-symbol-arrow' \n          x='-6' y='-6' height='12' width='12' \n          className='vg-marker'/>\n      </g>\n    </marker>\n    <marker id={`${stylename}-marker-farrowfwd`} viewBox=\"0 0 12 12\" refX=\"6\" refY=\"6\"\n      markerWidth=\".7\" markerHeight=\".7\"\n      markerUnits=\"strokeWidth\"\n      orient=\"auto\">\n      <use xlinkHref='#vg-symbol-fancyarrow' \n        x='0' y='0' height='12' width='12' \n        className='vg-marker'/>\n    </marker>\n    <marker id={`${stylename}-marker-point`} viewBox=\"0 0 12 12\" refX=\"6\" refY=\"6\"\n      markerWidth=\".25\" markerHeight=\".25\"\n      markerUnits=\"strokeWidth\"\n      orient=\"auto\">\n      <use xlinkHref='#vg-symbol-point' \n        x='0' y='0' height='12' width='12' \n        className='vg-marker'/>\n    </marker>\n    <marker id={`${stylename}-marker-hole`} viewBox=\"0 0 12 12\" refX=\"6\" refY=\"6\"\n      markerWidth=\".35\" markerHeight=\".35\"\n      markerUnits=\"strokeWidth\"\n      orient=\"auto\">\n      <use xlinkHref='#vg-symbol-hole' \n        x='0' y='0' height='12' width='12' \n        className='vg-marker'/>\n    </marker>\n    </>\n  )\n}\n\n","import React from 'react'\n\nexport const Mark = props => {\n  const {x, y, coords} = props\n  const d = `M${coords ? `${coords[0]},${coords[1]}` : `${x},${y}`}z`\n  const classNames = ['vg-mark']\n\n  return (\n    <path className={classNames.join(' ')}\n      vectorEffect='non-scaling-stroke'\n      d={d}\n    />\n  )\n}\n\nexport const Point = props => {\n  const {x, y, coords} = props\n  const d = `M${coords ? `${coords[0]},${coords[1]}` : `${x},${y}`}z`\n  const classNames = ['vg-mark', 'vg-point']\n\n  return (\n    <path className={classNames.join(' ')}\n      vectorEffect='non-scaling-stroke'\n      d={d}\n    />\n  )\n}\n\nexport const Hole = props => {\n  const {x, y, coords} = props\n  const d = `M${coords ? `${coords[0]},${coords[1]}` : `${x},${y}`}z`\n  const classNames = ['vg-mark', 'vg-hole']\n\n  return (\n    <path className={classNames.join(' ')}\n      vectorEffect='non-scaling-stroke'\n      d={d}\n    />\n  )\n}","import React from 'react'\nimport { MarkerDefs } from '.'\n\n\nconst translate = params => {\n  const {x=0, y=0} = params\n  return `translate(${x},${y})`\n}\n\nconst scale = params => {\n  const {x=1, y=1} = params\n  return `scale(${x},${y})`\n}\n\nconst matrix = params => {\n  const [a=1, b=0, c=0, d=1, e=0, f=0] = params\n  return `matrix(${a},${b},${c},${d},${e},${f})`\n}\n\nconst makeTransform = props => {\n  const {type, params} = props\n  switch(type) {\n    case 'matrix': return matrix(params)\n    case 'scale': return scale(params)\n    case 'translate': return translate(params)\n    case 'invertXY': return matrix([0,1,1,0])\n    default: return 'none'\n  }\n}\n\nlet styleCount = 0\n\nexport const Layer = props => {\n  const { \n    transform, transformlist, style,\n    strokeColor, strokeWidth\n  } = props\n\n  const layerprops = {}\n\n  // STYLE\n  let needDefs = false\n  if (style || strokeColor || strokeWidth) {\n    needDefs = true\n    const layerstyle = {}\n    const stylename = style ? `vg-style-${style}` : `vg-style-${++styleCount}`\n    for (const markerName of ['arrowfwd', 'arrowrev', 'arrow', 'point', 'hole']) {\n      layerstyle[`--vg-marker-${markerName}`] = `url(#${stylename}-marker-${markerName}`\n    }\n    if (strokeColor) { layerstyle['--vg-path-color'] = strokeColor }\n    if (strokeWidth) { layerstyle['--vg-path-width'] = strokeWidth }\n    layerprops.className = stylename\n    layerprops.style = layerstyle\n  }\n\n  // TRANSFORMS\n  if (transformlist) {\n    const transforms = []\n    for (const t of transformlist) {\n      const [type, params={}] = typeof t === 'string' ? [t] : t\n      const str = makeTransform({type, params})\n      if (str !== 'none') {\n        transforms.push(str)\n      }\n    }\n    layerprops.transform = transforms.join(' ')\n  } else if (transform) {\n    const [type, params={}] = typeof transform === 'string' ? [transform] : transform\n    const str = makeTransform({type, params})\n    if (str) layerprops.transform = str\n  }\n\n  return (\n    <g {...layerprops}>\n      {needDefs ? <MarkerDefs stylename={layerprops.className}/> : null}\n      {props.children}\n    </g>\n  ) \n}\n","import React from 'react'\n\nlet labelCount = 0\n\nexport const Label = props => {\n  const {x, y} = props\n  const labelID = `vg-label-${++labelCount}`\n  return (\n    <>\n      <defs>\n        <text id={labelID} vectorEffect='non-scaling-stroke' className='vg-text'>\n          {props.children}\n        </text>\n      </defs>\n      <g className='vg-text-wrapper'>\n        <use xlinkHref={`#${labelID}`} x={x} y={y} />\n      </g>\n    </>\n  )\n}","export const parseJson = function(json) {\n  const [ type, props, ...children ] = json\n  if (props) {\n    if (props.constructor.name === 'Object') {\n      return { type, props, children}\n    }\n    return { type, props: {}, children: [ props, ...children ] }\n  }\n  return { type, props: {}, children }\n}","import React from 'react'\nimport { parseJson } from './parseJson'\n\nconst isArray = Array.isArray\n\nexport class JsonRenderer {\n  constructor(handled, unhandled={}){\n    this.handled = handled\n    this.unhandled = unhandled\n  }\n\n  handleError(message) {\n    console.error(`Cannot render ${message}`)\n    return null\n  }\n\n  handleString(str) {\n    return str\n  }\n\n  handleNumber(n) {\n    return n\n  }\n\n  handleBoolean(b) {\n    return b.toString()\n  }\n\n  handleNull() {\n    return null\n  }\n\n  handleArray(arr) {\n    const {type, props, children} = parseJson(arr)\n    const UnhandledType = this.unhandled[type]\n    if (UnhandledType) {\n      return UnhandledType({...props, children})\n    }\n    const RenderType = this.handled[type]\n    if (RenderType) {\n      return React.createElement(RenderType, props, ...children.map(c => this.render(c)))\n    }\n    return this.handleError(arr)\n  }\n\n  render(json) {\n    if (isArray(json)) {\n      return this.handleArray(json)\n    }\n    if (typeof json === 'string') {\n      return this.handleString(json)\n    }\n    if (typeof json === 'number') {\n      return this.handleNumber(json)\n    }\n    if (typeof json === 'boolean') {\n      return this.handleBoolean(json)\n    }\n    if (json === null || json === undefined) {\n      return this.handleNull()\n    }\n    return this.handleError(JSON.stringify(json))\n  }\n}","import React from 'react'\n\nimport { Canvas } from './Canvas'\nimport { CartesianPlane as CoordinatePlane } from './CartesianPlane'\nimport { PolynomialFunction, RationalFunction } from './Functions'\nimport { Axis, Grid } from './Grid'\nimport { ClipRect, ClipPath } from './Clip'\nimport { MarkerSymbols, MarkerDefs } from './Markers'\nimport { Point, Hole } from './Marks'\nimport { Layer } from './Layer'\nimport { \n  Asymptote, FillRegion, Line, Path, Polygon, \n  Ray, ScatterPlot, Segment, \n} from './Path'\nimport { Label } from './Label'\nimport { JsonRenderer } from '../../JsonRenderer'\n\nimport './vg.global.css'\n\nconst renderTypes = {\n  Asymptote,\n  Axis,\n  Canvas,\n  ClipPath,\n  ClipRect,\n  CoordinatePlane,\n  FillRegion,\n  Grid,\n  Hole,\n  Label,\n  Layer,\n  Line,\n  MarkerDefs,\n  MarkerSymbols,\n  Path,\n  Point,\n  Polygon,\n  PolynomialFunction,\n  RationalFunction,\n  Ray,\n  ScatterPlot,\n  Segment,\n}\n\nconst VGRenderer = new JsonRenderer(renderTypes)\nconst RenderVG = props => VGRenderer.render(props.json)\n\nconst AbstractVectorGraphics = props => {\n  return (\n    <>\n      {props.children.map((c,i) => <RenderVG key={i} json={c}/>)}\n    </>\n  )\n}\n\nexport default AbstractVectorGraphics\n\nexport {\n  Asymptote,\n  Axis,\n  Canvas,\n  ClipPath,\n  ClipRect,\n  CoordinatePlane,\n  FillRegion,\n  Grid,\n  Hole,\n  Label,\n  Layer,\n  Line,\n  MarkerDefs,\n  MarkerSymbols,\n  Path,\n  Point,\n  Polygon,\n  PolynomialFunction,\n  RationalFunction,\n  Ray,\n  ScatterPlot,\n  Segment,\n}\n","import React from 'react'\nimport { RenderJson } from '..'\n\nexport const AnswerChoices = props => {\n\n  const classNames = ['answerchoice-list']\n  if (props.listDirection && props.listDirection === 'horizontal') {\n    classNames.push('answerchoice-list-horizontal')\n  }\n  return (\n    <ol className={classNames.join(' ')} type='a'>\n      {React.Children.map(props.children, (c,i) => (\n        <li key={`choice-${i}`}\n          className='answerchoice-item'>\n          {c}\n        </li>\n      ))}\n    </ol>\n  )\n}\n\n\n\nconst AnswerBlank = props => {\n  const style = {margin: '0'}\n  \n  if (props.width !== undefined) {\n    style.minWidth = props.width\n  }\n  if (props.height !== undefined) {\n    style.minHeight = props.height\n  }\n\n  return (\n    <tr>\n      <td><RenderJson json={props.label === undefined ? 'answer:' : props.label} /></td>\n      <td><div className='blank-underline answerblank' style={style}/></td>\n    </tr>\n  )\n}\n\nexport const AnswerBlanks = props => {\n  return (\n    <table className='answerblanks'>\n      <tbody>\n        {props.children.map((d,i) => {\n          const dat = typeof d === 'string' ? {label: d} : d\n          return (\n            <AnswerBlank \n              key={`answerblank=${dat.label}-${i}`} \n              {...dat}\n            />\n        )})}\n      </tbody>\n    </table>\n  )\n}","import React from 'react'\n\n\nfunction parseBorder(border) {\n  if (border === 'top') return 'borderTop'\n  if (border === 'bottom') return 'borderBottom'\n  if (border === 'left') return 'borderLeft'\n  if (border === 'right') return 'borderRight'\n}\n\n\nexport const EmptySpace = props => {\n  const {width, height, border} = props\n  const style = {margin: '0'}\n  if (width) style.width = width\n  if (height) style.height = height\n  if (border) {\n    if (Array.isArray(border)) {\n      for (const b of border) {\n        if (parseBorder(b)) {\n          style[parseBorder(b)] = '1px solid black'\n        }\n      }\n    }\n    if (typeof border === 'string') {\n      if (parseBorder(border)) {\n        style[parseBorder(border)] = '1px solid black'\n      }\n      if (border === true) {\n        style.border = '1px solid black'\n      }\n    }\n  }\n  return (\n    <div style={style} />\n  )\n}","import React from 'react'\n\nconst parseHeader = (text) => {\n  let result = []\n  let current = ''\n  let isBlank = false\n  let i = 0\n  let blankSize = 0\n  while (i < text.length) {\n    const nextChar = text[i]\n    if (isBlank) {\n      if (nextChar === '_') {\n        blankSize += 1\n      } else {\n        result.push({type: 'blank', size: blankSize})\n        current = nextChar\n        isBlank = false\n        blankSize = 0\n      }\n    } else {\n      if (nextChar === '_') {\n        if (current !== '') {\n          result.push({type: 'text', text: current})\n          current = ''\n        }\n        isBlank = true\n        blankSize = 1\n      } else {\n        current += nextChar\n      }\n    }\n    i += 1\n  }\n  if (isBlank) {\n    if (blankSize > 0) {\n      result.push({type: 'blank', size: blankSize})\n    }\n  } else {\n    if (current !== '') {\n      result.push({type: 'text', text: current})\n    }\n  }\n  return result\n}\n\nconst renderHeaderElement = (text) => {\n  const parts = parseHeader(text)\n  return (\n    <>\n      {parts.map((p, i) => {\n        if (p.type === 'text') {\n          return (\n            <div key={i} style={{display: 'inline-block'}}>{p.text}</div>\n          )\n        } else {\n          const w = `${1 + 3*(p.size - 1)}cm`\n          return (\n            <div key={i} className='blank-underline blank-underline-header' style={{width: w}} />\n          )\n        }\n      })}\n    </>\n  )\n}\n\nexport const PageHeader = props => {\n\n  if (props.children.length === 0) {\n    return <div className='header header-empty' />\n  } else {\n    return (\n      <table className='header'>\n        <tbody>\n          {props.children.map((row, i) => {\n            const [left, right] = row\n            return (\n              <tr key={i}>\n                <td>\n                  {renderHeaderElement(left || '')}\n                </td>\n                <td>\n                  {renderHeaderElement(right || '')}\n                </td>\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n    )\n  }\n}","import React from 'react'\nimport { renderJson } from '..'\n\n\nconst QuestionLayout = ({\n  content,\n  layout=[[['instructions', 'question', 'answer'], 'diagram']], \n  direction='column',\n}={}) => {\n\n  const className = `question-layout question-layout-${direction}`\n  const newDirection = {row: 'column', column: 'row'}[direction]\n\n  return (\n    <div className={className}>\n      {layout.map((area, i) => {\n        if (Array.isArray(area)) {\n          return (\n            <QuestionLayout key={`region-${i}`} \n              content={content}\n              layout={area} \n              direction={newDirection} \n            />\n          )\n        } else {\n          if (content[area]) {\n            const classNames = ['question-area', `question-area-${area}`]\n            return (\n              <div key={area} className={classNames.join(' ')}>\n                {renderJson(content[area])}\n              </div>\n            )\n          }\n        }\n        return null\n      })}\n    </div>\n  )\n}\n\n\nfunction isMultipleChoice(content, options={}) {\n  if (options.isMultipleChoice !== undefined) {\n    return options.isMultipleChoice\n  }\n  if (content.answer && typeof content.answer !== 'string') {\n    if (content.answer.choices) {\n      return true\n    }\n  }\n  return false\n}\n\n\nexport const Question = (props) => {\n  const { options={} } = props\n  \n  const {instructions, question, diagram} = props.content\n  let content = { instructions, question, diagram }\n  const layout = props.content.layout || options.layout\n\n  // Determine what to render in answer space\n  if (isMultipleChoice(props.content, options)) {\n    Object.assign(content, props.content.multipleChoice)\n    const listDirection = props.content.answer.listDirection\n    content.answer = ['AnswerChoices', {listDirection}, ...props.content.answer.choices]\n  } else {\n    Object.assign(content, props.content.freeResponse)\n    if (props.content.answer && props.content.answer.prompt !== undefined) {\n      if (props.content.answer.prompt !== null) {\n        if (typeof props.content.answer.prompt === 'string') {\n          content.answer = ['AnswerBlanks', null, props.content.answer.prompt]\n        } else if (Array.isArray(props.content.answer.prompt)) {\n          content.answer = props.content.answer.prompt\n        }\n      }\n    } else {\n      content.answer = ['EmptySpace', {height: '1cm', width: '2cm'}]\n    }\n  }\n  return (\n    <div className='question-wrapper'>\n      <QuestionLayout content={content} layout={layout}/>\n    </div>\n  )\n}\n\n\nexport const NumberedQuestion = props => {\n  return (\n    <div className='question-number'>\n      <Question {...props} />\n    </div>\n  )\n}\n\n\nexport const AnswerKey = props => {\n  const letters = 'abcdefg'\n  const { content, options } = props\n  if (isMultipleChoice(content, options)) {\n    if (content.answer.choices && content.answer.correctIndex !== undefined) {\n      if (Array.isArray(content.answer.correctIndex)) {\n        return content.answer.correctIndex.map(i => letters[i]).join(', ')\n      } else {\n        return letters[content.answer.correctIndex]\n      }\n    }\n  }\n  if (content.answer !== undefined) {\n    if (content.answer !== null) {\n      if (content.answer.correct) {\n        return renderJson(content.answer.correct)\n      }\n      if (Array.isArray(content.answer) ||  typeof content.answer === 'string' || typeof content.answer === 'number') {\n        return renderJson(content.answer, options)\n      }\n    }\n    if (content.answer.choices && content.answer.correctIndex !== undefined) {\n      return renderJson(content.answer.choices[content.answer.correctIndex])\n    }\n  }\n  return null\n}\n","import React from 'react'\n\nfunction parseAlignment(align) {\n  // latex-style, e.g. r|ccc|l\n  const colStyles = []\n\n  const blocks = align.split('|')\n  for (const i in blocks) {\n    const block = blocks[i]\n    for (const j in block) {\n      const char = block[j]\n      const colStyle = {}\n      if (char === 'l') colStyle.textAlign = 'left'\n      if (char === 'c') colStyle.textAlign = 'center'\n      if (char === 'r') colStyle.textAlign = 'right'\n      if (+j === 0 && i > 0) {\n        colStyle.borderLeft = '1px solid black'\n      }\n      if (+j === block.length-1 && i < blocks.length-1) {\n        colStyle.borderRight = '1px solid black'\n      }\n      colStyles.push(colStyle)\n    }\n  }\n  return colStyles\n}\n\n\nexport const TRow = props => {\n  const { header=false, border=false } = props\n  const rowprops = {style: {border: 'none'}}\n  if (border) {\n    if (border === 'bottom') {\n      rowprops.style.borderBottom = '1px solid black'\n    } else if (border === 'top') {\n      rowprops.style.borderTop = '1px solid black'\n    } else if (border === true || border === 'both') {\n      rowprops.style.borderTop = '1px solid black'\n      rowprops.style.borderBottom = '1px solid black'\n    }\n  }\n\n  const defaultBorderLeft = i => 'none'\n  const defaultBorderRight = i => 'none'\n  const defaultTextAlign = i => 'center'\n\n  const elemstyle = i => ({\n    border: 'none',\n    borderLeft: `var(--table-col-${i}-borderLeft, ${defaultBorderLeft(i)})`,\n    borderRight: `var(--table-col-${i}-borderRight, ${defaultBorderRight(i)})`,\n    textAlign: `var(--table-col-${i}-textAlign, ${defaultTextAlign(i)})`,\n  })\n\n  //console.log(entryprops)\n  return (\n    <tr {...rowprops}>\n      {header ? (\n        React.Children.toArray(props.children).map((c,i) => (\n          <th key={i} style={elemstyle(+i+1)}>{c}</th>\n        ))\n      ) : (\n        React.Children.toArray(props.children).map((c,i) => (\n          <td key={i} style={elemstyle(+i+1)}>{c}</td>\n        ))\n      )}\n    </tr>\n  )\n}\n\nexport const Table = props => {\n  const children = React.Children.toArray(props.children)\n\n  let headIndex = 0\n  while (headIndex < children.length \n    && children[headIndex].type.name === 'TRow' \n    && children[headIndex].props.header) {\n    headIndex += 1\n  }\n\n  const tableprops = {style: {borderCollapse: 'collapse'}}\n  if (props.border) {\n    tableprops.style.border = '1px solid black'\n  }\n  if (props.align) {\n    const alignment = parseAlignment(props.align)\n    for (const i in alignment) {\n      for (const k in alignment[i]) {\n        const cssvar = `--table-col-${+i+1}-${k}`\n        const value = alignment[i][k]\n        tableprops.style[cssvar] = value\n      }\n    }\n  }\n\n  return (\n    <table {...tableprops}>\n      {headIndex > 0 ? (\n        <thead>\n          {children.slice(0,headIndex)}\n        </thead>\n      ) : null}\n      {headIndex < children.length ? (\n        <tbody>\n          {children.slice(headIndex)}\n        </tbody>\n      ) : null}\n    </table>\n  )\n}","/*\nThis renders math in text using markdown, and simple markdown using\nmarkdown-it's inline renderer. For more complicated markdown, use\nthe 'markdown' type, which will be passed to the 'renderMarkdown' function\n*/\n\nimport React from 'react'\nimport katex from 'katex'\nimport { defaultsDeep } from 'lodash'\nimport MarkdownIt from 'markdown-it'\nimport mdsup from 'markdown-it-sup'\nimport mdsub from 'markdown-it-sub'\nimport mdsmartarrows from 'markdown-it-smartarrows'\nimport mdmath from 'markdown-it-math'\nimport splitAtDelimiters  from 'katex/contrib/auto-render/splitAtDelimiters'\n\n\nconst defaultOptions = {\n  renderMath: true,\n  renderMarkdown: true,\n  \n  markdown: {\n    superscript: true,\n    subscript: true,\n    smartarrows: true,\n  },\n\n  mathDelimiters: {\n    display: {left: '$$$', right: '$$$'},\n    inline: {left: '$$', right: '$$'},\n  }\n};\n\n\n\n// from katex:\nconst splitWithDelimiters = function(text, delimiters) {\n  let data = [{type: \"text\", data: text}];\n  for (let i = 0; i < delimiters.length; i++) {\n    const delimiter = delimiters[i];\n    data = splitAtDelimiters(\n      data, delimiter.left, delimiter.right,\n      delimiter.display || false);\n  }\n  return data;\n};\n\nconst MathAndMarkdown = ({data, options}) => {\n  /**\n   * Split text using Katex, then render pieces with katex (if math)\n   * or markdown (inline only)\n   */\n  const katexOptions = {\n    delimiters: [\n      {left: options.mathDelimiters.display.left, right: options.mathDelimiters.display.right, display: true},\n      {left: options.mathDelimiters.inline.left, right: options.mathDelimiters.inline.right, display: false},\n    ],\n    errorCallback: console.error,\n  }\n\n  return (\n    <span>\n      {splitWithDelimiters(data, katexOptions.delimiters).map((c,i) => {\n        if (c.type === 'text') {\n          if (options.renderMarkdown) {\n            return <InlineMarkdown key={i} data={c.data} options={options} />\n          } else {\n            return <PlainText key={i} data={c.data} />\n          }\n        } else {\n          return <KatexMath key={i} data={c} katexOptions={{...katexOptions, displayMode: c.display}} />\n        }\n      })}\n    </span>\n  )\n}\n\nconst PlainText = ({data}) => {\n  return <span>{data.toString()}</span>\n}\n\nconst KatexMath = ({data, katexOptions}) => {\n  try {\n    const html = katex.renderToString(data.data, katexOptions);\n    return <span dangerouslySetInnerHTML={{__html: html}} />\n  } catch (e) {\n    if (!(e instanceof katex.ParseError)) {\n      throw e;\n    }\n    katexOptions.errorCallback(\n      \"KaTeX auto-render: Failed to parse `\" + data.data + \"` with \", e\n    );\n    return <span>{data.raw}</span>\n  }\n}\n\nconst InlineMarkdown = ({data, options}) => {\n  let md = new MarkdownIt()\n  if (options.markdown.subscript) {\n    md = md.use(mdsub)\n  }\n  if (options.markdown.superscript) {\n    md = md.use(mdsup)\n  }\n  if (options.markdown.smartarrows) {\n    md = md.use(mdsmartarrows)\n  }\n  const html = md.renderInline(data)\n  return <span dangerouslySetInnerHTML={{__html: html}} />\n}\n\nexport const Text = props => {\n  const { \n    fontFamily, \n    color,\n    options,\n    //renderMarkdown=true,\n    //renderMath=true,\n    //mathDelimiters=\n  } = props\n  const opts = defaultsDeep({}, options, defaultOptions)\n  const style = {}\n  if (fontFamily) {\n    style.fontFamily = fontFamily\n  }\n  if (color) {\n    style.color = color\n  }\n  if (opts.renderMath) {\n    return (\n      <span style={style}>\n        {props.children.map((c,i) => <MathAndMarkdown key={i} options={opts} data={c}/>)}\n      </span>\n    )\n  } else if (opts.renderMarkdown) {\n    return (\n      <span style={style}>\n        {props.children.map((c,i) => <InlineMarkdown key={i} options={opts} data={c}/>)}\n      </span>\n    )\n  } else {\n    return (\n      <span style={style}>\n        {props.children.map((c,i) => <PlainText key={i} options={opts} data={c}/>)}\n      </span>\n    )\n  }\n}\n\nexport const Markdown = ({data, options}) => {\n  const opts = defaultsDeep({}, options, defaultOptions)\n  let md = new MarkdownIt()\n  if (opts.markdown.subscript) { md = md.use(mdsub); }\n  if (opts.markdown.superscript) { md = md.use(mdsup); }\n  if (opts.markdown.smartarrows) { md = md.use(mdsmartarrows); }\n  if (opts.math.render) {\n    md = md.use(mdmath, {\n      inlineRenderer: (str) => katex.renderToString(str),\n      blockRenderer: (str) => '<div class=\"math-block\">' + katex.renderToString(str, {displayMode: true}) + '</div>',\n      inlineOpen: opts.math.delimiters.inline.left,\n      inlineClose: opts.math.delimiters.inline.right,\n      blockOpen: opts.math.delimiters.display.left,\n      blockClose: opts.math.delimiters.display.right,\n    })\n  }\n  return (\n    <span dangerouslySetInnerHTML={{__html: md.render(data)}} ></span> \n  )\n}\n\n\n\n\n\n\n/*\nconst defaultDelimiters = {\n  display: {left: '$$$', right: '$$$'},\n  inline: {left: '$$', right: '$$'},\n}\n\nconst replaceMathDelimiters = function(text, options, delimiters=defaultDelimiters) {\n  let optionsCopy = {...options.katex}\n  const data = splitWithDelimiters(text, optionsCopy.delimiters)\n  let result = \"\"\n  for (let i = 0; i < data.length; i++) {\n    if (data[i].type === \"text\") {\n      result += data[i].data\n    } else if (data[i].display) {\n      result += `${delimiters.display.left}${data[i].data}${delimiters.display.right}`\n    } else {\n      result += `${delimiters.inline.left}${data[i].data}${delimiters.inline.right}`\n    }\n  }\n  return result\n}\n*/\n","import ABVG from './VectorGraphics/index'\nimport { AnswerChoices, AnswerBlanks } from './AnswerSpace'\nimport { Container } from './Container'\nimport { EmptySpace } from './EmptySpace'\nimport { PageHeader } from './PageHeader'\nimport { Plain } from './Plain'\nimport { Question, NumberedQuestion, AnswerKey } from './Question'\nimport { RenderError } from './RenderError'\nimport { Table, TRow } from './Table'\nimport { Text } from './Text'\nimport { VegaLite } from './VegaLite'\n\nconst Terminal = {\n  ABVG,\n  AnswerBlanks,\n  AnswerKey,\n  EmptySpace, \n  PageHeader,\n  NumberedQuestion,\n  Plain, \n  Question, \n  RenderError,\n  Text,\n  VegaLite,\n}\n\nconst NonTerminal = {\n  AnswerChoices,\n  Container, \n  Table, \n  TRow\n}\n\nexport { NonTerminal, Terminal}","import React from 'react'\n\nexport const Plain = props => {\n  return (\n    <>\n      {props.children.map((c,i) => <span key={i}>{c}</span>)}\n    </>\n  )\n}\n\n","import React from 'react'\n\nexport const RenderError = props => {\n  return (\n    <>\n      {props.children.map((c,i) => <code key={i} className='render-error'>{JSON.stringify(c)}</code>)}\n    </>\n  )\n}","import React from 'react'\nimport ReactVega from 'react-vega'\nimport ReactVegaLite from 'react-vega-lite'\n\nexport const Vega = data => {\n  return (\n    <ReactVega spec={data} />\n  )\n}\n\nexport const VegaLite = data => {\n  return (\n    <ReactVegaLite spec={data} />\n  )\n}","import React from 'react'\n\nexport const Container = props => {\n  const {direction='row', border=false, alignItems, justifyItems} = props\n  const divstyle = {\n    display: 'flex',\n    flexDirection: direction,\n    flexWrap: 'wrap',\n    border: border ? '1px solid black' : 'none',\n  }\n  if (direction === 'row') {\n    if (alignItems === 'bottom') {\n      divstyle.alignItems = 'flex-end'\n    } else if (alignItems === 'top') {\n      divstyle.alignItems = 'flex-start'\n    } else if (alignItems === 'center') {\n      divstyle.alignItems = 'center'\n    }\n  }\n\n  return (\n    <div style={divstyle}>\n      {props.children}\n    </div>\n  )\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { RenderJson, parseJson } from '..'\n\nexport default class DefaultEditor extends React.Component {\n  static propTypes = {\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n    json: PropTypes.array,\n    onUpdateElement: PropTypes.func.isRequired,\n    onDeleteElement: PropTypes.func.isRequired,\n    onRequestClose: PropTypes.func,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = parseJson(props.json)\n  }\n\n  stateToJson() {\n    return [this.state.type, this.state.props, ...this.state.children]\n  }\n\n  updateAndClose = () => {\n    this.props.onUpdateElement(this.props.id, this.stateToJson())\n    this.props.onRequestClose()\n  }\n\n  deleteAndClose = () => {\n    this.props.onDeleteElement(this.props.id)\n    this.props.onRequestClose()\n  }\n\n  revertChanges = () => {\n    this.setState(parseJson(this.props.json))\n  }\n\n  renderEditor() {\n    return <div>Editing is not yet implemented for this type of element.</div>\n  }\n\n  renderPreview() {\n    const json = [...this.stateToJson()]\n    return (\n      <div className='document preview-area' style={{margin: '3mm 1mm'}}>\n        <RenderJson json={json} />\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <>\n        <div style={{\n          width: '100%',\n          display: 'grid', \n          gridTemplateColumns: 'auto auto auto 1fr auto',\n          margin: '0 0 5mm 0',\n        }}>\n          <button onClick={this.updateAndClose}>Apply Changes</button>\n          <button onClick={this.revertChanges}>Revert Changes</button>\n          <button onClick={this.props.onRequestClose}>Cancel</button>\n          <span />\n          <button onClick={this.deleteAndClose} style={{justifySelf: 'right'}}>Delete</button>\n        </div>\n        {this.renderEditor()}\n        {this.renderPreview()}\n      </>\n    )\n  }\n}\n","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\n\n\nexport default class EditPageHeader extends DefaultEditor {\n\n  headingUpdate(row, lr, text) {\n    const newrow = [...this.state.children[row]]\n    newrow[lr] = text\n    const children = [...this.state.children]\n    children[row] = newrow\n    this.setState({children})\n  }\n\n  headingAddRow = () => {\n    const children = [...this.state.children, ['', '']]\n    this.setState({ children })\n  }\n\n  headingRemoveRow = () => {\n    const children = this.state.children.slice(0,-1)\n    this.setState({children})\n  }\n\n  renderEditor() {\n    const rows = this.state.children\n    const inputStyle = {\n      width: '100%',\n      borderStyle: 'dashed',\n      //fontSize: '0.8em',\n      //fontFamily: 'var(--doc-font-family, monospace)',\n      margin: '1mm',\n      padding: '1mm',\n    }\n    return (\n      <div>\n      <p>\n        Underscores will be translated into a blank underlined space.\n      </p>\n      <table className='header'>\n        <tbody>\n          {rows.map((row, i) => {\n            const [left, right] = row\n            return (\n              <tr key={i} >\n                <td style={{border: 'none', padding: '0 1em 0 0'}}>\n                  <input \n                    onChange={(evt) => this.headingUpdate(i, 0, evt.target.value)}\n                    value={left || ''} \n                    style={inputStyle}\n                  />\n                </td>\n                <td style={{border: 'none', padding: '0 1em 0 0'}}>\n                  <input \n                    onChange={(evt) => this.headingUpdate(i, 1, evt.target.value)}\n                    value={right || ''} \n                    style={inputStyle}\n                  />\n                </td>\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n      <button onClick={this.headingRemoveRow}>-</button>\n      <button onClick={this.headingAddRow}>+</button>\n      </div>\n    )\n  }\n\n}","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\nimport { RenderJson, parseJson } from '..'\n\nfunction checkMC(content, options={}) {\n  if (options.isMultipleChoice === undefined) {\n    if (content.answer && content.answer.choices) {\n      return true\n    } else {\n      return false\n    }\n  } else {\n    return options.isMultipleChoice\n  }\n}\n\n\nexport default class Question extends DefaultEditor {\n  constructor(props) {\n    super(props)\n    const parsed = parseJson(props.json)\n    this.state = {\n      type: parsed.type,\n      content: parsed.props.content || {},\n      options: parsed.props.options || {},\n    }\n    this.state.options.isMultipleChoice = checkMC(this.state.content, this.state.options)\n  }\n\n  stateToJson() {\n    return [this.state.type, {content: this.state.content, options: this.state.options}]\n  }\n\n  revertChanges = () => {\n    const newState = ({\n      content: this.state.content || {},\n      options: this.state.options || {},\n    })\n    newState.options.isMultipleChoice = checkMC(newState.content, newState.options)\n    this.setState(newState)\n  }\n\n  toggleMC = evt => {\n    //this.isMC = evt.target.checked\n    this.setState({\n      options: {...this.state.options, isMultipleChoice: evt.target.checked}\n    })\n  }\n\n  updateVersionDefault(k, v) {\n    this.setState({content: {...this.state.content, [k]: v}})\n  } \n  updateVersionMC(k, v) {\n    const multipleChoice = {...this.state.content.multipleChoice}\n    if (v === '') {\n      delete multipleChoice[k]\n    } else {\n      multipleChoice[k] = v\n    }\n    this.setState({content: {...this.state.content, multipleChoice}})\n  }\n  updateVersionFR(k, v) {\n    const freeResponse = {...this.state.content.freeResponse}\n    if (v === '') {\n      delete freeResponse[k]\n    } else {\n      freeResponse[k] = v\n    }\n    this.setState({content: {...this.state.content, freeResponse}})\n  }\n\n  updateInstructions = evt => this.updateVersionDefault('instructions', evt.target.value)\n  updateInstructionsMC = evt => this.updateVersionMC('instructions', evt.target.value)\n  updateInstructionsFR = evt => this.updateVersionFR('instructions', evt.target.value)\n\n  updateQuestion = evt => this.updateVersionDefault('question', evt.target.value)\n  updateQuestionMC = evt => this.updateVersionMC('question', evt.target.value)\n  updateQuestionFR = evt => this.updateVersionFR('question', evt.target.value)\n\n  renderInstructionsOrQuestionInputs(fieldname) {\n    const isMC = this.state.options.isMultipleChoice\n    const overrides = isMC ? this.state.content.multipleChoice || {} : this.state.content.freeResponse || {}\n    const updaters = {\n      instructions: {\n        default: this.updateInstructions,\n        mc: this.updateInstructionsMC,\n        fr: this.updateInstructionsFR,\n      },\n      question: {\n        default: this.updateQuestion,\n        mc: this.updateQuestionMC,\n        fr: this.updateQuestionFR,\n      }\n    }[fieldname]\n    return (\n      <>\n      <td>\n        <textarea value={this.state.content[fieldname]} \n          onChange={updaters.default}\n          cols=\"40\"\n          rows=\"4\"\n        />\n      </td>\n      <td>\n        {isMC ? (\n          <textarea value={overrides[fieldname] || ''} \n            onChange={updaters.mc}\n            cols=\"40\"\n            rows=\"4\"\n          />\n        ) : (\n          <textarea value={overrides[fieldname] || ''} \n            onChange={updaters.fr}\n            cols=\"40\"\n            rows=\"4\"\n          />\n        )}\n      </td>\n      </>\n    )\n  }\n\n\n  renderDiagram() {\n    return null\n  }\n\n  renderMCToggle() {\n    if (this.state.content.answer && this.state.content.answer.choices) {\n      return (\n        <>\n          Multiple Choice:\n          <input type=\"checkbox\" \n            checked={this.state.options.isMultipleChoice}\n            onChange={this.toggleMC}\n          />\n        </>\n      )\n    }\n    return null\n  }\n\n  renderEditor() {\n    const isMC = this.state.options.isMultipleChoice\n    //const content = this.state.content\n\n    return (\n      <div>\n        {this.renderMCToggle()}\n        <table>\n          <tbody>\n            <tr>\n              <td></td>\n              <td style={{textAlign: 'center'}}>Default</td>\n              <td style={{textAlign: 'center'}}>{isMC ? 'Multiple Choice' : 'Free Response'} Version</td>\n            </tr>\n            <tr>\n              <td>Instructions</td>\n              {this.renderInstructionsOrQuestionInputs('instructions')}\n            </tr>\n            <tr>\n              <td>Question</td>\n              {this.renderInstructionsOrQuestionInputs('question')}\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n\n\n  renderPreview() {\n    const json = this.stateToJson().slice(1)\n    return (\n      <>\n      <div className='document preview-area' style={{margin: '3mm 1mm'}}>\n        <RenderJson json={['Question', ...json]} />\n      </div>\n      <div className='document preview-area' style={{margin: '3mm 1mm'}}>\n        <RenderJson json={['AnswerKey', ...json]} />\n      </div>\n      </>\n    )\n  }\n\n}","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\nimport EditPageHeader from './EditPageHeader'\nimport EditQuestion from './EditQuestion'\nimport EditText from './EditText'\nimport { parseJson } from '..'\nimport { connect } from 'react-redux'\nimport { updateElement, deleteElement } from '../../actions/document'\n\nconst renderTypes = ({\n  NumberedQuestion: EditQuestion,\n  Question: EditQuestion,\n  PageHeader: EditPageHeader,\n  Text: EditText,\n})\n\nconst EditJson = props => {\n  const { type } = parseJson(props.json)\n  const RenderType = renderTypes[type]\n  if (RenderType) {\n    return <RenderType {...props}/>\n  }\n  return <DefaultEditor {...props}/>\n}\n\nconst mapDispatchToProps = dispatch => ({\n  onUpdateElement: (id, elem) => dispatch(updateElement(id, elem)),\n  onDeleteElement: (id) => dispatch(deleteElement(id)),\n})\n\nexport default connect(null, mapDispatchToProps)(EditJson)","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\nimport { RenderJson, parseJson } from '..'\n\n\nexport default class EditText extends DefaultEditor {\n\n  updateChild(i, val) {\n    const children = [...this.state.children]\n    children[i] = val\n    this.setState({ children })\n  }\n\n  renderChildEditor(i) {\n    return (\n      <textarea key={i} value={this.state.children[i]}\n        onChange={evt => this.updateChild(i, evt.target.value)}\n        rows='12'\n        cols='80'\n        style={{width: 'fit-content'}}\n      />\n    )\n  }\n\n  renderEditor() {\n    return (\n      <>\n        {this.state.children.map((el, i) => this.renderChildEditor(i))}\n      </>\n    )\n  }\n}","import { Terminal, NonTerminal } from './renderTypes'\nimport { JsonRenderer } from './JsonRenderer'\nimport { parseJson } from './parseJson'\nimport EditJson from './editJson'\n\nclass BaseRenderer extends JsonRenderer {\n  handleString(str) {\n    return this.unhandled.Text({children: [str]})\n  }\n}\n\n\nconst Renderer = new BaseRenderer(NonTerminal, Terminal)\n\nconst renderJson = json => Renderer.render(json)\n\nconst RenderJson = props => renderJson(props.json)\n\nexport {\n  parseJson, renderJson, \n  RenderJson, EditJson,\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport ReactModal from 'react-modal'\nimport { RenderJson, EditJson, parseJson } from '../../renderJson'\n\n\n\nclass TopLevelElement extends React.Component {\n  static propTypes = {\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n    json: PropTypes.array.isRequired,\n    canEdit: PropTypes.bool.isRequired,\n  }\n\n  static defaultProps = {\n    canEdit: false,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      modal: 'none',\n    }\n  }\n\n  openEditor = () => this.setState({modal: 'edit'})\n  closeModal = () => this.setState({modal: 'none'})\n\n  render() {\n    const divprops = {}\n    const classNames = []\n    if (this.props.canEdit) {\n      classNames.push('editable')\n      divprops.onDoubleClick = this.openEditor\n    }\n    if (this.props.columns) {\n      const elemprops = parseJson(this.props.json).props\n      if (elemprops.options && elemprops.options.singleColumn) {\n        classNames.push('single-column')\n      }\n    }\n\n    if (classNames.length) {\n      divprops.className = classNames.join(' ')\n    }\n    return (\n      <>\n      <div {...divprops}>\n        <RenderJson json={this.props.json} />\n      </div>\n      <ReactModal isOpen={this.state.modal === 'edit'}\n        onRequestClose={this.closeModal}\n        style={{\n          content: {\n            margin: '20px'\n          }\n        }}\n      >\n        <EditJson\n          id={this.props.id}\n          json={this.props.json}\n          onRequestClose={this.closeModal}\n        />\n      </ReactModal>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  canEdit: state.config.allowEditing,\n  columns: state.style.columns,\n})\n//const mapDispatchToProps = dispatch => ({\n//})\n\nexport default connect(mapStateToProps)(TopLevelElement)","// Sizes from papercss, measurements in mm\n\nexport const portrait = {\n  A3: { width: 297, height: 419 },\n  A4: { width: 210, height: 296 },\n  A5: { width: 148, height: 209 },\n  letter: { width: 216, height: 279 },\n  legal: { width: 216, height: 356 },\n}\n\nexport const landscape = {\n  A3: { width: 420, height: 296 },\n  A4: { width: 297, height: 209 },\n  A5: { width: 210, height: 147 },\n  letter: { width: 280, height: 215 },\n  legal: { width: 357, height: 215 },\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { addPageBreakBefore } from '../../actions/document'\nimport TopLevelElement from './TopLevelElement'\nimport { portrait, landscape } from './pagesize'\n\n\n\nclass MeasuredPage extends React.Component {\n  static propTypes = {\n    headerID: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    footerID: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    contentIDs: PropTypes.array.isRequired,\n    content: PropTypes.object.isRequired,\n    pageSize: PropTypes.string.isRequired,\n    pageOrientation: PropTypes.string.isRequired,\n    pageMargin: PropTypes.string.isRequired,\n    addPageBreakBefore: PropTypes.func.isRequired,\n    pageNumber: PropTypes.number,\n  }\n\n  static defaultProps = {\n    contentIDs: [],\n    pageSize: 'letter',\n    pageOrientation: 'portrait',\n    pageMargin: '10mm 10mm 10mm 10mm',\n  }\n\n  constructor(props) {\n    super(props)\n    this.inner = React.createRef()\n    this.outer = React.createRef()\n    this.state = {overflows: false}\n  }\n\n  innerH = () => this.inner.current.clientHeight\n  outerH = () => this.outer.current.clientHeight\n  overflows = () => this.innerH() > this.outerH()\n\n  componentDidUpdate() {\n    const oldstate = this.state.overflows\n    const newstate = this.overflows()\n    if (oldstate !== newstate) {\n      if (newstate) {\n        this.onOverflow()\n      }\n      this.setState({overflows: newstate})\n      this.forceUpdate()\n    }\n  }\n\n  onOverflow() {\n    this.props.addPageBreakBefore(+this.props.contentIDs[this.props.contentIDs.length-1].split('.')[1])\n  }\n\n  getPageSize()  {\n    if (this.props.pageOrientation === 'landscape') {\n      return landscape[this.props.pageSize]\n    } else {\n      return portrait[this.props.pageSize]\n    }\n  }\n\n  getOuterStyle() {\n    const {width, height} = this.getPageSize()\n    return {width: `${width}mm`, height: `${height}mm`}\n  }\n\n  getInnerStyle() {\n    return {\n      height: 'fit-content',\n      margin: '0',\n      padding: this.props.pageMargin,\n    }\n  }\n\n  getHeaderID() {\n    if (this.props.pageNumber in this.props.headers) {\n      return this.props.pageNumber\n    }\n    return 0\n  }\n\n  render() {\n    let outerclassname = (\n      this.state.overflows \n      ? 'page-outer page-overflowing' \n      : 'page-outer'\n    )\n\n    const outerstyle = this.getOuterStyle()\n    const innerstyle = this.getInnerStyle()\n    const headerID = this.getHeaderID()\n\n    return (\n      <div className={outerclassname} ref={this.outer} style={outerstyle}>\n        <div className='page-inner' ref={this.inner} style={innerstyle}>\n          <TopLevelElement key={headerID}\n            id={`header.${headerID}`}\n            json={this.props.headers[headerID]}\n          />\n          <div className='page-content'>\n            {this.props.contentIDs.map((id) => {\n              const contentID = id.split('.')[1]\n              const json = this.props.content[+contentID]\n              return (\n                <TopLevelElement key={id}\n                  json={json}\n                  id={id}\n                />\n              )\n            })}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  headers: state.document.headers,\n  footers: state.document.footers,\n  content: state.document.content,\n  pageSize: state.style.pageSize,\n  pageOrientation: state.style.pageOrientation,\n  pageMargin: state.style.pageMargin,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  addPageBreakBefore: (id) => dispatch(addPageBreakBefore(id)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MeasuredPage)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { portrait, landscape } from './pagesize'\n\n\nclass Page extends React.Component {\n\n  getPageSize()  {\n    if (this.props.orientation === 'landscape') {\n      return landscape[this.props.size]\n    } else {\n      return portrait[this.props.size]\n    }\n  }\n\n  getOuterStyle() {\n    const {width, height} = this.getPageSize()\n    return {\n      width: `${width}mm`, \n      height: `${height}mm`,\n      padding: '0',\n    }\n  }\n\n  getInnerStyle() {\n    return {\n      margin: '0',\n      width: '100%',\n      height: '100%',\n      padding: this.props.margin,\n    }\n  }\n\n  render() {\n    return (\n      <div className='page-outer' style={this.getOuterStyle()}>\n        <div className='page-inner' style={this.getInnerStyle()}>\n          {this.props.children}\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  size: state.style.pageSize,\n  orientation: state.style.pageOrientation,\n  margin: state.style.pageMargin,\n})\n\nexport default connect(mapStateToProps)(Page)","import React from 'react'\nimport { connect } from 'react-redux'\nimport Page from './Page'\nimport { RenderJson } from '../../renderJson'\n\n\nconst AnswerKey = (props) => {\n  return (\n    <Page>\n      <h3>Answer Key</h3>\n      <div className='answerkey'>\n        {props.contentIDs.map(id => {\n          const element = props.content[id]\n          if (element[0] === 'NumberedQuestion') {\n            return (\n              <div key={`answer-${id}`} className='answerkey-item'>\n                <RenderJson json={['AnswerKey', ...element.slice(1)]} />\n              </div>\n            )\n          } else {\n            return null\n          }\n        })}\n      </div>\n    </Page>\n  )\n}\n\nconst mapStateToProps = state => ({\n  contentIDs: state.document.order,\n  content: state.document.content\n})\n\nexport default connect(mapStateToProps)(AnswerKey)","import React from 'react'\n//import Page from './Page'\nimport MeasuredPage from './MeasuredPage'\nimport AnswerKey from './AnswerKey'\nimport { connect } from 'react-redux'\n\n\nimport Scratch from './scratchpage'\n\n\nconst Document = (props) => {\n  const len = props.contentIDs.length - props.hidden\n  const visibleIDs = props.contentIDs.slice(0,len)\n  let prev = 0\n  let slices = []\n  for (const i of props.pagebreaks) {\n    if (i < len) {\n      slices.push([prev, i])\n      prev = i\n    }\n  }\n  slices.push([prev])\n  const pages = slices.map(s => visibleIDs.slice(...s))\n\n  return (\n    <div className={props.debugView ? 'document debug-view' : 'document'}>\n      {(\n        pages.length > 0 \n        ? pages.map((ids,i) => (\n          <MeasuredPage key={`page-${i+1}`} \n            pageNumber={i+1}\n            contentIDs={ids.map(i => `content.${i}`)}\n          />\n        )) : null\n      )}\n      {props.showAnswerKey ? <AnswerKey /> : null}\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  contentIDs: state.document.order,\n  pagebreaks: state.document.pagebreaks,\n  showAnswerKey: state.config.showAnswerKey,\n  style: state.style,\n  hidden: state.config.numberHidden,\n  debugView: state.config.debugView,\n})\n\nexport default connect(mapStateToProps)(Document)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { addLocalFont } from '../../../actions/config'\n\nclass AddLocalFont extends React.Component {\n  static propTypes = {\n    addLocalFont: PropTypes.func.isRequired,\n    buttonLabel: PropTypes.string.isRequired,\n  }\n\n  static defaultProps = {\n    buttonLabel: 'Add'\n  }\n\n  constructor(props) {\n    super(props)\n    this.input = React.createRef()\n  }\n\n  addFont = () => {\n    const fontName = this.input.current.value\n    this.props.addLocalFont({family: fontName})\n  }\n\n  render() {\n    return (\n      <>\n      <input ref={this.input} spellCheck={false} />\n      <button onClick={this.addFont}>{this.props.buttonLabel}</button>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addLocalFont: (font) => dispatch(addLocalFont(font)),\n})\n\nexport default connect(null, mapDispatchToProps)(AddLocalFont)","export const ADD_LOCAL_FONT = 'ADD_LOCAL_FONT'\nexport const SET_ALLOW_EDITING = 'SET_ALLOW_EDITING'\nexport const SET_FONTFAMILY_UI = 'SET_FONTFAMILY_UI'\nexport const SET_SHOW_ANSWERKEY = 'SET_SHOW_ANSWERKEY'\nexport const SET_HIDDEN_COUNT = 'SET_HIDDEN_COUNT'\n\nexport const addLocalFont = (font) => ({\n  type: 'ADD_LOCAL_FONT',\n  payload: font,\n})\n\nexport const setAllowEditing = (b) => ({\n  type: SET_ALLOW_EDITING,\n  payload: b,\n})\n\nexport const setFontFamilyUI = (inputType) => ({\n  type: SET_FONTFAMILY_UI,\n  payload: inputType,\n})\n\nexport const setShowAnswerKey = (bool) => ({\n  type: SET_SHOW_ANSWERKEY,\n  payload: bool,\n})\n\nexport const setHiddenCount = (n) => ({\n  type: SET_HIDDEN_COUNT,\n  payload: n,\n})\n\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setFontFamilyUI } from '../../../actions/config'\n\nclass FontFamilyUI extends React.Component {\n  static propTypes = {\n    current: PropTypes.string,\n    setFontFamilyUI: PropTypes.func.isRequired\n  }\n\n  setFontFamilyUI = (evt) => {\n    this.props.setFontFamilyUI(evt.target.value)\n  }\n\n  render() {\n    return (\n      <select onChange={this.setFontFamilyUI} value={this.props.current}>\n        <option value='input'>Input</option>\n        <option value='select'>Menu</option>\n      </select>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.config.fontFamilyUI\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setFontFamilyUI: (inputtype) => dispatch(setFontFamilyUI(inputtype)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontFamilyUI)","export const SET_DOCUMENT_FONTFAMILY = 'SET_DOCUMENT_FONTFAMILY'\nexport const SET_DOCUMENT_FONTSIZE = 'SET_DOCUMENT_FONTSIZE'\nexport const SET_MATH_FONTSIZE = 'SET_MATH_FONTSIZE'\nexport const SET_MATH_FONTWEIGHT = 'SET_MATH_FONTWEIGHT'\nexport const SET_PAGE_MARGIN = 'SET_PAGE_MARGIN'\nexport const UPDATE_GRAPHSTYLE = 'UPDATE_GRAPHSTYLE'\nexport const RESET_GRAPHSTYLE = 'RESET_GRAPHSTYLE'\n\n// Document font\nexport const setDocumentFontFamily = (family) => ({\n  type: SET_DOCUMENT_FONTFAMILY,\n  payload: family\n})\nexport const setDocumentFontSize = (size) => ({\n  type: SET_DOCUMENT_FONTSIZE,\n  payload: size\n})\n\n// Document Math Font\nexport const setMathFontSize = (size) => ({\n  type: SET_MATH_FONTSIZE,\n  payload: size\n})\nexport const setMathFontWeight = (weight) => ({\n  type: SET_MATH_FONTWEIGHT,\n  payload: weight\n})\n\n// Page Layout\nexport const setPageMargin = (margins) => ({\n  type: SET_PAGE_MARGIN,\n  payload: margins\n})\n\n// Graph Style\nexport const updateGraphStyle = (props) => ({\n  type: UPDATE_GRAPHSTYLE,\n  payload: props,\n})\n\nexport const resetGraphStyle = () => ({\n  type: RESET_GRAPHSTYLE,\n})","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setDocumentFontFamily } from '../../../actions/style'\n\n\nclass FontFamilyInput extends React.Component {\n  static propTypes = {\n    current: PropTypes.string,\n    setDocumentFontFamily: PropTypes.func,\n  }\n\n  constructor(props) {\n    super(props)\n    this.setCss(props.current)\n  }\n\n  setCss(fontFamily) {\n    document.body.style.setProperty('--doc-font-family', fontFamily)\n  }\n\n  setFontFamily(fontFamily) {\n    this.setCss(fontFamily)\n    this.props.setDocumentFontFamily(fontFamily)\n  }\n\n  onChange = (evt) => {\n    const value = evt.target.value\n    const fontFamily = value.slice(0,7) === '_LOCAL_' ? value.slice(8) : value\n    this.setFontFamily(fontFamily)\n  }\n\n  render() {\n    return (\n      <input \n        value={this.props.current}\n        spellCheck={false}\n        onChange={this.onChange}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.style.fontFamily,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setDocumentFontFamily: (family) => dispatch(setDocumentFontFamily(family)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontFamilyInput)","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { setDocumentFontFamily } from '../../../actions/style'\n\n\nconst GoogleFonts = [\n  {family: 'CMU Serif'},\n  {family: 'IBM Plex Serif'},\n  {family: 'Source Sans Pro'},\n]\n\nconst BrowserFonts = [\n  {label: 'serif', family: 'serif'},\n  {label: 'sans-serif', family: 'sans-serif'},\n]\n\nfunction fontSort(a, b) {\n  const aName = (a.label ? a.label : a.family).toUpperCase()\n  const bName = (b.label ? b.label : b.family).toUpperCase()\n  if (aName < bName) { return -1 }\n  if (aName > bName) { return 1}\n  return 0\n}\n\n\nfunction renderFontOption(font) {\n  const {family, label} = font\n  if (family === \"0\") {\n    const optionLabel = label ? label : \"---\"\n    return (\n      <option key={`font-null-${optionLabel}`}\n        value=\"0\"\n        disabled\n      >{optionLabel}</option>\n    )\n  } else {\n    const optionLabel = label ? label : family\n    return (\n      <option key={`font-family-option-${family}`}\n        value={family}\n        >{optionLabel}</option>\n    )\n  }\n}\n\n\n\n//////////////////////////////\n//\n// COMPONENT\n//\n////////////////////////////\n\n\nclass FontFamilySelect extends React.Component {\n  static propTypes = {\n    current: PropTypes.string,\n    localFonts: PropTypes.array.isRequired,\n    setDocumentFontFamily: PropTypes.func.isRequired,\n  }\n\n  static defaultProps = {\n    localFonts: [],\n  }\n\n  constructor(props) {\n    super(props)\n    this.setCss(props.current)\n  }\n\n  fontList = () => {\n    let result = [\n      ...GoogleFonts.sort(fontSort),\n      ...BrowserFonts, \n    ]\n    if (this.props.localFonts.length > 0) {\n      result.push({family: \"0\"})\n      result = result.concat(this.props.localFonts.sort(fontSort))\n    }\n    return result\n  }\n\n  setCss(fontFamily) {\n    document.body.style.setProperty('--doc-font-family', fontFamily)\n  }\n\n  setFontFamily(fontFamily) {\n    this.setCss(fontFamily)\n    this.props.setDocumentFontFamily(fontFamily)\n  }\n\n  setFromPrompt = () => {\n    const customFamily = window.prompt(`Enter Font Name\n(this should be the name of a font installed on your computer)`)\n    this.setFontFamily(customFamily)\n  }\n\n  onChange = (evt) => {\n    const value = evt.target.value\n    if (value === '__CUSTOM__') {\n      this.setFromPrompt()\n    } else {\n      this.setFontFamily(value)\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <select\n          value={this.props.current}\n          onChange={this.onChange}\n        >\n          <option value=\"__CUSTOM__\">Custom</option>\n          {this.fontList().map((f) => renderFontOption(f))}\n        </select>\n      </>\n    )\n  }\n}\n\n\nconst mapStateToProps = state => ({\n  current: state.style.fontFamily,\n  localFonts: [...state.config.localFonts],\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setDocumentFontFamily: (family) => dispatch(setDocumentFontFamily(family)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontFamilySelect)","import React from 'react'\nimport { connect } from 'react-redux'\nimport FontFamilyInput from './FontFamilyInput'\nimport FontFamilySelect from './FontFamilySelect'\n\nconst FontFamily = ({fontFamilyUI}) => (\n  fontFamilyUI === 'input' ? <FontFamilyInput/> : <FontFamilySelect/>\n)\n\nconst mapStateToProps = state => ({fontFamilyUI: state.config.fontFamilyUI})\n\nexport default connect(mapStateToProps)(FontFamily)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setDocumentFontSize } from '../../../actions/style'\n\n\nclass FontSizeSelect extends React.Component {\n\n  static propTypes = {\n    current: PropTypes.string.isRequired,\n    setDocumentFontSize: PropTypes.func.isRequired,\n  }\n\n  constructor(props) {\n    super(props)\n    this.setCss(props.current)\n  }\n\n  setCss(fontSize) {\n    document.body.style.setProperty('--doc-font-size', fontSize)\n  }\n\n  setDocFontSize(size) {\n    this.setCss(size)\n    this.props.setDocumentFontSize(size)\n  }\n\n  onChange = (evt) => {\n    this.setDocFontSize(evt.target.value)\n  }  \n\n  renderSizeOptions() {\n    const options = [6, 7, 8, 9, 10, 11, 12]\n    return (\n      <>\n      {options.map((s) => {\n        const size = `${s}pt`\n        return (\n          <option \n            value={size}\n            key={s}\n          >{size}</option>\n        )\n      })}\n      </>\n    )\n  }\n\n  render() {\n    return (\n      <>\n        <select \n          value={this.props.current}\n          onChange={this.onChange}\n        >\n          {this.renderSizeOptions()}\n        </select>\n      </>\n    )\n  }\n}\n\n\nconst mapStateToProps = state => ({\n  current: state.style.fontSize,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setDocumentFontSize: (size) => dispatch(setDocumentFontSize(size)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontSizeSelect)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setMathFontSize, setMathFontWeight } from '../../../actions/style'\n\nclass MathFontSettings extends React.Component {\n  static propTypes = {\n    currentSize: PropTypes.string,\n    currentWeight: PropTypes.string,\n    setMathFontSize: PropTypes.func.isRequired,\n    setMathFontWeight: PropTypes.func.isRequired,\n  }\n\n  setSizeCss(size) {\n    document.body.style.setProperty('--doc-math-font-size', size)\n  }\n\n  setWeightCss(weight) {\n    document.body.style.setProperty('--doc-math-font-weight', weight)\n  }\n\n  setSize(size) {\n    this.setSizeCss(size)\n    this.props.setMathFontSize(size)\n  }\n\n  setWeight(weight) {\n    this.setWeightCss(weight)\n    this.props.setMathFontWeight(weight)\n  }\n\n  onChangeSize = (evt) => {\n    this.setSize(evt.target.value)\n  }\n\n  onChangeWeight = (evt) => {\n    if (evt.target.checked) {\n      this.setWeight('bold')\n    } else {\n      this.setWeight('normal')\n    }\n  }\n\n  render() {\n    return (\n      <>\n        Relative Size:\n        <select\n          onChange={this.onChangeSize}\n          value={this.props.currentSize}\n        >\n          <option value='0.6em'>0.6</option>\n          <option value='0.7em'>0.7</option>\n          <option value='0.8em'>0.8</option>\n          <option value='0.9em'>0.9 (default)</option>\n          <option value='1em'>1.0</option>\n          <option value='1.1em'>1.1</option>\n          <option value='1.2em'>1.2</option>\n          <option value='1.3em'>1.3</option>\n          <option value='1.4em'>1.4</option>\n        </select>\n        Bold:\n        <input ref={this.bold} \n          onChange={this.onChangeWeight}\n          type=\"checkbox\"\n          checked={this.props.currentWeight === 'bold'}\n        />\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  currentSize: state.style.mathFontSize,\n  currentWeight: state.style.mathFontWeight,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setMathFontSize: (size) => dispatch(setMathFontSize(size)),\n  setMathFontWeight: (weight) => dispatch(setMathFontWeight(weight)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MathFontSettings)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { RenderJson } from '../../../renderJson'\n\n\n\nconst tabsize = 2;\n\nfunction onKeyDown(evt) {\n  if (evt.keyCode === 9) { // handle tab\n    let target = evt.target;\n    const start = target.selectionStart;\n    const end = target.selectionEnd;\n    const value = target.value;\n    target.value = value.substring(0,start) + Array(tabsize).fill(' ').join('') + value.substring(end);\n    target.selectionStart = start + tabsize;\n    target.selectionEnd = end + tabsize;\n    evt.preventDefault();\n  } else if (evt.keyCode === 8) { // handle backspace\n    let target = evt.target;\n    const start = target.selectionStart;\n    if (start === target.selectionEnd) {\n      const value = target.value;\n      if (value.substring(start-tabsize, start) === Array(tabsize).fill(' ').join('')) {\n        target.value = value.substring(0,start-tabsize) + value.substring(start);\n        target.selectionStart = start - tabsize;\n        target.selectionEnd = start - tabsize;\n        evt.preventDefault();\n      }\n    }\n  }\n}\n\nclass TextPreview extends React.Component {\n  static propTypes = {\n    defaultValue: PropTypes.string,\n    renderType: PropTypes.string.isRequired\n  }\n\n  static defaultProps = {\n    renderType: 'text',\n    wrapperElement: 'div',\n  }\n\n  constructor(props) {\n    super(props)\n    const style = this.props.style || {}\n    this.inputStyle = style.input || {}\n    this.outputStyle = style.output || {}\n    this.input = React.createRef()\n    this.state = { text: props.defaultValue || '' }\n  }\n\n  updatePreview = (evt) => {\n    this.setState({ text: evt.target.value })\n  }\n\n  renderPreview() {\n    if (this.props.renderType === 'text') {\n      return this.state.text.split('\\n\\n').map((t,i) => (\n        <RenderJson key={i} json={['Text', t]} />\n      ))\n    } else if (this.props.renderType === 'json') {\n      try {\n        const json = JSON.parse(this.state.text)\n        return <RenderJson json={json} />\n      } catch(e) {\n        return \"Failed to render\"\n      }\n    }\n  }\n\n  render() {\n    return (\n      <>\n      <this.props.wrapperElement className='text-preview-input' >\n        <textarea \n          style={this.inputStyle}\n          onChange={this.updatePreview}\n          onKeyDown={onKeyDown}\n          value={this.state.text}\n        />\n      </this.props.wrapperElement>\n      <this.props.wrapperElement className='text-preview-output' >\n        <div className='document' style={this.outputStyle}>\n          {this.renderPreview()}\n        </div>\n      </this.props.wrapperElement>\n      </>\n    )\n  }\n}\n\nexport default TextPreview","import AddLocalFont from './AddLocalFont'\nimport FontFamilyUI from './FontFamilyUI'\nimport FontFamily from './FontFamily'\nimport FontSize from './FontSize'\nimport FontSettings from './FontSettings'\nimport TextPreview from './TextPreview'\n\nexport {\n  FontFamily,\n  FontSize,\n  AddLocalFont,\n  FontFamilyUI,\n  FontSettings,\n  TextPreview\n}\n\nexport default FontSettings","import React from 'react'\nimport FontFamily from './FontFamily'\nimport MathFontSettings from './MathFontSettings'\nimport FontFamilyUI from './FontFamilyUI'\nimport AddLocalFont from './AddLocalFont'\nimport TextPreview from './TextPreview'\n\nconst previewtext = `To solve an equation of the form $$ax^2 + bx + c = 0$$, use the quadratic formula:\n\n$$$x = \\\\frac{-b \\\\pm \\\\sqrt{b^2 - 4ac}}{2a}$$$\n\nThe volume of a sphere is $$\\\\frac{4}{3}\\\\pi r^3$$.\n\nRemember that $$e^{i\\\\theta} = \\\\cos\\\\theta + i\\\\sin\\\\theta$$.`\n\n\nconst FontSettings = () => {\n  return (\n    <>\n      <h4>Document Font</h4>\n      <div>\n        Font Selection Method: <FontFamilyUI />\n      </div>\n      <div>\n        Font: <FontFamily/> \n      </div>\n      <div>\n        Add Local Font to Menu: <AddLocalFont buttonLabel=\"Add To List\" /> (You will then need to select it from the menu)\n      </div>\n      <h4>Math Font</h4>\n      <div style={{justifyItems: 'right'}}>\n        <MathFontSettings />\n      </div>\n      <h4>Preview</h4>\n      <div style={{display: 'flex', flexDirection: 'row', '--doc-font-size': '11pt'}}>\n        <TextPreview wrapperElement='div' defaultValue={previewtext} style={{input: {height: '100%'}, output: {height: '100%'}}}/>      \n      </div>\n    </>\n  )\n}\n\nexport default FontSettings","import React from 'react'\nimport { TextPreview } from '../Settings/Font'\nimport styles from './styles.module.css'\n\nconst latexfmt = (...a) => String.raw(...a).replace('\\\\`', '`');\n\nconst examples = [\n  'Text can be _italic_, __bold__, or ___both___.',\n  'Or, *asterisks* will **accomplish** the ***same thing***.',\n  latexfmt`f: x --> x^3^ - 3x^2^ + 9x - 8 doesn't look as nice as $$f: x \\mapsto x^3 - 3x^2 + 9x - 8$$`,\n  latexfmt`**Markdown:** a~n~ = a~n-1~ + 2n - 1 , **LaTeX:** $$a_n = a_{n-1} + 2n - 1$$`,\n  latexfmt`There are two ways to write a fraction: $$\\frac{24}{18} = {4 \\over 3}$$`,\n  latexfmt`$$V = \\frac{4}{3}\\pi r^3$$`,\n  latexfmt`Use the quadratic formula to solve for $$x$$: $$$x = { -b \\pm \\sqrt{b^2 - 4ac} \\over 2a }$$$`,\n  latexfmt`Determine the measure of $$\\angle{ABC}$$.`,\n  latexfmt`$$\\overline{AB}$$ is a line segment. $$\\overleftrightarrow{CD}$$ is a line. $$\\overrightarrow{EF}$$ is a ray.`,\n  latexfmt`Prove that $$\\triangle{ABC} \\cong \\triangle{DEF}$$.`,\n  latexfmt`Given $$\\vec{u} = \\langle 3,5 \\rangle$$ and $$\\vec{v} = \\langle -4, 9 \\rangle$$, calculate $$\\vec{u} \\cdot \\vec{v}$$.`,\n  latexfmt`Remember that $$re^{i\\theta} = r(\\cos\\theta + i\\sin\\theta)$$`,\n  latexfmt`$$$\\int_a^b f'(x)dx = f(b) - f(a)$$$`,\n  latexfmt`$$$\\sum_{n=0}^{\\infty}\\frac{f^{(n)}(a)}{n!}(x-a)^n$$$`,\n  latexfmt`$$\\lnot (p \\land q) \\iff (\\lnot p \\lor \\lnot q)$$`,\n\n  latexfmt`$$$\na_{n+1} = \\left\\{\\begin{array}{r l}\n  3a_n + 1 & \\text{if $a_n$ is odd} \\\\\n  a_n \\div 2 & \\text{if $a_n$ is even} \\\\\n\\end{array}\\right.\n$$$`,\n\n  latexfmt`$$$\n\\left[\\begin{array}{r r r}\n   1 &   4 &  -9 \\\\\n  16 & -25 &  66 \\\\\n  49 &  64 & -81 \\\\\n\\end{array}\\right]\n$$$`,\n\n  latexfmt`$$\\forall\\ \\epsilon > 0, x \\in \\mathbb{R},\\ \\exists\\ \\delta > 0 \\text{ such that } 0 < |x-c| < \\delta \\implies |f(x) - L| < \\epsilon$$`,\n\n]\n\n/*\nconst RenderExample = ({text}) => {\n  return (\n    <>\n    <pre style={{\n      backgroundColor: 'rgba(255,255,200,0.5)',\n      border: '1px solid black',\n      padding: '0.5rem',\n      overflowX: 'scroll',\n    }}>{text}</pre>\n    <span className='document' \n      style={{\n      paddingLeft: '0.5rem',\n      fontSize: '1em',\n    }}>\n      <RenderElement content={{type: 'text', data: text}}/>\n    </span>\n    </>\n  )\n}\n*/\n\nconst RenderExample = ({text}) => (\n  <tr>\n    <TextPreview wrapperElement='td' defaultValue={text} />\n  </tr>\n)\n\nconst LatexExamples = (props) => {\n  return (\n    <div style={{padding: '3mm 0 3mm 0'}}>\n    <div>\n      <span>Examples:</span>\n      <button onClick={props.onRequestClose}>Close</button>\n    </div>\n    <table className={styles.LatexExamples}>\n      <tbody>\n      {examples.map((s, i) => (\n          <RenderExample key={`render-example-${i}`} text={s} />\n      ))}\n      </tbody>\n    </table>\n    <div>\n      <button onClick={props.onRequestClose}>Close</button>\n    </div>\n    </div>\n  )\n}\n\nexport default LatexExamples","import React from 'react'\nimport { RenderJson } from '../../renderJson'\nimport styles from './styles.module.css'\nimport math from 'mathjs'\n\n\nconst round = function(v, n) {\n  const d = Math.pow(10,n)\n  return Math.floor(d*v) / d\n}\n\nfunction calcParametric(x, y, domain, step) {\n  const f = (t) => ({x: round(x(t), 6), y: round(y(t), 6)})\n  let paths = []\n  let points = []\n  let t = domain[0]\n  while (t < domain[1]) {\n    try {\n      const pt = f(t)\n      if (points.length > 0 && Math.abs(pt.y - points[points.length-1].y) > 100) {\n        paths.push(points)\n        points = [pt]\n      } else {\n        points.push(pt)\n      }\n    } catch(e) {\n      if (points.length > 0) {\n        paths.push(points)\n        points = []\n      }\n    }\n    t += step\n  }\n  try {\n    points.push(f(domain[1]))\n  } catch(e) {}\n  if (points.length > 0) paths.push(points)\n  return paths\n}\n\nfunction parseFunction(str) {\n  try {\n    const nodes = math.parse(str)\n    const func = nodes.compile()\n    return scope => func.eval(scope)\n  } catch(e) {\n    console.error(e)\n  }\n}\n\n\n\nclass GraphMaker extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      mode: 'standard',\n      standard: 'x',\n      inverse: 'y',\n      parametricX: 't',\n      parametricY: 't',\n      x0: -10,\n      x1: 10,\n      y0: -10,\n      y1: 10,\n      t0: -10,\n      t1: 10,\n      step: 0.1,\n      height: 1.5,\n      autoDomain: 'auto',\n      autoSize: 'auto',\n    }\n  }\n\n  updateMode = evt => this.setState({mode: evt.target.value})\n  updateStandard = evt => this.setState({standard: evt.target.value})\n  updateInverse = evt => this.setState({inverse: evt.target.value})\n  updateParametricX = evt => this.setState({parametricX: evt.target.value})\n  updateParametricY = evt => this.setState({parametricY: evt.target.value})\n  updateX0 = evt => this.setState({x0: evt.target.value})\n  updateX1 = evt => this.setState({x1: evt.target.value})\n  updateY0 = evt => this.setState({y0: evt.target.value})\n  updateY1 = evt => this.setState({y1: evt.target.value})\n  updateT0 = evt => this.setState({t0: evt.target.value})\n  updateT1 = evt => this.setState({t1: evt.target.value})\n  updateStep = evt => this.setState({step: evt.target.value})\n  updateHeight = evt => this.setState({height: evt.target.value})\n  updateAutoDomain = evt => this.setState({autoDomain: evt.target.value})\n  updateAutoSize = evt => this.setState({autoSize: evt.target.value})\n\n  renderMode() {\n    return (\n      <select value={this.state.mode}\n        onChange={this.updateMode}\n      >\n        <option value='standard' title=\"y is a function of x\">Standard</option>\n        <option value='inverse' title=\"x is a function of y\">Inverse</option>\n        <option value='parametric' title=\"x and y are functions of t\">Parametric</option>\n      </select>\n    )\n  }\n\n  renderGridInputs() {\n    return (\n      <>\n      <table>\n        <tbody>\n          <tr>\n            <th /><th>Min</th><th>Max</th>\n          </tr>\n          <tr>\n            <td>x</td>\n            <td><input type=\"number\" value={this.state.x0} onChange={this.updateX0} /></td>\n            <td><input type=\"number\" value={this.state.x1} onChange={this.updateX1} /></td>\n          </tr>\n          <tr>\n            <td>y</td>\n            <td><input type=\"number\" value={this.state.y0} onChange={this.updateY0} /></td>\n            <td><input type=\"number\" value={this.state.y1} onChange={this.updateY1} /></td>\n          </tr>\n        </tbody>\n      </table>\n      </>\n    )\n  }\n\n  renderInputs() {\n    if (this.state.mode === 'standard') {\n      return (\n        <table>\n          <tbody>\n            <tr>\n              <td>y=</td>\n              <td><textarea value={this.state.standard} onChange={this.updateStandard}/></td> \n            </tr>\n          </tbody>\n        </table>\n      )\n    }\n    if (this.state.mode === 'inverse') {\n      return (\n        <table>\n          <tbody>\n            <tr>\n              <td>x=</td>\n              <td><textarea value={this.state.inverse} onChange={this.updateInverse}/></td> \n            </tr>\n          </tbody>\n        </table>\n      )\n    }\n    if (this.state.mode === 'parametric') {\n      return (\n        <table>\n          <tbody>\n            <tr>\n              <td>x=</td>\n              <td><textarea value={this.state.parametricX} onChange={this.updateParametricX}/></td>\n            </tr>\n            <tr>\n              <td>y=</td>\n              <td><textarea value={this.state.parametricY} onChange={this.updateParametricY}/></td>\n            </tr>\n          </tbody>\n        </table>\n      )\n    }\n  }\n\n\n  renderDomainInput() {\n    return (\n      <>\n      Step:\n      <input type=\"number\" \n        step={0.01}\n        value={this.state.step} \n        onChange={this.updateStep}\n        min={0}\n      /><br/>\n        Domain: \n        {this.state.mode !== 'parametric' ? (\n          <select value={this.state.autoDomain} onChange={this.updateAutoDomain}>\n            <option value='auto'>Auto</option>\n            <option value='custom'>Custom</option>\n          </select>\n        ) : <br/>}\n        {(this.state.autoDomain === 'custom' || this.state.mode === 'parametric') ? (\n          <div>\n          <input type=\"number\" value={this.state.t0} onChange={this.updateT0} />\n          to \n          <input type=\"number\" value={this.state.t1} onChange={this.updateT1} />\n          </div>\n        ) : null }        \n      </>\n    )\n  }\n\n  renderHeightInput() {\n    return (\n      <>\n      Height:\n      <select value={this.state.autoSize} onChange={this.updateAutoSize}>\n        <option value='auto'>Default</option>\n        <option value='custom'>Custom</option>\n      </select>\n      {this.state.autoSize === 'custom' ? (\n        <>\n          <br/>\n          Inches:\n          <input type=\"number\"\n            step={0.1}\n            value={this.state.height}\n            onChange={this.updateHeight}\n            min={0}\n          />\n        </>\n      ) : null}\n      </>\n    )\n  }\n\n  graphSize() {\n    return {\n      span: [\n        +this.state.x0, \n        +this.state.y0, \n        +this.state.x1, \n        +this.state.y1\n      ],\n    }\n  }\n\n  getDomain() {\n    if (this.state.mode === 'parametric' || this.state.autoDomain === 'custom') {\n      return [+this.state.t0, +this.state.t1]\n    }\n    if (this.state.mode === 'standard') {\n      return [+this.state.x0, +this.state.x1]\n    }\n    if (this.state.mode === 'inverse') {\n      return [+this.state.y0, +this.state.y1]\n    }\n  }\n\n  getFunction() {\n    const step = this.state.step > 0 ? +this.state.step : 0.002\n    const domain = this.getDomain()\n    switch(this.state.mode) {\n      case 'standard':\n        const ymap = parseFunction(this.state.standard)\n        if (ymap) {\n          const paths = calcParametric(t=>t, x=>ymap({x}), domain, step)\n          return paths.map(p => ['Path', {points: p}])\n        }\n        return null\n\n      case 'inverse':\n        const xmap = parseFunction(this.state.inverse)\n        if (xmap) {\n          const paths = calcParametric(y=>xmap({y}), t=>t, domain, step)\n          return paths.map(p => ['Path', {points: p}])\n        }\n        return null\n      case 'parametric':\n        const xpmap = parseFunction(this.state.parametricX)\n        const ypmap = parseFunction(this.state.parametricY)\n        if (xpmap && ypmap) {\n          const paths = calcParametric(t=>xpmap({t}), t=>ypmap({t}), domain, step)\n          return paths.map(p => ['Path', {points: p}])\n        }\n        return null\n      default:\n        return null\n    }\n  }\n\n  getData() {\n    let props = {\n      ...this.graphSize(), \n      autogrid: true,\n    }\n    if (this.state.autoSize === 'custom') {\n      props.height = this.state.height + 'in'\n    } else {\n      props.height = '2in'\n    }\n    const paths = this.getFunction()\n    if (paths) {\n      return ['ABVG', ['CoordinatePlane', props, ...paths]]\n    }\n    return ['ABVG', ['CoordinatePlane', props]]\n  }\n\n  onSubmit = () => {\n    this.props.onSubmit(this.getData())\n    this.props.onRequestClose()\n  }\n\n  render() {\n    return (\n      <div className={styles.GraphMaker}>\n        <div className={styles.GraphMakerHeading}>\n          <button onClick={this.onSubmit}>Apply</button>\n          <button onClick={this.props.onRequestClose}>Cancel</button>\n        </div>\n        <div className={styles.GraphMakerBody}>\n          <div className={styles.GraphMakerInput}>\n            <div style={{margin: '3mm'}}>\n              Graphing Mode {this.renderMode()}\n              {this.renderInputs()}\n            </div>\n            <div style={{margin: '3mm'}}>\n            {this.renderDomainInput()}\n            </div>\n            <div style={{margin: '3mm'}}>\n              {this.renderGridInputs()}\n            </div>\n            <div>\n              {this.renderHeightInput()}\n            </div>\n          </div>\n          <div className={styles.GraphMakerPreview}>\n            <div className='document preview-area'>\n              <RenderJson json={this.getData()} />\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport default GraphMaker","import React from 'react'\nimport { connect } from 'react-redux'\nimport { RenderJson } from '../../renderJson'\nimport { addToDocument } from '../../actions/document'\nimport LatexExamples from './LatexExamples'\nimport GraphMaker from './GraphMaker'\nimport ReactModal from 'react-modal'\n\nconst tabsize = 2;\n\nfunction onKeyDown(evt) {\n  if (evt.keyCode === 9) { // handle tab\n    let target = evt.target;\n    const start = target.selectionStart;\n    const end = target.selectionEnd;\n    const value = target.value;\n    target.value = value.substring(0,start) + Array(tabsize).fill(' ').join('') + value.substring(end);\n    target.selectionStart = start + tabsize;\n    target.selectionEnd = end + tabsize;\n    evt.preventDefault();\n  } else if (evt.keyCode === 8) { // handle backspace\n    let target = evt.target;\n    const start = target.selectionStart;\n    if (start === target.selectionEnd) {\n      const value = target.value;\n      if (value.substring(start-tabsize, start) === Array(tabsize).fill(' ').join('')) {\n        target.value = value.substring(0,start-tabsize) + value.substring(start);\n        target.selectionStart = start - tabsize;\n        target.selectionEnd = start - tabsize;\n        evt.preventDefault();\n      }\n    }\n  }\n}\n\nconst jsonExample = `{\n  \"instructions\": \"Use the table to answer the question.\",\n  \"question\": \"What is the value of $$g(f(2))$$?\",\n  \"answer\": {\n    \"choices\": [1, 2, 3, 4, 5],\n    \"correctIndex\": 3\n  },\n  \"diagram\": [\n    \"Table\", {\"align\":\"c|c|c\"},\n    [\"TRow\", {\"border\":\"bottom\"}, \"$$x$$\", \"$$f(x)$$\", \"$$g(x)$$\"],\n    [\"TRow\", 1, 3, 2],\n    [\"TRow\", 2, 5, 1],\n    [\"TRow\", 3, 4, 5],\n    [\"TRow\", 4, 2, 3],\n    [\"TRow\", 5, 1, 4]\n  ]\n}`\n\n\nclass CustomQuestion extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      inputType: 'manual',\n      instructions: '',\n      question: '',\n      answer: '',\n      diagram: '',\n      json: '',\n      modal: 'none',\n    }\n    this.inputType = React.createRef()\n    this.instructions = React.createRef()\n    this.question = React.createRef()\n    this.answer = React.createRef()\n    this.json = React.createRef()\n  }\n\n  openExamples = () => this.setState({ modal: 'examples' })\n  openGraphMaker = () => this.setState({modal: 'graph'})\n  closeModal = () => this.setState({ modal: 'none' })\n\n  updateInstructions = (evt) => {\n    this.setState({ instructions: evt.target.value })\n  }\n  updateQuestion = (evt) => {\n    this.setState({ question: evt.target.value })\n  }\n  updateDiagram = (diagram) => {\n    this.setState({diagram})\n  }\n  updateAnswer = (evt) => {\n    this.setState({ answer: {...this.state.answer, correct: evt.target.value }})\n  }\n  updateJSON = (evt) => {\n    this.setState({ json: evt.target.value })\n  }\n\n  updateInputType = (evt) => {\n    this.setState({inputType: evt.target.value})\n\n    /*\n    const inputType = evt.target.value\n    const data = this.getDataFromState()\n    if (data) {\n      if (inputType === 'json') {\n        const json = JSON.stringify(data,null,2)\n        if (json.length <= 2) {\n          this.setState({inputType, json: ''})\n        } else {\n          this.setState({inputType, json})\n        }\n      } else {\n        const newstate = {}\n        for (const k of ['instructions', 'question', 'answer']) {\n          if (data[k]) {\n            if (typeof data[k] === 'string') newstate[k] = data[k];\n            else if (data[k].type === 'text') newstate[k] = data[k].data;\n            else newstate[k] = '';\n          } else {\n            newstate[k] = '';\n          }\n        }\n        this.setState({ inputType, ...newstate })\n      }\n    } else {\n      this.setState({inputType})\n    }\n    */\n  }\n\n  getDataFromState() {\n    if (this.state.inputType === 'manual') {\n      const content = {}\n      for (const k of ['instructions', 'question', 'answer']) {\n        if (this.state[k]) {\n          content[k] = this.state[k]\n        }\n      }\n      if (this.state.diagram) {\n        content.diagram = this.state.diagram\n      }\n      return content\n    } else if (this.state.inputType === 'json') {\n      try {\n        const content = JSON.parse(this.state.json)\n        return content\n      } catch(e) {\n      }\n    }\n  }\n\n  addQuestion = () => {\n    const props = {content: this.getDataFromState()}\n    this.props.addToDocument(['NumberedQuestion', props])\n    this.props.onRequestClose()\n  }\n\n  renderInputs() {\n    if (this.state.inputType === 'manual') {\n      const inputStyle = {width:'30rem'}\n      return (\n        <div >\n          <p>\n            Tip: Text surrounded with $$ ... $$ will be treated as a math formula.\n          </p>\n          <button onClick={this.openExamples}>See Examples</button>\n          <p>Instructions:</p>\n          <textarea \n            value={this.state.instructions}\n            onChange={this.updateInstructions}\n            style={inputStyle}\n            ></textarea>\n\n          <p>Question:</p>\n          <textarea \n            value={this.state.question}\n            onChange={this.updateQuestion}\n            style={inputStyle}\n          ></textarea>\n\n          <p>Diagram:</p>\n          <button onClick={this.openGraphMaker}>Add Graph</button>\n          \n          <p>Answer:</p>\n          <textarea \n            value={this.state.answer.correct}\n            onChange={this.updateAnswer}\n            style={inputStyle}\n          ></textarea>\n        </div>\n      )\n    } else {\n      return (\n        <>\n          <button onClick={this.setJsonExample}>See example</button>\n          <p>Paste JSON:</p>\n          <textarea \n            value={this.state.json}\n            onChange={this.updateJSON}\n            onKeyDown={onKeyDown}\n            spellCheck={false}\n            style={{width:'30rem', height: '10rem', fontSize: '0.9em'}}\n          />\n          <br/>\n        </>\n      )\n    }\n  }\n\n  setJsonExample = () => {\n    const json = jsonExample\n    this.setState({ json })\n  }\n\n  renderPreview() {\n    const content = this.getDataFromState()\n    const previewStyle = {\n      margin: '2mm',\n      width: 'fit-content',\n      fontSize: '1.2em',\n      minWidth: '3in',\n    }\n    const props = { content }\n    return (\n      <>\n      <p>Question</p>\n      <div className='document preview-area' style={previewStyle}>\n        {content ? <RenderJson json={['Question', props]} /> : null}\n      </div>\n      <p>Answer</p>\n      <div className='document preview-area' style={previewStyle}>\n        {content ? <RenderJson json={['AnswerKey', props]} /> : null}\n      </div>\n      </>\n    )\n  }\n\n  render() {\n    const divstyle = {\n      width: 'auto',\n      padding: '0',\n      margin: '0',\n      display: 'grid',\n      gridTemplateAreas: '\"inputs preview\"',\n      gridTemplateColumns: 'auto auto',\n    }\n    return (\n      <>\n      <div style={divstyle}>\n        <div style={{gridArea: 'inputs'}}>\n          <h4 style={{gridArea: 'title'}}>Custom Question</h4>\n          <select ref={this.inputType} onChange={this.updateInputType}>\n            <option value=\"manual\">Manual</option>\n            <option value='json'>JSON</option>\n          </select>\n          {this.renderInputs()}\n        </div>\n        <div style={{gridArea: 'preview'}}>\n          <h4>Preview</h4>\n          {this.renderPreview()}\n        </div>\n      </div>\n      <button onClick={this.addQuestion}>Add to Assignment</button>\n\n\n      <ReactModal isOpen={this.state.modal === 'examples'}\n        onRequestClose={this.closeModal}\n        style={{\n          content: {\n            backgroundColor: 'var(--ui-page, white)',\n            color: 'black',\n            //top: '0',\n            //bottom: '0',\n            //borderTop: 'none',\n            //borderBottom: 'none',\n            //left: '50px',\n            //right: '50px',\n          }\n        }}\n      >\n        <LatexExamples onRequestClose={this.closeModal}/>\n      </ReactModal>\n\n      <ReactModal isOpen={this.state.modal === 'graph'}\n        onRequestClose={this.closeModal}\n      >\n        <GraphMaker onRequestClose={this.closeModal} onSubmit={this.updateDiagram}/>\n      </ReactModal>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: (q) => dispatch(addToDocument(q))\n})\n\nexport default connect(null, mapDispatchToProps)(CustomQuestion)","import { connect } from 'react-redux'\nimport CustomQuestion from './CustomQuestion'\nimport {\n  addToDocument\n} from '../../actions/document'\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: (thing) => dispatch(addToDocument(thing))\n})\n\nexport default connect(null, mapDispatchToProps)(CustomQuestion)","import React from 'react'\n\n\nconst Notes = (props) => {\n\n  return (\n    <>\n    <span style={{fontWeight: 'bold', fontSize: '1em'}}>\n      <span style={{marginRight: '3mm'}}>Notes</span>\n      <button onClick={props.onRequestClose}>Close</button>\n    </span>\n    <div>\n      <p>Double-click on the document to edit an element.</p>\n      <p>Create a PDF by selecting \"Save to PDF\" when printing.</p>\n      <p>Make sure the scale is set to 100% when printing.</p>\n      <p>\n        Changing the font size or deleting questions from the middle of the\n        document can cause the calculated page breaks to no longer be \n        appropriate. Use the 'Fix Pagination' button to quickly recalculate \n        all page breaks.\n      </p>\n\n      <h4>Issues</h4>\n      <p>In some browsers only the first page prints.</p>\n      <p>The answer key can't be over one page long.</p>\n\n    </div>\n    </>\n  )\n}\n\nexport default Notes","import React from 'react'\nimport { connect } from 'react-redux'\n\nclass CheckStateButton extends React.Component {\n\n  logState = () => {console.log(this.props.state)}\n\n  render() {\n    return <button onClick={this.logState}>{this.props.children}</button>\n  }\n}\n\nconst mapStateToProps = state => ({\n  state: state,\n})\n\nexport default connect(mapStateToProps)(CheckStateButton)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { kebabCase } from 'lodash'\nimport { updateGraphStyle } from '../../../actions/style'\n\nfunction setCss(k, v) {\n  document.body.style.setProperty(k, v)\n}\n\nclass GraphStyle extends React.Component {\n  static propTypes = {\n    updateGraphStyle: PropTypes.func.isRequired,\n    propertyName: PropTypes.string.isRequired,\n    current: PropTypes.string.isRequired,\n  }\n\n  constructor(props) {\n    super(props)\n    this.cssName = `--vg-${kebabCase(props.propertyName)}`\n  }\n\n  componentDidMount() {\n    setCss(this.cssName, this.props.current)\n  }\n\n  componentDidUpdate() {\n    setCss(this.cssName, this.props.current)\n  }\n\n  setValue(value) {\n    this.props.updateGraphStyle({[this.props.propertyName]: value})\n  }\n\n  onChange = (evt) => {\n    this.setValue(evt.target.value)\n  }\n\n}\n\nclass Color extends GraphStyle {\n  render() {\n    return (\n      <input type='color'\n        value={this.props.current}\n        onChange={this.onChange}\n      />\n    )\n  }\n}\n\nclass Width extends GraphStyle {\n  onChange = (evt) => {\n    this.setValue(evt.target.value + 'mm')\n  }\n  render() {\n    return (\n      <input type='range'\n        value={this.props.current.slice(0,-2)}\n        onChange={this.onChange}\n        min='0'\n        max='1'\n        step='0.01'\n      />\n    )\n  }\n}\n\nclass Opacity extends GraphStyle {\n  render() {\n    return (\n      <input type='range'\n        value={this.props.current}\n        onChange={this.onChange}\n        min='0'\n        max='1'\n        step='0.01'\n      />\n    )\n  }\n}\n\n\nconst mapDispatchToProps = dispatch => ({\n  updateGraphStyle: (props) => dispatch(updateGraphStyle(props))\n})\n\nfunction createComponent(base, propertyName) {\n  class StyleSettingComponent extends base {\n    static defaultProps = ({propertyName: propertyName})\n  }\n  \n  return connect(\n    state => ({current: state.style.graph[propertyName]}), \n    mapDispatchToProps\n  )(StyleSettingComponent)\n}\n\n\nexport const Plot1PathColor = createComponent(Color, 'plot1PathColor')\nexport const PlotPathWidth = createComponent(Width, 'plotPathWidth')\nexport const Plot2PathColor = createComponent(Color, 'plot2PathColor')\nexport const GeomPathColor = createComponent(Color, 'geomPathColor')\nexport const GeomPathWidth = createComponent(Width, 'geomPathWidth')\nexport const AsymptoteColor = createComponent(Color, 'asymptoteColor')\nexport const AsymptoteWidth = createComponent(Width, 'asymptoteWidth')\nexport const AxisColor = createComponent(Color, 'axisColor')\nexport const AxisWidth = createComponent(Width, 'axisWidth')\nexport const GridColor = createComponent(Color, 'gridColor')\nexport const GridWidth = createComponent(Width, 'gridWidth')\nexport const FillOpacity = createComponent(Opacity, 'fillOpacity')\n\n\n\n\nclass SwapButton extends React.Component {\n  static propTypes = {\n    current1: PropTypes.string.isRequired,\n    current2: PropTypes.string.isRequired,\n    propertyName1: PropTypes.string.isRequired,\n    propertyName2: PropTypes.string.isRequired,\n    updateGraphStyle: PropTypes.func.isRequired,\n  }\n\n  constructor(props) {\n    super(props)\n    this.cssName1 = `--vg-${kebabCase(props.propertyName1)}`\n    this.cssName2 = `--vg-${kebabCase(props.propertyName2)}`\n  }\n\n  doSwap = () => {\n    setCss(this.cssName1, this.current2)\n    setCss(this.cssName2, this.current1)\n    this.props.updateGraphStyle({\n      [this.props.propertyName1]: this.props.current2,\n      [this.props.propertyName2]: this.props.current1,\n    })\n  }\n\n  render() {\n    return (\n      <button onClick={this.doSwap}>{this.props.children}</button>\n    )\n  }\n}\n\nexport const PlotColorSwap = connect(\n  state => ({\n    current1: state.style.graph.plot1PathColor, \n    current2: state.style.graph.plot2PathColor,\n    propertyName1: 'plot1PathColor',\n    propertyName2: 'plot2PathColor'\n  }),\n  dispatch => ({\n    updateGraphStyle: updates => dispatch(updateGraphStyle(updates)),\n  })\n)(SwapButton)","import React from 'react'\nimport { \n  CoordinatePlane, Path,\n  Asymptote, Point, FillRegion,\n  RationalFunction, Layer,\n\n  Polygon, Ray, Line, Segment,\n} from '../../../renderJson/renderTypes/VectorGraphics'\n//import { RenderJson } from '../../../renderJson'\n\nexport const PreviewXYPlot = () => {\n  \n  \n  const vasymptotes = [-3]\n  const holes = [-5]\n  const hasymptotes = [2]\n\n  //const f = x => 2*Math.sin(x*Math.PI/4) + 7\n  //const g = x => (x+2)*(x-8)/2 + (x+2)/5 + 5\n\n  const f = x => (x-2)*(x-7) - 3 + (x/3)\n  const g = x => -(x-2)*(x-7) - 3 + (x/3)\n\n\n  const regionTop = []\n  const regionBottom = []\n  const fpoints = []\n  const gpoints = []\n  const step = 0.5\n\n  let x = -5\n  while (x <= 3) {\n    const fpt = ({x, y: f(x)})\n    const gpt = ({x, y: g(x)})\n    fpoints.push(fpt)\n    gpoints.push(gpt)\n    x += step\n  }\n\n  while (x <= 6) {\n    const fpt = ({x, y: f(x)})\n    const gpt = ({x, y: g(x)})\n    fpoints.push(fpt)\n    gpoints.push(gpt)\n    x += 0.02\n  }\n\n  while (x <= 11) {\n    const fpt = ({x, y: f(x)})\n    const gpt = ({x, y: g(x)})\n    fpoints.push(fpt)\n    gpoints.push(gpt)\n    x += step\n  }\n\n  \n\n  const region = [...regionBottom, ...regionTop.reverse()]\n\n  /*\n  const preview = [\n    'ABVG',\n    [\n      'CoordinatePlane', {span: [-10,-10,10,10], width: '3.5in'},\n      ...vasymptotes.map(p => ['Asymptote', {points: [[p,-12], [p,12]]}]),\n      ...hasymptotes.map(p => ['Asymptote', {points: [[-12,p], [12,p]]}]),\n      [\n        'Layer', {style: 'function-2'},\n        ['FillRegion', {points: fpoints}],\n        ['Path', {points: fpoints}],\n      ],\n      [\n        'Layer', {style: 'function-1'},\n        [\n          'Layer', {transform: ['translate', {y: 2}]},\n          ['RationalFunction', {\n            numerLC: 2, asymptotes: vasymptotes, holes: holes, \n            domain: [-11,-3], renderAsymptotes: false,\n          }]\n        ],\n        ['FillRegion', {points: gpoints}],\n        ['Path', {points: gpoints}],\n        ['Point', {x: 2, y: f(2)}],\n        ['Point', {x: 7, y: f(7)}],\n      ]\n    ]\n  ]\n  return <RenderJson json={preview}/>\n  */\n\n\n  return (\n    <CoordinatePlane span={[-10,-10,10,10]} width=\"3in\">\n      {vasymptotes.map(p => <Asymptote key={`va-${p}`} points={[{x: p, y: -12}, {x: p, y: 12}]} />)}\n      {hasymptotes.map(p => <Asymptote key={`ha-${p}`} points={[{x: -12, y: p}, {x: 12, y: p}]} />)}\n        \n      <Layer style='function-2'>\n        <FillRegion points={fpoints} />\n        <Path points={fpoints} />\n      </Layer>\n\n      <Layer style='function-1'>\n        <Layer transform={['translate', {y: 2}]}>\n          <RationalFunction \n            numerLC={2}\n            asymptotes={vasymptotes} \n            holes={holes} \n            domain={[-11,-3]} renderAsymptotes={false}\n          />\n        </Layer>\n        <FillRegion points={gpoints}/>\n        <Path points={gpoints}/>\n        <Point x='-4' y='0' />\n        <Point x='2' y={f(2)} />\n        <Point x='7' y={f(7)} />\n      </Layer>\n\n    </CoordinatePlane>\n  )\n\n}\n\nexport const PreviewGeom = () => {\n\n  const poly= [\n    [13,11], [17,12], [18,16], [15,18], [11,14]\n  ]\n  const ray = [[2,12], [7,13]]\n  const line = [[8,17], [2,18]]\n  const seg = [[7,15], [2,15]]\n  const circ = ({cx: 4, cy: 7, r: 2})\n\n  return (\n    <CoordinatePlane span={[0,0,20,20]} width='3in'>\n      <Layer style='geometry'>\n      <Polygon vertices={poly} />\n      \n      <Ray points={ray} />\n      <Line points={line} />\n      <Segment points={seg} />\n      \n      </Layer>\n    </CoordinatePlane>\n  )\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { resetGraphStyle } from '../../../actions/style'\nimport {\n  Plot1PathColor, PlotPathWidth, Plot2PathColor, PlotColorSwap,\n  GeomPathColor, GeomPathWidth,\n  AsymptoteColor, AsymptoteWidth,\n  AxisColor, AxisWidth,\n  GridColor, GridWidth,\n  FillOpacity,\n} from './GraphStyle'\nimport { PreviewXYPlot, PreviewGeom } from './GraphPreview'\n\nimport styles from './styles.module.css'\n\n\nclass GraphSettings extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {style: 'xy-plot'}\n  }\n\n  changeStyle = evt => {\n    this.setState({style: evt.target.value})\n  }\n\n  resetToDefaults = () => {\n   this.props.resetGraphStyle()\n  }\n\n  renderPreview() {\n    if (this.state.style === 'geom') {\n      return <PreviewGeom />\n    }\n    return <PreviewXYPlot />\n  }\n\n  renderStyleSettings() {\n    if (this.state.style === 'xy-plot') {\n      return (\n        <>\n          <tr>\n            <td>Primary</td>\n            <td><Plot1PathColor/></td>\n            <td><PlotPathWidth/></td>\n          </tr>\n          <tr>\n            <td>Secondary</td>\n            <td><Plot2PathColor/></td>\n            <td><PlotColorSwap>Swap Colors</PlotColorSwap></td>\n          </tr>\n          <tr>\n            <td>Asymptote</td>\n            <td><AsymptoteColor/></td>\n            <td><AsymptoteWidth/></td>\n          </tr>\n          <tr>\n            <td colSpan='2'>Fill</td>\n            <td><FillOpacity /></td>\n          </tr>\n        </>\n      )\n    }\n    if (this.state.style === 'geom') {\n      return (\n        <>\n          <tr>\n            <td>Path</td>\n            <td><GeomPathColor/></td>\n            <td><GeomPathWidth/></td>\n          </tr>\n        </>\n      )\n    }\n    return null\n  }\n\n  render() {\n    return (\n      <div className={styles.Layout}>\n        <div className={styles.Settings}>\n          <h3>Graph Style</h3>\n          <button onClick={this.resetToDefaults}>Reset to Defaults</button>\n          \n          <table className={styles.SettingTable}>\n\n            <thead>\n              <tr>\n                <th></th>\n                <th>Color</th>\n                <th>Thickness</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>Axis</td>\n                <td><AxisColor/></td>\n                <td><AxisWidth/></td>\n              </tr>\n\n              <tr>\n                <td>Grid</td>\n                <td><GridColor/></td>\n                <td><GridWidth/></td>\n              </tr>\n              <tr>\n                <td colSpan='3' >\n                  <div style={{margin: '5mm 0'}}>\n                    <span>Editing style for </span>\n                    <select onChange={this.changeStyle} value={this.state.style}>\n                      <option value='geom'>geometry</option>\n                      <option value='xy-plot'>xy-plot</option>\n                    </select>\n                  </div>\n                </td>\n              </tr>\n\n              {this.renderStyleSettings()}\n            </tbody>\n\n          </table>\n        </div>\n        <div className={styles.Preview}>\n          <div className='document preview-area'>\n            {this.renderPreview()}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  resetGraphStyle: () => dispatch(resetGraphStyle()),\n})\n\nexport default connect(null, mapDispatchToProps)(GraphSettings)","import GraphSettings from './GraphSettings'\n\nexport default GraphSettings","import React from 'react'\nimport PropTypes from 'prop-types'\n\nclass GUImode extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.darkMode = React.createRef()\n    this.debugView = React.createRef()\n  }\n\n  update = () => {\n    const classNames = []\n    if (this.darkMode.current.checked) {\n      classNames.push('ui-dark-mode')\n    }\n    if (this.debugView.current.checked) {\n      classNames.push('debug-view')\n    }\n    if (classNames.length) {\n      document.body.setAttribute('class', classNames.join(' '))\n    } else {\n      document.body.removeAttribute('class')\n    }\n  }\n\n  componentDidMount() {\n    this.update()\n  }\n\n  render() {\n    return (\n      <div style={{fontSize: '0.8em'}}>\n      <div>\n        <input \n          ref={this.darkMode}\n          defaultChecked={false}\n          type=\"checkbox\"\n          onChange={this.update}/>\n        Dark Mode\n      </div>\n      <div>\n        <input \n          ref={this.debugView}\n          defaultChecked={false}\n          type=\"checkbox\"\n          onChange={this.update}/>\n        Layout on Hover\n      </div>\n      </div>\n    )\n  }\n}\n\nexport default GUImode","import React from 'react'\nimport FontSettings from './Font'\nimport GraphSettings from './Graph'\nimport GUImode from './GUImode'\nimport styles from './styles.module.css'\n\n\nclass SettingsPage extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {showing: 'font'}\n  }\n\n  showFontSettings = () => {\n    this.setState({showing: 'font'})\n  }\n  showGraphSettings = () => {\n    this.setState({showing: 'graph'})\n  }\n\n  renderSettings() {\n    switch (this.state.showing) {\n      case 'font': return <FontSettings/>\n      case 'graph': return <GraphSettings/>\n      default: return null\n    }\n  }\n\n  render() {\n    return (\n      <div className={styles.SettingPage}>\n\n        <div className={styles.LeftBar}>\n          <div>\n            <span className={styles.Title}>Settings</span>\n          </div>\n          \n          <div className={styles.NavArea}>\n            <button\n              className={styles.NavButton}\n              onClick={this.showFontSettings}\n              disabled={this.state.showing === 'font'}\n            >Fonts</button>\n            <button\n              className={styles.NavButton}\n              onClick={this.showGraphSettings}\n              disabled={this.state.showing === 'graph'}\n            >Graphs</button>\n          </div>\n\n          <div>\n            <button onClick={this.props.onRequestClose}>Close</button>\n          </div>\n          \n        </div>\n        \n        <div className={styles.SettingSection}>\n          {this.renderSettings()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default SettingsPage","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setAllowEditing } from '../../actions/config'\n\nclass AllowEditing extends React.Component {\n  static propTypes = {\n    current: PropTypes.bool.isRequired,\n    setAllowEditing: PropTypes.func.isRequired,\n  }\n\n  toggle = (evt) => {\n    if (evt.target.checked) {\n      this.props.setAllowEditing(true)\n    } else {\n      this.props.setAllowEditing(false)\n    }\n  }\n\n  render() {\n    return (\n      <input\n        onChange={this.toggle}\n        type='checkbox' \n        checked={this.props.current}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.config.allowEditing,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setAllowEditing: (b) => dispatch(setAllowEditing(b)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AllowEditing)","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { setShowAnswerKey } from '../../actions/config'\n\n\nclass AnswerKeyToggle extends React.Component {\n  static propTypes = {\n    current: PropTypes.bool.isRequired,\n    setShowAnswerKey: PropTypes.func.isRequired,\n  }\n\n  toggle = (evt) => {\n    if (evt.target.checked) {\n      this.props.setShowAnswerKey(true)\n    } else {\n      this.props.setShowAnswerKey(false)\n    }\n  }\n\n  render() {\n    return (\n      <input\n        onChange={this.toggle}\n        type='checkbox' \n        checked={this.props.current}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.config.showAnswerKey,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setShowAnswerKey: (bool) => dispatch(setShowAnswerKey(bool)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AnswerKeyToggle)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setHiddenCount } from '../../actions/config'\nimport { clearPageBreaks } from '../../actions/document'\n\nclass FixPagination extends React.Component {\n  static propTypes = {\n    hidden: PropTypes.number.isRequired,\n    setHiddenCount: PropTypes.func.isRequired,\n  }\n\n  reset = () => {\n    this.props.clearPageBreaks()\n    this.props.setHiddenCount(this.props.total)\n  }\n\n  check() {\n    setTimeout(() => {\n      if (this.props.hidden > 0) {\n        this.props.setHiddenCount(this.props.hidden-1)\n      }\n    }, 20)\n  }\n\n  componentDidMount() {\n    this.check()\n  }\n\n  componentDidUpdate() {\n    this.check()\n  }\n\n  render() {\n    return (\n      <button onClick={this.reset}>Fix Pagination</button>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  hidden: state.config.numberHidden,\n  total: state.document.order.length,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setHiddenCount: n => dispatch(setHiddenCount(n)),\n  clearPageBreaks: () => dispatch(clearPageBreaks()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FixPagination)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setPageMargin } from '../../actions/style'\n\nconst MarginOptions = [\n  '0.25in',\n  '0.5in',\n  '0.75in',\n  '1.0in',\n]\n\nclass SetPageMargin extends React.Component {\n\n  static propTypes = {\n    current: PropTypes.string.isRequired,\n    setPageMargin: PropTypes.func.isRequired,\n  }\n\n  setPageMargin(margin) {\n    this.props.setPageMargin(margin)\n  }\n\n  updateFromSelection = (evt) => {\n    const m = evt.target.value\n    this.setPageMargin(m)\n  }\n\n  render() {\n    return (\n      <select\n        onChange={this.updateFromSelection}\n        value={this.props.current}\n      >\n        {MarginOptions.map((m) => (\n          <option key={m} value={m}>{m}</option>\n        ))}\n      </select>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.style.pageMargin,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setPageMargin: (m) => dispatch(setPageMargin(m))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SetPageMargin)","import React from 'react'\nimport PropTypes from 'prop-types'\n\nclass PreviewZoom extends React.Component {\n  static propTypes = {\n    defaultValue: PropTypes.number.isRequired,\n    values: PropTypes.arrayOf(PropTypes.number),\n    type: PropTypes.string.isRequired,\n    min: PropTypes.number,\n    max: PropTypes.number,\n    step: PropTypes.number,\n    options: PropTypes.arrayOf(PropTypes.number),\n  }\n\n  static defaultProps = {\n    defaultValue: 100,\n    type: 'input',\n    min: 30,\n    max: 200,\n    step: 10,\n    options: [25, 50, 75, 100, 125, 150, 175, 200],\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = { zoom: props.defaultValue }\n  }\n\n  setZoom() {\n    const perc = this.state.zoom\n    const scale = perc / 100.0\n    const transform = `matrix(${[scale, 0, 0, scale, 0, 0].join(',')})`\n    document.body.style.setProperty('--previewInnerTransform', transform)\n  }\n\n  updateState = evt => {\n    const zoom = +evt.target.value\n    this.setState({ zoom })\n  }\n\n  zoomIn = () => {\n    const zoom = Math.min(+this.state.zoom + this.props.step, this.props.options[this.props.options.length-1])\n    this.setState({ zoom })\n  }\n\n  zoomOut = () => {\n    const zoom = Math.max(+this.state.zoom - this.props.step, this.props.options[0])\n    this.setState({ zoom })\n  }\n\n  componentDidMount() {\n    this.setZoom()\n  }\n\n  componentDidUpdate() {\n    this.setZoom()\n  }\n\n  renderInput() {\n    return (\n      <input\n        type=\"number\"\n        min={this.props.min}\n        max={this.props.max}\n        step={this.props.step}\n        value={this.state.zoom}\n        onChange={this.updateState}\n      ></input>\n    )\n  }\n\n  renderSelect() {\n    return (\n      <select\n        value={this.state.zoom}\n        onChange={this.updateState}>\n        {this.props.options.map((z) => <option key={`zoom-option-${z}`} value={z}>{z}</option>)}\n      </select>\n    )\n  }\n\n  renderButtons() {\n    return (\n      <>\n        <button onClick={this.zoomOut}>-</button>\n        <button onClick={this.zoomIn}>+</button>\n      </>\n    )\n  }\n\n  render() {\n    if (this.props.type === 'input') {\n      return this.renderInput()\n    }\n    if (this.props.type === 'select') {\n      return this.renderSelect()\n    }\n    if (this.props.type === 'buttons') {\n      return this.renderButtons()\n    }\n  }\n}\n\nexport default PreviewZoom","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setDocumentStartNumbering } from '../../actions/document'\n\nclass StartNumbering extends React.Component {\n\n  setCSSVariable(n) {\n    document.body.style.setProperty('--doc-startnumber', n-1)\n  }\n\n  setNumbering = evt => {\n    const startat = evt.target.value\n    if (startat) {\n      this.setCSSVariable(startat)\n      this.props.setDocumentStartNumbering(startat)\n    }\n  }\n\n  render() {\n    return (\n      <input \n        onChange={this.setNumbering}\n        type='number' \n        min='1'\n        value={this.props.current}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.document.startNumbering,\n})\nconst mapDispatchToProps = dispatch => ({\n  setDocumentStartNumbering: (n) => dispatch(setDocumentStartNumbering(n)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StartNumbering)","import SettingsPage from './SettingsPage'\n\nimport { FontFamily, FontSize, AddLocalFont, FontFamilyUI } from './Font'\nimport AllowEditingToggle from './AllowEditing'\nimport AnswerKeyToggle from './AnswerKeyToggle'\nimport FixPagination from './FixPagination'\nimport GUImode from './GUImode'\nimport PageMargin from './PageMargin'\nimport PreviewZoom from './PreviewZoom'\nimport StartNumbering from './StartNumbering'\n\nexport {\n  AddLocalFont,\n  AllowEditingToggle,\n  AnswerKeyToggle,\n  FixPagination,\n  FontFamily,\n  FontFamilyUI,\n  FontSize,\n  GUImode,\n  PageMargin,\n  PreviewZoom,\n  StartNumbering,\n}\n\nexport default SettingsPage","import {\n  range as mathjsrange \n} from 'mathjs'\n\nexport const range = function(start, stop, inclusive=false) {\n  return mathjsrange(start, stop, inclusive)._data\n}\n\nexport const gcd = function(a, b) {\n  if (a > b) {\n    return gcd(b, a)\n  } else if (a === 0) {\n    return b\n  } else {\n    return gcd(b % a, a)\n  }\n}\n\nexport const divrem = function(n, p) {\n  let r = n\n  let d = 0\n  while (r % p === 0) {\n    r = r / p\n    d += 1\n  }\n  return [d, r]\n}\n\nexport const primeFactorization = function(n) {\n  let result = {}\n  let r = n\n  let d\n  let p = 2\n  if (r % p === 0) {\n    [d, r] = divrem(r, p)\n    result[p] = d\n  }\n  p = 3\n  if (r % p === 0) {\n    [d, r] = divrem(r, p)\n    result[p] = d\n  }\n  p = 5\n  while (p * p <= r) {\n    if (r % p === 0) {\n      [d, r] = divrem(r, p)\n      result[p] = d\n    }\n    if (r === 1) {\n      return result\n    }\n    p += 2\n    if (r % p === 0) {\n      [d, r] = divrem(r, p)\n      result[p] = d\n    }\n    if (r === 1) {\n      return result\n    }\n    p += 4\n  }\n  if (r !== 1) {\n    result[r] = 1\n  }\n  return result\n}\n\nexport const listFactors = function(n, {include1=false, includeN=false}) {\n  let result = []\n  const start = include1 ? 1 : 2\n  const stop = includeN ? n : n-1\n  for (let i = start; i <= stop; i++) {\n    if (n % i === 0) {\n      result.push(i)\n    } \n  }\n  return result\n}\n","import Random from 'random-js'\n\nexport class Randomizer {\n  constructor(seed=null) {\n    this.seed = seed\n    this.engine = Random.engines.mt19937()\n    this.reset()\n  }\n\n  reset() {\n    if (this.seed !== null) {\n      this.engine.seed(this.seed)\n    } else {\n      this.engine.autoSeed()\n    }\n  }\n\n  randint(min, max) {\n    return Random.integer(min, max)(this.engine)\n  }\n\n  real(min, max, inclusive=false) {\n    return Random.real(min, max, inclusive)(this.engine)\n  }\n\n  random(max=1.0) {\n    return this.real(0, max, false)\n  }\n\n  shuffle(array, first) {\n    if (first !== undefined) {\n      let shuffled = Random.shuffle(this.engine, array.slice(1))\n      return [...shuffled.slice(0,first), array[0], ...shuffled.slice(first)]\n    } else {\n      return Random.shuffle(this.engine, array)\n    }\n  }\n\n  shuffleRange(start, end) {\n    let range = []\n    for (let i = start; i <= end; i++) range.push(i);\n    return this.shuffle(range)\n  }\n\n  bool() {\n    return Random.pick(this.engine, [true, false])\n  }\n\n  choice(array) {\n    return Random.pick(this.engine, array)\n  }\n\n  sample(pop, size) {\n    return Random.sample(this.engine, pop, size)\n  }\n\n  sampleRange(start, end, size) {\n    let range = []\n    for (let i = start; i <= end; i++) range.push(i);\n    return this.sample(range, size)\n  }\n\n  poprandom(array) {\n    const i = this.randint(0,array.length-1)\n    return array.splice(i,1)[0]\n  }\n}\n\n","//import math from 'mathjs'\nimport { Randomizer } from './tools/random_randomjs'\nimport { defaultsDeep } from 'lodash'\n\nlet randomSeedGenerator = new Randomizer()\n\nclass QGen {\n  constructor(props={}) {\n    this.params = props.params || {}\n    //this.randomSeed = props.randomSeed || math.randomInt(0, math.pow(2,32))\n    this.randomSeed = props.randomSeed || randomSeedGenerator.randint(0, Math.pow(2, 32)-1)\n    this.random = new Randomizer(this.randomSeed)\n  }\n\n  static register() {\n    let result = {name: this.name}\n    return {...result, ...this.info}\n  }\n\n  getOptions() {\n    return this.constructor.options\n  }\n\n  _specialCaseValues(k, v) {\n    return v\n  }\n\n  _specialCaseKeys(k, v) {\n    //if (k === 'answer') return '_answer'\n    return k\n  }\n\n  setRandomSeed(seed) {\n    this.randomizer.seed(seed)\n  }\n\n  _getParams() {\n    let result = ({})\n    for (const k in this.constructor.params) {\n      if (this.params[k] !== undefined) {\n        result[k] = this.params[k]\n      } else {\n        result[k] = this.constructor.params[k].default\n      }\n    }\n    return result\n  }\n\n  output() {\n    const out = this.generate(this._getParams())\n    let content = {}\n    for (const k in out) {\n      content[this._specialCaseKeys(k)] = this._specialCaseValues(k, out[k])\n    }\n    return [\n      'NumberedQuestion',\n      { content, options: this.getOptions() },\n    ]\n  }\n}\n\nexport default QGen","import math from 'mathjs'\nimport Polynomial from 'polynomial'\nimport fraction from 'fraction.js'\nimport { range, gcd, listFactors } from './tools/handystuff'\nimport QGen from './QGen'\nimport _ from 'lodash'\n\n\n/***** Handy Things *********/\n\nfunction randomPolynomialCoefficients({degree, maxCoefficient=12, terms='auto'}={}) {\n\tconst rd = this.random\n\tif (terms === 'auto') {\n\t\tterms = degree + 1\n\t}\n\tlet p = {}\n\tconst whichterms = rd.sample(range(0,degree), terms-1)\n\tp[degree] = rd.randint(1, maxCoefficient)\n\n\tfor (const d of whichterms) {\n\t\tp[d] = rd.randint(1, maxCoefficient) * rd.choice([-1,1])\n\t}\n\treturn p\n}\n\nfunction randomPolynomial(props={}) {\n\tconst p = randomPolynomialCoefficients.call(this, props)\n\treturn new Polynomial(p)\n}\n\n\n\n/***********************\n\n\nQuestion Generators \n\n\n************************/\n\n\nexport class SolveQuadratic extends QGen {\n\tstatic info = {\n\t\tname: 'Solve Quadratic',\n\t\tdescription: 'Solve a quadratic equation with integer solutions.'\n\t}\n\n\tstatic options = {\n\t\tsingleColumn: true,\n\t}\n\n\n\tgenerate(props) {\n\t\tconst rd = this.random\n\t\tconst [r1, r2] = rd.sample(range(-12,13), 2)\n\n\t\tconst a = 1\n\t\tconst b = -(r1 + r2)\n\t\tconst c = r1 * r2\n\n\t\tconst poly = new Polynomial({2: a, 1: b, 0: c})\n\t\tconst rand = randomPolynomial.call(this, {degree: 2, maxCoefficient: 7, terms: 2})\n\t\t\n\t\tconst [left, right] = rd.random() < 0.5 ? [poly.add(rand), rand] : [rand, poly.add(rand)]\n\n\t\tfunction fmtAns(ans) {\n\t\t\treturn'$$x = ' + ans.sort((a, b) => a > b).join(', ') + '$$'\n\t\t}\n\n\t\treturn {\n\t\t\tinstructions: 'Determine the values of $$x$$ that satisfy the equation:',\n\t\t\tquestion: '$$' + left.toLatex() + ' = ' + right.toLatex() +'$$',\n\t\t\tanswer: fmtAns([r1, r2]),\n\t\t}\n\t}\n}\n\nexport class FactorQuadraticHard extends QGen {\n\tstatic info = {\n\t\tname: 'Factor Quadratic (Hard)',\n\t\tdescription: 'Factor a quadratic using AC method.'\n\t}\n\n\tstatic options = {\n\t\tsingleColumn: true,\n\t}\n\n\tgenerate(params) {\n\t\tlet rd = this.random\n\n\t\tconst a1 = rd.randint(2,5)\n\t\tconst a2 = rd.randint(2,8-a1)\n\n\t\tlet b1 = rd.randint(1,14-a2)\n\t\twhile (gcd(a1, b1) !== 1) {\n\t\t\tb1 = rd.randint(1,14-a2)\n\t\t}\n\t\tb1 *= rd.choice([-1,1])\n\n\t\t\n\t\tlet b2 = rd.randint(2, 14-a1)\n\t\twhile (gcd(a2, b2) !== 1) {\n\t\t\tb2 = rd.randint(1,14-a1)\n\t\t}\n\t\tb2 *= rd.choice([-1,1])\n\n\t\t// prevent difference of squares\n\t\twhile ((a1 === a2 && b1 === -b2) || (a1 === -a2 && b1 === b2)) {\n\t\t\tb2 = rd.randint(2, 14-a1)\n\t\t\twhile (gcd(a2, b2) !== 1) {\n\t\t\t\tb2 = rd.randint(1,14-a1)\n\t\t\t}\n\t\t\tb2 *= rd.choice([-1,1])\n\t\t}\n\n\t\tconst p1 = new Polynomial({1: a1, 0: b1})\n\t\tconst p2 = new Polynomial({1: a2, 0: b2})\n\n\t\tconst a = a1 * a2\n\t\tconst b = a1 * b2 + a2 * b1\n\t\tconst c = b1 * b2\n\n\t\tconst poly = new Polynomial({2: a, 1: b, 0: c})\n\n\t\tconst answer = `$$(${p1.toLatex()})(${p2.toLatex()})$$`\n\n\t\treturn {\n\t\t\tinstructions: 'Rewrite as the product of linear factors:',\n\t\t\tquestion: `$$${poly.toLatex()}$$`,\n\t\t\tanswer: answer,\n\t\t}\n\t}\n}\n\n\nexport class RationalGraph extends QGen {\n\tstatic info = {\n\t\tname: 'Rational Graph',\n\t\tdescription: 'Determine the equation from the graph of a rational function'\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\n\t\tconst makeFunction = (top, bottom) => {\n\t\t\tlet f = function(x) {\n\t\t\t\tlet n = 1\n\t\t\t\tlet d = 1\n\t\t\t\tfor (const r of top) {\n\t\t\t\t\tn *= (x - r)\n\t\t\t\t}\n\t\t\t\tfor (const r of bottom) {\n\t\t\t\t\td *= (x - r)\n\t\t\t\t}\n\t\t\t\treturn n / d\n\t\t\t}\n\t\t\treturn f\n\t\t}\n\n\t\tfunction generateValues() {\n\t\t\tlet vals = rd.sample(range(1, 9), 4).map(v => rd.random() < 0.5 ? v : -v)\n\t\t\tlet roots = [vals[0]]\n\t\t\tlet holes = [vals[1]]\n\t\t\tlet asymptotes = [vals[2]]\n\t\t\tif (rd.random() < 0.5) {\n\t\t\t\tasymptotes.push(vals[3])\n\t\t\t} else if (rd.random() < 0.8) {\n\t\t\t\tholes.push(vals[3])\n\t\t\t}\n\t\t\treturn ({roots, holes, asymptotes})\n\t\t}\n\n\t\tfunction allHolesInRange(holes, f) {\n\t\t\tfor (const r of holes) {\n\t\t\t\tif (f(r) <= -10 || f(r) >= 10) {\n\t\t\t\t\treturn false\n\t\t\t\t} \n\t\t\t}\n\t\t\treturn true\n\t\t}\n\n\t\tlet roots, holes, asymptotes, f\n\t\tlet isGood = false\n\n\t\twhile (!isGood) {\n\t\t\t({roots, holes, asymptotes} = generateValues())\n\t\t\tf = makeFunction(roots, asymptotes)\n\t\t\tisGood = allHolesInRange(holes, f)\n\t\t}\n\t\t\n\n\t\tconst graph = [\n\t\t\t'CoordinatePlane',\n\t\t\t{span: [-10,-10,10,10], height: '2.2in'},\n\t\t\t[\n\t\t\t\t'RationalFunction',\n\t\t\t\t{\n\t\t\t\t\tdomain: [-12,12],\n\t\t\t\t\trange: [-12,12],\n\t\t\t\t\troots, holes, asymptotes,\n\t\t\t\t}\n\t\t\t]\n\t\t]\n\n\n\t\tfunction fmtAns(ans) {\n\t\t\tlet numer = ''\n\t\t\tfor (const r of ans.top.sort((a,b) => b-a)) {\n\t\t\t\tnumer += '(' + math.simplify(`x - ${r}`).toString() + ')'\n\t\t\t}\n\t\t\tlet denom = ''\n\t\t\tfor (const r of ans.bottom.sort((a,b) => b-a)) {\n\t\t\t\tdenom += '(' + math.simplify(`x - ${r}`).toString() + ')'\n\t\t\t}\n\t\t\treturn `$$y = \\\\displaystyle\\\\frac{ ${numer} }{ ${denom} }$$`\n\t\t}\n\n\t\tconst answer = {top: [...roots, ...holes], bottom: [...holes, ...asymptotes]}\n\n\t\tconst wrongs = [\n\t\t\t{top: [...holes, ...asymptotes], bottom: [...holes, ...roots]},\n\t\t\t{top: [...roots], bottom: [...holes, ...asymptotes]},\n\t\t\t{top: [...roots, ...holes].map(r => -r), bottom: [...holes, ...asymptotes].map(r => -r)},\n\t\t\t{top: [...holes, ...asymptotes].map(r => -r), bottom: [...holes, ...roots].map(r => -r)},\n\t\t]\n\n\t\tconst i = rd.randint(0,wrongs.length)\n\t\tconst choices = rd.shuffle([answer, ...wrongs].map(fmtAns), i)\n\n\t\treturn {\n\t\t\tinstructions: 'Choose the equation that best describes the graph shown.',\n\t\t\tfreeResponse: {\n\t\t\t\tinstructions: 'Write the equation that best describes the graph shown.'\n\t\t\t},\n\t\t\tdiagram: ['ABVG', graph],\n\t\t\tanswer: {\n\t\t\t\tcorrect: fmtAns(answer),\n\t\t\t\tchoices: choices,\n\t\t\t\tcorrectIndex: i,\n\t\t\t\tprompt: [{label: '$$y = $$', height: '8em', width: '20em'}],\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n\nexport class IncreasingIntervals extends QGen {\n\tstatic info = {\n\t\tname: 'Increasing Intervals',\n\t\tdescription: 'Identify intervals over which a graph is increasing'\n\t}\n\n\tstatic params = {\n\t\ttoFind: {\n\t\t\tlabel: 'Type of interval to find',\n\t\t\ttype: 'multipleselect',\n\t\t\toptions: [\n\t\t\t\t{value: 'inc', label: 'increasing'}, \n\t\t\t\t{value: 'dev', label: 'decreasing'}\n\t\t\t],\n\t\t\tdefault: ['inc'],\n\t\t},\n\t\tstyle: {\n\t\t\tlabel: 'Graph style',\n\t\t\ttype: 'select',\n\t\t\toptions: ['jagged', 'smooth'],\n\t\t\tdefault: 'smooth'\n\t\t},\n\t\tpoints: {\n\t\t\tlabel: 'Mark points',\n\t\t\ttype: 'bool',\n\t\t\tdefault: false,\n\t\t}\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\n\t\tconst toFind = rd.choice(params.toFind)\n\n\t\tconst xs = [-10]\n\t\tlet prev = -10\n\t\twhile (prev < 7) {\n\t\t\tconst next = rd.randint(prev+3, prev+5)\n\t\t\tif (next > 7) {\n\t\t\t\txs.push(8)\n\t\t\t} else {\n\t\t\t\txs.push(next)\n\t\t\t}\n\t\t\tprev = xs[xs.length-1]\n\t\t}\n\t\txs.push(10)\n\n\t\tconst yRange = [-4,4]\n\t\tconst ys = [rd.randint(...yRange)]\n\n\t\tlet maxConstantIntervals = 2\n\t\tlet which\n\t\twhile (ys.length < xs.length) {\n\t\t\tlet possible = []\n\t\t\tconst prev = ys[ys.length-1]\n\t\t\tif (which !== 'dec' & prev >= yRange[0]+2) {\n\t\t\t\tpossible.push('dec')\n\t\t\t}\n\t\t\tif (which !== 'inc' & prev <= yRange[1]-2) {\n\t\t\t\tpossible.push('inc')\n\t\t\t}\n\t\t\tif (which !== 'const' & maxConstantIntervals > 0) {\n\t\t\t\tpossible.push('const')\n\t\t\t\tmaxConstantIntervals -= 1\n\t\t\t}\n\t\t\twhich = rd.choice(possible)\n\t\t\tif (which === 'dec') {\n\t\t\t\tys.push(rd.randint(Math.max(yRange[0], prev-7), prev-2))\n\t\t\t} else if (which === 'inc') {\n\t\t\t\tys.push(rd.randint(prev+2, Math.min(yRange[1], prev+7)))\n\t\t\t} else {\n\t\t\t\tys.push(prev)\n\t\t\t}\n\t\t}\n\n\t\tif (rd.random() < 0.5) {\n\t\t\tys.reverse()\n\t\t}\n\n\t\tconst intervals = []\n\t\tfor (let i = 1; i < ys.length; i++) {\n\t\t\tif (ys[i-1] < ys[i]) {\n\t\t\t\tintervals.push('inc')\n\t\t\t} else if (ys[i-1] === ys[i]) {\n\t\t\t\tintervals.push('const')\n\t\t\t} else {\n\t\t\t\tintervals.push('dec')\n\t\t\t}\n\t\t}\n\n\t\tlet answer = []\n\t\tlet wrongAnswer1 = []  // ys insteas of xs\n\t\tlet wrongAnswer2 = []  // points instead of xs\n\t\tlet wrongAnswer3 = []  // switch dec/inc\n\t\tlet wrongAnswer4 = []  // switch dec/inc, ys instead of xs\n\n\t\tlet points = [\n\t\t\t{x: xs[0], y: ys[0]},\n\t\t]\n\t\tfor (let i=0; i < intervals.length; i++) {\n\t\t\tpoints.push({x: xs[i+1], y: ys[i+1]})\n\t\t\tif (intervals[i] === toFind) {\n\t\t\t\tanswer.push({start: xs[i], stop: xs[i+1]})\n\t\t\t\twrongAnswer1.push({start: ys[i], stop: ys[i+1]})\n\t\t\t\twrongAnswer2.push({start: xs[i], stop: ys[i]})\n\t\t\t\twrongAnswer2.push({start: xs[i+1], stop: ys[i+1]})\n\t\t\t} else if (intervals[i] === {'inc': 'dec', 'dec': 'inc'}[toFind]) {\n\t\t\t\twrongAnswer3.push({start: xs[i], stop: xs[i+1]})\n\t\t\t\twrongAnswer4.push({start: ys[i], stop: ys[i+1]})\n\t\t\t}\n\t\t}\n\n\t\tconst effects = params.style === 'smooth' ? {interpolate: 'cubic-h'} : {}\n\t\tconst markers = params.points ? {mid: 'point'} : undefined\n\t\tconst interpolate = params.style === 'smooth' ? 'cubic-h' : null\n\t\t\n\t\tconst diagram = [\n\t\t\t'ABVG',\n\t\t\t[\n\t\t\t\t'CoordinatePlane', {span: [-10,yRange[0]-1,10,yRange[1]+1], height: '1.4in'},\n\t\t\t\t['Path', { points, interpolate }]\n\t\t\t]\n\t\t]\n\t\t\n\t\tconst fullName = {inc: 'increasing', dec: 'decreasing'}[toFind]\n\n\t\tfunction fmtAns(ans) {\n\t\t\tif (ans.length === 0) {\n\t\t\t\treturn 'None'\n\t\t\t}\n\t\t\treturn '$$' + ans.map((int) => `(${int.start}, ${int.stop})`).join(', ') + '$$'\n\t\t}\n\n\t\tconst wrongs = [wrongAnswer1, wrongAnswer2, wrongAnswer3, wrongAnswer4]\n\t\tconst answerIndex = rd.randint(0, wrongs.length)\n\t\tconst choices = rd.shuffle([answer, ...wrongs], answerIndex).map(fmtAns)\n\n\t\treturn ({\n\t\t\tinstructions: `Determine the intervals over which the function is ***${fullName}***.`,\n\t\t\tdiagram: diagram,\n\t\t\tanswer: {\n\t\t\t\tcorrect: fmtAns(answer),\n\t\t\t\tchoices: choices,\n\t\t\t\tcorrectIndex: answerIndex,\n\t\t\t\tprompt: ['EmptySpace', {width: '2in'}]\n\t\t\t}\n\t\t})\n\t}\n}\n\n\nclass AngleMeasure extends QGen {\n\tstatic info = {\n\t\tname: 'Angle Measure',\n\t\tdescription: '',\n\t}\n\n\tgenerate(params) {\n\n\t\tconst translate = (a, b) => [a[0] + b[0], a[1]+ b[1]]\n\t\tconst difference = (a, b) => [a[0] - b[0], a[1] - b[1]]\n\t\t//const complexMult = (a, b) => [a[0] * b[0] - a[1] * b[1], a[1] * b[0] + a[0] * b[1]]\n\t\t/*\n\t\tconst rotate = (pt, angle, center=[0,0]) => {\n\t\t\tconst radians = angle * Math.PI / 180\n\t\t\tconst rotator = [Math.cos(radians), Math.sin(radians)]\n\t\t\tconst recenter = difference(pt, center)\n\t\t\treturn translate(complexMult(recenter, rotator), center)\n\t\t}\n\t\t*/\n\n\t\tconst rd = this.random\n\n\t\tconst angle1 = rd.randint(35, 145)\n\n\t\tconst rotateBy = rd.randint(0, 359)\n\t\t//let diagram = new Canvas(-20, -20, 20, 20, {height: '1.5in'})\n\t\t//let graph = new PlotElement('g', {transform: `rotate(${rotateBy})`})\n\n\t\tconst intersect1 = [-5,0]\n\t\tconst r = 10\n\t\tconst pp = [r * Math.cos(angle1 * Math.PI / 180), r * Math.sin(angle1 * Math.PI / 180)]\n\t\tconst top1 = translate(intersect1, pp)\n\t\tconst bottom1 = difference(intersect1, pp)\n\n\t\tconst intersect2 = [intersect1[0] + r, intersect1[1]]\n\t\tconst top2 = [top1[0] + r, top1[1]]\n\t\tconst bottom2 = [bottom1[0] + r, bottom1[1]]\n\n\t\tconst left = [intersect1[0] - r, intersect1[1]]\n\t\tconst right = [intersect2[0] + r, intersect2[1]]\n\n\t\t\n\t\tconst diagram = [\n\t\t\t'CartesianPlane',\n\t\t\t{span: [-20,-20,20,20], height: '3in', autogrid: false, style: 'geom'},\n\t\t\t[\n\t\t\t\t'Rotate', \n\t\t\t\t{degrees: rotateBy},\n\t\t\t\t['GeomLine', {points: [left, right]}],\n\t\t\t\t['GeomLine', {points: [top1, bottom1]}],\n\t\t\t\t['GeomLine', {points: [top2, bottom2]}],\n\t\t\t\t['Point', {coords: intersect1}],\n\t\t\t\t['Point', {coords: intersect2}]\n\t\t\t]\n\t\t]\n\n\n\t\treturn {\n\t\t\tinstructions: 'Work in progress',\n\t\t\tdiagram: {\n\t\t\t\t'type': 'vectorgraphic',\n\t\t\t\t'data': diagram,\n\t\t\t}\n\t\t}\n\n\t}\n}\n\nexport class RationalZeroTheorem extends QGen {\n\tstatic info = {\n\t\tname: 'Rational Zero Theorem',\n\t\tdescription: 'State possible rational zeros for a polynomial function.'\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\t\tlet primes = rd.sample([1, 2, 3, 5, 7, 11], 4)\n\t\tfor (const i in primes) {\n\t\t\tif (primes[i] === 1) {\n\t\t\t\tif (i === 0 | i === 2) {\n\t\t\t\t\tprimes[i+1] = Math.pow(primes[i+1], rd.randint(1,2))\n\t\t\t\t} else {\n\t\t\t\t\tprimes[i-1] = Math.pow(primes[i-1], rd.randint(1,2))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (const i in primes) {\n\t\t\tif (primes[i] === 2 | primes[i] === 3) {\n\t\t\t\tprimes[i] = Math.pow(primes[i], rd.randint(1,2))\n\t\t\t}\n\t\t}\n\t\tconst leading_coeff = primes[0] * primes[1]\n\t\tconst trailing_coeff = primes[2] * primes[3]\n\t\tconst degree = rd.randint(3,6)\n\t\tconst num_coeffs = rd.randint(3,degree)\n\t\tlet poly = randomPolynomialCoefficients.call(this, {degree: degree, terms: num_coeffs})\n\t\tpoly[0] = trailing_coeff\n\t\tpoly[degree] = leading_coeff\n\t\tconst f = new Polynomial(poly)\n\n\t\tconst question = '$$f(x) = ' + f.toLatex() + '$$'\n\t\t\n\t\tconst correctNumerators = listFactors(trailing_coeff, {include1: true, includeN: true})\n\t\tconst correctDenominators = listFactors(leading_coeff, {include1: true, includeN: true})\n\t\t\n\t\tconst allPossibleZeros = []\n\t\tfor (const a of correctNumerators) {\n\t\t\tfor (const b of correctDenominators) {\n\t\t\t\tallPossibleZeros.push(`${a}/${b}`)\n\t\t\t}\n\t\t}\n\n\t\tconst numCorrect = rd.choice([0,1,1,2,2,2,2,3,3,4])\n\t\tconst correctAnswers = []\n\t\twhile (correctAnswers.length < numCorrect) {\n\t\t\tconst [a, b] = [rd.choice(correctNumerators), rd.choice(correctDenominators)]\n\t\t\tconst s = `${a}/${b}`\n\t\t\tif (!_.includes(correctAnswers, s)) {\n\t\t\t\tcorrectAnswers.push(s)\n\t\t\t}\n\t\t}\n\n\t\tconst wrongAnswers = []\n\t\twhile (wrongAnswers.length < 4-numCorrect) {\n\t\t\tconst [a,b] = [rd.choice(correctDenominators), rd.choice(correctNumerators)]\n\t\t\tconst s = `${a}/${b}`\n\t\t\tif (!(s == '1/1') && !_.includes(wrongAnswers, s)) {\n\t\t\t\twrongAnswers.push(s)\n\t\t\t}\n\t\t}\n\n\t\tconst allChoices = [...correctAnswers, ...wrongAnswers]\n\t\tconst shuffled = []\n\t\tconst correctIndex = numCorrect ? [] : 4\n\t\tfor (let i = 0; i < 4; i++) {\n\t\t\tconst a = rd.poprandom(allChoices)\n\t\t\tif (_.includes(correctAnswers, a)) {\n\t\t\t\tcorrectIndex.push(i)\n\t\t\t}\n\t\t\tshuffled.push(a)\n\t\t}\n\n\t\treturn {\n\t\t\tinstructions: \"Which of the following are possible zeros of the function according to the _Rational Zero Theorem_? Choose ***all*** that apply.\",\n\t\t\tquestion: question,\n\t\t\tanswer: {\n\t\t\t\tcorrect: allPossibleZeros.map(s => `$$${fraction(s).toLatex()}$$`).join(', '),\n\t\t\t\tchoices: [...shuffled.map(s => `$$\\\\displaystyle ${fraction(s).toLatex()}$$`), 'None of these'],\n\t\t\t\tcorrectIndex: correctIndex,\n\t\t\t\tlistDirection: 'horizontal',\n\t\t\t},\n\t\t\tfreeResponse: {\n\t\t\t\tinstructions: \"List all possible rational zeros of the function (according to the _Rational Zero Theorem_).\"\n\t\t\t}\n\t\t}\n\t}\n}\n\n\nexport class GraphLinearInequalities extends QGen {\n\tstatic info = {\n\t\tname: 'Graph Inequalities',\n\t\tdescription: 'Graph the solution to a system of two linear inequalities',\n\t}\n\n\n\tstatic options = {\n\t\tsingleColumn: true,\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\t\t\n\t\tlet [x1, y1, y2] = rd.sampleRange(2,7,3)\n\t\tlet x2 = rd.randint(-7,-2)\n\t\tconst rotation = rd.randint(0,3)\n\t\tfor (let i = 0; i < rotation; i++) {\n\t\t\t[x1, y1, x2, y2] = [-y1, x1, -y2, x2]\n\t\t}\n\t\tif (x1 > 0 && x2 > 0) {\n\t\t\t[x1, y1, x2, y2] = [-y1, x1, -y2, x2]\n\t\t}\n\n\t\tconst [ineq1, ineq2] = rd.shuffle([rd.choice(['<', '>']), rd.choice(['<=', '>='])])\n\n\t\tconst line1 = {a: y1, b: x1, c: x1*y1, ineq: ineq1, xInt: x1, yInt: y1}\n\t\tconst line2 = {a: y2, b: x2, c: x2*y2, ineq: ineq2, xInt: x2, yInt: y2}\n\n\t\tconst withsign = n => n < 0 ? n : '+' + n\n\t\tconst latexineq = ineq => {\n\t\t\tif (ineq === '<=') return '\\\\leq'\n\t\t\tif (ineq === '>=') return '\\\\geq'\n\t\t\treturn ineq\n\t\t}\n\n\t\tconst latexeqn = f => `${f.a}x ${withsign(f.b)}y &${latexineq(f.ineq)} ${f.c}`\n\n\t\tconst question = `$$\\\\displaystyle\\\\left\\\\{\\\\begin{aligned} ${latexeqn(line1)} \\\\\\\\ ${latexeqn(line2)} \\\\end{aligned}\\\\right.$$`\n\n\t\tconst blankgraph = [\n\t\t\t'ABVG', [\n\t\t\t\t'CoordinatePlane', {span: [-10,-10,10,10], height: '1.8in'},\n\t\t\t]\n\t\t]\n\n\t\tconst correct = {\n\t\t\tlines: [], \n\t\t\tclips: [],\n\t\t}\n\n\t\tfor (const f of [line1, line2]) {\n\t\t\tconst func = x => (f.c - x*f.a) / f.b\n\t\t\tconst points = [[-11, func(-11)], [11, func(11)]]\n\n\t\t\tif (f.ineq === '<' || f.ineq === '>') {\n\t\t\t\tcorrect.lines.push(['Path', {points, style: ['dashed']}])\n\t\t\t} else {\n\t\t\t\tcorrect.lines.push(['Path', {points}])\n\t\t\t}\n\n\t\t\tlet whichside\n\t\t\tif (f.ineq === '<' || f.ineq === '<=') {\n\t\t\t\tif (f.b > 0) {\n\t\t\t\t\twhichside = 'below'\n\t\t\t\t}\telse {\n\t\t\t\t\twhichside = 'above'\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (f.b > 0) {\n\t\t\t\t\twhichside = 'above'\n\t\t\t\t} else {\n\t\t\t\t\twhichside = 'below'\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (whichside === 'above') {\n\t\t\t\tcorrect.clips.push([...points, [11,11], [-11, 11]])\n\t\t\t} else {\n\t\t\t\tcorrect.clips.push([...points, [11,-11], [-11, -11]])\n\t\t\t}\n\t\t}\n\n\t\tconst plotAnswer = a => (\n\t\t\t[\n\t\t\t\t'ABVG', [\n\t\t\t\t\t'CoordinatePlane', {span: [-10,-10,10,10], height: '1in'},\n\t\t\t\t\t[\n\t\t\t\t\t\t'ClipPath', {points: a.clips[0]}, [\n\t\t\t\t\t\t\t'ClipPath', {points: a.clips[1]},\n\t\t\t\t\t\t['FillRegion', {points: [[-11,-11], [-11,11], [11,11], [11,-11]]}]\n\t\t\t\t\t]],\n\t\t\t\t\t['Layer', {strokeColor: '#999'}, ...a.lines],\n\t\t\t\t\t[\n\t\t\t\t\t\t'ClipPath', {points: a.clips[1]},\n\t\t\t\t\t\t['Layer', a.lines[0]],\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t'ClipPath', {points: a.clips[0]},\n\t\t\t\t\t\t['Layer', a.lines[1]],\n\t\t\t\t\t],\n\t\t\t\t]\n\t\t\t]\n\t\t)\n\n\n\t\treturn {\n\t\t\tinstructions: 'Graph the solution to the system of inequalities.',\n\t\t\tquestion: question,\n\t\t\tanswer: {\n\t\t\t\tprompt: blankgraph,\n\t\t\t\tcorrect: plotAnswer(correct),\n\t\t\t},\n\t\t\tlayout: ['instructions', 'question', 'diagram', 'answer'],\n\t\t}\n\t}\n}\n\n","\n\nconst test = function(f, x, y) {\n  const r = f({x: x, y: y})\n  if (r > 0) { return 'gt' }\n  if (r < 0) { return 'lt'}\n  return 'eq'\n}\n\nconst contourPresent = function(f, x, y, d) {\n  const p = d / 30\n  let q, r, s, t\n  try {\n    q = test(f, x, y)\n  } catch(e) {\n    q = test(f, x+p, y+p)\n  }\n  \n  try {\n    r = test(f, x+d, y)\n  } catch(e) {\n    r = test(f, x+d-p, y+p)\n  }\n  if (r !== q) return true\n\n  try {\n    s = test(f, x+d, y+d)\n  } catch(e) {\n    s = test(f, x+d-p, y+d-p)\n  }\n  if (s !== q) return true\n\n  try {\n    t = test(f, x, y+d)\n  } catch(e) {\n    t = test(f, x+p, y+d-p)\n  }\n  if (t !== q) return true\n\n  return false\n}\n\n\nconst subdivide = function(f, x, y, d, depth, searchDepth) {\n  const hd = d / 2\n  const props = [hd, depth-1, searchDepth-1]\n  return [\n    ...createTree(f, x, y, ...props),\n    ...createTree(f, x+hd, y, ...props),\n    ...createTree(f, x+hd, y+hd, ...props),\n    ...createTree(f, x, y+hd, ...props)\n  ]\n}\n\nconst createTree = function(f, x, y, d, depth, searchDepth) {\n  if (searchDepth > 0) {\n    return subdivide(f, x, y, d, depth, searchDepth)\n  } else {\n    if (contourPresent(f, x, y, d)) {\n      if (depth > 0) {\n        return subdivide(f, x, y, d, depth, searchDepth)\n      } else {\n        return [{x: x+d/2, y: y+d/2}]\n      }\n    } else {\n      return []\n    }\n  }\n}\n\n\nclass QuadTree {\n\tconstructor({left, right, x=-10, y=-10, d=20, depth=10, searchDepth=6}) {\n    this.f = p => left(p) - right(p)\n\t\tthis.x = x\n\t\tthis.y = y\n\t\tthis.d = d\n\t\tthis.depth = depth\n\t\tthis.searchDepth = searchDepth\n\t}\n\n\tcalcPoints() {\n\t\treturn createTree(this.f, this.x, this.y, this.d, this.depth, this.searchDepth)\n\t}\n}\n\nexport {\n  QuadTree,\n  createTree,\n}","import { createTree } from './QuadTree'\n\n\nexport function makesrange(min, max, step=1, anchor) {\n\tif (anchor === undefined) {\n\t\tanchor = min;\n\t} else if (anchor < min) {\n\t\tanchor = min;\n\t} else if (anchor > max) {\n\t\tanchor = max;\n\t}\n\tlet r = [anchor,];\n\tlet v = anchor - step;\n\twhile (v >= min) {\n\t\t\tr.splice(0, 0, v);\n\t\t\tv -= step;\n\t}\n\tv = anchor + step;\n\twhile (v <= max) {\n\t\t\tr.push(v);\n\t\t\tv += step;\n\t}\n\treturn r;\n}\n\nexport function round(n, d) {\n\treturn Math.round(d * Math.pow(10,d)) / Math.pow(10,d)\n}\n\nconst clipdef = ({span, padX, padY, clipID}) => {\n\tconst [x0, y0, x1, y1] = span\n\tconst w = x1 - x0, h = y1 - y0\n\treturn (\n\t\t[\n\t\t\t'defs'\n\t\t\t[\n\t\t\t\t'clipPath', {id: `clip-path-${clipID}`},\n\t\t\t\t[\n\t\t\t\t\t'rect', {x: x0-padX, y: y0-padY, width: w+2*padX, height: h+2*padY}\n\t\t\t\t]\n\t\t\t]\n\t\t]\n\t)\n}\n\nlet clipCounter = 0\n\nexport const cartesianPlane = function(props, ...children) {\n\tconst {span, autogrid=false, padding, ...otherprops} = props\n  const [x0, y0, x1, y1] = span\n  const xpad = (x1 - x0) * .1\n  const ypad = (y1 - y0) * .1\n  const clipPadX = padding === undefined ? (x1 - x0) * .005 : padding\n  const clipPadY = padding === undefined ? (y1 - y0) * .005 : padding\n  const w = x1 - x0\n  const h = y1 - y0\n  const viewBox = `${x0-xpad} ${-y1-ypad} ${w+2*xpad} ${h+2*ypad}`\n\n  const clipID = ++clipCounter\n\n  return (\n\t\t[\n\t\t\t'svg', {viewBox, className: 'plot-cartesian-plane', ...otherprops},\n\t\t\tclipdef({span, padX: clipPadX, padY: clipPadY, clipID}),\n\t\t\t[\n\t\t\t\t'g', {style: {transform: 'scale(1,-1)'}},\n\t\t\t\t(autogrid ? grid({x: {start: x0, end: x1}, y: {start: y0, end: y1}}) : null),\n\t\t\t\t[\n\t\t\t\t\t'g', {clipPath: `url(#clip-path-${clipID})`},\n\t\t\t\t\t...children,\n\t\t\t\t]\n\t\t\t]\n\t\t]\n\t)\n}\n\n\nexport const grid = function(props) {\n\tconst x = {step: 1, axis: 0}\n  const y = {step: 1, axis: 0}\n  Object.assign(x, props.x)\n  Object.assign(y, props.y)\n\n\tlet t\n  const xvals = []\n  if (x.step) {\n    t = x.start\n    while (t <= x.end) {\n      xvals.push(t);\n      t += x.step\n    }\n  }\n\n  const yvals = []\n  if (y.step) {\n    t = y.start\n    while (t <= y.end) {\n      yvals.push(t);\n      t += y.step\n    }\n\t}\n\n\tconst xmap = v => ['path', {\n\t\tclassName: 'plot-grid-line', \n\t\td: `M${v},${y.start}V${y.end}`,\n\t\tvectorEffect: 'non-scaling-stroke',\n\t}]\n\n\tconst ymap = v => ['path', {\n\t\tclassName: 'plot-grid-line',\n\t\td: `M${x.start},${v}H${x.end}`,\n\t\tvectorEffect: 'non-scaling-stroke',\n\t}]\n\t\n\treturn ['g', \n\t\t...xvals.map(xmap),\n\t\t...yvals.map(ymap),\n\t\t['path', {className: 'plot-axis', d: `M${x.axis},${y.start}V${y.end}`, vectorEffect: 'non-scaling-stroke'}],\n\t\t['path', {className: 'plot-axis', d: `M${x.start},${y.axis}H${x.end}`, vectorEffect: 'non-scaling-stroke'}],\n\t]\n}\n\nexport const point = (props) => {\n\tconst {x, y, coords, ...otherprops} = props\n\tconst pt = coords ? `${coords[0]},${coords[1]}` : `${x},${y}`\n  const d = `M${pt}L${pt}z`\n  return [\n\t\t'path', \n\t\t{d, className: 'plot-path-point', vectorEffect: 'non-scaling-stroke'},\n\t]\n}\n\nexport const hole = (props) => {\n  const {x, y, coords, inner, outer} = props\n  const d = `M${coords ? `${coords[0]},${coords[1]}` : `${x},${y}`}z`\n  return [\n\t\t'path',\n\t\t{d, className: 'plot-hole', vectorEffect: 'non-scaling-slope'},\n\t]\n}\n\n\nconst defaultMarker = p => ['circle', {cx: p.x, cy: p.y, r: '0.05'}]\n\nexport const quadTreePlot = function(\n\tquadtreeprops, \n\t{marker=defaultMarker, style={fill: 'rgba(200,0,100,0.6)'}}={}\n) {\n\tconst {f, x, y, d, depth, searchDepth} = quadtreeprops\n\tconst points = createTree(f, x, y, d, depth, searchDepth)\n\treturn [\n\t\t'g', {style: style},\n\t\t...points.map(marker),\n\t]\n}\n","import QGen from './QGen'\nimport * as svg from './tools/svgplot'\nimport { createTree } from './tools/QuadTree'\n\n\nexport class RationalPlot extends QGen {\n  static info = {\n    name: 'RationalFunction',\n    description: 'test vectorgraphic RationalFunction'\n  }\n\n  generate(params) {\n    const rd = this.random\n\n    const inv = rd.choice([true, false])\n\n    const numRoots = rd.randint(0,2)\n    const numAsymptotes = rd.randint(1,3)\n    const numHoles = rd.randint(0,2)\n    const total = numRoots + numAsymptotes + numHoles\n    const values = rd.sampleRange(-9,9,total)\n    const roots = values.slice(0,numRoots)\n    const asymptotes = values.slice(numRoots, numRoots+numAsymptotes)\n    const holes = values.slice(numRoots+numAsymptotes)\n    const domain = [-11,11]\n\n    const [x, y] = inv ? ['y', 'x'] : ['x', 'y']\n\n    let num = ''\n    let den = ''\n\n    for (const r of [...roots, ...holes].sort((a,b) => b-a)) {\n      if (r === 0) {\n        num = `${x}${num}`\n      } else if (r > 0) {\n        num = `${num}(${x}-${r})`\n      } else {\n        num = `${num}(${x}+${-r})`\n      }\n    }\n\n    for (const r of [...asymptotes, ...holes].sort((a,b) => b-a)) {\n      if (r === 0) {\n        den = `${x}${den}`\n      } else if (r > 0) {\n        den = `${den}(${x}-${r})`\n      } else {\n        den = `${den}(${x}+${-r})`\n      }\n    }\n\n    if (num === '') num = '1'\n    if (den === '') den = '1'\n\n    const transform = inv ? 'invertXY' : 'none'\n\n    const graph = [\n      'ABVG',\n      [\n        'CoordinatePlane',\n        {span: [-10,-10,10,10], height: '2in'},\n        [\n          'Layer', { transform },\n          [\n            'RationalFunction',\n            {roots, holes, asymptotes, domain}\n          ]\n        ]\n      ]\n    ]\n\n    return {\n      question: `The graph of $$$ ${y} = \\\\frac{${num}}{${den}} $$$`,\n      diagram: graph,\n    }\n\n\n  }\n}\n\nexport class PolynomialPlot extends QGen {\n  static info = {\n    name: 'PolynomialFunction',\n    description: 'test vectorgraphic PolynomialFunction'\n  }\n\n  generate(params) {\n    const rd = this.random\n\n    const deg = rd.randint(2,7)\n    const inv = rd.choice([true, false])\n    let coeffs = rd.sample([-5,-4,-3,-2,-1,0,1,2,3,4,5], deg+1)\n    const denom = rd.randint(2, 21)\n    \n    if (coeffs[coeffs.length-1] === 0) {\n      coeffs = coeffs.slice(0,-1)\n    }\n    const [v, w] = inv ? ['y', 'x'] : ['x', 'y']\n    let tex = ''\n    for (let i = coeffs.length-1; i >= 0; i--) {\n      const c = coeffs[i]\n      const x = i === 0 ? '' : `${v}^{${i}}`\n      if (c > 0) {\n        if (i < coeffs.length-1) tex += '+';\n        if (c !== 1 || i === 0) tex += c;\n        tex += x\n      } else if (c < 0) {\n        if (c !== -1 || i === 0) {\n          tex += c\n        } else {\n          tex += '-'\n        }\n        tex += x\n      }\n    }\n\n    const transform = inv ? 'invertXY' : 'none'\n\n    const graph = [\n      'CoordinatePlane', {span: [-10,-10,10,10], width: '2in'},\n      [\n        'Layer', { transform },\n        [\n          'PolynomialFunction',\n          {coefficients: coeffs.map(c => c/denom), domain: [-11,11]}\n        ]\n      ]\n    ]\n\n    const question = `The graph of $$$ ${w} = \\\\frac{1}{${denom}}(${tex})$$$`\n\n    return {\n      question: question,\n      diagram: ['ABVG', graph],\n      answer: {\n        prompt: null,\n      }\n    }\n  }\n}\n\nexport class PlotStyling extends QGen {\n  static info = {\n    name: 'Plot Style',\n    description: 'test applying custom styling to vectorgraphic'\n  }\n\n  generate(params) {\n    const x = t => 9*Math.sin(t)\n    const y = t => 9*Math.sin(1.17*t)\n    const step = 0.1\n    let path1 = []\n    let path2 = []\n    let path3 = []\n    let path4 = []\n\n    let t = -36\n\n    while (t <= -18) {\n      path1.push([x(t), y(t)])\n      t += step\n    }\n    path1.push([x(t), y(t)])\n\n    while (t <= 0) {\n      path2.push([x(t), y(t)])\n      t += step\n    }\n    path2.push([x(t), y(t)])\n\n    while (t <= 18) {\n      path3.push([x(t), y(t)])\n      t += step\n    }\n    path3.push([x(t), y(t)])\n\n\n    while (t <= 36) {\n      path4.push([x(t), y(t)])\n      t += step\n    }\n    path4.push([x(t), y(t)])\n\n\n    return {\n      answer: {prompt: null},\n      question: 'The graph of $$(x,y) = (9\\\\sin(t), 9\\\\cos(1.17t))$$ for $$-36 \\\\leq t \\\\leq 36$$:',\n      diagram: ['ABVG', \n        [\n          'CoordinatePlane', \n          {\n            span: [-10,-10,10,10], \n            height: '3in',\n          },\n          [\n            'Layer', {strokeColor: 'hsl(340,70%,60%)'},\n            ['Path', {points: path4}],\n          ],\n          [\n            'Layer', {strokeColor: 'hsl(30,90%,50%)'},\n            ['Path', {points: path3}],\n          ],\n          [\n            'Layer', {strokeColor: 'hsl(80,90%,40%)'},\n            ['Path', {points: path2}],\n          ],\n          [\n            'Layer', {strokeColor: 'hsl(170,90%,40%)'},\n            ['Path', {points: path1}],\n          ]\n        ]\n      ]\n    }\n  }\n}\n\n\nexport class FontTest extends QGen {\n  static info = {\n    name: \"Font Test\"\n  }\n\n  generate(params) {\n    \n    const text = 'the quick brown fox jumps over the lazy dog 1234567890'\n\n    let lines = []\n\n    for (const chars of [text, text.toUpperCase()]) {\n      for (const x of ['', '_', '__', '___']) {\n        lines.push(`${x}${chars}${x}`)\n      }\n    }\n\n    lines.push('$$\\\\text{' + text + '}$$ (LaTeX)')\n\n    const dontConfuse = ['IJl1']\n\n    for (const d of dontConfuse) {\n      let line = []\n      for (let i = 0; i < d.length-1; i++) {\n        for (let j = i+1; j < d.length; j++) {\n          line.push(d[i] + d[j])\n        }\n      }\n      for (const x of ['', '_', '__', '___']) {\n        lines.push(`${x}${line.join(' ')}${x}`)\n      }\n    }\n\n    const question = [\n      '_y = ax^2^ + bx +c_', \n      '$$y = ax^2 + bx + c$$',\n    ].join('  \\n')\n\n    return {\n      instructions: lines.join('  \\n'),\n      question: question,\n    }\n  }\n}\n\nexport class QuadTreePlotTest extends QGen {\n  static info = {\n    name: 'QuadTree Plot Test',\n    description: 'Test alternate graphing algorithm'\n  }\n\n  generate(params) {\n    const f1 = ({x, y}) => Math.pow(Math.sin(x*x), 1)\n    const f2 = ({x, y}) => Math.pow(Math.cos(y*y), 1)\n    //const f3 = ({x, y}) => Math.pow(Math.sin(y*y), 1)\n    //const f4 = ({x, y}) => Math.pow(Math.cos(x*x), 1)\n\n    \n    let points = createTree(pt => f1(pt) - f2(pt), -5, -5, 10, 8, 6)\n\n   const graph = [\n     'CoordinatePlane',\n     {span: [-5,-5,5,5], height: '3in'},\n     [\n       'Layer', {strokeWidth: '0.08mm'},\n       ['ScatterPlot', { points }]\n     ]\n   ]\n\n\n\n    return {\n      answer: null,\n      question: \"The graph of $$\\\\sin(x^2) = \\\\cos(y^2)$$:\",\n      diagram: [\n        'ABVG', graph\n      ],\n    }\n  }\n}\n\nclass MdTest extends QGen {\n\n  static info = {\n    name: 'Formatting Test',\n    description: 'Test markdown/latex'\n  }\n\n  generate(params) {\n\n    const mdtest = `# Heading\n\nRegular, _Italic_, __Bold__, ___Both___, ~sub~script, ^super^script,  \\`monospaced\\`,  \narrows: --> <-- ==> <== <--> <==>\n\nThe formula $$x = \\\\frac{-b \\\\pm \\\\sqrt{b^2 - 4ac}}{2a}$$\nis used to solve quadratic equations.\n\nThe Collatz Function:\n$$$f(n) = \\\\left\\\\{ \\\\begin{array}{rl}\n  n \\\\div 2 & \\\\text{ if $n$ is even} \\\\\\\\\n  3n+1 & \\\\text{ if $n$ is odd}\n\\\\end{array}\\\\right.$$$\n\n- Thing A\n  - Thing A.1\n  - Thing A.2\n- Thing B\n\ninput ($$x$$) | output ($$y$$)\n:-: | :-:\n-3  | 3\n-2  | -2 \n-1  | -5\n 0  | -6\n\n> All summations have a beginning, all effect has a  \n> story, all kindness begins with the sown seed.  \n> Thought buds toward radiance. The gospel of  \n> light is the crossroads of -- indolence, or action.  \n> \n> Be ignited, or be gone.\n\n[Hyperlink](https://npr.org)\n\n${'```'}python\ndef gcd(a, b):\n    if a == b or b == 0:\n        return a\n    elif a == 0:\n        return b\n    else:\n      return gcd(a, a-b) if a > b else gcd(b, b-a)\n${'```'}\n`\n\n    return ({\n      answer: null,\n      question: {\n        type: 'markdown',\n        data: mdtest,\n      },\n    })\n  }\n\n}\n\n\n\nexport class VegaLite extends QGen {\n  static info = {\n    name: 'Vega Lite',\n    description: 'test vega-lite render type'\n  }\n\n  generate(params) {\n    let points = []\n\n    const f = x => ({x: x, y: 6*x - x*x, function: 'f'})\n    const g = x => ({x: x, y: 5*Math.sin(x), function: 'g'})\n\n    let t = 0\n    while (t <= 7) {\n      points.push(f(t))\n      points.push(g(t))\n      t += 0.2\n    }\n\n    const diagram2 = {\n      data: { values: points },\n      mark: {\n        type: 'line', \n        interpolate: 'monotone',\n      },\n      \"encoding\": {\n        x: {\n          field: 'x', \n          type: 'quantitative',\n        },\n        y: {\n          field: 'y', \n          type: 'quantitative',\n        },\n        color: {\n          field: 'function',\n          type: 'nominal'\n        }\n      },\n    }\n\n    return {\n      answer: null,\n      instructions: 'The graphs of $$f(x) = - x^2 + 6x$$ and $$g(x) = 5\\\\sin(x)$$',\n      diagram: ['VegaLite', diagram2],\n    }\n  }\n}\n\nclass VegaTest extends QGen {\n  static info = {\n    name: 'Vega Test',\n    description: 'Test Vega rendering'\n  }\n\n  generate(params) {\n    return {\n      answer: null,\n      instructions: \"Rendered with Vega:\",\n      diagram: ['Vega', {\n          \"$schema\": \"https://vega.github.io/schema/vega/v4.json\",\n          \"width\": 500,\n          \"height\": 200,\n          \"padding\": 5,\n        \n          \"signals\": [\n            {\n              \"name\": \"interpolate\",\n              \"value\": \"linear\",\n              \"bind\": {\n                \"input\": \"select\",\n                \"options\": [\n                  \"basis\",\n                  \"cardinal\",\n                  \"catmull-rom\",\n                  \"linear\",\n                  \"monotone\",\n                  \"natural\",\n                  \"step\",\n                  \"step-after\",\n                  \"step-before\"\n                ]\n              }\n            }\n          ],\n        \n          \"data\": [\n            {\n              \"name\": \"table\",\n              \"values\": [\n                {\"x\": 0, \"y\": 28, \"c\":0}, {\"x\": 0, \"y\": 20, \"c\":1},\n                {\"x\": 1, \"y\": 43, \"c\":0}, {\"x\": 1, \"y\": 35, \"c\":1},\n                {\"x\": 2, \"y\": 81, \"c\":0}, {\"x\": 2, \"y\": 10, \"c\":1},\n                {\"x\": 3, \"y\": 19, \"c\":0}, {\"x\": 3, \"y\": 15, \"c\":1},\n                {\"x\": 4, \"y\": 52, \"c\":0}, {\"x\": 4, \"y\": 48, \"c\":1},\n                {\"x\": 5, \"y\": 24, \"c\":0}, {\"x\": 5, \"y\": 28, \"c\":1},\n                {\"x\": 6, \"y\": 87, \"c\":0}, {\"x\": 6, \"y\": 66, \"c\":1},\n                {\"x\": 7, \"y\": 17, \"c\":0}, {\"x\": 7, \"y\": 27, \"c\":1},\n                {\"x\": 8, \"y\": 68, \"c\":0}, {\"x\": 8, \"y\": 16, \"c\":1},\n                {\"x\": 9, \"y\": 49, \"c\":0}, {\"x\": 9, \"y\": 25, \"c\":1}\n              ]\n            }\n          ],\n        \n          \"scales\": [\n            {\n              \"name\": \"x\",\n              \"type\": \"point\",\n              \"range\": \"width\",\n              \"domain\": {\"data\": \"table\", \"field\": \"x\"}\n            },\n            {\n              \"name\": \"y\",\n              \"type\": \"linear\",\n              \"range\": \"height\",\n              \"nice\": true,\n              \"zero\": true,\n              \"domain\": {\"data\": \"table\", \"field\": \"y\"}\n            },\n            {\n              \"name\": \"color\",\n              \"type\": \"ordinal\",\n              \"range\": \"category\",\n              \"domain\": {\"data\": \"table\", \"field\": \"c\"}\n            }\n          ],\n        \n          \"axes\": [\n            {\"orient\": \"bottom\", \"scale\": \"x\", 'titleFont': 'Zilla Slab'},\n            {\"orient\": \"left\", \"scale\": \"y\"}\n          ],\n        \n          \"marks\": [\n            {\n              \"type\": \"group\",\n              \"from\": {\n                \"facet\": {\n                  \"name\": \"series\",\n                  \"data\": \"table\",\n                  \"groupby\": \"c\"\n                }\n              },\n              \"marks\": [\n                {\n                  \"type\": \"line\",\n                  \"from\": {\"data\": \"series\"},\n                  \"encode\": {\n                    \"enter\": {\n                      \"x\": {\"scale\": \"x\", \"field\": \"x\"},\n                      \"y\": {\"scale\": \"y\", \"field\": \"y\"},\n                      \"stroke\": {\"scale\": \"color\", \"field\": \"c\"},\n                      \"strokeWidth\": {\"value\": 2}\n                    },\n                    \"update\": {\n                      \"interpolate\": {\"signal\": \"interpolate\"},\n                      \"fillOpacity\": {\"value\": 1}\n                    },\n                    \"hover\": {\n                      \"fillOpacity\": {\"value\": 0.5}\n                    }\n                  }\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    }\n  }\n}\n","import Polynomial from 'polynomial'\nimport fraction from 'fraction.js'\n\nimport QGen from './QGen'\n\n\n\nclass TransformTracker {\n\t// y = a * f((x - h)/b) + k\n\tconstructor(parent) {\n\t\tthis.parent = parent\n\t\tthis.a = fraction(1)\n\t\tthis.b = fraction(1)\n\t\tthis.h = 0\n\t\tthis.k = 0\n\t}\n\n  translate(x,y) { this.h += x; this.k += y }\n  scale(x,y) { this.b = this.b.mul(x); this.a = this.a.mul(y) }\n\ttranslateX(n) { this.h += n }\n\ttranslateY(n) { this.k += n }\n\tscaleX(n) { this.b = this.b.mul(n) }\n\tscaleY(n) { this.a = this.a.mul(n) }\n\t\n\tshiftH(n) { this.translateX(n) }\n\tshiftV(n) { this.translateY(n) }\n\tstretchH(n) { this.scaleX(n) }\n\tstretchV(n) { this.scaleY(n) }\n\tcompressH(n) { this.scaleX(fraction(1,n)) }\n\tcompressV(n) { this.scaleY(fraction(1,n)) }\n\treflectH() { this.b = -this.b }\n  reflectV() { this.a = -this.a }\n  up(n) { this.translateY(n) }\n  down(n) { this.translateY(-n) }\n\n\tf() {\n\t\tconst parent = {\n\t\t\t'abs': x => Math.abs(x),\n\t\t\t'cubic': x => x*x*x,\n\t\t\t'exp2': x => Math.pow(2,x),\n\t\t\t'log2': x => Math.log2(x),\n\t\t\t'quad': x => x*x,\n\t\t\t'sqrt': x => Math.sqrt(x),\n\t\t}[this.parent]\n\t\tconst {a, b, h, k} = this\n\t\treturn x => a * parent((x - h)/b) + k \n  }\n  \n  vgTransform() {\n    return ({type: 'matrix', params: [this.b.valueOf(), 0, 0, this.a.valueOf(), this.h, this.k]})\n  }\n\n\ttoLatex() {\n\t\tPolynomial.setField('Q')\n\t\tconst {parent, a, b, h, k} = this\n\t\tconst inner = new Polynomial([fraction(-h).div(b), fraction(1).div(b)]).toLatex()\n\t\tconst kStr = k === 0 ? '' : k < 0 ? k.toString() : '+' + k.toString()\n\t\tconst aStr = a == 1 ? '' : a == -1 ? '-' : a.toString()\n\t\tif (parent === 'sqrt') {\n\t\t\treturn `${aStr}\\\\sqrt{${inner}}${kStr}`\n\t\t}\n\t\tif (parent === 'quad') {\n\t\t\tif (b == 1 && h === 0) {\n\t\t\t\treturn `${aStr}x^2${kStr}`\n\t\t\t}\n\t\t\treturn `${aStr}(${inner})^2${kStr}`\n\t\t}\n\t\tif (parent === 'cubic') {\n\t\t\tif (b == 1 && h === 0) {\n\t\t\t\treturn `${aStr}x^3${kStr}`\n\t\t\t}\n\t\t\treturn `${aStr}(${inner})^3${kStr}`\n\t\t}\n\t\tif (parent === 'abs') {\n\t\t\treturn `${aStr}|${inner}|${kStr}`\n\t\t}\n\t\tif (parent === 'exp2') {\n\t\t\tif (aStr) {\n\t\t\t\treturn `${aStr} \\\\cdot 2^{${inner}}${kStr}`\n\t\t\t}\n\t\t\treturn `${aStr}2^{${inner}}${kStr}`\n\t\t}\n\t\tif (parent === 'log2') {\n\t\t\treturn `${aStr}\\\\log_{2}(${inner})${kStr}`\n\t\t}\n\t}\n}\n\n\n\n\n\n\nexport class MatchTransformations extends QGen {\n\tstatic info = {\n\t\tname: 'Match Transformations',\n\t\tdescription: 'Match equations with graphs'\n\t}\n\n\tstatic params = {\n\t\tparents: {\n\t\t\tlabel: 'Allowed Parent Functions',\n\t\t\ttype: 'multipleselect',\n\t\t\toptions: [\n\t\t\t\t{value: 'sqrt', label: 'Square root'},\n\t\t\t\t{value: 'quad', label: 'Quadratic'},\n\t\t\t\t{value: 'abs', label: 'Absolute value'},\n\t\t\t\t{value: 'cubic', label: 'Cubic'}, // cubic is problematic because reflections are ambiguous\n\t\t\t\t{value: 'exp2', label: 'Exponential'},\n\t\t\t\t{value: 'log2', label: 'Logarithm'},\n\t\t\t],\n\t\t\tdefault: ['sqrt', 'quad', 'abs', 'exp2', 'log2'],\n\t\t}\n\t}\n\n\t//static options = {\n\t//\tlayout: ['instructions', 'question', ['answer', 'diagram']]\n\t//}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\n\t\tconst parent = rd.choice(params.parents)\n\n\t\tconst transforms = (\n\t\t\tparent === 'cubic' \n\t\t\t? ['up', 'down', 'left', 'right', 'stretchV', rd.choice(['flipLR', 'flipDown'])]\n\t\t\t: ['up', 'down', 'left', 'right', 'flipDown', 'flipLR']\n\t\t)\n\t\t\n\t\tlet eqns = []\n\t\tlet paths = []\n\n\t\tconst v = rd.randint(2,5)\n\t\tfor (const t of transforms) {\n\t\t\tconst func = new TransformTracker(parent)\n\n\t\t\tif (t === 'up') func.shiftV(v)\n\t\t\telse if (t === 'down') func.shiftV(-v)\n\t\t\telse if (t === 'left') func.shiftH(-v)\n\t\t\telse if (t === 'right') func.shiftH(v)\n\t\t\telse if (t === 'stretchV') func.stretchV(v)\n\t\t\telse if (t === 'flipDown') func.stretchV(-v)\n\t\t\telse if (t === 'stretchH') func.stretchH(v)\n\t\t\telse if (t === 'flipLR') func.compressH(-v)\n\n\t\t\tconst eqn = func.toLatex()\n      eqns.push(`$$y = ${eqn}$$`)\n\n\t\t\tconst f = func.f()\n\t\t\tconst points = []\n\t\t\tlet start, stop\n\t\t\tconst {a, b, h, k} = func\n\t\t\tif (func.parent === 'sqrt') {\n\t\t\t\t[start, stop] = b < 0 ? [-10, h*b] : [h*b, 10]\n\t\t\t}\n\t\t\telse if (func.parent === 'log2') {\n\t\t\t\tif (b < 0) {\n\t\t\t\t\t[start, stop] = [-10, h*b-0.01]\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t[start, stop] = [h*b+0.01, 10]\n\t\t\t\t\tpoints.push({x: h*b, y: -a*1000})\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t[start, stop] = [-10, 10]\n\t\t\t}\n\t\t\tlet x = start\n\t\t\twhile (x <= stop) {\n\t\t\t\tconst y = f(x)\n\t\t\t\tpoints.push({x, y})\n\t\t\t\tx += 0.2\n\t\t\t}\n\t\t\tif (func.parent === 'log2' && b < 0) {\n\t\t\t\tpoints.push({x: h*b, y: -a*1000})\n\t\t\t}\n      paths.push(points)\n\t\t}\n\n\t\tconst graphPoints = points => [\n\t\t\t'ABVG', [\n\t\t\t\t'CoordinatePlane', \n\t\t\t\t{ span: [-7,-7,7,7], height: '1.2in' },\n\t\t\t\t['Path', { points }]\n\t\t\t]\n\t\t]\n\n\t\tconst eqnScramble = rd.shuffleRange(0, 5)\n\t\tconst graphScramble = rd.shuffleRange(0, 5)\n\n\t\tconst letters = 'ABCDEF'\n\n\t\tconst makebox = i => [\n\t\t\t'Container', \n\t\t\t{direction: 'row', alignItems: 'center'}, \n\t\t\tletters[i] + ')',\n\t\t\tgraphPoints(paths[graphScramble[i]])\n\t\t]\n\n\t\tconst diagrams = [\n\t\t\t'Table', {border: false},\n\t\t\t['TRow', ...[0,1,2].map(makebox)],\n\t\t\t['TRow', ...[3,4,5].map(makebox)]\n\t\t]\n\n\t\tconst eqnTable = [\n\t\t\t'Table', {border: true, align: 'c|c'},\n\t\t\t['TRow', {header: true, border: true}, 'Equation', 'Graph'],\n\t\t\t...eqnScramble.map(i => (\n\t\t\t\t['TRow', {border: true}, eqns[i], ['EmptySpace', {height: '7mm', width: '7mm'}]]\n\t\t\t))\n\t\t]\n\n\n\t\tconst answer = eqnScramble.map(i => letters[graphScramble.indexOf(i)]).join(', ')\n\n\t\treturn {\n\t\t\tinstructions: 'Fill in the table to match each equation to its graph.',\n\t\t\tdiagram: diagrams,\n\t\t\tanswer: {\n\t\t\t\tprompt: eqnTable,\n\t\t\t\tcorrect: answer,\n\t\t\t}\n\t\t}\n\n\t}\n}\n","import QGen from './QGen'\n\n\n\nconst scramble = function(str, digitmap, slotmap) {\n  return slotmap.map(s => digitmap[+str[s]]).join('')\n}\n\nexport class PicoFermiInstructions {\n\n  static register() {\n    return {\n      name: 'Pico-fermi instructions',\n      description: 'How to play pico-fermi'\n    }\n  }\n\n  output() {\n    return ['Text', null, [\n      'In the game _Pico Fermi_, players try to guess a secret 4-digit number.',\n      'Each of the digits can be from 0 to 9 (leading zeros are allowed,',\n      \"such as 0083). After each guess, players are given a hint. A _fermi_ (f)\",\n      'is given for each number in the guess that is in the correct position,',\n      \"and a _pico_ (p) is given for each number in the guess that is correct but\",\n      'in the wrong position. For example, if the secret number was 7751 and',\n      \"the guess was 1734, the player would be told _pico fermi_, because the\",\n      \"1 was correct but in the wrong position (_pico_), and the 7 was both\",\n      \"correct and in the correct position (_fermi_). Based on the number of\",\n      \"_picos_ and _fermis_ received after each guess, a skilled player will soon\",\n      \"narrow down the possibilities to the correct one.\",\n    ].join(' ')]\n  }\n}\n\nexport class PicoFermi extends QGen {\n  static info = {\n    name: 'Pico-fermi',\n    description: 'A logic puzzle'\n  }\n\n  static options = {\n    singleColumn: true,\n  }\n\n  generate(params) {\n    const rd = this.random\n    const template = Templates[rd.choice(Object.keys(Templates))]\n    const slotmap = rd.shuffleRange(0,3)\n    const digitmap = rd.shuffleRange(0,9)\n    const answer = scramble(template.answer, digitmap, slotmap)\n    const clues = rd.shuffle(Object.keys(template.clues)).map(c => [\n      scramble(c, digitmap, slotmap), template.clues[c]\n    ])\n\n    const puzzle = [\n      'Table', {align: 'r|l'},\n      //['TRow', {header: true, align: 'rl'}, 'Guess', 'Clue'],\n      ...clues.map((c, i) => (\n        ['TRow', {border: false}, c[0], c[1]]\n      ))\n    ]\n\n    const blank = ['EmptySpace', {width: '7mm', height: '7mm', border: 'bottom'}]\n    const gap = ['EmptySpace', {width: '2mm'}]\n\n    const instructions = [\n      'The following '\n    ].join(' ')\n\n    return {\n      instructions: 'The following game of _Pico Fermi_ has only one possible solution. What is it?',\n      question: puzzle,\n      answer: {\n        correct: answer,\n        prompt: [\n          'Container', {direction: 'row'}, \n          blank, gap, blank, gap, blank, gap, blank\n        ],\n      },\n      layout: ['instructions', 'question', 'diagram', 'answer'],\n    }\n    \n  }\n}\n\nexport class PicoFermiSet extends QGen {\n  static info = {\n    name: 'Pico-fermi set',\n    description: 'A set of puzzles of similar difficulty'\n  }\n\n  generate(params) {\n    const rd = this.random\n    const template = Templates[rd.choice(Object.keys(Templates))]\n    \n    const versions = []\n    const answers = []\n    for (const i of [1,2,3,4,5,6]) {\n      const slotmap = rd.shuffleRange(0,3)\n      const digitmap = rd.shuffleRange(0,9)\n      const clues = rd.shuffle(Object.keys(template.clues)).map(c => [\n        scramble(c, digitmap, slotmap),\n        template.clues[c]\n      ])\n      versions.push(clues)\n      answers.push(scramble(template.answer, digitmap, slotmap))\n    }\n    \n    const answer = answers.join(', ')\n\n    const makeTable = clues => [\n      'Table', {border: false, align: 'r|l'},\n      ['TRow', {header: true, border: 'bottom'}, 'Guess', 'Clue'],\n      ...clues.map((c, i) => (\n        ['TRow', {align: 'r|l', border: false}, c[0], c[1]]\n      ))\n    ]\n    \n    const question = ['Container', {direction: 'row'}]\n    for (const v of versions) {\n      question.push(['EmptySpace', {width: '5mm'}])\n      question.push(makeTable(v))\n    }\n\n    return ({\n      question, \n      answer: {\n        correct: answer,\n        prompt: null,\n      },\n      layout: ['instructions', 'diagram', 'question', 'answer'],\n    })\n  }\n}\n\n\n\nconst Templates = {\n  Easy01: {\n    \"answer\": \"1295\", \n    \"clues\": {\n      \"2637\": \"p\", \n      \"0018\": \"p\", \n      \"0123\": \"pp\", \n      \"1034\": \"f\", \n      \"3352\": \"pp\"\n    }\n  },\n\n  Easy02: {\n    \"answer\": \"6779\", \n    \"clues\": {\n      \"5704\": \"f\", \n      \"5607\": \"pp\", \n      \"5109\": \"f\", \n      \"6972\": \"pff\"\n    }\n  },\n  \n\n  Easy03: {\n    \"answer\": \"3276\", \n    \"clues\": {\n      \"1670\": \"pf\", \n      \"4567\": \"pp\", \n      \"0123\": \"pp\", \n      \"1245\": \"f\", \n      \"1376\": \"pff\"\n    }\n  },\n\n  Easy04: {\n    \"answer\": \"5132\", \n    \"clues\": {\n      \"4312\": \"ppf\", \n      \"6543\": \"pp\", \n      \"4129\": \"pf\", \n      \"4230\": \"pf\"\n    }\n  },\n\n  Easy05: {\n    \"answer\": \"3606\", \n    \"clues\": {\n      \"0660\": \"ppf\", \n      \"0386\": \"ppf\", \n      \"2030\": \"pp\"\n    }\n  },\n\n  Easy06: {\n    \"answer\": \"3423\", \n    \"clues\": {\n      \"3773\": \"ff\", \n      \"2790\": \"p\", \n      \"7243\": \"ppf\", \n      \"8467\": \"f\"\n    }\n  },\n\n  Easy07: {\n    \"answer\": \"5938\", \n    \"clues\": {\n      \"5809\": \"ppf\", \n      \"3899\": \"ppp\", \n      \"7243\": \"p\", \n      \"5593\": \"ppf\"\n    }\n  },\n\n  Hard01: {\n    \"answer\": \"7225\", \n    \"clues\": {\n      \"9120\": \"f\", \n      \"7573\": \"pf\", \n      \"2450\": \"pp\", \n      \"5320\": \"pf\", \n      \"8685\": \"f\"\n    }\n  },\n\n  Hard02: {\n    \"answer\": \"2664\", \n    \"clues\": {\n      \"4567\": \"pf\", \n      \"3210\": \"p\", \n      \"5409\": \"p\", \n      \"4608\": \"pf\", \n      \"1064\": \"ff\"\n    }\n  },\n\n  Hard03: {\n    \"answer\": \"6974\", \n    \"clues\": {\n      \"4989\": \"pf\", \n      \"2954\": \"ff\", \n      \"9724\": \"ppf\", \n      \"6139\": \"pf\", \n      \"7243\": \"pp\"\n    }\n  },\n\n  NoFour: {\n    \"answer\": \"2653\", \n    \"clues\": {\n      \"4563\": \"ppf\", \n      \"4615\": \"pf\", \n      \"4652\": \"pff\"\n    }\n  },\n\n  NoEight: {\n    \"answer\": \"2497\", \n    \"clues\": {\n      \"4786\": \"pp\", \n      \"8547\": \"pf\", \n      \"0843\": \"p\", \n      \"9289\": \"pp\", \n      \"8965\": \"p\"\n    }\n  },\n\n  AllPicos: {\n    \"answer\": \"0722\", \n    \"clues\": {\n      \"2486\": \"p\", \n      \"7867\": \"p\", \n      \"4573\": \"p\", \n      \"5608\": \"p\", \n      \"9310\": \"p\"\n    }\n  },\n\n  VeryHard: {\n    \"answer\": \"7583\", \n    \"clues\": {\n      \"9372\": \"pp\", \n      \"1047\": \"p\", \n      \"0235\": \"pp\", \n      \"3627\": \"pp\", \n      \"4753\": \"ppf\"\n    }\n  }\n}","import React from 'react';\nimport { connect } from 'react-redux';\nimport ReactModal from 'react-modal';\nimport {\n  Preview,\n  SideBar,\n  StatusBar,\n  TopBar,\n  Wrapper,\n} from '../components'\nimport Document from './Document/Document'\nimport CustomQuestion from './CustomQuestion'\nimport Notes from './Notes'\nimport { CheckStateButton } from './Debug'\nimport SettingsPage, {\n  AllowEditingToggle,\n  AnswerKeyToggle,\n  FixPagination,\n  FontFamily,\n  FontSize,\n  GUImode,\n  PageMargin,\n  PreviewZoom,\n  StartNumbering\n} from './Settings'\n\n\nimport '../stylesheets/styles.global.css'\n\nimport {\n  addToDocument,\n  removeLast,\n  clearAll,\n} from '../actions/document'\n\nimport {\n  examplequestions, transformations, demogenerators, picofermi\n} from '../questions'\n\n\nlet questionBank = {}\nfor (const set of [examplequestions, transformations]) {\n  for (const q in set) {\n    const n = set[q].register().name\n    questionBank[n] = set[q]\n  }\n}\n\nfor (const set of [demogenerators, picofermi]) {\n  for (const q in set) {\n    const n = '_ ' + set[q].register().name\n    questionBank[n] = set[q]\n  }\n}\n\n\n\nReactModal.setAppElement('#root')\nObject.assign(ReactModal.defaultStyles.content, {\n  borderRadius: '4px',\n  borderColor: 'var(--ui-border-1, #999)',\n  background: 'var(--ui-bg-1, #eee)',\n  padding: '5mm',\n  top: '10px',\n  left: '10px',\n  right: '10px',\n  bottom: '10px',\n})\nObject.assign(ReactModal.defaultStyles.overlay, {\n  background: 'rgba(10,10,10,0.3)',\n})\n\n\n//let questionID = 0;\n\nclass AppWrapper extends React.Component {\n  constructor(props) {\n    super(props)\n    this.questionTypeSelect = React.createRef()\n    this.state = {\n      modal: 'none',\n    }\n  }\n\n  addToDoc = (elem) => {\n    this.props.addToDocument(elem)\n  }\n\n  generateAndAdd = () => {\n    const questionType = this.questionTypeSelect.current.value\n    if (questionType !== '__NONE__') {\n      console.log(`Generating ${questionType}`)\n      try {\n        const qtype = this.props.questionTypes[questionType]\n        const question = new qtype()\n        this.addToDoc(question.output())\n      } catch(e) {\n        console.log('failed')\n        console.log(e)\n      }\n    }\n  }\n\n  closeModal = () => this.setState({modal: 'none'})\n  openRpcTest = () => this.setState({modal: 'RpcTest'})\n  openCustomQuestion = () => this.setState({modal: 'CustomQuestion'})\n  openSettings = () => this.setState({modal: 'Settings'})\n  \n  renderQuestionList() {\n    const sortfunc = (a, b) => {\n      const A = a.toUpperCase(), B = b.toUpperCase()\n      if (A > B) return 1\n      if (A < B) return -1\n      return 0\n    }\n\n    return Object.keys(this.props.questionTypes).sort(sortfunc).map(k => {\n      const register = this.props.questionTypes[k].register()\n      return (\n        <option key={`qtype${k}`} \n          title={register.description}\n          value={k} >\n          {k}\n        </option>\n      )\n    })\n  }\n\n  render() {\n    const toplabel = {margin: '0 0 0 0.5em'}\n    return (\n      <Wrapper >\n        {/* customTitleBar ? <TitleBar /> : null */}\n        <TopBar>\n          <button onClick={window.print}>Print / PDF</button>\n          <button onClick={this.openSettings}>Settings</button>\n          <span style={toplabel}>Answer Key:</span><AnswerKeyToggle />\n          <span style={toplabel}>Start Numbers:</span><StartNumbering />\n          <span style={toplabel}>Font:</span><FontFamily/><FontSize />\n          <span style={toplabel}>Margins:</span><PageMargin />\n          <span style={toplabel}>Zoom:</span><PreviewZoom />\n          <span style={toplabel}>Allow Editing:</span><AllowEditingToggle />\n          <div style={{width: '3mm'}} />\n          <FixPagination/>\n        </TopBar>\n        <Preview>\n          <Document/>\n        </Preview>\n        <SideBar>\n          <select ref={this.questionTypeSelect} defaultValue='__NONE__'>\n            <option value='__NONE__' disabled>Question Type</option>\n            <option value='__NONE__' disabled>-------</option>\n            {this.renderQuestionList()}\n          </select>\n          <button onClick={this.generateAndAdd}>Add</button>\n          <button onClick={this.openCustomQuestion}>Custom Question</button>\n          <button onClick={this.props.removeLast}>Remove Last</button>\n          <button onClick={this.props.clearAll}>Clear All</button>\n          <div style={{height: '1in'}}></div>\n          <GUImode/>\n          <button onClick={() => this.setState({modal: 'Notes'})}>Notes</button>\n          <CheckStateButton>Log State</CheckStateButton>\n        </SideBar>\n        { this.props.statusBar ? <StatusBar><span>{this.props.statusBar}</span></StatusBar> : null }\n\n        <ReactModal\n          isOpen={this.state.modal === 'Settings'}\n          onRequestClose={this.closeModal}\n          style={{\n            content: {\n              top: '0',\n              bottom: 0,\n              left: 0,\n              right: 0,\n              padding: 0,\n            },\n            overlay: {\n              background: 'none',\n              backgroundColor: 'none',\n            }\n          }}\n        >\n          <SettingsPage onRequestClose={this.closeModal}/>\n        </ReactModal>\n\n        <ReactModal\n          isOpen={this.state.modal === 'CustomQuestion'}\n          onRequestClose={this.closeModal}\n        >\n          <CustomQuestion onRequestClose={this.closeModal}/>\n          <button onClick={this.closeModal}>Close</button>\n        </ReactModal>\n\n        <ReactModal\n          isOpen={this.state.modal === 'Notes'}\n          onRequestClose={this.closeModal}\n          style={{\n            content: {\n              width: '4in',\n              top: '1in',\n              left: '1in',\n              right: 'unset',\n              bottom: 'unset',\n              color: 'black',\n              backgroundColor: 'var(--ui-page, white)',\n            }\n          }}\n        >\n          <Notes onRequestClose={this.closeModal} />\n        </ReactModal>\n\n      </Wrapper>\n    )\n\n  }\n}\n\nconst mapStateToProps = state => ({\n  questionTypes: questionBank,\n  statusBar: \"\",\n  fontFamilyUI: state.config.fontFamilyUI,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: q => dispatch(addToDocument(q)),\n  removeLast: () => dispatch(removeLast()),\n  clearAll: () => dispatch(clearAll()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AppWrapper)","import React from 'react';\nimport { Provider } from 'react-redux';\nimport App from './App'\n\n\nexport default class Root extends React.Component {\n  render() {\n    const { store } = this.props;\n    return (\n      <Provider store={store}>\n        <App />\n      </Provider>\n    )\n  }\n}\n","import {\n  ADD_TO_DOCUMENT,\n  CLEAR_ALL,\n  REMOVE_LAST,\n  UPDATE_ELEMENT,\n  UPDATE_HEADER,\n  SET_DOCUMENT_STARTNUMBERING,\n  ADD_PAGEBREAK_BEFORE,\n  DELETE_HEADER,\n  DELETE_ELEMENT,\n  CLEAR_PAGEBREAKS,\n} from '../actions/document'\n\n\n\nconst initialState = {\n  content: {},\n  order: [],\n  headers: {\n    0: ['PageHeader'],\n    1: [\n      'PageHeader',\n      ['Assignment', 'Name ___'],\n      [null, 'Date __ Class _'],\n    ],\n  },\n  footers: {},\n  pagebreaks: [],\n  startNumbering: 1,\n}\n\nconst document = function(state=initialState, action) {\n  switch (action.type) {\n    // content\n    case ADD_TO_DOCUMENT:\n      return {\n        ...state, \n        content: {\n          ...state.content, \n          [action.payload.id]: action.payload.element\n        },\n        order: [...state.order, action.payload.id]\n      }\n    case CLEAR_ALL:\n      return {\n        ...state, \n        content: {},\n        order: [], \n        pagebreaks: [],\n      }\n    case REMOVE_LAST:\n      return {\n        ...state, \n        order: state.order.slice(0,-1), \n        pagebreaks: state.pagebreaks.filter(n => n < state.order.length),\n      }\n    case DELETE_HEADER:\n      const headers = {...state.headers}\n      if (action.payload === 0 || action.payload === 1) {\n        headers[action.payload] = ['Header']\n      } else {\n        delete headers[action.payload]\n        return {...state, headers}\n      }\n    case DELETE_ELEMENT:\n      //Note that this does not remove the element from 'content', only from 'order'\n      return {\n        ...state, \n        order: state.order.filter(id => id !== action.payload),\n        pagebreaks: state.pagebreaks.filter(n => n < state.order.length),\n      }\n    case UPDATE_HEADER:\n      return {\n        ...state, \n        headers: {...state.headers, [action.payload.id]: action.payload.data}\n      }\n    case UPDATE_ELEMENT:\n      return {\n        ...state, \n        content: {...state.content, [action.payload.id]: action.payload.data}\n      }\n\n\n    // settings\n    case SET_DOCUMENT_STARTNUMBERING:\n      return {...state, startNumbering: action.payload}\n\n\n\n    // view\n    case ADD_PAGEBREAK_BEFORE:\n      for (const i in state.order) {\n        if (state.order[i] === action.payload) {\n          return {...state, pagebreaks: [...state.pagebreaks, i]}\n        }\n      }\n      return state\n    case CLEAR_PAGEBREAKS:\n      return {...state, pagebreaks: []}\n      \n    \n    default:\n      return state\n  }\n}\n\nexport default document\n\n","import {\n  ADD_LOCAL_FONT,\n  SET_ALLOW_EDITING,\n  SET_FONTFAMILY_UI,\n  SET_SHOW_ANSWERKEY,\n  SET_HIDDEN_COUNT,\n} from '../actions/config'\n\nconst initialState = {\n  //titleBarStyle: 'default',\n  localFonts: [],\n  fontFamilyUI: 'select',\n  showAnswerKey: true,\n  allowEditing: true,\n  numberHidden: 0,\n}\n\nconst config = function(state=initialState, action) {\n  switch(action.type) {\n    case ADD_LOCAL_FONT:\n      return {...state, localFonts: [...state.localFonts, action.payload]}\n    case SET_ALLOW_EDITING:\n      return {...state, allowEditing: action.payload}\n    case SET_FONTFAMILY_UI:\n      return {...state, fontFamilyUI: action.payload}\n    case SET_SHOW_ANSWERKEY:\n      return {...state, showAnswerKey: action.payload}\n    case SET_HIDDEN_COUNT:\n      return {...state, numberHidden: action.payload}\n    default:\n      return state\n  }\n}\n\nexport default config","import {\n  SET_DOCUMENT_FONTFAMILY,\n  SET_DOCUMENT_FONTSIZE,\n  SET_MATH_FONTSIZE,\n  SET_MATH_FONTWEIGHT,\n  SET_PAGE_MARGIN,\n  UPDATE_GRAPHSTYLE,\n  RESET_GRAPHSTYLE,\n} from '../actions/style'\n\n\nconst initialState = {\n  columns: true,\n  fontFamily: 'IBM Plex Serif',\n  fontSize: '8pt',\n  mathFontSize: '0.9em',\n  mathFontWeight: 'normal',\n  pageSize: 'letter',\n  pageOrientation: 'portrait',\n  pageMargin: '0.5in',\n  graph: {\n    asymptoteColor: '#777777',\n    asymptoteWidth: '0.7mm',\n    axisColor: '#222222',\n    axisWidth: '0.3mm',\n    gridColor: '#888888',\n    gridWidth: '0.1mm',\n    plot1PathColor: '#ff2600',\n    plot2PathColor: '#0080d9',\n    //plot3PathColor: '#70cc3e',\n    //plot4PathColor: '#ffa000',\n    plotPathWidth: '0.5mm',\n    //geomPathColor: '#337744',\n    geomPathColor: '#379600',\n    geomPathWidth: '0.5mm',\n    fillOpacity: '0.3',\n  },\n}\n\nconst style = function(state=initialState, action) {\n  switch(action.type) {\n    // Fonts\n    case SET_DOCUMENT_FONTFAMILY:\n      return {...state, fontFamily: action.payload}\n    case SET_DOCUMENT_FONTSIZE:\n      return {...state, fontSize: action.payload}\n    case SET_MATH_FONTSIZE:\n      return {...state, mathFontSize: action.payload}\n    case SET_MATH_FONTWEIGHT:\n      return {...state, mathFontWeight: action.payload}\n\n    // Page Layout\n    case SET_PAGE_MARGIN:\n      return {...state, pageMargin: action.payload}\n\n    // Graph Style\n    case UPDATE_GRAPHSTYLE:\n      return {...state, graph: {...state.graph, ...action.payload}}\n    case RESET_GRAPHSTYLE:\n      return {...state, graph: {...initialState.graph}}\n\n    default:\n      return state\n  }\n}\n\nexport default style","import { combineReducers } from 'redux'\nimport document from './document'\nimport config from './config'\nimport style from './style'\n\nconst rootReducer = combineReducers({\n  config, document, style\n})\n\nexport default rootReducer","import React from 'react';\nimport Root from './containers/Root';\nimport { createStore } from 'redux';\nimport rootReducer from './reducers';\n\nconst store = createStore(rootReducer);\n\nconst App = () => <Root store={store} />\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n"],"sourceRoot":""}