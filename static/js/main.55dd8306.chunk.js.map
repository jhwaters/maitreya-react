{"version":3,"sources":["containers/Settings/Graph/styles.module.css","components/styles.module.css","containers/CustomQuestion/styles.module.css","containers/Settings/styles.module.css","components/Preview.js","components/SideBar.js","components/StatusBar.js","components/TopBar.js","components/Wrapper.js","actions/document.js","renderJson/renderTypes/VectorGraphics/react-svgplot/Style.js","renderJson/renderTypes/VectorGraphics/react-svgplot/Canvas.js","renderJson/renderTypes/VectorGraphics/react-svgplot/Grid.js","renderJson/renderTypes/VectorGraphics/react-svgplot/Label.js","renderJson/renderTypes/VectorGraphics/react-svgplot/Shapes.js","renderJson/renderTypes/VectorGraphics/react-svgplot/Transform.js","renderJson/renderTypes/VectorGraphics/Clip.js","renderJson/renderTypes/VectorGraphics/CoordinatePlane.js","renderJson/renderTypes/VectorGraphics/Grid.js","renderJson/renderTypes/VectorGraphics/Path.js","renderJson/renderTypes/VectorGraphics/funcs.js","renderJson/renderTypes/VectorGraphics/Functions.js","renderJson/renderTypes/VectorGraphics/Style.js","renderJson/renderTypes/VectorGraphics/index.js","renderJson/renderTypes/AnswerSpace.js","renderJson/renderTypes/EmptySpace.js","renderJson/renderTypes/PageHeader.js","renderJson/renderTypes/Question.js","renderJson/renderTypes/Table.js","renderJson/renderTypes/Text.js","renderJson/renderTypes/index.js","renderJson/renderTypes/Plain.js","renderJson/renderTypes/RenderError.js","renderJson/renderTypes/VegaLite.js","renderJson/renderTypes/Container.js","renderJson/renderTypes/List.js","renderJson/renderJson.js","renderJson/editJson/DefaultEditor.js","renderJson/editJson/EditPageHeader.js","renderJson/editJson/EditQuestion.js","renderJson/editJson/index.js","renderJson/editJson/EditText.js","renderJson/index.js","containers/Document/TopLevelElement.js","containers/Document/pagesize.js","containers/Document/MeasuredPage.js","containers/Document/Page.js","containers/Document/AnswerKey.js","containers/Document/Document.js","actions/config.js","containers/Settings/Font/AddLocalFont.js","containers/Settings/Font/FontFamilyUI.js","actions/style.js","containers/Settings/Font/FontFamilyInput.js","containers/Settings/Font/FontFamilySelect.js","containers/Settings/Font/FontFamily.js","containers/Settings/Font/FontSize.js","containers/Settings/Font/FontLoader.js","containers/Settings/Font/MathFontSettings.js","containers/Settings/Font/TextPreview.js","containers/Settings/Font/index.js","containers/Settings/Font/FontSettings.js","containers/CustomQuestion/LatexExamples.js","containers/CustomQuestion/GraphMaker.js","containers/CustomQuestion/CustomQuestion.js","containers/CustomQuestion/index.js","containers/Notes.js","containers/Debug/CheckState.js","containers/Settings/Graph/GraphStyle.js","containers/Settings/Graph/GraphPreview.js","containers/Settings/Graph/GraphSettings.js","containers/Settings/Graph/index.js","containers/Settings/GUImode.js","containers/Settings/SettingsPage.js","containers/Settings/AllowEditing.js","containers/Settings/AnswerKeyToggle.js","containers/Settings/FixPagination.js","containers/Settings/PageMargin.js","containers/Settings/PreviewZoom.js","containers/Settings/StartNumbering.js","containers/Settings/index.js","questions/tools/handystuff.js","questions/tools/random_randomjs.js","questions/QGen.js","questions/examplequestions.js","questions/tools/QuadTree.js","questions/demogenerators.js","questions/transformations.js","questions/picofermi.js","containers/App.js","containers/Root.js","reducers/document.js","reducers/config.js","reducers/style.js","reducers/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Layout","SettingTable","StyleSetting","Preview","Wrapper","Wrapper-TitleBar-StatusBar","Wrapper-TopBar","Wrapper-TopBar-StatusBar","SideBar","StatusBar","TitleBar","TopBar","PreviewOuter","PreviewInner","GraphMakerBody","GraphMakerInput","GraphMakerPreview","LatexExamples","SettingPage","Title","SettingSection","LeftBar","NavArea","NavButton","active","Previewer","react_default","a","createElement","className","styles","this","props","children","React","Component","classNames","join","elemID","addToDocument","elem","type","payload","element","id","MarkerSymbols","viewBox","refX","refY","cx","cy","r","d","points","transform","MarkerDefs","_ref","stylename","markerW","markerH","Fragment","concat","markerWidth","markerHeight","markerUnits","orient","xlinkHref","x","y","height","width","FillPatternDefs","_ref2","patternUnits","patternTransform","StyleDefs","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","ref","createRef","CTM","current","getScreenCTM","setState","checkSize","w","h","_this$state$CTM","b","c","s","Math","max","abs","Style_MarkerDefs","Style_FillPatternDefs","styleCount","Style","_props$name","name","color","uniquename","style","_arr","_i","length","shape","_arr2","_i2","pattern","Style_StyleDefs","Canvas","_props$cartesian","cartesian","x1","x2","y1","y2","svgprops","assign","Style_MarkerSymbols","Grid","_props$xStep","xStep","_props$yStep","yStep","xvals","yvals","t","push","map","v","key","vectorEffect","Label","_this$props","_this$props$fontSize","fontSize","ctm","inv","inverse","e","f","foprops","position","overflow","markerProps","positions","markers","i","updatePropsWithMarkers","objectSpread","Line","Polyline","Path","Point","_props$marker","marker","pathprops","Shapes_Path","matrix","params","Array","isArray","_params3","slicedToArray","_params3$","_params3$2","_params3$3","_params3$4","_params3$5","_params3$6","_params$a","_params$b","_params$c","_params$d","_params$e","_params$f","makeTransform","_params4","undefined","rotate","_params2","_params2$","_params2$2","_params$x2","_params$y2","scale","_params","_params$","_params$2","_params$x","_params$y","translate","Transform","list","objectWithoutProperties","layerprops","transforms","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","value","ty","_ref2$","str","err","return","clipCount","Clip","Elem","_props$id","shapeprops","clipPath","CoordinatePlane","span","_span","s1","split","_s1$0$split","_s1$0$split2","_s1$0$split3","_s1$0$split4","_s1$1$split","_s1$1$split2","_s","parseSpan","svgref","_this$svgref$current$","xmargin","ymargin","_this$state$span","clip","VectorGraphics_Clip","renderStyle","VectorGraphics_Style","_this$state$span2","_this$props$grid","grid","_this$props$axis","axis","VectorGraphics_Grid","exactname","VectorGraphics_Path","renderClip","defaultProps","_props$step","step","_props$axis","react_svgplot_Style","react_svgplot_Grid","Shapes_Line","renderPath","fill","Shapes_Polyline","p","polylineFromPoints","calcPath","domain","arguments","path","stylenames","styleprops","VectorGraphics","Asymptote","Path_Path","Circle","PolynomialFunction","coefficients","otherprops","ans","deg","pow","RationalFunction","_domainPts","_props$roots","roots","_props$holes","holes","_props$asymptotes","asymptotes","_props$numerLC","numerLC","_props$denomLC","denomLC","_props$step2","_props$range","range","_props$renderAsymptot","renderAsymptotes","_props$renderRoots","renderRoots","_props$renderHoles","renderHoles","role","num","den","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","domainPts","defineProperty","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","filter","domains","dp","keys","sort","v1","v2","val","def","paths","dom","toConsumableArray","ha","vas","Shapes_Point","AnswerBlank","margin","minWidth","minHeight","renderJson_RenderJson","json","label","parseBorder","border","renderHeaderElement","text","parts","result","isBlank","blankSize","nextChar","size","parseHeader","display","QuestionLayout","content","_ref$layout","layout","_ref$direction","direction","newDirection","row","column","area","renderJson","isMultipleChoice","options","answer","choices","Question","_props$options","_props$content","instructions","question","diagram","multipleChoice","listDirection","freeResponse","prompt","Question_QuestionLayout","defaultOptions","renderMath","renderMarkdown","markdown","superscript","subscript","smartarrows","mathDelimiters","left","right","inline","MathAndMarkdown","data","katexOptions","delimiters","errorCallback","console","error","delimiter","splitAtDelimiters","splitWithDelimiters","Text_InlineMarkdown","Text_KatexMath","displayMode","KatexMath","html","katex","renderToString","dangerouslySetInnerHTML","__html","ParseError","raw","InlineMarkdown","_ref3","md","MarkdownIt","use","mdsub","mdsup","mdsmartarrows","renderInline","Text","RenderMethod","fontFamily","opts","defaultsDeep","_ref4","Children","renderTypes","AnswerBlanks","items","dat","AnswerSpace_AnswerBlank","AnswerKey","correctIndex","correct","EmptySpace","PageHeader","rows","_row","NumberedQuestion","Question_Question","Plain","RenderError","JSON","stringify","VegaLite","react_vega_lite_min_default","spec","AnswerChoices","Container","_props$direction","_props$border","alignItems","divstyle","justifyItems","flexDirection","flexWrap","List","Table","toArray","headIndex","header","tableprops","borderCollapse","align","alignment","colStyles","blocks","block","j","char","colStyle","textAlign","borderLeft","borderRight","parseAlignment","k","cssvar","slice","TRow","_props$header","rowprops","borderBottom","borderTop","elemstyle","parseJson","_json","constructor","_parseJson","apply","RenderType","Text_Text","toString","DefaultEditor","updateAndClose","onUpdateElement","stateToJson","onRequestClose","deleteAndClose","onDeleteElement","revertChanges","gridTemplateColumns","onClick","justifySelf","renderEditor","renderPreview","EditPageHeader","headingAddRow","headingRemoveRow","lr","newrow","_this2","inputStyle","borderStyle","padding","onChange","evt","headingUpdate","target","checkMC","newState","toggleMC","checked","updateInstructions","updateVersionDefault","updateInstructionsMC","updateVersionMC","updateInstructionsFR","updateVersionFR","updateQuestion","updateQuestionMC","updateQuestionFR","parsed","fieldname","isMC","overrides","updaters","default","mc","fr","cols","renderMCToggle","renderInstructionsOrQuestionInputs","EditQuestion","updateChild","el","renderChildEditor","connect","dispatch","idstr","_idstr$split","_idstr$split2","updateElement","_idstr$split3","_idstr$split4","deleteElement","DefaultEditor_DefaultEditor","RenderJson","TopLevelElement","openEditor","modal","closeModal","divprops","canEdit","onDoubleClick","columns","elemprops","singleColumn","lib_default","isOpen","editJson","config","allowEditing","portrait","A3","A4","A5","letter","legal","landscape","MeasuredPage","innerH","inner","clientHeight","outerH","outer","overflows","oldstate","newstate","onOverflow","forceUpdate","addPageBreakBefore","contentIDs","pageOrientation","pageSize","_this$getPageSize","getPageSize","pageMargin","pageNumber","headers","outerclassname","outerstyle","getOuterStyle","innerstyle","getInnerStyle","headerID","getHeaderID","Document_TopLevelElement","contentID","document","footers","Page","orientation","order","Document_Page","pagebreaks","showAnswerKey","hidden","numberHidden","debugView","len","visibleIDs","prev","slices","pages","ids","Document_MeasuredPage","Document_AnswerKey","addFontFamily","font","AddLocalFont","addFont","fontName","input","family","spellCheck","buttonLabel","FontFamilyUI","setFontFamilyUI","fontFamilyUI","inputtype","setDocumentFontFamily","body","setProperty","updateGraphStyle","FontFamilyInput","setFontFamily","DefaultFonts","BrowserFonts","fontSort","aName","toUpperCase","bName","FontFamilySelect","fontList","localFonts","setFromPrompt","customFamily","window","optionLabel","disabled","renderFontOption","Font_FontFamilyInput","Font_FontFamilySelect","FontSizeSelect","setDocFontSize","setDocumentFontSize","renderSizeOptions","googleFonts","fontStyles","BioRhyme","Merriweather","FontLoader","updateInput","updateSelection","selection","loadFont","request","WebFont","load","google","families","fontactive","fontinactive","loadAll","toAdd","loadInputFont","loadSelectedFont","currentFamilies","includes","renderInput","renderSelect","MathFontSettings","onChangeSize","setSize","onChangeWeight","setWeight","setMathFontSize","weight","setMathFontWeight","currentSize","bold","currentWeight","mathFontSize","mathFontWeight","tabsize","onKeyDown","keyCode","start","selectionStart","end","selectionEnd","substring","preventDefault","TextPreview","updatePreview","outputStyle","output","defaultValue","renderType","parse","wrapperElement","FontSettings","Font_FontFamilyUI","Font_FontFamily","Font_FontLoader","Font_MathFontSettings","--doc-font-size","Font_TextPreview","latexfmt","String","replace","examples","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_templateObject10","_templateObject11","_templateObject12","_templateObject13","_templateObject14","_templateObject15","_templateObject16","RenderExample","LatexExamples_RenderExample","round","n","floor","calcParametric","pt","parseFunction","func","math","compile","scope","eval","GraphMaker","updateMode","mode","updateStandard","standard","updateInverse","updateParametricX","parametricX","updateParametricY","parametricY","updateX0","x0","updateX1","updateY0","y0","updateY1","updateT0","t0","updateT1","t1","updateStep","updateHeight","updateAutoDomain","autoDomain","updateAutoSize","autoSize","onSubmit","getData","title","min","getDomain","ymap","xmap","xpmap","ypmap","graphSize","autogrid","getFunction","GraphMakerHeading","renderMode","renderInputs","renderDomainInput","renderGridInputs","renderHeightInput","jsonExample","CustomQuestion","openExamples","openGraphMaker","updateDiagram","updateAnswer","updateJSON","updateInputType","inputType","addQuestion","getDataFromState","setJsonExample","previewStyle","gridTemplateAreas","gridArea","backgroundColor","CustomQuestion_LatexExamples","CustomQuestion_GraphMaker","q","thing","Notes","fontWeight","marginRight","CheckStateButton","logState","log","setCss","GraphStyle","setValue","cssName","kebabCase","propertyName","Color","Width","Opacity","mapDispatchToProps","createComponent","base","StyleSettingComponent","_base","inherits","graph","Function1Color","Function2Color","FunctionWidth","GeomColor","GeomWidth","AsymptoteColor","AsymptoteWidth","AxisColor","AxisWidth","GridColor","GridWidth","FillOpacity","SwapButton","_this3","doSwap","_this3$props$updateGr","cssName1","current2","cssName2","current1","propertyName1","propertyName2","FunctionColorSwap","function1Color","function2Color","updates","PreviewXYPlot","vasymptotes","g","fpoints","gpoints","fpt","gpt","PreviewGeom","GraphSettings","changeStyle","resetToDefaults","resetGraphStyle","GraphPreview_PreviewGeom","GraphPreview_PreviewXYPlot","colSpan","Settings","renderStyleSettings","GUImode","update","darkMode","setAttribute","removeAttribute","defaultChecked","SettingsPage","showFontSettings","showing","showGraphSettings","Font","Graph","renderSettings","AllowEditing","toggle","setAllowEditing","AnswerKeyToggle","setShowAnswerKey","bool","FixPagination","reset","clearPageBreaks","setHiddenCount","total","setTimeout","check","MarginOptions","SetPageMargin","updateFromSelection","m","setPageMargin","PreviewZoom","updateState","zoom","zoomIn","zoomOut","setZoom","z","renderButtons","StartNumbering","setNumbering","startat","setCSSVariable","setDocumentStartNumbering","startNumbering","stop","inclusive","mathjsrange","_data","gcd","listFactors","_ref$include","include1","_ref$includeN","includeN","Randomizer","seed","engine","Random","engines","mt19937","createClass","autoSeed","integer","real","array","first","shuffled","shuffle","pick","pop","sample","randint","splice","randomSeedGenerator","QGen","randomSeed","random","randomizer","out","generate","_getParams","_specialCaseKeys","_specialCaseValues","getOptions","info","randomPolynomialCoefficients","degree","_ref$maxCoefficient","maxCoefficient","_ref$terms","terms","rd","whichterms","choice","SolveQuadratic","_QGen","_rd$sample","_rd$sample2","r1","r2","poly","Polynomial","2","1","0","rand","add","toLatex","description","FactorQuadraticHard","_QGen2","a1","a2","b1","b2","p1","p2","RationalGraph","_QGen3","makeFunction","top","bottom","generateValues","vals","allHolesInRange","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","isGood","_generateValues","fmtAns","numer","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","simplify","denom","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","wrongs","IncreasingIntervals","_QGen4","pts","toFind","xs","which","yRange","ys","maxConstantIntervals","possible","reverse","intervals","wrongAnswer1","wrongAnswer2","wrongAnswer3","wrongAnswer4","inc","dec","interpolatePath","fullName","int","answerIndex","angle1","rotateBy","intersect1","pp","cos","PI","sin","top1","bottom1","difference","intersect2","top2","bottom2","degrees","coords","RationalZeroTheorem","_QGen6","primes","leading_coeff","trailing_coeff","num_coeffs","correctNumerators","correctDenominators","allPossibleZeros","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","numCorrect","correctAnswers","_","wrongAnswers","_ref5","allChoices","poprandom","fraction","GraphLinearInequalities","_QGen7","_rd$sampleRange","sampleRange","_rd$sampleRange2","rotation","_ref6","_ref7","_rd$shuffle","_rd$shuffle2","line1","ineq","xInt","yInt","line2","latexeqn","lines","clips","_loop","_i4","test","subdivide","depth","searchDepth","hd","createTree","contourPresent","RationalPlot","numRoots","numAsymptotes","values","PolynomialPlot","coeffs","tex","PlotStyling","path1","path2","path3","path4","FontTest","Ix","Iy","Jx","Jy","FontDisplay","_QGen5","chars","QuadTreePlotTest","f1","f2","_QGen8","function","mark","interpolate","encoding","field","$schema","signals","bind","scales","nice","zero","axes","titleFont","marks","from","facet","groupby","encode","enter","stroke","strokeWidth","signal","fillOpacity","hover","TransformTracker","parent","mul","translateX","translateY","scaleX","scaleY","cubic","exp2","log2","quad","sqrt","valueOf","setField","div","kStr","aStr","MatchTransformations","parents","eqns","shiftV","shiftH","stretchV","stretchH","compressH","eqn","eqnScramble","shuffleRange","graphScramble","makebox","indexOf","scramble","digitmap","slotmap","PicoFermiInstructions","PicoFermi","template","Templates","clues","puzzle","blank","gap","PicoFermiSet","versions","answers","Easy01","2637","0018","0123","1034","3352","Easy02","5704","5607","5109","6972","Easy03","1670","4567","1245","1376","Easy04","4312","6543","4129","4230","Easy05","0660","0386","2030","Easy06","3773","2790","7243","8467","Easy07","5809","3899","5593","Hard01","9120","7573","2450","5320","8685","Hard02","3210","5409","4608","1064","Hard03","4989","2954","9724","6139","NoFour","4563","4615","4652","NoEight","4786","8547","0843","9289","8965","AllPicos","2486","7867","4573","5608","9310","VeryHard","9372","1047","0235","3627","4753","questionBank","examplequestions","transformations","App_i","App_arr","set","register","demogenerators","picofermi","App_i2","App_arr2","ReactModal","setAppElement","defaultStyles","borderRadius","borderColor","background","overlay","AppWrapper","addToDoc","generateAndAdd","questionType","questionTypeSelect","qtype","questionTypes","openRpcTest","openCustomQuestion","openSettings","A","B","toplabel","components_Wrapper","components_TopBar","print","Settings_AnswerKeyToggle","Settings_StartNumbering","FontSize","PageMargin","Settings_PreviewZoom","Settings_AllowEditing","Settings_FixPagination","containers_Document_Document","components_SideBar","renderQuestionList","removeLast","clearAll","Settings_GUImode","CheckState","statusBar","components_StatusBar","containers_CustomQuestion","containers_Notes","Root","store","es","containers_App","initialState","action","asymptoteColor","asymptoteWidth","axisColor","axisWidth","gridColor","gridWidth","functionWidth","geomColor","geomWidth","rootReducer","combineReducers","createStore","App","Root_Root","Boolean","location","hostname","match","ReactDOM","render","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.55dd8306.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Layout\":\"styles_Layout__2DVPj\",\"SettingTable\":\"styles_SettingTable__37d46\",\"StyleSetting\":\"styles_StyleSetting__3Xjp4\",\"Preview\":\"styles_Preview__x9yKo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"styles_Wrapper__QmsU2\",\"Wrapper-TitleBar-StatusBar\":\"styles_Wrapper-TitleBar-StatusBar__dCCA9\",\"Wrapper-TopBar\":\"styles_Wrapper-TopBar__bDS_q\",\"Wrapper-TopBar-StatusBar\":\"styles_Wrapper-TopBar-StatusBar__3am6d\",\"SideBar\":\"styles_SideBar__11KBm\",\"StatusBar\":\"styles_StatusBar__3LGjN\",\"TitleBar\":\"styles_TitleBar__315t0\",\"TopBar\":\"styles_TopBar__I1VNN\",\"PreviewOuter\":\"styles_PreviewOuter__aClrK\",\"PreviewInner\":\"styles_PreviewInner__2lsw-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GraphMakerBody\":\"styles_GraphMakerBody__11R3v\",\"GraphMakerInput\":\"styles_GraphMakerInput__3qT0d\",\"GraphMakerPreview\":\"styles_GraphMakerPreview__2opkG\",\"LatexExamples\":\"styles_LatexExamples__1VuMU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SettingPage\":\"styles_SettingPage__2u-qK\",\"Title\":\"styles_Title__3GTDx\",\"SettingSection\":\"styles_SettingSection__2TB1w\",\"LeftBar\":\"styles_LeftBar__3l1eD\",\"NavArea\":\"styles_NavArea__1p8EW\",\"NavButton\":\"styles_NavButton__2-ksX\",\"active\":\"styles_active__3Py5l\"};","import React from 'react'\nimport styles from './styles.module.css'\n\nclass Previewer extends React.Component {\n  render() {\n    \n\n    return (\n      <div className={styles.PreviewOuter}>\n        <div className={styles.PreviewInner}>\n          {this.props.children}\n        </div>\n      </div>\n    )\n\n  }\n}\n\nexport default Previewer","import React from 'react'\nimport styles from './styles.module.css'\n\nclass SideBar extends React.Component {\n  render() {\n    return (\n      <div className={styles.SideBar}>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport default SideBar","import React from 'react'\nimport styles from './styles.module.css'\n\nconst StatusBar = (props) => {\n  return (\n    <div className={styles.StatusBar}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default StatusBar","import React from 'react'\nimport styles from './styles.module.css'\n\nconst TopBar = (props) => {\n  return (\n    <div className={styles.TopBar}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default TopBar","import React from 'react'\nimport styles from './styles.module.css'\n\nclass Wrapper extends React.Component {\n  \n  render() {\n    let classNames = [styles.Wrapper, styles['Wrapper-TopBar']]\n\n    return (\n      <div className={classNames.join(' ')}>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport default Wrapper","export const ADD_TO_DOCUMENT = 'ADD_TO_DOCUMENT'\nexport const CLEAR_ALL = 'CLEAR_ALL'\nexport const REMOVE_LAST = 'REMOVE_LAST'\nexport const UPDATE_ELEMENT = 'UPDATE_ELEMENT'\nexport const UPDATE_HEADER = 'UPDATE_HEADER'\nexport const DELETE_ELEMENT = 'DELETE_ELEMENT'\nexport const DELETE_HEADER = 'DELETE_HEADER'\nexport const SET_DOCUMENT_STARTNUMBERING = 'SET_DOCUMENT_STARTNUMBERING'\nexport const ADD_PAGEBREAK_BEFORE = 'ADD_PAGEBREAK_BEFORE' // need to come up with a better way to do this\nexport const CLEAR_PAGEBREAKS = 'CLEAR_PAGEBREAKS'\n\nlet elemID = 0\n\n// Document content\n\nexport const addToDocument = (elem) => ({\n  type: ADD_TO_DOCUMENT,\n  payload: {element: elem, id: ++elemID}\n})\n\nexport const clearAll = () => ({\n  type: CLEAR_ALL\n})\n\nexport const removeLast = () => ({\n  type: REMOVE_LAST,\n})\n\nexport const updateElement = (idstr, data) => {\n  const [type, id] = idstr.split('.')\n  if (type === 'header') {\n    return { type: UPDATE_HEADER, payload: {id: +id, data} }\n  }\n  if (type === 'content') {\n    return { type: UPDATE_ELEMENT, payload: {id: +id, data} }\n  }\n}\n\nexport const deleteElement = (idstr) => {\n  const [type, id] = idstr.split('.')\n  if (type === 'header') {\n    return { type: DELETE_HEADER, payload: +id }\n  }\n  if (type === 'content') {\n    return { type: DELETE_ELEMENT, payload: +id }\n  }\n}\n\nexport const deleteHeader = (id) => ({\n  type: DELETE_HEADER,\n  payload: +id,\n})\n\n// Document settings\n\n\nexport const setDocumentStartNumbering = (n) => ({\n  type: SET_DOCUMENT_STARTNUMBERING,\n  payload: n\n})\n\n\n\n// Document view\n\nexport const addPageBreakBefore = (id) => ({\n  type: ADD_PAGEBREAK_BEFORE,\n  payload: id\n})\n\nexport const clearPageBreaks = () => ({\n  type: CLEAR_PAGEBREAKS\n})\n\n\n","import React from 'react'\n\n//const axisArrow = \"M 0,0 Q -4,4 -4,12 Q 0,4 6,0 Q 0,-4 -4,-12 Q -4,-4 0,0\"\n//const axisArrow = \"M 0,0 Q -2,-6 -1,-12 Q 2,-3 6,0 Q 2,3 -1,12 Q -2,6 0,0\"\n\n\nexport const MarkerSymbols = props => {\n  return (\n    <defs>\n      <symbol id=\"svgplot-symbol-point\" viewBox=\"-12 -12 24 24\" refX=\"0\" refY=\"0\">\n        <circle cx=\"0\" cy=\"0\" r=\"3\"/>\n      </symbol>\n      <symbol id=\"svgplot-symbol-hole\" viewBox=\"-12 -12 24 24\" refX=\"0\" refY=\"0\">\n        <circle cx=\"0\" cy=\"0\" r=\"4.5\"/>\n        <circle cx=\"0\" cy=\"0\" r=\"2.5\"className=\"svgplot-marker-hole\"/>\n      </symbol>\n      <symbol id=\"svgplot-symbol-arrow\" viewBox=\"-12 -12 24 24\" refX=\"0\" refY=\"0\">\n        <path d=\"M -2,0 L -4,-5 L 5,0 L -4,5 z\"/>\n      </symbol>\n      <symbol id=\"svgplot-symbol-axisarrow\" viewBox=\"-12 -12 24 24\" refX=\"0\" refY=\"0\">\n        <polygon points=\"0,1 4,1 4,-1 0,-1\"/>\n        <polygon points=\"0,0 0,2 10,2 10,0\" transform=\"translate(5,0) rotate(120)\"/>\n        <polygon points=\"0,0 0,2 10,2 10,0\" transform=\"scale(1,-1) translate(5,0) rotate(120)\"/>\n      </symbol>\n    </defs>\n  )\n}\n\n\nconst MarkerDefs = ({stylename, markerW, markerH}) => {\n\n  return (\n    <>\n      <marker id={`${stylename}-marker-arrowfwd`} viewBox=\"-6 -6 12 12\" refX=\"0\" refY=\"0\"\n        markerWidth={markerW} markerHeight={markerH}\n        markerUnits=\"strokeWidth\"\n        orient=\"auto\">\n        <use xlinkHref='#svgplot-symbol-arrow' \n          x='-6' y='-6' height='12' width='12' \n          className='svgplot-marker'/>\n      </marker>\n      <marker id={`${stylename}-marker-arrowrev`} viewBox=\"-6 -6 12 12\" refX=\"0\" refY=\"0\"\n        markerWidth={markerW} markerHeight={markerH}\n        markerUnits=\"strokeWidth\"\n        orient=\"auto\">\n        <use xlinkHref='#svgplot-symbol-arrow' \n          x='-6' y='-6' height='12' width='12' \n          transform='scale(-1,1)'\n          className='svgplot-marker'/>\n      </marker>\n      <marker id={`${stylename}-marker-axisarrow`} viewBox=\"-6 -6 12 12\" refX=\"0\" refY=\"0\"\n        markerWidth={markerW} markerHeight={markerH}\n        markerUnits=\"strokeWidth\"\n        orient=\"auto-start-reverse\">\n        <use xlinkHref='#svgplot-symbol-axisarrow' \n          x='-6' y='-6' height='12' width='12'\n          className='svgplot-marker'/>\n      </marker>\n      <marker id={`${stylename}-marker-point`} viewBox=\"-6 -6 12 12\" refX=\"0\" refY=\"0\"\n        markerWidth={markerW} markerHeight={markerH}\n        markerUnits=\"strokeWidth\"\n        orient=\"auto\">\n        <use xlinkHref='#svgplot-symbol-point' \n          x='-6' y='-6' height='12' width='12' \n          className='svgplot-marker'/>\n      </marker>\n      <marker id={`${stylename}-marker-hole`} viewBox=\"-5 -5 10 10\" refX=\"0\" refY=\"0\"\n        markerWidth={markerW} markerHeight={markerH}\n        markerUnits=\"strokeWidth\"\n        orient=\"auto\">\n        <use xlinkHref='#svgplot-symbol-hole' \n          x='-5' y='-5' height='10' width='10' \n          className='svgplot-marker'/>\n      </marker>\n    </>\n  )\n}\n\n\n\nconst FillPatternDefs = ({stylename, width, height}) => {\n  return (\n    <>\n      <pattern id={`${stylename}-fillpattern-dots1`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternUnits='userSpaceOnUse'>\n        <circle cx='3' cy='3' r='3' className='svgplot-fillpattern'/>\n        <circle cx='9' cy='9' r='3' className='svgplot-fillpattern'/>\n      </pattern>\n      <pattern id={`${stylename}-fillpattern-dots2`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternUnits='userSpaceOnUse'>\n        <circle cx='3' cy='9' r='3' className='svgplot-fillpattern'/>\n        <circle cx='9' cy='3' r='3' className='svgplot-fillpattern'/>\n      </pattern>\n      <pattern id={`${stylename}-fillpattern-diagonal1`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternUnits='userSpaceOnUse'>\n        <polygon points='0,0 6,0 12,6 12,12' className='svgplot-fillpattern' />\n        <polygon points='0,6 0,12 6,12' className='svgplot-fillpattern' />\n      </pattern>\n      <pattern id={`${stylename}-fillpattern-diagonal2`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternTransform='scale(-1,-1)'\n        patternUnits='userSpaceOnUse'>\n        <polygon points='0,0 6,0 12,6 12,12' className='svgplot-fillpattern'/>\n        <polygon points='0,6 0,12 6,12' className='svgplot-fillpattern'/>\n      </pattern>\n      <pattern id={`${stylename}-fillpattern-zigzag1`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternTransform='scale(-1,-1)'\n        patternUnits='userSpaceOnUse'>\n        <polygon points='0,0 0,6 3,12 6,12' className='svgplot-fillpattern'/>\n        <polygon points='12,0 12,6 9,12 6,12' className='svgplot-fillpattern'/>\n        <polygon points='3,0 6,6 9,0' className='svgplot-fillpattern'/>\n      </pattern>\n      <pattern id={`${stylename}-fillpattern-zigzag2`} \n        viewBox='0 0 12 12' \n        width={width} height={height} \n        patternTransform='scale(-1,-1)'\n        patternUnits='userSpaceOnUse'>\n        <polygon points='0,6 0,12 3,12' className='svgplot-fillpattern'/>\n        <polygon points='12,6 12,12 9,12' className='svgplot-fillpattern'/>\n        <polygon points='0,0 6,12 12,0 9,0 6,6 3,0' className='svgplot-fillpattern'/>\n      </pattern>\n    </>\n  )\n}\n\nclass StyleDefs extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {}\n    this.ref = React.createRef()\n  }\n\n  checkSize() {\n    const CTM = this.ref.current.getScreenCTM()\n    this.setState({CTM})\n  }\n\n  componentDidMount() {\n    this.checkSize()\n  }\n\n  render() {\n    const { stylename } = this.props\n\n    let w = 12, h = 12\n\n    if (this.state.CTM) {\n      const {a, b, c, d} = this.state.CTM\n      const s = Math.max(Math.abs(a)+Math.abs(c),Math.abs(b)+Math.abs(d))\n      w /= s\n      h /= s\n    }\n\n    return (\n      <defs ref={this.ref}>\n        <MarkerDefs stylename={stylename} markerW={w} markerH={h}/>\n        <FillPatternDefs stylename={stylename} width={w/4} height={h/4}/>\n      </defs>\n    )\n  }\n}\n\n\n\nlet styleCount = 0\n\nconst Style = props => {\n  const { name='svgplot-unnamed-style', color } = props\n  const uniquename = `styleID-${++styleCount}`\n  const style = {}\n  for (const shape of ['arrowfwd', 'arrowrev', 'axisarrow', 'point', 'hole']) {\n    style[`--svgplot-marker-${shape}`] = `url(#${uniquename}-marker-${shape})`\n  }\n\n  for (const pattern of ['dots1', 'dots2', 'diagonal1', 'diagonal2', 'zigzag1', 'zigzag2']) {\n    style[`--svgplot-fillpattern-${pattern}`] = `url(#${uniquename}-fillpattern-${pattern})`\n  }\n\n  if (color) {\n    style['--svgplot-color'] = color\n  }\n\n  return (\n    <g className={name} style={style}>\n      <StyleDefs stylename={uniquename}/>\n      {props.children}\n    </g>\n  )\n}\n\nexport default Style","import React from 'react'\nimport { MarkerSymbols } from './Style'\n\n\nconst Canvas = props => {\n  const {cartesian=true, x1, x2, y1, y2, width, height} = props\n  const svgprops = {width, height}\n  if (cartesian && cartesian !== \"false\") {\n    svgprops.transform = 'scale(1,-1)'\n    svgprops.viewBox = `${x1} ${y1} ${x2-x1} ${y2-y1}`\n  } else {\n    svgprops.viewBox = `${x1} ${y1} ${x2-x1} ${y2-y1}`\n  }\n  return (\n    <svg className='svgplot-canvas' {...svgprops} >\n      <MarkerSymbols />\n      {props.children}\n    </svg>\n  )\n}\n\nexport default Canvas","import React from 'react'\n\nconst Grid = (props) => {\n  const {x1, y1, x2, y2, xStep=1, yStep=1} = props\n\n  const xvals = [], yvals = []\n  if (xStep) {\n    let t = x1\n    while (t <= x2) {\n      xvals.push(t)\n      t += xStep\n    }\n  }\n  if (yStep) {\n    let t = y1\n    while (t <= y2) {\n      yvals.push(t)\n      t += yStep\n    }\n  }\n\n  return (\n    <>\n      {xvals.map(v => (\n        <line key={`x-${v}`}\n          x1={v} x2={v} y1={y1} y2={y2} \n          vectorEffect='non-scaling-stroke'/>\n      ))}\n      {yvals.map(v => (\n        <line key={`y-${v}`}\n          y1={v} y2={v} x1={x1} x2={x2} \n          vectorEffect='non-scaling-stroke'/>\n      ))}\n    </>\n  )\n}\n\nexport default Grid","import React from 'react'\n\nexport default class Label extends React.Component {\n  constructor(props) {\n    super(props)\n    this.ref = React.createRef()\n    this.state = {}\n  }\n\n  componentDidMount() {\n    const CTM = this.ref.current.getScreenCTM()\n    //const BBox = this.ref.current.getBBox()\n    this.setState({CTM})\n  }\n\n  render() {\n    let {x, y, fontSize=\"1.3em\"} = this.props\n    let w = 100, h = 100\n    let transform\n    if (this.state.CTM) {\n      const ctm = this.state.CTM\n      const inv = ctm.inverse()\n      x = ctm.a*x + ctm.c*y + ctm.e\n      y = ctm.b*x + ctm.d*y + ctm.f\n      const {a, b, c, d, e, f} = inv\n      w /= Math.abs(a)\n      h /= Math.abs(d)\n      transform = `matrix(${[a,b,c,d,e,f].join(',')})`\n    }\n    const foprops = {x, y, width: w + '%', height: h + '%', position: 'relative', overflow: 'visible'}\n    return (\n      <g transform={transform}>\n        <foreignObject {...foprops} ref={this.ref}>\n          <div style={{\n            position: 'absolute',\n            overflow: 'visible',\n            fontSize\n          }}>\n            {this.props.children}\n          </div>\n        </foreignObject>\n      </g>\n    )\n  }\n}","import React from 'react'\n\n\nexport const Circle = props => {\n  return <circle {...props} vectorEffect=\"non-scaling-stroke\" />\n}\n\nexport const Ellipse = props => {\n  return <ellipse {...props} vectorEffect=\"non-scaling-stroke\" />\n}\n\nexport const Rect = props => {\n  return <rect vectorEffect=\"non-scaling-stroke\" {...updatePropsWithMarkers(props)}/>\n}\n\nconst markerProps = s => {\n  const positions = ['Start', 'Mid', 'End']\n  const markers = {}\n  if (s && s.length === 3) {\n    for (let i=0; i<3; i++) {\n      const c = s[i]\n      if (c === '>') markers[`marker${positions[i]}`] = 'arrowfwd'\n      else if (c === '<') markers[`marker${positions[i]}`]  = 'arrowrev'\n      else if (c === '.') markers[`marker${positions[i]}`]  = 'point'\n      else if (c === 'o') markers[`marker${positions[i]}`]  = 'hole'\n    }\n  }\n  return markers\n}\n\n\nfunction updatePropsWithMarkers(props) {\n  if (props.markers) {\n    return {...props, ...markerProps(props.markers)}\n  }\n  return props\n}\n\nexport const Line = props => {\n  return <line vectorEffect=\"non-scaling-stroke\" {...updatePropsWithMarkers(props)}/>\n}\n\nexport const Polygon = props => {\n  return <polygon vectorEffect=\"non-scaling-stroke\" {...updatePropsWithMarkers(props)}/>\n}\n\nexport const Polyline = props => {\n  return <polyline vectorEffect=\"non-scaling-stroke\" {...updatePropsWithMarkers(props)}/>\n}\n\nexport const Path = props => {\n  return (\n    <path vectorEffect=\"non-scaling-stroke\" {...updatePropsWithMarkers(props)}/>\n  )\n}\n\nexport const Point = props => {\n  const {x, y, marker=\".\"} = props\n  const pathprops = {d: `M${x},${y}Z`}\n  if (marker) {\n    pathprops.markers = `--${marker}`\n  }\n  return <Path {...pathprops} />\n}","import React from 'react'\n\nconst translate = params => {\n  let x, y\n  if (Array.isArray(params)) {\n    [x=0, y=0] = params\n  } else {\n    ({x=0, y=0} = params)\n  }\n  return `translate(${x},${y})`\n}\n\nconst scale = params => {\n  let x, y\n  if (Array.isArray(params)) {\n    [x=1, y=1] = params\n  } else {\n    ({x=1, y=1} = params)\n  }\n  return `scale(${x},${y})`\n}\n\nconst matrix = params => {\n  let a, b, c, d, e, f\n  if (Array.isArray(params)) {\n    [a=1, b=0, c=0, d=1, e=0, f=0] = params\n  } else {\n    ({a=1, b=0, c=0, d=1, e=0, f=0} = params)\n  }\n  return `matrix(${a},${b},${c},${d},${e},${f})`\n}\n\nconst rotate = params => {\n  let a, x, y\n  if (Array.isArray(params)) {\n    [a, x, y] = params\n  } else {\n    ({a, x, y} = params)\n  }\n  if (x !== undefined && y !== undefined) {\n    return `rotate(${a},${x},$${y})`\n  }\n  return `rotate(${a})`\n}\n\nconst makeTransform = props => {\n  const {type, params} = props\n  switch(type) {\n    case 'matrix': return matrix(params)\n    case 'rotate': return rotate(params)\n    case 'scale': return scale(params)\n    case 'translate': return translate(params)\n    case 'invertXY': return matrix([0,1,1,0])\n    default: return 'none'\n  }\n}\n\n\nconst Transform = props => {\n  const { type, list, children, ...params } = props\n\n  const layerprops = {}\n\n  if (list) {\n    const transforms = []\n    for (const t of list) {\n      const [ty, pa={}] = typeof t === 'string' ? [t] : t\n      const str = makeTransform({type: ty, params: pa})\n      if (str !== 'none') {\n        transforms.push(str)\n      }\n    }\n    if (transforms.length > 0) {\n      layerprops.transform = transforms.join(' ')\n    }\n  } else {\n    const str = makeTransform({type, params})\n    if (str && str !== 'none') {\n      layerprops.transform = str\n    }\n  }\n\n  return (\n    <g {...layerprops}>\n      {props.children}\n    </g>\n  ) \n}\n\nexport default Transform","import React from 'react'\nimport { Path } from '.'\n\n\nlet clipCount = 0\n\nconst Clip = props => {\n  const {shape, id=`vg-clip-path-${++clipCount}`, children, ...shapeprops} = props\n  let Elem\n  if (shape === 'Path') {\n    Elem = Path\n  }\n  else if (shape === 'Rect') {\n    Elem = 'rect'\n  }\n\n  if (Elem) {\n    return (\n      <>\n        <clipPath id={id}>\n          {React.createElement(Elem, shapeprops)}\n        </clipPath>\n        <g clipPath={`url(#${id})`}>\n          {props.children}\n        </g>\n      </>\n    )\n  }\n  return props.children\n}\n\nexport default Clip","import React from 'react'\nimport { Clip, Style, Grid, Path } from '.'\nimport { MarkerSymbols } from './react-svgplot/Style'\n\nfunction parseSpan(span) {\n  if (Array.isArray(span)) {\n    const [x1, y1, x2, y2] = span\n    return {x1: +x1, y1: +y1, x2: +x2, y2: +y2}\n  }\n  if (typeof span === 'string') {\n    const s1 = span.split(' ')\n    if (s1.length === 1) {\n      const [x1, y1, x2, y2] = s1[0].split(',')\n      return {x1: +x1, y1: +y1, x2: +x2, y2: +y2}\n    }\n    if (s1.length === 2) {\n      const [x1, y1] = s1[0].split(',')\n      const [x2, y2] = s1[1].split(',')\n      return {x1: +x1, y1: +y1, x2: +x2, y2: +y2}\n    } else if (s1.length === 4) {\n      const [x1, y1, x2, y2] = s1\n      return {x1: +x1, y1: +y1, x2: +x2, y2: +y2}\n    }\n  }\n  return null\n}\n\nexport default class CoordinatePlane extends React.Component {\n  static defaultProps = {\n    style: 'primary function',\n    clip: true,\n  }\n\n  constructor(props) {\n    super(props)\n    const span = parseSpan(props.span)\n    this.state = { span }\n    this.svgref = React.createRef()\n  }\n\n  checkSize() {\n    const {a, b, c, d} = this.svgref.current.getScreenCTM().inverse()\n    const xmargin = 10*Math.abs(a + c)\n    const ymargin = 10*Math.abs(d + b)\n    this.setState({xmargin, ymargin})\n  }\n\n  componentDidMount() {\n    this.checkSize()\n  }\n\n  renderClip() {\n    const {x1, y1, x2, y2} = this.state.span\n    if (this.props.clip) {\n      return (\n        <Clip shape=\"Rect\" x={x1} y={y1} width={x2-x1} height={y2-y1}>\n          {this.renderStyle()}\n        </Clip>\n      )\n    }\n    return this.renderStyle()\n  }\n\n  renderStyle() {\n    if (this.props.style && this.props.style !== 'none') {\n      return (\n        <Style name={this.props.style}>\n          {this.props.children}\n        </Style>\n      )\n    }\n    return this.props.children\n  }\n\n  render() {\n    if (!this.state.span) {\n      return null\n    }\n    \n    const {x1, y1, x2, y2} = this.state.span\n    const {height, width, grid=true, axis=true} = this.props\n    const xmargin = this.state.xmargin || 0\n    const ymargin = this.state.ymargin || 0\n\n\n    const vb = [\n      +x1 - xmargin,\n      +y1 - ymargin,\n      +x2 - x1 + 2*xmargin,\n      +y2 - y1 + 2*ymargin\n    ]\n\n    const svgprops = {\n      height, width,\n      viewBox: vb.join(' '),\n      transform: 'scale(1,-1)'\n    }\n\n    return (\n      <svg className='svgplot-canvas' {...svgprops} ref={this.svgref}>\n        <MarkerSymbols />\n        {grid ? (\n          <Grid span={[x1, y1, x2, y2]} axis={axis}/>\n         ) : axis ? (\n          <Style exactname=\"svgplot-axis\">\n            <Path points={[[0,y1], [0,y2]]} markers=\"-->\"/>\n            <Path points={[[x1,0], [x2,0]]} markers=\"-->\"/>\n          </Style>\n         ) : null}\n        {this.renderClip()}\n      </svg>\n    )\n  }\n}\n","import React from 'react'\nimport { Grid as SvgPlotGrid, Line, Style } from './react-svgplot'\n\n\nconst Grid = props => {\n  const { span, step=[1,1], axis=true } = props\n  const [x1, y1, x2, y2] = span\n  const [xStep, yStep] = step\n\n  return (\n    <>\n    <Style name=\"svgplot-grid\">\n      <SvgPlotGrid {...{x1, y1, x2, y2, xStep, yStep}} />\n    </Style>\n    {axis ? (\n      <Style name=\"svgplot-axis\">\n        <Line x1={x1} y1={0} x2={x2} y2={0} markers=\"-->\" />\n        <Line x1={0} y1={y1} x2={0} y2={y2} markers=\"-->\" />\n      </Style>\n    ) : null}\n    </>\n  )\n}\n\nexport default Grid","import React from 'react'\nimport { Path as SPPath, Polyline } from './react-svgplot'\nimport { polylineFromPoints } from './funcs'\nimport { Style } from '.'\n\n\nconst renderPath = props => {\n  const {d, points, markers, fill} = props\n  if (d) {\n    return <SPPath d={d} markers={markers} fill={fill} />\n  }\n  else if (points) {\n    return <Polyline points={polylineFromPoints(points)} markers={markers} fill={fill} />\n  }\n  return null\n}\n\nexport const Path = props => {\n  const {style} = props\n  if (style) {\n    return <Style name={style}>{renderPath(props)}</Style>\n  }\n  return renderPath(props)\n}\n\nexport default Path\n\nexport const Asymptote = props => <Path style=\"asymptote\" {...props}/>","export function makesrange(min, max, step=1, anchor=0) {\n\tif (anchor === undefined) {\n\t\tanchor = min;\n\t} else if (anchor < min) {\n\t\tanchor = min;\n\t} else if (anchor > max) {\n\t\tanchor = max;\n\t}\n\tlet r = [anchor,];\n\tlet v = anchor - step;\n\twhile (v >= min) {\n\t\t\tr.splice(0, 0, v);\n\t\t\tv -= step;\n\t}\n\tv = anchor + step;\n\twhile (v <= max) {\n\t\t\tr.push(v);\n\t\t\tv += step;\n\t}\n\treturn r;\n}\n\nexport function polylineFromPoints(points) {\n\tif (typeof points === 'string') {\n\t\treturn points\n\t}\n\tif (Array.isArray(points[0])) {\n    return points.map(p => `${p[0]},${p[1]}`).join(' ')\n  }\n  return points.map(p => `${p.x},${p.y}`).join(' ')\n}\n\nexport function pathFromPoints(points) {\n  if (Array.isArray(points[0])) {\n    return `M${points.map(p => `${p[0]},${p[1]}`).join('L')}`\n  }\n  return `M${points.map(p => `${p.x},${p.y}`).join('L')}`\n}\n\nexport function interpolatePathCubicH(points) {\n  const pts = Array.isArray(points[0]) ? points.map(p => ({x: p[0], y: p[1]})) : points\n  let d = `${pts[0].x},${pts[0].y}`\n  let prev = pts[0]\n  for (let i = 1; i < pts.length; i++) {\n    const p = pts[i]\n    const x1 = (2*prev.x + p.x) / 3\n    const x2 = (prev.x + 2*p.x) / 3\n    d += ` C ${x1},${prev.y} ${x2},${p.y} ${p.x},${p.y}`\n    prev = p\n  }\n  return d\n}","import React from 'react'\nimport { Path, Style, Point } from '.'\n\n\nconst calcPath = function(f, domain, step=0.1) {\n  let path = []\n  let x = domain[0]\n  while (x < domain[1]) {\n    path.push({x: x, y: f(x)})\n    x += step\n  }\n  path.push(({x: domain[1], y: f(domain[1])}))\n  return path\n}\n\nexport const PolynomialFunction = (props) => {\n  const { \n    coefficients, domain, step=0.2,\n    ...otherprops\n  } = props\n\n  const f = (x) => {\n    let ans = 0\n    for (const deg in coefficients) {\n      ans += coefficients[deg] * Math.pow(x,deg)\n    }\n    return ans\n  }\n\n  return <Path points={calcPath(f, domain, step)} {...otherprops}/>\n}\n\nexport const RationalFunction = (props) => {\n  const {\n    roots=[], holes=[], asymptotes=[], numerLC=1, denomLC=1, \n    domain, step=0.2, range=[-1000,1000], \n    renderAsymptotes=true, renderRoots=true, renderHoles=true,\n    role\n  } = props\n\n  const f = (x) => {\n    let num = numerLC\n    let den = denomLC\n    for (const r of roots) {\n      num *= (x - r)\n    }\n    for (const r of asymptotes) {\n      den *= (x - r)\n    }\n    return num / den\n  }\n\n  const domainPts = {\n    [+domain[0]] : true,\n    [+domain[1]] : true,\n  }\n\n  for (const r of asymptotes.filter(r => r >= domain[0] && r <= domain[1])) {\n    domainPts[+r] = false\n  }\n\n  const domains = []\n  const dp = Object.keys(domainPts).sort((a,b) => a-b)\n  for (let i = 1; i<dp.length; i++) {\n    const [v1, v2] = [dp[i-1], dp[i]]\n    domains.push([\n      {val: v1, def: domainPts[v1]},\n      {val: v2, def: domainPts[v2]}, \n    ])\n  }\n  \n  const paths = []\n  for (const d of domains) {\n    \n    const dom = [\n      d[0].def ? +d[0].val : +d[0].val + step,\n      d[1].def ? +d[1].val : +d[1].val - step,\n    ]\n    let path = calcPath(f, dom, step)\n    if (!d[0].def) {\n      let p = path[0]\n      while (p.y > range[0] && p.y < range[1]) {\n        const x = (3*d[0].val + p.x) / 4\n        p = {x, y: f(x)}\n        path = [p, ...path]\n      }\n    }\n    if (!d[1].def) {\n      let p = path[path.length-1]\n      while (p.y > range[0] && p.y < range[1]) {\n        const x = (3*d[1].val + p.x) / 4\n        p = {x, y: f(x)}\n        path.push(p)\n      }\n    }\n    paths.push(path)\n  }\n\n  const vas = asymptotes.map(x => [{x: x, y: range[0]}, {x: x, y: range[1]}])\n  let ha\n  if (asymptotes.length > roots.length) {\n    ha = [{x: domain[0], y: 0}, {x: domain[1], y: 0}]\n  } else if (asymptotes.length === roots.length) {\n    ha = [{x: domain[0], y: numerLC/denomLC}, {x: domain[1], y: numerLC/denomLC}]\n  }\n\n\n  return (\n    <>\n      {renderAsymptotes ? (\n        <Style name='asymptote'>\n          {ha ? <Path key='hasym' points={ha} /> : null}\n          {vas.map(p => <Path key={`asym${p[0].x}`} points={p} />)}\n        </Style>\n      ) : null}\n      {paths.map(p => <Path key={`path${p[0].x}`} points={p} role={role} />)}\n      {renderRoots ? roots.map(x => <Point key={`root${x}`} x={x} y={f(x)} />): null}\n      {renderHoles ? holes.map(x => <Point key={`hole${x}`} x={x} y={f(x)} marker=\"o\"/>) : null}\n    </>\n  )\n}\n","import React from 'react'\nimport { Style as SPStyle } from './react-svgplot'\n\nconst Style = props => {\n  const {name, exactname, color} = props\n\n  let stylenames = []\n  if (name) {\n    stylenames = stylenames.concat(name.split(' ').map(s => `vg-style-${s}`))\n  }\n  if (exactname) {\n    stylenames = stylenames.concat(exactname.split(' '))\n  }\n\n  const styleprops = {}\n  if (color) styleprops.color = color\n  if (stylenames.length) styleprops.name = stylenames.join(' ')\n\n  return (\n    <SPStyle {...styleprops}>\n      {props.children}\n    </SPStyle>\n  )\n}\n\nexport default Style","import {\n  Canvas,\n  Circle, \n  Label, \n  Transform,\n  Polyline,\n  Point,\n} from './react-svgplot'\n\nimport Clip from './Clip'\nimport CoordinatePlane from './CoordinatePlane'\nimport Grid from './Grid'\nimport Path, { Asymptote } from './Path'\nimport { PolynomialFunction, RationalFunction } from './Functions'\nimport Style from './Style'\n\nimport './vgstyles.global.css'\n\nexport {\n  Asymptote,\n  Clip,\n  CoordinatePlane,\n  Grid,\n  Label,\n  Path,\n  Point,\n  Style,\n}\n\nconst VectorGraphics = {\n  Asymptote,\n  Canvas,\n  Circle,\n  Clip,\n  CoordinatePlane,\n  Grid,\n  Label,\n  Path,\n  Point,\n  Polyline,\n  PolynomialFunction,\n  RationalFunction,\n  Style,\n  Transform,\n}\n\nexport default VectorGraphics","import React from 'react'\nimport { RenderJson } from '..'\n\nexport const AnswerChoices = props => {\n\n  const classNames = ['answerchoice-list']\n  if (props.listDirection && props.listDirection === 'horizontal') {\n    classNames.push('answerchoice-list-horizontal')\n  }\n  return (\n    <ol className={classNames.join(' ')} type='a'>\n      {React.Children.map(props.children, (c,i) => (\n        <li key={`choice-${i}`}\n          className='answerchoice-item'>\n          {c}\n        </li>\n      ))}\n    </ol>\n  )\n}\n\n\n\nconst AnswerBlank = props => {\n  const style = {margin: '0'}\n  \n  if (props.width !== undefined) {\n    style.minWidth = props.width\n  }\n  if (props.height !== undefined) {\n    style.minHeight = props.height\n  }\n\n  return (\n    <tr>\n      <td><RenderJson json={props.label === undefined ? 'answer:' : props.label} /></td>\n      <td><div className='blank-underline answerblank' style={style}/></td>\n    </tr>\n  )\n}\n\nexport const AnswerBlanks = props => {\n  return (\n    <table className='answerblanks'>\n      <tbody>\n        {props.items.map((d,i) => {\n          const dat = typeof d === 'string' ? {label: d} : d\n          return (\n            <AnswerBlank \n              key={`answerblank=${dat.label}-${i}`} \n              {...dat}\n            />\n        )})}\n      </tbody>\n    </table>\n  )\n}","import React from 'react'\n\n\nfunction parseBorder(border) {\n  if (border === 'top') return 'borderTop'\n  if (border === 'bottom') return 'borderBottom'\n  if (border === 'left') return 'borderLeft'\n  if (border === 'right') return 'borderRight'\n}\n\n\nexport const EmptySpace = props => {\n  const {width, height, border} = props\n  const style = {margin: '0'}\n  if (width) style.width = width\n  if (height) style.height = height\n  if (border) {\n    if (Array.isArray(border)) {\n      for (const b of border) {\n        if (parseBorder(b)) {\n          style[parseBorder(b)] = '1px solid black'\n        }\n      }\n    }\n    if (typeof border === 'string') {\n      if (parseBorder(border)) {\n        style[parseBorder(border)] = '1px solid black'\n      }\n      if (border === true) {\n        style.border = '1px solid black'\n      }\n    }\n  }\n  return (\n    <div style={style} />\n  )\n}","import React from 'react'\n\nconst parseHeader = (text) => {\n  let result = []\n  let current = ''\n  let isBlank = false\n  let i = 0\n  let blankSize = 0\n  while (i < text.length) {\n    const nextChar = text[i]\n    if (isBlank) {\n      if (nextChar === '_') {\n        blankSize += 1\n      } else {\n        result.push({type: 'blank', size: blankSize})\n        current = nextChar\n        isBlank = false\n        blankSize = 0\n      }\n    } else {\n      if (nextChar === '_') {\n        if (current !== '') {\n          result.push({type: 'text', text: current})\n          current = ''\n        }\n        isBlank = true\n        blankSize = 1\n      } else {\n        current += nextChar\n      }\n    }\n    i += 1\n  }\n  if (isBlank) {\n    if (blankSize > 0) {\n      result.push({type: 'blank', size: blankSize})\n    }\n  } else {\n    if (current !== '') {\n      result.push({type: 'text', text: current})\n    }\n  }\n  return result\n}\n\nconst renderHeaderElement = (text) => {\n  const parts = parseHeader(text)\n  return (\n    <>\n      {parts.map((p, i) => {\n        if (p.type === 'text') {\n          return (\n            <div key={i} style={{display: 'inline-block'}}>{p.text}</div>\n          )\n        } else {\n          const w = `${1 + 3*(p.size - 1)}cm`\n          return (\n            <div key={i} className='blank-underline blank-underline-page-header' style={{width: w}} />\n          )\n        }\n      })}\n    </>\n  )\n}\n\nexport const PageHeader = props => {\n\n  if (props.rows.length === 0) {\n    return <div className='page-header page-header-empty' />\n  } else {\n    return (\n      <table className='page-header'>\n        <tbody>\n          {props.rows.map((row, i) => {\n            const [left, right] = row\n            return (\n              <tr key={i}>\n                <td>\n                  {renderHeaderElement(left || '')}\n                </td>\n                <td>\n                  {renderHeaderElement(right || '')}\n                </td>\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n    )\n  }\n}","import React from 'react'\nimport { renderJson } from '..'\n\n\nconst QuestionLayout = ({\n  content,\n  layout=[[['instructions', 'question', 'answer'], 'diagram']], \n  direction='column',\n}={}) => {\n\n  const className = `question-layout question-layout-${direction}`\n  const newDirection = {row: 'column', column: 'row'}[direction]\n\n  return (\n    <div className={className}>\n      {layout.map((area, i) => {\n        if (Array.isArray(area)) {\n          return (\n            <QuestionLayout key={`region-${i}`} \n              content={content}\n              layout={area} \n              direction={newDirection} \n            />\n          )\n        } else {\n          if (content[area]) {\n            const classNames = ['question-area', `question-area-${area}`]\n            return (\n              <div key={area} className={classNames.join(' ')}>\n                {renderJson(content[area])}\n              </div>\n            )\n          }\n        }\n        return null\n      })}\n    </div>\n  )\n}\n\n\nfunction isMultipleChoice(content, options={}) {\n  if (options.isMultipleChoice !== undefined) {\n    return options.isMultipleChoice\n  }\n  if (content.answer && typeof content.answer !== 'string') {\n    if (content.answer.choices) {\n      return true\n    }\n  }\n  return false\n}\n\n\nexport const Question = (props) => {\n  const { options={} } = props\n  \n  const {instructions, question, diagram} = props.content\n  let content = { instructions, question, diagram }\n  const layout = props.content.layout || options.layout\n\n  // Determine what to render in answer space\n  if (isMultipleChoice(props.content, options)) {\n    Object.assign(content, props.content.multipleChoice)\n    const listDirection = props.content.answer.listDirection\n    content.answer = ['AnswerChoices', {listDirection}, ...props.content.answer.choices]\n  } else {\n    Object.assign(content, props.content.freeResponse)\n    if (props.content.answer && props.content.answer.prompt !== undefined) {\n      if (props.content.answer.prompt !== null) {\n        if (typeof props.content.answer.prompt === 'string') {\n          content.answer = ['AnswerBlanks', null, props.content.answer.prompt]\n        } else if (Array.isArray(props.content.answer.prompt)) {\n          content.answer = props.content.answer.prompt\n        }\n      }\n    } else {\n      content.answer = ['EmptySpace', {height: '1cm', width: '2cm'}]\n    }\n  }\n  return (\n    <div className='question-wrapper'>\n      <QuestionLayout content={content} layout={layout}/>\n    </div>\n  )\n}\n\n\nexport const NumberedQuestion = props => {\n  return (\n    <div className='question-number'>\n      <Question {...props} />\n    </div>\n  )\n}\n\n\nexport const AnswerKey = props => {\n  const letters = 'abcdefg'\n  const { content, options } = props\n  if (isMultipleChoice(content, options)) {\n    if (content.answer.choices && content.answer.correctIndex !== undefined) {\n      if (Array.isArray(content.answer.correctIndex)) {\n        return content.answer.correctIndex.map(i => letters[i]).join(', ')\n      } else {\n        return letters[content.answer.correctIndex]\n      }\n    }\n  }\n  if (content.answer !== undefined) {\n    if (content.answer !== null) {\n      if (content.answer.correct) {\n        return renderJson(content.answer.correct)\n      }\n      if (Array.isArray(content.answer) ||  typeof content.answer === 'string' || typeof content.answer === 'number') {\n        return renderJson(content.answer, options)\n      }\n    }\n    if (content.answer.choices && content.answer.correctIndex !== undefined) {\n      return renderJson(content.answer.choices[content.answer.correctIndex])\n    }\n  }\n  return null\n}\n","import React from 'react'\n\nfunction parseAlignment(align) {\n  // latex-style, e.g. r|ccc|l\n  const colStyles = []\n\n  const blocks = align.split('|')\n  for (const i in blocks) {\n    const block = blocks[i]\n    for (const j in block) {\n      const char = block[j]\n      const colStyle = {}\n      if (char === 'l') colStyle.textAlign = 'left'\n      if (char === 'c') colStyle.textAlign = 'center'\n      if (char === 'r') colStyle.textAlign = 'right'\n      if (+j === 0 && i > 0) {\n        colStyle.borderLeft = '1px solid black'\n      }\n      if (+j === block.length-1 && i < blocks.length-1) {\n        colStyle.borderRight = '1px solid black'\n      }\n      colStyles.push(colStyle)\n    }\n  }\n  return colStyles\n}\n\n\nexport const TRow = props => {\n  const { header=false, border=false } = props\n  const rowprops = {style: {border: 'none'}}\n  if (border) {\n    if (border === 'bottom') {\n      rowprops.style.borderBottom = '1px solid black'\n    } else if (border === 'top') {\n      rowprops.style.borderTop = '1px solid black'\n    } else if (border === true || border === 'both') {\n      rowprops.style.borderTop = '1px solid black'\n      rowprops.style.borderBottom = '1px solid black'\n    }\n  }\n\n  const defaultBorderLeft = i => 'none'\n  const defaultBorderRight = i => 'none'\n  const defaultTextAlign = i => 'center'\n\n  const elemstyle = i => ({\n    border: 'none',\n    borderLeft: `var(--table-col-${i}-borderLeft, ${defaultBorderLeft(i)})`,\n    borderRight: `var(--table-col-${i}-borderRight, ${defaultBorderRight(i)})`,\n    textAlign: `var(--table-col-${i}-textAlign, ${defaultTextAlign(i)})`,\n  })\n\n  //console.log(entryprops)\n  return (\n    <tr {...rowprops}>\n      {header ? (\n        React.Children.toArray(props.children).map((c,i) => (\n          <th key={i} style={elemstyle(+i+1)}>{c}</th>\n        ))\n      ) : (\n        React.Children.toArray(props.children).map((c,i) => (\n          <td key={i} style={elemstyle(+i+1)}>{c}</td>\n        ))\n      )}\n    </tr>\n  )\n}\n\nexport const Table = props => {\n  const children = React.Children.toArray(props.children)\n\n  let headIndex = 0\n  while (headIndex < children.length \n    && children[headIndex].type.name === 'TRow' \n    && children[headIndex].props.header) {\n    headIndex += 1\n  }\n\n  const tableprops = {style: {borderCollapse: 'collapse'}}\n  if (props.border) {\n    tableprops.style.border = '1px solid black'\n  }\n  if (props.align) {\n    const alignment = parseAlignment(props.align)\n    for (const i in alignment) {\n      for (const k in alignment[i]) {\n        const cssvar = `--table-col-${+i+1}-${k}`\n        const value = alignment[i][k]\n        tableprops.style[cssvar] = value\n      }\n    }\n  }\n\n  return (\n    <table {...tableprops}>\n      {headIndex > 0 ? (\n        <thead>\n          {children.slice(0,headIndex)}\n        </thead>\n      ) : null}\n      {headIndex < children.length ? (\n        <tbody>\n          {children.slice(headIndex)}\n        </tbody>\n      ) : null}\n    </table>\n  )\n}","/*\nThis renders math in text using markdown, and simple markdown using\nmarkdown-it's inline renderer. For more complicated markdown, use\nthe 'markdown' type, which will be passed to the 'renderMarkdown' function\n*/\n\nimport React from 'react'\nimport katex from 'katex'\nimport { defaultsDeep } from 'lodash'\nimport MarkdownIt from 'markdown-it'\nimport mdsup from 'markdown-it-sup'\nimport mdsub from 'markdown-it-sub'\nimport mdsmartarrows from 'markdown-it-smartarrows'\nimport mdmath from 'markdown-it-math'\nimport splitAtDelimiters  from 'katex/contrib/auto-render/splitAtDelimiters'\n\n\nconst defaultOptions = {\n  renderMath: true,\n  renderMarkdown: true,\n  \n  markdown: {\n    superscript: true,\n    subscript: true,\n    smartarrows: true,\n  },\n\n  mathDelimiters: {\n    display: {left: '$$$', right: '$$$'},\n    inline: {left: '$$', right: '$$'},\n  }\n};\n\n\n\n// from katex:\nconst splitWithDelimiters = function(text, delimiters) {\n  let data = [{type: \"text\", data: text}];\n  for (let i = 0; i < delimiters.length; i++) {\n    const delimiter = delimiters[i];\n    data = splitAtDelimiters(\n      data, delimiter.left, delimiter.right,\n      delimiter.display || false);\n  }\n  return data;\n};\n\nconst MathAndMarkdown = ({data, options}) => {\n  /**\n   * Split text using Katex, then render pieces with katex (if math)\n   * or markdown (inline only)\n   */\n  const katexOptions = {\n    delimiters: [\n      {left: options.mathDelimiters.display.left, right: options.mathDelimiters.display.right, display: true},\n      {left: options.mathDelimiters.inline.left, right: options.mathDelimiters.inline.right, display: false},\n    ],\n    errorCallback: console.error,\n  }\n\n  return (\n    <span>\n      {splitWithDelimiters(data, katexOptions.delimiters).map((c,i) => {\n        if (c.type === 'text') {\n          if (options.renderMarkdown) {\n            return <InlineMarkdown key={i} data={c.data} options={options}/>\n          } else {\n            return <span key={i}>c.data</span>\n          }\n        } else {\n          return <KatexMath key={i} data={c} katexOptions={{...katexOptions, displayMode: c.display}}/>\n        }\n      })}\n    </span>\n  )\n}\n\nconst KatexMath = ({data, katexOptions}) => {\n  try {\n    const html = katex.renderToString(data.data, katexOptions);\n    return <span dangerouslySetInnerHTML={{__html: html}} />\n  } catch (e) {\n    if (!(e instanceof katex.ParseError)) {\n      throw e;\n    }\n    katexOptions.errorCallback(\n      \"KaTeX auto-render: Failed to parse `\" + data.data + \"` with \", e\n    );\n    return <span>{data.raw}</span>\n  }\n}\n\nconst InlineMarkdown = ({data, options}) => {\n  let md = new MarkdownIt()\n  if (options.markdown.subscript) {\n    md = md.use(mdsub)\n  }\n  if (options.markdown.superscript) {\n    md = md.use(mdsup)\n  }\n  if (options.markdown.smartarrows) {\n    md = md.use(mdsmartarrows)\n  }\n  const html = md.renderInline(data)\n  return <span dangerouslySetInnerHTML={{__html: html}} />\n}\n\nexport default class Text extends React.Component {\n\n\n  render() {\n    const { \n      fontFamily, \n      fontSize,\n      color,\n      options,\n      //renderMarkdown=true,\n      //renderMath=true,\n      //mathDelimiters=\n    } = this.props\n    const opts = defaultsDeep({}, options, defaultOptions)\n    const style = {fontFamily, fontSize, color}\n    let RenderMethod\n    if (opts.renderMath) {\n      RenderMethod = MathAndMarkdown\n    } else if (opts.renderMarkdown) {\n      RenderMethod = InlineMarkdown\n    } else {\n      RenderMethod = ({data, options}) => data\n    }\n    return (\n      <span style={style}>\n        {React.Children.map(this.props.children, (c,i) => {\n          if (typeof c === 'string') {\n            return <RenderMethod key={i} data={c} options={opts}/>\n          }\n          return null\n        })}\n      </span>\n    )\n  }\n}\n\n\n\n\n\n/*\nexport const Markdown = ({data, options}) => {\n  const opts = defaultsDeep({}, options, defaultOptions)\n  let md = new MarkdownIt()\n  if (opts.markdown.subscript) { md = md.use(mdsub); }\n  if (opts.markdown.superscript) { md = md.use(mdsup); }\n  if (opts.markdown.smartarrows) { md = md.use(mdsmartarrows); }\n  if (opts.math.render) {\n    md = md.use(mdmath, {\n      inlineRenderer: (str) => katex.renderToString(str),\n      blockRenderer: (str) => '<div class=\"math-block\">' + katex.renderToString(str, {displayMode: true}) + '</div>',\n      inlineOpen: opts.math.delimiters.inline.left,\n      inlineClose: opts.math.delimiters.inline.right,\n      blockOpen: opts.math.delimiters.display.left,\n      blockClose: opts.math.delimiters.display.right,\n    })\n  }\n  return (\n    <span dangerouslySetInnerHTML={{__html: md.render(data)}} ></span> \n  )\n}\n\n\nconst defaultDelimiters = {\n  display: {left: '$$$', right: '$$$'},\n  inline: {left: '$$', right: '$$'},\n}\n\nconst replaceMathDelimiters = function(text, options, delimiters=defaultDelimiters) {\n  let optionsCopy = {...options.katex}\n  const data = splitWithDelimiters(text, optionsCopy.delimiters)\n  let result = \"\"\n  for (let i = 0; i < data.length; i++) {\n    if (data[i].type === \"text\") {\n      result += data[i].data\n    } else if (data[i].display) {\n      result += `${delimiters.display.left}${data[i].data}${delimiters.display.right}`\n    } else {\n      result += `${delimiters.inline.left}${data[i].data}${delimiters.inline.right}`\n    }\n  }\n  return result\n}\n*/\n","import VectorGraphics from './VectorGraphics'\nimport { AnswerChoices, AnswerBlanks } from './AnswerSpace'\nimport { Container } from './Container'\nimport { EmptySpace } from './EmptySpace'\nimport { List } from './List'\nimport { PageHeader } from './PageHeader'\nimport { Plain } from './Plain'\nimport { Question, NumberedQuestion, AnswerKey } from './Question'\nimport { RenderError } from './RenderError'\nimport { Table, TRow } from './Table'\nimport Text from './Text'\nimport { VegaLite } from './VegaLite'\n\nconst renderTypes = {\n  AnswerBlanks,\n  AnswerKey,\n  EmptySpace, \n  PageHeader,\n  NumberedQuestion,\n  Plain, \n  Question, \n  RenderError,\n  VegaLite,\n  \n  AnswerChoices,\n  Container, \n  List,\n  Table, \n  Text,\n  TRow,\n  ...VectorGraphics,\n}\n\nexport default renderTypes\n","import React from 'react'\n\nexport const Plain = props => {\n  return (\n    <>\n      {props.children.map((c,i) => <span key={i}>{c}</span>)}\n    </>\n  )\n}\n\n","import React from 'react'\n\nexport const RenderError = props => {\n  return (\n    <>\n      {props.children.map((c,i) => <code key={i} className='render-error'>{JSON.stringify(c)}</code>)}\n    </>\n  )\n}","import React from 'react'\nimport ReactVega from 'react-vega'\nimport ReactVegaLite from 'react-vega-lite'\n\nexport const Vega = data => {\n  return (\n    <ReactVega spec={data} />\n  )\n}\n\nexport const VegaLite = data => {\n  return (\n    <ReactVegaLite spec={data} />\n  )\n}","import React from 'react'\n\nexport const Container = props => {\n  const {direction='row', border=false, alignItems, justifyItems} = props\n  const divstyle = {\n    display: 'flex',\n    flexDirection: direction,\n    flexWrap: 'wrap',\n    border: border ? '1px solid black' : 'none',\n  }\n  if (direction === 'row') {\n    if (alignItems === 'bottom') {\n      divstyle.alignItems = 'flex-end'\n    } else if (alignItems === 'top') {\n      divstyle.alignItems = 'flex-start'\n    } else if (alignItems === 'center') {\n      divstyle.alignItems = 'center'\n    }\n  }\n\n  return (\n    <div style={divstyle}>\n      {props.children}\n    </div>\n  )\n}","import React from 'react'\n\nexport const List = props => {\n  const {type} = props\n  return (\n    <ol type={type}>\n      {React.Children.map(props.children, c => <li>{c}</li>)}\n    </ol>\n  )\n}","import React from 'react'\nimport renderTypes from './renderTypes'\nimport Text from './renderTypes/Text'\n\nexport const parseJson = function(json) {\n  const [ type, props, ...children ] = json\n  if (props) {\n    if (props.constructor.name === 'Object') {\n      return { type, props, children}\n    }\n    return { type, props: {}, children: [ props, ...children ] }\n  }\n  return { type, props: {}, children }\n}\n\nconst isArray = Array.isArray\n\nexport const renderJson = function(json) {\n  if (isArray(json)) {\n    const {type, props, children} = parseJson(json)\n\n    if (isArray(type)) {\n      return React.createElement(React.Fragment, null, ...json.map(c => renderJson(c)))\n    }\n    const RenderType = renderTypes[type]\n    if (RenderType === Text) {\n      return React.createElement(Text, props, ...children)\n    }\n    if (RenderType) {\n      return React.createElement(RenderType, props, ...children.map(c => renderJson(c)))\n    }\n  }\n  else if (typeof json === 'string') {\n    return <Text>{json}</Text>\n  }\n  else if (typeof json === 'number') {\n    return <Text>{json.toString()}</Text>\n  }\n  else if (typeof json === 'boolean') {\n    return <Text>{json.toString()}</Text>\n  }\n  else if (json === null || json === undefined) {\n    return null\n  }\n  console.error(`cannot render ${json}`)\n  return null\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { RenderJson, parseJson } from '..'\n\nexport default class DefaultEditor extends React.Component {\n  static propTypes = {\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n    json: PropTypes.array,\n    onUpdateElement: PropTypes.func.isRequired,\n    onDeleteElement: PropTypes.func.isRequired,\n    onRequestClose: PropTypes.func,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = parseJson(props.json)\n  }\n\n  stateToJson() {\n    return [this.state.type, this.state.props, ...this.state.children]\n  }\n\n  updateAndClose = () => {\n    this.props.onUpdateElement(this.props.id, this.stateToJson())\n    this.props.onRequestClose()\n  }\n\n  deleteAndClose = () => {\n    this.props.onDeleteElement(this.props.id)\n    this.props.onRequestClose()\n  }\n\n  revertChanges = () => {\n    this.setState(parseJson(this.props.json))\n  }\n\n  renderEditor() {\n    return <div>Editing is not yet implemented for this type of element.</div>\n  }\n\n  renderPreview() {\n    const json = [...this.stateToJson()]\n    return (\n      <div className='document preview-area' style={{margin: '3mm 1mm'}}>\n        <RenderJson json={json} />\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <>\n        <div style={{\n          width: '100%',\n          display: 'grid', \n          gridTemplateColumns: 'auto auto auto 1fr auto',\n          margin: '0 0 5mm 0',\n        }}>\n          <button onClick={this.updateAndClose}>Apply Changes</button>\n          <button onClick={this.revertChanges}>Revert Changes</button>\n          <button onClick={this.props.onRequestClose}>Cancel</button>\n          <span />\n          <button onClick={this.deleteAndClose} style={{justifySelf: 'right'}}>Delete</button>\n        </div>\n        {this.renderEditor()}\n        {this.renderPreview()}\n      </>\n    )\n  }\n}\n","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\n\n\nexport default class EditPageHeader extends DefaultEditor {\n\n  headingUpdate(row, lr, text) {\n    const newrow = [...this.state.props.rows[row]]\n    newrow[lr] = text\n    const rows = [...this.state.props.rows]\n    rows[row] = newrow\n    this.setState({props: {...this.state.props, rows}})\n  }\n\n  headingAddRow = () => {\n    const rows = [...this.state.props.rows, ['', '']]\n    this.setState({ props: {...this.state.props, rows} })\n  }\n\n  headingRemoveRow = () => {\n    const rows = this.state.props.rows.slice(0,-1)\n    this.setState({props: {...this.state.props, rows}})\n  }\n\n  renderEditor() {\n    const rows = this.state.props.rows\n    const inputStyle = {\n      width: '100%',\n      borderStyle: 'dashed',\n      fontSize: '1.1em',\n      fontFamily: 'var(--doc-font-family, monospace)',\n      margin: '1mm',\n      padding: '1mm',\n    }\n    return (\n      <div>\n      <p>\n        Underscores will be translated into a blank underlined space.\n      </p>\n      <table className='header'>\n        <tbody>\n          {rows.map((row, i) => {\n            const [left, right] = row\n            return (\n              <tr key={i} >\n                <td style={{border: 'none', padding: '0 1em 0 0'}}>\n                  <input \n                    onChange={(evt) => this.headingUpdate(i, 0, evt.target.value)}\n                    value={left || ''} \n                    style={inputStyle}\n                  />\n                </td>\n                <td style={{border: 'none', padding: '0 1em 0 0'}}>\n                  <input \n                    onChange={(evt) => this.headingUpdate(i, 1, evt.target.value)}\n                    value={right || ''} \n                    style={inputStyle}\n                  />\n                </td>\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n      <button onClick={this.headingRemoveRow}>-</button>\n      <button onClick={this.headingAddRow}>+</button>\n      </div>\n    )\n  }\n\n}","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\nimport { RenderJson, parseJson } from '..'\n\nfunction checkMC(content, options={}) {\n  if (options.isMultipleChoice === undefined) {\n    if (content.answer && content.answer.choices) {\n      return true\n    } else {\n      return false\n    }\n  } else {\n    return options.isMultipleChoice\n  }\n}\n\n\nexport default class Question extends DefaultEditor {\n  constructor(props) {\n    super(props)\n    const parsed = parseJson(props.json)\n    this.state = {\n      type: parsed.type,\n      content: parsed.props.content || {},\n      options: parsed.props.options || {},\n    }\n    this.state.options.isMultipleChoice = checkMC(this.state.content, this.state.options)\n  }\n\n  stateToJson() {\n    return [this.state.type, {content: this.state.content, options: this.state.options}]\n  }\n\n  revertChanges = () => {\n    const newState = ({\n      content: this.state.content || {},\n      options: this.state.options || {},\n    })\n    newState.options.isMultipleChoice = checkMC(newState.content, newState.options)\n    this.setState(newState)\n  }\n\n  toggleMC = evt => {\n    //this.isMC = evt.target.checked\n    this.setState({\n      options: {...this.state.options, isMultipleChoice: evt.target.checked}\n    })\n  }\n\n  updateVersionDefault(k, v) {\n    this.setState({content: {...this.state.content, [k]: v}})\n  } \n  updateVersionMC(k, v) {\n    const multipleChoice = {...this.state.content.multipleChoice}\n    if (v === '') {\n      delete multipleChoice[k]\n    } else {\n      multipleChoice[k] = v\n    }\n    this.setState({content: {...this.state.content, multipleChoice}})\n  }\n  updateVersionFR(k, v) {\n    const freeResponse = {...this.state.content.freeResponse}\n    if (v === '') {\n      delete freeResponse[k]\n    } else {\n      freeResponse[k] = v\n    }\n    this.setState({content: {...this.state.content, freeResponse}})\n  }\n\n  updateInstructions = evt => this.updateVersionDefault('instructions', evt.target.value)\n  updateInstructionsMC = evt => this.updateVersionMC('instructions', evt.target.value)\n  updateInstructionsFR = evt => this.updateVersionFR('instructions', evt.target.value)\n\n  updateQuestion = evt => this.updateVersionDefault('question', evt.target.value)\n  updateQuestionMC = evt => this.updateVersionMC('question', evt.target.value)\n  updateQuestionFR = evt => this.updateVersionFR('question', evt.target.value)\n\n  renderInstructionsOrQuestionInputs(fieldname) {\n    const isMC = this.state.options.isMultipleChoice\n    const overrides = isMC ? this.state.content.multipleChoice || {} : this.state.content.freeResponse || {}\n    const updaters = {\n      instructions: {\n        default: this.updateInstructions,\n        mc: this.updateInstructionsMC,\n        fr: this.updateInstructionsFR,\n      },\n      question: {\n        default: this.updateQuestion,\n        mc: this.updateQuestionMC,\n        fr: this.updateQuestionFR,\n      }\n    }[fieldname]\n    return (\n      <>\n      <td>\n        <textarea value={this.state.content[fieldname]} \n          onChange={updaters.default}\n          cols=\"40\"\n          rows=\"4\"\n        />\n      </td>\n      <td>\n        {isMC ? (\n          <textarea value={overrides[fieldname] || ''} \n            onChange={updaters.mc}\n            cols=\"40\"\n            rows=\"4\"\n          />\n        ) : (\n          <textarea value={overrides[fieldname] || ''} \n            onChange={updaters.fr}\n            cols=\"40\"\n            rows=\"4\"\n          />\n        )}\n      </td>\n      </>\n    )\n  }\n\n\n  renderDiagram() {\n    return null\n  }\n\n  renderMCToggle() {\n    if (this.state.content.answer && this.state.content.answer.choices) {\n      return (\n        <>\n          Multiple Choice:\n          <input type=\"checkbox\" \n            checked={this.state.options.isMultipleChoice}\n            onChange={this.toggleMC}\n          />\n        </>\n      )\n    }\n    return null\n  }\n\n  renderEditor() {\n    const isMC = this.state.options.isMultipleChoice\n    //const content = this.state.content\n\n    return (\n      <div>\n        {this.renderMCToggle()}\n        <table>\n          <tbody>\n            <tr>\n              <td></td>\n              <td style={{textAlign: 'center'}}>Default</td>\n              <td style={{textAlign: 'center'}}>{isMC ? 'Multiple Choice' : 'Free Response'} Version</td>\n            </tr>\n            <tr>\n              <td>Instructions</td>\n              {this.renderInstructionsOrQuestionInputs('instructions')}\n            </tr>\n            <tr>\n              <td>Question</td>\n              {this.renderInstructionsOrQuestionInputs('question')}\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n\n\n  renderPreview() {\n    const json = this.stateToJson().slice(1)\n    return (\n      <>\n      <div className='document preview-area' style={{margin: '3mm 1mm'}}>\n        <RenderJson json={['Question', ...json]} />\n      </div>\n      <div className='document preview-area' style={{margin: '3mm 1mm'}}>\n        <RenderJson json={['AnswerKey', ...json]} />\n      </div>\n      </>\n    )\n  }\n\n}","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\nimport EditPageHeader from './EditPageHeader'\nimport EditQuestion from './EditQuestion'\nimport EditText from './EditText'\nimport { parseJson } from '..'\nimport { connect } from 'react-redux'\nimport { updateElement, deleteElement } from '../../actions/document'\n\nconst renderTypes = ({\n  NumberedQuestion: EditQuestion,\n  Question: EditQuestion,\n  PageHeader: EditPageHeader,\n  Text: EditText,\n})\n\nconst EditJson = props => {\n  const { type } = parseJson(props.json)\n  const RenderType = renderTypes[type]\n  if (RenderType) {\n    return <RenderType {...props}/>\n  }\n  return <DefaultEditor {...props}/>\n}\n\nconst mapDispatchToProps = dispatch => ({\n  onUpdateElement: (id, elem) => dispatch(updateElement(id, elem)),\n  onDeleteElement: (id) => dispatch(deleteElement(id)),\n})\n\nexport default connect(null, mapDispatchToProps)(EditJson)","import React from 'react'\nimport DefaultEditor from './DefaultEditor'\nimport { RenderJson, parseJson } from '..'\n\n\nexport default class EditText extends DefaultEditor {\n\n  updateChild(i, val) {\n    const children = [...this.state.children]\n    children[i] = val\n    this.setState({ children })\n  }\n\n  renderChildEditor(i) {\n    return (\n      <textarea key={i} value={this.state.children[i]}\n        onChange={evt => this.updateChild(i, evt.target.value)}\n        rows='12'\n        cols='80'\n        style={{width: 'fit-content'}}\n      />\n    )\n  }\n\n  renderEditor() {\n    return (\n      <>\n        {this.state.children.map((el, i) => this.renderChildEditor(i))}\n      </>\n    )\n  }\n}","import { parseJson, renderJson } from './renderJson'\nimport EditJson from './editJson'\n\nexport const RenderJson = props => {\n  return renderJson(props.json)\n}\n\nexport {\n  parseJson, \n  renderJson, \n  EditJson,\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport ReactModal from 'react-modal'\nimport { RenderJson, EditJson, parseJson } from '../../renderJson'\n\n\n\nclass TopLevelElement extends React.Component {\n  static propTypes = {\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n    json: PropTypes.array.isRequired,\n    canEdit: PropTypes.bool.isRequired,\n  }\n\n  static defaultProps = {\n    canEdit: false,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      modal: 'none',\n    }\n  }\n\n  openEditor = () => this.setState({modal: 'edit'})\n  closeModal = () => this.setState({modal: 'none'})\n\n  render() {\n    const divprops = {}\n    const classNames = []\n    if (this.props.canEdit) {\n      classNames.push('editable')\n      divprops.onDoubleClick = this.openEditor\n    }\n    if (this.props.columns) {\n      const elemprops = parseJson(this.props.json).props\n      if (elemprops.options && elemprops.options.singleColumn) {\n        classNames.push('single-column')\n      }\n    }\n\n    if (classNames.length) {\n      divprops.className = classNames.join(' ')\n    }\n    return (\n      <>\n      <div {...divprops}>\n        <RenderJson json={this.props.json} />\n      </div>\n      <ReactModal isOpen={this.state.modal === 'edit'}\n        onRequestClose={this.closeModal}\n        style={{\n          content: {\n            margin: '20px'\n          }\n        }}\n      >\n        <EditJson\n          id={this.props.id}\n          json={this.props.json}\n          onRequestClose={this.closeModal}\n        />\n      </ReactModal>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  canEdit: state.config.allowEditing,\n  columns: state.style.columns,\n})\n//const mapDispatchToProps = dispatch => ({\n//})\n\nexport default connect(mapStateToProps)(TopLevelElement)","// Sizes from papercss, measurements in mm\n\nexport const portrait = {\n  A3: { width: 297, height: 419 },\n  A4: { width: 210, height: 296 },\n  A5: { width: 148, height: 209 },\n  letter: { width: 216, height: 279 },\n  legal: { width: 216, height: 356 },\n}\n\nexport const landscape = {\n  A3: { width: 420, height: 296 },\n  A4: { width: 297, height: 209 },\n  A5: { width: 210, height: 147 },\n  letter: { width: 280, height: 215 },\n  legal: { width: 357, height: 215 },\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { addPageBreakBefore } from '../../actions/document'\nimport TopLevelElement from './TopLevelElement'\nimport { portrait, landscape } from './pagesize'\n\n\n\nclass MeasuredPage extends React.Component {\n  static propTypes = {\n    headerID: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    footerID: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    contentIDs: PropTypes.array.isRequired,\n    content: PropTypes.object.isRequired,\n    pageSize: PropTypes.string.isRequired,\n    pageOrientation: PropTypes.string.isRequired,\n    pageMargin: PropTypes.string.isRequired,\n    addPageBreakBefore: PropTypes.func.isRequired,\n    pageNumber: PropTypes.number,\n  }\n\n  static defaultProps = {\n    contentIDs: [],\n    pageSize: 'letter',\n    pageOrientation: 'portrait',\n    pageMargin: '10mm 10mm 10mm 10mm',\n  }\n\n  constructor(props) {\n    super(props)\n    this.inner = React.createRef()\n    this.outer = React.createRef()\n    this.state = {overflows: false}\n  }\n\n  innerH = () => this.inner.current.clientHeight\n  outerH = () => this.outer.current.clientHeight\n  overflows = () => this.innerH() > this.outerH()\n\n  componentDidUpdate() {\n    const oldstate = this.state.overflows\n    const newstate = this.overflows()\n    if (oldstate !== newstate) {\n      if (newstate) {\n        this.onOverflow()\n      }\n      this.setState({overflows: newstate})\n      this.forceUpdate()\n    }\n  }\n\n  onOverflow() {\n    this.props.addPageBreakBefore(+this.props.contentIDs[this.props.contentIDs.length-1].split('.')[1])\n  }\n\n  getPageSize()  {\n    if (this.props.pageOrientation === 'landscape') {\n      return landscape[this.props.pageSize]\n    } else {\n      return portrait[this.props.pageSize]\n    }\n  }\n\n  getOuterStyle() {\n    const {width, height} = this.getPageSize()\n    return {width: `${width}mm`, height: `${height}mm`}\n  }\n\n  getInnerStyle() {\n    return {\n      height: 'fit-content',\n      margin: '0',\n      padding: this.props.pageMargin,\n    }\n  }\n\n  getHeaderID() {\n    if (this.props.pageNumber in this.props.headers) {\n      return this.props.pageNumber\n    }\n    return 0\n  }\n\n  render() {\n    let outerclassname = (\n      this.state.overflows \n      ? 'page-outer page-overflowing' \n      : 'page-outer'\n    )\n\n    const outerstyle = this.getOuterStyle()\n    const innerstyle = this.getInnerStyle()\n    const headerID = this.getHeaderID()\n\n    return (\n      <div className={outerclassname} ref={this.outer} style={outerstyle}>\n        <div className='page-inner' ref={this.inner} style={innerstyle}>\n          <TopLevelElement key={headerID}\n            id={`header.${headerID}`}\n            json={this.props.headers[headerID]}\n          />\n          <div className='page-content'>\n            {this.props.contentIDs.map((id) => {\n              const contentID = id.split('.')[1]\n              const json = this.props.content[+contentID]\n              return (\n                <TopLevelElement key={id}\n                  json={json}\n                  id={id}\n                />\n              )\n            })}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  headers: state.document.headers,\n  footers: state.document.footers,\n  content: state.document.content,\n  pageSize: state.style.pageSize,\n  pageOrientation: state.style.pageOrientation,\n  pageMargin: state.style.pageMargin,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  addPageBreakBefore: (id) => dispatch(addPageBreakBefore(id)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MeasuredPage)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { portrait, landscape } from './pagesize'\n\n\nclass Page extends React.Component {\n\n  getPageSize()  {\n    if (this.props.orientation === 'landscape') {\n      return landscape[this.props.size]\n    } else {\n      return portrait[this.props.size]\n    }\n  }\n\n  getOuterStyle() {\n    const {width, height} = this.getPageSize()\n    return {\n      width: `${width}mm`, \n      height: `${height}mm`,\n      padding: '0',\n    }\n  }\n\n  getInnerStyle() {\n    return {\n      margin: '0',\n      width: '100%',\n      height: '100%',\n      padding: this.props.margin,\n    }\n  }\n\n  render() {\n    return (\n      <div className='page-outer' style={this.getOuterStyle()}>\n        <div className='page-inner' style={this.getInnerStyle()}>\n          {this.props.children}\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  size: state.style.pageSize,\n  orientation: state.style.pageOrientation,\n  margin: state.style.pageMargin,\n})\n\nexport default connect(mapStateToProps)(Page)","import React from 'react'\nimport { connect } from 'react-redux'\nimport Page from './Page'\nimport { RenderJson } from '../../renderJson'\n\n\nconst AnswerKey = (props) => {\n  return (\n    <Page>\n      <h3>Answer Key</h3>\n      <div className='answerkey'>\n        {props.contentIDs.map(id => {\n          const element = props.content[id]\n          if (element[0] === 'NumberedQuestion') {\n            return (\n              <div key={`answer-${id}`} className='answerkey-item'>\n                <RenderJson json={['AnswerKey', ...element.slice(1)]} />\n              </div>\n            )\n          } else {\n            return null\n          }\n        })}\n      </div>\n    </Page>\n  )\n}\n\nconst mapStateToProps = state => ({\n  contentIDs: state.document.order,\n  content: state.document.content\n})\n\nexport default connect(mapStateToProps)(AnswerKey)","import React from 'react'\n//import Page from './Page'\nimport MeasuredPage from './MeasuredPage'\nimport AnswerKey from './AnswerKey'\nimport { connect } from 'react-redux'\n\n\nimport Scratch from './scratchpage'\n\n\nconst Document = (props) => {\n  const len = props.contentIDs.length - props.hidden\n  const visibleIDs = props.contentIDs.slice(0,len)\n  let prev = 0\n  let slices = []\n  for (const i of props.pagebreaks) {\n    if (i < len) {\n      slices.push([prev, i])\n      prev = i\n    }\n  }\n  slices.push([prev])\n  const pages = slices.map(s => visibleIDs.slice(...s))\n\n  return (\n    <div className={props.debugView ? 'document debug-view' : 'document'}>\n      {(\n        pages.length > 0 \n        ? pages.map((ids,i) => (\n          <MeasuredPage key={`page-${i+1}`} \n            pageNumber={i+1}\n            contentIDs={ids.map(i => `content.${i}`)}\n          />\n        )) : null\n      )}\n      {props.showAnswerKey ? <AnswerKey /> : null}\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  contentIDs: state.document.order,\n  pagebreaks: state.document.pagebreaks,\n  showAnswerKey: state.config.showAnswerKey,\n  style: state.style,\n  hidden: state.config.numberHidden,\n  debugView: state.config.debugView,\n})\n\nexport default connect(mapStateToProps)(Document)","export const ADD_FONTFAMILY = 'ADD_FONTFAMILY'\nexport const SET_ALLOW_EDITING = 'SET_ALLOW_EDITING'\nexport const SET_FONTFAMILY_UI = 'SET_FONTFAMILY_UI'\nexport const SET_SHOW_ANSWERKEY = 'SET_SHOW_ANSWERKEY'\nexport const SET_HIDDEN_COUNT = 'SET_HIDDEN_COUNT'\n\nexport const addFontFamily = (font) => ({\n  type: ADD_FONTFAMILY,\n  payload: font,\n})\n\nexport const setAllowEditing = (b) => ({\n  type: SET_ALLOW_EDITING,\n  payload: b,\n})\n\nexport const setFontFamilyUI = (inputType) => ({\n  type: SET_FONTFAMILY_UI,\n  payload: inputType,\n})\n\nexport const setShowAnswerKey = (bool) => ({\n  type: SET_SHOW_ANSWERKEY,\n  payload: bool,\n})\n\nexport const setHiddenCount = (n) => ({\n  type: SET_HIDDEN_COUNT,\n  payload: n,\n})\n\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { addFontFamily } from '../../../actions/config'\n\nclass AddLocalFont extends React.Component {\n  static propTypes = {\n    addFontFamily: PropTypes.func.isRequired,\n    buttonLabel: PropTypes.string.isRequired,\n  }\n\n  static defaultProps = {\n    buttonLabel: 'Add'\n  }\n\n  constructor(props) {\n    super(props)\n    this.input = React.createRef()\n  }\n\n  addFont = () => {\n    const fontName = this.input.current.value\n    this.props.addFontFamily({family: fontName})\n  }\n\n  render() {\n    return (\n      <>\n      <input ref={this.input} spellCheck={false} />\n      <button onClick={this.addFont}>{this.props.buttonLabel}</button>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addFontFamily: (font) => dispatch(addFontFamily(font)),\n})\n\nexport default connect(null, mapDispatchToProps)(AddLocalFont)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setFontFamilyUI } from '../../../actions/config'\n\nclass FontFamilyUI extends React.Component {\n  static propTypes = {\n    current: PropTypes.string,\n    setFontFamilyUI: PropTypes.func.isRequired\n  }\n\n  setFontFamilyUI = (evt) => {\n    this.props.setFontFamilyUI(evt.target.value)\n  }\n\n  render() {\n    return (\n      <select onChange={this.setFontFamilyUI} value={this.props.current}>\n        <option value='input'>Input</option>\n        <option value='select'>Menu</option>\n      </select>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.config.fontFamilyUI\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setFontFamilyUI: (inputtype) => dispatch(setFontFamilyUI(inputtype)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontFamilyUI)","export const SET_DOCUMENT_FONTFAMILY = 'SET_DOCUMENT_FONTFAMILY'\nexport const SET_DOCUMENT_FONTSIZE = 'SET_DOCUMENT_FONTSIZE'\nexport const SET_MATH_FONTSIZE = 'SET_MATH_FONTSIZE'\nexport const SET_MATH_FONTWEIGHT = 'SET_MATH_FONTWEIGHT'\nexport const SET_PAGE_MARGIN = 'SET_PAGE_MARGIN'\nexport const UPDATE_GRAPHSTYLE = 'UPDATE_GRAPHSTYLE'\nexport const RESET_GRAPHSTYLE = 'RESET_GRAPHSTYLE'\n\n// Document font\nexport const setDocumentFontFamily = (family) => {\n  document.body.style.setProperty('--doc-font-family', family)\n  return ({\n    type: SET_DOCUMENT_FONTFAMILY,\n    payload: family\n  })\n}\nexport const setDocumentFontSize = (size) => {\n  document.body.style.setProperty('--doc-font-size', size)\n  return ({\n    type: SET_DOCUMENT_FONTSIZE,\n    payload: size\n  })\n}\n\n// Document Math Font\nexport const setMathFontSize = (size) => {\n  document.body.style.setProperty('--doc-math-font-size', size)\n  return ({\n    type: SET_MATH_FONTSIZE,\n    payload: size\n  })\n}\nexport const setMathFontWeight = (weight) => {\n  document.body.style.setProperty('--doc-math-font-weight', weight)\n  return ({\n    type: SET_MATH_FONTWEIGHT,\n    payload: weight\n  })\n}\n\n// Page Layout\nexport const setPageMargin = (margins) => ({\n  type: SET_PAGE_MARGIN,\n  payload: margins\n})\n\n// Graph Style\nexport const updateGraphStyle = (props) => ({\n  type: UPDATE_GRAPHSTYLE,\n  payload: props,\n})\n\nexport const resetGraphStyle = () => ({\n  type: RESET_GRAPHSTYLE,\n})","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setDocumentFontFamily } from '../../../actions/style'\n\n\nclass FontFamilyInput extends React.Component {\n  static propTypes = {\n    current: PropTypes.string,\n    setDocumentFontFamily: PropTypes.func,\n  }\n\n  constructor(props) {\n    super(props)\n  }\n\n  setFontFamily(fontFamily) {\n    this.props.setDocumentFontFamily(fontFamily)\n  }\n\n  onChange = (evt) => {\n    const value = evt.target.value\n    const fontFamily = value.slice(0,7) === '_LOCAL_' ? value.slice(8) : value\n    this.setFontFamily(fontFamily)\n  }\n\n  render() {\n    return (\n      <input \n        value={this.props.current}\n        spellCheck={false}\n        onChange={this.onChange}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.style.fontFamily,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setDocumentFontFamily: (family) => dispatch(setDocumentFontFamily(family)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontFamilyInput)","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { setDocumentFontFamily } from '../../../actions/style'\n\n\n\nconst googlefonts = [\n  'Arima Madurai',\n  'BioRhyme',\n  'Gentium Basic',\n  'IBM Plex Sans',\n  'IBM Plex Serif',\n  'Jura', 'Jura Medium',\n  'Lora',\n  'Noticia Text',\n  'Old Standard TT',\n  'Signika',\n  'Ubuntu',\n  'Zilla Slab',\n  \n  /* bad lIJ\n\n  'Fira Sans',\n  'Ledger',\n  'Montserrat',\n  'Neuton',\n  'Roboto Slab',\n\n  */\n]\n\nconst DefaultFonts = [\n  //...googlefonts.map(f => ({family: f})),\n  {family: 'CMU Serif'},\n  {family: 'IBM Plex Sans'},\n  {family: 'Lora'},\n]\n\nconst BrowserFonts = [\n  {label: 'serif', family: 'serif'},\n  {label: 'sans-serif', family: 'sans-serif'},\n]\n\nfunction fontSort(a, b) {\n  const aName = (a.label ? a.label : a.family).toUpperCase()\n  const bName = (b.label ? b.label : b.family).toUpperCase()\n  if (aName < bName) { return -1 }\n  if (aName > bName) { return 1}\n  return 0\n}\n\n\nfunction renderFontOption(font) {\n  const {family, label} = font\n  if (family === \"0\") {\n    const optionLabel = label ? label : \"---\"\n    return (\n      <option key={`font-null-${optionLabel}`}\n        value=\"0\"\n        disabled\n      >{optionLabel}</option>\n    )\n  } else {\n    const optionLabel = label ? label : family\n    return (\n      <option key={`font-family-option-${family}`}\n        value={family}\n        >{optionLabel}</option>\n    )\n  }\n}\n\n\n\n//////////////////////////////\n//\n// COMPONENT\n//\n////////////////////////////\n\n\nclass FontFamilySelect extends React.Component {\n  static propTypes = {\n    current: PropTypes.string,\n    localFonts: PropTypes.array.isRequired,\n    setDocumentFontFamily: PropTypes.func.isRequired,\n  }\n\n  static defaultProps = {\n    localFonts: [],\n  }\n\n  constructor(props) {\n    super(props)\n  }\n\n  fontList = () => {\n    /*\n    let result = [\n      ...DefaultFonts.sort(fontSort),\n      ...BrowserFonts, \n    ]\n    if (this.props.localFonts.length > 0) {\n      result.push({family: \"0\"})\n      result = result.concat(this.props.localFonts.sort(fontSort))\n    }\n    */\n    const result = [\n      ...[\n        ...DefaultFonts, \n        ...this.props.localFonts\n      ].sort(fontSort), \n      ...BrowserFonts,\n    ]\n    return result\n  }\n\n  setFontFamily(fontFamily) {\n    //this.setCss(fontFamily)\n    this.props.setDocumentFontFamily(fontFamily)\n  }\n\n  setFromPrompt = () => {\n    const customFamily = window.prompt(`Enter Font Name\n(this should be the name of a font already installed on your computer)`)\n    this.setFontFamily(customFamily)\n  }\n\n  onChange = (evt) => {\n    const value = evt.target.value\n    if (value === '__CUSTOM__') {\n      this.setFromPrompt()\n    } else {\n      this.setFontFamily(value)\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <select\n          value={this.props.current}\n          onChange={this.onChange}\n        >\n          <option value=\"__CUSTOM__\">Custom</option>\n          {this.fontList().map((f) => renderFontOption(f))}\n        </select>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.style.fontFamily,\n  localFonts: [...state.config.localFonts],\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setDocumentFontFamily: (family) => dispatch(setDocumentFontFamily(family)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontFamilySelect)","import React from 'react'\nimport { connect } from 'react-redux'\nimport FontFamilyInput from './FontFamilyInput'\nimport FontFamilySelect from './FontFamilySelect'\n\nconst FontFamily = ({fontFamilyUI}) => (\n  fontFamilyUI === 'input' ? <FontFamilyInput/> : <FontFamilySelect/>\n)\n\nconst mapStateToProps = state => ({fontFamilyUI: state.config.fontFamilyUI})\n\nexport default connect(mapStateToProps)(FontFamily)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setDocumentFontSize } from '../../../actions/style'\n\n\nclass FontSizeSelect extends React.Component {\n\n  static propTypes = {\n    current: PropTypes.string.isRequired,\n    setDocumentFontSize: PropTypes.func.isRequired,\n  }\n\n  constructor(props) {\n    super(props)\n  }\n\n  setDocFontSize(size) {\n    this.props.setDocumentFontSize(size)\n  }\n\n  onChange = (evt) => {\n    this.setDocFontSize(evt.target.value)\n  }  \n\n  renderSizeOptions() {\n    const options = [6, 7, 8, 9, 10, 11, 12]\n    return (\n      <>\n      {options.map((s) => {\n        const size = `${s}pt`\n        return (\n          <option \n            value={size}\n            key={s}\n          >{size}</option>\n        )\n      })}\n      </>\n    )\n  }\n\n  render() {\n    return (\n      <>\n        <select \n          value={this.props.current}\n          onChange={this.onChange}\n        >\n          {this.renderSizeOptions()}\n        </select>\n      </>\n    )\n  }\n}\n\n\nconst mapStateToProps = state => ({\n  current: state.style.fontSize,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setDocumentFontSize: (size) => dispatch(setDocumentFontSize(size)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontSizeSelect)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport WebFont from 'webfontloader'\nimport { connect } from 'react-redux'\nimport { addFontFamily } from '../../../actions/config'\nimport { setDocumentFontFamily } from '../../../actions/style'\nimport { includes } from 'lodash'\n\n\nconst googleFonts = [\n  \n  'Alegreya',\n  'Arima Madurai',\n  //'BioRhyme',\n  'EB Garamond',\n  'Gentium Basic',\n  //'Handlee',\n  //'IBM Plex Sans',\n  'IBM Plex Serif',\n  //'Inconsolata',\n  'Jura',\n  //'Lora',\n  'Merriweather',\n  'Noticia Text',\n  //'Noto Sans',\n  'Noto Serif',\n  'Old Standard TT',\n  'Raleway',\n  'Signika',\n  'Ubuntu',\n  'Zilla Slab',\n  //'Signika Negative',\n  \n  /*\n  'Fira Sans',\n  'Ledger',\n  'Montserrat',\n  'Neuton',\n  'Nunito',\n  'Roboto Slab',\n  */\n].sort()\n\nconst fontStyles = {\n  default: '400,400i,700,700i',\n  //'Jura': '500,700',\n  //'Signika': '300,700',\n  //'Ubuntu': '300,300i,700,700i',\n  'BioRhyme': '300,700',\n  'Merriweather': '300,300i,700,700i',\n}\n\nclass FontLoader extends React.Component {\n  static propTypes = {\n    addFontFamily: PropTypes.func.isRequired,\n    type: PropTypes.string.isRequired,\n  }\n\n  static defaultProps = {\n    type: 'select'\n  }\n\n  constructor(props) {\n    super(props)\n    const currentFamilies = this.props.localFonts.map(f => f['family'])\n    const toAdd = googleFonts.filter(f => !includes(currentFamilies, f))\n    \n    this.state = {\n      input: '',\n      selection: toAdd[0],\n      toAdd,\n    }\n  }\n\n  updateInput = evt => {\n    this.setState({input: evt.target.value})\n  }\n\n  updateSelection = evt => {\n    this.setState({selection: evt.target.value})\n  }\n\n  setFont(family) {\n    this.props.setDocumentFontFamily(family)\n  }\n\n  addFont({family, label}) {\n    this.props.setDocumentFontFamily(family)\n    this.props.addFontFamily({family, label})\n    const toAdd = this.state.toAdd.filter(f => f !== family)\n    this.setState({toAdd, selection: toAdd[0]})\n  }\n\n  loadFont = (family) => {\n    const request = `${family}:${fontStyles[family] || fontStyles.default}`\n    WebFont.load({\n      google: {\n        families: [request]\n      },\n      fontactive: () => this.addFont({family}),\n      fontinactive: () => console.error(`Could not load font ${family}`),\n    })\n  }\n\n  loadAll = () => {\n    if (this.state.toAdd.length === 1) {\n      return null\n    }\n    const loaded = {}\n    WebFont.load({\n      google: {\n        families: this.state.toAdd.map(f => `${f}:${fontStyles[f] || fontStyles.default}`)\n      },\n      fontactive: (family) => this.addFont({family}),\n      fontinactive: (family) => console.error(`Could not load font ${family}`),\n    })\n    for (const family in loaded) {\n      this.props.addFontFamily({family})\n    }\n    this.setState({toAdd: []})\n  }\n\n  loadInputFont = () => {\n    const family = this.state.input\n    if (family) {\n      this.loadFont(family)\n    }\n  }\n\n  loadSelectedFont = () => {\n    const family = this.state.selection\n    if (family) {\n      if (family === '__LOAD_ALL_WEB_FONTS__') {\n        this.loadAll()\n      } else {\n        this.loadFont(family)\n      }\n    }\n  }\n\n  renderInput() {\n    return (\n      <>\n      <input type=\"text\" \n        onChange={this.updateInput} \n        value={this.state.input}\n      ></input>\n      <button onClick={this.loadInputFont}>Add</button>\n      </>\n    )\n  }\n\n  renderSelect() {\n    return (\n      <>\n      <select \n        value={this.state.selection}\n        onChange={this.updateSelection}\n      >\n        {this.state.toAdd.map(f => <option key={`ff-${f}`} value={f}>{f}</option>)}\n        <option value=\"__LOAD_ALL_WEB_FONTS__\">Load All Web Fonts</option>\n      </select>\n      <button onClick={this.loadSelectedFont}>Load</button>\n      </>\n    )\n  }\n\n  render() {\n    if (this.props.type === 'input') {\n      return this.renderInput()\n    }\n    if (this.props.type === 'select') {\n      return this.renderSelect()\n    }\n  }\n}\n\nconst mapStateToProps = state => ({\n  localFonts: state.config.localFonts,\n})\nconst mapDispatchToProps = dispatch => ({\n  addFontFamily: f => dispatch(addFontFamily(f)),\n  setDocumentFontFamily: f => dispatch(setDocumentFontFamily(f)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FontLoader)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setMathFontSize, setMathFontWeight } from '../../../actions/style'\n\nclass MathFontSettings extends React.Component {\n  static propTypes = {\n    currentSize: PropTypes.string,\n    currentWeight: PropTypes.string,\n    setMathFontSize: PropTypes.func.isRequired,\n    setMathFontWeight: PropTypes.func.isRequired,\n  }\n\n  setSize(size) {\n    this.props.setMathFontSize(size)\n  }\n\n  setWeight(weight) {\n    this.props.setMathFontWeight(weight)\n  }\n\n  onChangeSize = (evt) => {\n    this.setSize(evt.target.value)\n  }\n\n  onChangeWeight = (evt) => {\n    if (evt.target.checked) {\n      this.setWeight('bold')\n    } else {\n      this.setWeight('normal')\n    }\n  }\n\n  render() {\n    return (\n      <>\n        Relative Size:\n        <select\n          onChange={this.onChangeSize}\n          value={this.props.currentSize}\n        >\n          <option value='0.6em'>0.6</option>\n          <option value='0.7em'>0.7</option>\n          <option value='0.8em'>0.8</option>\n          <option value='0.9em'>0.9 (default)</option>\n          <option value='1em'>1.0</option>\n          <option value='1.1em'>1.1</option>\n          <option value='1.2em'>1.2</option>\n          <option value='1.3em'>1.3</option>\n          <option value='1.4em'>1.4</option>\n        </select>\n        Bold:\n        <input ref={this.bold} \n          onChange={this.onChangeWeight}\n          type=\"checkbox\"\n          checked={this.props.currentWeight === 'bold'}\n        />\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  currentSize: state.style.mathFontSize,\n  currentWeight: state.style.mathFontWeight,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setMathFontSize: (size) => dispatch(setMathFontSize(size)),\n  setMathFontWeight: (weight) => dispatch(setMathFontWeight(weight)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MathFontSettings)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { RenderJson } from '../../../renderJson'\n\n\n\nconst tabsize = 2;\n\nfunction onKeyDown(evt) {\n  if (evt.keyCode === 9) { // handle tab\n    let target = evt.target;\n    const start = target.selectionStart;\n    const end = target.selectionEnd;\n    const value = target.value;\n    target.value = value.substring(0,start) + Array(tabsize).fill(' ').join('') + value.substring(end);\n    target.selectionStart = start + tabsize;\n    target.selectionEnd = end + tabsize;\n    evt.preventDefault();\n  } else if (evt.keyCode === 8) { // handle backspace\n    let target = evt.target;\n    const start = target.selectionStart;\n    if (start === target.selectionEnd) {\n      const value = target.value;\n      if (value.substring(start-tabsize, start) === Array(tabsize).fill(' ').join('')) {\n        target.value = value.substring(0,start-tabsize) + value.substring(start);\n        target.selectionStart = start - tabsize;\n        target.selectionEnd = start - tabsize;\n        evt.preventDefault();\n      }\n    }\n  }\n}\n\nclass TextPreview extends React.Component {\n  static propTypes = {\n    defaultValue: PropTypes.string,\n    renderType: PropTypes.string.isRequired\n  }\n\n  static defaultProps = {\n    renderType: 'text',\n    wrapperElement: 'div',\n  }\n\n  constructor(props) {\n    super(props)\n    const style = this.props.style || {}\n    this.inputStyle = style.input || {}\n    this.outputStyle = style.output || {}\n    this.input = React.createRef()\n    this.state = { text: props.defaultValue || '' }\n  }\n\n  updatePreview = (evt) => {\n    this.setState({ text: evt.target.value })\n  }\n\n  renderPreview() {\n    if (this.props.renderType === 'text') {\n      return this.state.text.split('\\n\\n').map((t,i) => (\n        <RenderJson key={i} json={['Text', t]} />\n      ))\n    } else if (this.props.renderType === 'json') {\n      try {\n        const json = JSON.parse(this.state.text)\n        return <RenderJson json={json} />\n      } catch(e) {\n        return \"Failed to render\"\n      }\n    }\n  }\n\n  render() {\n    return (\n      <>\n      <this.props.wrapperElement className='text-preview-input' >\n        <textarea \n          style={this.inputStyle}\n          onChange={this.updatePreview}\n          onKeyDown={onKeyDown}\n          value={this.state.text}\n        />\n      </this.props.wrapperElement>\n      <this.props.wrapperElement className='text-preview-output' >\n        <div className='document' style={this.outputStyle}>\n          {this.renderPreview()}\n        </div>\n      </this.props.wrapperElement>\n      </>\n    )\n  }\n}\n\nexport default TextPreview","import AddLocalFont from './AddLocalFont'\nimport FontFamilyUI from './FontFamilyUI'\nimport FontFamily from './FontFamily'\nimport FontSize from './FontSize'\nimport FontSettings from './FontSettings'\nimport TextPreview from './TextPreview'\n\nexport {\n  FontFamily,\n  FontSize,\n  AddLocalFont,\n  FontFamilyUI,\n  FontSettings,\n  TextPreview\n}\n\nexport default FontSettings","import React from 'react'\nimport FontFamily from './FontFamily'\nimport FontLoader from './FontLoader'\nimport MathFontSettings from './MathFontSettings'\nimport FontFamilyUI from './FontFamilyUI'\nimport AddLocalFont from './AddLocalFont'\nimport TextPreview from './TextPreview'\n\nconst previewtext = `To solve an equation of the form $$ax^2 + bx + c = 0$$, use the *quadratic formula*:\n\n$$$x = \\\\frac{-b \\\\pm \\\\sqrt{b^2 - 4ac}}{2a}$$$\n\nThe **volume** of a sphere is $$\\\\frac{4}{3}\\\\pi r^3$$.\n\nRemember that $$e^{i\\\\theta} = \\\\cos\\\\theta + i\\\\sin\\\\theta$$.`\n\n\nconst FontSettings = () => {\n  return (\n    <>\n      <h4>Document Font</h4>\n      <div>\n        Font Selection Method: <FontFamilyUI />\n      </div>\n      <div>\n        Font: <FontFamily/> \n      </div>\n      <div>\n        Web Fonts: <FontLoader type=\"select\"/>\n      </div>\n      <h4>Math Font</h4>\n      <div style={{justifyItems: 'right'}}>\n        <MathFontSettings />\n      </div>\n      <h4>Preview</h4>\n      <div style={{display: 'flex', flexDirection: 'row', '--doc-font-size': '11pt'}}>\n        <TextPreview wrapperElement='div' defaultValue={previewtext} style={{input: {height: '100%'}, output: {height: '100%'}}}/>      \n      </div>\n    </>\n  )\n}\n\nexport default FontSettings","import React from 'react'\nimport { TextPreview } from '../Settings/Font'\nimport styles from './styles.module.css'\n\nconst latexfmt = (...a) => String.raw(...a).replace('\\\\`', '`');\n\nconst examples = [\n  'Text can be _italic_, __bold__, or ___both___.',\n  'Or, *asterisks* will **accomplish** the ***same thing***.',\n  latexfmt`f: x --> x^3^ - 3x^2^ + 9x - 8 doesn't look as nice as $$f: x \\mapsto x^3 - 3x^2 + 9x - 8$$`,\n  latexfmt`**Markdown:** a~n~ = a~n-1~ + 2n - 1 , **LaTeX:** $$a_n = a_{n-1} + 2n - 1$$`,\n  latexfmt`There are two ways to write a fraction: $$\\frac{24}{18} = {4 \\over 3}$$`,\n  latexfmt`$$V = \\frac{4}{3}\\pi r^3$$`,\n  latexfmt`Use the quadratic formula to solve for $$x$$: $$$x = { -b \\pm \\sqrt{b^2 - 4ac} \\over 2a }$$$`,\n  latexfmt`Determine the measure of $$\\angle{ABC}$$.`,\n  latexfmt`$$\\overline{AB}$$ is a line segment. $$\\overleftrightarrow{CD}$$ is a line. $$\\overrightarrow{EF}$$ is a ray.`,\n  latexfmt`Prove that $$\\triangle{ABC} \\cong \\triangle{DEF}$$.`,\n  latexfmt`Given $$\\vec{u} = \\langle 3,5 \\rangle$$ and $$\\vec{v} = \\langle -4, 9 \\rangle$$, calculate $$\\vec{u} \\cdot \\vec{v}$$.`,\n  latexfmt`Remember that $$re^{i\\theta} = r(\\cos\\theta + i\\sin\\theta)$$`,\n  latexfmt`$$$\\int_a^b f'(x)dx = f(b) - f(a)$$$`,\n  latexfmt`$$$\\sum_{n=0}^{\\infty}\\frac{f^{(n)}(a)}{n!}(x-a)^n$$$`,\n  latexfmt`$$\\lnot (p \\land q) \\iff (\\lnot p \\lor \\lnot q)$$`,\n\n  latexfmt`$$$\na_{n+1} = \\left\\{\\begin{array}{r l}\n  3a_n + 1 & \\text{if $a_n$ is odd} \\\\\n  a_n \\div 2 & \\text{if $a_n$ is even} \\\\\n\\end{array}\\right.\n$$$`,\n\n  latexfmt`$$$\n\\left[\\begin{array}{r r r}\n   1 &   4 &  -9 \\\\\n  16 & -25 &  66 \\\\\n  49 &  64 & -81 \\\\\n\\end{array}\\right]\n$$$`,\n\n  latexfmt`$$\\forall\\ \\epsilon > 0, x \\in \\mathbb{R},\\ \\exists\\ \\delta > 0 \\text{ such that } 0 < |x-c| < \\delta \\implies |f(x) - L| < \\epsilon$$`,\n\n]\n\n/*\nconst RenderExample = ({text}) => {\n  return (\n    <>\n    <pre style={{\n      backgroundColor: 'rgba(255,255,200,0.5)',\n      border: '1px solid black',\n      padding: '0.5rem',\n      overflowX: 'scroll',\n    }}>{text}</pre>\n    <span className='document' \n      style={{\n      paddingLeft: '0.5rem',\n      fontSize: '1em',\n    }}>\n      <RenderElement content={{type: 'text', data: text}}/>\n    </span>\n    </>\n  )\n}\n*/\n\nconst RenderExample = ({text}) => (\n  <tr>\n    <TextPreview wrapperElement='td' defaultValue={text} />\n  </tr>\n)\n\nconst LatexExamples = (props) => {\n  return (\n    <div style={{padding: '3mm 0 3mm 0'}}>\n    <div>\n      <span>Examples:</span>\n      <button onClick={props.onRequestClose}>Close</button>\n    </div>\n    <table className={styles.LatexExamples}>\n      <tbody>\n      {examples.map((s, i) => (\n          <RenderExample key={`render-example-${i}`} text={s} />\n      ))}\n      </tbody>\n    </table>\n    <div>\n      <button onClick={props.onRequestClose}>Close</button>\n    </div>\n    </div>\n  )\n}\n\nexport default LatexExamples","import React from 'react'\nimport { RenderJson } from '../../renderJson'\nimport styles from './styles.module.css'\nimport math from 'mathjs'\n\n\nconst round = function(v, n) {\n  const d = Math.pow(10,n)\n  return Math.floor(d*v) / d\n}\n\nfunction calcParametric(x, y, domain, step) {\n  const f = (t) => ({x: round(x(t), 6), y: round(y(t), 6)})\n  let paths = []\n  let points = []\n  let t = domain[0]\n  while (t < domain[1]) {\n    try {\n      const pt = f(t)\n      if (points.length > 0 && Math.abs(pt.y - points[points.length-1].y) > 100) {\n        paths.push(points)\n        points = [pt]\n      } else {\n        points.push(pt)\n      }\n    } catch(e) {\n      if (points.length > 0) {\n        paths.push(points)\n        points = []\n      }\n    }\n    t += step\n  }\n  try {\n    points.push(f(domain[1]))\n  } catch(e) {}\n  if (points.length > 0) paths.push(points)\n  return paths\n}\n\nfunction parseFunction(str) {\n  try {\n    const nodes = math.parse(str)\n    const func = nodes.compile()\n    return scope => func.eval(scope)\n  } catch(e) {\n    console.error(e)\n  }\n}\n\n\n\nclass GraphMaker extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      mode: 'standard',\n      standard: 'x',\n      inverse: 'y',\n      parametricX: 't',\n      parametricY: 't',\n      x0: -10,\n      x1: 10,\n      y0: -10,\n      y1: 10,\n      t0: -10,\n      t1: 10,\n      step: 0.1,\n      height: 1.5,\n      autoDomain: 'auto',\n      autoSize: 'auto',\n    }\n  }\n\n  updateMode = evt => this.setState({mode: evt.target.value})\n  updateStandard = evt => this.setState({standard: evt.target.value})\n  updateInverse = evt => this.setState({inverse: evt.target.value})\n  updateParametricX = evt => this.setState({parametricX: evt.target.value})\n  updateParametricY = evt => this.setState({parametricY: evt.target.value})\n  updateX0 = evt => this.setState({x0: evt.target.value})\n  updateX1 = evt => this.setState({x1: evt.target.value})\n  updateY0 = evt => this.setState({y0: evt.target.value})\n  updateY1 = evt => this.setState({y1: evt.target.value})\n  updateT0 = evt => this.setState({t0: evt.target.value})\n  updateT1 = evt => this.setState({t1: evt.target.value})\n  updateStep = evt => this.setState({step: evt.target.value})\n  updateHeight = evt => this.setState({height: evt.target.value})\n  updateAutoDomain = evt => this.setState({autoDomain: evt.target.value})\n  updateAutoSize = evt => this.setState({autoSize: evt.target.value})\n\n  renderMode() {\n    return (\n      <select value={this.state.mode}\n        onChange={this.updateMode}\n      >\n        <option value='standard' title=\"y is a function of x\">Standard</option>\n        <option value='inverse' title=\"x is a function of y\">Inverse</option>\n        <option value='parametric' title=\"x and y are functions of t\">Parametric</option>\n      </select>\n    )\n  }\n\n  renderGridInputs() {\n    return (\n      <>\n      <table>\n        <tbody>\n          <tr>\n            <th /><th>Min</th><th>Max</th>\n          </tr>\n          <tr>\n            <td>x</td>\n            <td><input type=\"number\" value={this.state.x0} onChange={this.updateX0} /></td>\n            <td><input type=\"number\" value={this.state.x1} onChange={this.updateX1} /></td>\n          </tr>\n          <tr>\n            <td>y</td>\n            <td><input type=\"number\" value={this.state.y0} onChange={this.updateY0} /></td>\n            <td><input type=\"number\" value={this.state.y1} onChange={this.updateY1} /></td>\n          </tr>\n        </tbody>\n      </table>\n      </>\n    )\n  }\n\n  renderInputs() {\n    if (this.state.mode === 'standard') {\n      return (\n        <table>\n          <tbody>\n            <tr>\n              <td>y=</td>\n              <td><textarea value={this.state.standard} onChange={this.updateStandard}/></td> \n            </tr>\n          </tbody>\n        </table>\n      )\n    }\n    if (this.state.mode === 'inverse') {\n      return (\n        <table>\n          <tbody>\n            <tr>\n              <td>x=</td>\n              <td><textarea value={this.state.inverse} onChange={this.updateInverse}/></td> \n            </tr>\n          </tbody>\n        </table>\n      )\n    }\n    if (this.state.mode === 'parametric') {\n      return (\n        <table>\n          <tbody>\n            <tr>\n              <td>x=</td>\n              <td><textarea value={this.state.parametricX} onChange={this.updateParametricX}/></td>\n            </tr>\n            <tr>\n              <td>y=</td>\n              <td><textarea value={this.state.parametricY} onChange={this.updateParametricY}/></td>\n            </tr>\n          </tbody>\n        </table>\n      )\n    }\n  }\n\n\n  renderDomainInput() {\n    return (\n      <>\n      Step:\n      <input type=\"number\" \n        step={0.01}\n        value={this.state.step} \n        onChange={this.updateStep}\n        min={0}\n      /><br/>\n        Domain: \n        {this.state.mode !== 'parametric' ? (\n          <select value={this.state.autoDomain} onChange={this.updateAutoDomain}>\n            <option value='auto'>Auto</option>\n            <option value='custom'>Custom</option>\n          </select>\n        ) : <br/>}\n        {(this.state.autoDomain === 'custom' || this.state.mode === 'parametric') ? (\n          <div>\n          <input type=\"number\" value={this.state.t0} onChange={this.updateT0} />\n          to \n          <input type=\"number\" value={this.state.t1} onChange={this.updateT1} />\n          </div>\n        ) : null }        \n      </>\n    )\n  }\n\n  renderHeightInput() {\n    return (\n      <>\n      Height:\n      <select value={this.state.autoSize} onChange={this.updateAutoSize}>\n        <option value='auto'>Default</option>\n        <option value='custom'>Custom</option>\n      </select>\n      {this.state.autoSize === 'custom' ? (\n        <>\n          <br/>\n          Inches:\n          <input type=\"number\"\n            step={0.1}\n            value={this.state.height}\n            onChange={this.updateHeight}\n            min={0}\n          />\n        </>\n      ) : null}\n      </>\n    )\n  }\n\n  graphSize() {\n    return {\n      span: [\n        +this.state.x0, \n        +this.state.y0, \n        +this.state.x1, \n        +this.state.y1\n      ],\n    }\n  }\n\n  getDomain() {\n    if (this.state.mode === 'parametric' || this.state.autoDomain === 'custom') {\n      return [+this.state.t0, +this.state.t1]\n    }\n    if (this.state.mode === 'standard') {\n      return [+this.state.x0, +this.state.x1]\n    }\n    if (this.state.mode === 'inverse') {\n      return [+this.state.y0, +this.state.y1]\n    }\n  }\n\n  getFunction() {\n    const step = this.state.step > 0 ? +this.state.step : 0.002\n    const domain = this.getDomain()\n    switch(this.state.mode) {\n      case 'standard':\n        const ymap = parseFunction(this.state.standard)\n        if (ymap) {\n          const paths = calcParametric(t=>t, x=>ymap({x}), domain, step)\n          return paths.map(p => ['Path', {points: p}])\n        }\n        return null\n\n      case 'inverse':\n        const xmap = parseFunction(this.state.inverse)\n        if (xmap) {\n          const paths = calcParametric(y=>xmap({y}), t=>t, domain, step)\n          return paths.map(p => ['Path', {points: p}])\n        }\n        return null\n      case 'parametric':\n        const xpmap = parseFunction(this.state.parametricX)\n        const ypmap = parseFunction(this.state.parametricY)\n        if (xpmap && ypmap) {\n          const paths = calcParametric(t=>xpmap({t}), t=>ypmap({t}), domain, step)\n          return paths.map(p => ['Path', {points: p}])\n        }\n        return null\n      default:\n        return null\n    }\n  }\n\n  getData() {\n    let props = {\n      ...this.graphSize(), \n      autogrid: true,\n    }\n    if (this.state.autoSize === 'custom') {\n      props.height = this.state.height + 'in'\n    } else {\n      props.height = '2in'\n    }\n    const paths = this.getFunction()\n    if (paths) {\n      return ['VectorGraphic', ['CoordinatePlane', props, ...paths]]\n    }\n    return ['VectorGraphic', ['CoordinatePlane', props]]\n  }\n\n  onSubmit = () => {\n    this.props.onSubmit(this.getData())\n    this.props.onRequestClose()\n  }\n\n  render() {\n    return (\n      <div className={styles.GraphMaker}>\n        <div className={styles.GraphMakerHeading}>\n          <button onClick={this.onSubmit}>Apply</button>\n          <button onClick={this.props.onRequestClose}>Cancel</button>\n        </div>\n        <div className={styles.GraphMakerBody}>\n          <div className={styles.GraphMakerInput}>\n            <div style={{margin: '3mm'}}>\n              Graphing Mode {this.renderMode()}\n              {this.renderInputs()}\n            </div>\n            <div style={{margin: '3mm'}}>\n            {this.renderDomainInput()}\n            </div>\n            <div style={{margin: '3mm'}}>\n              {this.renderGridInputs()}\n            </div>\n            <div>\n              {this.renderHeightInput()}\n            </div>\n          </div>\n          <div className={styles.GraphMakerPreview}>\n            <div className='document preview-area'>\n              <RenderJson json={this.getData()} />\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport default GraphMaker","import React from 'react'\nimport { connect } from 'react-redux'\nimport { RenderJson } from '../../renderJson'\nimport { addToDocument } from '../../actions/document'\nimport LatexExamples from './LatexExamples'\nimport GraphMaker from './GraphMaker'\nimport ReactModal from 'react-modal'\n\nconst tabsize = 2;\n\nfunction onKeyDown(evt) {\n  if (evt.keyCode === 9) { // handle tab\n    let target = evt.target;\n    const start = target.selectionStart;\n    const end = target.selectionEnd;\n    const value = target.value;\n    target.value = value.substring(0,start) + Array(tabsize).fill(' ').join('') + value.substring(end);\n    target.selectionStart = start + tabsize;\n    target.selectionEnd = end + tabsize;\n    evt.preventDefault();\n  } else if (evt.keyCode === 8) { // handle backspace\n    let target = evt.target;\n    const start = target.selectionStart;\n    if (start === target.selectionEnd) {\n      const value = target.value;\n      if (value.substring(start-tabsize, start) === Array(tabsize).fill(' ').join('')) {\n        target.value = value.substring(0,start-tabsize) + value.substring(start);\n        target.selectionStart = start - tabsize;\n        target.selectionEnd = start - tabsize;\n        evt.preventDefault();\n      }\n    }\n  }\n}\n\nconst jsonExample = `{\n  \"instructions\": \"Use the Pythagorean Theorem: $$a^2 + b^2 = c^2$$\",\n\n  \"question\": \"Which is closest to the length of $$\\\\\\\\overline{XY}$$?\",\n\n  \"answer\": {\n    \"choices\": [6, 8, 10, 12, 14],\n    \"correctIndex\": 2\n  },\n\n  \"diagram\": [\n    \"CoordinatePlane\",\n    {\"span\": \"-5,-5 5,5\", \"axis\": false, \"height\": \"1.5in\"},\n    [\"Path\", {\"points\": \"-4,3 4,-3\", \"markers\": \".-.\"}],\n    [\"Label\", {\"x\": -3, \"y\": 4}, \"$$X$$\"],\n    [\"Label\", {\"x\": 3, \"y\": -3}, \"$$Y$$\"]\n  ]\n}`\n\n\nclass CustomQuestion extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      inputType: 'manual',\n      instructions: '',\n      question: '',\n      answer: '',\n      diagram: '',\n      json: '',\n      modal: 'none',\n    }\n    this.inputType = React.createRef()\n    this.instructions = React.createRef()\n    this.question = React.createRef()\n    this.answer = React.createRef()\n    this.json = React.createRef()\n  }\n\n  openExamples = () => this.setState({ modal: 'examples' })\n  openGraphMaker = () => this.setState({modal: 'graph'})\n  closeModal = () => this.setState({ modal: 'none' })\n\n  updateInstructions = (evt) => {\n    this.setState({ instructions: evt.target.value })\n  }\n  updateQuestion = (evt) => {\n    this.setState({ question: evt.target.value })\n  }\n  updateDiagram = (diagram) => {\n    this.setState({diagram})\n  }\n  updateAnswer = (evt) => {\n    this.setState({ answer: {...this.state.answer, correct: evt.target.value }})\n  }\n  updateJSON = (evt) => {\n    this.setState({ json: evt.target.value })\n  }\n\n  updateInputType = (evt) => {\n    this.setState({inputType: evt.target.value})\n\n    /*\n    const inputType = evt.target.value\n    const data = this.getDataFromState()\n    if (data) {\n      if (inputType === 'json') {\n        const json = JSON.stringify(data,null,2)\n        if (json.length <= 2) {\n          this.setState({inputType, json: ''})\n        } else {\n          this.setState({inputType, json})\n        }\n      } else {\n        const newstate = {}\n        for (const k of ['instructions', 'question', 'answer']) {\n          if (data[k]) {\n            if (typeof data[k] === 'string') newstate[k] = data[k];\n            else if (data[k].type === 'text') newstate[k] = data[k].data;\n            else newstate[k] = '';\n          } else {\n            newstate[k] = '';\n          }\n        }\n        this.setState({ inputType, ...newstate })\n      }\n    } else {\n      this.setState({inputType})\n    }\n    */\n  }\n\n  getDataFromState() {\n    if (this.state.inputType === 'manual') {\n      const content = {}\n      for (const k of ['instructions', 'question', 'answer']) {\n        if (this.state[k]) {\n          content[k] = this.state[k]\n        }\n      }\n      if (this.state.diagram) {\n        content.diagram = this.state.diagram\n      }\n      return content\n    } else if (this.state.inputType === 'json') {\n      try {\n        const content = JSON.parse(this.state.json)\n        return content\n      } catch(e) {\n      }\n    }\n  }\n\n  addQuestion = () => {\n    const props = {content: this.getDataFromState()}\n    this.props.addToDocument(['NumberedQuestion', props])\n    this.props.onRequestClose()\n  }\n\n  renderInputs() {\n    if (this.state.inputType === 'manual') {\n      const inputStyle = {width:'30rem'}\n      return (\n        <div >\n          <p>\n            Tip: Text surrounded with $$ ... $$ will be treated as a math formula.\n          </p>\n          <button onClick={this.openExamples}>See Examples</button>\n          <p>Instructions:</p>\n          <textarea \n            value={this.state.instructions}\n            onChange={this.updateInstructions}\n            style={inputStyle}\n            ></textarea>\n\n          <p>Question:</p>\n          <textarea \n            value={this.state.question}\n            onChange={this.updateQuestion}\n            style={inputStyle}\n          ></textarea>\n\n          <p>Diagram:</p>\n          <button onClick={this.openGraphMaker}>Add Graph</button>\n          \n          <p>Answer:</p>\n          <textarea \n            value={this.state.answer.correct}\n            onChange={this.updateAnswer}\n            style={inputStyle}\n          ></textarea>\n        </div>\n      )\n    } else {\n      return (\n        <>\n          <button onClick={this.setJsonExample}>See example</button>\n          <br/>\n          <textarea \n            value={this.state.json}\n            onChange={this.updateJSON}\n            onKeyDown={onKeyDown}\n            spellCheck={false}\n            style={{width:'30rem', height: '18rem', fontSize: '0.9em'}}\n          />\n          <br/>\n        </>\n      )\n    }\n  }\n\n  setJsonExample = () => {\n    const json = jsonExample\n    this.setState({ json })\n  }\n\n  renderPreview() {\n    const content = this.getDataFromState()\n    const previewStyle = {\n      margin: '2mm',\n      width: 'fit-content',\n      fontSize: '1.2em',\n      minWidth: '3in',\n    }\n    const props = { content }\n    return (\n      <>\n      <p>Question</p>\n      <div className='document preview-area' style={previewStyle}>\n        {content ? <RenderJson json={['Question', props]} /> : null}\n      </div>\n      <p>Answer</p>\n      <div className='document preview-area' style={previewStyle}>\n        {content ? <RenderJson json={['AnswerKey', props]} /> : null}\n      </div>\n      </>\n    )\n  }\n\n  render() {\n    const divstyle = {\n      width: 'auto',\n      padding: '0',\n      margin: '0',\n      display: 'grid',\n      gridTemplateAreas: '\"inputs preview\"',\n      gridTemplateColumns: 'auto auto',\n    }\n    return (\n      <>\n      <div style={divstyle}>\n        <div style={{gridArea: 'inputs'}}>\n          <h4 style={{gridArea: 'title'}}>Custom Question</h4>\n          <select ref={this.inputType} onChange={this.updateInputType}>\n            <option value=\"manual\">Manual</option>\n            <option value='json'>JSON</option>\n          </select>\n          {this.renderInputs()}\n        </div>\n        <div style={{gridArea: 'preview'}}>\n          <h4>Preview</h4>\n          {this.renderPreview()}\n        </div>\n      </div>\n      <button onClick={this.addQuestion}>Add to Assignment</button>\n\n\n      <ReactModal isOpen={this.state.modal === 'examples'}\n        onRequestClose={this.closeModal}\n        style={{\n          content: {\n            backgroundColor: 'var(--ui-page, white)',\n            color: 'black',\n            //top: '0',\n            //bottom: '0',\n            //borderTop: 'none',\n            //borderBottom: 'none',\n            //left: '50px',\n            //right: '50px',\n          }\n        }}\n      >\n        <LatexExamples onRequestClose={this.closeModal}/>\n      </ReactModal>\n\n      <ReactModal isOpen={this.state.modal === 'graph'}\n        onRequestClose={this.closeModal}\n      >\n        <GraphMaker onRequestClose={this.closeModal} onSubmit={this.updateDiagram}/>\n      </ReactModal>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: (q) => dispatch(addToDocument(q))\n})\n\nexport default connect(null, mapDispatchToProps)(CustomQuestion)","import { connect } from 'react-redux'\nimport CustomQuestion from './CustomQuestion'\nimport {\n  addToDocument\n} from '../../actions/document'\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: (thing) => dispatch(addToDocument(thing))\n})\n\nexport default connect(null, mapDispatchToProps)(CustomQuestion)","import React from 'react'\n\n\nconst Notes = (props) => {\n\n  return (\n    <>\n    <span style={{fontWeight: 'bold', fontSize: '1em'}}>\n      <span style={{marginRight: '3mm'}}>Notes</span>\n      <button onClick={props.onRequestClose}>Close</button>\n    </span>\n    <div>\n      <p>Double-click on the document to edit an element.</p>\n      <p>Create a PDF by selecting \"Save to PDF\" when printing.</p>\n      <p>Make sure the scale is set to 100% when printing.</p>\n      <p>\n        Changing the font size or deleting questions from the middle of the\n        document can cause the calculated page breaks to no longer be \n        appropriate. Use the 'Fix Pagination' button to quickly recalculate \n        all page breaks.\n      </p>\n      <p>In some browsers only the first page prints.</p>\n      <p>The answer key can't be over one page long.</p>\n\n    </div>\n    </>\n  )\n}\n\nexport default Notes","import React from 'react'\nimport { connect } from 'react-redux'\n\nclass CheckStateButton extends React.Component {\n\n  logState = () => {console.log(this.props.state)}\n\n  render() {\n    return <button onClick={this.logState}>{this.props.children}</button>\n  }\n}\n\nconst mapStateToProps = state => ({\n  state: state,\n})\n\nexport default connect(mapStateToProps)(CheckStateButton)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { kebabCase } from 'lodash'\nimport { updateGraphStyle } from '../../../actions/style'\n\nfunction setCss(k, v) {\n  document.body.style.setProperty(k, v)\n}\n\nclass GraphStyle extends React.Component {\n  static propTypes = {\n    updateGraphStyle: PropTypes.func.isRequired,\n    propertyName: PropTypes.string.isRequired,\n    current: PropTypes.string.isRequired,\n  }\n\n  constructor(props) {\n    super(props)\n    this.cssName = `--vg-${kebabCase(props.propertyName)}`\n  }\n\n  componentDidMount() {\n    setCss(this.cssName, this.props.current)\n  }\n\n  componentDidUpdate() {\n    setCss(this.cssName, this.props.current)\n  }\n\n  setValue(value) {\n    this.props.updateGraphStyle({[this.props.propertyName]: value})\n  }\n\n  onChange = (evt) => {\n    this.setValue(evt.target.value)\n  }\n\n}\n\nclass Color extends GraphStyle {\n  render() {\n    return (\n      <input type='color'\n        value={this.props.current}\n        onChange={this.onChange}\n      />\n    )\n  }\n}\n\nclass Width extends GraphStyle {\n  onChange = (evt) => {\n    this.setValue(evt.target.value + 'mm')\n  }\n  render() {\n    return (\n      <input type='range'\n        value={this.props.current.slice(0,-2)}\n        onChange={this.onChange}\n        min='0'\n        max='1'\n        step='0.01'\n      />\n    )\n  }\n}\n\nclass Opacity extends GraphStyle {\n  render() {\n    return (\n      <input type='range'\n        value={this.props.current}\n        onChange={this.onChange}\n        min='0'\n        max='1'\n        step='0.01'\n      />\n    )\n  }\n}\n\n\nconst mapDispatchToProps = dispatch => ({\n  updateGraphStyle: (props) => dispatch(updateGraphStyle(props))\n})\n\nfunction createComponent(base, propertyName) {\n  class StyleSettingComponent extends base {\n    static defaultProps = ({propertyName: propertyName})\n  }\n  \n  return connect(\n    state => ({current: state.style.graph[propertyName]}), \n    mapDispatchToProps\n  )(StyleSettingComponent)\n}\n\n\nexport const Function1Color = createComponent(Color, 'function1Color')\nexport const Function2Color = createComponent(Color, 'function2Color')\nexport const FunctionWidth = createComponent(Width, 'functionWidth')\nexport const GeomColor = createComponent(Color, 'geomColor')\nexport const GeomWidth = createComponent(Width, 'geomWidth')\nexport const AsymptoteColor = createComponent(Color, 'asymptoteColor')\nexport const AsymptoteWidth = createComponent(Width, 'asymptoteWidth')\nexport const AxisColor = createComponent(Color, 'axisColor')\nexport const AxisWidth = createComponent(Width, 'axisWidth')\nexport const GridColor = createComponent(Color, 'gridColor')\nexport const GridWidth = createComponent(Width, 'gridWidth')\nexport const FillOpacity = createComponent(Opacity, 'fillOpacity')\n\n\n\n\nclass SwapButton extends React.Component {\n  static propTypes = {\n    current1: PropTypes.string.isRequired,\n    current2: PropTypes.string.isRequired,\n    propertyName1: PropTypes.string.isRequired,\n    propertyName2: PropTypes.string.isRequired,\n    updateGraphStyle: PropTypes.func.isRequired,\n  }\n\n  constructor(props) {\n    super(props)\n    this.cssName1 = `--vg-${kebabCase(props.propertyName1)}`\n    this.cssName2 = `--vg-${kebabCase(props.propertyName2)}`\n  }\n\n  doSwap = () => {\n    setCss(this.cssName1, this.current2)\n    setCss(this.cssName2, this.current1)\n    this.props.updateGraphStyle({\n      [this.props.propertyName1]: this.props.current2,\n      [this.props.propertyName2]: this.props.current1,\n    })\n  }\n\n  render() {\n    return (\n      <button onClick={this.doSwap}>{this.props.children}</button>\n    )\n  }\n}\n\nexport const FunctionColorSwap = connect(\n  state => ({\n    current1: state.style.graph.function1Color, \n    current2: state.style.graph.function2Color,\n    propertyName1: 'function1Color',\n    propertyName2: 'function2Color'\n  }),\n  dispatch => ({\n    updateGraphStyle: updates => dispatch(updateGraphStyle(updates)),\n  })\n)(SwapButton)","import React from 'react'\n\nimport { RenderJson } from '../../../renderJson'\n\nexport const PreviewXYPlot = () => {\n  \n  \n  const vasymptotes = [-3]\n  const holes = [-5]\n  const hasymptotes = [2]\n\n  //const f = x => 2*Math.sin(x*Math.PI/4) + 7\n  //const g = x => (x+2)*(x-8)/2 + (x+2)/5 + 5\n\n  const f = x => (x-2)*(x-7) - 3 + (x/3)\n  const g = x => -(x-2)*(x-7) - 3 + (x/3)\n\n\n  const regionTop = []\n  const regionBottom = []\n  const fpoints = []\n  const gpoints = []\n  const step = 0.5\n\n  let x = -5\n  while (x <= 3) {\n    const fpt = ({x, y: f(x)})\n    const gpt = ({x, y: g(x)})\n    fpoints.push(fpt)\n    gpoints.push(gpt)\n    x += step\n  }\n\n  while (x <= 6) {\n    const fpt = ({x, y: f(x)})\n    const gpt = ({x, y: g(x)})\n    fpoints.push(fpt)\n    gpoints.push(gpt)\n    x += 0.02\n  }\n\n  while (x <= 11) {\n    const fpt = ({x, y: f(x)})\n    const gpt = ({x, y: g(x)})\n    fpoints.push(fpt)\n    gpoints.push(gpt)\n    x += step\n  }\n\n  const json = [\n    'CoordinatePlane', {span: [-10,-10,10,10], height: '3in'},\n    [\n      'Style', {name: 'asymptote'},\n      ...vasymptotes.map(v => ['Path', {points: [[v, -12], [v, 12]]}]),\n      ...hasymptotes.map(v => ['Path', {points: [[-12, v], [12, v]]}])\n    ],\n    [\n      'Style', {name: 'primary'},\n      ['Path', {points: fpoints, fill: 'solid'}],\n      [\n        'Transform', {type: 'translate', y: 2},\n        [\n          'RationalFunction', {\n            numerLC: 2,\n            asymptotes: vasymptotes,\n            holes: holes,\n            domain: [-11,-3],\n            renderAsymptotes: false,\n          }\n        ],\n      ],\n      ['Point', {x: -4, y: 0}],\n    ],\n    [\n      'Style', {name: 'secondary'},\n      ['Path', {points: gpoints, fill: 'solid'}],\n      \n      ['Point', {x: 2, y: f(2)}],\n      ['Point', {x: 7, y: f(7)}],\n      \n    ]\n  ]\n  return <RenderJson json={json} />\n\n  /*\n  return (\n    <CoordinatePlane span={[-10,-10,10,10]} width=\"3in\">\n      {vasymptotes.map(p => <Asymptote key={`va-${p}`} points={[{x: p, y: -12}, {x: p, y: 12}]} />)}\n      {hasymptotes.map(p => <Asymptote key={`ha-${p}`} points={[{x: -12, y: p}, {x: 12, y: p}]} />)}\n        \n      <Layer style='function-2'>\n        <FillRegion points={fpoints} />\n        <Path points={fpoints} />\n      </Layer>\n\n      <Layer style='function-1'>\n        <Layer transform={['translate', {y: 2}]}>\n          <RationalFunction \n            numerLC={2}\n            asymptotes={vasymptotes} \n            holes={holes} \n            domain={[-11,-3]} renderAsymptotes={false}\n          />\n        </Layer>\n        <FillRegion points={gpoints}/>\n        <Path points={gpoints}/>\n        <Point x='-4' y='0' />\n        <Point x='2' y={f(2)} />\n        <Point x='7' y={f(7)} />\n      </Layer>\n\n    </CoordinatePlane>\n  )\n  */\n\n}\n\nexport const PreviewGeom = () => {\n\n  const poly= [\n    [13,11], [17,12], [18,16], [15,18], [11,14]\n  ]\n  const ray = [[2,12], [7,13]]\n  const line = [[8,17], [2,18]]\n  const seg = [[7,15], [2,15]]\n  const circ = ({cx: 4, cy: 7, r: 2})\n\n  const json = [\n    'CoordinatePlane', {span: [0,0,20,20], height: '3in', style: 'geometry'},\n    ['Polyline', {points: poly, markers: \"...\"}],\n    ['Polyline', {points: ray, markers: \".->\"}],\n    ['Polyline', {points: line, markers: \"<->\"}],\n    ['Polyline', {points: seg, markers: \".-.\"}],\n  ]\n\n  return <RenderJson json={json} />\n\n  /*\n  return (\n    <CoordinatePlane span={[0,0,20,20]} width='3in'>\n      <Layer style='geometry'>\n      <Polygon vertices={poly} />\n      \n      <Ray points={ray} />\n      <Line points={line} />\n      <Segment points={seg} />\n      \n      </Layer>\n    </CoordinatePlane>\n  )\n  */\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { resetGraphStyle } from '../../../actions/style'\nimport {\n  Function1Color, FunctionWidth, Function2Color, FunctionColorSwap,\n  GeomColor, GeomWidth,\n  AsymptoteColor, AsymptoteWidth,\n  AxisColor, AxisWidth,\n  GridColor, GridWidth,\n  FillOpacity,\n} from './GraphStyle'\nimport { PreviewXYPlot, PreviewGeom } from './GraphPreview'\n\nimport styles from './styles.module.css'\n\n\nclass GraphSettings extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {style: 'xy-plot'}\n  }\n\n  changeStyle = evt => {\n    this.setState({style: evt.target.value})\n  }\n\n  resetToDefaults = () => {\n   this.props.resetGraphStyle()\n  }\n\n  renderPreview() {\n    if (this.state.style === 'geom') {\n      return <PreviewGeom />\n    }\n    return <PreviewXYPlot />\n  }\n\n  renderStyleSettings() {\n    if (this.state.style === 'xy-plot') {\n      return (\n        <>\n          <tr>\n            <td>Primary</td>\n            <td><Function1Color/></td>\n            <td><FunctionWidth/></td>\n          </tr>\n          <tr>\n            <td>Secondary</td>\n            <td><Function2Color/></td>\n            <td><FunctionColorSwap>Swap Colors</FunctionColorSwap></td>\n          </tr>\n          <tr>\n            <td>Asymptote</td>\n            <td><AsymptoteColor/></td>\n            <td><AsymptoteWidth/></td>\n          </tr>\n          <tr>\n            <td colSpan='2'>Fill</td>\n            <td><FillOpacity /></td>\n          </tr>\n        </>\n      )\n    }\n    if (this.state.style === 'geom') {\n      return (\n        <>\n          <tr>\n            <td>Path</td>\n            <td><GeomColor/></td>\n            <td><GeomWidth/></td>\n          </tr>\n        </>\n      )\n    }\n    return null\n  }\n\n  render() {\n    return (\n      <div className={styles.Layout}>\n        <div className={styles.Settings}>\n          <h3>Graph Style</h3>\n          <button onClick={this.resetToDefaults}>Reset to Defaults</button>\n          \n          <table className={styles.SettingTable}>\n\n            <thead>\n              <tr>\n                <th></th>\n                <th>Color</th>\n                <th>Thickness</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>Axis</td>\n                <td><AxisColor/></td>\n                <td><AxisWidth/></td>\n              </tr>\n\n              <tr>\n                <td>Grid</td>\n                <td><GridColor/></td>\n                <td><GridWidth/></td>\n              </tr>\n              <tr>\n                <td colSpan='3' >\n                  <div style={{margin: '5mm 0'}}>\n                    <span>Editing style for </span>\n                    <select onChange={this.changeStyle} value={this.state.style}>\n                      <option value='geom'>geometry</option>\n                      <option value='xy-plot'>xy-plot</option>\n                    </select>\n                  </div>\n                </td>\n              </tr>\n\n              {this.renderStyleSettings()}\n            </tbody>\n\n          </table>\n        </div>\n        <div className={styles.Preview}>\n          <div className='document preview-area'>\n            {this.renderPreview()}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  resetGraphStyle: () => dispatch(resetGraphStyle()),\n})\n\nexport default connect(null, mapDispatchToProps)(GraphSettings)","import GraphSettings from './GraphSettings'\n\nexport default GraphSettings","import React from 'react'\nimport PropTypes from 'prop-types'\n\nclass GUImode extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.darkMode = React.createRef()\n    this.debugView = React.createRef()\n  }\n\n  update = () => {\n    const classNames = []\n    if (this.darkMode.current.checked) {\n      classNames.push('ui-dark-mode')\n    }\n    if (this.debugView.current.checked) {\n      classNames.push('debug-view')\n    }\n    if (classNames.length) {\n      document.body.setAttribute('class', classNames.join(' '))\n    } else {\n      document.body.removeAttribute('class')\n    }\n  }\n\n  componentDidMount() {\n    this.update()\n  }\n\n  render() {\n    return (\n      <div style={{fontSize: '0.8em'}}>\n      <div>\n        <input \n          ref={this.darkMode}\n          defaultChecked={false}\n          type=\"checkbox\"\n          onChange={this.update}/>\n        Dark Mode\n      </div>\n      <div>\n        <input \n          ref={this.debugView}\n          defaultChecked={false}\n          type=\"checkbox\"\n          onChange={this.update}/>\n        Layout on Hover\n      </div>\n      </div>\n    )\n  }\n}\n\nexport default GUImode","import React from 'react'\nimport FontSettings from './Font'\nimport GraphSettings from './Graph'\nimport GUImode from './GUImode'\nimport styles from './styles.module.css'\n\n\nclass SettingsPage extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {showing: 'font'}\n  }\n\n  showFontSettings = () => {\n    this.setState({showing: 'font'})\n  }\n  showGraphSettings = () => {\n    this.setState({showing: 'graph'})\n  }\n\n  renderSettings() {\n    switch (this.state.showing) {\n      case 'font': return <FontSettings/>\n      case 'graph': return <GraphSettings/>\n      default: return null\n    }\n  }\n\n  render() {\n    return (\n      <div className={styles.SettingPage}>\n\n        <div className={styles.LeftBar}>\n          <div>\n            <span className={styles.Title}>Settings</span>\n          </div>\n          \n          <div className={styles.NavArea}>\n            <button\n              className={styles.NavButton}\n              onClick={this.showFontSettings}\n              disabled={this.state.showing === 'font'}\n            >Fonts</button>\n            <button\n              className={styles.NavButton}\n              onClick={this.showGraphSettings}\n              disabled={this.state.showing === 'graph'}\n            >Graphs</button>\n          </div>\n\n          <div>\n            <button onClick={this.props.onRequestClose}>Close</button>\n          </div>\n          \n        </div>\n        \n        <div className={styles.SettingSection}>\n          {this.renderSettings()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default SettingsPage","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setAllowEditing } from '../../actions/config'\n\nclass AllowEditing extends React.Component {\n  static propTypes = {\n    current: PropTypes.bool.isRequired,\n    setAllowEditing: PropTypes.func.isRequired,\n  }\n\n  toggle = (evt) => {\n    if (evt.target.checked) {\n      this.props.setAllowEditing(true)\n    } else {\n      this.props.setAllowEditing(false)\n    }\n  }\n\n  render() {\n    return (\n      <input\n        onChange={this.toggle}\n        type='checkbox' \n        checked={this.props.current}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.config.allowEditing,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setAllowEditing: (b) => dispatch(setAllowEditing(b)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AllowEditing)","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { setShowAnswerKey } from '../../actions/config'\n\n\nclass AnswerKeyToggle extends React.Component {\n  static propTypes = {\n    current: PropTypes.bool.isRequired,\n    setShowAnswerKey: PropTypes.func.isRequired,\n  }\n\n  toggle = (evt) => {\n    if (evt.target.checked) {\n      this.props.setShowAnswerKey(true)\n    } else {\n      this.props.setShowAnswerKey(false)\n    }\n  }\n\n  render() {\n    return (\n      <input\n        onChange={this.toggle}\n        type='checkbox' \n        checked={this.props.current}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.config.showAnswerKey,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setShowAnswerKey: (bool) => dispatch(setShowAnswerKey(bool)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AnswerKeyToggle)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setHiddenCount } from '../../actions/config'\nimport { clearPageBreaks } from '../../actions/document'\n\nclass FixPagination extends React.Component {\n  static propTypes = {\n    hidden: PropTypes.number.isRequired,\n    setHiddenCount: PropTypes.func.isRequired,\n  }\n\n  reset = () => {\n    this.props.clearPageBreaks()\n    this.props.setHiddenCount(this.props.total)\n  }\n\n  check() {\n    setTimeout(() => {\n      if (this.props.hidden > 0) {\n        this.props.setHiddenCount(this.props.hidden-1)\n      }\n    }, 20)\n  }\n\n  componentDidMount() {\n    this.check()\n  }\n\n  componentDidUpdate() {\n    this.check()\n  }\n\n  render() {\n    return (\n      <button onClick={this.reset}>Fix Pagination</button>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  hidden: state.config.numberHidden,\n  total: state.document.order.length,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setHiddenCount: n => dispatch(setHiddenCount(n)),\n  clearPageBreaks: () => dispatch(clearPageBreaks()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FixPagination)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { setPageMargin } from '../../actions/style'\n\nconst MarginOptions = [\n  '0.25in',\n  '0.5in',\n  '0.75in',\n  '1.0in',\n]\n\nclass SetPageMargin extends React.Component {\n\n  static propTypes = {\n    current: PropTypes.string.isRequired,\n    setPageMargin: PropTypes.func.isRequired,\n  }\n\n  setPageMargin(margin) {\n    this.props.setPageMargin(margin)\n  }\n\n  updateFromSelection = (evt) => {\n    const m = evt.target.value\n    this.setPageMargin(m)\n  }\n\n  render() {\n    return (\n      <select\n        onChange={this.updateFromSelection}\n        value={this.props.current}\n      >\n        {MarginOptions.map((m) => (\n          <option key={m} value={m}>{m}</option>\n        ))}\n      </select>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.style.pageMargin,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setPageMargin: (m) => dispatch(setPageMargin(m))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SetPageMargin)","import React from 'react'\nimport PropTypes from 'prop-types'\n\nclass PreviewZoom extends React.Component {\n  static propTypes = {\n    defaultValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    values: PropTypes.arrayOf(PropTypes.number),\n    type: PropTypes.string.isRequired,\n    min: PropTypes.number,\n    max: PropTypes.number,\n    step: PropTypes.number,\n    options: PropTypes.arrayOf(PropTypes.number),\n  }\n\n  static defaultProps = {\n    defaultValue: 100,\n    type: 'input',\n    min: 30,\n    max: 200,\n    step: 10,\n    options: [25, 50, 75, 100, 125, 150, 175, 200],\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = { zoom: props.defaultValue }\n  }\n\n  setZoom() {\n    const perc = this.state.zoom\n    const scale = perc / 100.0\n    const transform = `matrix(${[scale, 0, 0, scale, 0, 0].join(',')})`\n    document.body.style.setProperty('--previewInnerTransform', transform)\n  }\n\n  updateState = evt => {\n    const zoom = +evt.target.value\n    this.setState({ zoom })\n  }\n\n  zoomIn = () => {\n    const zoom = Math.min(+this.state.zoom + this.props.step, this.props.max)\n    this.setState({ zoom })\n  }\n\n  zoomOut = () => {\n    const zoom = Math.max(+this.state.zoom - this.props.step, this.props.min)\n    this.setState({ zoom })\n  }\n\n  componentDidMount() {\n    this.setZoom()\n  }\n\n  componentDidUpdate() {\n    this.setZoom()\n  }\n\n  renderInput() {\n    return (\n      <input\n        type=\"number\"\n        min={this.props.min}\n        max={this.props.max}\n        step={this.props.step}\n        value={this.state.zoom}\n        onChange={this.updateState}\n      ></input>\n    )\n  }\n\n  renderSelect() {\n    return (\n      <select\n        value={this.state.zoom}\n        onChange={this.updateState}>\n        {this.props.options.map((z) => <option key={`zoom-option-${z}`} value={z}>{z}</option>)}\n      </select>\n    )\n  }\n\n  renderButtons() {\n    return (\n      <>\n        <button onClick={this.zoomOut}>-</button>\n        <button onClick={this.zoomIn}>+</button>\n      </>\n    )\n  }\n\n  render() {\n    if (this.props.type === 'input') {\n      return this.renderInput()\n    }\n    if (this.props.type === 'select') {\n      return this.renderSelect()\n    }\n    if (this.props.type === 'buttons') {\n      return this.renderButtons()\n    }\n  }\n}\n\nexport default PreviewZoom","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setDocumentStartNumbering } from '../../actions/document'\n\nclass StartNumbering extends React.Component {\n\n  setCSSVariable(n) {\n    document.body.style.setProperty('--doc-startnumber', n-1)\n  }\n\n  setNumbering = evt => {\n    const startat = evt.target.value\n    if (startat) {\n      this.setCSSVariable(startat)\n      this.props.setDocumentStartNumbering(startat)\n    }\n  }\n\n  render() {\n    return (\n      <input \n        onChange={this.setNumbering}\n        type='number' \n        min='1'\n        value={this.props.current}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  current: state.document.startNumbering,\n})\nconst mapDispatchToProps = dispatch => ({\n  setDocumentStartNumbering: (n) => dispatch(setDocumentStartNumbering(n)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StartNumbering)","import SettingsPage from './SettingsPage'\n\nimport { FontFamily, FontSize, AddLocalFont, FontFamilyUI } from './Font'\nimport AllowEditingToggle from './AllowEditing'\nimport AnswerKeyToggle from './AnswerKeyToggle'\nimport FixPagination from './FixPagination'\nimport GUImode from './GUImode'\nimport PageMargin from './PageMargin'\nimport PreviewZoom from './PreviewZoom'\nimport StartNumbering from './StartNumbering'\n\nexport {\n  AddLocalFont,\n  AllowEditingToggle,\n  AnswerKeyToggle,\n  FixPagination,\n  FontFamily,\n  FontFamilyUI,\n  FontSize,\n  GUImode,\n  PageMargin,\n  PreviewZoom,\n  StartNumbering,\n}\n\nexport default SettingsPage","import {\n  range as mathjsrange \n} from 'mathjs'\n\nexport const range = function(start, stop, inclusive=false) {\n  return mathjsrange(start, stop, inclusive)._data\n}\n\nexport const gcd = function(a, b) {\n  if (a > b) {\n    return gcd(b, a)\n  } else if (a === 0) {\n    return b\n  } else {\n    return gcd(b % a, a)\n  }\n}\n\nexport const divrem = function(n, p) {\n  let r = n\n  let d = 0\n  while (r % p === 0) {\n    r = r / p\n    d += 1\n  }\n  return [d, r]\n}\n\nexport const primeFactorization = function(n) {\n  let result = {}\n  let r = n\n  let d\n  let p = 2\n  if (r % p === 0) {\n    [d, r] = divrem(r, p)\n    result[p] = d\n  }\n  p = 3\n  if (r % p === 0) {\n    [d, r] = divrem(r, p)\n    result[p] = d\n  }\n  p = 5\n  while (p * p <= r) {\n    if (r % p === 0) {\n      [d, r] = divrem(r, p)\n      result[p] = d\n    }\n    if (r === 1) {\n      return result\n    }\n    p += 2\n    if (r % p === 0) {\n      [d, r] = divrem(r, p)\n      result[p] = d\n    }\n    if (r === 1) {\n      return result\n    }\n    p += 4\n  }\n  if (r !== 1) {\n    result[r] = 1\n  }\n  return result\n}\n\nexport const listFactors = function(n, {include1=false, includeN=false}) {\n  let result = []\n  const start = include1 ? 1 : 2\n  const stop = includeN ? n : n-1\n  for (let i = start; i <= stop; i++) {\n    if (n % i === 0) {\n      result.push(i)\n    } \n  }\n  return result\n}\n","import Random from 'random-js'\n\nexport class Randomizer {\n  constructor(seed=null) {\n    this.seed = seed\n    this.engine = Random.engines.mt19937()\n    this.reset()\n  }\n\n  reset() {\n    if (this.seed !== null) {\n      this.engine.seed(this.seed)\n    } else {\n      this.engine.autoSeed()\n    }\n  }\n\n  randint(min, max) {\n    return Random.integer(min, max)(this.engine)\n  }\n\n  real(min, max, inclusive=false) {\n    return Random.real(min, max, inclusive)(this.engine)\n  }\n\n  random(max=1.0) {\n    return this.real(0, max, false)\n  }\n\n  shuffle(array, first) {\n    if (first !== undefined) {\n      let shuffled = Random.shuffle(this.engine, array.slice(1))\n      return [...shuffled.slice(0,first), array[0], ...shuffled.slice(first)]\n    } else {\n      return Random.shuffle(this.engine, array)\n    }\n  }\n\n  shuffleRange(start, end) {\n    let range = []\n    for (let i = start; i <= end; i++) range.push(i);\n    return this.shuffle(range)\n  }\n\n  bool() {\n    return Random.pick(this.engine, [true, false])\n  }\n\n  choice(array) {\n    return Random.pick(this.engine, array)\n  }\n\n  sample(pop, size) {\n    return Random.sample(this.engine, pop, size)\n  }\n\n  sampleRange(start, end, size) {\n    let range = []\n    for (let i = start; i <= end; i++) range.push(i);\n    return this.sample(range, size)\n  }\n\n  poprandom(array) {\n    const i = this.randint(0,array.length-1)\n    return array.splice(i,1)[0]\n  }\n}\n\n","//import math from 'mathjs'\nimport { Randomizer } from './tools/random_randomjs'\nimport { defaultsDeep } from 'lodash'\n\nlet randomSeedGenerator = new Randomizer()\n\nclass QGen {\n  constructor(props={}) {\n    this.params = props.params || {}\n    //this.randomSeed = props.randomSeed || math.randomInt(0, math.pow(2,32))\n    this.randomSeed = props.randomSeed || randomSeedGenerator.randint(0, Math.pow(2, 32)-1)\n    this.random = new Randomizer(this.randomSeed)\n  }\n\n  static register() {\n    let result = {name: this.name}\n    return {...result, ...this.info}\n  }\n\n  getOptions() {\n    return this.constructor.options\n  }\n\n  _specialCaseValues(k, v) {\n    return v\n  }\n\n  _specialCaseKeys(k, v) {\n    //if (k === 'answer') return '_answer'\n    return k\n  }\n\n  setRandomSeed(seed) {\n    this.randomizer.seed(seed)\n  }\n\n  _getParams() {\n    let result = ({})\n    for (const k in this.constructor.params) {\n      if (this.params[k] !== undefined) {\n        result[k] = this.params[k]\n      } else {\n        result[k] = this.constructor.params[k].default\n      }\n    }\n    return result\n  }\n\n  output() {\n    const out = this.generate(this._getParams())\n    let content = {}\n    for (const k in out) {\n      content[this._specialCaseKeys(k)] = this._specialCaseValues(k, out[k])\n    }\n    return [\n      'NumberedQuestion',\n      { content, options: this.getOptions() },\n    ]\n  }\n}\n\nexport default QGen","import math from 'mathjs'\nimport Polynomial from 'polynomial'\nimport fraction from 'fraction.js'\nimport { range, gcd, listFactors } from './tools/handystuff'\nimport QGen from './QGen'\nimport _ from 'lodash'\n\n\n/***** Handy Things *********/\n\nfunction randomPolynomialCoefficients({degree, maxCoefficient=12, terms='auto'}={}) {\n\tconst rd = this.random\n\tif (terms === 'auto') {\n\t\tterms = degree + 1\n\t}\n\tlet p = {}\n\tconst whichterms = rd.sample(range(0,degree), terms-1)\n\tp[degree] = rd.randint(1, maxCoefficient)\n\n\tfor (const d of whichterms) {\n\t\tp[d] = rd.randint(1, maxCoefficient) * rd.choice([-1,1])\n\t}\n\treturn p\n}\n\nfunction randomPolynomial(props={}) {\n\tconst p = randomPolynomialCoefficients.call(this, props)\n\treturn new Polynomial(p)\n}\n\n\n\n/***********************\n\n\nQuestion Generators \n\n\n************************/\n\n\nexport class SolveQuadratic extends QGen {\n\tstatic info = {\n\t\tname: 'Solve Quadratic',\n\t\tdescription: 'Solve a quadratic equation with integer solutions.'\n\t}\n\n\tstatic options = {\n\t\tsingleColumn: true,\n\t}\n\n\n\tgenerate(props) {\n\t\tconst rd = this.random\n\t\tconst [r1, r2] = rd.sample(range(-12,13), 2)\n\n\t\tconst a = 1\n\t\tconst b = -(r1 + r2)\n\t\tconst c = r1 * r2\n\n\t\tconst poly = new Polynomial({2: a, 1: b, 0: c})\n\t\tconst rand = randomPolynomial.call(this, {degree: 2, maxCoefficient: 7, terms: 2})\n\t\t\n\t\tconst [left, right] = rd.random() < 0.5 ? [poly.add(rand), rand] : [rand, poly.add(rand)]\n\n\t\tfunction fmtAns(ans) {\n\t\t\treturn'$$x = ' + ans.sort((a, b) => a > b).join(', ') + '$$'\n\t\t}\n\n\t\treturn {\n\t\t\tinstructions: 'Determine the values of $$x$$ that satisfy the equation:',\n\t\t\tquestion: '$$' + left.toLatex() + ' = ' + right.toLatex() +'$$',\n\t\t\tanswer: fmtAns([r1, r2]),\n\t\t}\n\t}\n}\n\nexport class FactorQuadraticHard extends QGen {\n\tstatic info = {\n\t\tname: 'Factor Quadratic (Hard)',\n\t\tdescription: 'Factor a quadratic using AC method.'\n\t}\n\n\tstatic options = {\n\t\tsingleColumn: true,\n\t}\n\n\tgenerate(params) {\n\t\tlet rd = this.random\n\n\t\tconst a1 = rd.randint(2,5)\n\t\tconst a2 = rd.randint(2,8-a1)\n\n\t\tlet b1 = rd.randint(1,14-a2)\n\t\twhile (gcd(a1, b1) !== 1) {\n\t\t\tb1 = rd.randint(1,14-a2)\n\t\t}\n\t\tb1 *= rd.choice([-1,1])\n\n\t\t\n\t\tlet b2 = rd.randint(2, 14-a1)\n\t\twhile (gcd(a2, b2) !== 1) {\n\t\t\tb2 = rd.randint(1,14-a1)\n\t\t}\n\t\tb2 *= rd.choice([-1,1])\n\n\t\t// prevent difference of squares\n\t\twhile ((a1 === a2 && b1 === -b2) || (a1 === -a2 && b1 === b2)) {\n\t\t\tb2 = rd.randint(2, 14-a1)\n\t\t\twhile (gcd(a2, b2) !== 1) {\n\t\t\t\tb2 = rd.randint(1,14-a1)\n\t\t\t}\n\t\t\tb2 *= rd.choice([-1,1])\n\t\t}\n\n\t\tconst p1 = new Polynomial({1: a1, 0: b1})\n\t\tconst p2 = new Polynomial({1: a2, 0: b2})\n\n\t\tconst a = a1 * a2\n\t\tconst b = a1 * b2 + a2 * b1\n\t\tconst c = b1 * b2\n\n\t\tconst poly = new Polynomial({2: a, 1: b, 0: c})\n\n\t\tconst answer = `$$(${p1.toLatex()})(${p2.toLatex()})$$`\n\n\t\treturn {\n\t\t\tinstructions: 'Rewrite as the product of linear factors:',\n\t\t\tquestion: `$$${poly.toLatex()}$$`,\n\t\t\tanswer: answer,\n\t\t}\n\t}\n}\n\n\nexport class RationalGraph extends QGen {\n\tstatic info = {\n\t\tname: 'Rational Graph',\n\t\tdescription: 'Determine the equation from the graph of a rational function'\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\n\t\tconst makeFunction = (top, bottom) => {\n\t\t\tlet f = function(x) {\n\t\t\t\tlet n = 1\n\t\t\t\tlet d = 1\n\t\t\t\tfor (const r of top) {\n\t\t\t\t\tn *= (x - r)\n\t\t\t\t}\n\t\t\t\tfor (const r of bottom) {\n\t\t\t\t\td *= (x - r)\n\t\t\t\t}\n\t\t\t\treturn n / d\n\t\t\t}\n\t\t\treturn f\n\t\t}\n\n\t\tfunction generateValues() {\n\t\t\tlet vals = rd.sample(range(1, 9), 4).map(v => rd.random() < 0.5 ? v : -v)\n\t\t\tlet roots = [vals[0]]\n\t\t\tlet holes = [vals[1]]\n\t\t\tlet asymptotes = [vals[2]]\n\t\t\tif (rd.random() < 0.5) {\n\t\t\t\tasymptotes.push(vals[3])\n\t\t\t} else if (rd.random() < 0.8) {\n\t\t\t\tholes.push(vals[3])\n\t\t\t}\n\t\t\treturn ({roots, holes, asymptotes})\n\t\t}\n\n\t\tfunction allHolesInRange(holes, f) {\n\t\t\tfor (const r of holes) {\n\t\t\t\tif (f(r) <= -10 || f(r) >= 10) {\n\t\t\t\t\treturn false\n\t\t\t\t} \n\t\t\t}\n\t\t\treturn true\n\t\t}\n\n\t\tlet roots, holes, asymptotes, f\n\t\tlet isGood = false\n\n\t\twhile (!isGood) {\n\t\t\t({roots, holes, asymptotes} = generateValues())\n\t\t\tf = makeFunction(roots, asymptotes)\n\t\t\tisGood = allHolesInRange(holes, f)\n\t\t}\n\t\t\n\n\t\tconst graph = [\n\t\t\t'CoordinatePlane',\n\t\t\t{span: [-10,-10,10,10], height: '2.2in'},\n\t\t\t[\n\t\t\t\t'RationalFunction',\n\t\t\t\t{\n\t\t\t\t\tdomain: [-12,12],\n\t\t\t\t\trange: [-12,12],\n\t\t\t\t\troots, holes, asymptotes,\n\t\t\t\t}\n\t\t\t]\n\t\t]\n\n\n\t\tfunction fmtAns(ans) {\n\t\t\tlet numer = ''\n\t\t\tfor (const r of ans.top.sort((a,b) => b-a)) {\n\t\t\t\tnumer += '(' + math.simplify(`x - ${r}`).toString() + ')'\n\t\t\t}\n\t\t\tlet denom = ''\n\t\t\tfor (const r of ans.bottom.sort((a,b) => b-a)) {\n\t\t\t\tdenom += '(' + math.simplify(`x - ${r}`).toString() + ')'\n\t\t\t}\n\t\t\treturn `$$y = \\\\displaystyle\\\\frac{ ${numer} }{ ${denom} }$$`\n\t\t}\n\n\t\tconst answer = {top: [...roots, ...holes], bottom: [...holes, ...asymptotes]}\n\n\t\tconst wrongs = [\n\t\t\t{top: [...holes, ...asymptotes], bottom: [...holes, ...roots]},\n\t\t\t{top: [...roots], bottom: [...holes, ...asymptotes]},\n\t\t\t{top: [...roots, ...holes].map(r => -r), bottom: [...holes, ...asymptotes].map(r => -r)},\n\t\t\t{top: [...holes, ...asymptotes].map(r => -r), bottom: [...holes, ...roots].map(r => -r)},\n\t\t]\n\n\t\tconst i = rd.randint(0,wrongs.length)\n\t\tconst choices = rd.shuffle([answer, ...wrongs].map(fmtAns), i)\n\n\t\treturn {\n\t\t\tinstructions: 'Choose the equation that best describes the graph shown.',\n\t\t\tfreeResponse: {\n\t\t\t\tinstructions: 'Write the equation that best describes the graph shown.'\n\t\t\t},\n\t\t\tdiagram: graph,\n\t\t\tanswer: {\n\t\t\t\tcorrect: fmtAns(answer),\n\t\t\t\tchoices: choices,\n\t\t\t\tcorrectIndex: i,\n\t\t\t\tprompt: [{label: '$$y = $$', height: '8em', width: '20em'}],\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n\nexport class IncreasingIntervals extends QGen {\n\tstatic info = {\n\t\tname: 'Increasing Intervals',\n\t\tdescription: 'Identify intervals over which a graph is increasing'\n\t}\n\n\tstatic params = {\n\t\ttoFind: {\n\t\t\tlabel: 'Type of interval to find',\n\t\t\ttype: 'multipleselect',\n\t\t\toptions: [\n\t\t\t\t{value: 'inc', label: 'increasing'}, \n\t\t\t\t{value: 'dev', label: 'decreasing'}\n\t\t\t],\n\t\t\tdefault: ['inc'],\n\t\t},\n\t\tstyle: {\n\t\t\tlabel: 'Graph style',\n\t\t\ttype: 'select',\n\t\t\toptions: ['jagged', 'smooth'],\n\t\t\tdefault: 'smooth'\n\t\t},\n\t\tpoints: {\n\t\t\tlabel: 'Mark points',\n\t\t\ttype: 'bool',\n\t\t\tdefault: true,\n\t\t}\n\t}\n\n\tinterpolatePath(points) {\n\t\t// smooths path so that 1st deriv = 0 at each point\n\t\tconst pts = Array.isArray(points[0]) ? points.map(p => ({x: p[0], y: p[1]})) : points\n\t\tlet d = `M${pts[0].x},${pts[0].y}`\n\t\tlet prev = pts[0]\n\t\tfor (let i = 1; i < pts.length; i++) {\n\t\t\tconst p = pts[i]\n\t\t\tconst x1 = (2*prev.x + p.x) / 3\n\t\t\tconst x2 = (prev.x + 2*p.x) / 3\n\t\t\td += ` C ${x1},${prev.y} ${x2},${p.y} ${p.x},${p.y}`\n\t\t\tprev = p\n\t\t}\n\t\treturn d\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\n\t\tconst toFind = rd.choice(params.toFind)\n\n\t\tconst xs = [-10]\n\t\tlet prev = -10\n\t\twhile (prev < 7) {\n\t\t\tconst next = rd.randint(prev+3, prev+5)\n\t\t\tif (next > 7) {\n\t\t\t\txs.push(8)\n\t\t\t} else {\n\t\t\t\txs.push(next)\n\t\t\t}\n\t\t\tprev = xs[xs.length-1]\n\t\t}\n\t\txs.push(10)\n\n\t\tconst yRange = [-4,4]\n\t\tconst ys = [rd.randint(...yRange)]\n\n\t\tlet maxConstantIntervals = 2\n\t\tlet which\n\t\twhile (ys.length < xs.length) {\n\t\t\tlet possible = []\n\t\t\tconst prev = ys[ys.length-1]\n\t\t\tif (which !== 'dec' & prev >= yRange[0]+2) {\n\t\t\t\tpossible.push('dec')\n\t\t\t}\n\t\t\tif (which !== 'inc' & prev <= yRange[1]-2) {\n\t\t\t\tpossible.push('inc')\n\t\t\t}\n\t\t\tif (which !== 'const' & maxConstantIntervals > 0) {\n\t\t\t\tpossible.push('const')\n\t\t\t\tmaxConstantIntervals -= 1\n\t\t\t}\n\t\t\twhich = rd.choice(possible)\n\t\t\tif (which === 'dec') {\n\t\t\t\tys.push(rd.randint(Math.max(yRange[0], prev-7), prev-2))\n\t\t\t} else if (which === 'inc') {\n\t\t\t\tys.push(rd.randint(prev+2, Math.min(yRange[1], prev+7)))\n\t\t\t} else {\n\t\t\t\tys.push(prev)\n\t\t\t}\n\t\t}\n\n\t\tif (rd.random() < 0.5) {\n\t\t\tys.reverse()\n\t\t}\n\n\t\tconst intervals = []\n\t\tfor (let i = 1; i < ys.length; i++) {\n\t\t\tif (ys[i-1] < ys[i]) {\n\t\t\t\tintervals.push('inc')\n\t\t\t} else if (ys[i-1] === ys[i]) {\n\t\t\t\tintervals.push('const')\n\t\t\t} else {\n\t\t\t\tintervals.push('dec')\n\t\t\t}\n\t\t}\n\n\t\tlet answer = []\n\t\tlet wrongAnswer1 = []  // ys insteas of xs\n\t\tlet wrongAnswer2 = []  // points instead of xs\n\t\tlet wrongAnswer3 = []  // switch dec/inc\n\t\tlet wrongAnswer4 = []  // switch dec/inc, ys instead of xs\n\n\t\tlet points = [\n\t\t\t{x: xs[0], y: ys[0]},\n\t\t]\n\t\tfor (let i=0; i < intervals.length; i++) {\n\t\t\tpoints.push({x: xs[i+1], y: ys[i+1]})\n\t\t\tif (intervals[i] === toFind) {\n\t\t\t\tanswer.push({start: xs[i], stop: xs[i+1]})\n\t\t\t\twrongAnswer1.push({start: ys[i], stop: ys[i+1]})\n\t\t\t\twrongAnswer2.push({start: xs[i], stop: ys[i]})\n\t\t\t\twrongAnswer2.push({start: xs[i+1], stop: ys[i+1]})\n\t\t\t} else if (intervals[i] === {'inc': 'dec', 'dec': 'inc'}[toFind]) {\n\t\t\t\twrongAnswer3.push({start: xs[i], stop: xs[i+1]})\n\t\t\t\twrongAnswer4.push({start: ys[i], stop: ys[i+1]})\n\t\t\t}\n\t\t}\n\n\t\tconst path = params.style === 'smooth' ? {d: this.interpolatePath(points)} : {points}\n\t\tif (params.points) {\n\t\t\tpath.markers = '...'\n\t\t}\n\t\t\n\t\tconst diagram = [\n\t\t\t'CoordinatePlane', {span: [-10,yRange[0]-1,10,yRange[1]+1], height: '1.4in', clip: false},\n\t\t\t['Path', path]\n\t\t]\n\t\t\n\t\tconst fullName = {inc: 'increasing', dec: 'decreasing'}[toFind]\n\n\t\tfunction fmtAns(ans) {\n\t\t\tif (ans.length === 0) {\n\t\t\t\treturn 'None'\n\t\t\t}\n\t\t\treturn '$$' + ans.map((int) => `(${int.start}, ${int.stop})`).join(', ') + '$$'\n\t\t}\n\n\t\tconst wrongs = [wrongAnswer1, wrongAnswer2, wrongAnswer3, wrongAnswer4]\n\t\tconst answerIndex = rd.randint(0, wrongs.length)\n\t\tconst choices = rd.shuffle([answer, ...wrongs], answerIndex).map(fmtAns)\n\n\t\treturn ({\n\t\t\tinstructions: `Determine the intervals over which the function is ***${fullName}***.`,\n\t\t\tdiagram: diagram,\n\t\t\tanswer: {\n\t\t\t\tcorrect: fmtAns(answer),\n\t\t\t\tchoices: choices,\n\t\t\t\tcorrectIndex: answerIndex,\n\t\t\t\tprompt: ['EmptySpace', {width: '2in'}]\n\t\t\t}\n\t\t})\n\t}\n}\n\n\nclass AngleMeasure extends QGen {\n\tstatic info = {\n\t\tname: 'Angle Measure',\n\t\tdescription: '',\n\t}\n\n\tgenerate(params) {\n\n\t\tconst translate = (a, b) => [a[0] + b[0], a[1]+ b[1]]\n\t\tconst difference = (a, b) => [a[0] - b[0], a[1] - b[1]]\n\t\t//const complexMult = (a, b) => [a[0] * b[0] - a[1] * b[1], a[1] * b[0] + a[0] * b[1]]\n\t\t/*\n\t\tconst rotate = (pt, angle, center=[0,0]) => {\n\t\t\tconst radians = angle * Math.PI / 180\n\t\t\tconst rotator = [Math.cos(radians), Math.sin(radians)]\n\t\t\tconst recenter = difference(pt, center)\n\t\t\treturn translate(complexMult(recenter, rotator), center)\n\t\t}\n\t\t*/\n\n\t\tconst rd = this.random\n\n\t\tconst angle1 = rd.randint(35, 145)\n\n\t\tconst rotateBy = rd.randint(0, 359)\n\t\t//let diagram = new Canvas(-20, -20, 20, 20, {height: '1.5in'})\n\t\t//let graph = new PlotElement('g', {transform: `rotate(${rotateBy})`})\n\n\t\tconst intersect1 = [-5,0]\n\t\tconst r = 10\n\t\tconst pp = [r * Math.cos(angle1 * Math.PI / 180), r * Math.sin(angle1 * Math.PI / 180)]\n\t\tconst top1 = translate(intersect1, pp)\n\t\tconst bottom1 = difference(intersect1, pp)\n\n\t\tconst intersect2 = [intersect1[0] + r, intersect1[1]]\n\t\tconst top2 = [top1[0] + r, top1[1]]\n\t\tconst bottom2 = [bottom1[0] + r, bottom1[1]]\n\n\t\tconst left = [intersect1[0] - r, intersect1[1]]\n\t\tconst right = [intersect2[0] + r, intersect2[1]]\n\n\t\t\n\t\tconst diagram = [\n\t\t\t'CartesianPlane',\n\t\t\t{span: [-20,-20,20,20], height: '3in', autogrid: false, style: 'geom'},\n\t\t\t[\n\t\t\t\t'Rotate', \n\t\t\t\t{degrees: rotateBy},\n\t\t\t\t['GeomLine', {points: [left, right]}],\n\t\t\t\t['GeomLine', {points: [top1, bottom1]}],\n\t\t\t\t['GeomLine', {points: [top2, bottom2]}],\n\t\t\t\t['Point', {coords: intersect1}],\n\t\t\t\t['Point', {coords: intersect2}]\n\t\t\t]\n\t\t]\n\n\n\t\treturn {\n\t\t\tinstructions: 'Work in progress',\n\t\t\tdiagram: {\n\t\t\t\t'type': 'vectorgraphic',\n\t\t\t\t'data': diagram,\n\t\t\t}\n\t\t}\n\n\t}\n}\n\nexport class RationalZeroTheorem extends QGen {\n\tstatic info = {\n\t\tname: 'Rational Zero Theorem',\n\t\tdescription: 'State possible rational zeros for a polynomial function.'\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\t\tlet primes = rd.sample([1, 2, 3, 5, 7, 11], 4)\n\t\tfor (const i in primes) {\n\t\t\tif (primes[i] === 1) {\n\t\t\t\tif (i === 0 | i === 2) {\n\t\t\t\t\tprimes[i+1] = Math.pow(primes[i+1], rd.randint(1,2))\n\t\t\t\t} else {\n\t\t\t\t\tprimes[i-1] = Math.pow(primes[i-1], rd.randint(1,2))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (const i in primes) {\n\t\t\tif (primes[i] === 2 | primes[i] === 3) {\n\t\t\t\tprimes[i] = Math.pow(primes[i], rd.randint(1,2))\n\t\t\t}\n\t\t}\n\t\tconst leading_coeff = primes[0] * primes[1]\n\t\tconst trailing_coeff = primes[2] * primes[3]\n\t\tconst degree = rd.randint(3,6)\n\t\tconst num_coeffs = rd.randint(3,degree)\n\t\tlet poly = randomPolynomialCoefficients.call(this, {degree: degree, terms: num_coeffs})\n\t\tpoly[0] = trailing_coeff\n\t\tpoly[degree] = leading_coeff\n\t\tconst f = new Polynomial(poly)\n\n\t\tconst question = '$$f(x) = ' + f.toLatex() + '$$'\n\t\t\n\t\tconst correctNumerators = listFactors(trailing_coeff, {include1: true, includeN: true})\n\t\tconst correctDenominators = listFactors(leading_coeff, {include1: true, includeN: true})\n\t\t\n\t\tconst allPossibleZeros = []\n\t\tfor (const a of correctNumerators) {\n\t\t\tfor (const b of correctDenominators) {\n\t\t\t\tallPossibleZeros.push(`${a}/${b}`)\n\t\t\t}\n\t\t}\n\n\t\tconst numCorrect = rd.choice([0,1,1,2,2,2,2,3,3,4])\n\t\tconst correctAnswers = []\n\t\twhile (correctAnswers.length < numCorrect) {\n\t\t\tconst [a, b] = [rd.choice(correctNumerators), rd.choice(correctDenominators)]\n\t\t\tconst s = `${a}/${b}`\n\t\t\tif (!_.includes(correctAnswers, s)) {\n\t\t\t\tcorrectAnswers.push(s)\n\t\t\t}\n\t\t}\n\n\t\tconst wrongAnswers = []\n\t\twhile (wrongAnswers.length < 4-numCorrect) {\n\t\t\tconst [a,b] = [rd.choice(correctDenominators), rd.choice(correctNumerators)]\n\t\t\tconst s = `${a}/${b}`\n\t\t\tif (!(s == '1/1') && !_.includes(wrongAnswers, s)) {\n\t\t\t\twrongAnswers.push(s)\n\t\t\t}\n\t\t}\n\n\t\tconst allChoices = [...correctAnswers, ...wrongAnswers]\n\t\tconst shuffled = []\n\t\tconst correctIndex = numCorrect ? [] : 4\n\t\tfor (let i = 0; i < 4; i++) {\n\t\t\tconst a = rd.poprandom(allChoices)\n\t\t\tif (_.includes(correctAnswers, a)) {\n\t\t\t\tcorrectIndex.push(i)\n\t\t\t}\n\t\t\tshuffled.push(a)\n\t\t}\n\n\t\treturn {\n\t\t\tinstructions: \"Which of the following are possible zeros of the function according to the _Rational Zero Theorem_? Choose ***all*** that apply.\",\n\t\t\tquestion: question,\n\t\t\tanswer: {\n\t\t\t\tcorrect: allPossibleZeros.map(s => `$$${fraction(s).toLatex()}$$`).join(', '),\n\t\t\t\tchoices: [...shuffled.map(s => `$$\\\\displaystyle ${fraction(s).toLatex()}$$`), 'None of these'],\n\t\t\t\tcorrectIndex: correctIndex,\n\t\t\t\tlistDirection: 'horizontal',\n\t\t\t},\n\t\t\tfreeResponse: {\n\t\t\t\tinstructions: \"List all possible rational zeros of the function (according to the _Rational Zero Theorem_).\"\n\t\t\t}\n\t\t}\n\t}\n}\n\n\nexport class GraphLinearInequalities extends QGen {\n\tstatic info = {\n\t\tname: 'Graph Inequalities',\n\t\tdescription: 'Graph the solution to a system of two linear inequalities',\n\t}\n\n\n\tstatic options = {\n\t\tsingleColumn: true,\n\t}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\t\t\n\t\tlet [x1, y1, y2] = rd.sampleRange(2,7,3)\n\t\tlet x2 = rd.randint(-7,-2)\n\t\tconst rotation = rd.randint(0,3)\n\t\tfor (let i = 0; i < rotation; i++) {\n\t\t\t[x1, y1, x2, y2] = [-y1, x1, -y2, x2]\n\t\t}\n\t\tif (x1 > 0 && x2 > 0) {\n\t\t\t[x1, y1, x2, y2] = [-y1, x1, -y2, x2]\n\t\t}\n\n\t\tconst [ineq1, ineq2] = rd.shuffle([rd.choice(['<', '>']), rd.choice(['<=', '>='])])\n\n\t\tconst line1 = {a: y1, b: x1, c: x1*y1, ineq: ineq1, xInt: x1, yInt: y1}\n\t\tconst line2 = {a: y2, b: x2, c: x2*y2, ineq: ineq2, xInt: x2, yInt: y2}\n\n\t\tconst withsign = n => n < 0 ? n : '+' + n\n\t\tconst latexineq = ineq => {\n\t\t\tif (ineq === '<=') return '\\\\leq'\n\t\t\tif (ineq === '>=') return '\\\\geq'\n\t\t\treturn ineq\n\t\t}\n\n\t\tconst latexeqn = f => `${f.a}x ${withsign(f.b)}y &${latexineq(f.ineq)} ${f.c}`\n\n\t\tconst question = `$$\\\\displaystyle\\\\left\\\\{\\\\begin{aligned} ${latexeqn(line1)} \\\\\\\\ ${latexeqn(line2)} \\\\end{aligned}\\\\right.$$`\n\n\t\tconst blankgraph = ['CoordinatePlane', {span: [-10,-10,10,10], height: '1.8in'}]\n\n\t\tconst correct = {\n\t\t\tlines: [], \n\t\t\tclips: [],\n\t\t}\n\n\t\tfor (const f of [line1, line2]) {\n\t\t\tconst func = x => (f.c - x*f.a) / f.b\n\t\t\tconst points = [[-11, func(-11)], [11, func(11)]]\n\n\t\t\tif (f.ineq === '<' || f.ineq === '>') {\n\t\t\t\tcorrect.lines.push(['Path', {points, style: 'dashed'}])\n\t\t\t} else {\n\t\t\t\tcorrect.lines.push(['Path', {points}])\n\t\t\t}\n\n\t\t\tlet whichside\n\t\t\tif (f.ineq === '<' || f.ineq === '<=') {\n\t\t\t\tif (f.b > 0) {\n\t\t\t\t\twhichside = 'below'\n\t\t\t\t}\telse {\n\t\t\t\t\twhichside = 'above'\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (f.b > 0) {\n\t\t\t\t\twhichside = 'above'\n\t\t\t\t} else {\n\t\t\t\t\twhichside = 'below'\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (whichside === 'above') {\n\t\t\t\tcorrect.clips.push([...points, [11,11], [-11, 11]])\n\t\t\t} else {\n\t\t\t\tcorrect.clips.push([...points, [11,-11], [-11, -11]])\n\t\t\t}\n\t\t}\n\n\t\tconst plotAnswer = a => (\n\t\t\t[\n\t\t\t\t'CoordinatePlane', {span: [-10,-10,10,10], height: '1in', style: 'primary function'},\n\t\t\t\t[\n\t\t\t\t\t'Clip', {shape: 'Path', points: a.clips[0]}, [\n\t\t\t\t\t\t'Clip', {shape: 'Path', points: a.clips[1]},\n\t\t\t\t\t\t['Path', {points: [[-11,-11], [-11,11], [11,11], [11,-11]], fill: \"solid\"}]\n\t\t\t\t]],\n\t\t\t\t['Style', {color: '#999'}, ...a.lines],\n\t\t\t\t['Clip', {shape: 'Path', points: a.clips[1]}, a.lines[0] ],\n\t\t\t\t['Clip', {shape: 'Path', points: a.clips[0]}, a.lines[1] ],\n\t\t\t]\n\t\t)\n\n\n\t\treturn {\n\t\t\tinstructions: 'Graph the solution to the system of inequalities.',\n\t\t\tquestion: question,\n\t\t\tanswer: {\n\t\t\t\tprompt: blankgraph,\n\t\t\t\tcorrect: plotAnswer(correct),\n\t\t\t},\n\t\t\tlayout: ['instructions', 'question', 'diagram', 'answer'],\n\t\t}\n\t}\n}\n\n","\n\nconst test = function(f, x, y) {\n  const r = f({x: x, y: y})\n  if (r > 0) { return 'gt' }\n  if (r < 0) { return 'lt'}\n  return 'eq'\n}\n\nconst contourPresent = function(f, x, y, d) {\n  const p = d / 30\n  let q, r, s, t\n  try {\n    q = test(f, x, y)\n  } catch(e) {\n    q = test(f, x+p, y+p)\n  }\n  \n  try {\n    r = test(f, x+d, y)\n  } catch(e) {\n    r = test(f, x+d-p, y+p)\n  }\n  if (r !== q) return true\n\n  try {\n    s = test(f, x+d, y+d)\n  } catch(e) {\n    s = test(f, x+d-p, y+d-p)\n  }\n  if (s !== q) return true\n\n  try {\n    t = test(f, x, y+d)\n  } catch(e) {\n    t = test(f, x+p, y+d-p)\n  }\n  if (t !== q) return true\n\n  return false\n}\n\n\nconst subdivide = function(f, x, y, d, depth, searchDepth) {\n  const hd = d / 2\n  const props = [hd, depth-1, searchDepth-1]\n  return [\n    ...createTree(f, x, y, ...props),\n    ...createTree(f, x+hd, y, ...props),\n    ...createTree(f, x+hd, y+hd, ...props),\n    ...createTree(f, x, y+hd, ...props)\n  ]\n}\n\nconst createTree = function(f, x, y, d, depth, searchDepth) {\n  if (searchDepth > 0) {\n    return subdivide(f, x, y, d, depth, searchDepth)\n  } else {\n    if (contourPresent(f, x, y, d)) {\n      if (depth > 0) {\n        return subdivide(f, x, y, d, depth, searchDepth)\n      } else {\n        return [{x: x+d/2, y: y+d/2}]\n      }\n    } else {\n      return []\n    }\n  }\n}\n\n\nclass QuadTree {\n\tconstructor({left, right, x=-10, y=-10, d=20, depth=10, searchDepth=6}) {\n    this.f = p => left(p) - right(p)\n\t\tthis.x = x\n\t\tthis.y = y\n\t\tthis.d = d\n\t\tthis.depth = depth\n\t\tthis.searchDepth = searchDepth\n\t}\n\n\tcalcPoints() {\n\t\treturn createTree(this.f, this.x, this.y, this.d, this.depth, this.searchDepth)\n\t}\n}\n\nexport {\n  QuadTree,\n  createTree,\n}","import QGen from './QGen'\nimport { createTree } from './tools/QuadTree'\n\n\nexport class RationalPlot extends QGen {\n  static info = {\n    name: 'RationalFunction',\n    description: 'test vectorgraphic RationalFunction'\n  }\n\n  generate(params) {\n    const rd = this.random\n\n    const inv = rd.choice([true, false])\n\n    const numRoots = rd.randint(0,2)\n    const numAsymptotes = rd.randint(1,3)\n    const numHoles = rd.randint(0,2)\n    const total = numRoots + numAsymptotes + numHoles\n    const values = rd.sampleRange(-9,9,total)\n    const roots = values.slice(0,numRoots)\n    const asymptotes = values.slice(numRoots, numRoots+numAsymptotes)\n    const holes = values.slice(numRoots+numAsymptotes)\n    const domain = [-11,11]\n\n    const [x, y] = inv ? ['y', 'x'] : ['x', 'y']\n\n    let num = ''\n    let den = ''\n\n    for (const r of [...roots, ...holes].sort((a,b) => b-a)) {\n      if (r === 0) {\n        num = `${x}${num}`\n      } else if (r > 0) {\n        num = `${num}(${x}-${r})`\n      } else {\n        num = `${num}(${x}+${-r})`\n      }\n    }\n\n    for (const r of [...asymptotes, ...holes].sort((a,b) => b-a)) {\n      if (r === 0) {\n        den = `${x}${den}`\n      } else if (r > 0) {\n        den = `${den}(${x}-${r})`\n      } else {\n        den = `${den}(${x}+${-r})`\n      }\n    }\n\n    if (num === '') num = '1'\n    if (den === '') den = '1'\n\n    const transform = inv ? 'invertXY' : 'none'\n\n    const graph = [\n      'CoordinatePlane',\n      {span: [-10,-10,10,10], height: '2in'},\n      [\n        'Transform', { type: transform },\n        [\n          'RationalFunction',\n          {roots, holes, asymptotes, domain}\n        ]\n      ]\n    ]\n\n    return {\n      question: `The graph of $$$ ${y} = \\\\frac{${num}}{${den}} $$$`,\n      diagram: graph,\n    }\n\n\n  }\n}\n\nexport class PolynomialPlot extends QGen {\n  static info = {\n    name: 'PolynomialFunction',\n    description: 'test vectorgraphic PolynomialFunction'\n  }\n\n  generate(params) {\n    const rd = this.random\n\n    const deg = rd.randint(2,7)\n    const inv = rd.choice([true, false])\n    let coeffs = rd.sample([-5,-4,-3,-2,-1,0,1,2,3,4,5], deg+1)\n    const denom = rd.randint(2, 21)\n    \n    if (coeffs[coeffs.length-1] === 0) {\n      coeffs = coeffs.slice(0,-1)\n    }\n    const [v, w] = inv ? ['y', 'x'] : ['x', 'y']\n    let tex = ''\n    for (let i = coeffs.length-1; i >= 0; i--) {\n      const c = coeffs[i]\n      const x = i === 0 ? '' : `${v}^{${i}}`\n      if (c > 0) {\n        if (i < coeffs.length-1) tex += '+';\n        if (c !== 1 || i === 0) tex += c;\n        tex += x\n      } else if (c < 0) {\n        if (c !== -1 || i === 0) {\n          tex += c\n        } else {\n          tex += '-'\n        }\n        tex += x\n      }\n    }\n\n    const transform = inv ? 'invertXY' : 'none'\n\n    const graph = [\n      'CoordinatePlane', {span: [-10,-10,10,10], width: '2in'},\n      [\n        'Transform', { type: transform },\n        [\n          'PolynomialFunction',\n          {coefficients: coeffs.map(c => c/denom), domain: [-11,11]}\n        ]\n      ]\n    ]\n\n    const question = `The graph of $$$ ${w} = \\\\frac{1}{${denom}}(${tex})$$$`\n\n    return {\n      question: question,\n      diagram: graph,\n      answer: {\n        prompt: null,\n      }\n    }\n  }\n}\n\nexport class PlotStyling extends QGen {\n  static info = {\n    name: 'Plot Style',\n    description: 'test applying custom styling to vectorgraphic'\n  }\n\n  generate(params) {\n    const x = t => 9*Math.sin(t)\n    const y = t => 9*Math.sin(1.17*t)\n    const step = 0.1\n    let path1 = []\n    let path2 = []\n    let path3 = []\n    let path4 = []\n\n    let t = -36\n\n    while (t <= -18) {\n      path1.push([x(t), y(t)])\n      t += step\n    }\n    path1.push([x(t), y(t)])\n\n    while (t <= 0) {\n      path2.push([x(t), y(t)])\n      t += step\n    }\n    path2.push([x(t), y(t)])\n\n    while (t <= 18) {\n      path3.push([x(t), y(t)])\n      t += step\n    }\n    path3.push([x(t), y(t)])\n\n\n    while (t <= 36) {\n      path4.push([x(t), y(t)])\n      t += step\n    }\n    path4.push([x(t), y(t)])\n\n\n    return {\n      answer: {prompt: null},\n      question: 'The graph of $$(x,y) = (9\\\\sin(t), 9\\\\cos(1.17t))$$ for $$-36 \\\\leq t \\\\leq 36$$:',\n      diagram: [\n        'CoordinatePlane', { span: [-10,-10,10,10], height: '3in'},\n        [\n          'Style', {color: 'hsl(340,70%,60%)'},\n          ['Path', {points: path4}],\n        ],\n        [\n          'Style', {color: 'hsl(30,90%,50%)'},\n          ['Path', {points: path3}],\n        ],\n        [\n          'Style', {color: 'hsl(80,90%,40%)'},\n          ['Path', {points: path2}],\n        ],\n        [\n          'Style', {color: 'hsl(170,90%,40%)'},\n          ['Path', {points: path1}],\n        ]\n      ]\n    }\n  }\n}\n\nexport class FontTest extends QGen {\n  static info = {\n    name: 'Font Test',\n    description: 'how do 1lIJ look?',\n  }\n\n  generate(params) {\n    const rd = this.random\n    const b = 1\n    const [Ix, Iy, Jx, Jy] = rd.sampleRange(2,8,4)\n    const diagram = [\n      'CoordinatePlane', {span: [0,0,10,10], height: '1.2in'},\n      ['Point', {x: Ix, y: Iy}],\n      ['Point', {x: Jx, y: Jy}],\n      ['Label', {x: Ix, y: Iy}, '_I_'],\n      ['Label', {x: Jx, y: Jy}, '_J_'],\n    ]\n    return {\n      instructions: '**Remember**, point-slope form: $$y - y_1 = m(x - x_1)$$, and $$m = \\\\frac{\\\\Delta y}{\\\\Delta x}$$.',\n      question: [\n        `Given that line _l_ has a _y-intercept_ of ${b} and`,\n        '_l_ $$\\\\perp$$ _IJ_, determine the equation in',\n        '***slope-intercept*** form (_y = mx + b_) for _l_.',\n      ].join('\\n'),\n      diagram: diagram,\n      layout: ['instructions', 'question', ['diagram', 'answer']],\n      answer: {\n        prompt: [\n          'AnswerBlanks', {items: ['equation: _y =_']}\n        ]\n      }\n    }\n  }\n}\n\n\nexport class FontDisplay extends QGen {\n  static info = {\n    name: \"Font Sample\"\n  }\n\n  generate(params) {\n    \n    const text = 'the quick brown fox jumps over the lazy dog 1234567890'\n\n    let lines = []\n\n    for (const chars of [text, text.toUpperCase()]) {\n      for (const x of ['', '_', '__', '___']) {\n        lines.push(`${x}${chars}${x}`)\n      }\n    }\n\n    lines.push('$$\\\\text{' + text + '}$$ (LaTeX)')\n    lines.push('$$\\\\text{\\\\textit{' + text + '}}$$ (LaTeX)')\n\n    return {\n      question: lines.join('  \\n'),\n    }\n  }\n}\n\nexport class QuadTreePlotTest extends QGen {\n  static info = {\n    name: 'QuadTree Plot Test',\n    description: 'Test alternate graphing algorithm'\n  }\n\n  generate(params) {\n    const f1 = ({x, y}) => Math.pow(Math.sin(x*x), 1)\n    const f2 = ({x, y}) => Math.pow(Math.cos(y*y), 1)\n    //const f3 = ({x, y}) => Math.pow(Math.sin(y*y), 1)\n    //const f4 = ({x, y}) => Math.pow(Math.cos(x*x), 1)\n\n    \n    let points = createTree(pt => f1(pt) - f2(pt), -5, -5, 10, 8, 6)\n\n    const graph = [\n      'CoordinatePlane',{span: [-5,-5,5,5], height: '3in'},\n      ['ScatterPlot', { points }]\n   ]\n\n\n\n    return {\n      answer: null,\n      question: \"The graph of $$\\\\sin(x^2) = \\\\cos(y^2)$$:\",\n      diagram: graph,\n    }\n  }\n}\n\nclass MdTest extends QGen {\n\n  static info = {\n    name: 'Formatting Test',\n    description: 'Test markdown/latex'\n  }\n\n  generate(params) {\n\n    const mdtest = `# Heading\n\nRegular, _Italic_, __Bold__, ___Both___, ~sub~script, ^super^script,  \\`monospaced\\`,  \narrows: --> <-- ==> <== <--> <==>\n\nThe formula $$x = \\\\frac{-b \\\\pm \\\\sqrt{b^2 - 4ac}}{2a}$$\nis used to solve quadratic equations.\n\nThe Collatz Function:\n$$$f(n) = \\\\left\\\\{ \\\\begin{array}{rl}\n  n \\\\div 2 & \\\\text{ if $n$ is even} \\\\\\\\\n  3n+1 & \\\\text{ if $n$ is odd}\n\\\\end{array}\\\\right.$$$\n\n- Thing A\n  - Thing A.1\n  - Thing A.2\n- Thing B\n\ninput ($$x$$) | output ($$y$$)\n:-: | :-:\n-3  | 3\n-2  | -2 \n-1  | -5\n 0  | -6\n\n> All summations have a beginning, all effect has a  \n> story, all kindness begins with the sown seed.  \n> Thought buds toward radiance. The gospel of  \n> light is the crossroads of -- indolence, or action.  \n> \n> Be ignited, or be gone.\n\n[Hyperlink](https://npr.org)\n\n${'```'}python\ndef gcd(a, b):\n    if a == b or b == 0:\n        return a\n    elif a == 0:\n        return b\n    else:\n      return gcd(a, a-b) if a > b else gcd(b, b-a)\n${'```'}\n`\n\n    return ({\n      answer: null,\n      question: {\n        type: 'markdown',\n        data: mdtest,\n      },\n    })\n  }\n\n}\n\n\n\nexport class VegaLite extends QGen {\n  static info = {\n    name: 'Vega Lite',\n    description: 'test vega-lite render type'\n  }\n\n  generate(params) {\n    let points = []\n\n    const f = x => ({x: x, y: 6*x - x*x, function: 'f'})\n    const g = x => ({x: x, y: 5*Math.sin(x), function: 'g'})\n\n    let t = 0\n    while (t <= 7) {\n      points.push(f(t))\n      points.push(g(t))\n      t += 0.2\n    }\n\n    const diagram2 = {\n      data: { values: points },\n      mark: {\n        type: 'line', \n        interpolate: 'monotone',\n      },\n      \"encoding\": {\n        x: {\n          field: 'x', \n          type: 'quantitative',\n        },\n        y: {\n          field: 'y', \n          type: 'quantitative',\n        },\n        color: {\n          field: 'function',\n          type: 'nominal'\n        }\n      },\n    }\n\n    return {\n      answer: null,\n      instructions: 'The graphs of $$f(x) = - x^2 + 6x$$ and $$g(x) = 5\\\\sin(x)$$',\n      diagram: ['VegaLite', diagram2],\n    }\n  }\n}\n\nclass VegaTest extends QGen {\n  static info = {\n    name: 'Vega Test',\n    description: 'Test Vega rendering'\n  }\n\n  generate(params) {\n    return {\n      answer: null,\n      instructions: \"Rendered with Vega:\",\n      diagram: ['Vega', {\n          \"$schema\": \"https://vega.github.io/schema/vega/v4.json\",\n          \"width\": 500,\n          \"height\": 200,\n          \"padding\": 5,\n        \n          \"signals\": [\n            {\n              \"name\": \"interpolate\",\n              \"value\": \"linear\",\n              \"bind\": {\n                \"input\": \"select\",\n                \"options\": [\n                  \"basis\",\n                  \"cardinal\",\n                  \"catmull-rom\",\n                  \"linear\",\n                  \"monotone\",\n                  \"natural\",\n                  \"step\",\n                  \"step-after\",\n                  \"step-before\"\n                ]\n              }\n            }\n          ],\n        \n          \"data\": [\n            {\n              \"name\": \"table\",\n              \"values\": [\n                {\"x\": 0, \"y\": 28, \"c\":0}, {\"x\": 0, \"y\": 20, \"c\":1},\n                {\"x\": 1, \"y\": 43, \"c\":0}, {\"x\": 1, \"y\": 35, \"c\":1},\n                {\"x\": 2, \"y\": 81, \"c\":0}, {\"x\": 2, \"y\": 10, \"c\":1},\n                {\"x\": 3, \"y\": 19, \"c\":0}, {\"x\": 3, \"y\": 15, \"c\":1},\n                {\"x\": 4, \"y\": 52, \"c\":0}, {\"x\": 4, \"y\": 48, \"c\":1},\n                {\"x\": 5, \"y\": 24, \"c\":0}, {\"x\": 5, \"y\": 28, \"c\":1},\n                {\"x\": 6, \"y\": 87, \"c\":0}, {\"x\": 6, \"y\": 66, \"c\":1},\n                {\"x\": 7, \"y\": 17, \"c\":0}, {\"x\": 7, \"y\": 27, \"c\":1},\n                {\"x\": 8, \"y\": 68, \"c\":0}, {\"x\": 8, \"y\": 16, \"c\":1},\n                {\"x\": 9, \"y\": 49, \"c\":0}, {\"x\": 9, \"y\": 25, \"c\":1}\n              ]\n            }\n          ],\n        \n          \"scales\": [\n            {\n              \"name\": \"x\",\n              \"type\": \"point\",\n              \"range\": \"width\",\n              \"domain\": {\"data\": \"table\", \"field\": \"x\"}\n            },\n            {\n              \"name\": \"y\",\n              \"type\": \"linear\",\n              \"range\": \"height\",\n              \"nice\": true,\n              \"zero\": true,\n              \"domain\": {\"data\": \"table\", \"field\": \"y\"}\n            },\n            {\n              \"name\": \"color\",\n              \"type\": \"ordinal\",\n              \"range\": \"category\",\n              \"domain\": {\"data\": \"table\", \"field\": \"c\"}\n            }\n          ],\n        \n          \"axes\": [\n            {\"orient\": \"bottom\", \"scale\": \"x\", 'titleFont': 'Zilla Slab'},\n            {\"orient\": \"left\", \"scale\": \"y\"}\n          ],\n        \n          \"marks\": [\n            {\n              \"type\": \"group\",\n              \"from\": {\n                \"facet\": {\n                  \"name\": \"series\",\n                  \"data\": \"table\",\n                  \"groupby\": \"c\"\n                }\n              },\n              \"marks\": [\n                {\n                  \"type\": \"line\",\n                  \"from\": {\"data\": \"series\"},\n                  \"encode\": {\n                    \"enter\": {\n                      \"x\": {\"scale\": \"x\", \"field\": \"x\"},\n                      \"y\": {\"scale\": \"y\", \"field\": \"y\"},\n                      \"stroke\": {\"scale\": \"color\", \"field\": \"c\"},\n                      \"strokeWidth\": {\"value\": 2}\n                    },\n                    \"update\": {\n                      \"interpolate\": {\"signal\": \"interpolate\"},\n                      \"fillOpacity\": {\"value\": 1}\n                    },\n                    \"hover\": {\n                      \"fillOpacity\": {\"value\": 0.5}\n                    }\n                  }\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    }\n  }\n}\n","import Polynomial from 'polynomial'\nimport fraction from 'fraction.js'\n\nimport QGen from './QGen'\n\n\n\nclass TransformTracker {\n\t// y = a * f((x - h)/b) + k\n\tconstructor(parent) {\n\t\tthis.parent = parent\n\t\tthis.a = fraction(1)\n\t\tthis.b = fraction(1)\n\t\tthis.h = 0\n\t\tthis.k = 0\n\t}\n\n  translate(x,y) { this.h += x; this.k += y }\n  scale(x,y) { this.b = this.b.mul(x); this.a = this.a.mul(y) }\n\ttranslateX(n) { this.h += n }\n\ttranslateY(n) { this.k += n }\n\tscaleX(n) { this.b = this.b.mul(n) }\n\tscaleY(n) { this.a = this.a.mul(n) }\n\t\n\tshiftH(n) { this.translateX(n) }\n\tshiftV(n) { this.translateY(n) }\n\tstretchH(n) { this.scaleX(n) }\n\tstretchV(n) { this.scaleY(n) }\n\tcompressH(n) { this.scaleX(fraction(1,n)) }\n\tcompressV(n) { this.scaleY(fraction(1,n)) }\n\treflectH() { this.b = -this.b }\n  reflectV() { this.a = -this.a }\n  up(n) { this.translateY(n) }\n  down(n) { this.translateY(-n) }\n\n\tf() {\n\t\tconst parent = {\n\t\t\t'abs': x => Math.abs(x),\n\t\t\t'cubic': x => x*x*x,\n\t\t\t'exp2': x => Math.pow(2,x),\n\t\t\t'log2': x => Math.log2(x),\n\t\t\t'quad': x => x*x,\n\t\t\t'sqrt': x => Math.sqrt(x),\n\t\t}[this.parent]\n\t\tconst {a, b, h, k} = this\n\t\treturn x => a * parent((x - h)/b) + k \n  }\n  \n  vgTransform() {\n    return ({type: 'matrix', params: [this.b.valueOf(), 0, 0, this.a.valueOf(), this.h, this.k]})\n  }\n\n\ttoLatex() {\n\t\tPolynomial.setField('Q')\n\t\tconst {parent, a, b, h, k} = this\n\t\tconst inner = new Polynomial([fraction(-h).div(b), fraction(1).div(b)]).toLatex()\n\t\tconst kStr = k === 0 ? '' : k < 0 ? k.toString() : '+' + k.toString()\n\t\tconst aStr = a == 1 ? '' : a == -1 ? '-' : a.toString()\n\t\tif (parent === 'sqrt') {\n\t\t\treturn `${aStr}\\\\sqrt{${inner}}${kStr}`\n\t\t}\n\t\tif (parent === 'quad') {\n\t\t\tif (b == 1 && h === 0) {\n\t\t\t\treturn `${aStr}x^2${kStr}`\n\t\t\t}\n\t\t\treturn `${aStr}(${inner})^2${kStr}`\n\t\t}\n\t\tif (parent === 'cubic') {\n\t\t\tif (b == 1 && h === 0) {\n\t\t\t\treturn `${aStr}x^3${kStr}`\n\t\t\t}\n\t\t\treturn `${aStr}(${inner})^3${kStr}`\n\t\t}\n\t\tif (parent === 'abs') {\n\t\t\treturn `${aStr}|${inner}|${kStr}`\n\t\t}\n\t\tif (parent === 'exp2') {\n\t\t\tif (aStr) {\n\t\t\t\treturn `${aStr} \\\\cdot 2^{${inner}}${kStr}`\n\t\t\t}\n\t\t\treturn `${aStr}2^{${inner}}${kStr}`\n\t\t}\n\t\tif (parent === 'log2') {\n\t\t\treturn `${aStr}\\\\log_{2}(${inner})${kStr}`\n\t\t}\n\t}\n}\n\n\n\n\n\n\nexport class MatchTransformations extends QGen {\n\tstatic info = {\n\t\tname: 'Match Transformations',\n\t\tdescription: 'Match equations with graphs'\n\t}\n\n\tstatic params = {\n\t\tparents: {\n\t\t\tlabel: 'Allowed Parent Functions',\n\t\t\ttype: 'multipleselect',\n\t\t\toptions: [\n\t\t\t\t{value: 'sqrt', label: 'Square root'},\n\t\t\t\t{value: 'quad', label: 'Quadratic'},\n\t\t\t\t{value: 'abs', label: 'Absolute value'},\n\t\t\t\t{value: 'cubic', label: 'Cubic'}, // cubic is problematic because reflections are ambiguous\n\t\t\t\t{value: 'exp2', label: 'Exponential'},\n\t\t\t\t{value: 'log2', label: 'Logarithm'},\n\t\t\t],\n\t\t\tdefault: ['sqrt', 'quad', 'abs', 'exp2', 'log2'],\n\t\t}\n\t}\n\n\t//static options = {\n\t//\tlayout: ['instructions', 'question', ['answer', 'diagram']]\n\t//}\n\n\tgenerate(params) {\n\t\tconst rd = this.random\n\n\t\tconst parent = rd.choice(params.parents)\n\n\t\tconst transforms = (\n\t\t\tparent === 'cubic' \n\t\t\t? ['up', 'down', 'left', 'right', 'stretchV', rd.choice(['flipLR', 'flipDown'])]\n\t\t\t: ['up', 'down', 'left', 'right', 'flipDown', 'flipLR']\n\t\t)\n\t\t\n\t\tlet eqns = []\n\t\tlet paths = []\n\n\t\tconst v = rd.randint(2,5)\n\t\tfor (const t of transforms) {\n\t\t\tconst func = new TransformTracker(parent)\n\n\t\t\tif (t === 'up') func.shiftV(v)\n\t\t\telse if (t === 'down') func.shiftV(-v)\n\t\t\telse if (t === 'left') func.shiftH(-v)\n\t\t\telse if (t === 'right') func.shiftH(v)\n\t\t\telse if (t === 'stretchV') func.stretchV(v)\n\t\t\telse if (t === 'flipDown') func.stretchV(-v)\n\t\t\telse if (t === 'stretchH') func.stretchH(v)\n\t\t\telse if (t === 'flipLR') func.compressH(-v)\n\n\t\t\tconst eqn = func.toLatex()\n      eqns.push(`$$y = ${eqn}$$`)\n\n\t\t\tconst f = func.f()\n\t\t\tconst points = []\n\t\t\tlet start, stop\n\t\t\tconst {a, b, h, k} = func\n\t\t\tif (func.parent === 'sqrt') {\n\t\t\t\t[start, stop] = b < 0 ? [-10, h*b] : [h*b, 10]\n\t\t\t}\n\t\t\telse if (func.parent === 'log2') {\n\t\t\t\tif (b < 0) {\n\t\t\t\t\t[start, stop] = [-10, h*b-0.01]\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t[start, stop] = [h*b+0.01, 10]\n\t\t\t\t\tpoints.push({x: h*b, y: -a*1000})\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t[start, stop] = [-10, 10]\n\t\t\t}\n\t\t\tlet x = start\n\t\t\twhile (x <= stop) {\n\t\t\t\tconst y = f(x)\n\t\t\t\tpoints.push({x, y})\n\t\t\t\tx += 0.2\n\t\t\t}\n\t\t\tif (func.parent === 'log2' && b < 0) {\n\t\t\t\tpoints.push({x: h*b, y: -a*1000})\n\t\t\t}\n      paths.push(points)\n\t\t}\n\n\t\tconst graphPoints = points => [\n\t\t\t'CoordinatePlane', \n\t\t\t{ span: [-7,-7,7,7], height: '1.1in' },\n\t\t\t['Path', { points }]\n\t\t]\n\n\t\tconst eqnScramble = rd.shuffleRange(0, 5)\n\t\tconst graphScramble = rd.shuffleRange(0, 5)\n\n\t\tconst letters = 'ABCDEF'\n\n\t\tconst makebox = i => [\n\t\t\t'Container', \n\t\t\t{direction: 'row', alignItems: 'center'}, \n\t\t\tletters[i] + ')',\n\t\t\tgraphPoints(paths[graphScramble[i]])\n\t\t]\n\n\t\tconst diagrams = [\n\t\t\t'Table', {border: false},\n\t\t\t['TRow', ...[0,1,2].map(makebox)],\n\t\t\t['TRow', ...[3,4,5].map(makebox)]\n\t\t]\n\n\t\tconst eqnTable = [\n\t\t\t'Table', {border: true, align: 'c|c'},\n\t\t\t['TRow', {header: true, border: true}, 'Equation', 'Graph'],\n\t\t\t...eqnScramble.map(i => (\n\t\t\t\t['TRow', {border: true}, eqns[i], ['EmptySpace', {height: '7mm', width: '7mm'}]]\n\t\t\t))\n\t\t]\n\n\n\t\tconst answer = eqnScramble.map(i => letters[graphScramble.indexOf(i)]).join(', ')\n\n\t\treturn {\n\t\t\tinstructions: 'Fill in the table to match each equation to its graph.',\n\t\t\tdiagram: diagrams,\n\t\t\tanswer: {\n\t\t\t\tprompt: eqnTable,\n\t\t\t\tcorrect: answer,\n\t\t\t}\n\t\t}\n\n\t}\n}\n","import QGen from './QGen'\n\n\n\nconst scramble = function(str, digitmap, slotmap) {\n  return slotmap.map(s => digitmap[+str[s]]).join('')\n}\n\nexport class PicoFermiInstructions {\n\n  static register() {\n    return {\n      name: 'Pico-fermi instructions',\n      description: 'How to play pico-fermi'\n    }\n  }\n\n  output() {\n    return ['Text', null, [\n      'In the game _Pico Fermi_, players try to guess a secret 4-digit number.',\n      'Each of the digits can be from 0 to 9 (leading zeros are allowed,',\n      \"such as 0083). After each guess, players are given a hint. A _fermi_ (f)\",\n      'is given for each number in the guess that is in the correct position,',\n      \"and a _pico_ (p) is given for each number in the guess that is correct but\",\n      'in the wrong position. For example, if the secret number was 7751 and',\n      \"the guess was 1734, the player would be told _pico fermi_, because the\",\n      \"1 was correct but in the wrong position (_pico_), and the 7 was both\",\n      \"correct and in the correct position (_fermi_). Based on the number of\",\n      \"_picos_ and _fermis_ received after each guess, a skilled player will soon\",\n      \"narrow down the possibilities to the correct one.\",\n    ].join(' ')]\n  }\n}\n\nexport class PicoFermi extends QGen {\n  static info = {\n    name: 'Pico-fermi',\n    description: 'A logic puzzle'\n  }\n\n  static options = {\n    singleColumn: true,\n  }\n\n  generate(params) {\n    const rd = this.random\n    const template = Templates[rd.choice(Object.keys(Templates))]\n    const slotmap = rd.shuffleRange(0,3)\n    const digitmap = rd.shuffleRange(0,9)\n    const answer = scramble(template.answer, digitmap, slotmap)\n    const clues = rd.shuffle(Object.keys(template.clues)).map(c => [\n      scramble(c, digitmap, slotmap), template.clues[c]\n    ])\n\n    const puzzle = [\n      'Table', {align: 'r|l'},\n      //['TRow', {header: true, align: 'rl'}, 'Guess', 'Clue'],\n      ...clues.map((c, i) => (\n        ['TRow', {border: false}, c[0], c[1]]\n      ))\n    ]\n\n    const blank = ['EmptySpace', {width: '7mm', height: '7mm', border: 'bottom'}]\n    const gap = ['EmptySpace', {width: '2mm'}]\n\n    const instructions = [\n      'The following '\n    ].join(' ')\n\n    return {\n      instructions: 'The following game of _Pico Fermi_ has only one possible solution. What is it?',\n      question: puzzle,\n      answer: {\n        correct: answer,\n        prompt: [\n          'Container', {direction: 'row'}, \n          blank, gap, blank, gap, blank, gap, blank\n        ],\n      },\n      layout: ['instructions', 'question', 'diagram', 'answer'],\n    }\n    \n  }\n}\n\nexport class PicoFermiSet extends QGen {\n  static info = {\n    name: 'Pico-fermi set',\n    description: 'A set of puzzles of similar difficulty'\n  }\n\n  generate(params) {\n    const rd = this.random\n    const template = Templates[rd.choice(Object.keys(Templates))]\n    \n    const versions = []\n    const answers = []\n    for (const i of [1,2,3,4,5,6]) {\n      const slotmap = rd.shuffleRange(0,3)\n      const digitmap = rd.shuffleRange(0,9)\n      const clues = rd.shuffle(Object.keys(template.clues)).map(c => [\n        scramble(c, digitmap, slotmap),\n        template.clues[c]\n      ])\n      versions.push(clues)\n      answers.push(scramble(template.answer, digitmap, slotmap))\n    }\n    \n    const answer = answers.join(', ')\n\n    const makeTable = clues => [\n      'Table', {border: false, align: 'r|l'},\n      ['TRow', {header: true, border: 'bottom'}, 'Guess', 'Clue'],\n      ...clues.map((c, i) => (\n        ['TRow', {align: 'r|l', border: false}, c[0], c[1]]\n      ))\n    ]\n    \n    const question = ['Container', {direction: 'row'}]\n    for (const v of versions) {\n      question.push(['EmptySpace', {width: '5mm'}])\n      question.push(makeTable(v))\n    }\n\n    return ({\n      question, \n      answer: {\n        correct: answer,\n        prompt: null,\n      },\n      layout: ['instructions', 'diagram', 'question', 'answer'],\n    })\n  }\n}\n\n\n\nconst Templates = {\n  Easy01: {\n    \"answer\": \"1295\", \n    \"clues\": {\n      \"2637\": \"p\", \n      \"0018\": \"p\", \n      \"0123\": \"pp\", \n      \"1034\": \"f\", \n      \"3352\": \"pp\"\n    }\n  },\n\n  Easy02: {\n    \"answer\": \"6779\", \n    \"clues\": {\n      \"5704\": \"f\", \n      \"5607\": \"pp\", \n      \"5109\": \"f\", \n      \"6972\": \"pff\"\n    }\n  },\n  \n\n  Easy03: {\n    \"answer\": \"3276\", \n    \"clues\": {\n      \"1670\": \"pf\", \n      \"4567\": \"pp\", \n      \"0123\": \"pp\", \n      \"1245\": \"f\", \n      \"1376\": \"pff\"\n    }\n  },\n\n  Easy04: {\n    \"answer\": \"5132\", \n    \"clues\": {\n      \"4312\": \"ppf\", \n      \"6543\": \"pp\", \n      \"4129\": \"pf\", \n      \"4230\": \"pf\"\n    }\n  },\n\n  Easy05: {\n    \"answer\": \"3606\", \n    \"clues\": {\n      \"0660\": \"ppf\", \n      \"0386\": \"ppf\", \n      \"2030\": \"pp\"\n    }\n  },\n\n  Easy06: {\n    \"answer\": \"3423\", \n    \"clues\": {\n      \"3773\": \"ff\", \n      \"2790\": \"p\", \n      \"7243\": \"ppf\", \n      \"8467\": \"f\"\n    }\n  },\n\n  Easy07: {\n    \"answer\": \"5938\", \n    \"clues\": {\n      \"5809\": \"ppf\", \n      \"3899\": \"ppp\", \n      \"7243\": \"p\", \n      \"5593\": \"ppf\"\n    }\n  },\n\n  Hard01: {\n    \"answer\": \"7225\", \n    \"clues\": {\n      \"9120\": \"f\", \n      \"7573\": \"pf\", \n      \"2450\": \"pp\", \n      \"5320\": \"pf\", \n      \"8685\": \"f\"\n    }\n  },\n\n  Hard02: {\n    \"answer\": \"2664\", \n    \"clues\": {\n      \"4567\": \"pf\", \n      \"3210\": \"p\", \n      \"5409\": \"p\", \n      \"4608\": \"pf\", \n      \"1064\": \"ff\"\n    }\n  },\n\n  Hard03: {\n    \"answer\": \"6974\", \n    \"clues\": {\n      \"4989\": \"pf\", \n      \"2954\": \"ff\", \n      \"9724\": \"ppf\", \n      \"6139\": \"pf\", \n      \"7243\": \"pp\"\n    }\n  },\n\n  NoFour: {\n    \"answer\": \"2653\", \n    \"clues\": {\n      \"4563\": \"ppf\", \n      \"4615\": \"pf\", \n      \"4652\": \"pff\"\n    }\n  },\n\n  NoEight: {\n    \"answer\": \"2497\", \n    \"clues\": {\n      \"4786\": \"pp\", \n      \"8547\": \"pf\", \n      \"0843\": \"p\", \n      \"9289\": \"pp\", \n      \"8965\": \"p\"\n    }\n  },\n\n  AllPicos: {\n    \"answer\": \"0722\", \n    \"clues\": {\n      \"2486\": \"p\", \n      \"7867\": \"p\", \n      \"4573\": \"p\", \n      \"5608\": \"p\", \n      \"9310\": \"p\"\n    }\n  },\n\n  VeryHard: {\n    \"answer\": \"7583\", \n    \"clues\": {\n      \"9372\": \"pp\", \n      \"1047\": \"p\", \n      \"0235\": \"pp\", \n      \"3627\": \"pp\", \n      \"4753\": \"ppf\"\n    }\n  }\n}","import React from 'react';\nimport { connect } from 'react-redux';\nimport ReactModal from 'react-modal';\nimport {\n  Preview,\n  SideBar,\n  StatusBar,\n  TopBar,\n  Wrapper,\n} from '../components'\nimport Document from './Document/Document'\nimport CustomQuestion from './CustomQuestion'\nimport Notes from './Notes'\nimport { CheckStateButton } from './Debug'\nimport SettingsPage, {\n  AllowEditingToggle,\n  AnswerKeyToggle,\n  FixPagination,\n  FontFamily,\n  FontSize,\n  GUImode,\n  PageMargin,\n  PreviewZoom,\n  StartNumbering\n} from './Settings'\n\n\nimport '../stylesheets/styles.global.css'\n\nimport {\n  addToDocument,\n  removeLast,\n  clearAll,\n} from '../actions/document'\n\nimport {\n  examplequestions, transformations, demogenerators, picofermi\n} from '../questions'\n\n\nlet questionBank = {}\nfor (const set of [examplequestions, transformations]) {\n  for (const q in set) {\n    const n = set[q].register().name\n    questionBank[n] = set[q]\n  }\n}\n\nfor (const set of [demogenerators, picofermi]) {\n  for (const q in set) {\n    const n = '_ ' + set[q].register().name\n    questionBank[n] = set[q]\n  }\n}\n\n\n\nReactModal.setAppElement('#root')\nObject.assign(ReactModal.defaultStyles.content, {\n  borderRadius: '4px',\n  borderColor: 'var(--ui-border-1, #999)',\n  background: 'var(--ui-bg-1, #eee)',\n  padding: '5mm',\n  top: '10px',\n  left: '10px',\n  right: '10px',\n  bottom: '10px',\n})\nObject.assign(ReactModal.defaultStyles.overlay, {\n  background: 'rgba(10,10,10,0.3)',\n})\n\n\n//let questionID = 0;\n\nclass AppWrapper extends React.Component {\n  constructor(props) {\n    super(props)\n    this.questionTypeSelect = React.createRef()\n    this.state = {\n      modal: 'none',\n    }\n  }\n\n  addToDoc = (elem) => {\n    this.props.addToDocument(elem)\n  }\n\n  generateAndAdd = () => {\n    const questionType = this.questionTypeSelect.current.value\n    if (questionType !== '__NONE__') {\n      console.log(`Generating ${questionType}`)\n      try {\n        const qtype = this.props.questionTypes[questionType]\n        const question = new qtype()\n        this.addToDoc(question.output())\n      } catch(e) {\n        console.log('failed')\n        console.log(e)\n      }\n    }\n  }\n\n  closeModal = () => this.setState({modal: 'none'})\n  openRpcTest = () => this.setState({modal: 'RpcTest'})\n  openCustomQuestion = () => this.setState({modal: 'CustomQuestion'})\n  openSettings = () => this.setState({modal: 'Settings'})\n  \n  renderQuestionList() {\n    const sortfunc = (a, b) => {\n      const A = a.toUpperCase(), B = b.toUpperCase()\n      if (A > B) return 1\n      if (A < B) return -1\n      return 0\n    }\n\n    return Object.keys(this.props.questionTypes).sort(sortfunc).map(k => {\n      const register = this.props.questionTypes[k].register()\n      return (\n        <option key={`qtype${k}`} \n          title={register.description}\n          value={k} >\n          {k}\n        </option>\n      )\n    })\n  }\n\n  render() {\n    const toplabel = {margin: '0 0 0 0.5em'}\n    return (\n      <Wrapper >\n        {/* customTitleBar ? <TitleBar /> : null */}\n        <TopBar>\n          <button onClick={window.print}>Print / PDF</button>\n          <button onClick={this.openSettings}>Settings</button>\n          <span style={toplabel}>Answer Key:</span><AnswerKeyToggle />\n          <span style={toplabel}>Start Numbers:</span><StartNumbering />\n          <span style={toplabel}>Font:</span><FontFamily/><FontSize />\n          <span style={toplabel}>Margins:</span><PageMargin />\n          <span style={toplabel}>Zoom:</span><PreviewZoom defaultValue=\"110\"/>\n          <span style={toplabel}>Allow Editing:</span><AllowEditingToggle />\n          <div style={{width: '3mm'}} />\n          <FixPagination/>\n        </TopBar>\n        <Preview>\n          <Document/>\n        </Preview>\n        <SideBar>\n          <select ref={this.questionTypeSelect} defaultValue='__NONE__'>\n            <option value='__NONE__' disabled>Question Type</option>\n            <option value='__NONE__' disabled>-------</option>\n            {this.renderQuestionList()}\n          </select>\n          <button onClick={this.generateAndAdd}>Add</button>\n          <button onClick={this.openCustomQuestion}>Custom Question</button>\n          <button onClick={this.props.removeLast}>Remove Last</button>\n          <button onClick={this.props.clearAll}>Clear All</button>\n          <div style={{height: '1in'}}></div>\n          <GUImode/>\n          <button onClick={() => this.setState({modal: 'Notes'})}>Notes</button>\n          <CheckStateButton>Log State</CheckStateButton>\n        </SideBar>\n        { this.props.statusBar ? <StatusBar><span>{this.props.statusBar}</span></StatusBar> : null }\n\n        <ReactModal\n          isOpen={this.state.modal === 'Settings'}\n          onRequestClose={this.closeModal}\n          style={{\n            content: {\n              top: '0',\n              bottom: 0,\n              left: 0,\n              right: 0,\n              padding: 0,\n            },\n            overlay: {\n              background: 'none',\n              backgroundColor: 'none',\n            }\n          }}\n        >\n          <SettingsPage onRequestClose={this.closeModal}/>\n        </ReactModal>\n\n        <ReactModal\n          isOpen={this.state.modal === 'CustomQuestion'}\n          onRequestClose={this.closeModal}\n        >\n          <CustomQuestion onRequestClose={this.closeModal}/>\n          <button onClick={this.closeModal}>Close</button>\n        </ReactModal>\n\n        <ReactModal\n          isOpen={this.state.modal === 'Notes'}\n          onRequestClose={this.closeModal}\n          style={{\n            content: {\n              width: '4in',\n              top: '1in',\n              left: '1in',\n              right: 'unset',\n              bottom: 'unset',\n              color: 'black',\n              backgroundColor: 'var(--ui-page, white)',\n            }\n          }}\n        >\n          <Notes onRequestClose={this.closeModal} />\n        </ReactModal>\n\n      </Wrapper>\n    )\n\n  }\n}\n\nconst mapStateToProps = state => ({\n  questionTypes: questionBank,\n  statusBar: \"\",\n  fontFamilyUI: state.config.fontFamilyUI,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  addToDocument: q => dispatch(addToDocument(q)),\n  removeLast: () => dispatch(removeLast()),\n  clearAll: () => dispatch(clearAll()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AppWrapper)","import React from 'react';\nimport { Provider } from 'react-redux';\nimport App from './App'\n\n\nexport default class Root extends React.Component {\n  render() {\n    const { store } = this.props;\n    return (\n      <Provider store={store}>\n        <App />\n      </Provider>\n    )\n  }\n}\n","import {\n  ADD_TO_DOCUMENT,\n  CLEAR_ALL,\n  REMOVE_LAST,\n  UPDATE_ELEMENT,\n  UPDATE_HEADER,\n  SET_DOCUMENT_STARTNUMBERING,\n  ADD_PAGEBREAK_BEFORE,\n  DELETE_HEADER,\n  DELETE_ELEMENT,\n  CLEAR_PAGEBREAKS,\n} from '../actions/document'\n\n\n\nconst initialState = {\n  content: {},\n  order: [],\n  headers: {\n    '0': ['PageHeader', {rows: []}],\n    '1': [\n      'PageHeader', {\n        rows: [\n          ['Assignment', 'Name ___'],\n          [null, 'Date __ Class _'],\n        ]\n      }\n    ],\n  },\n  footers: {},\n  pagebreaks: [],\n  startNumbering: 1,\n}\n\nconst document = function(state=initialState, action) {\n  switch (action.type) {\n    // content\n    case ADD_TO_DOCUMENT:\n      return {\n        ...state, \n        content: {\n          ...state.content, \n          [+action.payload.id]: action.payload.element\n        },\n        order: [...state.order, +action.payload.id]\n      }\n    case CLEAR_ALL:\n      return {\n        ...state, \n        content: {},\n        order: [], \n        pagebreaks: [],\n      }\n    case REMOVE_LAST:\n      return {\n        ...state, \n        order: state.order.slice(0,-1), \n        pagebreaks: state.pagebreaks.filter(n => n < state.order.length),\n      }\n    case DELETE_HEADER:\n      const headers = {...state.headers}\n      if (+action.payload === 0 || +action.payload === 1) {\n        headers[+action.payload] = ['PageHeader', {rows: []}]\n        return {...state, headers}\n      } else {\n        delete headers[+action.payload]\n        return {...state, headers}\n      }\n    case DELETE_ELEMENT:\n      //Note that this does not remove the element from 'content', only from 'order'\n      return {\n        ...state, \n        order: state.order.filter(id => id !== +action.payload),\n        pagebreaks: state.pagebreaks.filter(n => n < state.order.length),\n      }\n    case UPDATE_HEADER:\n      return {\n        ...state, \n        headers: {...state.headers, [+action.payload.id]: action.payload.data}\n      }\n    case UPDATE_ELEMENT:\n      return {\n        ...state, \n        content: {...state.content, [+action.payload.id]: action.payload.data}\n      }\n\n\n    // settings\n    case SET_DOCUMENT_STARTNUMBERING:\n      return {...state, startNumbering: action.payload}\n\n\n\n    // view\n    case ADD_PAGEBREAK_BEFORE:\n      for (const i in state.order) {\n        if (state.order[i] === action.payload) {\n          return {...state, pagebreaks: [...state.pagebreaks, i]}\n        }\n      }\n      return state\n    case CLEAR_PAGEBREAKS:\n      return {...state, pagebreaks: []}\n      \n    \n    default:\n      return state\n  }\n}\n\nexport default document\n\n","import {\n  ADD_FONTFAMILY,\n  SET_ALLOW_EDITING,\n  SET_FONTFAMILY_UI,\n  SET_SHOW_ANSWERKEY,\n  SET_HIDDEN_COUNT,\n} from '../actions/config'\n\nconst initialState = {\n  //titleBarStyle: 'default',\n  localFonts: [],\n  fontFamilyUI: 'select',\n  showAnswerKey: true,\n  allowEditing: true,\n  numberHidden: 0,\n}\n\nconst config = function(state=initialState, action) {\n  switch(action.type) {\n    case ADD_FONTFAMILY:\n      return {\n        ...state, \n        localFonts: [\n          ...state.localFonts.filter(f => f.family !== action.payload.family), \n          action.payload\n        ]\n      }\n    case SET_ALLOW_EDITING:\n      return {...state, allowEditing: action.payload}\n    case SET_FONTFAMILY_UI:\n      return {...state, fontFamilyUI: action.payload}\n    case SET_SHOW_ANSWERKEY:\n      return {...state, showAnswerKey: action.payload}\n    case SET_HIDDEN_COUNT:\n      return {...state, numberHidden: action.payload}\n    default:\n      return state\n  }\n}\n\nexport default config","import {\n  SET_DOCUMENT_FONTFAMILY,\n  SET_DOCUMENT_FONTSIZE,\n  SET_MATH_FONTSIZE,\n  SET_MATH_FONTWEIGHT,\n  SET_PAGE_MARGIN,\n  UPDATE_GRAPHSTYLE,\n  RESET_GRAPHSTYLE,\n} from '../actions/style'\n\n\nconst initialState = {\n  columns: true,\n  fontFamily: 'serif',\n  fontSize: '8pt',\n  mathFontSize: '0.9em',\n  mathFontWeight: 'normal',\n  pageSize: 'letter',\n  pageOrientation: 'portrait',\n  pageMargin: '0.5in',\n  graph: {\n    asymptoteColor: '#888888',\n    asymptoteWidth: '0.6mm',\n    axisColor: '#111111',\n    axisWidth: '0.3mm',\n    gridColor: '#888888',\n    gridWidth: '0.1mm',\n    function1Color: '#ff2600',\n    function2Color: '#0080d9',\n    //plot3PathColor: '#70cc3e',\n    //plot4PathColor: '#ffa000',\n    functionWidth: '0.5mm',\n    //geomPathColor: '#337744',\n    geomColor: '#224466',\n    geomWidth: '0.5mm',\n    fillOpacity: '0.3',\n  },\n}\n\nconst style = function(state=initialState, action) {\n  switch(action.type) {\n    // Fonts\n    case SET_DOCUMENT_FONTFAMILY:\n      return {...state, fontFamily: action.payload}\n    case SET_DOCUMENT_FONTSIZE:\n      return {...state, fontSize: action.payload}\n    case SET_MATH_FONTSIZE:\n      return {...state, mathFontSize: action.payload}\n    case SET_MATH_FONTWEIGHT:\n      return {...state, mathFontWeight: action.payload}\n\n    // Page Layout\n    case SET_PAGE_MARGIN:\n      return {...state, pageMargin: action.payload}\n\n    // Graph Style\n    case UPDATE_GRAPHSTYLE:\n      return {...state, graph: {...state.graph, ...action.payload}}\n    case RESET_GRAPHSTYLE:\n      return {...state, graph: {...initialState.graph}}\n\n    default:\n      return state\n  }\n}\n\nexport default style","import { combineReducers } from 'redux'\nimport document from './document'\nimport config from './config'\nimport style from './style'\n\nconst rootReducer = combineReducers({\n  config, document, style\n})\n\nexport default rootReducer","import React from 'react';\nimport Root from './containers/Root';\nimport { createStore } from 'redux';\nimport rootReducer from './reducers';\n\nconst store = createStore(rootReducer);\n\nconst App = () => <Root store={store} />\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n"],"sourceRoot":""}